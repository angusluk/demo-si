var jge=Object.defineProperty;var Hge=(t,e,n)=>e in t?jge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var vS=(t,e,n)=>Hge(t,typeof e!="symbol"?e+"":e,n);import{r as reactExports,L as LocaleContext,l as localeValues,g as genStyleHooks,a as resetComponent,u as unit,C as ConfigContext,c as classNames,p as pickAttrs,b as CSSMotion,d as composeRef,R as RefIcon$5,e as RefIcon$6,f as RefIcon$7,h as RefIcon$8,i as RefIcon$9,_ as _getPrototypeOf,j as _possibleConstructorReturn,k as _isNativeReflectConstruct,m as _inherits,n as _createClass,o as _classCallCheck,q as _toConsumableArray,K as Keyframe,s as useSafeState,t as React,v as canUseDom,w as _slicedToArray,x as useLayoutEffect$1,y as updateCSS,z as removeCSS,A as supportRef,B as useComposeRef,D as reactDomExports,E as _objectSpread2,F as React$1,G as _typeof,H as _extends,I as contains,J as KeyCode,M as merge,N as useEvent,O as DisabledContextProvider,P as getConfirmLocale,Q as genFocusStyle,S as useCSSVarCls,T as useZIndex,U as zIndexContext,V as genSubStyleComponent,W as clearFix,X as ConfigProvider,Y as useToken,Z as CONTAINER_MAX_OFFSET,$ as unmount,a0 as render,a1 as globalConfig,a2 as _objectWithoutProperties,a3 as wrapperRaf,a4 as warning$1,a5 as _defineProperty,a6 as fillRef,a7 as isDOM,a8 as getShadowRoot,a9 as warningOnce,aa as _toArray,ab as findDOMNode,ac as useMemo,ad as TinyColor,ae as textEllipsis,af as resetIcon,ag as Icon$1,ah as RefIcon$a,ai as DisabledContext,aj as devUseWarning,ak as commonjsGlobal,al as getDefaultExportFromCjs,am as EXPERIENCE_DURATION,an as isString,ao as getDefaultLanguageSelect,ap as mapToArray,aq as jsxRuntimeExports,ar as formatTime,as as useSelector,at as inputToRGB,au as rgbToHsv,av as rgbToHex,aw as CloseOutlined$1,ax as LoadingOutlined$1,ay as useDispatch,az as LANGUAGE_OPTIONS,aA as addMessage,aB as LANGUAGE_LIST,aC as setCaptionLanguages,aD as useNavigate,aE as setTipSTTEnable,aF as setLocalAudioMute,aG as setLocalVideoMute,aH as setMemberListShow,aI as setDialogRecordShow,aJ as removeMenuItem,aK as addMenuItem,aL as setCaptionShow,aM as isArabic,aN as getElementScrollY,aO as getCaptionScrollPX,aP as setAIShow,aQ as AI_USER_CONTENT_OPTIONS,aR as AI_PROMPT_OPTIONS,aS as AI_PROMPT_PLACEHOLDER,aT as AI_RESULT_PLACEHOLDER,aU as formatTime2,aV as setRecordLanguageSelect,aW as downloadText,aX as useResizeObserver,aY as useMount,aZ as useMessage,a_ as setSubtitles,a$ as reset,b0 as setSttData,b1 as updateSubtitles,b2 as setLanguageSelect}from"./index-Dnqa_fZV.js";import{C as ContextIsolator,u as useMergedState,R as RefResizeObserver,a as RefIcon$b,b as useVariant,F as FormItemInputContext,g as getStatusClassNames,c as getMergedStatus,d as useTranslation,I as Input$1}from"./useTranslation-CPAkDPXn.js";import{r as replaceElement,B as Button,c as convertLegacyProps,o as omit,i as isVisible,t as toArray$2,g as genCompactItemStyle,u as useCompactItemContext,a as useSize,b as isFragment,d as cloneElement,C as Compact,e as useStyle$6}from"./button-CgOvMIeJ.js";const useLocale=(t,e)=>{const n=reactExports.useContext(LocaleContext),i=reactExports.useMemo(()=>{var g;const l=e||localeValues[t],C=(g=n==null?void 0:n[t])!==null&&g!==void 0?g:{};return Object.assign(Object.assign({},typeof l=="function"?l():l),C||{})},[t,e,n]),s=reactExports.useMemo(()=>{const g=n==null?void 0:n.locale;return n!=null&&n.exist&&!g?localeValues.locale:g},[n]);return[i,s]},PresetColors=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function genPresetColor(t,e){return PresetColors.reduce((n,i)=>{const s=t[`${i}1`],g=t[`${i}3`],l=t[`${i}6`],C=t[`${i}7`];return Object.assign(Object.assign({},n),e(i,{lightColor:s,lightBorderColor:g,darkColor:l,textColor:C}))},{})}const genAlertTypeStyle=(t,e,n,i,s)=>({background:t,border:`${unit(i.lineWidth)} ${i.lineType} ${e}`,[`${s}-icon`]:{color:n}}),genBaseStyle$3=t=>{const{componentCls:e,motionDurationSlow:n,marginXS:i,marginSM:s,fontSize:g,fontSizeLG:l,lineHeight:C,borderRadiusLG:p,motionEaseInOutCirc:B,withDescriptionIconSize:Q,colorText:y,colorTextHeading:_,withDescriptionPadding:S,defaultPadding:w}=t;return{[e]:Object.assign(Object.assign({},resetComponent(t)),{position:"relative",display:"flex",alignItems:"center",padding:w,wordWrap:"break-word",borderRadius:p,[`&${e}-rtl`]:{direction:"rtl"},[`${e}-content`]:{flex:1,minWidth:0},[`${e}-icon`]:{marginInlineEnd:i,lineHeight:0},"&-description":{display:"none",fontSize:g,lineHeight:C},"&-message":{color:_},[`&${e}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${n} ${B}, opacity ${n} ${B},
        padding-top ${n} ${B}, padding-bottom ${n} ${B},
        margin-bottom ${n} ${B}`},[`&${e}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${e}-with-description`]:{alignItems:"flex-start",padding:S,[`${e}-icon`]:{marginInlineEnd:s,fontSize:Q,lineHeight:0},[`${e}-message`]:{display:"block",marginBottom:i,color:_,fontSize:l},[`${e}-description`]:{display:"block",color:y}},[`${e}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},genTypeStyle=t=>{const{componentCls:e,colorSuccess:n,colorSuccessBorder:i,colorSuccessBg:s,colorWarning:g,colorWarningBorder:l,colorWarningBg:C,colorError:p,colorErrorBorder:B,colorErrorBg:Q,colorInfo:y,colorInfoBorder:_,colorInfoBg:S}=t;return{[e]:{"&-success":genAlertTypeStyle(s,i,n,t,e),"&-info":genAlertTypeStyle(S,_,y,t,e),"&-warning":genAlertTypeStyle(C,l,g,t,e),"&-error":Object.assign(Object.assign({},genAlertTypeStyle(Q,B,p,t,e)),{[`${e}-description > pre`]:{margin:0,padding:0}})}}},genActionStyle=t=>{const{componentCls:e,iconCls:n,motionDurationMid:i,marginXS:s,fontSizeIcon:g,colorIcon:l,colorIconHover:C}=t;return{[e]:{"&-action":{marginInlineStart:s},[`${e}-close-icon`]:{marginInlineStart:s,padding:0,overflow:"hidden",fontSize:g,lineHeight:unit(g),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${n}-close`]:{color:l,transition:`color ${i}`,"&:hover":{color:C}}},"&-close-text":{color:l,transition:`color ${i}`,"&:hover":{color:C}}}}},prepareComponentToken$5=t=>({withDescriptionIconSize:t.fontSizeHeading3,defaultPadding:`${t.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`}),useStyle$5=genStyleHooks("Alert",t=>[genBaseStyle$3(t),genTypeStyle(t),genActionStyle(t)],prepareComponentToken$5);var __rest$a=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const iconMapFilled={success:RefIcon$6,info:RefIcon$7,error:RefIcon$8,warning:RefIcon$9},IconNode=t=>{const{icon:e,prefixCls:n,type:i}=t,s=iconMapFilled[i]||null;return e?replaceElement(e,reactExports.createElement("span",{className:`${n}-icon`},e),()=>({className:classNames(`${n}-icon`,{[e.props.className]:e.props.className})})):reactExports.createElement(s,{className:`${n}-icon`})},CloseIconNode=t=>{const{isClosable:e,prefixCls:n,closeIcon:i,handleClose:s,ariaProps:g}=t,l=i===!0||i===void 0?reactExports.createElement(RefIcon$5,null):i;return e?reactExports.createElement("button",Object.assign({type:"button",onClick:s,className:`${n}-close-icon`,tabIndex:0},g),l):null},Alert$1=reactExports.forwardRef((t,e)=>{const{description:n,prefixCls:i,message:s,banner:g,className:l,rootClassName:C,style:p,onMouseEnter:B,onMouseLeave:Q,onClick:y,afterClose:_,showIcon:S,closable:w,closeText:O,closeIcon:P,action:K,id:M}=t,U=__rest$a(t,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[F,W]=reactExports.useState(!1),ae=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>({nativeElement:ae.current}));const{getPrefixCls:_r,direction:_t,alert:_A}=reactExports.useContext(ConfigContext),na=_r("alert",i),[oa,ha,fa]=useStyle$5(na),Da=_E=>{var Bh;W(!0),(Bh=t.onClose)===null||Bh===void 0||Bh.call(t,_E)},ga=reactExports.useMemo(()=>t.type!==void 0?t.type:g?"warning":"info",[t.type,g]),ma=reactExports.useMemo(()=>typeof w=="object"&&w.closeIcon||O?!0:typeof w=="boolean"?w:P!==!1&&P!==null&&P!==void 0?!0:!!(_A!=null&&_A.closable),[O,P,w,_A==null?void 0:_A.closable]),Ra=g&&S===void 0?!0:S,$a=classNames(na,`${na}-${ga}`,{[`${na}-with-description`]:!!n,[`${na}-no-icon`]:!Ra,[`${na}-banner`]:!!g,[`${na}-rtl`]:_t==="rtl"},_A==null?void 0:_A.className,l,C,fa,ha),Ka=pickAttrs(U,{aria:!0,data:!0}),_u=reactExports.useMemo(()=>{var _E,Bh;return typeof w=="object"&&w.closeIcon?w.closeIcon:O||(P!==void 0?P:typeof(_A==null?void 0:_A.closable)=="object"&&(!((_E=_A==null?void 0:_A.closable)===null||_E===void 0)&&_E.closeIcon)?(Bh=_A==null?void 0:_A.closable)===null||Bh===void 0?void 0:Bh.closeIcon:_A==null?void 0:_A.closeIcon)},[P,w,O,_A==null?void 0:_A.closeIcon]),Uc=reactExports.useMemo(()=>{const _E=w??(_A==null?void 0:_A.closable);return typeof _E=="object"?__rest$a(_E,["closeIcon"]):{}},[w,_A==null?void 0:_A.closable]);return oa(reactExports.createElement(CSSMotion,{visible:!F,motionName:`${na}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:_E=>({maxHeight:_E.offsetHeight}),onLeaveEnd:_},(_E,Bh)=>{let{className:_I,style:zf}=_E;return reactExports.createElement("div",Object.assign({id:M,ref:composeRef(ae,Bh),"data-show":!F,className:classNames($a,_I),style:Object.assign(Object.assign(Object.assign({},_A==null?void 0:_A.style),p),zf),onMouseEnter:B,onMouseLeave:Q,onClick:y,role:"alert"},Ka),Ra?reactExports.createElement(IconNode,{description:n,icon:t.icon,prefixCls:na,type:ga}):null,reactExports.createElement("div",{className:`${na}-content`},s?reactExports.createElement("div",{className:`${na}-message`},s):null,n?reactExports.createElement("div",{className:`${na}-description`},n):null),K?reactExports.createElement("div",{className:`${na}-action`},K):null,reactExports.createElement(CloseIconNode,{isClosable:ma,prefixCls:na,closeIcon:_u,handleClose:Da,ariaProps:Uc}))}))});function _callSuper(t,e,n){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,n||[],_getPrototypeOf(t).constructor):e.apply(t,n))}let ErrorBoundary=function(t){function e(){var n;return _classCallCheck(this,e),n=_callSuper(this,e,arguments),n.state={error:void 0,info:{componentStack:""}},n}return _inherits(e,t),_createClass(e,[{key:"componentDidCatch",value:function(i,s){this.setState({error:i,info:s})}},{key:"render",value:function(){const{message:i,description:s,id:g,children:l}=this.props,{error:C,info:p}=this.state,B=(p==null?void 0:p.componentStack)||null,Q=typeof i>"u"?(C||"").toString():i,y=typeof s>"u"?B:s;return C?reactExports.createElement(Alert$1,{id:g,type:"error",message:Q,description:reactExports.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},y)}):l}}])}(reactExports.Component);const Alert=Alert$1;Alert.ErrorBoundary=ErrorBoundary;function usePatchElement(){const[t,e]=reactExports.useState([]),n=reactExports.useCallback(i=>(e(s=>[].concat(_toConsumableArray(s),[i])),()=>{e(s=>s.filter(g=>g!==i))}),[]);return[t,n]}const getTransitionName=(t,e,n)=>n!==void 0?n:`${t}-${e}`,initMotionCommon=t=>({animationDuration:t,animationFillMode:"both"}),initMotionCommonLeave=t=>({animationDuration:t,animationFillMode:"both"}),initMotion=function(t,e,n,i){const g=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${g}${t}-enter,
      ${g}${t}-appear
    `]:Object.assign(Object.assign({},initMotionCommon(i)),{animationPlayState:"paused"}),[`${g}${t}-leave`]:Object.assign(Object.assign({},initMotionCommonLeave(i)),{animationPlayState:"paused"}),[`
      ${g}${t}-enter${t}-enter-active,
      ${g}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${g}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},fadeIn=new Keyframe("antFadeIn",{"0%":{opacity:0},"100%":{opacity:1}}),fadeOut=new Keyframe("antFadeOut",{"0%":{opacity:1},"100%":{opacity:0}}),initFadeMotion=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{antCls:n}=t,i=`${n}-fade`,s=e?"&":"";return[initMotion(i,fadeIn,fadeOut,t.motionDurationMid,e),{[`
        ${s}${i}-enter,
        ${s}${i}-appear
      `]:{opacity:0,animationTimingFunction:"linear"},[`${s}${i}-leave`]:{animationTimingFunction:"linear"}}]},moveDownIn=new Keyframe("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveDownOut=new Keyframe("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),moveLeftIn=new Keyframe("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveLeftOut=new Keyframe("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),moveRightIn=new Keyframe("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveRightOut=new Keyframe("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),moveUpIn=new Keyframe("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),moveUpOut=new Keyframe("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),moveMotion={"move-up":{inKeyframes:moveUpIn,outKeyframes:moveUpOut},"move-down":{inKeyframes:moveDownIn,outKeyframes:moveDownOut},"move-left":{inKeyframes:moveLeftIn,outKeyframes:moveLeftOut},"move-right":{inKeyframes:moveRightIn,outKeyframes:moveRightOut}},initMoveMotion=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:s,outKeyframes:g}=moveMotion[e];return[initMotion(i,s,g,t.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},slideUpIn=new Keyframe("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),slideUpOut=new Keyframe("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideDownIn=new Keyframe("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),slideDownOut=new Keyframe("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),slideLeftIn=new Keyframe("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),slideLeftOut=new Keyframe("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),slideRightIn=new Keyframe("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),slideRightOut=new Keyframe("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),slideMotion={"slide-up":{inKeyframes:slideUpIn,outKeyframes:slideUpOut},"slide-down":{inKeyframes:slideDownIn,outKeyframes:slideDownOut},"slide-left":{inKeyframes:slideLeftIn,outKeyframes:slideLeftOut},"slide-right":{inKeyframes:slideRightIn,outKeyframes:slideRightOut}},initSlideMotion=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:s,outKeyframes:g}=slideMotion[e];return[initMotion(i,s,g,t.motionDurationMid),{[`
      ${i}-enter,
      ${i}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint,"&-prepare":{transform:"scale(1)"}},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},zoomIn=new Keyframe("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomOut=new Keyframe("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),zoomBigIn=new Keyframe("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),zoomBigOut=new Keyframe("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),zoomUpIn=new Keyframe("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),zoomUpOut=new Keyframe("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),zoomLeftIn=new Keyframe("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),zoomLeftOut=new Keyframe("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),zoomRightIn=new Keyframe("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),zoomRightOut=new Keyframe("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),zoomDownIn=new Keyframe("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),zoomDownOut=new Keyframe("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),zoomMotion={zoom:{inKeyframes:zoomIn,outKeyframes:zoomOut},"zoom-big":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-big-fast":{inKeyframes:zoomBigIn,outKeyframes:zoomBigOut},"zoom-left":{inKeyframes:zoomLeftIn,outKeyframes:zoomLeftOut},"zoom-right":{inKeyframes:zoomRightIn,outKeyframes:zoomRightOut},"zoom-up":{inKeyframes:zoomUpIn,outKeyframes:zoomUpOut},"zoom-down":{inKeyframes:zoomDownIn,outKeyframes:zoomDownOut}},initZoomMotion=(t,e)=>{const{antCls:n}=t,i=`${n}-${e}`,{inKeyframes:s,outKeyframes:g}=zoomMotion[e];return[initMotion(i,s,g,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${i}-enter,
        ${i}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${i}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]};function isThenable(t){return!!(t!=null&&t.then)}const ActionButton=t=>{const{type:e,children:n,prefixCls:i,buttonProps:s,close:g,autoFocus:l,emitEvent:C,isSilent:p,quitOnNullishReturnValue:B,actionFn:Q}=t,y=reactExports.useRef(!1),_=reactExports.useRef(null),[S,w]=useSafeState(!1),O=function(){g==null||g.apply(void 0,arguments)};reactExports.useEffect(()=>{let M=null;return l&&(M=setTimeout(()=>{var U;(U=_.current)===null||U===void 0||U.focus()})),()=>{M&&clearTimeout(M)}},[]);const P=M=>{isThenable(M)&&(w(!0),M.then(function(){w(!1,!0),O.apply(void 0,arguments),y.current=!1},U=>{if(w(!1,!0),y.current=!1,!(p!=null&&p()))return Promise.reject(U)}))},K=M=>{if(y.current)return;if(y.current=!0,!Q){O();return}let U;if(C){if(U=Q(M),B&&!isThenable(U)){y.current=!1,O(M);return}}else if(Q.length)U=Q(g),y.current=!1;else if(U=Q(),!isThenable(U)){O();return}P(U)};return reactExports.createElement(Button,Object.assign({},convertLegacyProps(e),{onClick:K,loading:S,prefixCls:i},s,{ref:_}),n)},ModalContext=React.createContext({}),{Provider:ModalContextProvider}=ModalContext,ConfirmCancelBtn=()=>{const{autoFocusButton:t,cancelButtonProps:e,cancelTextLocale:n,isSilent:i,mergedOkCancel:s,rootPrefixCls:g,close:l,onCancel:C,onConfirm:p}=reactExports.useContext(ModalContext);return s?React.createElement(ActionButton,{isSilent:i,actionFn:C,close:function(){l==null||l.apply(void 0,arguments),p==null||p(!1)},autoFocus:t==="cancel",buttonProps:e,prefixCls:`${g}-btn`},n):null},ConfirmOkBtn=()=>{const{autoFocusButton:t,close:e,isSilent:n,okButtonProps:i,rootPrefixCls:s,okTextLocale:g,okType:l,onConfirm:C,onOk:p}=reactExports.useContext(ModalContext);return React.createElement(ActionButton,{isSilent:n,type:l||"primary",actionFn:p,close:function(){e==null||e.apply(void 0,arguments),C==null||C(!0)},autoFocus:t==="ok",buttonProps:i,prefixCls:`${s}-btn`},g)};var OrderContext=reactExports.createContext(null),EMPTY_LIST=[];function useDom(t,e){var n=reactExports.useState(function(){if(!canUseDom())return null;var w=document.createElement("div");return w}),i=_slicedToArray(n,1),s=i[0],g=reactExports.useRef(!1),l=reactExports.useContext(OrderContext),C=reactExports.useState(EMPTY_LIST),p=_slicedToArray(C,2),B=p[0],Q=p[1],y=l||(g.current?void 0:function(w){Q(function(O){var P=[w].concat(_toConsumableArray(O));return P})});function _(){s.parentElement||document.body.appendChild(s),g.current=!0}function S(){var w;(w=s.parentElement)===null||w===void 0||w.removeChild(s),g.current=!1}return useLayoutEffect$1(function(){return t?l?l(_):_():S(),S},[t]),useLayoutEffect$1(function(){B.length&&(B.forEach(function(w){return w()}),Q(EMPTY_LIST))},[B]),[s,y]}function measureScrollbarSize(t){var e="rc-scrollbar-measure-".concat(Math.random().toString(36).substring(7)),n=document.createElement("div");n.id=e;var i=n.style;i.position="absolute",i.left="0",i.top="0",i.width="100px",i.height="100px",i.overflow="scroll";var s,g;if(t){var l=getComputedStyle(t);i.scrollbarColor=l.scrollbarColor,i.scrollbarWidth=l.scrollbarWidth;var C=getComputedStyle(t,"::-webkit-scrollbar"),p=parseInt(C.width,10),B=parseInt(C.height,10);try{var Q=p?"width: ".concat(C.width,";"):"",y=B?"height: ".concat(C.height,";"):"";updateCSS(`
#`.concat(e,`::-webkit-scrollbar {
`).concat(Q,`
`).concat(y,`
}`),e)}catch(w){console.error(w),s=p,g=B}}document.body.appendChild(n);var _=t&&s&&!isNaN(s)?s:n.offsetWidth-n.clientWidth,S=t&&g&&!isNaN(g)?g:n.offsetHeight-n.clientHeight;return document.body.removeChild(n),removeCSS(e),{width:_,height:S}}function getTargetScrollBarSize(t){return typeof document>"u"||!t||!(t instanceof Element)?{width:0,height:0}:measureScrollbarSize(t)}function isBodyOverflowing(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var UNIQUE_ID="rc-util-locker-".concat(Date.now()),uuid$3=0;function useScrollLocker(t){var e=!!t,n=reactExports.useState(function(){return uuid$3+=1,"".concat(UNIQUE_ID,"_").concat(uuid$3)}),i=_slicedToArray(n,1),s=i[0];useLayoutEffect$1(function(){if(e){var g=getTargetScrollBarSize(document.body).width,l=isBodyOverflowing();updateCSS(`
html body {
  overflow-y: hidden;
  `.concat(l?"width: calc(100% - ".concat(g,"px);"):"",`
}`),s)}else removeCSS(s);return function(){removeCSS(s)}},[e,s])}var inline=!1;function inlineMock(t){return inline}var getPortalContainer=function(e){return e===!1?!1:!canUseDom()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},Portal=reactExports.forwardRef(function(t,e){var n=t.open,i=t.autoLock,s=t.getContainer;t.debug;var g=t.autoDestroy,l=g===void 0?!0:g,C=t.children,p=reactExports.useState(n),B=_slicedToArray(p,2),Q=B[0],y=B[1],_=Q||n;reactExports.useEffect(function(){(l||n)&&y(n)},[n,l]);var S=reactExports.useState(function(){return getPortalContainer(s)}),w=_slicedToArray(S,2),O=w[0],P=w[1];reactExports.useEffect(function(){var oa=getPortalContainer(s);P(oa??null)});var K=useDom(_&&!O),M=_slicedToArray(K,2),U=M[0],F=M[1],W=O??U;useScrollLocker(i&&n&&canUseDom()&&(W===U||W===document.body));var ae=null;if(C&&supportRef(C)&&e){var _r=C;ae=_r.ref}var _t=useComposeRef(ae,e);if(!_||!canUseDom()||O===void 0)return null;var _A=W===!1||inlineMock(),na=C;return e&&(na=reactExports.cloneElement(C,{ref:_t})),reactExports.createElement(OrderContext.Provider,{value:F},_A?na:reactDomExports.createPortal(na,W))}),RefContext=reactExports.createContext({});function getUseId(){var t=_objectSpread2({},React$1);return t.useId}var uuid$2=0,useOriginId=getUseId();const useId$1=useOriginId?function(e){var n=useOriginId();return e||n}:function(e){var n=reactExports.useState("ssr-id"),i=_slicedToArray(n,2),s=i[0],g=i[1];return reactExports.useEffect(function(){var l=uuid$2;uuid$2+=1,g("rc_unique_".concat(l))},[]),e||s};function getMotionName(t,e,n){var i=e;return!i&&n&&(i="".concat(t,"-").concat(n)),i}function getScroll(t,e){var n=t["page".concat(e?"Y":"X","Offset")],i="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var s=t.document;n=s.documentElement[i],typeof n!="number"&&(n=s.body[i])}return n}function offset(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},i=t.ownerDocument,s=i.defaultView||i.parentWindow;return n.left+=getScroll(s),n.top+=getScroll(s,!0),n}const MemoChildren=reactExports.memo(function(t){var e=t.children;return e},function(t,e){var n=e.shouldUpdate;return!n});var sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none"},entityStyle={outline:"none"},Panel=React.forwardRef(function(t,e){var n=t.prefixCls,i=t.className,s=t.style,g=t.title,l=t.ariaId,C=t.footer,p=t.closable,B=t.closeIcon,Q=t.onClose,y=t.children,_=t.bodyStyle,S=t.bodyProps,w=t.modalRender,O=t.onMouseDown,P=t.onMouseUp,K=t.holderRef,M=t.visible,U=t.forceRender,F=t.width,W=t.height,ae=t.classNames,_r=t.styles,_t=React.useContext(RefContext),_A=_t.panel,na=useComposeRef(K,_A),oa=reactExports.useRef(),ha=reactExports.useRef();React.useImperativeHandle(e,function(){return{focus:function(){var _E;(_E=oa.current)===null||_E===void 0||_E.focus({preventScroll:!0})},changeActive:function(_E){var Bh=document,_I=Bh.activeElement;_E&&_I===ha.current?oa.current.focus({preventScroll:!0}):!_E&&_I===oa.current&&ha.current.focus({preventScroll:!0})}}});var fa={};F!==void 0&&(fa.width=F),W!==void 0&&(fa.height=W);var Da=C?React.createElement("div",{className:classNames("".concat(n,"-footer"),ae==null?void 0:ae.footer),style:_objectSpread2({},_r==null?void 0:_r.footer)},C):null,ga=g?React.createElement("div",{className:classNames("".concat(n,"-header"),ae==null?void 0:ae.header),style:_objectSpread2({},_r==null?void 0:_r.header)},React.createElement("div",{className:"".concat(n,"-title"),id:l},g)):null,ma=reactExports.useMemo(function(){return _typeof(p)==="object"&&p!==null?p:p?{closeIcon:B??React.createElement("span",{className:"".concat(n,"-close-x")})}:{}},[p,B,n]),Ra=pickAttrs(ma,!0),$a=_typeof(p)==="object"&&p.disabled,Ka=p?React.createElement("button",_extends({type:"button",onClick:Q,"aria-label":"Close"},Ra,{className:"".concat(n,"-close"),disabled:$a}),ma.closeIcon):null,_u=React.createElement("div",{className:classNames("".concat(n,"-content"),ae==null?void 0:ae.content),style:_r==null?void 0:_r.content},Ka,ga,React.createElement("div",_extends({className:classNames("".concat(n,"-body"),ae==null?void 0:ae.body),style:_objectSpread2(_objectSpread2({},_),_r==null?void 0:_r.body)},S),y),Da);return React.createElement("div",{key:"dialog-element",role:"dialog","aria-labelledby":g?l:null,"aria-modal":"true",ref:na,style:_objectSpread2(_objectSpread2({},s),fa),className:classNames(n,i),onMouseDown:O,onMouseUp:P},React.createElement("div",{ref:oa,tabIndex:0,style:entityStyle},React.createElement(MemoChildren,{shouldUpdate:M||U},w?w(_u):_u)),React.createElement("div",{tabIndex:0,ref:ha,style:sentinelStyle}))}),Content=reactExports.forwardRef(function(t,e){var n=t.prefixCls,i=t.title,s=t.style,g=t.className,l=t.visible,C=t.forceRender,p=t.destroyOnClose,B=t.motionName,Q=t.ariaId,y=t.onVisibleChanged,_=t.mousePosition,S=reactExports.useRef(),w=reactExports.useState(),O=_slicedToArray(w,2),P=O[0],K=O[1],M={};P&&(M.transformOrigin=P);function U(){var F=offset(S.current);K(_&&(_.x||_.y)?"".concat(_.x-F.left,"px ").concat(_.y-F.top,"px"):"")}return reactExports.createElement(CSSMotion,{visible:l,onVisibleChanged:y,onAppearPrepare:U,onEnterPrepare:U,forceRender:C,motionName:B,removeOnLeave:p,ref:S},function(F,W){var ae=F.className,_r=F.style;return reactExports.createElement(Panel,_extends({},t,{ref:e,title:i,ariaId:Q,prefixCls:n,holderRef:W,style:_objectSpread2(_objectSpread2(_objectSpread2({},_r),s),M),className:classNames(g,ae)}))})});Content.displayName="Content";var Mask$1=function(e){var n=e.prefixCls,i=e.style,s=e.visible,g=e.maskProps,l=e.motionName,C=e.className;return reactExports.createElement(CSSMotion,{key:"mask",visible:s,motionName:l,leavedClassName:"".concat(n,"-mask-hidden")},function(p,B){var Q=p.className,y=p.style;return reactExports.createElement("div",_extends({ref:B,style:_objectSpread2(_objectSpread2({},y),i),className:classNames("".concat(n,"-mask"),Q,C)},g))})},Dialog=function(e){var n=e.prefixCls,i=n===void 0?"rc-dialog":n,s=e.zIndex,g=e.visible,l=g===void 0?!1:g,C=e.keyboard,p=C===void 0?!0:C,B=e.focusTriggerAfterClose,Q=B===void 0?!0:B,y=e.wrapStyle,_=e.wrapClassName,S=e.wrapProps,w=e.onClose,O=e.afterOpenChange,P=e.afterClose,K=e.transitionName,M=e.animation,U=e.closable,F=U===void 0?!0:U,W=e.mask,ae=W===void 0?!0:W,_r=e.maskTransitionName,_t=e.maskAnimation,_A=e.maskClosable,na=_A===void 0?!0:_A,oa=e.maskStyle,ha=e.maskProps,fa=e.rootClassName,Da=e.classNames,ga=e.styles,ma=reactExports.useRef(),Ra=reactExports.useRef(),$a=reactExports.useRef(),Ka=reactExports.useState(l),_u=_slicedToArray(Ka,2),Uc=_u[0],_E=_u[1],Bh=useId$1();function _I(){contains(Ra.current,document.activeElement)||(ma.current=document.activeElement)}function zf(){if(!contains(Ra.current,document.activeElement)){var pQ;(pQ=$a.current)===null||pQ===void 0||pQ.focus()}}function oQ(pQ){if(pQ)zf();else{if(_E(!1),ae&&ma.current&&Q){try{ma.current.focus({preventScroll:!0})}catch{}ma.current=null}Uc&&(P==null||P())}O==null||O(pQ)}function gQ(pQ){w==null||w(pQ)}var yQ=reactExports.useRef(!1),NQ=reactExports.useRef(),uQ=function(){clearTimeout(NQ.current),yQ.current=!0},_B=function(){NQ.current=setTimeout(function(){yQ.current=!1})},IQ=null;na&&(IQ=function(aQ){yQ.current?yQ.current=!1:Ra.current===aQ.target&&gQ(aQ)});function SQ(pQ){if(p&&pQ.keyCode===KeyCode.ESC){pQ.stopPropagation(),gQ(pQ);return}l&&pQ.keyCode===KeyCode.TAB&&$a.current.changeActive(!pQ.shiftKey)}reactExports.useEffect(function(){l&&(_E(!0),_I())},[l]),reactExports.useEffect(function(){return function(){clearTimeout(NQ.current)}},[]);var dQ=_objectSpread2(_objectSpread2(_objectSpread2({zIndex:s},y),ga==null?void 0:ga.wrapper),{},{display:Uc?null:"none"});return reactExports.createElement("div",_extends({className:classNames("".concat(i,"-root"),fa)},pickAttrs(e,{data:!0})),reactExports.createElement(Mask$1,{prefixCls:i,visible:ae&&l,motionName:getMotionName(i,_r,_t),style:_objectSpread2(_objectSpread2({zIndex:s},oa),ga==null?void 0:ga.mask),maskProps:ha,className:Da==null?void 0:Da.mask}),reactExports.createElement("div",_extends({tabIndex:-1,onKeyDown:SQ,className:classNames("".concat(i,"-wrap"),_,Da==null?void 0:Da.wrapper),ref:Ra,onClick:IQ,style:dQ},S),reactExports.createElement(Content,_extends({},e,{onMouseDown:uQ,onMouseUp:_B,ref:$a,closable:F,ariaId:Bh,prefixCls:i,visible:l&&Uc,onClose:gQ,onVisibleChanged:oQ,motionName:getMotionName(i,K,M)}))))},DialogWrap=function(e){var n=e.visible,i=e.getContainer,s=e.forceRender,g=e.destroyOnClose,l=g===void 0?!1:g,C=e.afterClose,p=e.panelRef,B=reactExports.useState(n),Q=_slicedToArray(B,2),y=Q[0],_=Q[1],S=reactExports.useMemo(function(){return{panel:p}},[p]);return reactExports.useEffect(function(){n&&_(!0)},[n]),!s&&l&&!y?null:reactExports.createElement(RefContext.Provider,{value:S},reactExports.createElement(Portal,{open:n||s||y,autoDestroy:!1,getContainer:i,autoLock:n||y},reactExports.createElement(Dialog,_extends({},e,{destroyOnClose:l,afterClose:function(){C==null||C(),_(!1)}}))))};DialogWrap.displayName="Dialog";function pickClosable(t){if(t)return{closable:t.closable,closeIcon:t.closeIcon}}function useClosableConfig(t){const{closable:e,closeIcon:n}=t||{};return React.useMemo(()=>{if(!e&&(e===!1||n===!1||n===null))return!1;if(e===void 0&&n===void 0)return null;let i={closeIcon:typeof n!="boolean"&&n!==null?n:void 0};return e&&typeof e=="object"&&(i=Object.assign(Object.assign({},i),e)),i},[e,n])}function assignWithoutUndefined(){const t={};for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.forEach(s=>{s&&Object.keys(s).forEach(g=>{s[g]!==void 0&&(t[g]=s[g])})}),t}const EmptyFallbackCloseCollection={};function useClosable(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EmptyFallbackCloseCollection;const i=useClosableConfig(t),s=useClosableConfig(e),g=typeof i!="boolean"?!!(i!=null&&i.disabled):!1,l=React.useMemo(()=>Object.assign({closeIcon:React.createElement(RefIcon$5,null)},n),[n]),C=React.useMemo(()=>i===!1?!1:i?assignWithoutUndefined(l,s,i):s===!1?!1:s?assignWithoutUndefined(l,s):l.closable?l:!1,[i,s,l]);return React.useMemo(()=>{if(C===!1)return[!1,null,g];const{closeIconRender:p}=l,{closeIcon:B}=C;let Q=B;if(Q!=null){p&&(Q=p(B));const y=pickAttrs(C,!0);Object.keys(y).length&&(Q=React.isValidElement(Q)?React.cloneElement(Q,y):React.createElement("span",Object.assign({},y),Q))}return[!0,Q,g]},[C,l])}const canUseDocElement=()=>canUseDom()&&window.document.documentElement,Element$1=t=>{const{prefixCls:e,className:n,style:i,size:s,shape:g}=t,l=classNames({[`${e}-lg`]:s==="large",[`${e}-sm`]:s==="small"}),C=classNames({[`${e}-circle`]:g==="circle",[`${e}-square`]:g==="square",[`${e}-round`]:g==="round"}),p=reactExports.useMemo(()=>typeof s=="number"?{width:s,height:s,lineHeight:`${s}px`}:{},[s]);return reactExports.createElement("span",{className:classNames(e,l,C,n),style:Object.assign(Object.assign({},p),i)})},skeletonClsLoading=new Keyframe("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),genSkeletonElementCommonSize=t=>({height:t,lineHeight:unit(t)}),genSkeletonElementAvatarSize=t=>Object.assign({width:t},genSkeletonElementCommonSize(t)),genSkeletonColor=t=>({background:t.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:skeletonClsLoading,animationDuration:t.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),genSkeletonElementInputSize=(t,e)=>Object.assign({width:e(t).mul(5).equal(),minWidth:e(t).mul(5).equal()},genSkeletonElementCommonSize(t)),genSkeletonElementAvatar=t=>{const{skeletonAvatarCls:e,gradientFromColor:n,controlHeight:i,controlHeightLG:s,controlHeightSM:g}=t;return{[e]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},genSkeletonElementAvatarSize(i)),[`${e}${e}-circle`]:{borderRadius:"50%"},[`${e}${e}-lg`]:Object.assign({},genSkeletonElementAvatarSize(s)),[`${e}${e}-sm`]:Object.assign({},genSkeletonElementAvatarSize(g))}},genSkeletonElementInput=t=>{const{controlHeight:e,borderRadiusSM:n,skeletonInputCls:i,controlHeightLG:s,controlHeightSM:g,gradientFromColor:l,calc:C}=t;return{[i]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:n},genSkeletonElementInputSize(e,C)),[`${i}-lg`]:Object.assign({},genSkeletonElementInputSize(s,C)),[`${i}-sm`]:Object.assign({},genSkeletonElementInputSize(g,C))}},genSkeletonElementImageSize=t=>Object.assign({width:t},genSkeletonElementCommonSize(t)),genSkeletonElementImage=t=>{const{skeletonImageCls:e,imageSizeBase:n,gradientFromColor:i,borderRadiusSM:s,calc:g}=t;return{[e]:Object.assign(Object.assign({display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",background:i,borderRadius:s},genSkeletonElementImageSize(g(n).mul(2).equal())),{[`${e}-path`]:{fill:"#bfbfbf"},[`${e}-svg`]:Object.assign(Object.assign({},genSkeletonElementImageSize(n)),{maxWidth:g(n).mul(4).equal(),maxHeight:g(n).mul(4).equal()}),[`${e}-svg${e}-svg-circle`]:{borderRadius:"50%"}}),[`${e}${e}-circle`]:{borderRadius:"50%"}}},genSkeletonElementButtonShape=(t,e,n)=>{const{skeletonButtonCls:i}=t;return{[`${n}${i}-circle`]:{width:e,minWidth:e,borderRadius:"50%"},[`${n}${i}-round`]:{borderRadius:e}}},genSkeletonElementButtonSize=(t,e)=>Object.assign({width:e(t).mul(2).equal(),minWidth:e(t).mul(2).equal()},genSkeletonElementCommonSize(t)),genSkeletonElementButton=t=>{const{borderRadiusSM:e,skeletonButtonCls:n,controlHeight:i,controlHeightLG:s,controlHeightSM:g,gradientFromColor:l,calc:C}=t;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:l,borderRadius:e,width:C(i).mul(2).equal(),minWidth:C(i).mul(2).equal()},genSkeletonElementButtonSize(i,C))},genSkeletonElementButtonShape(t,i,n)),{[`${n}-lg`]:Object.assign({},genSkeletonElementButtonSize(s,C))}),genSkeletonElementButtonShape(t,s,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},genSkeletonElementButtonSize(g,C))}),genSkeletonElementButtonShape(t,g,`${n}-sm`))},genBaseStyle$2=t=>{const{componentCls:e,skeletonAvatarCls:n,skeletonTitleCls:i,skeletonParagraphCls:s,skeletonButtonCls:g,skeletonInputCls:l,skeletonImageCls:C,controlHeight:p,controlHeightLG:B,controlHeightSM:Q,gradientFromColor:y,padding:_,marginSM:S,borderRadius:w,titleHeight:O,blockRadius:P,paragraphLiHeight:K,controlHeightXS:M,paragraphMarginTop:U}=t;return{[e]:{display:"table",width:"100%",[`${e}-header`]:{display:"table-cell",paddingInlineEnd:_,verticalAlign:"top",[n]:Object.assign({display:"inline-block",verticalAlign:"top",background:y},genSkeletonElementAvatarSize(p)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},genSkeletonElementAvatarSize(B)),[`${n}-sm`]:Object.assign({},genSkeletonElementAvatarSize(Q))},[`${e}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[i]:{width:"100%",height:O,background:y,borderRadius:P,[`+ ${s}`]:{marginBlockStart:Q}},[s]:{padding:0,"> li":{width:"100%",height:K,listStyle:"none",background:y,borderRadius:P,"+ li":{marginBlockStart:M}}},[`${s}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${e}-content`]:{[`${i}, ${s} > li`]:{borderRadius:w}}},[`${e}-with-avatar ${e}-content`]:{[i]:{marginBlockStart:S,[`+ ${s}`]:{marginBlockStart:U}}},[`${e}${e}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},genSkeletonElementButton(t)),genSkeletonElementAvatar(t)),genSkeletonElementInput(t)),genSkeletonElementImage(t)),[`${e}${e}-block`]:{width:"100%",[g]:{width:"100%"},[l]:{width:"100%"}},[`${e}${e}-active`]:{[`
        ${i},
        ${s} > li,
        ${n},
        ${g},
        ${l},
        ${C}
      `]:Object.assign({},genSkeletonColor(t))}}},prepareComponentToken$4=t=>{const{colorFillContent:e,colorFill:n}=t,i=e,s=n;return{color:i,colorGradientEnd:s,gradientFromColor:i,gradientToColor:s,titleHeight:t.controlHeight/2,blockRadius:t.borderRadiusSM,paragraphMarginTop:t.marginLG+t.marginXXS,paragraphLiHeight:t.controlHeight/2}},useStyle$4=genStyleHooks("Skeleton",t=>{const{componentCls:e,calc:n}=t,i=merge(t,{skeletonAvatarCls:`${e}-avatar`,skeletonTitleCls:`${e}-title`,skeletonParagraphCls:`${e}-paragraph`,skeletonButtonCls:`${e}-button`,skeletonInputCls:`${e}-input`,skeletonImageCls:`${e}-image`,imageSizeBase:n(t.controlHeight).mul(1.5).equal(),borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${t.gradientFromColor} 25%, ${t.gradientToColor} 37%, ${t.gradientFromColor} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[genBaseStyle$2(i)]},prepareComponentToken$4,{deprecatedTokens:[["color","gradientFromColor"],["colorGradientEnd","gradientToColor"]]}),SkeletonAvatar=t=>{const{prefixCls:e,className:n,rootClassName:i,active:s,shape:g="circle",size:l="default"}=t,{getPrefixCls:C}=reactExports.useContext(ConfigContext),p=C("skeleton",e),[B,Q,y]=useStyle$4(p),_=omit(t,["prefixCls","className"]),S=classNames(p,`${p}-element`,{[`${p}-active`]:s},n,i,Q,y);return B(reactExports.createElement("div",{className:S},reactExports.createElement(Element$1,Object.assign({prefixCls:`${p}-avatar`,shape:g,size:l},_))))},SkeletonButton=t=>{const{prefixCls:e,className:n,rootClassName:i,active:s,block:g=!1,size:l="default"}=t,{getPrefixCls:C}=reactExports.useContext(ConfigContext),p=C("skeleton",e),[B,Q,y]=useStyle$4(p),_=omit(t,["prefixCls"]),S=classNames(p,`${p}-element`,{[`${p}-active`]:s,[`${p}-block`]:g},n,i,Q,y);return B(reactExports.createElement("div",{className:S},reactExports.createElement(Element$1,Object.assign({prefixCls:`${p}-button`,size:l},_))))},path$1="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",SkeletonImage=t=>{const{prefixCls:e,className:n,rootClassName:i,style:s,active:g}=t,{getPrefixCls:l}=reactExports.useContext(ConfigContext),C=l("skeleton",e),[p,B,Q]=useStyle$4(C),y=classNames(C,`${C}-element`,{[`${C}-active`]:g},n,i,B,Q);return p(reactExports.createElement("div",{className:y},reactExports.createElement("div",{className:classNames(`${C}-image`,n),style:s},reactExports.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${C}-image-svg`},reactExports.createElement("title",null,"Image placeholder"),reactExports.createElement("path",{d:path$1,className:`${C}-image-path`})))))},SkeletonInput=t=>{const{prefixCls:e,className:n,rootClassName:i,active:s,block:g,size:l="default"}=t,{getPrefixCls:C}=reactExports.useContext(ConfigContext),p=C("skeleton",e),[B,Q,y]=useStyle$4(p),_=omit(t,["prefixCls"]),S=classNames(p,`${p}-element`,{[`${p}-active`]:s,[`${p}-block`]:g},n,i,Q,y);return B(reactExports.createElement("div",{className:S},reactExports.createElement(Element$1,Object.assign({prefixCls:`${p}-input`,size:l},_))))},SkeletonNode=t=>{const{prefixCls:e,className:n,rootClassName:i,style:s,active:g,children:l}=t,{getPrefixCls:C}=reactExports.useContext(ConfigContext),p=C("skeleton",e),[B,Q,y]=useStyle$4(p),_=classNames(p,`${p}-element`,{[`${p}-active`]:g},Q,n,i,y);return B(reactExports.createElement("div",{className:_},reactExports.createElement("div",{className:classNames(`${p}-image`,n),style:s},l)))},getWidth=(t,e)=>{const{width:n,rows:i=2}=e;if(Array.isArray(n))return n[t];if(i-1===t)return n},Paragraph=t=>{const{prefixCls:e,className:n,style:i,rows:s}=t,g=_toConsumableArray(new Array(s)).map((l,C)=>reactExports.createElement("li",{key:C,style:{width:getWidth(C,t)}}));return reactExports.createElement("ul",{className:classNames(e,n),style:i},g)},Title=t=>{let{prefixCls:e,className:n,width:i,style:s}=t;return reactExports.createElement("h3",{className:classNames(e,n),style:Object.assign({width:i},s)})};function getComponentProps(t){return t&&typeof t=="object"?t:{}}function getAvatarBasicProps(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function getTitleBasicProps(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function getParagraphBasicProps(t,e){const n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}const Skeleton=t=>{const{prefixCls:e,loading:n,className:i,rootClassName:s,style:g,children:l,avatar:C=!1,title:p=!0,paragraph:B=!0,active:Q,round:y}=t,{getPrefixCls:_,direction:S,skeleton:w}=reactExports.useContext(ConfigContext),O=_("skeleton",e),[P,K,M]=useStyle$4(O);if(n||!("loading"in t)){const U=!!C,F=!!p,W=!!B;let ae;if(U){const _A=Object.assign(Object.assign({prefixCls:`${O}-avatar`},getAvatarBasicProps(F,W)),getComponentProps(C));ae=reactExports.createElement("div",{className:`${O}-header`},reactExports.createElement(Element$1,Object.assign({},_A)))}let _r;if(F||W){let _A;if(F){const oa=Object.assign(Object.assign({prefixCls:`${O}-title`},getTitleBasicProps(U,W)),getComponentProps(p));_A=reactExports.createElement(Title,Object.assign({},oa))}let na;if(W){const oa=Object.assign(Object.assign({prefixCls:`${O}-paragraph`},getParagraphBasicProps(U,F)),getComponentProps(B));na=reactExports.createElement(Paragraph,Object.assign({},oa))}_r=reactExports.createElement("div",{className:`${O}-content`},_A,na)}const _t=classNames(O,{[`${O}-with-avatar`]:U,[`${O}-active`]:Q,[`${O}-rtl`]:S==="rtl",[`${O}-round`]:y},w==null?void 0:w.className,i,s,K,M);return P(reactExports.createElement("div",{className:_t,style:Object.assign(Object.assign({},w==null?void 0:w.style),g)},ae,_r))}return l??null};Skeleton.Button=SkeletonButton;Skeleton.Avatar=SkeletonAvatar;Skeleton.Input=SkeletonInput;Skeleton.Image=SkeletonImage;Skeleton.Node=SkeletonNode;function voidFunc(){}const WatermarkContext=reactExports.createContext({add:voidFunc,remove:voidFunc});function usePanelRef(t){const e=reactExports.useContext(WatermarkContext),n=reactExports.useRef();return useEvent(s=>{if(s){const g=t?s.querySelector(t):s;e.add(g),n.current=g}else e.remove(n.current)})}const NormalCancelBtn=()=>{const{cancelButtonProps:t,cancelTextLocale:e,onCancel:n}=reactExports.useContext(ModalContext);return React.createElement(Button,Object.assign({onClick:n},t),e)},NormalOkBtn=()=>{const{confirmLoading:t,okButtonProps:e,okType:n,okTextLocale:i,onOk:s}=reactExports.useContext(ModalContext);return React.createElement(Button,Object.assign({},convertLegacyProps(n),{loading:t,onClick:s},e),i)};function renderCloseIcon(t,e){return React.createElement("span",{className:`${t}-close-x`},e||React.createElement(RefIcon$5,{className:`${t}-close-icon`}))}const Footer$1=t=>{const{okText:e,okType:n="primary",cancelText:i,confirmLoading:s,onOk:g,onCancel:l,okButtonProps:C,cancelButtonProps:p,footer:B}=t,[Q]=useLocale("Modal",getConfirmLocale()),y=e||(Q==null?void 0:Q.okText),_=i||(Q==null?void 0:Q.cancelText),S={confirmLoading:s,okButtonProps:C,cancelButtonProps:p,okTextLocale:y,cancelTextLocale:_,okType:n,onOk:g,onCancel:l},w=React.useMemo(()=>S,_toConsumableArray(Object.values(S)));let O;return typeof B=="function"||typeof B>"u"?(O=React.createElement(React.Fragment,null,React.createElement(NormalCancelBtn,null),React.createElement(NormalOkBtn,null)),typeof B=="function"&&(O=B(O,{OkBtn:NormalOkBtn,CancelBtn:NormalCancelBtn})),O=React.createElement(ModalContextProvider,{value:w},O)):O=B,React.createElement(DisabledContextProvider,{disabled:!1},O)};function box(t){return{position:t,inset:0}}const genModalMaskStyle=t=>{const{componentCls:e,antCls:n}=t;return[{[`${e}-root`]:{[`${e}${n}-zoom-enter, ${e}${n}-zoom-appear`]:{transform:"none",opacity:0,animationDuration:t.motionDurationSlow,userSelect:"none"},[`${e}${n}-zoom-leave ${e}-content`]:{pointerEvents:"none"},[`${e}-mask`]:Object.assign(Object.assign({},box("fixed")),{zIndex:t.zIndexPopupBase,height:"100%",backgroundColor:t.colorBgMask,pointerEvents:"none",[`${e}-hidden`]:{display:"none"}}),[`${e}-wrap`]:Object.assign(Object.assign({},box("fixed")),{zIndex:t.zIndexPopupBase,overflow:"auto",outline:0,WebkitOverflowScrolling:"touch"})}},{[`${e}-root`]:initFadeMotion(t)}]},genModalStyle=t=>{const{componentCls:e}=t;return[{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl"},[`${e}-centered`]:{textAlign:"center","&::before":{display:"inline-block",width:0,height:"100%",verticalAlign:"middle",content:'""'},[e]:{top:0,display:"inline-block",paddingBottom:0,textAlign:"start",verticalAlign:"middle"}},[`@media (max-width: ${t.screenSMMax}px)`]:{[e]:{maxWidth:"calc(100vw - 16px)",margin:`${unit(t.marginXS)} auto`},[`${e}-centered`]:{[e]:{flex:1}}}}},{[e]:Object.assign(Object.assign({},resetComponent(t)),{pointerEvents:"none",position:"relative",top:100,width:"auto",maxWidth:`calc(100vw - ${unit(t.calc(t.margin).mul(2).equal())})`,margin:"0 auto",paddingBottom:t.paddingLG,[`${e}-title`]:{margin:0,color:t.titleColor,fontWeight:t.fontWeightStrong,fontSize:t.titleFontSize,lineHeight:t.titleLineHeight,wordWrap:"break-word"},[`${e}-content`]:{position:"relative",backgroundColor:t.contentBg,backgroundClip:"padding-box",border:0,borderRadius:t.borderRadiusLG,boxShadow:t.boxShadow,pointerEvents:"auto",padding:t.contentPadding},[`${e}-close`]:Object.assign({position:"absolute",top:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),insetInlineEnd:t.calc(t.modalHeaderHeight).sub(t.modalCloseBtnSize).div(2).equal(),zIndex:t.calc(t.zIndexPopupBase).add(10).equal(),padding:0,color:t.modalCloseIconColor,fontWeight:t.fontWeightStrong,lineHeight:1,textDecoration:"none",background:"transparent",borderRadius:t.borderRadiusSM,width:t.modalCloseBtnSize,height:t.modalCloseBtnSize,border:0,outline:0,cursor:"pointer",transition:`color ${t.motionDurationMid}, background-color ${t.motionDurationMid}`,"&-x":{display:"flex",fontSize:t.fontSizeLG,fontStyle:"normal",lineHeight:unit(t.modalCloseBtnSize),justifyContent:"center",textTransform:"none",textRendering:"auto"},"&:disabled":{pointerEvents:"none"},"&:hover":{color:t.modalCloseIconHoverColor,backgroundColor:t.colorBgTextHover,textDecoration:"none"},"&:active":{backgroundColor:t.colorBgTextActive}},genFocusStyle(t)),[`${e}-header`]:{color:t.colorText,background:t.headerBg,borderRadius:`${unit(t.borderRadiusLG)} ${unit(t.borderRadiusLG)} 0 0`,marginBottom:t.headerMarginBottom,padding:t.headerPadding,borderBottom:t.headerBorderBottom},[`${e}-body`]:{fontSize:t.fontSize,lineHeight:t.lineHeight,wordWrap:"break-word",padding:t.bodyPadding,[`${e}-body-skeleton`]:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",margin:`${unit(t.margin)} auto`}},[`${e}-footer`]:{textAlign:"end",background:t.footerBg,marginTop:t.footerMarginTop,padding:t.footerPadding,borderTop:t.footerBorderTop,borderRadius:t.footerBorderRadius,[`> ${t.antCls}-btn + ${t.antCls}-btn`]:{marginInlineStart:t.marginXS}},[`${e}-open`]:{overflow:"hidden"}})},{[`${e}-pure-panel`]:{top:"auto",padding:0,display:"flex",flexDirection:"column",[`${e}-content,
          ${e}-body,
          ${e}-confirm-body-wrapper`]:{display:"flex",flexDirection:"column",flex:"auto"},[`${e}-confirm-body`]:{marginBottom:"auto"}}}]},genRTLStyle=t=>{const{componentCls:e}=t;return{[`${e}-root`]:{[`${e}-wrap-rtl`]:{direction:"rtl",[`${e}-confirm-body`]:{direction:"rtl"}}}}},prepareToken=t=>{const e=t.padding,n=t.fontSizeHeading5,i=t.lineHeightHeading5;return merge(t,{modalHeaderHeight:t.calc(t.calc(i).mul(n).equal()).add(t.calc(e).mul(2).equal()).equal(),modalFooterBorderColorSplit:t.colorSplit,modalFooterBorderStyle:t.lineType,modalFooterBorderWidth:t.lineWidth,modalCloseIconColor:t.colorIcon,modalCloseIconHoverColor:t.colorIconHover,modalCloseBtnSize:t.controlHeight,modalConfirmIconSize:t.fontHeight,modalTitleHeight:t.calc(t.titleFontSize).mul(t.titleLineHeight).equal()})},prepareComponentToken$3=t=>({footerBg:"transparent",headerBg:t.colorBgElevated,titleLineHeight:t.lineHeightHeading5,titleFontSize:t.fontSizeHeading5,contentBg:t.colorBgElevated,titleColor:t.colorTextHeading,contentPadding:t.wireframe?0:`${unit(t.paddingMD)} ${unit(t.paddingContentHorizontalLG)}`,headerPadding:t.wireframe?`${unit(t.padding)} ${unit(t.paddingLG)}`:0,headerBorderBottom:t.wireframe?`${unit(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",headerMarginBottom:t.wireframe?0:t.marginXS,bodyPadding:t.wireframe?t.paddingLG:0,footerPadding:t.wireframe?`${unit(t.paddingXS)} ${unit(t.padding)}`:0,footerBorderTop:t.wireframe?`${unit(t.lineWidth)} ${t.lineType} ${t.colorSplit}`:"none",footerBorderRadius:t.wireframe?`0 0 ${unit(t.borderRadiusLG)} ${unit(t.borderRadiusLG)}`:0,footerMarginTop:t.wireframe?0:t.marginSM,confirmBodyPadding:t.wireframe?`${unit(t.padding*2)} ${unit(t.padding*2)} ${unit(t.paddingLG)}`:0,confirmIconMarginInlineEnd:t.wireframe?t.margin:t.marginSM,confirmBtnsMarginTop:t.wireframe?t.marginLG:t.marginSM}),useStyle$3=genStyleHooks("Modal",t=>{const e=prepareToken(t);return[genModalStyle(e),genRTLStyle(e),genModalMaskStyle(e),initZoomMotion(e,"zoom")]},prepareComponentToken$3,{unitless:{titleLineHeight:!0}});var __rest$9=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};let mousePosition;const getClickPosition=t=>{mousePosition={x:t.pageX,y:t.pageY},setTimeout(()=>{mousePosition=null},100)};canUseDocElement()&&document.documentElement.addEventListener("click",getClickPosition,!0);const Modal$1=t=>{var e;const{getPopupContainer:n,getPrefixCls:i,direction:s,modal:g}=reactExports.useContext(ConfigContext),l=Bh=>{const{onCancel:_I}=t;_I==null||_I(Bh)},C=Bh=>{const{onOk:_I}=t;_I==null||_I(Bh)},{prefixCls:p,className:B,rootClassName:Q,open:y,wrapClassName:_,centered:S,getContainer:w,focusTriggerAfterClose:O=!0,style:P,visible:K,width:M=520,footer:U,classNames:F,styles:W,children:ae,loading:_r}=t,_t=__rest$9(t,["prefixCls","className","rootClassName","open","wrapClassName","centered","getContainer","focusTriggerAfterClose","style","visible","width","footer","classNames","styles","children","loading"]),_A=i("modal",p),na=i(),oa=useCSSVarCls(_A),[ha,fa,Da]=useStyle$3(_A,oa),ga=classNames(_,{[`${_A}-centered`]:!!S,[`${_A}-wrap-rtl`]:s==="rtl"}),ma=U!==null&&!_r?reactExports.createElement(Footer$1,Object.assign({},t,{onOk:C,onCancel:l})):null,[Ra,$a,Ka]=useClosable(pickClosable(t),pickClosable(g),{closable:!0,closeIcon:reactExports.createElement(RefIcon$5,{className:`${_A}-close-icon`}),closeIconRender:Bh=>renderCloseIcon(_A,Bh)}),_u=usePanelRef(`.${_A}-content`),[Uc,_E]=useZIndex("Modal",_t.zIndex);return ha(reactExports.createElement(ContextIsolator,{form:!0,space:!0},reactExports.createElement(zIndexContext.Provider,{value:_E},reactExports.createElement(DialogWrap,Object.assign({width:M},_t,{zIndex:Uc,getContainer:w===void 0?n:w,prefixCls:_A,rootClassName:classNames(fa,Q,Da,oa),footer:ma,visible:y??K,mousePosition:(e=_t.mousePosition)!==null&&e!==void 0?e:mousePosition,onClose:l,closable:Ra&&{disabled:Ka,closeIcon:$a},closeIcon:$a,focusTriggerAfterClose:O,transitionName:getTransitionName(na,"zoom",t.transitionName),maskTransitionName:getTransitionName(na,"fade",t.maskTransitionName),className:classNames(fa,B,g==null?void 0:g.className),style:Object.assign(Object.assign({},g==null?void 0:g.style),P),classNames:Object.assign(Object.assign(Object.assign({},g==null?void 0:g.classNames),F),{wrapper:classNames(ga,F==null?void 0:F.wrapper)}),styles:Object.assign(Object.assign({},g==null?void 0:g.styles),W),panelRef:_u}),_r?reactExports.createElement(Skeleton,{active:!0,title:!1,paragraph:{rows:4},className:`${_A}-body-skeleton`}):ae))))},genModalConfirmStyle=t=>{const{componentCls:e,titleFontSize:n,titleLineHeight:i,modalConfirmIconSize:s,fontSize:g,lineHeight:l,modalTitleHeight:C,fontHeight:p,confirmBodyPadding:B}=t,Q=`${e}-confirm`;return{[Q]:{"&-rtl":{direction:"rtl"},[`${t.antCls}-modal-header`]:{display:"none"},[`${Q}-body-wrapper`]:Object.assign({},clearFix()),[`&${e} ${e}-body`]:{padding:B},[`${Q}-body`]:{display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${t.iconCls}`]:{flex:"none",fontSize:s,marginInlineEnd:t.confirmIconMarginInlineEnd,marginTop:t.calc(t.calc(p).sub(s).equal()).div(2).equal()},[`&-has-title > ${t.iconCls}`]:{marginTop:t.calc(t.calc(C).sub(s).equal()).div(2).equal()}},[`${Q}-paragraph`]:{display:"flex",flexDirection:"column",flex:"auto",rowGap:t.marginXS},[`${t.iconCls} + ${Q}-paragraph`]:{maxWidth:`calc(100% - ${unit(t.calc(t.modalConfirmIconSize).add(t.marginSM).equal())})`},[`${Q}-title`]:{color:t.colorTextHeading,fontWeight:t.fontWeightStrong,fontSize:n,lineHeight:i},[`${Q}-content`]:{color:t.colorText,fontSize:g,lineHeight:l},[`${Q}-btns`]:{textAlign:"end",marginTop:t.confirmBtnsMarginTop,[`${t.antCls}-btn + ${t.antCls}-btn`]:{marginBottom:0,marginInlineStart:t.marginXS}}},[`${Q}-error ${Q}-body > ${t.iconCls}`]:{color:t.colorError},[`${Q}-warning ${Q}-body > ${t.iconCls},
        ${Q}-confirm ${Q}-body > ${t.iconCls}`]:{color:t.colorWarning},[`${Q}-info ${Q}-body > ${t.iconCls}`]:{color:t.colorInfo},[`${Q}-success ${Q}-body > ${t.iconCls}`]:{color:t.colorSuccess}}},Confirm=genSubStyleComponent(["Modal","confirm"],t=>{const e=prepareToken(t);return[genModalConfirmStyle(e)]},prepareComponentToken$3,{order:-1e3});var __rest$8=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};function ConfirmContent(t){const{prefixCls:e,icon:n,okText:i,cancelText:s,confirmPrefixCls:g,type:l,okCancel:C,footer:p,locale:B}=t,Q=__rest$8(t,["prefixCls","icon","okText","cancelText","confirmPrefixCls","type","okCancel","footer","locale"]);let y=n;if(!n&&n!==null)switch(l){case"info":y=reactExports.createElement(RefIcon$7,null);break;case"success":y=reactExports.createElement(RefIcon$6,null);break;case"error":y=reactExports.createElement(RefIcon$8,null);break;default:y=reactExports.createElement(RefIcon$9,null)}const _=C??l==="confirm",S=t.autoFocusButton===null?!1:t.autoFocusButton||"ok",[w]=useLocale("Modal"),O=B||w,P=i||(_?O==null?void 0:O.okText:O==null?void 0:O.justOkText),K=s||(O==null?void 0:O.cancelText),M=Object.assign({autoFocusButton:S,cancelTextLocale:K,okTextLocale:P,mergedOkCancel:_},Q),U=reactExports.useMemo(()=>M,_toConsumableArray(Object.values(M))),F=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(ConfirmCancelBtn,null),reactExports.createElement(ConfirmOkBtn,null)),W=t.title!==void 0&&t.title!==null,ae=`${g}-body`;return reactExports.createElement("div",{className:`${g}-body-wrapper`},reactExports.createElement("div",{className:classNames(ae,{[`${ae}-has-title`]:W})},y,reactExports.createElement("div",{className:`${g}-paragraph`},W&&reactExports.createElement("span",{className:`${g}-title`},t.title),reactExports.createElement("div",{className:`${g}-content`},t.content))),p===void 0||typeof p=="function"?reactExports.createElement(ModalContextProvider,{value:U},reactExports.createElement("div",{className:`${g}-btns`},typeof p=="function"?p(F,{OkBtn:ConfirmOkBtn,CancelBtn:ConfirmCancelBtn}):F)):p,reactExports.createElement(Confirm,{prefixCls:e}))}const ConfirmDialog=t=>{const{close:e,zIndex:n,afterClose:i,open:s,keyboard:g,centered:l,getContainer:C,maskStyle:p,direction:B,prefixCls:Q,wrapClassName:y,rootPrefixCls:_,bodyStyle:S,closable:w=!1,closeIcon:O,modalRender:P,focusTriggerAfterClose:K,onConfirm:M,styles:U}=t,F=`${Q}-confirm`,W=t.width||416,ae=t.style||{},_r=t.mask===void 0?!0:t.mask,_t=t.maskClosable===void 0?!1:t.maskClosable,_A=classNames(F,`${F}-${t.type}`,{[`${F}-rtl`]:B==="rtl"},t.className),[,na]=useToken(),oa=reactExports.useMemo(()=>n!==void 0?n:na.zIndexPopupBase+CONTAINER_MAX_OFFSET,[n,na]);return reactExports.createElement(Modal$1,{prefixCls:Q,className:_A,wrapClassName:classNames({[`${F}-centered`]:!!t.centered},y),onCancel:()=>{e==null||e({triggerCancel:!0}),M==null||M(!1)},open:s,title:"",footer:null,transitionName:getTransitionName(_||"","zoom",t.transitionName),maskTransitionName:getTransitionName(_||"","fade",t.maskTransitionName),mask:_r,maskClosable:_t,style:ae,styles:Object.assign({body:S,mask:p},U),width:W,zIndex:oa,afterClose:i,keyboard:g,centered:l,getContainer:C,closable:w,closeIcon:O,modalRender:P,focusTriggerAfterClose:K},reactExports.createElement(ConfirmContent,Object.assign({},t,{confirmPrefixCls:F})))},ConfirmDialogWrapper$1=t=>{const{rootPrefixCls:e,iconPrefixCls:n,direction:i,theme:s}=t;return reactExports.createElement(ConfigProvider,{prefixCls:e,iconPrefixCls:n,direction:i,theme:s},reactExports.createElement(ConfirmDialog,Object.assign({},t)))},destroyFns=[];let defaultRootPrefixCls="";function getRootPrefixCls(){return defaultRootPrefixCls}const ConfirmDialogWrapper=t=>{var e,n;const{prefixCls:i,getContainer:s,direction:g}=t,l=getConfirmLocale(),C=reactExports.useContext(ConfigContext),p=getRootPrefixCls()||C.getPrefixCls(),B=i||`${p}-modal`;let Q=s;return Q===!1&&(Q=void 0),React.createElement(ConfirmDialogWrapper$1,Object.assign({},t,{rootPrefixCls:p,prefixCls:B,iconPrefixCls:C.iconPrefixCls,theme:C.theme,direction:g??C.direction,locale:(n=(e=C.locale)===null||e===void 0?void 0:e.Modal)!==null&&n!==void 0?n:l,getContainer:Q}))};function confirm(t){const e=globalConfig(),n=document.createDocumentFragment();let i=Object.assign(Object.assign({},t),{close:C,open:!0}),s;function g(){for(var B,Q=arguments.length,y=new Array(Q),_=0;_<Q;_++)y[_]=arguments[_];if(y.some(O=>O==null?void 0:O.triggerCancel)){var w;(B=t.onCancel)===null||B===void 0||(w=B).call.apply(w,[t,()=>{}].concat(_toConsumableArray(y.slice(1))))}for(let O=0;O<destroyFns.length;O++)if(destroyFns[O]===C){destroyFns.splice(O,1);break}unmount(n)}function l(B){clearTimeout(s),s=setTimeout(()=>{const Q=e.getPrefixCls(void 0,getRootPrefixCls()),y=e.getIconPrefixCls(),_=e.getTheme(),S=React.createElement(ConfirmDialogWrapper,Object.assign({},B));render(React.createElement(ConfigProvider,{prefixCls:Q,iconPrefixCls:y,theme:_},e.holderRender?e.holderRender(S):S),n)})}function C(){for(var B=arguments.length,Q=new Array(B),y=0;y<B;y++)Q[y]=arguments[y];i=Object.assign(Object.assign({},i),{open:!1,afterClose:()=>{typeof t.afterClose=="function"&&t.afterClose(),g.apply(this,Q)}}),i.visible&&delete i.visible,l(i)}function p(B){typeof B=="function"?i=B(i):i=Object.assign(Object.assign({},i),B),l(i)}return l(i),destroyFns.push(C),{destroy:C,update:p}}function withWarn(t){return Object.assign(Object.assign({},t),{type:"warning"})}function withInfo(t){return Object.assign(Object.assign({},t),{type:"info"})}function withSuccess(t){return Object.assign(Object.assign({},t),{type:"success"})}function withError(t){return Object.assign(Object.assign({},t),{type:"error"})}function withConfirm(t){return Object.assign(Object.assign({},t),{type:"confirm"})}function modalGlobalConfig(t){let{rootPrefixCls:e}=t;defaultRootPrefixCls=e}var __rest$7=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const HookModal=(t,e)=>{var n,{afterClose:i,config:s}=t,g=__rest$7(t,["afterClose","config"]);const[l,C]=reactExports.useState(!0),[p,B]=reactExports.useState(s),{direction:Q,getPrefixCls:y}=reactExports.useContext(ConfigContext),_=y("modal"),S=y(),w=()=>{var M;i(),(M=p.afterClose)===null||M===void 0||M.call(p)},O=function(){var M;C(!1);for(var U=arguments.length,F=new Array(U),W=0;W<U;W++)F[W]=arguments[W];if(F.some(_t=>_t==null?void 0:_t.triggerCancel)){var _r;(M=p.onCancel)===null||M===void 0||(_r=M).call.apply(_r,[p,()=>{}].concat(_toConsumableArray(F.slice(1))))}};reactExports.useImperativeHandle(e,()=>({destroy:O,update:M=>{B(U=>Object.assign(Object.assign({},U),M))}}));const P=(n=p.okCancel)!==null&&n!==void 0?n:p.type==="confirm",[K]=useLocale("Modal",localeValues.Modal);return reactExports.createElement(ConfirmDialogWrapper$1,Object.assign({prefixCls:_,rootPrefixCls:S},p,{close:O,open:l,afterClose:w,okText:p.okText||(P?K==null?void 0:K.okText:K==null?void 0:K.justOkText),direction:p.direction||Q,cancelText:p.cancelText||(K==null?void 0:K.cancelText)},g))},HookModal$1=reactExports.forwardRef(HookModal);let uuid$1=0;const ElementsHolder=reactExports.memo(reactExports.forwardRef((t,e)=>{const[n,i]=usePatchElement();return reactExports.useImperativeHandle(e,()=>({patchElement:i}),[]),reactExports.createElement(reactExports.Fragment,null,n)}));function useModal(){const t=reactExports.useRef(null),[e,n]=reactExports.useState([]);reactExports.useEffect(()=>{e.length&&(_toConsumableArray(e).forEach(l=>{l()}),n([]))},[e]);const i=reactExports.useCallback(g=>function(C){var p;uuid$1+=1;const B=reactExports.createRef();let Q;const y=new Promise(P=>{Q=P});let _=!1,S;const w=reactExports.createElement(HookModal$1,{key:`modal-${uuid$1}`,config:g(C),ref:B,afterClose:()=>{S==null||S()},isSilent:()=>_,onConfirm:P=>{Q(P)}});return S=(p=t.current)===null||p===void 0?void 0:p.patchElement(w),S&&destroyFns.push(S),{destroy:()=>{function P(){var K;(K=B.current)===null||K===void 0||K.destroy()}B.current?P():n(K=>[].concat(_toConsumableArray(K),[P]))},update:P=>{function K(){var M;(M=B.current)===null||M===void 0||M.update(P)}B.current?K():n(M=>[].concat(_toConsumableArray(M),[K]))},then:P=>(_=!0,y.then(P))}},[]);return[reactExports.useMemo(()=>({info:i(withInfo),success:i(withSuccess),error:i(withError),warning:i(withWarn),confirm:i(withConfirm)}),[]),reactExports.createElement(ElementsHolder,{key:"modal-holder",ref:t})]}function withPureRenderTheme(t){return e=>reactExports.createElement(ConfigProvider,{theme:{token:{motion:!1,zIndexPopupBase:0}}},reactExports.createElement(t,Object.assign({},e)))}const genPurePanel=(t,e,n,i)=>withPureRenderTheme(g=>{const{prefixCls:l,style:C}=g,p=reactExports.useRef(null),[B,Q]=reactExports.useState(0),[y,_]=reactExports.useState(0),[S,w]=useMergedState(!1,{value:g.open}),{getPrefixCls:O}=reactExports.useContext(ConfigContext),P=O("select",l);reactExports.useEffect(()=>{if(w(!0),typeof ResizeObserver<"u"){const U=new ResizeObserver(W=>{const ae=W[0].target;Q(ae.offsetHeight+8),_(ae.offsetWidth)}),F=setInterval(()=>{var W;const ae=`.${P}-dropdown`,_r=(W=p.current)===null||W===void 0?void 0:W.querySelector(ae);_r&&(clearInterval(F),U.observe(_r))},10);return()=>{clearInterval(F),U.disconnect()}}},[]);let K=Object.assign(Object.assign({},g),{style:Object.assign(Object.assign({},C),{margin:0}),open:S,visible:S,getPopupContainer:()=>p.current});const M={paddingBottom:B,position:"relative",minWidth:y};return reactExports.createElement("div",{ref:p,style:M},reactExports.createElement(t,Object.assign({},K)))}),isMobile=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};var TransBtn=function(e){var n=e.className,i=e.customizeIcon,s=e.customizeIconProps,g=e.children,l=e.onMouseDown,C=e.onClick,p=typeof i=="function"?i(s):i;return reactExports.createElement("span",{className:n,onMouseDown:function(Q){Q.preventDefault(),l==null||l(Q)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:C,"aria-hidden":!0},p!==void 0?p:reactExports.createElement("span",{className:classNames(n.split(/\s+/).map(function(B){return"".concat(B,"-icon")}))},g))},useAllowClear=function(e,n,i,s,g){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,C=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,B=React.useMemo(function(){if(_typeof(s)==="object")return s.clearIcon;if(g)return g},[s,g]),Q=React.useMemo(function(){return!!(!l&&s&&(i.length||C)&&!(p==="combobox"&&C===""))},[s,l,i.length,C,p]);return{allowClear:Q,clearIcon:React.createElement(TransBtn,{className:"".concat(e,"-clear"),onMouseDown:n,customizeIcon:B},"")}},BaseSelectContext=reactExports.createContext(null);function useBaseProps(){return reactExports.useContext(BaseSelectContext)}function useDelayReset(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=reactExports.useState(!1),n=_slicedToArray(e,2),i=n[0],s=n[1],g=reactExports.useRef(null),l=function(){window.clearTimeout(g.current)};reactExports.useEffect(function(){return l},[]);var C=function(B,Q){l(),g.current=window.setTimeout(function(){s(B),Q&&Q()},t)};return[i,C,l]}function useLock(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=reactExports.useRef(null),n=reactExports.useRef(null);reactExports.useEffect(function(){return function(){window.clearTimeout(n.current)}},[]);function i(s){(s||e.current===null)&&(e.current=s),window.clearTimeout(n.current),n.current=window.setTimeout(function(){e.current=null},t)}return[function(){return e.current},i]}function useSelectTriggerControl(t,e,n,i){var s=reactExports.useRef(null);s.current={open:e,triggerOpen:n,customizedTrigger:i},reactExports.useEffect(function(){function g(l){var C;if(!((C=s.current)!==null&&C!==void 0&&C.customizedTrigger)){var p=l.target;p.shadowRoot&&l.composed&&(p=l.composedPath()[0]||p),s.current.open&&t().filter(function(B){return B}).every(function(B){return!B.contains(p)&&B!==p})&&s.current.triggerOpen(!1)}}return window.addEventListener("mousedown",g),function(){return window.removeEventListener("mousedown",g)}},[])}function isValidateOpenKey(t){return![KeyCode.ESC,KeyCode.SHIFT,KeyCode.BACKSPACE,KeyCode.TAB,KeyCode.WIN_KEY,KeyCode.ALT,KeyCode.META,KeyCode.WIN_KEY_RIGHT,KeyCode.CTRL,KeyCode.SEMICOLON,KeyCode.EQUALS,KeyCode.CAPS_LOCK,KeyCode.CONTEXT_MENU,KeyCode.F1,KeyCode.F2,KeyCode.F3,KeyCode.F4,KeyCode.F5,KeyCode.F6,KeyCode.F7,KeyCode.F8,KeyCode.F9,KeyCode.F10,KeyCode.F11,KeyCode.F12].includes(t)}var _excluded$c=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],UNDEFINED=void 0;function InternalItem(t,e){var n=t.prefixCls,i=t.invalidate,s=t.item,g=t.renderItem,l=t.responsive,C=t.responsiveDisabled,p=t.registerSize,B=t.itemKey,Q=t.className,y=t.style,_=t.children,S=t.display,w=t.order,O=t.component,P=O===void 0?"div":O,K=_objectWithoutProperties(t,_excluded$c),M=l&&!S;function U(_t){p(B,_t)}reactExports.useEffect(function(){return function(){U(null)}},[]);var F=g&&s!==UNDEFINED?g(s):_,W;i||(W={opacity:M?0:1,height:M?0:UNDEFINED,overflowY:M?"hidden":UNDEFINED,order:l?w:UNDEFINED,pointerEvents:M?"none":UNDEFINED,position:M?"absolute":UNDEFINED});var ae={};M&&(ae["aria-hidden"]=!0);var _r=reactExports.createElement(P,_extends({className:classNames(!i&&n,Q),style:_objectSpread2(_objectSpread2({},W),y)},ae,K,{ref:e}),F);return l&&(_r=reactExports.createElement(RefResizeObserver,{onResize:function(_A){var na=_A.offsetWidth;U(na)},disabled:C},_r)),_r}var Item$2=reactExports.forwardRef(InternalItem);Item$2.displayName="Item";function channelUpdate(t){if(typeof MessageChannel>"u")wrapperRaf(t);else{var e=new MessageChannel;e.port1.onmessage=function(){return t()},e.port2.postMessage(void 0)}}function useBatcher(){var t=reactExports.useRef(null),e=function(i){t.current||(t.current=[],channelUpdate(function(){reactDomExports.unstable_batchedUpdates(function(){t.current.forEach(function(s){s()}),t.current=null})})),t.current.push(i)};return e}function useEffectState(t,e){var n=reactExports.useState(e),i=_slicedToArray(n,2),s=i[0],g=i[1],l=useEvent(function(C){t(function(){g(C)})});return[s,l]}var OverflowContext=React.createContext(null),_excluded$b=["component"],_excluded2$1=["className"],_excluded3=["className"],InternalRawItem=function(e,n){var i=reactExports.useContext(OverflowContext);if(!i){var s=e.component,g=s===void 0?"div":s,l=_objectWithoutProperties(e,_excluded$b);return reactExports.createElement(g,_extends({},l,{ref:n}))}var C=i.className,p=_objectWithoutProperties(i,_excluded2$1),B=e.className,Q=_objectWithoutProperties(e,_excluded3);return reactExports.createElement(OverflowContext.Provider,{value:null},reactExports.createElement(Item$2,_extends({ref:n,className:classNames(C,B)},p,Q)))},RawItem=reactExports.forwardRef(InternalRawItem);RawItem.displayName="RawItem";var _excluded$a=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],RESPONSIVE="responsive",INVALIDATE="invalidate";function defaultRenderRest(t){return"+ ".concat(t.length," ...")}function Overflow(t,e){var n=t.prefixCls,i=n===void 0?"rc-overflow":n,s=t.data,g=s===void 0?[]:s,l=t.renderItem,C=t.renderRawItem,p=t.itemKey,B=t.itemWidth,Q=B===void 0?10:B,y=t.ssr,_=t.style,S=t.className,w=t.maxCount,O=t.renderRest,P=t.renderRawRest,K=t.suffix,M=t.component,U=M===void 0?"div":M,F=t.itemComponent,W=t.onVisibleChange,ae=_objectWithoutProperties(t,_excluded$a),_r=y==="full",_t=useBatcher(),_A=useEffectState(_t,null),na=_slicedToArray(_A,2),oa=na[0],ha=na[1],fa=oa||0,Da=useEffectState(_t,new Map),ga=_slicedToArray(Da,2),ma=ga[0],Ra=ga[1],$a=useEffectState(_t,0),Ka=_slicedToArray($a,2),_u=Ka[0],Uc=Ka[1],_E=useEffectState(_t,0),Bh=_slicedToArray(_E,2),_I=Bh[0],zf=Bh[1],oQ=useEffectState(_t,0),gQ=_slicedToArray(oQ,2),yQ=gQ[0],NQ=gQ[1],uQ=reactExports.useState(null),_B=_slicedToArray(uQ,2),IQ=_B[0],SQ=_B[1],dQ=reactExports.useState(null),pQ=_slicedToArray(dQ,2),aQ=pQ[0],Ah=pQ[1],da=reactExports.useMemo(function(){return aQ===null&&_r?Number.MAX_SAFE_INTEGER:aQ||0},[aQ,oa]),Wa=reactExports.useState(!1),_l=_slicedToArray(Wa,2),vd=_l[0],CQ=_l[1],tQ="".concat(i,"-item"),BQ=Math.max(_u,_I),_m=w===RESPONSIVE,DQ=g.length&&_m,UQ=w===INVALIDATE,XQ=DQ||typeof w=="number"&&g.length>w,b0=reactExports.useMemo(function(){var PQ=g;return DQ?oa===null&&_r?PQ=g:PQ=g.slice(0,Math.min(g.length,fa/Q)):typeof w=="number"&&(PQ=g.slice(0,w)),PQ},[g,Q,oa,w,DQ]),D0=reactExports.useMemo(function(){return DQ?g.slice(da+1):g.slice(b0.length)},[g,b0,DQ,da]),_p=reactExports.useCallback(function(PQ,_Q){var _y;return typeof p=="function"?p(PQ):(_y=p&&(PQ==null?void 0:PQ[p]))!==null&&_y!==void 0?_y:_Q},[p]),TQ=reactExports.useCallback(l||function(PQ){return PQ},[l]);function YQ(PQ,_Q,_y){aQ===PQ&&(_Q===void 0||_Q===IQ)||(Ah(PQ),_y||(CQ(PQ<g.length-1),W==null||W(PQ)),_Q!==void 0&&SQ(_Q))}function hQ(PQ,_Q){ha(_Q.clientWidth)}function F0(PQ,_Q){Ra(function(_y){var T0=new Map(_y);return _Q===null?T0.delete(PQ):T0.set(PQ,_Q),T0})}function r_(PQ,_Q){zf(_Q),Uc(_I)}function Y0(PQ,_Q){NQ(_Q)}function J0(PQ){return ma.get(_p(b0[PQ],PQ))}useLayoutEffect$1(function(){if(fa&&typeof BQ=="number"&&b0){var PQ=yQ,_Q=b0.length,_y=_Q-1;if(!_Q){YQ(0,null);return}for(var T0=0;T0<_Q;T0+=1){var B0=J0(T0);if(_r&&(B0=B0||0),B0===void 0){YQ(T0-1,void 0,!0);break}if(PQ+=B0,_y===0&&PQ<=fa||T0===_y-1&&PQ+J0(_y)<=fa){YQ(_y,null);break}else if(PQ+BQ>fa){YQ(T0-1,PQ-B0-yQ+_I);break}}K&&J0(0)+yQ>fa&&SQ(null)}},[fa,ma,_I,yQ,_p,b0]);var K_=vd&&!!D0.length,dS={};IQ!==null&&DQ&&(dS={position:"absolute",left:IQ,top:0});var V_={prefixCls:tQ,responsive:DQ,component:F,invalidate:UQ},ER=C?function(PQ,_Q){var _y=_p(PQ,_Q);return reactExports.createElement(OverflowContext.Provider,{key:_y,value:_objectSpread2(_objectSpread2({},V_),{},{order:_Q,item:PQ,itemKey:_y,registerSize:F0,display:_Q<=da})},C(PQ,_Q))}:function(PQ,_Q){var _y=_p(PQ,_Q);return reactExports.createElement(Item$2,_extends({},V_,{order:_Q,key:_y,item:PQ,renderItem:TQ,itemKey:_y,registerSize:F0,display:_Q<=da}))},__,i_={order:K_?da:Number.MAX_SAFE_INTEGER,className:"".concat(tQ,"-rest"),registerSize:r_,display:K_};if(P)P&&(__=reactExports.createElement(OverflowContext.Provider,{value:_objectSpread2(_objectSpread2({},V_),i_)},P(D0)));else{var w_=O||defaultRenderRest;__=reactExports.createElement(Item$2,_extends({},V_,i_),typeof w_=="function"?w_(D0):w_)}var K0=reactExports.createElement(U,_extends({className:classNames(!UQ&&i,S),style:_,ref:e},ae),b0.map(ER),XQ?__:null,K&&reactExports.createElement(Item$2,_extends({},V_,{responsive:_m,responsiveDisabled:!DQ,order:da,className:"".concat(tQ,"-suffix"),registerSize:Y0,display:!0,style:dS}),K));return _m&&(K0=reactExports.createElement(RefResizeObserver,{onResize:hQ,disabled:!DQ},K0)),K0}var ForwardOverflow=reactExports.forwardRef(Overflow);ForwardOverflow.displayName="Overflow";ForwardOverflow.Item=RawItem;ForwardOverflow.RESPONSIVE=RESPONSIVE;ForwardOverflow.INVALIDATE=INVALIDATE;var Input=function(e,n){var i,s=e.prefixCls,g=e.id,l=e.inputElement,C=e.disabled,p=e.tabIndex,B=e.autoFocus,Q=e.autoComplete,y=e.editable,_=e.activeDescendantId,S=e.value,w=e.maxLength,O=e.onKeyDown,P=e.onMouseDown,K=e.onChange,M=e.onPaste,U=e.onCompositionStart,F=e.onCompositionEnd,W=e.open,ae=e.attrs,_r=l||reactExports.createElement("input",null),_t=_r,_A=_t.ref,na=_t.props,oa=na.onKeyDown,ha=na.onChange,fa=na.onMouseDown,Da=na.onCompositionStart,ga=na.onCompositionEnd,ma=na.style;return warning$1(!("maxLength"in _r.props)),_r=reactExports.cloneElement(_r,_objectSpread2(_objectSpread2(_objectSpread2({type:"search"},na),{},{id:g,ref:composeRef(n,_A),disabled:C,tabIndex:p,autoComplete:Q||"off",autoFocus:B,className:classNames("".concat(s,"-selection-search-input"),(i=_r)===null||i===void 0||(i=i.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":W||!1,"aria-haspopup":"listbox","aria-owns":"".concat(g,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(g,"_list"),"aria-activedescendant":W?_:void 0},ae),{},{value:y?S:"",maxLength:w,readOnly:!y,unselectable:y?null:"on",style:_objectSpread2(_objectSpread2({},ma),{},{opacity:y?null:0}),onKeyDown:function($a){O($a),oa&&oa($a)},onMouseDown:function($a){P($a),fa&&fa($a)},onChange:function($a){K($a),ha&&ha($a)},onCompositionStart:function($a){U($a),Da&&Da($a)},onCompositionEnd:function($a){F($a),ga&&ga($a)},onPaste:M})),_r},RefInput=reactExports.forwardRef(Input);function toArray$1(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}var isClient=typeof window<"u"&&window.document&&window.document.documentElement,isBrowserClient$1=isClient;function hasValue(t){return t!=null}function isComboNoValue(t){return!t&&t!==0}function isTitleType$1(t){return["string","number"].includes(_typeof(t))}function getTitle(t){var e=void 0;return t&&(isTitleType$1(t.title)?e=t.title.toString():isTitleType$1(t.label)&&(e=t.label.toString())),e}function useLayoutEffect(t,e){isBrowserClient$1?reactExports.useLayoutEffect(t,e):reactExports.useEffect(t,e)}function itemKey(t){var e;return(e=t.key)!==null&&e!==void 0?e:t.value}var onPreventMouseDown=function(e){e.preventDefault(),e.stopPropagation()},SelectSelector=function(e){var n=e.id,i=e.prefixCls,s=e.values,g=e.open,l=e.searchValue,C=e.autoClearSearchValue,p=e.inputRef,B=e.placeholder,Q=e.disabled,y=e.mode,_=e.showSearch,S=e.autoFocus,w=e.autoComplete,O=e.activeDescendantId,P=e.tabIndex,K=e.removeIcon,M=e.maxTagCount,U=e.maxTagTextLength,F=e.maxTagPlaceholder,W=F===void 0?function(SQ){return"+ ".concat(SQ.length," ...")}:F,ae=e.tagRender,_r=e.onToggleOpen,_t=e.onRemove,_A=e.onInputChange,na=e.onInputPaste,oa=e.onInputKeyDown,ha=e.onInputMouseDown,fa=e.onInputCompositionStart,Da=e.onInputCompositionEnd,ga=reactExports.useRef(null),ma=reactExports.useState(0),Ra=_slicedToArray(ma,2),$a=Ra[0],Ka=Ra[1],_u=reactExports.useState(!1),Uc=_slicedToArray(_u,2),_E=Uc[0],Bh=Uc[1],_I="".concat(i,"-selection"),zf=g||y==="multiple"&&C===!1||y==="tags"?l:"",oQ=y==="tags"||y==="multiple"&&C===!1||_&&(g||_E);useLayoutEffect(function(){Ka(ga.current.scrollWidth)},[zf]);var gQ=function(dQ,pQ,aQ,Ah,da){return reactExports.createElement("span",{title:getTitle(dQ),className:classNames("".concat(_I,"-item"),_defineProperty({},"".concat(_I,"-item-disabled"),aQ))},reactExports.createElement("span",{className:"".concat(_I,"-item-content")},pQ),Ah&&reactExports.createElement(TransBtn,{className:"".concat(_I,"-item-remove"),onMouseDown:onPreventMouseDown,onClick:da,customizeIcon:K},""))},yQ=function(dQ,pQ,aQ,Ah,da,Wa){var _l=function(CQ){onPreventMouseDown(CQ),_r(!g)};return reactExports.createElement("span",{onMouseDown:_l},ae({label:pQ,value:dQ,disabled:aQ,closable:Ah,onClose:da,isMaxTag:!!Wa}))},NQ=function(dQ){var pQ=dQ.disabled,aQ=dQ.label,Ah=dQ.value,da=!Q&&!pQ,Wa=aQ;if(typeof U=="number"&&(typeof aQ=="string"||typeof aQ=="number")){var _l=String(Wa);_l.length>U&&(Wa="".concat(_l.slice(0,U),"..."))}var vd=function(tQ){tQ&&tQ.stopPropagation(),_t(dQ)};return typeof ae=="function"?yQ(Ah,Wa,pQ,da,vd):gQ(dQ,Wa,pQ,da,vd)},uQ=function(dQ){var pQ=typeof W=="function"?W(dQ):W;return typeof ae=="function"?yQ(void 0,pQ,!1,!1,void 0,!0):gQ({title:pQ},pQ,!1)},_B=reactExports.createElement("div",{className:"".concat(_I,"-search"),style:{width:$a},onFocus:function(){Bh(!0)},onBlur:function(){Bh(!1)}},reactExports.createElement(RefInput,{ref:p,open:g,prefixCls:i,id:n,inputElement:null,disabled:Q,autoFocus:S,autoComplete:w,editable:oQ,activeDescendantId:O,value:zf,onKeyDown:oa,onMouseDown:ha,onChange:_A,onPaste:na,onCompositionStart:fa,onCompositionEnd:Da,tabIndex:P,attrs:pickAttrs(e,!0)}),reactExports.createElement("span",{ref:ga,className:"".concat(_I,"-search-mirror"),"aria-hidden":!0},zf,"")),IQ=reactExports.createElement(ForwardOverflow,{prefixCls:"".concat(_I,"-overflow"),data:s,renderItem:NQ,renderRest:uQ,suffix:_B,itemKey,maxCount:M});return reactExports.createElement(reactExports.Fragment,null,IQ,!s.length&&!zf&&reactExports.createElement("span",{className:"".concat(_I,"-placeholder")},B))},SingleSelector=function(e){var n=e.inputElement,i=e.prefixCls,s=e.id,g=e.inputRef,l=e.disabled,C=e.autoFocus,p=e.autoComplete,B=e.activeDescendantId,Q=e.mode,y=e.open,_=e.values,S=e.placeholder,w=e.tabIndex,O=e.showSearch,P=e.searchValue,K=e.activeValue,M=e.maxLength,U=e.onInputKeyDown,F=e.onInputMouseDown,W=e.onInputChange,ae=e.onInputPaste,_r=e.onInputCompositionStart,_t=e.onInputCompositionEnd,_A=e.title,na=reactExports.useState(!1),oa=_slicedToArray(na,2),ha=oa[0],fa=oa[1],Da=Q==="combobox",ga=Da||O,ma=_[0],Ra=P||"";Da&&K&&!ha&&(Ra=K),reactExports.useEffect(function(){Da&&fa(!1)},[Da,K]);var $a=Q!=="combobox"&&!y&&!O?!1:!!Ra,Ka=_A===void 0?getTitle(ma):_A,_u=reactExports.useMemo(function(){return ma?null:reactExports.createElement("span",{className:"".concat(i,"-selection-placeholder"),style:$a?{visibility:"hidden"}:void 0},S)},[ma,$a,S,i]);return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("span",{className:"".concat(i,"-selection-search")},reactExports.createElement(RefInput,{ref:g,prefixCls:i,id:s,open:y,inputElement:n,disabled:l,autoFocus:C,autoComplete:p,editable:ga,activeDescendantId:B,value:Ra,onKeyDown:U,onMouseDown:F,onChange:function(_E){fa(!0),W(_E)},onPaste:ae,onCompositionStart:_r,onCompositionEnd:_t,tabIndex:w,attrs:pickAttrs(e,!0),maxLength:Da?M:void 0})),!Da&&ma?reactExports.createElement("span",{className:"".concat(i,"-selection-item"),title:Ka,style:$a?{visibility:"hidden"}:void 0},ma.label):null,_u)},Selector=function(e,n){var i=reactExports.useRef(null),s=reactExports.useRef(!1),g=e.prefixCls,l=e.open,C=e.mode,p=e.showSearch,B=e.tokenWithEnter,Q=e.disabled,y=e.autoClearSearchValue,_=e.onSearch,S=e.onSearchSubmit,w=e.onToggleOpen,O=e.onInputKeyDown,P=e.domRef;reactExports.useImperativeHandle(n,function(){return{focus:function($a){i.current.focus($a)},blur:function(){i.current.blur()}}});var K=useLock(0),M=_slicedToArray(K,2),U=M[0],F=M[1],W=function($a){var Ka=$a.which;(Ka===KeyCode.UP||Ka===KeyCode.DOWN)&&$a.preventDefault(),O&&O($a),Ka===KeyCode.ENTER&&C==="tags"&&!s.current&&!l&&(S==null||S($a.target.value)),isValidateOpenKey(Ka)&&w(!0)},ae=function(){F(!0)},_r=reactExports.useRef(null),_t=function($a){_($a,!0,s.current)!==!1&&w(!0)},_A=function(){s.current=!0},na=function($a){s.current=!1,C!=="combobox"&&_t($a.target.value)},oa=function($a){var Ka=$a.target.value;if(B&&_r.current&&/[\r\n]/.test(_r.current)){var _u=_r.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Ka=Ka.replace(_u,_r.current)}_r.current=null,_t(Ka)},ha=function($a){var Ka=$a.clipboardData,_u=Ka==null?void 0:Ka.getData("text");_r.current=_u||""},fa=function($a){var Ka=$a.target;if(Ka!==i.current){var _u=document.body.style.msTouchAction!==void 0;_u?setTimeout(function(){i.current.focus()}):i.current.focus()}},Da=function($a){var Ka=U();$a.target!==i.current&&!Ka&&!(C==="combobox"&&Q)&&$a.preventDefault(),(C!=="combobox"&&(!p||!Ka)||!l)&&(l&&y!==!1&&_("",!0,!1),w())},ga={inputRef:i,onInputKeyDown:W,onInputMouseDown:ae,onInputChange:oa,onInputPaste:ha,onInputCompositionStart:_A,onInputCompositionEnd:na},ma=C==="multiple"||C==="tags"?reactExports.createElement(SelectSelector,_extends({},e,ga)):reactExports.createElement(SingleSelector,_extends({},e,ga));return reactExports.createElement("div",{ref:P,className:"".concat(g,"-selector"),onClick:fa,onMouseDown:Da},ma)},ForwardSelector=reactExports.forwardRef(Selector);function Arrow(t){var e=t.prefixCls,n=t.align,i=t.arrow,s=t.arrowPos,g=i||{},l=g.className,C=g.content,p=s.x,B=p===void 0?0:p,Q=s.y,y=Q===void 0?0:Q,_=reactExports.useRef();if(!n||!n.points)return null;var S={position:"absolute"};if(n.autoArrow!==!1){var w=n.points[0],O=n.points[1],P=w[0],K=w[1],M=O[0],U=O[1];P===M||!["t","b"].includes(P)?S.top=y:P==="t"?S.top=0:S.bottom=0,K===U||!["l","r"].includes(K)?S.left=B:K==="l"?S.left=0:S.right=0}return reactExports.createElement("div",{ref:_,className:classNames("".concat(e,"-arrow"),l),style:S},C)}function Mask(t){var e=t.prefixCls,n=t.open,i=t.zIndex,s=t.mask,g=t.motion;return s?reactExports.createElement(CSSMotion,_extends({},g,{motionAppear:!0,visible:n,removeOnLeave:!0}),function(l){var C=l.className;return reactExports.createElement("div",{style:{zIndex:i},className:classNames("".concat(e,"-mask"),C)})}):null}var PopupContent=reactExports.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),Popup$1=reactExports.forwardRef(function(t,e){var n=t.popup,i=t.className,s=t.prefixCls,g=t.style,l=t.target,C=t.onVisibleChanged,p=t.open,B=t.keepDom,Q=t.fresh,y=t.onClick,_=t.mask,S=t.arrow,w=t.arrowPos,O=t.align,P=t.motion,K=t.maskMotion,M=t.forceRender,U=t.getPopupContainer,F=t.autoDestroy,W=t.portal,ae=t.zIndex,_r=t.onMouseEnter,_t=t.onMouseLeave,_A=t.onPointerEnter,na=t.ready,oa=t.offsetX,ha=t.offsetY,fa=t.offsetR,Da=t.offsetB,ga=t.onAlign,ma=t.onPrepare,Ra=t.stretch,$a=t.targetWidth,Ka=t.targetHeight,_u=typeof n=="function"?n():n,Uc=p||B,_E=(U==null?void 0:U.length)>0,Bh=reactExports.useState(!U||!_E),_I=_slicedToArray(Bh,2),zf=_I[0],oQ=_I[1];if(useLayoutEffect$1(function(){!zf&&_E&&l&&oQ(!0)},[zf,_E,l]),!zf)return null;var gQ="auto",yQ={left:"-1000vw",top:"-1000vh",right:gQ,bottom:gQ};if(na||!p){var NQ,uQ=O.points,_B=O.dynamicInset||((NQ=O._experimental)===null||NQ===void 0?void 0:NQ.dynamicInset),IQ=_B&&uQ[0][1]==="r",SQ=_B&&uQ[0][0]==="b";IQ?(yQ.right=fa,yQ.left=gQ):(yQ.left=oa,yQ.right=gQ),SQ?(yQ.bottom=Da,yQ.top=gQ):(yQ.top=ha,yQ.bottom=gQ)}var dQ={};return Ra&&(Ra.includes("height")&&Ka?dQ.height=Ka:Ra.includes("minHeight")&&Ka&&(dQ.minHeight=Ka),Ra.includes("width")&&$a?dQ.width=$a:Ra.includes("minWidth")&&$a&&(dQ.minWidth=$a)),p||(dQ.pointerEvents="none"),reactExports.createElement(W,{open:M||Uc,getContainer:U&&function(){return U(l)},autoDestroy:F},reactExports.createElement(Mask,{prefixCls:s,open:p,zIndex:ae,mask:_,motion:K}),reactExports.createElement(RefResizeObserver,{onResize:ga,disabled:!p},function(pQ){return reactExports.createElement(CSSMotion,_extends({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:M,leavedClassName:"".concat(s,"-hidden")},P,{onAppearPrepare:ma,onEnterPrepare:ma,visible:p,onVisibleChanged:function(Ah){var da;P==null||(da=P.onVisibleChanged)===null||da===void 0||da.call(P,Ah),C(Ah)}}),function(aQ,Ah){var da=aQ.className,Wa=aQ.style,_l=classNames(s,da,i);return reactExports.createElement("div",{ref:composeRef(pQ,e,Ah),className:_l,style:_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({"--arrow-x":"".concat(w.x||0,"px"),"--arrow-y":"".concat(w.y||0,"px")},yQ),dQ),Wa),{},{boxSizing:"border-box",zIndex:ae},g),onMouseEnter:_r,onMouseLeave:_t,onPointerEnter:_A,onClick:y},S&&reactExports.createElement(Arrow,{prefixCls:s,arrow:S,arrowPos:w,align:O}),reactExports.createElement(PopupContent,{cache:!p&&!Q},_u))})}))}),TriggerWrapper=reactExports.forwardRef(function(t,e){var n=t.children,i=t.getTriggerDOMNode,s=supportRef(n),g=reactExports.useCallback(function(C){fillRef(e,i?i(C):C)},[i]),l=useComposeRef(g,n.ref);return s?reactExports.cloneElement(n,{ref:l}):n}),TriggerContext=reactExports.createContext(null);function toArray(t){return t?Array.isArray(t)?t:[t]:[]}function useAction(t,e,n,i){return reactExports.useMemo(function(){var s=toArray(n??e),g=toArray(i??e),l=new Set(s),C=new Set(g);return t&&(l.has("hover")&&(l.delete("hover"),l.add("click")),C.has("hover")&&(C.delete("hover"),C.add("click"))),[l,C]},[t,e,n,i])}function isPointsEq(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function getAlignPopupClassName(t,e,n,i){for(var s=n.points,g=Object.keys(t),l=0;l<g.length;l+=1){var C,p=g[l];if(isPointsEq((C=t[p])===null||C===void 0?void 0:C.points,s,i))return"".concat(e,"-placement-").concat(p)}return""}function getMotion(t,e,n,i){return e||(n?{motionName:"".concat(t,"-").concat(n)}:i?{motionName:i}:null)}function getWin(t){return t.ownerDocument.defaultView}function collectScroller(t){for(var e=[],n=t==null?void 0:t.parentElement,i=["hidden","scroll","clip","auto"];n;){var s=getWin(n).getComputedStyle(n),g=s.overflowX,l=s.overflowY,C=s.overflow;[g,l,C].some(function(p){return i.includes(p)})&&e.push(n),n=n.parentElement}return e}function toNum(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function getPxValue(t){return toNum(parseFloat(t),0)}function getVisibleArea(t,e){var n=_objectSpread2({},t);return(e||[]).forEach(function(i){if(!(i instanceof HTMLBodyElement||i instanceof HTMLHtmlElement)){var s=getWin(i).getComputedStyle(i),g=s.overflow,l=s.overflowClipMargin,C=s.borderTopWidth,p=s.borderBottomWidth,B=s.borderLeftWidth,Q=s.borderRightWidth,y=i.getBoundingClientRect(),_=i.offsetHeight,S=i.clientHeight,w=i.offsetWidth,O=i.clientWidth,P=getPxValue(C),K=getPxValue(p),M=getPxValue(B),U=getPxValue(Q),F=toNum(Math.round(y.width/w*1e3)/1e3),W=toNum(Math.round(y.height/_*1e3)/1e3),ae=(w-O-M-U)*F,_r=(_-S-P-K)*W,_t=P*W,_A=K*W,na=M*F,oa=U*F,ha=0,fa=0;if(g==="clip"){var Da=getPxValue(l);ha=Da*F,fa=Da*W}var ga=y.x+na-ha,ma=y.y+_t-fa,Ra=ga+y.width+2*ha-na-oa-ae,$a=ma+y.height+2*fa-_t-_A-_r;n.left=Math.max(n.left,ga),n.top=Math.max(n.top,ma),n.right=Math.min(n.right,Ra),n.bottom=Math.min(n.bottom,$a)}}),n}function getUnitOffset(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n="".concat(e),i=n.match(/^(.*)\%$/);return i?t*(parseFloat(i[1])/100):parseFloat(n)}function getNumberOffset(t,e){var n=e||[],i=_slicedToArray(n,2),s=i[0],g=i[1];return[getUnitOffset(t.width,s),getUnitOffset(t.height,g)]}function splitPoints(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function getAlignPoint(t,e){var n=e[0],i=e[1],s,g;return n==="t"?g=t.y:n==="b"?g=t.y+t.height:g=t.y+t.height/2,i==="l"?s=t.x:i==="r"?s=t.x+t.width:s=t.x+t.width/2,{x:s,y:g}}function reversePoints(t,e){var n={t:"b",b:"t",l:"r",r:"l"};return t.map(function(i,s){return s===e?n[i]||"c":i}).join("")}function useAlign(t,e,n,i,s,g,l){var C=reactExports.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:s[i]||{}}),p=_slicedToArray(C,2),B=p[0],Q=p[1],y=reactExports.useRef(0),_=reactExports.useMemo(function(){return e?collectScroller(e):[]},[e]),S=reactExports.useRef({}),w=function(){S.current={}};t||w();var O=useEvent(function(){if(e&&n&&t){let zS=function(TT,VR){var SN=arguments.length>2&&arguments[2]!==void 0?arguments[2]:BQ,l1=_I.x+TT,d1=_I.y+VR,lO=l1+SQ,E1=d1+IQ,LQ=Math.max(l1,SN.left),n0=Math.max(d1,SN.top),C_=Math.min(lO,SN.right),g_=Math.min(E1,SN.bottom);return Math.max(0,(C_-LQ)*(g_-n0))},WN=function(){j_=_I.y+_y,SS=j_+IQ,U_=_I.x+_Q,MS=U_+SQ};var M,U,F,W,ae=e,_r=ae.ownerDocument,_t=getWin(ae),_A=_t.getComputedStyle(ae),na=_A.width,oa=_A.height,ha=_A.position,fa=ae.style.left,Da=ae.style.top,ga=ae.style.right,ma=ae.style.bottom,Ra=ae.style.overflow,$a=_objectSpread2(_objectSpread2({},s[i]),g),Ka=_r.createElement("div");(M=ae.parentElement)===null||M===void 0||M.appendChild(Ka),Ka.style.left="".concat(ae.offsetLeft,"px"),Ka.style.top="".concat(ae.offsetTop,"px"),Ka.style.position=ha,Ka.style.height="".concat(ae.offsetHeight,"px"),Ka.style.width="".concat(ae.offsetWidth,"px"),ae.style.left="0",ae.style.top="0",ae.style.right="auto",ae.style.bottom="auto",ae.style.overflow="hidden";var _u;if(Array.isArray(n))_u={x:n[0],y:n[1],width:0,height:0};else{var Uc,_E,Bh=n.getBoundingClientRect();Bh.x=(Uc=Bh.x)!==null&&Uc!==void 0?Uc:Bh.left,Bh.y=(_E=Bh.y)!==null&&_E!==void 0?_E:Bh.top,_u={x:Bh.x,y:Bh.y,width:Bh.width,height:Bh.height}}var _I=ae.getBoundingClientRect();_I.x=(U=_I.x)!==null&&U!==void 0?U:_I.left,_I.y=(F=_I.y)!==null&&F!==void 0?F:_I.top;var zf=_r.documentElement,oQ=zf.clientWidth,gQ=zf.clientHeight,yQ=zf.scrollWidth,NQ=zf.scrollHeight,uQ=zf.scrollTop,_B=zf.scrollLeft,IQ=_I.height,SQ=_I.width,dQ=_u.height,pQ=_u.width,aQ={left:0,top:0,right:oQ,bottom:gQ},Ah={left:-_B,top:-uQ,right:yQ-_B,bottom:NQ-uQ},da=$a.htmlRegion,Wa="visible",_l="visibleFirst";da!=="scroll"&&da!==_l&&(da=Wa);var vd=da===_l,CQ=getVisibleArea(Ah,_),tQ=getVisibleArea(aQ,_),BQ=da===Wa?tQ:CQ,_m=vd?tQ:BQ;ae.style.left="auto",ae.style.top="auto",ae.style.right="0",ae.style.bottom="0";var DQ=ae.getBoundingClientRect();ae.style.left=fa,ae.style.top=Da,ae.style.right=ga,ae.style.bottom=ma,ae.style.overflow=Ra,(W=ae.parentElement)===null||W===void 0||W.removeChild(Ka);var UQ=toNum(Math.round(SQ/parseFloat(na)*1e3)/1e3),XQ=toNum(Math.round(IQ/parseFloat(oa)*1e3)/1e3);if(UQ===0||XQ===0||isDOM(n)&&!isVisible(n))return;var b0=$a.offset,D0=$a.targetOffset,_p=getNumberOffset(_I,b0),TQ=_slicedToArray(_p,2),YQ=TQ[0],hQ=TQ[1],F0=getNumberOffset(_u,D0),r_=_slicedToArray(F0,2),Y0=r_[0],J0=r_[1];_u.x-=Y0,_u.y-=J0;var K_=$a.points||[],dS=_slicedToArray(K_,2),V_=dS[0],ER=dS[1],__=splitPoints(ER),i_=splitPoints(V_),w_=getAlignPoint(_u,__),K0=getAlignPoint(_I,i_),PQ=_objectSpread2({},$a),_Q=w_.x-K0.x+YQ,_y=w_.y-K0.y+hQ,T0=zS(_Q,_y),B0=zS(_Q,_y,tQ),e0=getAlignPoint(_u,["t","l"]),xQ=getAlignPoint(_I,["t","l"]),GQ=getAlignPoint(_u,["b","r"]),VQ=getAlignPoint(_I,["b","r"]),g0=$a.overflow||{},M0=g0.adjustX,ES=g0.adjustY,x_=g0.shiftX,tS=g0.shiftY,u_=function(VR){return typeof VR=="boolean"?VR:VR>=0},j_,SS,U_,MS;WN();var kQ=u_(ES),OQ=i_[0]===__[0];if(kQ&&i_[0]==="t"&&(SS>_m.bottom||S.current.bt)){var $Q=_y;OQ?$Q-=IQ-dQ:$Q=e0.y-VQ.y-hQ;var C0=zS(_Q,$Q),P_=zS(_Q,$Q,tQ);C0>T0||C0===T0&&(!vd||P_>=B0)?(S.current.bt=!0,_y=$Q,hQ=-hQ,PQ.points=[reversePoints(i_,0),reversePoints(__,0)]):S.current.bt=!1}if(kQ&&i_[0]==="b"&&(j_<_m.top||S.current.tb)){var qS=_y;OQ?qS+=IQ-dQ:qS=GQ.y-xQ.y-hQ;var e_=zS(_Q,qS),yN=zS(_Q,qS,tQ);e_>T0||e_===T0&&(!vd||yN>=B0)?(S.current.tb=!0,_y=qS,hQ=-hQ,PQ.points=[reversePoints(i_,0),reversePoints(__,0)]):S.current.tb=!1}var fb=u_(M0),wR=i_[1]===__[1];if(fb&&i_[1]==="l"&&(MS>_m.right||S.current.rl)){var xS=_Q;wR?xS-=SQ-pQ:xS=e0.x-VQ.x-YQ;var HR=zS(xS,_y),YR=zS(xS,_y,tQ);HR>T0||HR===T0&&(!vd||YR>=B0)?(S.current.rl=!0,_Q=xS,YQ=-YQ,PQ.points=[reversePoints(i_,1),reversePoints(__,1)]):S.current.rl=!1}if(fb&&i_[1]==="r"&&(U_<_m.left||S.current.lr)){var WS=_Q;wR?WS+=SQ-pQ:WS=GQ.x-xQ.x-YQ;var _N=zS(WS,_y),qN=zS(WS,_y,tQ);_N>T0||_N===T0&&(!vd||qN>=B0)?(S.current.lr=!0,_Q=WS,YQ=-YQ,PQ.points=[reversePoints(i_,1),reversePoints(__,1)]):S.current.lr=!1}WN();var XS=x_===!0?0:x_;typeof XS=="number"&&(U_<tQ.left&&(_Q-=U_-tQ.left-YQ,_u.x+pQ<tQ.left+XS&&(_Q+=_u.x-tQ.left+pQ-XS)),MS>tQ.right&&(_Q-=MS-tQ.right-YQ,_u.x>tQ.right-XS&&(_Q+=_u.x-tQ.right+XS)));var nS=tS===!0?0:tS;typeof nS=="number"&&(j_<tQ.top&&(_y-=j_-tQ.top-hQ,_u.y+dQ<tQ.top+nS&&(_y+=_u.y-tQ.top+dQ-nS)),SS>tQ.bottom&&(_y-=SS-tQ.bottom-hQ,_u.y>tQ.bottom-nS&&(_y+=_u.y-tQ.bottom+nS)));var bR=_I.x+_Q,JR=bR+SQ,_0=_I.y+_y,v0=_0+IQ,i0=_u.x,q_=i0+pQ,H_=_u.y,v_=H_+dQ,Y_=Math.max(bR,i0),US=Math.min(JR,q_),QS=(Y_+US)/2,IR=QS-bR,PS=Math.max(_0,H_),GS=Math.min(v0,v_),DR=(PS+GS)/2,_b=DR-_0;l==null||l(e,PQ);var vN=DQ.right-_I.x-(_Q+_I.width),NR=DQ.bottom-_I.y-(_y+_I.height);UQ===1&&(_Q=Math.round(_Q),vN=Math.round(vN)),XQ===1&&(_y=Math.round(_y),NR=Math.round(NR));var g1={ready:!0,offsetX:_Q/UQ,offsetY:_y/XQ,offsetR:vN/UQ,offsetB:NR/XQ,arrowX:IR/UQ,arrowY:_b/XQ,scaleX:UQ,scaleY:XQ,align:PQ};Q(g1)}}),P=function(){y.current+=1;var U=y.current;Promise.resolve().then(function(){y.current===U&&O()})},K=function(){Q(function(U){return _objectSpread2(_objectSpread2({},U),{},{ready:!1})})};return useLayoutEffect$1(K,[i]),useLayoutEffect$1(function(){t||K()},[t]),[B.ready,B.offsetX,B.offsetY,B.offsetR,B.offsetB,B.arrowX,B.arrowY,B.scaleX,B.scaleY,B.align,P]}function useWatch(t,e,n,i,s){useLayoutEffect$1(function(){if(t&&e&&n){let y=function(){i(),s()};var g=e,l=n,C=collectScroller(g),p=collectScroller(l),B=getWin(l),Q=new Set([B].concat(_toConsumableArray(C),_toConsumableArray(p)));return Q.forEach(function(_){_.addEventListener("scroll",y,{passive:!0})}),B.addEventListener("resize",y,{passive:!0}),i(),function(){Q.forEach(function(_){_.removeEventListener("scroll",y),B.removeEventListener("resize",y)})}}},[t,e,n])}function useWinClick(t,e,n,i,s,g,l,C){var p=reactExports.useRef(t);p.current=t,reactExports.useEffect(function(){if(e&&i&&(!s||g)){var B=function(S){var w;p.current&&!l(((w=S.composedPath)===null||w===void 0||(w=w.call(S))===null||w===void 0?void 0:w[0])||S.target)&&C(!1)},Q=getWin(i);Q.addEventListener("mousedown",B,!0),Q.addEventListener("contextmenu",B,!0);var y=getShadowRoot(n);return y&&(y.addEventListener("mousedown",B,!0),y.addEventListener("contextmenu",B,!0)),function(){Q.removeEventListener("mousedown",B,!0),Q.removeEventListener("contextmenu",B,!0),y&&(y.removeEventListener("mousedown",B,!0),y.removeEventListener("contextmenu",B,!0))}}},[e,n,i,s,g])}var _excluded$9=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function generateTrigger(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Portal,e=reactExports.forwardRef(function(n,i){var s=n.prefixCls,g=s===void 0?"rc-trigger-popup":s,l=n.children,C=n.action,p=C===void 0?"hover":C,B=n.showAction,Q=n.hideAction,y=n.popupVisible,_=n.defaultPopupVisible,S=n.onPopupVisibleChange,w=n.afterPopupVisibleChange,O=n.mouseEnterDelay,P=n.mouseLeaveDelay,K=P===void 0?.1:P,M=n.focusDelay,U=n.blurDelay,F=n.mask,W=n.maskClosable,ae=W===void 0?!0:W,_r=n.getPopupContainer,_t=n.forceRender,_A=n.autoDestroy,na=n.destroyPopupOnHide,oa=n.popup,ha=n.popupClassName,fa=n.popupStyle,Da=n.popupPlacement,ga=n.builtinPlacements,ma=ga===void 0?{}:ga,Ra=n.popupAlign,$a=n.zIndex,Ka=n.stretch,_u=n.getPopupClassNameFromAlign,Uc=n.fresh,_E=n.alignPoint,Bh=n.onPopupClick,_I=n.onPopupAlign,zf=n.arrow,oQ=n.popupMotion,gQ=n.maskMotion,yQ=n.popupTransitionName,NQ=n.popupAnimation,uQ=n.maskTransitionName,_B=n.maskAnimation,IQ=n.className,SQ=n.getTriggerDOMNode,dQ=_objectWithoutProperties(n,_excluded$9),pQ=_A||na||!1,aQ=reactExports.useState(!1),Ah=_slicedToArray(aQ,2),da=Ah[0],Wa=Ah[1];useLayoutEffect$1(function(){Wa(isMobile())},[]);var _l=reactExports.useRef({}),vd=reactExports.useContext(TriggerContext),CQ=reactExports.useMemo(function(){return{registerSubPopup:function(n0,C_){_l.current[n0]=C_,vd==null||vd.registerSubPopup(n0,C_)}}},[vd]),tQ=useId$1(),BQ=reactExports.useState(null),_m=_slicedToArray(BQ,2),DQ=_m[0],UQ=_m[1],XQ=reactExports.useRef(null),b0=useEvent(function(LQ){XQ.current=LQ,isDOM(LQ)&&DQ!==LQ&&UQ(LQ),vd==null||vd.registerSubPopup(tQ,LQ)}),D0=reactExports.useState(null),_p=_slicedToArray(D0,2),TQ=_p[0],YQ=_p[1],hQ=reactExports.useRef(null),F0=useEvent(function(LQ){isDOM(LQ)&&TQ!==LQ&&(YQ(LQ),hQ.current=LQ)}),r_=reactExports.Children.only(l),Y0=(r_==null?void 0:r_.props)||{},J0={},K_=useEvent(function(LQ){var n0,C_,g_=TQ;return(g_==null?void 0:g_.contains(LQ))||((n0=getShadowRoot(g_))===null||n0===void 0?void 0:n0.host)===LQ||LQ===g_||(DQ==null?void 0:DQ.contains(LQ))||((C_=getShadowRoot(DQ))===null||C_===void 0?void 0:C_.host)===LQ||LQ===DQ||Object.values(_l.current).some(function(b_){return(b_==null?void 0:b_.contains(LQ))||LQ===b_})}),dS=getMotion(g,oQ,NQ,yQ),V_=getMotion(g,gQ,_B,uQ),ER=reactExports.useState(_||!1),__=_slicedToArray(ER,2),i_=__[0],w_=__[1],K0=y??i_,PQ=useEvent(function(LQ){y===void 0&&w_(LQ)});useLayoutEffect$1(function(){w_(y||!1)},[y]);var _Q=reactExports.useRef(K0);_Q.current=K0;var _y=reactExports.useRef([]);_y.current=[];var T0=useEvent(function(LQ){var n0;PQ(LQ),((n0=_y.current[_y.current.length-1])!==null&&n0!==void 0?n0:K0)!==LQ&&(_y.current.push(LQ),S==null||S(LQ))}),B0=reactExports.useRef(),e0=function(){clearTimeout(B0.current)},xQ=function(n0){var C_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;e0(),C_===0?T0(n0):B0.current=setTimeout(function(){T0(n0)},C_*1e3)};reactExports.useEffect(function(){return e0},[]);var GQ=reactExports.useState(!1),VQ=_slicedToArray(GQ,2),g0=VQ[0],M0=VQ[1];useLayoutEffect$1(function(LQ){(!LQ||K0)&&M0(!0)},[K0]);var ES=reactExports.useState(null),x_=_slicedToArray(ES,2),tS=x_[0],u_=x_[1],j_=reactExports.useState(null),SS=_slicedToArray(j_,2),U_=SS[0],MS=SS[1],kQ=function(n0){MS([n0.clientX,n0.clientY])},OQ=useAlign(K0,DQ,_E&&U_!==null?U_:TQ,Da,ma,Ra,_I),$Q=_slicedToArray(OQ,11),C0=$Q[0],P_=$Q[1],qS=$Q[2],e_=$Q[3],yN=$Q[4],fb=$Q[5],wR=$Q[6],xS=$Q[7],HR=$Q[8],YR=$Q[9],WS=$Q[10],_N=useAction(da,p,B,Q),qN=_slicedToArray(_N,2),XS=qN[0],nS=qN[1],bR=XS.has("click"),JR=nS.has("click")||nS.has("contextMenu"),_0=useEvent(function(){g0||WS()}),v0=function(){_Q.current&&_E&&JR&&xQ(!1)};useWatch(K0,TQ,DQ,_0,v0),useLayoutEffect$1(function(){_0()},[U_,Da]),useLayoutEffect$1(function(){K0&&!(ma!=null&&ma[Da])&&_0()},[JSON.stringify(Ra)]);var i0=reactExports.useMemo(function(){var LQ=getAlignPopupClassName(ma,g,YR,_E);return classNames(LQ,_u==null?void 0:_u(YR))},[YR,_u,ma,g,_E]);reactExports.useImperativeHandle(i,function(){return{nativeElement:hQ.current,popupElement:XQ.current,forceAlign:_0}});var q_=reactExports.useState(0),H_=_slicedToArray(q_,2),v_=H_[0],Y_=H_[1],US=reactExports.useState(0),QS=_slicedToArray(US,2),IR=QS[0],PS=QS[1],GS=function(){if(Ka&&TQ){var n0=TQ.getBoundingClientRect();Y_(n0.width),PS(n0.height)}},DR=function(){GS(),_0()},_b=function(n0){M0(!1),WS(),w==null||w(n0)},vN=function(){return new Promise(function(n0){GS(),u_(function(){return n0})})};useLayoutEffect$1(function(){tS&&(WS(),tS(),u_(null))},[tS]);function NR(LQ,n0,C_,g_){J0[LQ]=function(b_){var I1;g_==null||g_(b_),xQ(n0,C_);for(var dO=arguments.length,CU=new Array(dO>1?dO-1:0),kT=1;kT<dO;kT++)CU[kT-1]=arguments[kT];(I1=Y0[LQ])===null||I1===void 0||I1.call.apply(I1,[Y0,b_].concat(CU))}}(bR||JR)&&(J0.onClick=function(LQ){var n0;_Q.current&&JR?xQ(!1):!_Q.current&&bR&&(kQ(LQ),xQ(!0));for(var C_=arguments.length,g_=new Array(C_>1?C_-1:0),b_=1;b_<C_;b_++)g_[b_-1]=arguments[b_];(n0=Y0.onClick)===null||n0===void 0||n0.call.apply(n0,[Y0,LQ].concat(g_))}),useWinClick(K0,JR,TQ,DQ,F,ae,K_,xQ);var g1=XS.has("hover"),zS=nS.has("hover"),WN,TT;g1&&(NR("onMouseEnter",!0,O,function(LQ){kQ(LQ)}),NR("onPointerEnter",!0,O,function(LQ){kQ(LQ)}),WN=function(n0){(K0||g0)&&DQ!==null&&DQ!==void 0&&DQ.contains(n0.target)&&xQ(!0,O)},_E&&(J0.onMouseMove=function(LQ){var n0;(n0=Y0.onMouseMove)===null||n0===void 0||n0.call(Y0,LQ)})),zS&&(NR("onMouseLeave",!1,K),NR("onPointerLeave",!1,K),TT=function(){xQ(!1,K)}),XS.has("focus")&&NR("onFocus",!0,M),nS.has("focus")&&NR("onBlur",!1,U),XS.has("contextMenu")&&(J0.onContextMenu=function(LQ){var n0;_Q.current&&nS.has("contextMenu")?xQ(!1):(kQ(LQ),xQ(!0)),LQ.preventDefault();for(var C_=arguments.length,g_=new Array(C_>1?C_-1:0),b_=1;b_<C_;b_++)g_[b_-1]=arguments[b_];(n0=Y0.onContextMenu)===null||n0===void 0||n0.call.apply(n0,[Y0,LQ].concat(g_))}),IQ&&(J0.className=classNames(Y0.className,IQ));var VR=_objectSpread2(_objectSpread2({},Y0),J0),SN={},l1=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];l1.forEach(function(LQ){dQ[LQ]&&(SN[LQ]=function(){for(var n0,C_=arguments.length,g_=new Array(C_),b_=0;b_<C_;b_++)g_[b_]=arguments[b_];(n0=VR[LQ])===null||n0===void 0||n0.call.apply(n0,[VR].concat(g_)),dQ[LQ].apply(dQ,g_)})});var d1=reactExports.cloneElement(r_,_objectSpread2(_objectSpread2({},VR),SN)),lO={x:fb,y:wR},E1=zf?_objectSpread2({},zf!==!0?zf:{}):null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(RefResizeObserver,{disabled:!K0,ref:F0,onResize:DR},reactExports.createElement(TriggerWrapper,{getTriggerDOMNode:SQ},d1)),reactExports.createElement(TriggerContext.Provider,{value:CQ},reactExports.createElement(Popup$1,{portal:t,ref:b0,prefixCls:g,popup:oa,className:classNames(ha,i0),style:fa,target:TQ,onMouseEnter:WN,onMouseLeave:TT,onPointerEnter:WN,zIndex:$a,open:K0,keepDom:g0,fresh:Uc,onClick:Bh,mask:F,motion:dS,maskMotion:V_,onVisibleChanged:_b,onPrepare:vN,forceRender:_t,autoDestroy:pQ,getPopupContainer:_r,align:YR,arrow:E1,arrowPos:lO,ready:C0,offsetX:P_,offsetY:qS,offsetR:e_,offsetB:yN,onAlign:_0,stretch:Ka,targetWidth:v_/xS,targetHeight:IR/HR})))});return e}const Trigger=generateTrigger(Portal);var _excluded$8=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],getBuiltInPlacements$1=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1},htmlRegion:"scroll"}}},SelectTrigger=function(e,n){var i=e.prefixCls;e.disabled;var s=e.visible,g=e.children,l=e.popupElement,C=e.animation,p=e.transitionName,B=e.dropdownStyle,Q=e.dropdownClassName,y=e.direction,_=y===void 0?"ltr":y,S=e.placement,w=e.builtinPlacements,O=e.dropdownMatchSelectWidth,P=e.dropdownRender,K=e.dropdownAlign,M=e.getPopupContainer,U=e.empty,F=e.getTriggerDOMNode,W=e.onPopupVisibleChange,ae=e.onPopupMouseEnter,_r=_objectWithoutProperties(e,_excluded$8),_t="".concat(i,"-dropdown"),_A=l;P&&(_A=P(l));var na=reactExports.useMemo(function(){return w||getBuiltInPlacements$1(O)},[w,O]),oa=C?"".concat(_t,"-").concat(C):p,ha=typeof O=="number",fa=reactExports.useMemo(function(){return ha?null:O===!1?"minWidth":"width"},[O,ha]),Da=B;ha&&(Da=_objectSpread2(_objectSpread2({},Da),{},{width:O}));var ga=reactExports.useRef(null);return reactExports.useImperativeHandle(n,function(){return{getPopupElement:function(){var Ra;return(Ra=ga.current)===null||Ra===void 0?void 0:Ra.popupElement}}}),reactExports.createElement(Trigger,_extends({},_r,{showAction:W?["click"]:[],hideAction:W?["click"]:[],popupPlacement:S||(_==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:na,prefixCls:_t,popupTransitionName:oa,popup:reactExports.createElement("div",{onMouseEnter:ae},_A),ref:ga,stretch:fa,popupAlign:K,popupVisible:s,getPopupContainer:M,popupClassName:classNames(Q,_defineProperty({},"".concat(_t,"-empty"),U)),popupStyle:Da,getTriggerDOMNode:F,onPopupVisibleChange:W}),g)},RefSelectTrigger=reactExports.forwardRef(SelectTrigger);function getKey(t,e){var n=t.key,i;return"value"in t&&(i=t.value),n??(i!==void 0?i:"rc-index-key-".concat(e))}function isValidCount(t){return typeof t<"u"&&!Number.isNaN(t)}function fillFieldNames(t,e){var n=t||{},i=n.label,s=n.value,g=n.options,l=n.groupLabel,C=i||(e?"children":"label");return{label:C,value:s||"value",options:g||"options",groupLabel:l||C}}function flattenOptions(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,i=e.childrenAsData,s=[],g=fillFieldNames(n,!1),l=g.label,C=g.value,p=g.options,B=g.groupLabel;function Q(y,_){Array.isArray(y)&&y.forEach(function(S){if(_||!(p in S)){var w=S[C];s.push({key:getKey(S,s.length),groupOption:_,data:S,label:S[l],value:w})}else{var O=S[B];O===void 0&&i&&(O=S.label),s.push({key:getKey(S,s.length),group:!0,data:S,label:O}),Q(S[p],!0)}})}return Q(t,!1),s}function injectPropsWithOption(t){var e=_objectSpread2({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return warningOnce(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}var getSeparatedContent=function(e,n,i){if(!n||!n.length)return null;var s=!1,g=function C(p,B){var Q=_toArray(B),y=Q[0],_=Q.slice(1);if(!y)return[p];var S=p.split(y);return s=s||S.length>1,S.reduce(function(w,O){return[].concat(_toConsumableArray(w),_toConsumableArray(C(O,_)))},[]).filter(Boolean)},l=g(e,n);return s?typeof i<"u"?l.slice(0,i):l:null},SelectContext=reactExports.createContext(null);function Polite(t){var e=t.visible,n=t.values;if(!e)return null;var i=50;return reactExports.createElement("span",{"aria-live":"polite",style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0}},"".concat(n.slice(0,i).map(function(s){var g=s.label,l=s.value;return["number","string"].includes(_typeof(g))?g:l}).join(", ")),n.length>i?", ...":null)}var _excluded$7=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],DEFAULT_OMIT_PROPS=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"],isMultiple=function(e){return e==="tags"||e==="multiple"},BaseSelect=reactExports.forwardRef(function(t,e){var n,i=t.id,s=t.prefixCls,g=t.className,l=t.showSearch,C=t.tagRender,p=t.direction,B=t.omitDomProps,Q=t.displayValues,y=t.onDisplayValuesChange,_=t.emptyOptions,S=t.notFoundContent,w=S===void 0?"Not Found":S,O=t.onClear,P=t.mode,K=t.disabled,M=t.loading,U=t.getInputElement,F=t.getRawInputElement,W=t.open,ae=t.defaultOpen,_r=t.onDropdownVisibleChange,_t=t.activeValue,_A=t.onActiveValueChange,na=t.activeDescendantId,oa=t.searchValue,ha=t.autoClearSearchValue,fa=t.onSearch,Da=t.onSearchSplit,ga=t.tokenSeparators,ma=t.allowClear,Ra=t.suffixIcon,$a=t.clearIcon,Ka=t.OptionList,_u=t.animation,Uc=t.transitionName,_E=t.dropdownStyle,Bh=t.dropdownClassName,_I=t.dropdownMatchSelectWidth,zf=t.dropdownRender,oQ=t.dropdownAlign,gQ=t.placement,yQ=t.builtinPlacements,NQ=t.getPopupContainer,uQ=t.showAction,_B=uQ===void 0?[]:uQ,IQ=t.onFocus,SQ=t.onBlur,dQ=t.onKeyUp,pQ=t.onKeyDown,aQ=t.onMouseDown,Ah=_objectWithoutProperties(t,_excluded$7),da=isMultiple(P),Wa=(l!==void 0?l:da)||P==="combobox",_l=_objectSpread2({},Ah);DEFAULT_OMIT_PROPS.forEach(function(v0){delete _l[v0]}),B==null||B.forEach(function(v0){delete _l[v0]});var vd=reactExports.useState(!1),CQ=_slicedToArray(vd,2),tQ=CQ[0],BQ=CQ[1];reactExports.useEffect(function(){BQ(isMobile())},[]);var _m=reactExports.useRef(null),DQ=reactExports.useRef(null),UQ=reactExports.useRef(null),XQ=reactExports.useRef(null),b0=reactExports.useRef(null),D0=reactExports.useRef(!1),_p=useDelayReset(),TQ=_slicedToArray(_p,3),YQ=TQ[0],hQ=TQ[1],F0=TQ[2];reactExports.useImperativeHandle(e,function(){var v0,i0;return{focus:(v0=XQ.current)===null||v0===void 0?void 0:v0.focus,blur:(i0=XQ.current)===null||i0===void 0?void 0:i0.blur,scrollTo:function(H_){var v_;return(v_=b0.current)===null||v_===void 0?void 0:v_.scrollTo(H_)},nativeElement:_m.current||DQ.current}});var r_=reactExports.useMemo(function(){var v0;if(P!=="combobox")return oa;var i0=(v0=Q[0])===null||v0===void 0?void 0:v0.value;return typeof i0=="string"||typeof i0=="number"?String(i0):""},[oa,P,Q]),Y0=P==="combobox"&&typeof U=="function"&&U()||null,J0=typeof F=="function"&&F(),K_=useComposeRef(DQ,J0==null||(n=J0.props)===null||n===void 0?void 0:n.ref),dS=reactExports.useState(!1),V_=_slicedToArray(dS,2),ER=V_[0],__=V_[1];useLayoutEffect$1(function(){__(!0)},[]);var i_=useMergedState(!1,{defaultValue:ae,value:W}),w_=_slicedToArray(i_,2),K0=w_[0],PQ=w_[1],_Q=ER?K0:!1,_y=!w&&_;(K||_y&&_Q&&P==="combobox")&&(_Q=!1);var T0=_y?!1:_Q,B0=reactExports.useCallback(function(v0){var i0=v0!==void 0?v0:!_Q;K||(PQ(i0),_Q!==i0&&(_r==null||_r(i0)))},[K,_Q,PQ,_r]),e0=reactExports.useMemo(function(){return(ga||[]).some(function(v0){return[`
`,`\r
`].includes(v0)})},[ga]),xQ=reactExports.useContext(SelectContext)||{},GQ=xQ.maxCount,VQ=xQ.rawValues,g0=function(i0,q_,H_){if(!(da&&isValidCount(GQ)&&(VQ==null?void 0:VQ.size)>=GQ)){var v_=!0,Y_=i0;_A==null||_A(null);var US=getSeparatedContent(i0,ga,isValidCount(GQ)?GQ-VQ.size:void 0),QS=H_?null:US;return P!=="combobox"&&QS&&(Y_="",Da==null||Da(QS),B0(!1),v_=!1),fa&&r_!==Y_&&fa(Y_,{source:q_?"typing":"effect"}),v_}},M0=function(i0){!i0||!i0.trim()||fa(i0,{source:"submit"})};reactExports.useEffect(function(){!_Q&&!da&&P!=="combobox"&&g0("",!1,!1)},[_Q]),reactExports.useEffect(function(){K0&&K&&PQ(!1),K&&!D0.current&&hQ(!1)},[K]);var ES=useLock(),x_=_slicedToArray(ES,2),tS=x_[0],u_=x_[1],j_=reactExports.useRef(!1),SS=function(i0){var q_=tS(),H_=i0.key,v_=H_==="Enter";if(v_&&(P!=="combobox"&&i0.preventDefault(),_Q||B0(!0)),u_(!!r_),H_==="Backspace"&&!q_&&da&&!r_&&Q.length){for(var Y_=_toConsumableArray(Q),US=null,QS=Y_.length-1;QS>=0;QS-=1){var IR=Y_[QS];if(!IR.disabled){Y_.splice(QS,1),US=IR;break}}US&&y(Y_,{type:"remove",values:[US]})}for(var PS=arguments.length,GS=new Array(PS>1?PS-1:0),DR=1;DR<PS;DR++)GS[DR-1]=arguments[DR];if(_Q&&(!v_||!j_.current)){var _b;(_b=b0.current)===null||_b===void 0||_b.onKeyDown.apply(_b,[i0].concat(GS))}v_&&(j_.current=!0),pQ==null||pQ.apply(void 0,[i0].concat(GS))},U_=function(i0){for(var q_=arguments.length,H_=new Array(q_>1?q_-1:0),v_=1;v_<q_;v_++)H_[v_-1]=arguments[v_];if(_Q){var Y_;(Y_=b0.current)===null||Y_===void 0||Y_.onKeyUp.apply(Y_,[i0].concat(H_))}i0.key==="Enter"&&(j_.current=!1),dQ==null||dQ.apply(void 0,[i0].concat(H_))},MS=function(i0){var q_=Q.filter(function(H_){return H_!==i0});y(q_,{type:"remove",values:[i0]})},kQ=reactExports.useRef(!1),OQ=function(){hQ(!0),K||(IQ&&!kQ.current&&IQ.apply(void 0,arguments),_B.includes("focus")&&B0(!0)),kQ.current=!0},$Q=function(){D0.current=!0,hQ(!1,function(){kQ.current=!1,D0.current=!1,B0(!1)}),!K&&(r_&&(P==="tags"?fa(r_,{source:"submit"}):P==="multiple"&&fa("",{source:"blur"})),SQ&&SQ.apply(void 0,arguments))},C0=[];reactExports.useEffect(function(){return function(){C0.forEach(function(v0){return clearTimeout(v0)}),C0.splice(0,C0.length)}},[]);var P_=function(i0){var q_,H_=i0.target,v_=(q_=UQ.current)===null||q_===void 0?void 0:q_.getPopupElement();if(v_&&v_.contains(H_)){var Y_=setTimeout(function(){var PS=C0.indexOf(Y_);if(PS!==-1&&C0.splice(PS,1),F0(),!tQ&&!v_.contains(document.activeElement)){var GS;(GS=XQ.current)===null||GS===void 0||GS.focus()}});C0.push(Y_)}for(var US=arguments.length,QS=new Array(US>1?US-1:0),IR=1;IR<US;IR++)QS[IR-1]=arguments[IR];aQ==null||aQ.apply(void 0,[i0].concat(QS))},qS=reactExports.useState({}),e_=_slicedToArray(qS,2),yN=e_[1];function fb(){yN({})}var wR;J0&&(wR=function(i0){B0(i0)}),useSelectTriggerControl(function(){var v0;return[_m.current,(v0=UQ.current)===null||v0===void 0?void 0:v0.getPopupElement()]},T0,B0,!!J0);var xS=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},t),{},{notFoundContent:w,open:_Q,triggerOpen:T0,id:i,showSearch:Wa,multiple:da,toggleOpen:B0})},[t,w,T0,_Q,i,Wa,da,B0]),HR=!!Ra||M,YR;HR&&(YR=reactExports.createElement(TransBtn,{className:classNames("".concat(s,"-arrow"),_defineProperty({},"".concat(s,"-arrow-loading"),M)),customizeIcon:Ra,customizeIconProps:{loading:M,searchValue:r_,open:_Q,focused:YQ,showSearch:Wa}}));var WS=function(){var i0;O==null||O(),(i0=XQ.current)===null||i0===void 0||i0.focus(),y([],{type:"clear",values:Q}),g0("",!1,!1)},_N=useAllowClear(s,WS,Q,ma,$a,K,r_,P),qN=_N.allowClear,XS=_N.clearIcon,nS=reactExports.createElement(Ka,{ref:b0}),bR=classNames(s,g,_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(s,"-focused"),YQ),"".concat(s,"-multiple"),da),"".concat(s,"-single"),!da),"".concat(s,"-allow-clear"),ma),"".concat(s,"-show-arrow"),HR),"".concat(s,"-disabled"),K),"".concat(s,"-loading"),M),"".concat(s,"-open"),_Q),"".concat(s,"-customize-input"),Y0),"".concat(s,"-show-search"),Wa)),JR=reactExports.createElement(RefSelectTrigger,{ref:UQ,disabled:K,prefixCls:s,visible:T0,popupElement:nS,animation:_u,transitionName:Uc,dropdownStyle:_E,dropdownClassName:Bh,direction:p,dropdownMatchSelectWidth:_I,dropdownRender:zf,dropdownAlign:oQ,placement:gQ,builtinPlacements:yQ,getPopupContainer:NQ,empty:_,getTriggerDOMNode:function(i0){return DQ.current||i0},onPopupVisibleChange:wR,onPopupMouseEnter:fb},J0?reactExports.cloneElement(J0,{ref:K_}):reactExports.createElement(ForwardSelector,_extends({},t,{domRef:DQ,prefixCls:s,inputElement:Y0,ref:XQ,id:i,showSearch:Wa,autoClearSearchValue:ha,mode:P,activeDescendantId:na,tagRender:C,values:Q,open:_Q,onToggleOpen:B0,activeValue:_t,searchValue:r_,onSearch:g0,onSearchSubmit:M0,onRemove:MS,tokenWithEnter:e0}))),_0;return J0?_0=JR:_0=reactExports.createElement("div",_extends({className:bR},_l,{ref:_m,onMouseDown:P_,onKeyDown:SS,onKeyUp:U_,onFocus:OQ,onBlur:$Q}),reactExports.createElement(Polite,{visible:YQ&&!_Q,values:Q}),JR,YR,qN&&XS),reactExports.createElement(BaseSelectContext.Provider,{value:xS},_0)}),OptGroup=function(){return null};OptGroup.isSelectOptGroup=!0;var Option=function(){return null};Option.isSelectOption=!0;var Filler=reactExports.forwardRef(function(t,e){var n=t.height,i=t.offsetY,s=t.offsetX,g=t.children,l=t.prefixCls,C=t.onInnerResize,p=t.innerProps,B=t.rtl,Q=t.extra,y={},_={display:"flex",flexDirection:"column"};return i!==void 0&&(y={height:n,position:"relative",overflow:"hidden"},_=_objectSpread2(_objectSpread2({},_),{},_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({transform:"translateY(".concat(i,"px)")},B?"marginRight":"marginLeft",-s),"position","absolute"),"left",0),"right",0),"top",0))),reactExports.createElement("div",{style:y},reactExports.createElement(RefResizeObserver,{onResize:function(w){var O=w.offsetHeight;O&&C&&C()}},reactExports.createElement("div",_extends({style:_,className:classNames(_defineProperty({},"".concat(l,"-holder-inner"),l)),ref:e},p),g,Q)))});Filler.displayName="Filler";function Item$1(t){var e=t.children,n=t.setRef,i=reactExports.useCallback(function(s){n(s)},[]);return reactExports.cloneElement(e,{ref:i})}function useChildren(t,e,n,i,s,g,l,C){var p=C.getKey;return t.slice(e,n+1).map(function(B,Q){var y=e+Q,_=l(B,y,{style:{width:i},offsetX:s}),S=p(B);return reactExports.createElement(Item$1,{key:S,setRef:function(O){return g(B,O)}},_)})}function findListDiffIndex(t,e,n){var i=t.length,s=e.length,g,l;if(i===0&&s===0)return null;i<s?(g=t,l=e):(g=e,l=t);var C={__EMPTY_ITEM__:!0};function p(w){return w!==void 0?n(w):C}for(var B=null,Q=Math.abs(i-s)!==1,y=0;y<l.length;y+=1){var _=p(g[y]),S=p(l[y]);if(_!==S){B=y,Q=Q||_!==p(l[y+1]);break}}return B===null?null:{index:B,multiple:Q}}function useDiffItem(t,e,n){var i=reactExports.useState(t),s=_slicedToArray(i,2),g=s[0],l=s[1],C=reactExports.useState(null),p=_slicedToArray(C,2),B=p[0],Q=p[1];return reactExports.useEffect(function(){var y=findListDiffIndex(g||[],t||[],e);(y==null?void 0:y.index)!==void 0&&Q(t[y.index]),l(t)},[t]),[B]}var isFF=(typeof navigator>"u"?"undefined":_typeof(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const useOriginScroll=function(t,e,n,i){var s=reactExports.useRef(!1),g=reactExports.useRef(null);function l(){clearTimeout(g.current),s.current=!0,g.current=setTimeout(function(){s.current=!1},50)}var C=reactExports.useRef({top:t,bottom:e,left:n,right:i});return C.current.top=t,C.current.bottom=e,C.current.left=n,C.current.right=i,function(p,B){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,y=p?B<0&&C.current.left||B>0&&C.current.right:B<0&&C.current.top||B>0&&C.current.bottom;return Q&&y?(clearTimeout(g.current),s.current=!1):(!y||s.current)&&l(),!s.current&&y}};function useFrameWheel(t,e,n,i,s,g,l){var C=reactExports.useRef(0),p=reactExports.useRef(null),B=reactExports.useRef(null),Q=reactExports.useRef(!1),y=useOriginScroll(e,n,i,s);function _(M,U){if(wrapperRaf.cancel(p.current),!y(!1,U)){var F=M;if(!F._virtualHandled)F._virtualHandled=!0;else return;C.current+=U,B.current=U,isFF||F.preventDefault(),p.current=wrapperRaf(function(){var W=Q.current?10:1;l(C.current*W,!1),C.current=0})}}function S(M,U){l(U,!0),isFF||M.preventDefault()}var w=reactExports.useRef(null),O=reactExports.useRef(null);function P(M){if(t){wrapperRaf.cancel(O.current),O.current=wrapperRaf(function(){w.current=null},2);var U=M.deltaX,F=M.deltaY,W=M.shiftKey,ae=U,_r=F;(w.current==="sx"||!w.current&&W&&F&&!U)&&(ae=F,_r=0,w.current="sx");var _t=Math.abs(ae),_A=Math.abs(_r);w.current===null&&(w.current=g&&_t>_A?"x":"y"),w.current==="y"?_(M,_r):S(M,ae)}}function K(M){t&&(Q.current=M.detail===B.current)}return[P,K]}function useGetSize(t,e,n,i){var s=reactExports.useMemo(function(){return[new Map,[]]},[t,n.id,i]),g=_slicedToArray(s,2),l=g[0],C=g[1],p=function(Q){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Q,_=l.get(Q),S=l.get(y);if(_===void 0||S===void 0)for(var w=t.length,O=C.length;O<w;O+=1){var P,K=t[O],M=e(K);l.set(M,O);var U=(P=n.get(M))!==null&&P!==void 0?P:i;if(C[O]=(C[O-1]||0)+U,M===Q&&(_=O),M===y&&(S=O),_!==void 0&&S!==void 0)break}return{top:C[_-1]||0,bottom:C[S]}};return p}var CacheMap=function(){function t(){_classCallCheck(this,t),_defineProperty(this,"maps",void 0),_defineProperty(this,"id",0),this.maps=Object.create(null)}return _createClass(t,[{key:"set",value:function(n,i){this.maps[n]=i,this.id+=1}},{key:"get",value:function(n){return this.maps[n]}}]),t}();function useHeights(t,e,n){var i=reactExports.useState(0),s=_slicedToArray(i,2),g=s[0],l=s[1],C=reactExports.useRef(new Map),p=reactExports.useRef(new CacheMap),B=reactExports.useRef();function Q(){wrapperRaf.cancel(B.current)}function y(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Q();var w=function(){C.current.forEach(function(P,K){if(P&&P.offsetParent){var M=findDOMNode(P),U=M.offsetHeight;p.current.get(K)!==U&&p.current.set(K,M.offsetHeight)}}),l(function(P){return P+1})};S?w():B.current=wrapperRaf(w)}function _(S,w){var O=t(S);C.current.get(O),w?(C.current.set(O,w),y()):C.current.delete(O)}return reactExports.useEffect(function(){return Q},[]),[_,y,p.current,g]}var SMOOTH_PTG=14/15;function useMobileTouchMove(t,e,n){var i=reactExports.useRef(!1),s=reactExports.useRef(0),g=reactExports.useRef(0),l=reactExports.useRef(null),C=reactExports.useRef(null),p,B=function(S){if(i.current){var w=Math.ceil(S.touches[0].pageX),O=Math.ceil(S.touches[0].pageY),P=s.current-w,K=g.current-O,M=Math.abs(P)>Math.abs(K);M?s.current=w:g.current=O;var U=n(M,M?P:K,!1,S);U&&S.preventDefault(),clearInterval(C.current),U&&(C.current=setInterval(function(){M?P*=SMOOTH_PTG:K*=SMOOTH_PTG;var F=Math.floor(M?P:K);(!n(M,F,!0)||Math.abs(F)<=.1)&&clearInterval(C.current)},16))}},Q=function(){i.current=!1,p()},y=function(S){p(),S.touches.length===1&&!i.current&&(i.current=!0,s.current=Math.ceil(S.touches[0].pageX),g.current=Math.ceil(S.touches[0].pageY),l.current=S.target,l.current.addEventListener("touchmove",B,{passive:!1}),l.current.addEventListener("touchend",Q,{passive:!0}))};p=function(){l.current&&(l.current.removeEventListener("touchmove",B),l.current.removeEventListener("touchend",Q))},useLayoutEffect$1(function(){return t&&e.current.addEventListener("touchstart",y,{passive:!0}),function(){var _;(_=e.current)===null||_===void 0||_.removeEventListener("touchstart",y),p(),clearInterval(C.current)}},[t])}var MAX_TIMES=10;function useScrollTo(t,e,n,i,s,g,l,C){var p=reactExports.useRef(),B=reactExports.useState(null),Q=_slicedToArray(B,2),y=Q[0],_=Q[1];return useLayoutEffect$1(function(){if(y&&y.times<MAX_TIMES){if(!t.current){_(function(Ka){return _objectSpread2({},Ka)});return}g();var S=y.targetAlign,w=y.originAlign,O=y.index,P=y.offset,K=t.current.clientHeight,M=!1,U=S,F=null;if(K){for(var W=S||w,ae=0,_r=0,_t=0,_A=Math.min(e.length-1,O),na=0;na<=_A;na+=1){var oa=s(e[na]);_r=ae;var ha=n.get(oa);_t=_r+(ha===void 0?i:ha),ae=_t}for(var fa=W==="top"?P:K-P,Da=_A;Da>=0;Da-=1){var ga=s(e[Da]),ma=n.get(ga);if(ma===void 0){M=!0;break}if(fa-=ma,fa<=0)break}switch(W){case"top":F=_r-P;break;case"bottom":F=_t-K+P;break;default:{var Ra=t.current.scrollTop,$a=Ra+K;_r<Ra?U="top":_t>$a&&(U="bottom")}}F!==null&&l(F),F!==y.lastTop&&(M=!0)}M&&_(_objectSpread2(_objectSpread2({},y),{},{times:y.times+1,targetAlign:U,lastTop:F}))}},[y,t.current]),function(S){if(S==null){C();return}if(wrapperRaf.cancel(p.current),typeof S=="number")l(S);else if(S&&_typeof(S)==="object"){var w,O=S.align;"index"in S?w=S.index:w=e.findIndex(function(M){return s(M)===S.key});var P=S.offset,K=P===void 0?0:P;_({times:0,index:w,offset:K,originAlign:O})}}}function getPageXY(t,e){var n="touches"in t?t.touches[0]:t;return n[e?"pageX":"pageY"]}var ScrollBar=reactExports.forwardRef(function(t,e){var n=t.prefixCls,i=t.rtl,s=t.scrollOffset,g=t.scrollRange,l=t.onStartMove,C=t.onStopMove,p=t.onScroll,B=t.horizontal,Q=t.spinSize,y=t.containerSize,_=t.style,S=t.thumbStyle,w=reactExports.useState(!1),O=_slicedToArray(w,2),P=O[0],K=O[1],M=reactExports.useState(null),U=_slicedToArray(M,2),F=U[0],W=U[1],ae=reactExports.useState(null),_r=_slicedToArray(ae,2),_t=_r[0],_A=_r[1],na=!i,oa=reactExports.useRef(),ha=reactExports.useRef(),fa=reactExports.useState(!1),Da=_slicedToArray(fa,2),ga=Da[0],ma=Da[1],Ra=reactExports.useRef(),$a=function(){clearTimeout(Ra.current),ma(!0),Ra.current=setTimeout(function(){ma(!1)},3e3)},Ka=g-y||0,_u=y-Q||0,Uc=reactExports.useMemo(function(){if(s===0||Ka===0)return 0;var uQ=s/Ka;return uQ*_u},[s,Ka,_u]),_E=function(_B){_B.stopPropagation(),_B.preventDefault()},Bh=reactExports.useRef({top:Uc,dragging:P,pageY:F,startTop:_t});Bh.current={top:Uc,dragging:P,pageY:F,startTop:_t};var _I=function(_B){K(!0),W(getPageXY(_B,B)),_A(Bh.current.top),l(),_B.stopPropagation(),_B.preventDefault()};reactExports.useEffect(function(){var uQ=function(dQ){dQ.preventDefault()},_B=oa.current,IQ=ha.current;return _B.addEventListener("touchstart",uQ,{passive:!1}),IQ.addEventListener("touchstart",_I,{passive:!1}),function(){_B.removeEventListener("touchstart",uQ),IQ.removeEventListener("touchstart",_I)}},[]);var zf=reactExports.useRef();zf.current=Ka;var oQ=reactExports.useRef();oQ.current=_u,reactExports.useEffect(function(){if(P){var uQ,_B=function(dQ){var pQ=Bh.current,aQ=pQ.dragging,Ah=pQ.pageY,da=pQ.startTop;wrapperRaf.cancel(uQ);var Wa=oa.current.getBoundingClientRect(),_l=y/(B?Wa.width:Wa.height);if(aQ){var vd=(getPageXY(dQ,B)-Ah)*_l,CQ=da;!na&&B?CQ-=vd:CQ+=vd;var tQ=zf.current,BQ=oQ.current,_m=BQ?CQ/BQ:0,DQ=Math.ceil(_m*tQ);DQ=Math.max(DQ,0),DQ=Math.min(DQ,tQ),uQ=wrapperRaf(function(){p(DQ,B)})}},IQ=function(){K(!1),C()};return window.addEventListener("mousemove",_B,{passive:!0}),window.addEventListener("touchmove",_B,{passive:!0}),window.addEventListener("mouseup",IQ,{passive:!0}),window.addEventListener("touchend",IQ,{passive:!0}),function(){window.removeEventListener("mousemove",_B),window.removeEventListener("touchmove",_B),window.removeEventListener("mouseup",IQ),window.removeEventListener("touchend",IQ),wrapperRaf.cancel(uQ)}}},[P]),reactExports.useEffect(function(){return $a(),function(){clearTimeout(Ra.current)}},[s]),reactExports.useImperativeHandle(e,function(){return{delayHidden:$a}});var gQ="".concat(n,"-scrollbar"),yQ={position:"absolute",visibility:ga?null:"hidden"},NQ={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return B?(yQ.height=8,yQ.left=0,yQ.right=0,yQ.bottom=0,NQ.height="100%",NQ.width=Q,na?NQ.left=Uc:NQ.right=Uc):(yQ.width=8,yQ.top=0,yQ.bottom=0,na?yQ.right=0:yQ.left=0,NQ.width="100%",NQ.height=Q,NQ.top=Uc),reactExports.createElement("div",{ref:oa,className:classNames(gQ,_defineProperty(_defineProperty(_defineProperty({},"".concat(gQ,"-horizontal"),B),"".concat(gQ,"-vertical"),!B),"".concat(gQ,"-visible"),ga)),style:_objectSpread2(_objectSpread2({},yQ),_),onMouseDown:_E,onMouseMove:$a},reactExports.createElement("div",{ref:ha,className:classNames("".concat(gQ,"-thumb"),_defineProperty({},"".concat(gQ,"-thumb-moving"),P)),style:_objectSpread2(_objectSpread2({},NQ),S),onMouseDown:_I}))}),MIN_SIZE=20;function getSpinSize(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=t/e*t;return isNaN(n)&&(n=0),n=Math.max(n,MIN_SIZE),Math.floor(n)}var _excluded$6=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],EMPTY_DATA=[],ScrollStyle={overflowY:"auto",overflowAnchor:"none"};function RawList(t,e){var n=t.prefixCls,i=n===void 0?"rc-virtual-list":n,s=t.className,g=t.height,l=t.itemHeight,C=t.fullHeight,p=C===void 0?!0:C,B=t.style,Q=t.data,y=t.children,_=t.itemKey,S=t.virtual,w=t.direction,O=t.scrollWidth,P=t.component,K=P===void 0?"div":P,M=t.onScroll,U=t.onVirtualScroll,F=t.onVisibleChange,W=t.innerProps,ae=t.extraRender,_r=t.styles,_t=_objectWithoutProperties(t,_excluded$6),_A=reactExports.useCallback(function(kQ){return typeof _=="function"?_(kQ):kQ==null?void 0:kQ[_]},[_]),na=useHeights(_A),oa=_slicedToArray(na,4),ha=oa[0],fa=oa[1],Da=oa[2],ga=oa[3],ma=!!(S!==!1&&g&&l),Ra=reactExports.useMemo(function(){return Object.values(Da.maps).reduce(function(kQ,OQ){return kQ+OQ},0)},[Da.id,Da.maps]),$a=ma&&Q&&(Math.max(l*Q.length,Ra)>g||!!O),Ka=w==="rtl",_u=classNames(i,_defineProperty({},"".concat(i,"-rtl"),Ka),s),Uc=Q||EMPTY_DATA,_E=reactExports.useRef(),Bh=reactExports.useRef(),_I=reactExports.useRef(),zf=reactExports.useState(0),oQ=_slicedToArray(zf,2),gQ=oQ[0],yQ=oQ[1],NQ=reactExports.useState(0),uQ=_slicedToArray(NQ,2),_B=uQ[0],IQ=uQ[1],SQ=reactExports.useState(!1),dQ=_slicedToArray(SQ,2),pQ=dQ[0],aQ=dQ[1],Ah=function(){aQ(!0)},da=function(){aQ(!1)},Wa={getKey:_A};function _l(kQ){yQ(function(OQ){var $Q;typeof kQ=="function"?$Q=kQ(OQ):$Q=kQ;var C0=ER($Q);return _E.current.scrollTop=C0,C0})}var vd=reactExports.useRef({start:0,end:Uc.length}),CQ=reactExports.useRef(),tQ=useDiffItem(Uc,_A),BQ=_slicedToArray(tQ,1),_m=BQ[0];CQ.current=_m;var DQ=reactExports.useMemo(function(){if(!ma)return{scrollHeight:void 0,start:0,end:Uc.length-1,offset:void 0};if(!$a){var kQ;return{scrollHeight:((kQ=Bh.current)===null||kQ===void 0?void 0:kQ.offsetHeight)||0,start:0,end:Uc.length-1,offset:void 0}}for(var OQ=0,$Q,C0,P_,qS=Uc.length,e_=0;e_<qS;e_+=1){var yN=Uc[e_],fb=_A(yN),wR=Da.get(fb),xS=OQ+(wR===void 0?l:wR);xS>=gQ&&$Q===void 0&&($Q=e_,C0=OQ),xS>gQ+g&&P_===void 0&&(P_=e_),OQ=xS}return $Q===void 0&&($Q=0,C0=0,P_=Math.ceil(g/l)),P_===void 0&&(P_=Uc.length-1),P_=Math.min(P_+1,Uc.length-1),{scrollHeight:OQ,start:$Q,end:P_,offset:C0}},[$a,ma,gQ,Uc,ga,g]),UQ=DQ.scrollHeight,XQ=DQ.start,b0=DQ.end,D0=DQ.offset;vd.current.start=XQ,vd.current.end=b0;var _p=reactExports.useState({width:0,height:g}),TQ=_slicedToArray(_p,2),YQ=TQ[0],hQ=TQ[1],F0=function(OQ){hQ({width:OQ.offsetWidth,height:OQ.offsetHeight})},r_=reactExports.useRef(),Y0=reactExports.useRef(),J0=reactExports.useMemo(function(){return getSpinSize(YQ.width,O)},[YQ.width,O]),K_=reactExports.useMemo(function(){return getSpinSize(YQ.height,UQ)},[YQ.height,UQ]),dS=UQ-g,V_=reactExports.useRef(dS);V_.current=dS;function ER(kQ){var OQ=kQ;return Number.isNaN(V_.current)||(OQ=Math.min(OQ,V_.current)),OQ=Math.max(OQ,0),OQ}var __=gQ<=0,i_=gQ>=dS,w_=_B<=0,K0=_B>=O,PQ=useOriginScroll(__,i_,w_,K0),_Q=function(){return{x:Ka?-_B:_B,y:gQ}},_y=reactExports.useRef(_Q()),T0=useEvent(function(kQ){if(U){var OQ=_objectSpread2(_objectSpread2({},_Q()),kQ);(_y.current.x!==OQ.x||_y.current.y!==OQ.y)&&(U(OQ),_y.current=OQ)}});function B0(kQ,OQ){var $Q=kQ;OQ?(reactDomExports.flushSync(function(){IQ($Q)}),T0()):_l($Q)}function e0(kQ){var OQ=kQ.currentTarget.scrollTop;OQ!==gQ&&_l(OQ),M==null||M(kQ),T0()}var xQ=function(OQ){var $Q=OQ,C0=O?O-YQ.width:0;return $Q=Math.max($Q,0),$Q=Math.min($Q,C0),$Q},GQ=useEvent(function(kQ,OQ){OQ?(reactDomExports.flushSync(function(){IQ(function($Q){var C0=$Q+(Ka?-kQ:kQ);return xQ(C0)})}),T0()):_l(function($Q){var C0=$Q+kQ;return C0})}),VQ=useFrameWheel(ma,__,i_,w_,K0,!!O,GQ),g0=_slicedToArray(VQ,2),M0=g0[0],ES=g0[1];useMobileTouchMove(ma,_E,function(kQ,OQ,$Q,C0){var P_=C0;return PQ(kQ,OQ,$Q)?!1:!P_||!P_._virtualHandled?(P_&&(P_._virtualHandled=!0),M0({preventDefault:function(){},deltaX:kQ?OQ:0,deltaY:kQ?0:OQ}),!0):!1}),useLayoutEffect$1(function(){function kQ($Q){var C0=__&&$Q.detail<0,P_=i_&&$Q.detail>0;ma&&!C0&&!P_&&$Q.preventDefault()}var OQ=_E.current;return OQ.addEventListener("wheel",M0,{passive:!1}),OQ.addEventListener("DOMMouseScroll",ES,{passive:!0}),OQ.addEventListener("MozMousePixelScroll",kQ,{passive:!1}),function(){OQ.removeEventListener("wheel",M0),OQ.removeEventListener("DOMMouseScroll",ES),OQ.removeEventListener("MozMousePixelScroll",kQ)}},[ma,__,i_]),useLayoutEffect$1(function(){if(O){var kQ=xQ(_B);IQ(kQ),T0({x:kQ})}},[YQ.width,O]);var x_=function(){var OQ,$Q;(OQ=r_.current)===null||OQ===void 0||OQ.delayHidden(),($Q=Y0.current)===null||$Q===void 0||$Q.delayHidden()},tS=useScrollTo(_E,Uc,Da,l,_A,function(){return fa(!0)},_l,x_);reactExports.useImperativeHandle(e,function(){return{nativeElement:_I.current,getScrollInfo:_Q,scrollTo:function(OQ){function $Q(C0){return C0&&_typeof(C0)==="object"&&("left"in C0||"top"in C0)}$Q(OQ)?(OQ.left!==void 0&&IQ(xQ(OQ.left)),tS(OQ.top)):tS(OQ)}}}),useLayoutEffect$1(function(){if(F){var kQ=Uc.slice(XQ,b0+1);F(kQ,Uc)}},[XQ,b0,Uc]);var u_=useGetSize(Uc,_A,Da,l),j_=ae==null?void 0:ae({start:XQ,end:b0,virtual:$a,offsetX:_B,offsetY:D0,rtl:Ka,getSize:u_}),SS=useChildren(Uc,XQ,b0,O,_B,ha,y,Wa),U_=null;g&&(U_=_objectSpread2(_defineProperty({},p?"height":"maxHeight",g),ScrollStyle),ma&&(U_.overflowY="hidden",O&&(U_.overflowX="hidden"),pQ&&(U_.pointerEvents="none")));var MS={};return Ka&&(MS.dir="rtl"),reactExports.createElement("div",_extends({ref:_I,style:_objectSpread2(_objectSpread2({},B),{},{position:"relative"}),className:_u},MS,_t),reactExports.createElement(RefResizeObserver,{onResize:F0},reactExports.createElement(K,{className:"".concat(i,"-holder"),style:U_,ref:_E,onScroll:e0,onMouseEnter:x_},reactExports.createElement(Filler,{prefixCls:i,height:UQ,offsetX:_B,offsetY:D0,scrollWidth:O,onInnerResize:fa,ref:Bh,innerProps:W,rtl:Ka,extra:j_},SS))),$a&&UQ>g&&reactExports.createElement(ScrollBar,{ref:r_,prefixCls:i,scrollOffset:gQ,scrollRange:UQ,rtl:Ka,onScroll:B0,onStartMove:Ah,onStopMove:da,spinSize:K_,containerSize:YQ.height,style:_r==null?void 0:_r.verticalScrollBar,thumbStyle:_r==null?void 0:_r.verticalScrollBarThumb}),$a&&O>YQ.width&&reactExports.createElement(ScrollBar,{ref:Y0,prefixCls:i,scrollOffset:_B,scrollRange:O,rtl:Ka,onScroll:B0,onStartMove:Ah,onStopMove:da,spinSize:J0,containerSize:YQ.width,horizontal:!0,style:_r==null?void 0:_r.horizontalScrollBar,thumbStyle:_r==null?void 0:_r.horizontalScrollBarThumb}))}var List=reactExports.forwardRef(RawList);List.displayName="List";function isPlatformMac(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var _excluded$5=["disabled","title","children","style","className"];function isTitleType(t){return typeof t=="string"||typeof t=="number"}var OptionList=function(e,n){var i=useBaseProps(),s=i.prefixCls,g=i.id,l=i.open,C=i.multiple,p=i.mode,B=i.searchValue,Q=i.toggleOpen,y=i.notFoundContent,_=i.onPopupScroll,S=reactExports.useContext(SelectContext),w=S.maxCount,O=S.flattenOptions,P=S.onActiveValue,K=S.defaultActiveFirstOption,M=S.onSelect,U=S.menuItemSelectedIcon,F=S.rawValues,W=S.fieldNames,ae=S.virtual,_r=S.direction,_t=S.listHeight,_A=S.listItemHeight,na=S.optionRender,oa="".concat(s,"-item"),ha=useMemo(function(){return O},[l,O],function(uQ,_B){return _B[0]&&uQ[1]!==_B[1]}),fa=reactExports.useRef(null),Da=reactExports.useMemo(function(){return C&&isValidCount(w)&&(F==null?void 0:F.size)>=w},[C,w,F==null?void 0:F.size]),ga=function(_B){_B.preventDefault()},ma=function(_B){var IQ;(IQ=fa.current)===null||IQ===void 0||IQ.scrollTo(typeof _B=="number"?{index:_B}:_B)},Ra=function(_B){for(var IQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,SQ=ha.length,dQ=0;dQ<SQ;dQ+=1){var pQ=(_B+dQ*IQ+SQ)%SQ,aQ=ha[pQ]||{},Ah=aQ.group,da=aQ.data;if(!Ah&&!(da!=null&&da.disabled)&&!Da)return pQ}return-1},$a=reactExports.useState(function(){return Ra(0)}),Ka=_slicedToArray($a,2),_u=Ka[0],Uc=Ka[1],_E=function(_B){var IQ=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Uc(_B);var SQ={source:IQ?"keyboard":"mouse"},dQ=ha[_B];if(!dQ){P(null,-1,SQ);return}P(dQ.value,_B,SQ)};reactExports.useEffect(function(){_E(K!==!1?Ra(0):-1)},[ha.length,B]);var Bh=reactExports.useCallback(function(uQ){return F.has(uQ)&&p!=="combobox"},[p,_toConsumableArray(F).toString(),F.size]);reactExports.useEffect(function(){var uQ=setTimeout(function(){if(!C&&l&&F.size===1){var IQ=Array.from(F)[0],SQ=ha.findIndex(function(dQ){var pQ=dQ.data;return pQ.value===IQ});SQ!==-1&&(_E(SQ),ma(SQ))}});if(l){var _B;(_B=fa.current)===null||_B===void 0||_B.scrollTo(void 0)}return function(){return clearTimeout(uQ)}},[l,B]);var _I=function(_B){_B!==void 0&&M(_B,{selected:!F.has(_B)}),C||Q(!1)};if(reactExports.useImperativeHandle(n,function(){return{onKeyDown:function(_B){var IQ=_B.which,SQ=_B.ctrlKey;switch(IQ){case KeyCode.N:case KeyCode.P:case KeyCode.UP:case KeyCode.DOWN:{var dQ=0;if(IQ===KeyCode.UP?dQ=-1:IQ===KeyCode.DOWN?dQ=1:isPlatformMac()&&SQ&&(IQ===KeyCode.N?dQ=1:IQ===KeyCode.P&&(dQ=-1)),dQ!==0){var pQ=Ra(_u+dQ,dQ);ma(pQ),_E(pQ,!0)}break}case KeyCode.ENTER:{var aQ,Ah=ha[_u];Ah&&!(Ah!=null&&(aQ=Ah.data)!==null&&aQ!==void 0&&aQ.disabled)&&!Da?_I(Ah.value):_I(void 0),l&&_B.preventDefault();break}case KeyCode.ESC:Q(!1),l&&_B.stopPropagation()}},onKeyUp:function(){},scrollTo:function(_B){ma(_B)}}}),ha.length===0)return reactExports.createElement("div",{role:"listbox",id:"".concat(g,"_list"),className:"".concat(oa,"-empty"),onMouseDown:ga},y);var zf=Object.keys(W).map(function(uQ){return W[uQ]}),oQ=function(_B){return _B.label};function gQ(uQ,_B){var IQ=uQ.group;return{role:IQ?"presentation":"option",id:"".concat(g,"_list_").concat(_B)}}var yQ=function(_B){var IQ=ha[_B];if(!IQ)return null;var SQ=IQ.data||{},dQ=SQ.value,pQ=IQ.group,aQ=pickAttrs(SQ,!0),Ah=oQ(IQ);return IQ?reactExports.createElement("div",_extends({"aria-label":typeof Ah=="string"&&!pQ?Ah:null},aQ,{key:_B},gQ(IQ,_B),{"aria-selected":Bh(dQ)}),dQ):null},NQ={role:"listbox",id:"".concat(g,"_list")};return reactExports.createElement(reactExports.Fragment,null,ae&&reactExports.createElement("div",_extends({},NQ,{style:{height:0,width:0,overflow:"hidden"}}),yQ(_u-1),yQ(_u),yQ(_u+1)),reactExports.createElement(List,{itemKey:"key",ref:fa,data:ha,height:_t,itemHeight:_A,fullHeight:!1,onMouseDown:ga,onScroll:_,virtual:ae,direction:_r,innerProps:ae?null:NQ},function(uQ,_B){var IQ=uQ.group,SQ=uQ.groupOption,dQ=uQ.data,pQ=uQ.label,aQ=uQ.value,Ah=dQ.key;if(IQ){var da,Wa=(da=dQ.title)!==null&&da!==void 0?da:isTitleType(pQ)?pQ.toString():void 0;return reactExports.createElement("div",{className:classNames(oa,"".concat(oa,"-group"),dQ.className),title:Wa},pQ!==void 0?pQ:Ah)}var _l=dQ.disabled,vd=dQ.title;dQ.children;var CQ=dQ.style,tQ=dQ.className,BQ=_objectWithoutProperties(dQ,_excluded$5),_m=omit(BQ,zf),DQ=Bh(aQ),UQ=_l||!DQ&&Da,XQ="".concat(oa,"-option"),b0=classNames(oa,XQ,tQ,_defineProperty(_defineProperty(_defineProperty(_defineProperty({},"".concat(XQ,"-grouped"),SQ),"".concat(XQ,"-active"),_u===_B&&!UQ),"".concat(XQ,"-disabled"),UQ),"".concat(XQ,"-selected"),DQ)),D0=oQ(uQ),_p=!U||typeof U=="function"||DQ,TQ=typeof D0=="number"?D0:D0||aQ,YQ=isTitleType(TQ)?TQ.toString():void 0;return vd!==void 0&&(YQ=vd),reactExports.createElement("div",_extends({},pickAttrs(_m),ae?{}:gQ(uQ,_B),{"aria-selected":DQ,className:b0,title:YQ,onMouseMove:function(){_u===_B||UQ||_E(_B)},onClick:function(){UQ||_I(aQ)},style:CQ}),reactExports.createElement("div",{className:"".concat(XQ,"-content")},typeof na=="function"?na(uQ,{index:_B}):TQ),reactExports.isValidElement(U)||DQ,_p&&reactExports.createElement(TransBtn,{className:"".concat(oa,"-option-state"),customizeIcon:U,customizeIconProps:{value:aQ,disabled:UQ,isSelected:DQ}},DQ?"":null))}))},RefOptionList=reactExports.forwardRef(OptionList);const useCache=function(t,e){var n=reactExports.useRef({values:new Map,options:new Map}),i=reactExports.useMemo(function(){var g=n.current,l=g.values,C=g.options,p=t.map(function(y){if(y.label===void 0){var _;return _objectSpread2(_objectSpread2({},y),{},{label:(_=l.get(y.value))===null||_===void 0?void 0:_.label})}return y}),B=new Map,Q=new Map;return p.forEach(function(y){B.set(y.value,y),Q.set(y.value,e.get(y.value)||C.get(y.value))}),n.current.values=B,n.current.options=Q,p},[t,e]),s=reactExports.useCallback(function(g){return e.get(g)||n.current.options.get(g)},[e]);return[i,s]};function includes(t,e){return toArray$1(t).join("").toUpperCase().includes(e)}const useFilterOptions=function(t,e,n,i,s){return reactExports.useMemo(function(){if(!n||i===!1)return t;var g=e.options,l=e.label,C=e.value,p=[],B=typeof i=="function",Q=n.toUpperCase(),y=B?i:function(S,w){return s?includes(w[s],Q):w[g]?includes(w[l!=="children"?l:"label"],Q):includes(w[C],Q)},_=B?function(S){return injectPropsWithOption(S)}:function(S){return S};return t.forEach(function(S){if(S[g]){var w=y(n,_(S));if(w)p.push(S);else{var O=S[g].filter(function(P){return y(n,_(P))});O.length&&p.push(_objectSpread2(_objectSpread2({},S),{},_defineProperty({},g,O)))}return}y(n,_(S))&&p.push(S)}),p},[t,i,s,n,e])};var uuid=0,isBrowserClient=canUseDom();function getUUID(){var t;return isBrowserClient?(t=uuid,uuid+=1):t="TEST_OR_SSR",t}function useId(t){var e=reactExports.useState(),n=_slicedToArray(e,2),i=n[0],s=n[1];return reactExports.useEffect(function(){s("rc_select_".concat(getUUID()))},[]),t||i}var _excluded$4=["children","value"],_excluded2=["children"];function convertNodeToOption(t){var e=t,n=e.key,i=e.props,s=i.children,g=i.value,l=_objectWithoutProperties(i,_excluded$4);return _objectSpread2({key:n,value:g!==void 0?g:n,children:s},l)}function convertChildrenToData(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return toArray$2(t).map(function(n,i){if(!reactExports.isValidElement(n)||!n.type)return null;var s=n,g=s.type.isSelectOptGroup,l=s.key,C=s.props,p=C.children,B=_objectWithoutProperties(C,_excluded2);return e||!g?convertNodeToOption(n):_objectSpread2(_objectSpread2({key:"__RC_SELECT_GRP__".concat(l===null?i:l,"__"),label:l},B),{},{options:convertChildrenToData(p)})}).filter(function(n){return n})}var useOptions=function(e,n,i,s,g){return reactExports.useMemo(function(){var l=e,C=!e;C&&(l=convertChildrenToData(n));var p=new Map,B=new Map,Q=function(S,w,O){O&&typeof O=="string"&&S.set(w[O],w)},y=function _(S){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,O=0;O<S.length;O+=1){var P=S[O];!P[i.options]||w?(p.set(P[i.value],P),Q(B,P,i.label),Q(B,P,s),Q(B,P,g)):_(P[i.options],!0)}};return y(l),{options:l,valueOptions:p,labelOptions:B}},[e,n,i,s,g])};function useRefFunc(t){var e=reactExports.useRef();e.current=t;var n=reactExports.useCallback(function(){return e.current.apply(e,arguments)},[]);return n}var _excluded$3=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","optionRender","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","labelRender","value","defaultValue","labelInValue","onChange","maxCount"],OMIT_DOM_PROPS=["inputValue"];function isRawValue(t){return!t||_typeof(t)!=="object"}var Select$1=reactExports.forwardRef(function(t,e){var n=t.id,i=t.mode,s=t.prefixCls,g=s===void 0?"rc-select":s,l=t.backfill,C=t.fieldNames,p=t.inputValue,B=t.searchValue,Q=t.onSearch,y=t.autoClearSearchValue,_=y===void 0?!0:y,S=t.onSelect,w=t.onDeselect,O=t.dropdownMatchSelectWidth,P=O===void 0?!0:O,K=t.filterOption,M=t.filterSort,U=t.optionFilterProp,F=t.optionLabelProp,W=t.options,ae=t.optionRender,_r=t.children,_t=t.defaultActiveFirstOption,_A=t.menuItemSelectedIcon,na=t.virtual,oa=t.direction,ha=t.listHeight,fa=ha===void 0?200:ha,Da=t.listItemHeight,ga=Da===void 0?20:Da,ma=t.labelRender,Ra=t.value,$a=t.defaultValue,Ka=t.labelInValue,_u=t.onChange,Uc=t.maxCount,_E=_objectWithoutProperties(t,_excluded$3),Bh=useId(n),_I=isMultiple(i),zf=!!(!W&&_r),oQ=reactExports.useMemo(function(){return K===void 0&&i==="combobox"?!1:K},[K,i]),gQ=reactExports.useMemo(function(){return fillFieldNames(C,zf)},[JSON.stringify(C),zf]),yQ=useMergedState("",{value:B!==void 0?B:p,postState:function(xQ){return xQ||""}}),NQ=_slicedToArray(yQ,2),uQ=NQ[0],_B=NQ[1],IQ=useOptions(W,_r,gQ,U,F),SQ=IQ.valueOptions,dQ=IQ.labelOptions,pQ=IQ.options,aQ=reactExports.useCallback(function(e0){var xQ=toArray$1(e0);return xQ.map(function(GQ){var VQ,g0,M0,ES,x_;if(isRawValue(GQ))VQ=GQ;else{var tS;M0=GQ.key,g0=GQ.label,VQ=(tS=GQ.value)!==null&&tS!==void 0?tS:M0}var u_=SQ.get(VQ);if(u_){var j_;g0===void 0&&(g0=u_==null?void 0:u_[F||gQ.label]),M0===void 0&&(M0=(j_=u_==null?void 0:u_.key)!==null&&j_!==void 0?j_:VQ),ES=u_==null?void 0:u_.disabled,x_=u_==null?void 0:u_.title}return{label:g0,value:VQ,key:M0,disabled:ES,title:x_}})},[gQ,F,SQ]),Ah=useMergedState($a,{value:Ra}),da=_slicedToArray(Ah,2),Wa=da[0],_l=da[1],vd=reactExports.useMemo(function(){var e0,xQ=_I&&Wa===null?[]:Wa,GQ=aQ(xQ);return i==="combobox"&&isComboNoValue((e0=GQ[0])===null||e0===void 0?void 0:e0.value)?[]:GQ},[Wa,aQ,i,_I]),CQ=useCache(vd,SQ),tQ=_slicedToArray(CQ,2),BQ=tQ[0],_m=tQ[1],DQ=reactExports.useMemo(function(){if(!i&&BQ.length===1){var e0=BQ[0];if(e0.value===null&&(e0.label===null||e0.label===void 0))return[]}return BQ.map(function(xQ){var GQ;return _objectSpread2(_objectSpread2({},xQ),{},{label:(GQ=typeof ma=="function"?ma(xQ):xQ.label)!==null&&GQ!==void 0?GQ:xQ.value})})},[i,BQ,ma]),UQ=reactExports.useMemo(function(){return new Set(BQ.map(function(e0){return e0.value}))},[BQ]);reactExports.useEffect(function(){if(i==="combobox"){var e0,xQ=(e0=BQ[0])===null||e0===void 0?void 0:e0.value;_B(hasValue(xQ)?String(xQ):"")}},[BQ]);var XQ=useRefFunc(function(e0,xQ){var GQ=xQ??e0;return _defineProperty(_defineProperty({},gQ.value,e0),gQ.label,GQ)}),b0=reactExports.useMemo(function(){if(i!=="tags")return pQ;var e0=_toConsumableArray(pQ),xQ=function(VQ){return SQ.has(VQ)};return _toConsumableArray(BQ).sort(function(GQ,VQ){return GQ.value<VQ.value?-1:1}).forEach(function(GQ){var VQ=GQ.value;xQ(VQ)||e0.push(XQ(VQ,GQ.label))}),e0},[XQ,pQ,SQ,BQ,i]),D0=useFilterOptions(b0,gQ,uQ,oQ,U),_p=reactExports.useMemo(function(){return i!=="tags"||!uQ||D0.some(function(e0){return e0[U||"value"]===uQ})||D0.some(function(e0){return e0[gQ.value]===uQ})?D0:[XQ(uQ)].concat(_toConsumableArray(D0))},[XQ,U,i,D0,uQ,gQ]),TQ=function e0(xQ){var GQ=_toConsumableArray(xQ).sort(function(VQ,g0){return M(VQ,g0,{searchValue:uQ})});return GQ.map(function(VQ){return Array.isArray(VQ.options)?_objectSpread2(_objectSpread2({},VQ),{},{options:VQ.options.length>0?e0(VQ.options):VQ.options}):VQ})},YQ=reactExports.useMemo(function(){return M?TQ(_p):_p},[_p,M,uQ]),hQ=reactExports.useMemo(function(){return flattenOptions(YQ,{fieldNames:gQ,childrenAsData:zf})},[YQ,gQ,zf]),F0=function(xQ){var GQ=aQ(xQ);if(_l(GQ),_u&&(GQ.length!==BQ.length||GQ.some(function(M0,ES){var x_;return((x_=BQ[ES])===null||x_===void 0?void 0:x_.value)!==(M0==null?void 0:M0.value)}))){var VQ=Ka?GQ:GQ.map(function(M0){return M0.value}),g0=GQ.map(function(M0){return injectPropsWithOption(_m(M0.value))});_u(_I?VQ:VQ[0],_I?g0:g0[0])}},r_=reactExports.useState(null),Y0=_slicedToArray(r_,2),J0=Y0[0],K_=Y0[1],dS=reactExports.useState(0),V_=_slicedToArray(dS,2),ER=V_[0],__=V_[1],i_=_t!==void 0?_t:i!=="combobox",w_=reactExports.useCallback(function(e0,xQ){var GQ=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},VQ=GQ.source,g0=VQ===void 0?"keyboard":VQ;__(xQ),l&&i==="combobox"&&e0!==null&&g0==="keyboard"&&K_(String(e0))},[l,i]),K0=function(xQ,GQ,VQ){var g0=function(){var kQ,OQ=_m(xQ);return[Ka?{label:OQ==null?void 0:OQ[gQ.label],value:xQ,key:(kQ=OQ==null?void 0:OQ.key)!==null&&kQ!==void 0?kQ:xQ}:xQ,injectPropsWithOption(OQ)]};if(GQ&&S){var M0=g0(),ES=_slicedToArray(M0,2),x_=ES[0],tS=ES[1];S(x_,tS)}else if(!GQ&&w&&VQ!=="clear"){var u_=g0(),j_=_slicedToArray(u_,2),SS=j_[0],U_=j_[1];w(SS,U_)}},PQ=useRefFunc(function(e0,xQ){var GQ,VQ=_I?xQ.selected:!0;VQ?GQ=_I?[].concat(_toConsumableArray(BQ),[e0]):[e0]:GQ=BQ.filter(function(g0){return g0.value!==e0}),F0(GQ),K0(e0,VQ),i==="combobox"?K_(""):(!isMultiple||_)&&(_B(""),K_(""))}),_Q=function(xQ,GQ){F0(xQ);var VQ=GQ.type,g0=GQ.values;(VQ==="remove"||VQ==="clear")&&g0.forEach(function(M0){K0(M0.value,!1,VQ)})},_y=function(xQ,GQ){if(_B(xQ),K_(null),GQ.source==="submit"){var VQ=(xQ||"").trim();if(VQ){var g0=Array.from(new Set([].concat(_toConsumableArray(UQ),[VQ])));F0(g0),K0(VQ,!0),_B("")}return}GQ.source!=="blur"&&(i==="combobox"&&F0(xQ),Q==null||Q(xQ))},T0=function(xQ){var GQ=xQ;i!=="tags"&&(GQ=xQ.map(function(g0){var M0=dQ.get(g0);return M0==null?void 0:M0.value}).filter(function(g0){return g0!==void 0}));var VQ=Array.from(new Set([].concat(_toConsumableArray(UQ),_toConsumableArray(GQ))));F0(VQ),VQ.forEach(function(g0){K0(g0,!0)})},B0=reactExports.useMemo(function(){var e0=na!==!1&&P!==!1;return _objectSpread2(_objectSpread2({},IQ),{},{flattenOptions:hQ,onActiveValue:w_,defaultActiveFirstOption:i_,onSelect:PQ,menuItemSelectedIcon:_A,rawValues:UQ,fieldNames:gQ,virtual:e0,direction:oa,listHeight:fa,listItemHeight:ga,childrenAsData:zf,maxCount:Uc,optionRender:ae})},[Uc,IQ,hQ,w_,i_,PQ,_A,UQ,gQ,na,P,oa,fa,ga,zf,ae]);return reactExports.createElement(SelectContext.Provider,{value:B0},reactExports.createElement(BaseSelect,_extends({},_E,{id:Bh,prefixCls:g,ref:e,omitDomProps:OMIT_DOM_PROPS,mode:i,displayValues:DQ,onDisplayValuesChange:_Q,direction:oa,searchValue:uQ,onSearch:_y,autoClearSearchValue:_,onSearchSplit:T0,dropdownMatchSelectWidth:P,OptionList:RefOptionList,emptyOptions:!hQ.length,activeValue:J0,activeDescendantId:"".concat(Bh,"_list_").concat(ER)})))}),TypedSelect=Select$1;TypedSelect.Option=Option;TypedSelect.OptGroup=OptGroup;const Empty$1=()=>{const[,t]=useToken(),n=new TinyColor(t.colorBgBase).toHsl().l<.5?{opacity:.65}:{};return reactExports.createElement("svg",{style:n,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("title",null,"empty image"),reactExports.createElement("g",{fill:"none",fillRule:"evenodd"},reactExports.createElement("g",{transform:"translate(24 31.67)"},reactExports.createElement("ellipse",{fillOpacity:".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),reactExports.createElement("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"}),reactExports.createElement("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"}),reactExports.createElement("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"}),reactExports.createElement("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"})),reactExports.createElement("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"}),reactExports.createElement("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},reactExports.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),reactExports.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Simple=()=>{const[,t]=useToken(),{colorFill:e,colorFillTertiary:n,colorFillQuaternary:i,colorBgContainer:s}=t,{borderColor:g,shadowColor:l,contentColor:C}=reactExports.useMemo(()=>({borderColor:new TinyColor(e).onBackground(s).toHexShortString(),shadowColor:new TinyColor(n).onBackground(s).toHexShortString(),contentColor:new TinyColor(i).onBackground(s).toHexShortString()}),[e,n,i,s]);return reactExports.createElement("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},reactExports.createElement("title",null,"Simple Empty"),reactExports.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},reactExports.createElement("ellipse",{fill:l,cx:"32",cy:"33",rx:"32",ry:"7"}),reactExports.createElement("g",{fillRule:"nonzero",stroke:g},reactExports.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),reactExports.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:C}))))},genSharedEmptyStyle=t=>{const{componentCls:e,margin:n,marginXS:i,marginXL:s,fontSize:g,lineHeight:l}=t;return{[e]:{marginInline:i,fontSize:g,lineHeight:l,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:i,opacity:t.opacityImage,img:{height:"100%"},svg:{maxWidth:"100%",height:"100%",margin:"auto"}},[`${e}-description`]:{color:t.colorTextDescription},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:s,color:t.colorTextDescription,[`${e}-description`]:{color:t.colorTextDescription},[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:i,color:t.colorTextDescription,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},useStyle$2=genStyleHooks("Empty",t=>{const{componentCls:e,controlHeightLG:n,calc:i}=t,s=merge(t,{emptyImgCls:`${e}-img`,emptyImgHeight:i(n).mul(2.5).equal(),emptyImgHeightMD:n,emptyImgHeightSM:i(n).mul(.875).equal()});return[genSharedEmptyStyle(s)]});var __rest$6=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const defaultEmptyImg=reactExports.createElement(Empty$1,null),simpleEmptyImg=reactExports.createElement(Simple,null),Empty=t=>{var{className:e,rootClassName:n,prefixCls:i,image:s=defaultEmptyImg,description:g,children:l,imageStyle:C,style:p}=t,B=__rest$6(t,["className","rootClassName","prefixCls","image","description","children","imageStyle","style"]);const{getPrefixCls:Q,direction:y,empty:_}=reactExports.useContext(ConfigContext),S=Q("empty",i),[w,O,P]=useStyle$2(S),[K]=useLocale("Empty"),M=typeof g<"u"?g:K==null?void 0:K.description,U=typeof M=="string"?M:"empty";let F=null;return typeof s=="string"?F=reactExports.createElement("img",{alt:U,src:s}):F=s,w(reactExports.createElement("div",Object.assign({className:classNames(O,P,S,_==null?void 0:_.className,{[`${S}-normal`]:s===simpleEmptyImg,[`${S}-rtl`]:y==="rtl"},e,n),style:Object.assign(Object.assign({},_==null?void 0:_.style),p)},B),reactExports.createElement("div",{className:`${S}-image`,style:C},F),M&&reactExports.createElement("div",{className:`${S}-description`},M),l&&reactExports.createElement("div",{className:`${S}-footer`},l)))};Empty.PRESENTED_IMAGE_DEFAULT=defaultEmptyImg;Empty.PRESENTED_IMAGE_SIMPLE=simpleEmptyImg;const DefaultRenderEmpty=t=>{const{componentName:e}=t,{getPrefixCls:n}=reactExports.useContext(ConfigContext),i=n("empty");switch(e){case"Table":case"List":return React.createElement(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return React.createElement(Empty,{image:Empty.PRESENTED_IMAGE_SIMPLE,className:`${i}-small`});case"Table.filter":return null;default:return React.createElement(Empty,null)}},getBuiltInPlacements=t=>{const n={overflow:{adjustX:!0,adjustY:!0,shiftY:!0},htmlRegion:t==="scroll"?"scroll":"visible",dynamicInset:!0};return{bottomLeft:Object.assign(Object.assign({},n),{points:["tl","bl"],offset:[0,4]}),bottomRight:Object.assign(Object.assign({},n),{points:["tr","br"],offset:[0,4]}),topLeft:Object.assign(Object.assign({},n),{points:["bl","tl"],offset:[0,-4]}),topRight:Object.assign(Object.assign({},n),{points:["br","tr"],offset:[0,-4]})}};function mergedBuiltinPlacements(t,e){return t||getBuiltInPlacements(e)}const genItemStyle=t=>{const{optionHeight:e,optionFontSize:n,optionLineHeight:i,optionPadding:s}=t;return{position:"relative",display:"block",minHeight:e,padding:s,color:t.colorText,fontWeight:"normal",fontSize:n,lineHeight:i,boxSizing:"border-box"}},genSingleStyle$1=t=>{const{antCls:e,componentCls:n}=t,i=`${n}-item`,s=`&${e}-slide-up-enter${e}-slide-up-enter-active`,g=`&${e}-slide-up-appear${e}-slide-up-appear-active`,l=`&${e}-slide-up-leave${e}-slide-up-leave-active`,C=`${n}-dropdown-placement-`;return[{[`${n}-dropdown`]:Object.assign(Object.assign({},resetComponent(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
          ${s}${C}bottomLeft,
          ${g}${C}bottomLeft
        `]:{animationName:slideUpIn},[`
          ${s}${C}topLeft,
          ${g}${C}topLeft,
          ${s}${C}topRight,
          ${g}${C}topRight
        `]:{animationName:slideDownIn},[`${l}${C}bottomLeft`]:{animationName:slideUpOut},[`
          ${l}${C}topLeft,
          ${l}${C}topRight
        `]:{animationName:slideDownOut},"&-hidden":{display:"none"},[i]:Object.assign(Object.assign({},genItemStyle(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":Object.assign({flex:"auto"},textEllipsis),"&-state":{flex:"none",display:"flex",alignItems:"center"},[`&-active:not(${i}-option-disabled)`]:{backgroundColor:t.optionActiveBg},[`&-selected:not(${i}-option-disabled)`]:{color:t.optionSelectedColor,fontWeight:t.optionSelectedFontWeight,backgroundColor:t.optionSelectedBg,[`${i}-option-state`]:{color:t.colorPrimary},[`&:has(+ ${i}-option-selected:not(${i}-option-disabled))`]:{borderEndStartRadius:0,borderEndEndRadius:0,[`& + ${i}-option-selected:not(${i}-option-disabled)`]:{borderStartStartRadius:0,borderStartEndRadius:0}}},"&-disabled":{[`&${i}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.calc(t.controlPaddingHorizontal).mul(2).equal()}},"&-empty":Object.assign(Object.assign({},genItemStyle(t)),{color:t.colorTextDisabled})}),"&-rtl":{direction:"rtl"}})},initSlideMotion(t,"slide-up"),initSlideMotion(t,"slide-down"),initMoveMotion(t,"move-up"),initMoveMotion(t,"move-down")]},getMultipleSelectorUnit=t=>{const{multipleSelectItemHeight:e,paddingXXS:n,lineWidth:i,INTERNAL_FIXED_ITEM_MARGIN:s}=t,g=t.max(t.calc(n).sub(i).equal(),0),l=t.max(t.calc(g).sub(s).equal(),0);return{basePadding:g,containerPadding:l,itemHeight:unit(e),itemLineHeight:unit(t.calc(e).sub(t.calc(t.lineWidth).mul(2)).equal())}},getSelectItemStyle=t=>{const{multipleSelectItemHeight:e,selectHeight:n,lineWidth:i}=t;return t.calc(n).sub(e).div(2).sub(i).equal()},genOverflowStyle=t=>{const{componentCls:e,iconCls:n,borderRadiusSM:i,motionDurationSlow:s,paddingXS:g,multipleItemColorDisabled:l,multipleItemBorderColorDisabled:C,colorIcon:p,colorIconHover:B,INTERNAL_FIXED_ITEM_MARGIN:Q}=t;return{[`${e}-selection-overflow`]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"},[`${e}-selection-item`]:{display:"flex",alignSelf:"center",flex:"none",boxSizing:"border-box",maxWidth:"100%",marginBlock:Q,borderRadius:i,cursor:"default",transition:`font-size ${s}, line-height ${s}, height ${s}`,marginInlineEnd:t.calc(Q).mul(2).equal(),paddingInlineStart:g,paddingInlineEnd:t.calc(g).div(2).equal(),[`${e}-disabled&`]:{color:l,borderColor:C,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.calc(g).div(2).equal(),overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":Object.assign(Object.assign({},resetIcon()),{display:"inline-flex",alignItems:"center",color:p,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${n}`]:{verticalAlign:"-0.2em"},"&:hover":{color:B}})}}}},genSelectionStyle=(t,e)=>{const{componentCls:n,INTERNAL_FIXED_ITEM_MARGIN:i}=t,s=`${n}-selection-overflow`,g=t.multipleSelectItemHeight,l=getSelectItemStyle(t),C=e?`${n}-${e}`:"",p=getMultipleSelectorUnit(t);return{[`${n}-multiple${C}`]:Object.assign(Object.assign({},genOverflowStyle(t)),{[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",height:"100%",paddingInline:p.basePadding,paddingBlock:p.containerPadding,borderRadius:t.borderRadius,[`${n}-disabled&`]:{background:t.multipleSelectorBgDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${unit(i)} 0`,lineHeight:unit(g),visibility:"hidden",content:'"\\a0"'}},[`${n}-selection-item`]:{height:p.itemHeight,lineHeight:unit(p.itemLineHeight)},[`${s}-item + ${s}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${s}-item-suffix`]:{height:"100%"},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.calc(t.inputPaddingHorizontalBase).sub(l).equal(),"\n          &-input,\n          &-mirror\n        ":{height:g,fontFamily:t.fontFamily,lineHeight:unit(g),transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder`]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}})}};function genSizeStyle$1(t,e){const{componentCls:n}=t,i=e?`${n}-${e}`:"",s={[`${n}-multiple${i}`]:{fontSize:t.fontSize,[`${n}-selector`]:{[`${n}-show-search&`]:{cursor:"text"}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.calc(t.fontSizeIcon).add(t.controlPaddingHorizontal).equal()}}};return[genSelectionStyle(t,e),s]}const genMultipleStyle=t=>{const{componentCls:e}=t,n=merge(t,{selectHeight:t.controlHeightSM,multipleSelectItemHeight:t.multipleItemHeightSM,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),i=merge(t,{fontSize:t.fontSizeLG,selectHeight:t.controlHeightLG,multipleSelectItemHeight:t.multipleItemHeightLG,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius});return[genSizeStyle$1(t),genSizeStyle$1(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInline:t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal()},[`${e}-selection-search`]:{marginInlineStart:2}}},genSizeStyle$1(i,"lg")]};function genSizeStyle(t,e){const{componentCls:n,inputPaddingHorizontalBase:i,borderRadius:s,fontSizeIcon:g}=t,l=t.calc(t.controlHeight).sub(t.calc(t.lineWidth).mul(2)).equal(),C=t.calc(i).add(g).equal(),p=e?`${n}-${e}`:"";return{[`${n}-single${p}`]:{fontSize:t.fontSize,height:t.controlHeight,[`${n}-selector`]:Object.assign(Object.assign({},resetComponent(t,!0)),{display:"flex",borderRadius:s,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:i,insetInlineEnd:unit(C),bottom:0,"&-input":{width:"100%",WebkitAppearance:"textfield"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:unit(l),transition:`all ${t.motionDurationSlow}, visibility 0s`,alignSelf:"center"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:empty:after`,`${n}-selection-placeholder:empty:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:t.showArrowPaddingInlineEnd},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:"100%",padding:`0 ${unit(i)}`,[`${n}-selection-search-input`]:{height:l},"&:after":{lineHeight:unit(l)}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${unit(i)}`,"&:after":{display:"none"}}}}}}}function genSingleStyle(t){const{componentCls:e}=t,n=t.calc(t.controlPaddingHorizontalSM).sub(t.lineWidth).equal();return[genSizeStyle(t),genSizeStyle(merge(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${unit(n)}`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:t.calc(n).add(t.calc(t.fontSize).mul(1.5)).equal()},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.calc(t.fontSize).mul(1.5).equal()}}}},genSizeStyle(merge(t,{controlHeight:t.singleItemHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}const prepareComponentToken$2=t=>{const{fontSize:e,lineHeight:n,lineWidth:i,controlHeight:s,controlHeightSM:g,controlHeightLG:l,paddingXXS:C,controlPaddingHorizontal:p,zIndexPopupBase:B,colorText:Q,fontWeightStrong:y,controlItemBgActive:_,controlItemBgHover:S,colorBgContainer:w,colorFillSecondary:O,colorBgContainerDisabled:P,colorTextDisabled:K,colorPrimaryHover:M,colorPrimary:U,controlOutline:F}=t,W=C*2,ae=i*2,_r=Math.min(s-W,s-ae),_t=Math.min(g-W,g-ae),_A=Math.min(l-W,l-ae);return{INTERNAL_FIXED_ITEM_MARGIN:Math.floor(C/2),zIndexPopup:B+50,optionSelectedColor:Q,optionSelectedFontWeight:y,optionSelectedBg:_,optionActiveBg:S,optionPadding:`${(s-e*n)/2}px ${p}px`,optionFontSize:e,optionLineHeight:n,optionHeight:s,selectorBg:w,clearBg:w,singleItemHeightLG:l,multipleItemBg:O,multipleItemBorderColor:"transparent",multipleItemHeight:_r,multipleItemHeightSM:_t,multipleItemHeightLG:_A,multipleSelectorBgDisabled:P,multipleItemColorDisabled:K,multipleItemBorderColorDisabled:"transparent",showArrowPaddingInlineEnd:Math.ceil(t.fontSize*1.25),hoverBorderColor:M,activeBorderColor:U,activeOutlineColor:F}},genBaseOutlinedStyle=(t,e)=>{const{componentCls:n,antCls:i,controlOutlineWidth:s}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{border:`${unit(t.lineWidth)} ${t.lineType} ${e.borderColor}`,background:t.selectorBg},[`&:not(${n}-disabled):not(${n}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{borderColor:e.hoverBorderHover},[`${n}-focused& ${n}-selector`]:{borderColor:e.activeBorderColor,boxShadow:`0 0 0 ${unit(s)} ${e.activeOutlineColor}`,outline:0}}}},genOutlinedStatusStyle=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},genBaseOutlinedStyle(t,e))}),genOutlinedStyle=t=>({"&-outlined":Object.assign(Object.assign(Object.assign(Object.assign({},genBaseOutlinedStyle(t,{borderColor:t.colorBorder,hoverBorderHover:t.hoverBorderColor,activeBorderColor:t.activeBorderColor,activeOutlineColor:t.activeOutlineColor})),genOutlinedStatusStyle(t,{status:"error",borderColor:t.colorError,hoverBorderHover:t.colorErrorHover,activeBorderColor:t.colorError,activeOutlineColor:t.colorErrorOutline})),genOutlinedStatusStyle(t,{status:"warning",borderColor:t.colorWarning,hoverBorderHover:t.colorWarningHover,activeBorderColor:t.colorWarning,activeOutlineColor:t.colorWarningOutline})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${unit(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`}})}),genBaseFilledStyle=(t,e)=>{const{componentCls:n,antCls:i}=t;return{[`&:not(${n}-customize-input) ${n}-selector`]:{background:e.bg,border:`${unit(t.lineWidth)} ${t.lineType} transparent`,color:e.color},[`&:not(${n}-disabled):not(${n}-customize-input):not(${i}-pagination-size-changer)`]:{[`&:hover ${n}-selector`]:{background:e.hoverBg},[`${n}-focused& ${n}-selector`]:{background:t.selectorBg,borderColor:e.activeBorderColor,outline:0}}}},genFilledStatusStyle=(t,e)=>({[`&${t.componentCls}-status-${e.status}`]:Object.assign({},genBaseFilledStyle(t,e))}),genFilledStyle=t=>({"&-filled":Object.assign(Object.assign(Object.assign(Object.assign({},genBaseFilledStyle(t,{bg:t.colorFillTertiary,hoverBg:t.colorFillSecondary,activeBorderColor:t.activeBorderColor,color:t.colorText})),genFilledStatusStyle(t,{status:"error",bg:t.colorErrorBg,hoverBg:t.colorErrorBgHover,activeBorderColor:t.colorError,color:t.colorError})),genFilledStatusStyle(t,{status:"warning",bg:t.colorWarningBg,hoverBg:t.colorWarningBgHover,activeBorderColor:t.colorWarning,color:t.colorWarning})),{[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{borderColor:t.colorBorder,background:t.colorBgContainerDisabled,color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.colorBgContainer,border:`${unit(t.lineWidth)} ${t.lineType} ${t.colorSplit}`}})}),genBorderlessStyle=t=>({"&-borderless":{[`${t.componentCls}-selector`]:{background:"transparent",borderColor:"transparent"},[`&${t.componentCls}-disabled`]:{[`&:not(${t.componentCls}-customize-input) ${t.componentCls}-selector`]:{color:t.colorTextDisabled}},[`&${t.componentCls}-multiple ${t.componentCls}-selection-item`]:{background:t.multipleItemBg,border:`${unit(t.lineWidth)} ${t.lineType} ${t.multipleItemBorderColor}`},[`&${t.componentCls}-status-error`]:{[`${t.componentCls}-selection-item`]:{color:t.colorError}},[`&${t.componentCls}-status-warning`]:{[`${t.componentCls}-selection-item`]:{color:t.colorWarning}}}}),genVariantsStyle=t=>({[t.componentCls]:Object.assign(Object.assign(Object.assign({},genOutlinedStyle(t)),genFilledStyle(t)),genBorderlessStyle(t))}),genSelectorStyle=t=>{const{componentCls:e}=t;return{position:"relative",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit",height:"100%"}},[`${e}-disabled&`]:{cursor:"not-allowed",input:{cursor:"not-allowed"}}}},getSearchInputWithoutBorderStyle=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none",fontFamily:"inherit","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},genBaseStyle$1=t=>{const{antCls:e,componentCls:n,inputPaddingHorizontalBase:i,iconCls:s}=t;return{[n]:Object.assign(Object.assign({},resetComponent(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${n}-customize-input) ${n}-selector`]:Object.assign(Object.assign({},genSelectorStyle(t)),getSearchInputWithoutBorderStyle(t)),[`${n}-selection-item`]:Object.assign(Object.assign({flex:1,fontWeight:"normal",position:"relative",userSelect:"none"},textEllipsis),{[`> ${e}-typography`]:{display:"inline"}}),[`${n}-selection-placeholder`]:Object.assign(Object.assign({},textEllipsis),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${n}-arrow`]:Object.assign(Object.assign({},resetIcon()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",transition:`opacity ${t.motionDurationSlow} ease`,[s]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${n}-suffix)`]:{pointerEvents:"auto"}},[`${n}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${n}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:i,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:t.calc(t.fontSizeIcon).mul(-1).div(2).equal(),color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},[`&:hover ${n}-clear`]:{opacity:1,background:t.colorBgBase,borderRadius:"50%"}}),[`${n}-has-feedback`]:{[`${n}-clear`]:{insetInlineEnd:t.calc(i).add(t.fontSize).add(t.paddingXS).equal()}}}},genSelectStyle=t=>{const{componentCls:e}=t;return[{[e]:{[`&${e}-in-form-item`]:{width:"100%"}}},genBaseStyle$1(t),genSingleStyle(t),genMultipleStyle(t),genSingleStyle$1(t),{[`${e}-rtl`]:{direction:"rtl"}},genCompactItemStyle(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},useSelectStyle=genStyleHooks("Select",(t,e)=>{let{rootPrefixCls:n}=e;const i=merge(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.calc(t.paddingSM).sub(1).equal(),multipleSelectItemHeight:t.multipleItemHeight,selectHeight:t.controlHeight});return[genSelectStyle(i),genVariantsStyle(i)]},prepareComponentToken$2,{unitless:{optionLineHeight:!0,optionSelectedFontWeight:!0}});var CheckOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},CheckOutlined$1=function(e,n){return reactExports.createElement(Icon$1,_extends({},e,{ref:n,icon:CheckOutlined$2}))},RefIcon$4=reactExports.forwardRef(CheckOutlined$1),DownOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},DownOutlined=function(e,n){return reactExports.createElement(Icon$1,_extends({},e,{ref:n,icon:DownOutlined$1}))},RefIcon$3=reactExports.forwardRef(DownOutlined);function useIcons(t){let{suffixIcon:e,clearIcon:n,menuItemSelectedIcon:i,removeIcon:s,loading:g,multiple:l,hasFeedback:C,prefixCls:p,showSuffixIcon:B,feedbackIcon:Q,showArrow:y,componentName:_}=t;const S=n??reactExports.createElement(RefIcon$8,null),w=M=>e===null&&!C&&!y?null:reactExports.createElement(reactExports.Fragment,null,B!==!1&&M,C&&Q);let O=null;if(e!==void 0)O=w(e);else if(g)O=w(reactExports.createElement(RefIcon$a,{spin:!0}));else{const M=`${p}-suffix`;O=U=>{let{open:F,showSearch:W}=U;return w(F&&W?reactExports.createElement(RefIcon$b,{className:M}):reactExports.createElement(RefIcon$3,{className:M}))}}let P=null;i!==void 0?P=i:l?P=reactExports.createElement(RefIcon$4,null):P=null;let K=null;return s!==void 0?K=s:K=reactExports.createElement(RefIcon$5,null),{clearIcon:S,suffixIcon:O,itemIcon:P,removeIcon:K}}function useShowArrow(t,e){return e!==void 0?e:t!==null}var __rest$5=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",InternalSelect=(t,e)=>{var n;const{prefixCls:i,bordered:s,className:g,rootClassName:l,getPopupContainer:C,popupClassName:p,dropdownClassName:B,listHeight:Q=256,placement:y,listItemHeight:_,size:S,disabled:w,notFoundContent:O,status:P,builtinPlacements:K,dropdownMatchSelectWidth:M,popupMatchSelectWidth:U,direction:F,style:W,allowClear:ae,variant:_r,dropdownStyle:_t,transitionName:_A,tagRender:na,maxCount:oa}=t,ha=__rest$5(t,["prefixCls","bordered","className","rootClassName","getPopupContainer","popupClassName","dropdownClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","direction","style","allowClear","variant","dropdownStyle","transitionName","tagRender","maxCount"]),{getPopupContainer:fa,getPrefixCls:Da,renderEmpty:ga,direction:ma,virtual:Ra,popupMatchSelectWidth:$a,popupOverflow:Ka,select:_u}=reactExports.useContext(ConfigContext),[,Uc]=useToken(),_E=_??(Uc==null?void 0:Uc.controlHeight),Bh=Da("select",i),_I=Da(),zf=F??ma,{compactSize:oQ,compactItemClassnames:gQ}=useCompactItemContext(Bh,zf),[yQ,NQ]=useVariant("select",_r,s),uQ=useCSSVarCls(Bh),[_B,IQ,SQ]=useSelectStyle(Bh,uQ),dQ=reactExports.useMemo(()=>{const{mode:Y0}=t;if(Y0!=="combobox")return Y0===SECRET_COMBOBOX_MODE_DO_NOT_USE?"combobox":Y0},[t.mode]),pQ=dQ==="multiple"||dQ==="tags",aQ=useShowArrow(t.suffixIcon,t.showArrow),Ah=(n=U??M)!==null&&n!==void 0?n:$a,{status:da,hasFeedback:Wa,isFormItemInput:_l,feedbackIcon:vd}=reactExports.useContext(FormItemInputContext),CQ=getMergedStatus(da,P);let tQ;O!==void 0?tQ=O:dQ==="combobox"?tQ=null:tQ=(ga==null?void 0:ga("Select"))||reactExports.createElement(DefaultRenderEmpty,{componentName:"Select"});const{suffixIcon:BQ,itemIcon:_m,removeIcon:DQ,clearIcon:UQ}=useIcons(Object.assign(Object.assign({},ha),{multiple:pQ,hasFeedback:Wa,feedbackIcon:vd,showSuffixIcon:aQ,prefixCls:Bh,componentName:"Select"})),XQ=ae===!0?{clearIcon:UQ}:ae,b0=omit(ha,["suffixIcon","itemIcon"]),D0=classNames(p||B,{[`${Bh}-dropdown-${zf}`]:zf==="rtl"},l,SQ,uQ,IQ),_p=useSize(Y0=>{var J0;return(J0=S??oQ)!==null&&J0!==void 0?J0:Y0}),TQ=reactExports.useContext(DisabledContext),YQ=w??TQ,hQ=classNames({[`${Bh}-lg`]:_p==="large",[`${Bh}-sm`]:_p==="small",[`${Bh}-rtl`]:zf==="rtl",[`${Bh}-${yQ}`]:NQ,[`${Bh}-in-form-item`]:_l},getStatusClassNames(Bh,CQ,Wa),gQ,_u==null?void 0:_u.className,g,l,SQ,uQ,IQ),F0=reactExports.useMemo(()=>y!==void 0?y:zf==="rtl"?"bottomRight":"bottomLeft",[y,zf]),[r_]=useZIndex("SelectLike",_t==null?void 0:_t.zIndex);return _B(reactExports.createElement(TypedSelect,Object.assign({ref:e,virtual:Ra,showSearch:_u==null?void 0:_u.showSearch},b0,{style:Object.assign(Object.assign({},_u==null?void 0:_u.style),W),dropdownMatchSelectWidth:Ah,transitionName:getTransitionName(_I,"slide-up",_A),builtinPlacements:mergedBuiltinPlacements(K,Ka),listHeight:Q,listItemHeight:_E,mode:dQ,prefixCls:Bh,placement:F0,direction:zf,suffixIcon:BQ,menuItemSelectedIcon:_m,removeIcon:DQ,allowClear:XQ,notFoundContent:tQ,className:hQ,getPopupContainer:C||fa,dropdownClassName:D0,disabled:YQ,dropdownStyle:Object.assign(Object.assign({},_t),{zIndex:r_}),maxCount:pQ?oa:void 0,tagRender:pQ?na:void 0})))},Select=reactExports.forwardRef(InternalSelect),PurePanel$4=genPurePanel(Select);Select.SECRET_COMBOBOX_MODE_DO_NOT_USE=SECRET_COMBOBOX_MODE_DO_NOT_USE;Select.Option=Option;Select.OptGroup=OptGroup;Select._InternalPanelDoNotUseOrYouWillBeFired=PurePanel$4;const getRenderPropValue=t=>t?typeof t=="function"?t():t:null;function Popup(t){var e=t.children,n=t.prefixCls,i=t.id,s=t.overlayInnerStyle,g=t.className,l=t.style;return reactExports.createElement("div",{className:classNames("".concat(n,"-content"),g),style:l},reactExports.createElement("div",{className:"".concat(n,"-inner"),id:i,role:"tooltip",style:s},typeof e=="function"?e():e))}var autoAdjustOverflowTopBottom={shiftX:64,adjustY:1},autoAdjustOverflowLeftRight={adjustX:1,shiftY:!0},targetOffset=[0,0],placements={left:{points:["cr","cl"],overflow:autoAdjustOverflowLeftRight,offset:[-4,0],targetOffset},right:{points:["cl","cr"],overflow:autoAdjustOverflowLeftRight,offset:[4,0],targetOffset},top:{points:["bc","tc"],overflow:autoAdjustOverflowTopBottom,offset:[0,-4],targetOffset},bottom:{points:["tc","bc"],overflow:autoAdjustOverflowTopBottom,offset:[0,4],targetOffset},topLeft:{points:["bl","tl"],overflow:autoAdjustOverflowTopBottom,offset:[0,-4],targetOffset},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflowLeftRight,offset:[-4,0],targetOffset},topRight:{points:["br","tr"],overflow:autoAdjustOverflowTopBottom,offset:[0,-4],targetOffset},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflowLeftRight,offset:[4,0],targetOffset},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflowTopBottom,offset:[0,4],targetOffset},rightBottom:{points:["bl","br"],overflow:autoAdjustOverflowLeftRight,offset:[4,0],targetOffset},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflowTopBottom,offset:[0,4],targetOffset},leftBottom:{points:["br","bl"],overflow:autoAdjustOverflowLeftRight,offset:[-4,0],targetOffset}},_excluded$2=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle","arrowContent","overlay","id","showArrow"],Tooltip$1=function(e,n){var i=e.overlayClassName,s=e.trigger,g=s===void 0?["hover"]:s,l=e.mouseEnterDelay,C=l===void 0?0:l,p=e.mouseLeaveDelay,B=p===void 0?.1:p,Q=e.overlayStyle,y=e.prefixCls,_=y===void 0?"rc-tooltip":y,S=e.children,w=e.onVisibleChange,O=e.afterVisibleChange,P=e.transitionName,K=e.animation,M=e.motion,U=e.placement,F=U===void 0?"right":U,W=e.align,ae=W===void 0?{}:W,_r=e.destroyTooltipOnHide,_t=_r===void 0?!1:_r,_A=e.defaultVisible,na=e.getTooltipContainer,oa=e.overlayInnerStyle;e.arrowContent;var ha=e.overlay,fa=e.id,Da=e.showArrow,ga=Da===void 0?!0:Da,ma=_objectWithoutProperties(e,_excluded$2),Ra=reactExports.useRef(null);reactExports.useImperativeHandle(n,function(){return Ra.current});var $a=_objectSpread2({},ma);"visible"in e&&($a.popupVisible=e.visible);var Ka=function(){return reactExports.createElement(Popup,{key:"content",prefixCls:_,id:fa,overlayInnerStyle:oa},ha)};return reactExports.createElement(Trigger,_extends({popupClassName:i,prefixCls:_,popup:Ka,action:g,builtinPlacements:placements,popupPlacement:F,ref:Ra,popupAlign:ae,getPopupContainer:na,onPopupVisibleChange:w,afterPopupVisibleChange:O,popupTransitionName:P,popupAnimation:K,popupMotion:M,defaultPopupVisible:_A,autoDestroy:_t,mouseLeaveDelay:B,popupStyle:Q,mouseEnterDelay:C,arrow:ga},$a),S)};const Tooltip$2=reactExports.forwardRef(Tooltip$1);function getArrowToken(t){const{sizePopupArrow:e,borderRadiusXS:n,borderRadiusOuter:i}=t,s=e/2,g=0,l=s,C=i*1/Math.sqrt(2),p=s-i*(1-1/Math.sqrt(2)),B=s-n*(1/Math.sqrt(2)),Q=i*(Math.sqrt(2)-1)+n*(1/Math.sqrt(2)),y=2*s-B,_=Q,S=2*s-C,w=p,O=2*s-g,P=l,K=s*Math.sqrt(2)+i*(Math.sqrt(2)-2),M=i*(Math.sqrt(2)-1),U=`polygon(${M}px 100%, 50% ${M}px, ${2*s-M}px 100%, ${M}px 100%)`,F=`path('M ${g} ${l} A ${i} ${i} 0 0 0 ${C} ${p} L ${B} ${Q} A ${n} ${n} 0 0 1 ${y} ${_} L ${S} ${w} A ${i} ${i} 0 0 0 ${O} ${P} Z')`;return{arrowShadowWidth:K,arrowPath:F,arrowPolygon:U}}const genRoundedArrow=(t,e,n)=>{const{sizePopupArrow:i,arrowPolygon:s,arrowPath:g,arrowShadowWidth:l,borderRadiusXS:C,calc:p}=t;return{pointerEvents:"none",width:i,height:i,overflow:"hidden","&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:i,height:p(i).div(2).equal(),background:e,clipPath:{_multi_value_:!0,value:[s,g]},content:'""'},"&::after":{content:'""',position:"absolute",width:l,height:l,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${unit(C)} 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:n,zIndex:0,background:"transparent"}}},MAX_VERTICAL_CONTENT_RADIUS=8;function getArrowOffsetToken(t){const{contentRadius:e,limitVerticalRadius:n}=t,i=e>12?e+2:12;return{arrowOffsetHorizontal:i,arrowOffsetVertical:n?MAX_VERTICAL_CONTENT_RADIUS:i}}function isInject(t,e){return t?e:{}}function getArrowStyle(t,e,n){const{componentCls:i,boxShadowPopoverArrow:s,arrowOffsetVertical:g,arrowOffsetHorizontal:l}=t,{arrowDistance:C=0,arrowPlacement:p={left:!0,right:!0,top:!0,bottom:!0}}={};return{[i]:Object.assign(Object.assign(Object.assign(Object.assign({[`${i}-arrow`]:[Object.assign(Object.assign({position:"absolute",zIndex:1,display:"block"},genRoundedArrow(t,e,s)),{"&:before":{background:e}})]},isInject(!!p.top,{[[`&-placement-top > ${i}-arrow`,`&-placement-topLeft > ${i}-arrow`,`&-placement-topRight > ${i}-arrow`].join(",")]:{bottom:C,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},"&-placement-topLeft":{"--arrow-offset-horizontal":l,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-topRight":{"--arrow-offset-horizontal":`calc(100% - ${unit(l)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),isInject(!!p.bottom,{[[`&-placement-bottom > ${i}-arrow`,`&-placement-bottomLeft > ${i}-arrow`,`&-placement-bottomRight > ${i}-arrow`].join(",")]:{top:C,transform:"translateY(-100%)"},[`&-placement-bottom > ${i}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},"&-placement-bottomLeft":{"--arrow-offset-horizontal":l,[`> ${i}-arrow`]:{left:{_skip_check_:!0,value:l}}},"&-placement-bottomRight":{"--arrow-offset-horizontal":`calc(100% - ${unit(l)})`,[`> ${i}-arrow`]:{right:{_skip_check_:!0,value:l}}}})),isInject(!!p.left,{[[`&-placement-left > ${i}-arrow`,`&-placement-leftTop > ${i}-arrow`,`&-placement-leftBottom > ${i}-arrow`].join(",")]:{right:{_skip_check_:!0,value:C},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop > ${i}-arrow`]:{top:g},[`&-placement-leftBottom > ${i}-arrow`]:{bottom:g}})),isInject(!!p.right,{[[`&-placement-right > ${i}-arrow`,`&-placement-rightTop > ${i}-arrow`,`&-placement-rightBottom > ${i}-arrow`].join(",")]:{left:{_skip_check_:!0,value:C},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right > ${i}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop > ${i}-arrow`]:{top:g},[`&-placement-rightBottom > ${i}-arrow`]:{bottom:g}}))}}function getOverflowOptions(t,e,n,i){if(i===!1)return{adjustX:!1,adjustY:!1};const s=i&&typeof i=="object"?i:{},g={};switch(t){case"top":case"bottom":g.shiftX=e.arrowOffsetHorizontal*2+n,g.shiftY=!0,g.adjustY=!0;break;case"left":case"right":g.shiftY=e.arrowOffsetVertical*2+n,g.shiftX=!0,g.adjustX=!0;break}const l=Object.assign(Object.assign({},g),s);return l.shiftX||(l.adjustX=!0),l.shiftY||(l.adjustY=!0),l}const PlacementAlignMap={left:{points:["cr","cl"]},right:{points:["cl","cr"]},top:{points:["bc","tc"]},bottom:{points:["tc","bc"]},topLeft:{points:["bl","tl"]},leftTop:{points:["tr","tl"]},topRight:{points:["br","tr"]},rightTop:{points:["tl","tr"]},bottomRight:{points:["tr","br"]},rightBottom:{points:["bl","br"]},bottomLeft:{points:["tl","bl"]},leftBottom:{points:["br","bl"]}},ArrowCenterPlacementAlignMap={topLeft:{points:["bl","tc"]},leftTop:{points:["tr","cl"]},topRight:{points:["br","tc"]},rightTop:{points:["tl","cr"]},bottomRight:{points:["tr","bc"]},rightBottom:{points:["bl","cr"]},bottomLeft:{points:["tl","bc"]},leftBottom:{points:["br","cl"]}},DisableAutoArrowList=new Set(["topLeft","topRight","bottomLeft","bottomRight","leftTop","leftBottom","rightTop","rightBottom"]);function getPlacements(t){const{arrowWidth:e,autoAdjustOverflow:n,arrowPointAtCenter:i,offset:s,borderRadius:g,visibleFirst:l}=t,C=e/2,p={};return Object.keys(PlacementAlignMap).forEach(B=>{const Q=i&&ArrowCenterPlacementAlignMap[B]||PlacementAlignMap[B],y=Object.assign(Object.assign({},Q),{offset:[0,0],dynamicInset:!0});switch(p[B]=y,DisableAutoArrowList.has(B)&&(y.autoArrow=!1),B){case"top":case"topLeft":case"topRight":y.offset[1]=-C-s;break;case"bottom":case"bottomLeft":case"bottomRight":y.offset[1]=C+s;break;case"left":case"leftTop":case"leftBottom":y.offset[0]=-C-s;break;case"right":case"rightTop":case"rightBottom":y.offset[0]=C+s;break}const _=getArrowOffsetToken({contentRadius:g,limitVerticalRadius:!0});if(i)switch(B){case"topLeft":case"bottomLeft":y.offset[0]=-_.arrowOffsetHorizontal-C;break;case"topRight":case"bottomRight":y.offset[0]=_.arrowOffsetHorizontal+C;break;case"leftTop":case"rightTop":y.offset[1]=-_.arrowOffsetHorizontal*2+C;break;case"leftBottom":case"rightBottom":y.offset[1]=_.arrowOffsetHorizontal*2-C;break}y.overflow=getOverflowOptions(B,_,e,n),l&&(y.htmlRegion="visibleFirst")}),p}const genTooltipStyle=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:i,tooltipBg:s,tooltipBorderRadius:g,zIndexPopup:l,controlHeight:C,boxShadowSecondary:p,paddingSM:B,paddingXS:Q}=t;return[{[e]:Object.assign(Object.assign(Object.assign(Object.assign({},resetComponent(t)),{position:"absolute",zIndex:l,display:"block",width:"max-content",maxWidth:n,visibility:"visible","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"&-hidden":{display:"none"},"--antd-arrow-background-color":s,[`${e}-inner`]:{minWidth:"1em",minHeight:C,padding:`${unit(t.calc(B).div(2).equal())} ${unit(Q)}`,color:i,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:s,borderRadius:g,boxShadow:p,boxSizing:"border-box"},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:t.min(g,MAX_VERTICAL_CONTENT_RADIUS)}},[`${e}-content`]:{position:"relative"}}),genPresetColor(t,(y,_)=>{let{darkColor:S}=_;return{[`&${e}-${y}`]:{[`${e}-inner`]:{backgroundColor:S},[`${e}-arrow`]:{"--antd-arrow-background-color":S}}}})),{"&-rtl":{direction:"rtl"}})},getArrowStyle(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow}}]},prepareComponentToken$1=t=>Object.assign(Object.assign({zIndexPopup:t.zIndexPopupBase+70},getArrowOffsetToken({contentRadius:t.borderRadius,limitVerticalRadius:!0})),getArrowToken(merge(t,{borderRadiusOuter:Math.min(t.borderRadiusOuter,4)}))),useStyle$1=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return genStyleHooks("Tooltip",i=>{const{borderRadius:s,colorTextLightSolid:g,colorBgSpotlight:l}=i,C=merge(i,{tooltipMaxWidth:250,tooltipColor:g,tooltipBorderRadius:s,tooltipBg:l});return[genTooltipStyle(C),initZoomMotion(i,"zoom-big-fast")]},prepareComponentToken$1,{resetStyle:!1,injectStyle:e})(t)},inverseColors=PresetColors.map(t=>`${t}-inverse`);function isPresetColor(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[].concat(_toConsumableArray(inverseColors),_toConsumableArray(PresetColors)).includes(t):PresetColors.includes(t)}function parseColor(t,e){const n=isPresetColor(e),i=classNames({[`${t}-${e}`]:e&&n}),s={},g={};return e&&!n&&(s.background=e,g["--antd-arrow-background-color"]=e),{className:i,overlayStyle:s,arrowStyle:g}}const PurePanel$3=t=>{const{prefixCls:e,className:n,placement:i="top",title:s,color:g,overlayInnerStyle:l}=t,{getPrefixCls:C}=reactExports.useContext(ConfigContext),p=C("tooltip",e),[B,Q,y]=useStyle$1(p),_=parseColor(p,g),S=_.arrowStyle,w=Object.assign(Object.assign({},l),_.overlayStyle),O=classNames(Q,y,p,`${p}-pure`,`${p}-placement-${i}`,n,_.className);return B(reactExports.createElement("div",{className:O,style:S},reactExports.createElement("div",{className:`${p}-arrow`}),reactExports.createElement(Popup,Object.assign({},t,{className:Q,prefixCls:p,overlayInnerStyle:w}),s)))};var __rest$4=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const InternalTooltip=reactExports.forwardRef((t,e)=>{var n,i;const{prefixCls:s,openClassName:g,getTooltipContainer:l,overlayClassName:C,color:p,overlayInnerStyle:B,children:Q,afterOpenChange:y,afterVisibleChange:_,destroyTooltipOnHide:S,arrow:w=!0,title:O,overlay:P,builtinPlacements:K,arrowPointAtCenter:M=!1,autoAdjustOverflow:U=!0}=t,F=!!w,[,W]=useToken(),{getPopupContainer:ae,getPrefixCls:_r,direction:_t}=reactExports.useContext(ConfigContext),_A=devUseWarning(),na=reactExports.useRef(null),oa=()=>{var tQ;(tQ=na.current)===null||tQ===void 0||tQ.forceAlign()};reactExports.useImperativeHandle(e,()=>{var tQ;return{forceAlign:oa,forcePopupAlign:()=>{_A.deprecated(!1,"forcePopupAlign","forceAlign"),oa()},nativeElement:(tQ=na.current)===null||tQ===void 0?void 0:tQ.nativeElement}});const[ha,fa]=useMergedState(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(i=t.defaultOpen)!==null&&i!==void 0?i:t.defaultVisible}),Da=!O&&!P&&O!==0,ga=tQ=>{var BQ,_m;fa(Da?!1:tQ),Da||((BQ=t.onOpenChange)===null||BQ===void 0||BQ.call(t,tQ),(_m=t.onVisibleChange)===null||_m===void 0||_m.call(t,tQ))},ma=reactExports.useMemo(()=>{var tQ,BQ;let _m=M;return typeof w=="object"&&(_m=(BQ=(tQ=w.pointAtCenter)!==null&&tQ!==void 0?tQ:w.arrowPointAtCenter)!==null&&BQ!==void 0?BQ:M),K||getPlacements({arrowPointAtCenter:_m,autoAdjustOverflow:U,arrowWidth:F?W.sizePopupArrow:0,borderRadius:W.borderRadius,offset:W.marginXXS,visibleFirst:!0})},[M,w,K,W]),Ra=reactExports.useMemo(()=>O===0?O:P||O||"",[P,O]),$a=reactExports.createElement(ContextIsolator,{space:!0},typeof Ra=="function"?Ra():Ra),{getPopupContainer:Ka,placement:_u="top",mouseEnterDelay:Uc=.1,mouseLeaveDelay:_E=.1,overlayStyle:Bh,rootClassName:_I}=t,zf=__rest$4(t,["getPopupContainer","placement","mouseEnterDelay","mouseLeaveDelay","overlayStyle","rootClassName"]),oQ=_r("tooltip",s),gQ=_r(),yQ=t["data-popover-inject"];let NQ=ha;!("open"in t)&&!("visible"in t)&&Da&&(NQ=!1);const uQ=reactExports.isValidElement(Q)&&!isFragment(Q)?Q:reactExports.createElement("span",null,Q),_B=uQ.props,IQ=!_B.className||typeof _B.className=="string"?classNames(_B.className,g||`${oQ}-open`):_B.className,[SQ,dQ,pQ]=useStyle$1(oQ,!yQ),aQ=parseColor(oQ,p),Ah=aQ.arrowStyle,da=Object.assign(Object.assign({},B),aQ.overlayStyle),Wa=classNames(C,{[`${oQ}-rtl`]:_t==="rtl"},aQ.className,_I,dQ,pQ),[_l,vd]=useZIndex("Tooltip",zf.zIndex),CQ=reactExports.createElement(Tooltip$2,Object.assign({},zf,{zIndex:_l,showArrow:F,placement:_u,mouseEnterDelay:Uc,mouseLeaveDelay:_E,prefixCls:oQ,overlayClassName:Wa,overlayStyle:Object.assign(Object.assign({},Ah),Bh),getTooltipContainer:Ka||l||ae,ref:na,builtinPlacements:ma,overlay:$a,visible:NQ,onVisibleChange:ga,afterVisibleChange:y??_,overlayInnerStyle:da,arrowContent:reactExports.createElement("span",{className:`${oQ}-arrow-content`}),motion:{motionName:getTransitionName(gQ,"zoom-big-fast",t.transitionName),motionDeadline:1e3},destroyTooltipOnHide:!!S}),NQ?cloneElement(uQ,{className:IQ}):uQ);return SQ(reactExports.createElement(zIndexContext.Provider,{value:vd},CQ))}),Tooltip=InternalTooltip;Tooltip._InternalPanelDoNotUseOrYouWillBeFired=PurePanel$3;const genBaseStyle=t=>{const{componentCls:e,popoverColor:n,titleMinWidth:i,fontWeightStrong:s,innerPadding:g,boxShadowSecondary:l,colorTextHeading:C,borderRadiusLG:p,zIndexPopup:B,titleMarginBottom:Q,colorBgElevated:y,popoverBg:_,titleBorderBottom:S,innerContentPadding:w,titlePadding:O}=t;return[{[e]:Object.assign(Object.assign({},resetComponent(t)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:B,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":y,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${e}-content`]:{position:"relative"},[`${e}-inner`]:{backgroundColor:_,backgroundClip:"padding-box",borderRadius:p,boxShadow:l,padding:g},[`${e}-title`]:{minWidth:i,marginBottom:Q,color:C,fontWeight:s,borderBottom:S,padding:O},[`${e}-inner-content`]:{color:n,padding:w}})},getArrowStyle(t,"var(--antd-arrow-background-color)"),{[`${e}-pure`]:{position:"relative",maxWidth:"none",margin:t.sizePopupArrow,display:"inline-block",[`${e}-content`]:{display:"inline-block"}}}]},genColorStyle=t=>{const{componentCls:e}=t;return{[e]:PresetColors.map(n=>{const i=t[`${n}6`];return{[`&${e}-${n}`]:{"--antd-arrow-background-color":i,[`${e}-inner`]:{backgroundColor:i},[`${e}-arrow`]:{background:"transparent"}}}})}},prepareComponentToken=t=>{const{lineWidth:e,controlHeight:n,fontHeight:i,padding:s,wireframe:g,zIndexPopupBase:l,borderRadiusLG:C,marginXS:p,lineType:B,colorSplit:Q,paddingSM:y}=t,_=n-i,S=_/2,w=_/2-e,O=s;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:l+30},getArrowToken(t)),getArrowOffsetToken({contentRadius:C,limitVerticalRadius:!0})),{innerPadding:g?0:12,titleMarginBottom:g?0:p,titlePadding:g?`${S}px ${O}px ${w}px`:0,titleBorderBottom:g?`${e}px ${B} ${Q}`:"none",innerContentPadding:g?`${y}px ${O}px`:0})},useStyle=genStyleHooks("Popover",t=>{const{colorBgElevated:e,colorText:n}=t,i=merge(t,{popoverBg:e,popoverColor:n});return[genBaseStyle(i),genColorStyle(i),initZoomMotion(i,"zoom-big")]},prepareComponentToken,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var __rest$3=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const Overlay=t=>{let{title:e,content:n,prefixCls:i}=t;return!e&&!n?null:reactExports.createElement(reactExports.Fragment,null,e&&reactExports.createElement("div",{className:`${i}-title`},e),n&&reactExports.createElement("div",{className:`${i}-inner-content`},n))},RawPurePanel=t=>{const{hashId:e,prefixCls:n,className:i,style:s,placement:g="top",title:l,content:C,children:p}=t,B=getRenderPropValue(l),Q=getRenderPropValue(C),y=classNames(e,n,`${n}-pure`,`${n}-placement-${g}`,i);return reactExports.createElement("div",{className:y,style:s},reactExports.createElement("div",{className:`${n}-arrow`}),reactExports.createElement(Popup,Object.assign({},t,{className:e,prefixCls:n}),p||reactExports.createElement(Overlay,{prefixCls:n,title:B,content:Q})))},PurePanel$2=t=>{const{prefixCls:e,className:n}=t,i=__rest$3(t,["prefixCls","className"]),{getPrefixCls:s}=reactExports.useContext(ConfigContext),g=s("popover",e),[l,C,p]=useStyle(g);return l(reactExports.createElement(RawPurePanel,Object.assign({},i,{prefixCls:g,hashId:C,className:classNames(n,p)})))};var __rest$2=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const InternalPopover=reactExports.forwardRef((t,e)=>{var n,i;const{prefixCls:s,title:g,content:l,overlayClassName:C,placement:p="top",trigger:B="hover",children:Q,mouseEnterDelay:y=.1,mouseLeaveDelay:_=.1,onOpenChange:S,overlayStyle:w={}}=t,O=__rest$2(t,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle"]),{getPrefixCls:P}=reactExports.useContext(ConfigContext),K=P("popover",s),[M,U,F]=useStyle(K),W=P(),ae=classNames(C,U,F),[_r,_t]=useMergedState(!1,{value:(n=t.open)!==null&&n!==void 0?n:t.visible,defaultValue:(i=t.defaultOpen)!==null&&i!==void 0?i:t.defaultVisible}),_A=(Da,ga)=>{_t(Da,!0),S==null||S(Da,ga)},na=Da=>{Da.keyCode===KeyCode.ESC&&_A(!1,Da)},oa=Da=>{_A(Da)},ha=getRenderPropValue(g),fa=getRenderPropValue(l);return M(reactExports.createElement(Tooltip,Object.assign({placement:p,trigger:B,mouseEnterDelay:y,mouseLeaveDelay:_,overlayStyle:w},O,{prefixCls:K,overlayClassName:ae,ref:e,open:_r,onOpenChange:oa,overlay:ha||fa?reactExports.createElement(Overlay,{prefixCls:K,title:ha,content:fa}):null,transitionName:getTransitionName(W,"zoom-big",O.transitionName),"data-popover-inject":!0}),cloneElement(Q,{onKeyDown:Da=>{var ga,ma;reactExports.isValidElement(Q)&&((ma=Q==null?void 0:(ga=Q.props).onKeyDown)===null||ma===void 0||ma.call(ga,Da)),na(Da)}})))}),Popover=InternalPopover;Popover._InternalPanelDoNotUseOrYouWillBeFired=PurePanel$2;function isPresetSize(t){return["small","middle","large"].includes(t)}function isValidGapNumber(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const SpaceContext=React.createContext({latestIndex:0}),SpaceContextProvider=SpaceContext.Provider,Item=t=>{let{className:e,index:n,children:i,split:s,style:g}=t;const{latestIndex:l}=reactExports.useContext(SpaceContext);return i==null?null:reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("div",{className:e,style:g},i),n<l&&s&&reactExports.createElement("span",{className:`${e}-split`},s))};var __rest$1=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const InternalSpace=reactExports.forwardRef((t,e)=>{var n,i,s;const{getPrefixCls:g,space:l,direction:C}=reactExports.useContext(ConfigContext),{size:p=(n=l==null?void 0:l.size)!==null&&n!==void 0?n:"small",align:B,className:Q,rootClassName:y,children:_,direction:S="horizontal",prefixCls:w,split:O,style:P,wrap:K=!1,classNames:M,styles:U}=t,F=__rest$1(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[W,ae]=Array.isArray(p)?p:[p,p],_r=isPresetSize(ae),_t=isPresetSize(W),_A=isValidGapNumber(ae),na=isValidGapNumber(W),oa=toArray$2(_,{keepEmpty:!0}),ha=B===void 0&&S==="horizontal"?"center":B,fa=g("space",w),[Da,ga,ma]=useStyle$6(fa),Ra=classNames(fa,l==null?void 0:l.className,ga,`${fa}-${S}`,{[`${fa}-rtl`]:C==="rtl",[`${fa}-align-${ha}`]:ha,[`${fa}-gap-row-${ae}`]:_r,[`${fa}-gap-col-${W}`]:_t},Q,y,ma),$a=classNames(`${fa}-item`,(i=M==null?void 0:M.item)!==null&&i!==void 0?i:(s=l==null?void 0:l.classNames)===null||s===void 0?void 0:s.item);let Ka=0;const _u=oa.map((Bh,_I)=>{var zf,oQ;Bh!=null&&(Ka=_I);const gQ=(Bh==null?void 0:Bh.key)||`${$a}-${_I}`;return reactExports.createElement(Item,{className:$a,key:gQ,index:_I,split:O,style:(zf=U==null?void 0:U.item)!==null&&zf!==void 0?zf:(oQ=l==null?void 0:l.styles)===null||oQ===void 0?void 0:oQ.item},Bh)}),Uc=reactExports.useMemo(()=>({latestIndex:Ka}),[Ka]);if(oa.length===0)return null;const _E={};return K&&(_E.flexWrap="wrap"),!_t&&na&&(_E.columnGap=W),!_r&&_A&&(_E.rowGap=ae),Da(reactExports.createElement("div",Object.assign({ref:e,className:Ra,style:Object.assign(Object.assign(Object.assign({},_E),l==null?void 0:l.style),P)},F),reactExports.createElement(SpaceContextProvider,{value:Uc},_u)))}),Space=InternalSpace;Space.Compact=Compact;var __rest=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n};const PurePanel=t=>{const{prefixCls:e,className:n,closeIcon:i,closable:s,type:g,title:l,children:C,footer:p}=t,B=__rest(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:Q}=reactExports.useContext(ConfigContext),y=Q(),_=e||Q("modal"),S=useCSSVarCls(y),[w,O,P]=useStyle$3(_,S),K=`${_}-confirm`;let M={};return g?M={closable:s??!1,title:"",footer:"",children:reactExports.createElement(ConfirmContent,Object.assign({},t,{prefixCls:_,confirmPrefixCls:K,rootPrefixCls:y,content:C}))}:M={closable:s??!0,title:l,footer:p!==null&&reactExports.createElement(Footer$1,Object.assign({},t)),children:C},w(reactExports.createElement(Panel,Object.assign({prefixCls:_,className:classNames(O,`${_}-pure-panel`,g&&K,g&&`${K}-${g}`,n,P,S)},B,{closeIcon:renderCloseIcon(_,i),closable:s},M)))},PurePanel$1=withPureRenderTheme(PurePanel);function modalWarn(t){return confirm(withWarn(t))}const Modal=Modal$1;Modal.useModal=useModal;Modal.info=function(e){return confirm(withInfo(e))};Modal.success=function(e){return confirm(withSuccess(e))};Modal.error=function(e){return confirm(withError(e))};Modal.warning=modalWarn;Modal.warn=modalWarn;Modal.confirm=function(e){return confirm(withConfirm(e))};Modal.destroyAll=function(){for(;destroyFns.length;){const e=destroyFns.pop();e&&e()}};Modal.config=modalGlobalConfig;Modal._InternalPanelDoNotUseOrYouWillBeFired=PurePanel$1;const gatewayAddress="https://api.agora.io",BASE_URL="https://service.agora.io/toolbox-overseas",appId$2="245209a8c18e4091b9579ec6f323bdbc",appCertificate="725d7c0604bc43b4a39e3c344aa6f8f4",SUB_BOT_UID="1000",PUB_BOT_UID="2000";let agoraToken="",genTokenTime=0;async function apiGetAgoraToken(t){var l;const{uid:e,channel:n}=t,i=`${BASE_URL}/v2/token/generate`,s={appId:appId$2,appCertificate,channelName:n,expire:7200,src:"web",types:[1,2],uid:e+""};let g=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return g=await g.json()||{},((l=g==null?void 0:g.data)==null?void 0:l.token)||""}const genAuthorization=async t=>agoraToken&&new Date().getTime()-genTokenTime<1e3*60*60?`agora token="${agoraToken}"`:(agoraToken=await apiGetAgoraToken(t),genTokenTime=new Date().getTime(),`agora token="${agoraToken}"`),apiSTTAcquireToken=async t=>{const{channel:e,uid:n}=t,i=`${gatewayAddress}/v1/projects/${appId$2}/rtsc/speech-to-text/builderTokens`,s={instanceId:e};let g=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json",Authorization:await genAuthorization(t)},body:JSON.stringify(s)});if(g.status==200)return g=await g.json(),g;throw console.error(g.status,g),new Error(g.toString())},apiSTTStartTranscription=async t=>{const{channel:e,languages:n,token:i,uid:s}=t,g=`${gatewayAddress}/v1/projects/${appId$2}/rtsc/speech-to-text/tasks?builderToken=${i}`;let l=null,C=null;{const y=await Promise.all([apiGetAgoraToken({uid:SUB_BOT_UID,channel:e}),apiGetAgoraToken({uid:PUB_BOT_UID,channel:e})]);l=y[0],C=y[1]}const p={languages:n.map(y=>y.source),maxIdleTime:60,rtcConfig:{channelName:e,subBotUid:SUB_BOT_UID,pubBotUid:PUB_BOT_UID}};l&&C&&(p.rtcConfig.subBotToken=l,p.rtcConfig.pubBotToken=C),n.find(y=>y.target.length)&&(p.translateConfig={forceTranslateInterval:2,languages:n.filter(y=>y.target.length)});const B=await fetch(g,{method:"POST",headers:{"Content-Type":"application/json",Authorization:await genAuthorization({uid:s,channel:e})},body:JSON.stringify(p)}),Q=await B.json();if(B.status!==200)throw new Error((Q==null?void 0:Q.message)||"start transcription failed");return Q},apiSTTStopTranscription=async t=>{const{taskId:e,token:n,uid:i,channel:s}=t,g=`${gatewayAddress}/v1/projects/${appId$2}/rtsc/speech-to-text/tasks/${e}?builderToken=${n}`;await fetch(g,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:await genAuthorization({uid:i,channel:s})}})},apiSTTQueryTranscription=async t=>{const{taskId:e,token:n,uid:i,channel:s}=t,g=`${gatewayAddress}/v1/projects/${appId$2}/rtsc/speech-to-text/tasks/${e}?builderToken=${n}`;return await(await fetch(g,{method:"GET",headers:{"Content-Type":"application/json",Authorization:await genAuthorization({uid:i,channel:s})}})).json()},apiSTTUpdateTranscription=async t=>{const{taskId:e,token:n,uid:i,channel:s,data:g,updateMaskList:l}=t,C=l.join(","),p=`${gatewayAddress}/v1/projects/${appId$2}/rtsc/speech-to-text/tasks/${e}?builderToken=${n}&sequenceId=1&updateMask=${C}`,B={...g};return await(await fetch(p,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:await genAuthorization({uid:i,channel:s})},body:JSON.stringify(B)})).json()},apiAiAnalysis=async t=>{throw new Error("VITE_AGORA_GPT_URL is not defined in env")};var AgoraRTC_NProduction={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(commonjsGlobal,function(){function n(A,r){return r.forEach(function(o){o&&typeof o!="string"&&!Array.isArray(o)&&Object.keys(o).forEach(function(u){if(u!=="default"&&!(u in A)){var h=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(A,u,h.get?h:{enumerable:!0,get:function(){return o[u]}})}})}),Object.freeze(A)}var i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function s(A){return A&&A.__esModule&&Object.prototype.hasOwnProperty.call(A,"default")?A.default:A}var g=function(A){try{return!!A()}catch{return!0}},l=!g(function(){var A=(function(){}).bind();return typeof A!="function"||A.hasOwnProperty("prototype")}),C=l,p=Function.prototype,B=p.call,Q=C&&p.bind.bind(B,B),y=C?Q:function(A){return function(){return B.apply(A,arguments)}},_=y({}.isPrototypeOf),S=function(A){return A&&A.Math==Math&&A},w=S(typeof globalThis=="object"&&globalThis)||S(typeof window=="object"&&window)||S(typeof self=="object"&&self)||S(typeof i=="object"&&i)||function(){return this}()||i||Function("return this")(),O=l,P=Function.prototype,K=P.apply,M=P.call,U=typeof Reflect=="object"&&Reflect.apply||(O?M.bind(K):function(){return M.apply(K,arguments)}),F=y,W=F({}.toString),ae=F("".slice),_r=function(A){return ae(W(A),8,-1)},_t=_r,_A=y,na=function(A){if(_t(A)==="Function")return _A(A)},oa=typeof document=="object"&&document.all,ha={all:oa,IS_HTMLDDA:oa===void 0&&oa!==void 0},fa=ha.all,Da=ha.IS_HTMLDDA?function(A){return typeof A=="function"||A===fa}:function(A){return typeof A=="function"},ga={},ma=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Ra=l,$a=Function.prototype.call,Ka=Ra?$a.bind($a):function(){return $a.apply($a,arguments)},_u={},Uc={}.propertyIsEnumerable,_E=Object.getOwnPropertyDescriptor,Bh=_E&&!Uc.call({1:2},1);_u.f=Bh?function(A){var r=_E(this,A);return!!r&&r.enumerable}:Uc;var _I,zf,oQ=function(A,r){return{enumerable:!(1&A),configurable:!(2&A),writable:!(4&A),value:r}},gQ=g,yQ=_r,NQ=Object,uQ=y("".split),_B=gQ(function(){return!NQ("z").propertyIsEnumerable(0)})?function(A){return yQ(A)=="String"?uQ(A,""):NQ(A)}:NQ,IQ=function(A){return A==null},SQ=IQ,dQ=TypeError,pQ=function(A){if(SQ(A))throw dQ("Can't call method on "+A);return A},aQ=_B,Ah=pQ,da=function(A){return aQ(Ah(A))},Wa=Da,_l=ha.all,vd=ha.IS_HTMLDDA?function(A){return typeof A=="object"?A!==null:Wa(A)||A===_l}:function(A){return typeof A=="object"?A!==null:Wa(A)},CQ={},tQ=CQ,BQ=w,_m=Da,DQ=function(A){return _m(A)?A:void 0},UQ=function(A,r){return arguments.length<2?DQ(tQ[A])||DQ(BQ[A]):tQ[A]&&tQ[A][r]||BQ[A]&&BQ[A][r]},XQ=typeof navigator<"u"&&String(navigator.userAgent)||"",b0=w,D0=XQ,_p=b0.process,TQ=b0.Deno,YQ=_p&&_p.versions||TQ&&TQ.version,hQ=YQ&&YQ.v8;hQ&&(zf=(_I=hQ.split("."))[0]>0&&_I[0]<4?1:+(_I[0]+_I[1])),!zf&&D0&&(!(_I=D0.match(/Edge\/(\d+)/))||_I[1]>=74)&&(_I=D0.match(/Chrome\/(\d+)/))&&(zf=+_I[1]);var F0=zf,r_=F0,Y0=g,J0=w.String,K_=!!Object.getOwnPropertySymbols&&!Y0(function(){var A=Symbol();return!J0(A)||!(Object(A)instanceof Symbol)||!Symbol.sham&&r_&&r_<41}),dS=K_&&!Symbol.sham&&typeof Symbol.iterator=="symbol",V_=UQ,ER=Da,__=_,i_=Object,w_=dS?function(A){return typeof A=="symbol"}:function(A){var r=V_("Symbol");return ER(r)&&__(r.prototype,i_(A))},K0=String,PQ=function(A){try{return K0(A)}catch{return"Object"}},_Q=Da,_y=PQ,T0=TypeError,B0=function(A){if(_Q(A))return A;throw T0(_y(A)+" is not a function")},e0=B0,xQ=IQ,GQ=function(A,r){var o=A[r];return xQ(o)?void 0:e0(o)},VQ=Ka,g0=Da,M0=vd,ES=TypeError,x_={exports:{}},tS=w,u_=Object.defineProperty,j_=function(A,r){try{u_(tS,A,{value:r,configurable:!0,writable:!0})}catch{tS[A]=r}return r},SS="__core-js_shared__",U_=w[SS]||j_(SS,{}),MS=U_;(x_.exports=function(A,r){return MS[A]||(MS[A]=r!==void 0?r:{})})("versions",[]).push({version:"3.31.1",mode:"pure",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE",source:"https://github.com/zloirock/core-js"});var kQ=x_.exports,OQ=pQ,$Q=Object,C0=function(A){return $Q(OQ(A))},P_=C0,qS=y({}.hasOwnProperty),e_=Object.hasOwn||function(A,r){return qS(P_(A),r)},yN=y,fb=0,wR=Math.random(),xS=yN(1 .toString),HR=function(A){return"Symbol("+(A===void 0?"":A)+")_"+xS(++fb+wR,36)},YR=kQ,WS=e_,_N=HR,qN=K_,XS=dS,nS=w.Symbol,bR=YR("wks"),JR=XS?nS.for||nS:nS&&nS.withoutSetter||_N,_0=function(A){return WS(bR,A)||(bR[A]=qN&&WS(nS,A)?nS[A]:JR("Symbol."+A)),bR[A]},v0=Ka,i0=vd,q_=w_,H_=GQ,v_=function(A,r){var o,u;if(g0(o=A.toString)&&!M0(u=VQ(o,A))||g0(o=A.valueOf)&&!M0(u=VQ(o,A)))return u;throw ES("Can't convert object to primitive value")},Y_=TypeError,US=_0("toPrimitive"),QS=function(A,r){if(!i0(A)||q_(A))return A;var o,u=H_(A,US);if(u){if(o=v0(u,A,r),!i0(o)||q_(o))return o;throw Y_("Can't convert object to primitive value")}return v_(A)},IR=w_,PS=function(A){var r=QS(A,"string");return IR(r)?r:r+""},GS=vd,DR=w.document,_b=GS(DR)&&GS(DR.createElement),vN=function(A){return _b?DR.createElement(A):{}},NR=vN,g1=!ma&&!g(function(){return Object.defineProperty(NR("div"),"a",{get:function(){return 7}}).a!=7}),zS=ma,WN=Ka,TT=_u,VR=oQ,SN=da,l1=PS,d1=e_,lO=g1,E1=Object.getOwnPropertyDescriptor;ga.f=zS?E1:function(A,r){if(A=SN(A),r=l1(r),lO)try{return E1(A,r)}catch{}if(d1(A,r))return VR(!WN(TT.f,A,r),A[r])};var LQ=g,n0=Da,C_=/#|\.prototype\./,g_=function(A,r){var o=I1[b_(A)];return o==CU||o!=dO&&(n0(r)?LQ(r):!!r)},b_=g_.normalize=function(A){return String(A).replace(C_,".").toLowerCase()},I1=g_.data={},dO=g_.NATIVE="N",CU=g_.POLYFILL="P",kT=g_,C$=B0,h$=l,p$=na(na.bind),EO=function(A,r){return C$(A),r===void 0?A:h$?p$(A,r):function(){return A.apply(r,arguments)}},TR={},eY=ma&&g(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),f$=vd,B$=String,Q$=TypeError,qR=function(A){if(f$(A))return A;throw Q$(B$(A)+" is not an object")},m$=ma,y$=g1,_$=eY,hU=qR,tY=PS,v$=TypeError,h3=Object.defineProperty,S$=Object.getOwnPropertyDescriptor,p3="enumerable",f3="configurable",B3="writable";TR.f=m$?_$?function(A,r,o){if(hU(A),r=tY(r),hU(o),typeof A=="function"&&r==="prototype"&&"value"in o&&B3 in o&&!o[B3]){var u=S$(A,r);u&&u[B3]&&(A[r]=o.value,o={configurable:f3 in o?o[f3]:u[f3],enumerable:p3 in o?o[p3]:u[p3],writable:!1})}return h3(A,r,o)}:h3:function(A,r,o){if(hU(A),r=tY(r),hU(o),y$)try{return h3(A,r,o)}catch{}if("get"in o||"set"in o)throw v$("Accessors not supported");return"value"in o&&(A[r]=o.value),A};var R$=TR,w$=oQ,XN=ma?function(A,r,o){return R$.f(A,r,w$(1,o))}:function(A,r,o){return A[r]=o,A},pU=w,b$=U,D$=na,N$=Da,T$=ga.f,k$=kT,C1=CQ,O$=EO,h1=XN,nY=e_,L$=function(A){var r=function(o,u,h){if(this instanceof r){switch(arguments.length){case 0:return new A;case 1:return new A(o);case 2:return new A(o,u)}return new A(o,u,h)}return b$(A,this,arguments)};return r.prototype=A.prototype,r},V0=function(A,r){var o,u,h,f,m,v,R,D,k,L=A.target,q=A.global,z=A.stat,_s=A.proto,_n=q?pU:z?pU[L]:(pU[L]||{}).prototype,_i=q?C1:C1[L]||h1(C1,L,{})[L],Aa=_i.prototype;for(f in r)u=!(o=k$(q?f:L+(z?".":"#")+f,A.forced))&&_n&&nY(_n,f),v=_i[f],u&&(R=A.dontCallGetSet?(k=T$(_n,f))&&k.value:_n[f]),m=u&&R?R:r[f],u&&typeof v==typeof m||(D=A.bind&&u?O$(m,pU):A.wrap&&u?L$(m):_s&&N$(m)?D$(m):m,(A.sham||m&&m.sham||v&&v.sham)&&h1(D,"sham",!0),h1(_i,f,D),_s&&(nY(C1,h=L+"Prototype")||h1(C1,h,{}),h1(C1[h],f,m),A.real&&Aa&&(o||!Aa[f])&&h1(Aa,f,m)))},M$=Math.ceil,x$=Math.floor,U$=Math.trunc||function(A){var r=+A;return(r>0?x$:M$)(r)},Q3=function(A){var r=+A;return r!=r||r===0?0:U$(r)},P$=Q3,G$=Math.max,F$=Math.min,rY=function(A,r){var o=P$(A);return o<0?G$(o+r,0):F$(o,r)},K$=Q3,j$=Math.min,H$=function(A){return A>0?j$(K$(A),9007199254740991):0},OT=function(A){return H$(A.length)},Y$=da,J$=rY,V$=OT,iY=function(A){return function(r,o,u){var h,f=Y$(r),m=V$(f),v=J$(u,m);if(A&&o!=o){for(;m>v;)if((h=f[v++])!=h)return!0}else for(;m>v;v++)if((A||v in f)&&f[v]===o)return A||v||0;return!A&&-1}},m3={includes:iY(!0),indexOf:iY(!1)},q$=m3.includes;V0({target:"Array",proto:!0,forced:g(function(){return!Array(1).includes()})},{includes:function(A){return q$(this,A,arguments.length>1?arguments[1]:void 0)}});var W$=CQ,zN=function(A){return W$[A+"Prototype"]},X$=zN("Array").includes,z$=vd,Z$=_r,$$=_0("match"),eee=function(A){var r;return z$(A)&&((r=A[$$])!==void 0?!!r:Z$(A)=="RegExp")},tee=TypeError,oY={};oY[_0("toStringTag")]="z";var y3=String(oY)==="[object z]",nee=y3,ree=Da,fU=_r,iee=_0("toStringTag"),oee=Object,Aee=fU(function(){return arguments}())=="Arguments",LT=nee?fU:function(A){var r,o,u;return A===void 0?"Undefined":A===null?"Null":typeof(o=function(h,f){try{return h[f]}catch{}}(r=oee(A),iee))=="string"?o:Aee?fU(r):(u=fU(r))=="Object"&&ree(r.callee)?"Arguments":u},see=LT,aee=String,RN=function(A){if(see(A)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return aee(A)},cee=_0("match"),uee=V0,gee=function(A){if(eee(A))throw tee("The method doesn't accept regular expressions");return A},lee=pQ,AY=RN,dee=function(A){var r=/./;try{"/./"[A](r)}catch{try{return r[cee]=!1,"/./"[A](r)}catch{}}return!1},Eee=y("".indexOf);uee({target:"String",proto:!0,forced:!dee("includes")},{includes:function(A){return!!~Eee(AY(lee(this)),AY(gee(A)),arguments.length>1?arguments[1]:void 0)}});var Iee=zN("String").includes,sY=_,Cee=X$,hee=Iee,_3=Array.prototype,v3=String.prototype,AQ=s(function(A){var r=A.includes;return A===_3||sY(_3,A)&&r===_3.includes?Cee:typeof A=="string"||A===v3||sY(v3,A)&&r===v3.includes?hee:r});let aY=!0,cY=!0;function BU(A,r,o){const u=A.match(r);return u&&u.length>=o&&parseInt(u[o],10)}function MT(A,r,o){if(!A.RTCPeerConnection)return;const u=A.RTCPeerConnection.prototype,h=u.addEventListener;u.addEventListener=function(m,v){if(m!==r)return h.apply(this,arguments);const R=D=>{const k=o(D);k&&(v.handleEvent?v.handleEvent(k):v(k))};return this._eventMap=this._eventMap||{},this._eventMap[r]||(this._eventMap[r]=new Map),this._eventMap[r].set(v,R),h.apply(this,[m,R])};const f=u.removeEventListener;u.removeEventListener=function(m,v){if(m!==r||!this._eventMap||!this._eventMap[r])return f.apply(this,arguments);if(!this._eventMap[r].has(v))return f.apply(this,arguments);const R=this._eventMap[r].get(v);return this._eventMap[r].delete(v),this._eventMap[r].size===0&&delete this._eventMap[r],Object.keys(this._eventMap).length===0&&delete this._eventMap,f.apply(this,[m,R])},Object.defineProperty(u,"on"+r,{get(){return this["_on"+r]},set(m){this["_on"+r]&&(this.removeEventListener(r,this["_on"+r]),delete this["_on"+r]),m&&this.addEventListener(r,this["_on"+r]=m)},enumerable:!0,configurable:!0})}function pee(A){return typeof A!="boolean"?new Error("Argument type: "+typeof A+". Please use a boolean."):(aY=A,A?"adapter.js logging disabled":"adapter.js logging enabled")}function fee(A){return typeof A!="boolean"?new Error("Argument type: "+typeof A+". Please use a boolean."):(cY=!A,"adapter.js deprecation warnings "+(A?"disabled":"enabled"))}function uY(){if(typeof window=="object"){if(aY)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function S3(A,r){cY&&console.warn(A+" is deprecated, please use "+r+" instead.")}function gY(A){return Object.prototype.toString.call(A)==="[object Object]"}function lY(A){return gY(A)?Object.keys(A).reduce(function(r,o){const u=gY(A[o]),h=u?lY(A[o]):A[o],f=u&&!Object.keys(h).length;return h===void 0||f?r:Object.assign(r,{[o]:h})},{}):A}function R3(A,r,o){r&&!o.has(r.id)&&(o.set(r.id,r),Object.keys(r).forEach(u=>{u.endsWith("Id")?R3(A,A.get(r[u]),o):u.endsWith("Ids")&&r[u].forEach(h=>{R3(A,A.get(h),o)})}))}function dY(A,r,o){const u=o?"outbound-rtp":"inbound-rtp",h=new Map;if(r===null)return h;const f=[];return A.forEach(m=>{m.type==="track"&&m.trackIdentifier===r.id&&f.push(m)}),f.forEach(m=>{A.forEach(v=>{v.type===u&&v.trackId===m.id&&R3(A,v,h)})}),h}const EY=uY;function IY(A,r){const o=A&&A.navigator;if(!o.mediaDevices)return;const u=function(m){if(typeof m!="object"||m.mandatory||m.optional)return m;const v={};return Object.keys(m).forEach(R=>{if(R==="require"||R==="advanced"||R==="mediaSource")return;const D=typeof m[R]=="object"?m[R]:{ideal:m[R]};D.exact!==void 0&&typeof D.exact=="number"&&(D.min=D.max=D.exact);const k=function(L,q){return L?L+q.charAt(0).toUpperCase()+q.slice(1):q==="deviceId"?"sourceId":q};if(D.ideal!==void 0){v.optional=v.optional||[];let L={};typeof D.ideal=="number"?(L[k("min",R)]=D.ideal,v.optional.push(L),L={},L[k("max",R)]=D.ideal,v.optional.push(L)):(L[k("",R)]=D.ideal,v.optional.push(L))}D.exact!==void 0&&typeof D.exact!="number"?(v.mandatory=v.mandatory||{},v.mandatory[k("",R)]=D.exact):["min","max"].forEach(L=>{D[L]!==void 0&&(v.mandatory=v.mandatory||{},v.mandatory[k(L,R)]=D[L])})}),m.advanced&&(v.optional=(v.optional||[]).concat(m.advanced)),v},h=function(m,v){if(r.version>=61)return v(m);if((m=JSON.parse(JSON.stringify(m)))&&typeof m.audio=="object"){const R=function(D,k,L){k in D&&!(L in D)&&(D[L]=D[k],delete D[k])};R((m=JSON.parse(JSON.stringify(m))).audio,"autoGainControl","googAutoGainControl"),R(m.audio,"noiseSuppression","googNoiseSuppression"),m.audio=u(m.audio)}if(m&&typeof m.video=="object"){let R=m.video.facingMode;R=R&&(typeof R=="object"?R:{ideal:R});const D=r.version<66;if(R&&(R.exact==="user"||R.exact==="environment"||R.ideal==="user"||R.ideal==="environment")&&(!o.mediaDevices.getSupportedConstraints||!o.mediaDevices.getSupportedConstraints().facingMode||D)){let k;if(delete m.video.facingMode,R.exact==="environment"||R.ideal==="environment"?k=["back","rear"]:R.exact!=="user"&&R.ideal!=="user"||(k=["front"]),k)return o.mediaDevices.enumerateDevices().then(L=>{let q=(L=L.filter(z=>z.kind==="videoinput")).find(z=>k.some(_s=>z.label.toLowerCase().includes(_s)));return!q&&L.length&&k.includes("back")&&(q=L[L.length-1]),q&&(m.video.deviceId=R.exact?{exact:q.deviceId}:{ideal:q.deviceId}),m.video=u(m.video),EY("chrome: "+JSON.stringify(m)),v(m)})}m.video=u(m.video)}return EY("chrome: "+JSON.stringify(m)),v(m)},f=function(m){return r.version>=64?m:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[m.name]||m.name,message:m.message,constraint:m.constraint||m.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(o.getUserMedia=(function(m,v,R){h(m,D=>{o.webkitGetUserMedia(D,v,k=>{R&&R(f(k))})})}).bind(o),o.mediaDevices.getUserMedia){const m=o.mediaDevices.getUserMedia.bind(o.mediaDevices);o.mediaDevices.getUserMedia=function(v){return h(v,R=>m(R).then(D=>{if(R.audio&&!D.getAudioTracks().length||R.video&&!D.getVideoTracks().length)throw D.getTracks().forEach(k=>{k.stop()}),new DOMException("","NotFoundError");return D},D=>Promise.reject(f(D))))}}}function CY(A){A.MediaStream=A.MediaStream||A.webkitMediaStream}function hY(A){if(typeof A=="object"&&A.RTCPeerConnection&&!("ontrack"in A.RTCPeerConnection.prototype)){Object.defineProperty(A.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(o){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=o)},enumerable:!0,configurable:!0});const r=A.RTCPeerConnection.prototype.setRemoteDescription;A.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=o=>{o.stream.addEventListener("addtrack",u=>{let h;h=A.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(m=>m.track&&m.track.id===u.track.id):{track:u.track};const f=new Event("track");f.track=u.track,f.receiver=h,f.transceiver={receiver:h},f.streams=[o.stream],this.dispatchEvent(f)}),o.stream.getTracks().forEach(u=>{let h;h=A.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find(m=>m.track&&m.track.id===u.id):{track:u};const f=new Event("track");f.track=u,f.receiver=h,f.transceiver={receiver:h},f.streams=[o.stream],this.dispatchEvent(f)})},this.addEventListener("addstream",this._ontrackpoly)),r.apply(this,arguments)}}else MT(A,"track",r=>(r.transceiver||Object.defineProperty(r,"transceiver",{value:{receiver:r.receiver}}),r))}function pY(A){if(typeof A=="object"&&A.RTCPeerConnection&&!("getSenders"in A.RTCPeerConnection.prototype)&&"createDTMFSender"in A.RTCPeerConnection.prototype){const r=function(h,f){return{track:f,get dtmf(){return this._dtmf===void 0&&(f.kind==="audio"?this._dtmf=h.createDTMFSender(f):this._dtmf=null),this._dtmf},_pc:h}};if(!A.RTCPeerConnection.prototype.getSenders){A.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const h=A.RTCPeerConnection.prototype.addTrack;A.RTCPeerConnection.prototype.addTrack=function(m,v){let R=h.apply(this,arguments);return R||(R=r(this,m),this._senders.push(R)),R};const f=A.RTCPeerConnection.prototype.removeTrack;A.RTCPeerConnection.prototype.removeTrack=function(m){f.apply(this,arguments);const v=this._senders.indexOf(m);v!==-1&&this._senders.splice(v,1)}}const o=A.RTCPeerConnection.prototype.addStream;A.RTCPeerConnection.prototype.addStream=function(h){this._senders=this._senders||[],o.apply(this,[h]),h.getTracks().forEach(f=>{this._senders.push(r(this,f))})};const u=A.RTCPeerConnection.prototype.removeStream;A.RTCPeerConnection.prototype.removeStream=function(h){this._senders=this._senders||[],u.apply(this,[h]),h.getTracks().forEach(f=>{const m=this._senders.find(v=>v.track===f);m&&this._senders.splice(this._senders.indexOf(m),1)})}}else if(typeof A=="object"&&A.RTCPeerConnection&&"getSenders"in A.RTCPeerConnection.prototype&&"createDTMFSender"in A.RTCPeerConnection.prototype&&A.RTCRtpSender&&!("dtmf"in A.RTCRtpSender.prototype)){const r=A.RTCPeerConnection.prototype.getSenders;A.RTCPeerConnection.prototype.getSenders=function(){const o=r.apply(this,[]);return o.forEach(u=>u._pc=this),o},Object.defineProperty(A.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function fY(A){if(!A.RTCPeerConnection)return;const r=A.RTCPeerConnection.prototype.getStats;A.RTCPeerConnection.prototype.getStats=function(){const[o,u,h]=arguments;if(arguments.length>0&&typeof o=="function")return r.apply(this,arguments);if(r.length===0&&(arguments.length===0||typeof o!="function"))return r.apply(this,[]);const f=function(v){const R={};return v.result().forEach(D=>{const k={id:D.id,timestamp:D.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[D.type]||D.type};D.names().forEach(L=>{k[L]=D.stat(L)}),R[k.id]=k}),R},m=function(v){return new Map(Object.keys(v).map(R=>[R,v[R]]))};if(arguments.length>=2){const v=function(R){u(m(f(R)))};return r.apply(this,[v,o])}return new Promise((v,R)=>{r.apply(this,[function(D){v(m(f(D)))},R])}).then(u,h)}}function BY(A){if(!(typeof A=="object"&&A.RTCPeerConnection&&A.RTCRtpSender&&A.RTCRtpReceiver))return;if(!("getStats"in A.RTCRtpSender.prototype)){const o=A.RTCPeerConnection.prototype.getSenders;o&&(A.RTCPeerConnection.prototype.getSenders=function(){const h=o.apply(this,[]);return h.forEach(f=>f._pc=this),h});const u=A.RTCPeerConnection.prototype.addTrack;u&&(A.RTCPeerConnection.prototype.addTrack=function(){const h=u.apply(this,arguments);return h._pc=this,h}),A.RTCRtpSender.prototype.getStats=function(){const h=this;return this._pc.getStats().then(f=>dY(f,h.track,!0))}}if(!("getStats"in A.RTCRtpReceiver.prototype)){const o=A.RTCPeerConnection.prototype.getReceivers;o&&(A.RTCPeerConnection.prototype.getReceivers=function(){const u=o.apply(this,[]);return u.forEach(h=>h._pc=this),u}),MT(A,"track",u=>(u.receiver._pc=u.srcElement,u)),A.RTCRtpReceiver.prototype.getStats=function(){const u=this;return this._pc.getStats().then(h=>dY(h,u.track,!1))}}if(!("getStats"in A.RTCRtpSender.prototype)||!("getStats"in A.RTCRtpReceiver.prototype))return;const r=A.RTCPeerConnection.prototype.getStats;A.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof A.MediaStreamTrack){const o=arguments[0];let u,h,f;return this.getSenders().forEach(m=>{m.track===o&&(u?f=!0:u=m)}),this.getReceivers().forEach(m=>(m.track===o&&(h?f=!0:h=m),m.track===o)),f||u&&h?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):u?u.getStats():h?h.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return r.apply(this,arguments)}}function QY(A){A.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(f=>this._shimmedLocalStreams[f][0])};const r=A.RTCPeerConnection.prototype.addTrack;A.RTCPeerConnection.prototype.addTrack=function(f,m){if(!m)return r.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const v=r.apply(this,arguments);return this._shimmedLocalStreams[m.id]?this._shimmedLocalStreams[m.id].indexOf(v)===-1&&this._shimmedLocalStreams[m.id].push(v):this._shimmedLocalStreams[m.id]=[m,v],v};const o=A.RTCPeerConnection.prototype.addStream;A.RTCPeerConnection.prototype.addStream=function(f){this._shimmedLocalStreams=this._shimmedLocalStreams||{},f.getTracks().forEach(R=>{if(this.getSenders().find(D=>D.track===R))throw new DOMException("Track already exists.","InvalidAccessError")});const m=this.getSenders();o.apply(this,arguments);const v=this.getSenders().filter(R=>m.indexOf(R)===-1);this._shimmedLocalStreams[f.id]=[f].concat(v)};const u=A.RTCPeerConnection.prototype.removeStream;A.RTCPeerConnection.prototype.removeStream=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[f.id],u.apply(this,arguments)};const h=A.RTCPeerConnection.prototype.removeTrack;A.RTCPeerConnection.prototype.removeTrack=function(f){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},f&&Object.keys(this._shimmedLocalStreams).forEach(m=>{const v=this._shimmedLocalStreams[m].indexOf(f);v!==-1&&this._shimmedLocalStreams[m].splice(v,1),this._shimmedLocalStreams[m].length===1&&delete this._shimmedLocalStreams[m]}),h.apply(this,arguments)}}function mY(A,r){if(!A.RTCPeerConnection)return;if(A.RTCPeerConnection.prototype.addTrack&&r.version>=65)return QY(A);const o=A.RTCPeerConnection.prototype.getLocalStreams;A.RTCPeerConnection.prototype.getLocalStreams=function(){const R=o.apply(this);return this._reverseStreams=this._reverseStreams||{},R.map(D=>this._reverseStreams[D.id])};const u=A.RTCPeerConnection.prototype.addStream;A.RTCPeerConnection.prototype.addStream=function(R){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},R.getTracks().forEach(D=>{if(this.getSenders().find(k=>k.track===D))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[R.id]){const D=new A.MediaStream(R.getTracks());this._streams[R.id]=D,this._reverseStreams[D.id]=R,R=D}u.apply(this,[R])};const h=A.RTCPeerConnection.prototype.removeStream;function f(R,D){let k=D.sdp;return Object.keys(R._reverseStreams||[]).forEach(L=>{const q=R._reverseStreams[L],z=R._streams[q.id];k=k.replace(new RegExp(z.id,"g"),q.id)}),new RTCSessionDescription({type:D.type,sdp:k})}A.RTCPeerConnection.prototype.removeStream=function(R){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},h.apply(this,[this._streams[R.id]||R]),delete this._reverseStreams[this._streams[R.id]?this._streams[R.id].id:R.id],delete this._streams[R.id]},A.RTCPeerConnection.prototype.addTrack=function(R,D){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const k=[].slice.call(arguments,1);if(k.length!==1||!k[0].getTracks().find(q=>q===R))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(q=>q.track===R))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const L=this._streams[D.id];if(L)L.addTrack(R),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const q=new A.MediaStream([R]);this._streams[D.id]=q,this._reverseStreams[q.id]=D,this.addStream(q)}return this.getSenders().find(q=>q.track===R)},["createOffer","createAnswer"].forEach(function(R){const D=A.RTCPeerConnection.prototype[R],k={[R](){const L=arguments;return arguments.length&&typeof arguments[0]=="function"?D.apply(this,[q=>{const z=f(this,q);L[0].apply(null,[z])},q=>{L[1]&&L[1].apply(null,q)},arguments[2]]):D.apply(this,arguments).then(q=>f(this,q))}};A.RTCPeerConnection.prototype[R]=k[R]});const m=A.RTCPeerConnection.prototype.setLocalDescription;A.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(R,D){let k=D.sdp;return Object.keys(R._reverseStreams||[]).forEach(L=>{const q=R._reverseStreams[L],z=R._streams[q.id];k=k.replace(new RegExp(q.id,"g"),z.id)}),new RTCSessionDescription({type:D.type,sdp:k})}(this,arguments[0]),m.apply(this,arguments)):m.apply(this,arguments)};const v=Object.getOwnPropertyDescriptor(A.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(A.RTCPeerConnection.prototype,"localDescription",{get(){const R=v.get.apply(this);return R.type===""?R:f(this,R)}}),A.RTCPeerConnection.prototype.removeTrack=function(R){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!R._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(R._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let D;this._streams=this._streams||{},Object.keys(this._streams).forEach(k=>{this._streams[k].getTracks().find(L=>R.track===L)&&(D=this._streams[k])}),D&&(D.getTracks().length===1?this.removeStream(this._reverseStreams[D.id]):D.removeTrack(R.track),this.dispatchEvent(new Event("negotiationneeded")))}}function w3(A,r){!A.RTCPeerConnection&&A.webkitRTCPeerConnection&&(A.RTCPeerConnection=A.webkitRTCPeerConnection),A.RTCPeerConnection&&r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(o){const u=A.RTCPeerConnection.prototype[o],h={[o](){return arguments[0]=new(o==="addIceCandidate"?A.RTCIceCandidate:A.RTCSessionDescription)(arguments[0]),u.apply(this,arguments)}};A.RTCPeerConnection.prototype[o]=h[o]})}function yY(A,r){MT(A,"negotiationneeded",o=>{const u=o.target;if(!(r.version<72||u.getConfiguration&&u.getConfiguration().sdpSemantics==="plan-b")||u.signalingState==="stable")return o})}var _Y=Object.freeze({__proto__:null,fixNegotiationNeeded:yY,shimAddTrackRemoveTrack:mY,shimAddTrackRemoveTrackWithNative:QY,shimGetDisplayMedia:function(A,r){A.navigator.mediaDevices&&"getDisplayMedia"in A.navigator.mediaDevices||A.navigator.mediaDevices&&(typeof r=="function"?A.navigator.mediaDevices.getDisplayMedia=function(o){return r(o).then(u=>{const h=o.video&&o.video.width,f=o.video&&o.video.height,m=o.video&&o.video.frameRate;return o.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:u,maxFrameRate:m||3}},h&&(o.video.mandatory.maxWidth=h),f&&(o.video.mandatory.maxHeight=f),A.navigator.mediaDevices.getUserMedia(o)})}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))},shimGetSendersWithDtmf:pY,shimGetStats:fY,shimGetUserMedia:IY,shimMediaStream:CY,shimOnTrack:hY,shimPeerConnection:w3,shimSenderReceiverGetStats:BY});function vY(A,r){const o=A&&A.navigator,u=A&&A.MediaStreamTrack;if(o.getUserMedia=function(h,f,m){S3("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),o.mediaDevices.getUserMedia(h).then(f,m)},!(r.version>55&&"autoGainControl"in o.mediaDevices.getSupportedConstraints())){const h=function(m,v,R){v in m&&!(R in m)&&(m[R]=m[v],delete m[v])},f=o.mediaDevices.getUserMedia.bind(o.mediaDevices);if(o.mediaDevices.getUserMedia=function(m){return typeof m=="object"&&typeof m.audio=="object"&&(m=JSON.parse(JSON.stringify(m)),h(m.audio,"autoGainControl","mozAutoGainControl"),h(m.audio,"noiseSuppression","mozNoiseSuppression")),f(m)},u&&u.prototype.getSettings){const m=u.prototype.getSettings;u.prototype.getSettings=function(){const v=m.apply(this,arguments);return h(v,"mozAutoGainControl","autoGainControl"),h(v,"mozNoiseSuppression","noiseSuppression"),v}}if(u&&u.prototype.applyConstraints){const m=u.prototype.applyConstraints;u.prototype.applyConstraints=function(v){return this.kind==="audio"&&typeof v=="object"&&(v=JSON.parse(JSON.stringify(v)),h(v,"autoGainControl","mozAutoGainControl"),h(v,"noiseSuppression","mozNoiseSuppression")),m.apply(this,[v])}}}}function SY(A){typeof A=="object"&&A.RTCTrackEvent&&"receiver"in A.RTCTrackEvent.prototype&&!("transceiver"in A.RTCTrackEvent.prototype)&&Object.defineProperty(A.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function b3(A,r){if(typeof A!="object"||!A.RTCPeerConnection&&!A.mozRTCPeerConnection)return;!A.RTCPeerConnection&&A.mozRTCPeerConnection&&(A.RTCPeerConnection=A.mozRTCPeerConnection),r.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(h){const f=A.RTCPeerConnection.prototype[h],m={[h](){return arguments[0]=new(h==="addIceCandidate"?A.RTCIceCandidate:A.RTCSessionDescription)(arguments[0]),f.apply(this,arguments)}};A.RTCPeerConnection.prototype[h]=m[h]});const o={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},u=A.RTCPeerConnection.prototype.getStats;A.RTCPeerConnection.prototype.getStats=function(){const[h,f,m]=arguments;return u.apply(this,[h||null]).then(v=>{if(r.version<53&&!f)try{v.forEach(R=>{R.type=o[R.type]||R.type})}catch(R){if(R.name!=="TypeError")throw R;v.forEach((D,k)=>{v.set(k,Object.assign({},D,{type:o[D.type]||D.type}))})}return v}).then(f,m)}}function RY(A){if(typeof A!="object"||!A.RTCPeerConnection||!A.RTCRtpSender||A.RTCRtpSender&&"getStats"in A.RTCRtpSender.prototype)return;const r=A.RTCPeerConnection.prototype.getSenders;r&&(A.RTCPeerConnection.prototype.getSenders=function(){const u=r.apply(this,[]);return u.forEach(h=>h._pc=this),u});const o=A.RTCPeerConnection.prototype.addTrack;o&&(A.RTCPeerConnection.prototype.addTrack=function(){const u=o.apply(this,arguments);return u._pc=this,u}),A.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function wY(A){if(typeof A!="object"||!A.RTCPeerConnection||!A.RTCRtpSender||A.RTCRtpSender&&"getStats"in A.RTCRtpReceiver.prototype)return;const r=A.RTCPeerConnection.prototype.getReceivers;r&&(A.RTCPeerConnection.prototype.getReceivers=function(){const o=r.apply(this,[]);return o.forEach(u=>u._pc=this),o}),MT(A,"track",o=>(o.receiver._pc=o.srcElement,o)),A.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function bY(A){A.RTCPeerConnection&&!("removeStream"in A.RTCPeerConnection.prototype)&&(A.RTCPeerConnection.prototype.removeStream=function(r){S3("removeStream","removeTrack"),this.getSenders().forEach(o=>{o.track&&r.getTracks().includes(o.track)&&this.removeTrack(o)})})}function DY(A){A.DataChannel&&!A.RTCDataChannel&&(A.RTCDataChannel=A.DataChannel)}function NY(A){if(typeof A!="object"||!A.RTCPeerConnection)return;const r=A.RTCPeerConnection.prototype.addTransceiver;r&&(A.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let o=arguments[1]&&arguments[1].sendEncodings;o===void 0&&(o=[]),o=[...o];const u=o.length>0;u&&o.forEach(f=>{if("rid"in f&&!/^[a-z0-9]{0,16}$/i.test(f.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in f&&!(parseFloat(f.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in f&&!(parseFloat(f.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const h=r.apply(this,arguments);if(u){const{sender:f}=h,m=f.getParameters();(!("encodings"in m)||m.encodings.length===1&&Object.keys(m.encodings[0]).length===0)&&(m.encodings=o,f.sendEncodings=o,this.setParametersPromises.push(f.setParameters(m).then(()=>{delete f.sendEncodings}).catch(()=>{delete f.sendEncodings})))}return h})}function TY(A){if(typeof A!="object"||!A.RTCRtpSender)return;const r=A.RTCRtpSender.prototype.getParameters;r&&(A.RTCRtpSender.prototype.getParameters=function(){const o=r.apply(this,arguments);return"encodings"in o||(o.encodings=[].concat(this.sendEncodings||[{}])),o})}function kY(A){if(typeof A!="object"||!A.RTCPeerConnection)return;const r=A.RTCPeerConnection.prototype.createOffer;A.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}function OY(A){if(typeof A!="object"||!A.RTCPeerConnection)return;const r=A.RTCPeerConnection.prototype.createAnswer;A.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>r.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):r.apply(this,arguments)}}var LY=Object.freeze({__proto__:null,shimAddTransceiver:NY,shimCreateAnswer:OY,shimCreateOffer:kY,shimGetDisplayMedia:function(A,r){A.navigator.mediaDevices&&"getDisplayMedia"in A.navigator.mediaDevices||A.navigator.mediaDevices&&(A.navigator.mediaDevices.getDisplayMedia=function(o){if(!o||!o.video){const u=new DOMException("getDisplayMedia without video constraints is undefined");return u.name="NotFoundError",u.code=8,Promise.reject(u)}return o.video===!0?o.video={mediaSource:r}:o.video.mediaSource=r,A.navigator.mediaDevices.getUserMedia(o)})},shimGetParameters:TY,shimGetUserMedia:vY,shimOnTrack:SY,shimPeerConnection:b3,shimRTCDataChannel:DY,shimReceiverGetStats:wY,shimRemoveStream:bY,shimSenderGetStats:RY});function MY(A){if(typeof A=="object"&&A.RTCPeerConnection){if("getLocalStreams"in A.RTCPeerConnection.prototype||(A.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in A.RTCPeerConnection.prototype)){const r=A.RTCPeerConnection.prototype.addTrack;A.RTCPeerConnection.prototype.addStream=function(o){this._localStreams||(this._localStreams=[]),this._localStreams.includes(o)||this._localStreams.push(o),o.getAudioTracks().forEach(u=>r.call(this,u,o)),o.getVideoTracks().forEach(u=>r.call(this,u,o))},A.RTCPeerConnection.prototype.addTrack=function(o,...u){return u&&u.forEach(h=>{this._localStreams?this._localStreams.includes(h)||this._localStreams.push(h):this._localStreams=[h]}),r.apply(this,arguments)}}"removeStream"in A.RTCPeerConnection.prototype||(A.RTCPeerConnection.prototype.removeStream=function(r){this._localStreams||(this._localStreams=[]);const o=this._localStreams.indexOf(r);if(o===-1)return;this._localStreams.splice(o,1);const u=r.getTracks();this.getSenders().forEach(h=>{u.includes(h.track)&&this.removeTrack(h)})})}}function xY(A){if(typeof A=="object"&&A.RTCPeerConnection&&("getRemoteStreams"in A.RTCPeerConnection.prototype||(A.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in A.RTCPeerConnection.prototype))){Object.defineProperty(A.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(o){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=o),this.addEventListener("track",this._onaddstreampoly=u=>{u.streams.forEach(h=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(h))return;this._remoteStreams.push(h);const f=new Event("addstream");f.stream=h,this.dispatchEvent(f)})})}});const r=A.RTCPeerConnection.prototype.setRemoteDescription;A.RTCPeerConnection.prototype.setRemoteDescription=function(){const o=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(u){u.streams.forEach(h=>{if(o._remoteStreams||(o._remoteStreams=[]),o._remoteStreams.indexOf(h)>=0)return;o._remoteStreams.push(h);const f=new Event("addstream");f.stream=h,o.dispatchEvent(f)})}),r.apply(o,arguments)}}}function UY(A){if(typeof A!="object"||!A.RTCPeerConnection)return;const r=A.RTCPeerConnection.prototype,o=r.createOffer,u=r.createAnswer,h=r.setLocalDescription,f=r.setRemoteDescription,m=r.addIceCandidate;r.createOffer=function(R,D){const k=arguments.length>=2?arguments[2]:arguments[0],L=o.apply(this,[k]);return D?(L.then(R,D),Promise.resolve()):L},r.createAnswer=function(R,D){const k=arguments.length>=2?arguments[2]:arguments[0],L=u.apply(this,[k]);return D?(L.then(R,D),Promise.resolve()):L};let v=function(R,D,k){const L=h.apply(this,[R]);return k?(L.then(D,k),Promise.resolve()):L};r.setLocalDescription=v,v=function(R,D,k){const L=f.apply(this,[R]);return k?(L.then(D,k),Promise.resolve()):L},r.setRemoteDescription=v,v=function(R,D,k){const L=m.apply(this,[R]);return k?(L.then(D,k),Promise.resolve()):L},r.addIceCandidate=v}function PY(A){const r=A&&A.navigator;if(r.mediaDevices&&r.mediaDevices.getUserMedia){const o=r.mediaDevices,u=o.getUserMedia.bind(o);r.mediaDevices.getUserMedia=h=>u(GY(h))}!r.getUserMedia&&r.mediaDevices&&r.mediaDevices.getUserMedia&&(r.getUserMedia=(function(o,u,h){r.mediaDevices.getUserMedia(o).then(u,h)}).bind(r))}function GY(A){return A&&A.video!==void 0?Object.assign({},A,{video:lY(A.video)}):A}function FY(A){if(!A.RTCPeerConnection)return;const r=A.RTCPeerConnection;A.RTCPeerConnection=function(o,u){if(o&&o.iceServers){const h=[];for(let f=0;f<o.iceServers.length;f++){let m=o.iceServers[f];!m.hasOwnProperty("urls")&&m.hasOwnProperty("url")?(S3("RTCIceServer.url","RTCIceServer.urls"),m=JSON.parse(JSON.stringify(m)),m.urls=m.url,delete m.url,h.push(m)):h.push(o.iceServers[f])}o.iceServers=h}return new r(o,u)},A.RTCPeerConnection.prototype=r.prototype,"generateCertificate"in r&&Object.defineProperty(A.RTCPeerConnection,"generateCertificate",{get:()=>r.generateCertificate})}function KY(A){typeof A=="object"&&A.RTCTrackEvent&&"receiver"in A.RTCTrackEvent.prototype&&!("transceiver"in A.RTCTrackEvent.prototype)&&Object.defineProperty(A.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function jY(A){const r=A.RTCPeerConnection.prototype.createOffer;A.RTCPeerConnection.prototype.createOffer=function(o){if(o){o.offerToReceiveAudio!==void 0&&(o.offerToReceiveAudio=!!o.offerToReceiveAudio);const u=this.getTransceivers().find(f=>f.receiver.track.kind==="audio");o.offerToReceiveAudio===!1&&u?u.direction==="sendrecv"?u.setDirection?u.setDirection("sendonly"):u.direction="sendonly":u.direction==="recvonly"&&(u.setDirection?u.setDirection("inactive"):u.direction="inactive"):o.offerToReceiveAudio!==!0||u||this.addTransceiver("audio",{direction:"recvonly"}),o.offerToReceiveVideo!==void 0&&(o.offerToReceiveVideo=!!o.offerToReceiveVideo);const h=this.getTransceivers().find(f=>f.receiver.track.kind==="video");o.offerToReceiveVideo===!1&&h?h.direction==="sendrecv"?h.setDirection?h.setDirection("sendonly"):h.direction="sendonly":h.direction==="recvonly"&&(h.setDirection?h.setDirection("inactive"):h.direction="inactive"):o.offerToReceiveVideo!==!0||h||this.addTransceiver("video",{direction:"recvonly"})}return r.apply(this,arguments)}}function HY(A){typeof A!="object"||A.AudioContext||(A.AudioContext=A.webkitAudioContext)}var YY=Object.freeze({__proto__:null,shimAudioContext:HY,shimCallbacksAPI:UY,shimConstraints:GY,shimCreateOfferLegacy:jY,shimGetUserMedia:PY,shimLocalStreamsAPI:MY,shimRTCIceServerUrls:FY,shimRemoteStreamsAPI:xY,shimTrackEventTransceiver:KY}),JY={exports:{}};(function(A){const r={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};r.localCName=r.generateIdentifier(),r.splitLines=function(o){return o.trim().split(`
`).map(u=>u.trim())},r.splitSections=function(o){return o.split(`
m=`).map((u,h)=>(h>0?"m="+u:u).trim()+`\r
`)},r.getDescription=function(o){const u=r.splitSections(o);return u&&u[0]},r.getMediaSections=function(o){const u=r.splitSections(o);return u.shift(),u},r.matchPrefix=function(o,u){return r.splitLines(o).filter(h=>h.indexOf(u)===0)},r.parseCandidate=function(o){let u;u=o.indexOf("a=candidate:")===0?o.substring(12).split(" "):o.substring(10).split(" ");const h={foundation:u[0],component:{1:"rtp",2:"rtcp"}[u[1]]||u[1],protocol:u[2].toLowerCase(),priority:parseInt(u[3],10),ip:u[4],address:u[4],port:parseInt(u[5],10),type:u[7]};for(let f=8;f<u.length;f+=2)switch(u[f]){case"raddr":h.relatedAddress=u[f+1];break;case"rport":h.relatedPort=parseInt(u[f+1],10);break;case"tcptype":h.tcpType=u[f+1];break;case"ufrag":h.ufrag=u[f+1],h.usernameFragment=u[f+1];break;default:h[u[f]]===void 0&&(h[u[f]]=u[f+1])}return h},r.writeCandidate=function(o){const u=[];u.push(o.foundation);const h=o.component;h==="rtp"?u.push(1):h==="rtcp"?u.push(2):u.push(h),u.push(o.protocol.toUpperCase()),u.push(o.priority),u.push(o.address||o.ip),u.push(o.port);const f=o.type;return u.push("typ"),u.push(f),f!=="host"&&o.relatedAddress&&o.relatedPort&&(u.push("raddr"),u.push(o.relatedAddress),u.push("rport"),u.push(o.relatedPort)),o.tcpType&&o.protocol.toLowerCase()==="tcp"&&(u.push("tcptype"),u.push(o.tcpType)),(o.usernameFragment||o.ufrag)&&(u.push("ufrag"),u.push(o.usernameFragment||o.ufrag)),"candidate:"+u.join(" ")},r.parseIceOptions=function(o){return o.substring(14).split(" ")},r.parseRtpMap=function(o){let u=o.substring(9).split(" ");const h={payloadType:parseInt(u.shift(),10)};return u=u[0].split("/"),h.name=u[0],h.clockRate=parseInt(u[1],10),h.channels=u.length===3?parseInt(u[2],10):1,h.numChannels=h.channels,h},r.writeRtpMap=function(o){let u=o.payloadType;o.preferredPayloadType!==void 0&&(u=o.preferredPayloadType);const h=o.channels||o.numChannels||1;return"a=rtpmap:"+u+" "+o.name+"/"+o.clockRate+(h!==1?"/"+h:"")+`\r
`},r.parseExtmap=function(o){const u=o.substring(9).split(" ");return{id:parseInt(u[0],10),direction:u[0].indexOf("/")>0?u[0].split("/")[1]:"sendrecv",uri:u[1],attributes:u.slice(2).join(" ")}},r.writeExtmap=function(o){return"a=extmap:"+(o.id||o.preferredId)+(o.direction&&o.direction!=="sendrecv"?"/"+o.direction:"")+" "+o.uri+(o.attributes?" "+o.attributes:"")+`\r
`},r.parseFmtp=function(o){const u={};let h;const f=o.substring(o.indexOf(" ")+1).split(";");for(let m=0;m<f.length;m++)h=f[m].trim().split("="),u[h[0].trim()]=h[1];return u},r.writeFmtp=function(o){let u="",h=o.payloadType;if(o.preferredPayloadType!==void 0&&(h=o.preferredPayloadType),o.parameters&&Object.keys(o.parameters).length){const f=[];Object.keys(o.parameters).forEach(m=>{o.parameters[m]!==void 0?f.push(m+"="+o.parameters[m]):f.push(m)}),u+="a=fmtp:"+h+" "+f.join(";")+`\r
`}return u},r.parseRtcpFb=function(o){const u=o.substring(o.indexOf(" ")+1).split(" ");return{type:u.shift(),parameter:u.join(" ")}},r.writeRtcpFb=function(o){let u="",h=o.payloadType;return o.preferredPayloadType!==void 0&&(h=o.preferredPayloadType),o.rtcpFeedback&&o.rtcpFeedback.length&&o.rtcpFeedback.forEach(f=>{u+="a=rtcp-fb:"+h+" "+f.type+(f.parameter&&f.parameter.length?" "+f.parameter:"")+`\r
`}),u},r.parseSsrcMedia=function(o){const u=o.indexOf(" "),h={ssrc:parseInt(o.substring(7,u),10)},f=o.indexOf(":",u);return f>-1?(h.attribute=o.substring(u+1,f),h.value=o.substring(f+1)):h.attribute=o.substring(u+1),h},r.parseSsrcGroup=function(o){const u=o.substring(13).split(" ");return{semantics:u.shift(),ssrcs:u.map(h=>parseInt(h,10))}},r.getMid=function(o){const u=r.matchPrefix(o,"a=mid:")[0];if(u)return u.substring(6)},r.parseFingerprint=function(o){const u=o.substring(14).split(" ");return{algorithm:u[0].toLowerCase(),value:u[1].toUpperCase()}},r.getDtlsParameters=function(o,u){return{role:"auto",fingerprints:r.matchPrefix(o+u,"a=fingerprint:").map(r.parseFingerprint)}},r.writeDtlsParameters=function(o,u){let h="a=setup:"+u+`\r
`;return o.fingerprints.forEach(f=>{h+="a=fingerprint:"+f.algorithm+" "+f.value+`\r
`}),h},r.parseCryptoLine=function(o){const u=o.substring(9).split(" ");return{tag:parseInt(u[0],10),cryptoSuite:u[1],keyParams:u[2],sessionParams:u.slice(3)}},r.writeCryptoLine=function(o){return"a=crypto:"+o.tag+" "+o.cryptoSuite+" "+(typeof o.keyParams=="object"?r.writeCryptoKeyParams(o.keyParams):o.keyParams)+(o.sessionParams?" "+o.sessionParams.join(" "):"")+`\r
`},r.parseCryptoKeyParams=function(o){if(o.indexOf("inline:")!==0)return null;const u=o.substring(7).split("|");return{keyMethod:"inline",keySalt:u[0],lifeTime:u[1],mkiValue:u[2]?u[2].split(":")[0]:void 0,mkiLength:u[2]?u[2].split(":")[1]:void 0}},r.writeCryptoKeyParams=function(o){return o.keyMethod+":"+o.keySalt+(o.lifeTime?"|"+o.lifeTime:"")+(o.mkiValue&&o.mkiLength?"|"+o.mkiValue+":"+o.mkiLength:"")},r.getCryptoParameters=function(o,u){return r.matchPrefix(o+u,"a=crypto:").map(r.parseCryptoLine)},r.getIceParameters=function(o,u){const h=r.matchPrefix(o+u,"a=ice-ufrag:")[0],f=r.matchPrefix(o+u,"a=ice-pwd:")[0];return h&&f?{usernameFragment:h.substring(12),password:f.substring(10)}:null},r.writeIceParameters=function(o){let u="a=ice-ufrag:"+o.usernameFragment+`\r
a=ice-pwd:`+o.password+`\r
`;return o.iceLite&&(u+=`a=ice-lite\r
`),u},r.parseRtpParameters=function(o){const u={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},h=r.splitLines(o)[0].split(" ");u.profile=h[2];for(let m=3;m<h.length;m++){const v=h[m],R=r.matchPrefix(o,"a=rtpmap:"+v+" ")[0];if(R){const D=r.parseRtpMap(R),k=r.matchPrefix(o,"a=fmtp:"+v+" ");switch(D.parameters=k.length?r.parseFmtp(k[0]):{},D.rtcpFeedback=r.matchPrefix(o,"a=rtcp-fb:"+v+" ").map(r.parseRtcpFb),u.codecs.push(D),D.name.toUpperCase()){case"RED":case"ULPFEC":u.fecMechanisms.push(D.name.toUpperCase())}}}r.matchPrefix(o,"a=extmap:").forEach(m=>{u.headerExtensions.push(r.parseExtmap(m))});const f=r.matchPrefix(o,"a=rtcp-fb:* ").map(r.parseRtcpFb);return u.codecs.forEach(m=>{f.forEach(v=>{m.rtcpFeedback.find(R=>R.type===v.type&&R.parameter===v.parameter)||m.rtcpFeedback.push(v)})}),u},r.writeRtpDescription=function(o,u){let h="";h+="m="+o+" ",h+=u.codecs.length>0?"9":"0",h+=" "+(u.profile||"UDP/TLS/RTP/SAVPF")+" ",h+=u.codecs.map(m=>m.preferredPayloadType!==void 0?m.preferredPayloadType:m.payloadType).join(" ")+`\r
`,h+=`c=IN IP4 0.0.0.0\r
`,h+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,u.codecs.forEach(m=>{h+=r.writeRtpMap(m),h+=r.writeFmtp(m),h+=r.writeRtcpFb(m)});let f=0;return u.codecs.forEach(m=>{m.maxptime>f&&(f=m.maxptime)}),f>0&&(h+="a=maxptime:"+f+`\r
`),u.headerExtensions&&u.headerExtensions.forEach(m=>{h+=r.writeExtmap(m)}),h},r.parseRtpEncodingParameters=function(o){const u=[],h=r.parseRtpParameters(o),f=h.fecMechanisms.indexOf("RED")!==-1,m=h.fecMechanisms.indexOf("ULPFEC")!==-1,v=r.matchPrefix(o,"a=ssrc:").map(q=>r.parseSsrcMedia(q)).filter(q=>q.attribute==="cname"),R=v.length>0&&v[0].ssrc;let D;const k=r.matchPrefix(o,"a=ssrc-group:FID").map(q=>q.substring(17).split(" ").map(z=>parseInt(z,10)));k.length>0&&k[0].length>1&&k[0][0]===R&&(D=k[0][1]),h.codecs.forEach(q=>{if(q.name.toUpperCase()==="RTX"&&q.parameters.apt){let z={ssrc:R,codecPayloadType:parseInt(q.parameters.apt,10)};R&&D&&(z.rtx={ssrc:D}),u.push(z),f&&(z=JSON.parse(JSON.stringify(z)),z.fec={ssrc:R,mechanism:m?"red+ulpfec":"red"},u.push(z))}}),u.length===0&&R&&u.push({ssrc:R});let L=r.matchPrefix(o,"b=");return L.length&&(L=L[0].indexOf("b=TIAS:")===0?parseInt(L[0].substring(7),10):L[0].indexOf("b=AS:")===0?1e3*parseInt(L[0].substring(5),10)*.95-16e3:void 0,u.forEach(q=>{q.maxBitrate=L})),u},r.parseRtcpParameters=function(o){const u={},h=r.matchPrefix(o,"a=ssrc:").map(v=>r.parseSsrcMedia(v)).filter(v=>v.attribute==="cname")[0];h&&(u.cname=h.value,u.ssrc=h.ssrc);const f=r.matchPrefix(o,"a=rtcp-rsize");u.reducedSize=f.length>0,u.compound=f.length===0;const m=r.matchPrefix(o,"a=rtcp-mux");return u.mux=m.length>0,u},r.writeRtcpParameters=function(o){let u="";return o.reducedSize&&(u+=`a=rtcp-rsize\r
`),o.mux&&(u+=`a=rtcp-mux\r
`),o.ssrc!==void 0&&o.cname&&(u+="a=ssrc:"+o.ssrc+" cname:"+o.cname+`\r
`),u},r.parseMsid=function(o){let u;const h=r.matchPrefix(o,"a=msid:");if(h.length===1)return u=h[0].substring(7).split(" "),{stream:u[0],track:u[1]};const f=r.matchPrefix(o,"a=ssrc:").map(m=>r.parseSsrcMedia(m)).filter(m=>m.attribute==="msid");return f.length>0?(u=f[0].value.split(" "),{stream:u[0],track:u[1]}):void 0},r.parseSctpDescription=function(o){const u=r.parseMLine(o),h=r.matchPrefix(o,"a=max-message-size:");let f;h.length>0&&(f=parseInt(h[0].substring(19),10)),isNaN(f)&&(f=65536);const m=r.matchPrefix(o,"a=sctp-port:");if(m.length>0)return{port:parseInt(m[0].substring(12),10),protocol:u.fmt,maxMessageSize:f};const v=r.matchPrefix(o,"a=sctpmap:");if(v.length>0){const R=v[0].substring(10).split(" ");return{port:parseInt(R[0],10),protocol:R[1],maxMessageSize:f}}},r.writeSctpDescription=function(o,u){let h=[];return h=o.protocol!=="DTLS/SCTP"?["m="+o.kind+" 9 "+o.protocol+" "+u.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+u.port+`\r
`]:["m="+o.kind+" 9 "+o.protocol+" "+u.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+u.port+" "+u.protocol+` 65535\r
`],u.maxMessageSize!==void 0&&h.push("a=max-message-size:"+u.maxMessageSize+`\r
`),h.join("")},r.generateSessionId=function(){return Math.random().toString().substr(2,22)},r.writeSessionBoilerplate=function(o,u,h){let f;const m=u!==void 0?u:2;return f=o||r.generateSessionId(),`v=0\r
o=`+(h||"thisisadapterortc")+" "+f+" "+m+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},r.getDirection=function(o,u){const h=r.splitLines(o);for(let f=0;f<h.length;f++)switch(h[f]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return h[f].substring(2)}return u?r.getDirection(u):"sendrecv"},r.getKind=function(o){return r.splitLines(o)[0].split(" ")[0].substring(2)},r.isRejected=function(o){return o.split(" ",2)[1]==="0"},r.parseMLine=function(o){const u=r.splitLines(o)[0].substring(2).split(" ");return{kind:u[0],port:parseInt(u[1],10),protocol:u[2],fmt:u.slice(3).join(" ")}},r.parseOLine=function(o){const u=r.matchPrefix(o,"o=")[0].substring(2).split(" ");return{username:u[0],sessionId:u[1],sessionVersion:parseInt(u[2],10),netType:u[3],addressType:u[4],address:u[5]}},r.isValidSDP=function(o){if(typeof o!="string"||o.length===0)return!1;const u=r.splitLines(o);for(let h=0;h<u.length;h++)if(u[h].length<2||u[h].charAt(1)!=="=")return!1;return!0},A.exports=r})(JY);var VY=JY.exports,p1=s(VY),Bee=n({__proto__:null,default:p1},[VY]);function QU(A){if(!A.RTCIceCandidate||A.RTCIceCandidate&&"foundation"in A.RTCIceCandidate.prototype)return;const r=A.RTCIceCandidate;A.RTCIceCandidate=function(o){if(typeof o=="object"&&o.candidate&&o.candidate.indexOf("a=")===0&&((o=JSON.parse(JSON.stringify(o))).candidate=o.candidate.substr(2)),o.candidate&&o.candidate.length){const u=new r(o),h=p1.parseCandidate(o.candidate),f=Object.assign(u,h);return f.toJSON=function(){return{candidate:f.candidate,sdpMid:f.sdpMid,sdpMLineIndex:f.sdpMLineIndex,usernameFragment:f.usernameFragment}},f}return new r(o)},A.RTCIceCandidate.prototype=r.prototype,MT(A,"icecandidate",o=>(o.candidate&&Object.defineProperty(o,"candidate",{value:new A.RTCIceCandidate(o.candidate),writable:"false"}),o))}function D3(A){!A.RTCIceCandidate||A.RTCIceCandidate&&"relayProtocol"in A.RTCIceCandidate.prototype||MT(A,"icecandidate",r=>{if(r.candidate){const o=p1.parseCandidate(r.candidate.candidate);o.type==="relay"&&(r.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[o.priority>>24])}return r})}function mU(A,r){if(!A.RTCPeerConnection)return;"sctp"in A.RTCPeerConnection.prototype||Object.defineProperty(A.RTCPeerConnection.prototype,"sctp",{get(){return this._sctp===void 0?null:this._sctp}});const o=function(v){if(!v||!v.sdp)return!1;const R=p1.splitSections(v.sdp);return R.shift(),R.some(D=>{const k=p1.parseMLine(D);return k&&k.kind==="application"&&k.protocol.indexOf("SCTP")!==-1})},u=function(v){const R=v.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(R===null||R.length<2)return-1;const D=parseInt(R[1],10);return D!=D?-1:D},h=function(v){let R=65536;return r.browser==="firefox"&&(R=r.version<57?v===-1?16384:2147483637:r.version<60?r.version===57?65535:65536:2147483637),R},f=function(v,R){let D=65536;r.browser==="firefox"&&r.version===57&&(D=65535);const k=p1.matchPrefix(v.sdp,"a=max-message-size:");return k.length>0?D=parseInt(k[0].substr(19),10):r.browser==="firefox"&&R!==-1&&(D=2147483637),D},m=A.RTCPeerConnection.prototype.setRemoteDescription;A.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,r.browser==="chrome"&&r.version>=76){const{sdpSemantics:v}=this.getConfiguration();v==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return this._sctp===void 0?null:this._sctp},enumerable:!0,configurable:!0})}if(o(arguments[0])){const v=u(arguments[0]),R=h(v),D=f(arguments[0],v);let k;k=R===0&&D===0?Number.POSITIVE_INFINITY:R===0||D===0?Math.max(R,D):Math.min(R,D);const L={};Object.defineProperty(L,"maxMessageSize",{get:()=>k}),this._sctp=L}return m.apply(this,arguments)}}function yU(A){if(!A.RTCPeerConnection||!("createDataChannel"in A.RTCPeerConnection.prototype))return;function r(u,h){const f=u.send;u.send=function(){const m=arguments[0],v=m.length||m.size||m.byteLength;if(u.readyState==="open"&&h.sctp&&v>h.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+h.sctp.maxMessageSize+" bytes)");return f.apply(u,arguments)}}const o=A.RTCPeerConnection.prototype.createDataChannel;A.RTCPeerConnection.prototype.createDataChannel=function(){const u=o.apply(this,arguments);return r(u,this),u},MT(A,"datachannel",u=>(r(u.channel,u.target),u))}function N3(A){if(!A.RTCPeerConnection||"connectionState"in A.RTCPeerConnection.prototype)return;const r=A.RTCPeerConnection.prototype;Object.defineProperty(r,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(r,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(o){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),o&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=o)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(o=>{const u=r[o];r[o]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=h=>{const f=h.target;if(f._lastConnectionState!==f.connectionState){f._lastConnectionState=f.connectionState;const m=new Event("connectionstatechange",h);f.dispatchEvent(m)}return h},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),u.apply(this,arguments)}})}function T3(A,r){if(!A.RTCPeerConnection||r.browser==="chrome"&&r.version>=71||r.browser==="safari"&&r.version>=605)return;const o=A.RTCPeerConnection.prototype.setRemoteDescription;A.RTCPeerConnection.prototype.setRemoteDescription=function(u){if(u&&u.sdp&&u.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const h=u.sdp.split(`
`).filter(f=>f.trim()!=="a=extmap-allow-mixed").join(`
`);A.RTCSessionDescription&&u instanceof A.RTCSessionDescription?arguments[0]=new A.RTCSessionDescription({type:u.type,sdp:h}):u.sdp=h}return o.apply(this,arguments)}}function _U(A,r){if(!A.RTCPeerConnection||!A.RTCPeerConnection.prototype)return;const o=A.RTCPeerConnection.prototype.addIceCandidate;o&&o.length!==0&&(A.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(r.browser==="chrome"&&r.version<78||r.browser==="firefox"&&r.version<68||r.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function vU(A,r){if(!A.RTCPeerConnection||!A.RTCPeerConnection.prototype)return;const o=A.RTCPeerConnection.prototype.setLocalDescription;o&&o.length!==0&&(A.RTCPeerConnection.prototype.setLocalDescription=function(){let u=arguments[0]||{};if(typeof u!="object"||u.type&&u.sdp)return o.apply(this,arguments);if(u={type:u.type,sdp:u.sdp},!u.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":u.type="offer";break;default:u.type="answer"}return u.sdp||u.type!=="offer"&&u.type!=="answer"?o.apply(this,[u]):(u.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(h=>o.apply(this,[h]))})}var Qee=Object.freeze({__proto__:null,removeExtmapAllowMixed:T3,shimAddIceCandidateNullOrEmpty:_U,shimConnectionState:N3,shimMaxMessageSize:mU,shimParameterlessSetLocalDescription:vU,shimRTCIceCandidate:QU,shimRTCIceCandidateRelayProtocol:D3,shimSendThrowTypeError:yU});(function({window:A}={},r={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const o=uY,u=function(f){const m={browser:null,version:null};if(f===void 0||!f.navigator)return m.browser="Not a browser.",m;const{navigator:v}=f;if(v.mozGetUserMedia)m.browser="firefox",m.version=BU(v.userAgent,/Firefox\/(\d+)\./,1);else if(v.webkitGetUserMedia||f.isSecureContext===!1&&f.webkitRTCPeerConnection)m.browser="chrome",m.version=BU(v.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!f.RTCPeerConnection||!v.userAgent.match(/AppleWebKit\/(\d+)\./))return m.browser="Not a supported browser.",m;m.browser="safari",m.version=BU(v.userAgent,/AppleWebKit\/(\d+)\./,1),m.supportsUnifiedPlan=f.RTCRtpTransceiver&&"currentDirection"in f.RTCRtpTransceiver.prototype}return m}(A),h={browserDetails:u,commonShim:Qee,extractVersion:BU,disableLog:pee,disableWarnings:fee,sdp:Bee};switch(u.browser){case"chrome":if(!_Y||!w3||!r.shimChrome)return o("Chrome shim is not included in this adapter release."),h;if(u.version===null)return o("Chrome shim can not determine version, not shimming."),h;o("adapter.js shimming chrome."),h.browserShim=_Y,_U(A,u),vU(A),IY(A,u),CY(A),w3(A,u),hY(A),mY(A,u),pY(A),fY(A),BY(A),yY(A,u),QU(A),D3(A),N3(A),mU(A,u),yU(A),T3(A,u);break;case"firefox":if(!LY||!b3||!r.shimFirefox)return o("Firefox shim is not included in this adapter release."),h;o("adapter.js shimming firefox."),h.browserShim=LY,_U(A,u),vU(A),vY(A,u),b3(A,u),SY(A),bY(A),RY(A),wY(A),DY(A),NY(A),TY(A),kY(A),OY(A),QU(A),N3(A),mU(A,u),yU(A);break;case"safari":if(!YY||!r.shimSafari)return o("Safari shim is not included in this adapter release."),h;o("adapter.js shimming safari."),h.browserShim=YY,_U(A,u),vU(A),FY(A),jY(A),UY(A),MY(A),xY(A),KY(A),PY(A),HY(A),QU(A),D3(A),mU(A,u),yU(A),T3(A,u);break;default:o("Unsupported browser!")}})({window:typeof window>"u"?void 0:window});var qY={exports:{}},mee=V0,yee=ma,WY=TR.f;mee({target:"Object",stat:!0,forced:Object.defineProperty!==WY,sham:!yee},{defineProperty:WY});var XY=CQ.Object,_ee=qY.exports=function(A,r,o){return XY.defineProperty(A,r,o)};XY.defineProperty.sham&&(_ee.sham=!0);var vee=s(qY.exports),See=_r,k3=Array.isArray||function(A){return See(A)=="Array"},Ree=TypeError,wee=PS,bee=TR,Dee=oQ,zY=function(A,r,o){var u=wee(r);u in A?bee.f(A,u,Dee(0,o)):A[u]=o},Nee=Da,O3=U_,Tee=y(Function.toString);Nee(O3.inspectSource)||(O3.inspectSource=function(A){return Tee(A)});var ZY=O3.inspectSource,kee=y,Oee=g,$Y=Da,Lee=LT,Mee=ZY,_J=function(){},xee=[],e5=UQ("Reflect","construct"),L3=/^\s*(?:class|function)\b/,Uee=kee(L3.exec),Pee=!L3.exec(_J),IO=function(A){if(!$Y(A))return!1;try{return e5(_J,xee,A),!0}catch{return!1}},t5=function(A){if(!$Y(A))return!1;switch(Lee(A)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Pee||!!Uee(L3,Mee(A))}catch{return!0}};t5.sham=!0;var n5=!e5||Oee(function(){var A;return IO(IO.call)||!IO(Object)||!IO(function(){A=!0})||A})?t5:IO,r5=k3,Gee=n5,Fee=vd,Kee=_0("species"),i5=Array,jee=function(A){var r;return r5(A)&&(r=A.constructor,(Gee(r)&&(r===i5||r5(r.prototype))||Fee(r)&&(r=r[Kee])===null)&&(r=void 0)),r===void 0?i5:r},o5=function(A,r){return new(jee(A))(r===0?0:r)},Hee=g,Yee=F0,Jee=_0("species"),Vee=V0,qee=g,Wee=k3,Xee=vd,zee=C0,Zee=OT,A5=function(A){if(A>9007199254740991)throw Ree("Maximum allowed index exceeded");return A},s5=zY,$ee=o5,ete=function(A){return Yee>=51||!Hee(function(){var r=[];return(r.constructor={})[Jee]=function(){return{foo:1}},r[A](Boolean).foo!==1})},tte=F0,a5=_0("isConcatSpreadable"),nte=tte>=51||!qee(function(){var A=[];return A[a5]=!1,A.concat()[0]!==A}),rte=function(A){if(!Xee(A))return!1;var r=A[a5];return r!==void 0?!!r:Wee(A)};Vee({target:"Array",proto:!0,arity:1,forced:!nte||!ete("concat")},{concat:function(A){var r,o,u,h,f,m=zee(this),v=$ee(m,0),R=0;for(r=-1,u=arguments.length;r<u;r++)if(rte(f=r===-1?m:arguments[r]))for(h=Zee(f),A5(R+h),o=0;o<h;o++,R++)o in f&&s5(v,R,f[o]);else A5(R+1),s5(v,R++,f);return v.length=R,v}});var M3={},SU={},x3=e_,ite=da,ote=m3.indexOf,Ate=SU,c5=y([].push),u5=function(A,r){var o,u=ite(A),h=0,f=[];for(o in u)!x3(Ate,o)&&x3(u,o)&&c5(f,o);for(;r.length>h;)x3(u,o=r[h++])&&(~ote(f,o)||c5(f,o));return f},U3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ste=u5,ate=U3,P3=Object.keys||function(A){return ste(A,ate)},cte=ma,ute=eY,gte=TR,lte=qR,dte=da,Ete=P3;M3.f=cte&&!ute?Object.defineProperties:function(A,r){lte(A);for(var o,u=dte(r),h=Ete(r),f=h.length,m=0;f>m;)gte.f(A,o=h[m++],u[o]);return A};var RU,g5=UQ("document","documentElement"),Ite=HR,l5=kQ("keys"),wU=function(A){return l5[A]||(l5[A]=Ite(A))},Cte=qR,hte=M3,d5=U3,pte=SU,fte=g5,Bte=vN,G3="prototype",F3="script",E5=wU("IE_PROTO"),K3=function(){},I5=function(A){return"<"+F3+">"+A+"</"+F3+">"},C5=function(A){A.write(I5("")),A.close();var r=A.parentWindow.Object;return A=null,r},bU=function(){try{RU=new ActiveXObject("htmlfile")}catch{}var A,r,o;bU=typeof document<"u"?document.domain&&RU?C5(RU):(r=Bte("iframe"),o="java"+F3+":",r.style.display="none",fte.appendChild(r),r.src=String(o),(A=r.contentWindow.document).open(),A.write(I5("document.F=Object")),A.close(),A.F):C5(RU);for(var u=d5.length;u--;)delete bU[G3][d5[u]];return bU()};pte[E5]=!0;var DU=Object.create||function(A,r){var o;return A!==null?(K3[G3]=Cte(A),o=new K3,K3[G3]=null,o[E5]=A):o=bU(),r===void 0?o:hte.f(o,r)},NU={},Qte=u5,mte=U3.concat("length","prototype");NU.f=Object.getOwnPropertyNames||function(A){return Qte(A,mte)};var h5={},p5=rY,yte=OT,_te=zY,vte=Array,Ste=Math.max,f5=function(A,r,o){for(var u=yte(A),h=p5(r,u),f=p5(o===void 0?u:o,u),m=vte(Ste(f-h,0)),v=0;h<f;h++,v++)_te(m,v,A[h]);return m.length=v,m},Rte=_r,wte=da,B5=NU.f,bte=f5,Q5=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];h5.f=function(A){return Q5&&Rte(A)=="Window"?function(r){try{return B5(r)}catch{return bte(Q5)}}(A):B5(wte(A))};var TU={};TU.f=Object.getOwnPropertySymbols;var Dte=XN,CO=function(A,r,o,u){return u&&u.enumerable?A[r]=o:Dte(A,r,o),A},Nte=TR,m5=function(A,r,o){return Nte.f(A,r,o)},f1={},Tte=_0;f1.f=Tte;var kU,hO,OU,y5=CQ,kte=e_,Ote=f1,Lte=TR.f,J_=function(A){var r=y5.Symbol||(y5.Symbol={});kte(r,A)||Lte(r,A,{value:Ote.f(A)})},Mte=Ka,xte=UQ,Ute=_0,Pte=CO,_5=function(){var A=xte("Symbol"),r=A&&A.prototype,o=r&&r.valueOf,u=Ute("toPrimitive");r&&!r[u]&&Pte(r,u,function(h){return Mte(o,this)},{arity:1})},Gte=LT,Fte=y3?{}.toString:function(){return"[object "+Gte(this)+"]"},Kte=y3,jte=TR.f,Hte=XN,Yte=e_,Jte=Fte,v5=_0("toStringTag"),B1=function(A,r,o,u){if(A){var h=o?A:A.prototype;Yte(h,v5)||jte(h,v5,{configurable:!0,value:r}),u&&!Kte&&Hte(h,"toString",Jte)}},Vte=Da,S5=w.WeakMap,qte=Vte(S5)&&/native code/.test(String(S5)),R5=w,Wte=vd,Xte=XN,j3=e_,H3=U_,zte=wU,Zte=SU,w5="Object already initialized",Y3=R5.TypeError,$te=R5.WeakMap;if(qte||H3.state){var Yb=H3.state||(H3.state=new $te);Yb.get=Yb.get,Yb.has=Yb.has,Yb.set=Yb.set,kU=function(A,r){if(Yb.has(A))throw Y3(w5);return r.facade=A,Yb.set(A,r),r},hO=function(A){return Yb.get(A)||{}},OU=function(A){return Yb.has(A)}}else{var Q1=zte("state");Zte[Q1]=!0,kU=function(A,r){if(j3(A,Q1))throw Y3(w5);return r.facade=A,Xte(A,Q1,r),r},hO=function(A){return j3(A,Q1)?A[Q1]:{}},OU=function(A){return j3(A,Q1)}}var LU={set:kU,get:hO,has:OU,enforce:function(A){return OU(A)?hO(A):kU(A,{})},getterFor:function(A){return function(r){var o;if(!Wte(r)||(o=hO(r)).type!==A)throw Y3("Incompatible receiver, "+A+" required");return o}}},ene=EO,tne=_B,nne=C0,rne=OT,ine=o5,b5=y([].push),ZN=function(A){var r=A==1,o=A==2,u=A==3,h=A==4,f=A==6,m=A==7,v=A==5||f;return function(R,D,k,L){for(var q,z,_s=nne(R),_n=tne(_s),_i=ene(D,k),Aa=rne(_n),Ea=0,Qa=L||ine,Vc=r?Qa(R,Aa):o||m?Qa(R,0):void 0;Aa>Ea;Ea++)if((v||Ea in _n)&&(z=_i(q=_n[Ea],Ea,_s),A))if(r)Vc[Ea]=z;else if(z)switch(A){case 3:return!0;case 5:return q;case 6:return Ea;case 2:b5(Vc,q)}else switch(A){case 4:return!1;case 7:b5(Vc,q)}return f?-1:u||h?h:Vc}},one={forEach:ZN(0),map:ZN(1),filter:ZN(2),some:ZN(3),every:ZN(4),find:ZN(5),findIndex:ZN(6),filterReject:ZN(7)},MU=V0,J3=w,V3=Ka,Ane=y,m1=ma,y1=K_,sne=g,IS=e_,ane=_,q3=qR,xU=da,W3=PS,cne=RN,X3=oQ,pO=DU,D5=P3,une=NU,N5=h5,gne=TU,T5=ga,k5=TR,lne=M3,O5=_u,L5=CO,dne=m5,z3=kQ,M5=SU,x5=HR,Ene=_0,Ine=f1,Cne=J_,hne=_5,pne=B1,U5=LU,UU=one.forEach,ZS=wU("hidden"),PU="Symbol",fO="prototype",fne=U5.set,P5=U5.getterFor(PU),WR=Object[fO],xT=J3.Symbol,GU=xT&&xT[fO],Bne=J3.TypeError,Z3=J3.QObject,G5=T5.f,UT=k5.f,F5=N5.f,Qne=O5.f,K5=Ane([].push),wN=z3("symbols"),BO=z3("op-symbols"),mne=z3("wks"),$3=!Z3||!Z3[fO]||!Z3[fO].findChild,_K=m1&&sne(function(){return pO(UT({},"a",{get:function(){return UT(this,"a",{value:7}).a}})).a!=7})?function(A,r,o){var u=G5(WR,r);u&&delete WR[r],UT(A,r,o),u&&A!==WR&&UT(WR,r,u)}:UT,cj=function(A,r){var o=wN[A]=pO(GU);return fne(o,{type:PU,tag:A,description:r}),m1||(o.description=r),o},FU=function(A,r,o){A===WR&&FU(BO,r,o),q3(A);var u=W3(r);return q3(o),IS(wN,u)?(o.enumerable?(IS(A,ZS)&&A[ZS][u]&&(A[ZS][u]=!1),o=pO(o,{enumerable:X3(0,!1)})):(IS(A,ZS)||UT(A,ZS,X3(1,{})),A[ZS][u]=!0),_K(A,u,o)):UT(A,u,o)},_j=function(A,r){q3(A);var o=xU(r),u=D5(o).concat(J5(o));return UU(u,function(h){m1&&!V3(j5,o,h)||FU(A,h,o[h])}),A},j5=function(A){var r=W3(A),o=V3(Qne,this,r);return!(this===WR&&IS(wN,r)&&!IS(BO,r))&&(!(o||!IS(this,r)||!IS(wN,r)||IS(this,ZS)&&this[ZS][r])||o)},H5=function(A,r){var o=xU(A),u=W3(r);if(o!==WR||!IS(wN,u)||IS(BO,u)){var h=G5(o,u);return!h||!IS(wN,u)||IS(o,ZS)&&o[ZS][u]||(h.enumerable=!0),h}},Y5=function(A){var r=F5(xU(A)),o=[];return UU(r,function(u){IS(wN,u)||IS(M5,u)||K5(o,u)}),o},J5=function(A){var r=A===WR,o=F5(r?BO:xU(A)),u=[];return UU(o,function(h){!IS(wN,h)||r&&!IS(WR,h)||K5(u,wN[h])}),u};y1||(xT=function(){if(ane(GU,this))throw Bne("Symbol is not a constructor");var A=arguments.length&&arguments[0]!==void 0?cne(arguments[0]):void 0,r=x5(A),o=function(u){this===WR&&V3(o,BO,u),IS(this,ZS)&&IS(this[ZS],r)&&(this[ZS][r]=!1),_K(this,r,X3(1,u))};return m1&&$3&&_K(WR,r,{configurable:!0,set:o}),cj(r,A)},L5(GU=xT[fO],"toString",function(){return P5(this).tag}),L5(xT,"withoutSetter",function(A){return cj(x5(A),A)}),O5.f=j5,k5.f=FU,lne.f=_j,T5.f=H5,une.f=N5.f=Y5,gne.f=J5,Ine.f=function(A){return cj(Ene(A),A)},m1&&dne(GU,"description",{configurable:!0,get:function(){return P5(this).description}})),MU({global:!0,constructor:!0,wrap:!0,forced:!y1,sham:!y1},{Symbol:xT}),UU(D5(mne),function(A){Cne(A)}),MU({target:PU,stat:!0,forced:!y1},{useSetter:function(){$3=!0},useSimple:function(){$3=!1}}),MU({target:"Object",stat:!0,forced:!y1,sham:!m1},{create:function(A,r){return r===void 0?pO(A):_j(pO(A),r)},defineProperty:FU,defineProperties:_j,getOwnPropertyDescriptor:H5}),MU({target:"Object",stat:!0,forced:!y1},{getOwnPropertyNames:Y5}),hne(),pne(xT,PU),M5[ZS]=!0;var V5=K_&&!!Symbol.for&&!!Symbol.keyFor,yne=V0,_ne=UQ,vne=e_,Sne=RN,q5=kQ,Rne=V5,$j=q5("string-to-symbol-registry"),wne=q5("symbol-to-string-registry");yne({target:"Symbol",stat:!0,forced:!Rne},{for:function(A){var r=Sne(A);if(vne($j,r))return $j[r];var o=_ne("Symbol")(r);return $j[r]=o,wne[o]=r,o}});var bne=V0,Dne=e_,Nne=w_,Tne=PQ,kne=V5,W5=kQ("symbol-to-string-registry");bne({target:"Symbol",stat:!0,forced:!kne},{keyFor:function(A){if(!Nne(A))throw TypeError(Tne(A)+" is not a symbol");if(Dne(W5,A))return W5[A]}});var X5=y([].slice),z5=k3,One=Da,Z5=_r,Lne=RN,$5=y([].push),Mne=V0,eV=UQ,tV=U,xne=Ka,QO=y,nV=g,rV=Da,iV=w_,oV=X5,Une=function(A){if(One(A))return A;if(z5(A)){for(var r=A.length,o=[],u=0;u<r;u++){var h=A[u];typeof h=="string"?$5(o,h):typeof h!="number"&&Z5(h)!="Number"&&Z5(h)!="String"||$5(o,Lne(h))}var f=o.length,m=!0;return function(v,R){if(m)return m=!1,R;if(z5(this))return R;for(var D=0;D<f;D++)if(o[D]===v)return R}}},Pne=K_,Gne=String,$N=eV("JSON","stringify"),KU=QO(/./.exec),AV=QO("".charAt),Fne=QO("".charCodeAt),Kne=QO("".replace),jne=QO(1 .toString),Hne=/[\uD800-\uDFFF]/g,sV=/^[\uD800-\uDBFF]$/,aV=/^[\uDC00-\uDFFF]$/,cV=!Pne||nV(function(){var A=eV("Symbol")();return $N([A])!="[null]"||$N({a:A})!="{}"||$N(Object(A))!="{}"}),uV=nV(function(){return $N("\uDF06\uD834")!=='"\\udf06\\ud834"'||$N("\uDEAD")!=='"\\udead"'}),Yne=function(A,r){var o=oV(arguments),u=Une(r);if(rV(u)||A!==void 0&&!iV(A))return o[1]=function(h,f){if(rV(u)&&(f=xne(u,this,Gne(h),f)),!iV(f))return f},tV($N,null,o)},Jne=function(A,r,o){var u=AV(o,r-1),h=AV(o,r+1);return KU(sV,A)&&!KU(aV,h)||KU(aV,A)&&!KU(sV,u)?"\\u"+jne(Fne(A,0),16):A};$N&&Mne({target:"JSON",stat:!0,arity:3,forced:cV||uV},{stringify:function(A,r,o){var u=oV(arguments),h=tV(cV?Yne:$N,null,u);return uV&&typeof h=="string"?Kne(h,Hne,Jne):h}});var gV=TU,Vne=C0;V0({target:"Object",stat:!0,forced:!K_||g(function(){gV.f(1)})},{getOwnPropertySymbols:function(A){var r=gV.f;return r?r(Vne(A)):[]}}),J_("asyncIterator"),J_("hasInstance"),J_("isConcatSpreadable"),J_("iterator"),J_("match"),J_("matchAll"),J_("replace"),J_("search"),J_("species"),J_("split");var qne=_5;J_("toPrimitive"),qne();var Wne=UQ,Xne=B1;J_("toStringTag"),Xne(Wne("Symbol"),"Symbol"),J_("unscopables"),B1(w.JSON,"JSON",!0);var PT,lV,dV,zne=CQ.Symbol,_1={},e6=ma,Zne=e_,EV=Function.prototype,$ne=e6&&Object.getOwnPropertyDescriptor,t6=Zne(EV,"name"),IV={EXISTS:t6,PROPER:t6&&(function(){}).name==="something",CONFIGURABLE:t6&&(!e6||e6&&$ne(EV,"name").configurable)},ere=!g(function(){function A(){}return A.prototype.constructor=null,Object.getPrototypeOf(new A)!==A.prototype}),tre=e_,nre=Da,rre=C0,ire=ere,CV=wU("IE_PROTO"),n6=Object,ore=n6.prototype,r6=ire?n6.getPrototypeOf:function(A){var r=rre(A);if(tre(r,CV))return r[CV];var o=r.constructor;return nre(o)&&r instanceof o?o.prototype:r instanceof n6?ore:null},Are=g,sre=Da,are=vd,cre=DU,hV=r6,ure=CO,i6=_0("iterator"),pV=!1;[].keys&&("next"in(dV=[].keys())?(lV=hV(hV(dV)))!==Object.prototype&&(PT=lV):pV=!0);var gre=!are(PT)||Are(function(){var A={};return PT[i6].call(A)!==A});sre((PT=gre?{}:cre(PT))[i6])||ure(PT,i6,function(){return this});var fV={IteratorPrototype:PT,BUGGY_SAFARI_ITERATORS:pV},lre=fV.IteratorPrototype,dre=DU,Ere=oQ,Ire=B1,Cre=_1,hre=function(){return this},pre=y,fre=B0,Bre=Da,Qre=String,mre=TypeError,yre=function(A,r,o){try{return pre(fre(Object.getOwnPropertyDescriptor(A,r)[o]))}catch{}},_re=qR,vre=function(A){if(typeof A=="object"||Bre(A))return A;throw mre("Can't set "+Qre(A)+" as a prototype")},Sre=Object.setPrototypeOf||("__proto__"in{}?function(){var A,r=!1,o={};try{(A=yre(Object.prototype,"__proto__","set"))(o,[]),r=o instanceof Array}catch{}return function(u,h){return _re(u),vre(h),r?A(u,h):u.__proto__=h,u}}():void 0),Rre=V0,wre=Ka,bre=IV,Dre=function(A,r,o,u){var h=r+" Iterator";return A.prototype=dre(lre,{next:Ere(+!u,o)}),Ire(A,h,!1,!0),Cre[h]=hre,A},Nre=r6,Tre=B1,BV=CO,QV=_1,kre=fV,Ore=bre.PROPER,jU=kre.BUGGY_SAFARI_ITERATORS,o6=_0("iterator"),mV="keys",HU="values",yV="entries",Lre=function(){return this},_V=function(A,r,o,u,h,f,m){Dre(o,r,u);var v,R,D,k=function(Aa){if(Aa===h&&_n)return _n;if(!jU&&Aa in z)return z[Aa];switch(Aa){case mV:case HU:case yV:return function(){return new o(this,Aa)}}return function(){return new o(this)}},L=r+" Iterator",q=!1,z=A.prototype,_s=z[o6]||z["@@iterator"]||h&&z[h],_n=!jU&&_s||k(h),_i=r=="Array"&&z.entries||_s;if(_i&&(v=Nre(_i.call(new A)))!==Object.prototype&&v.next&&(Tre(v,L,!0,!0),QV[L]=Lre),Ore&&h==HU&&_s&&_s.name!==HU&&(q=!0,_n=function(){return wre(_s,this)}),h)if(R={values:k(HU),keys:f?_n:k(mV),entries:k(yV)},m)for(D in R)(jU||q||!(D in z))&&BV(z,D,R[D]);else Rre({target:r,proto:!0,forced:jU||q},R);return m&&z[o6]!==_n&&BV(z,o6,_n,{name:h}),QV[r]=_n,R},vV=function(A,r){return{value:A,done:r}},Mre=da,SV=_1,RV=LU;TR.f;var xre=_V,wV=vV,bV="Array Iterator",Ure=RV.set,Pre=RV.getterFor(bV);xre(Array,"Array",function(A,r){Ure(this,{type:bV,target:Mre(A),index:0,kind:r})},function(){var A=Pre(this),r=A.target,o=A.kind,u=A.index++;return!r||u>=r.length?(A.target=void 0,wV(void 0,!0)):wV(o=="keys"?u:o=="values"?r[u]:[u,r[u]],!1)},"values"),SV.Arguments=SV.Array;var Gre={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Fre=w,Kre=LT,jre=XN,DV=_1,NV=_0("toStringTag");for(var A6 in Gre){var TV=Fre[A6],s6=TV&&TV.prototype;s6&&Kre(s6)!==NV&&jre(s6,NV,A6),DV[A6]=DV.Array}var Hre=zne,Yre=_0,Jre=TR.f,kV=Yre("metadata"),OV=Function.prototype;OV[kV]===void 0&&Jre(OV,kV,{value:null}),J_("dispose"),J_("metadata");var Vre=Hre;J_("asyncDispose");var qre=y,a6=UQ("Symbol"),Wre=a6.keyFor,Xre=qre(a6.prototype.valueOf),LV=a6.isRegisteredSymbol||function(A){try{return Wre(Xre(A))!==void 0}catch{return!1}};V0({target:"Symbol",stat:!0},{isRegisteredSymbol:LV});for(var zre=kQ,MV=UQ,Zre=y,$re=w_,eie=_0,YU=MV("Symbol"),xV=YU.isWellKnownSymbol,UV=MV("Object","getOwnPropertyNames"),tie=Zre(YU.prototype.valueOf),PV=zre("wks"),c6=0,GV=UV(YU),nie=GV.length;c6<nie;c6++)try{var FV=GV[c6];$re(YU[FV])&&eie(FV)}catch{}var KV=function(A){if(xV&&xV(A))return!0;try{for(var r=tie(A),o=0,u=UV(PV),h=u.length;o<h;o++)if(PV[u[o]]==r)return!0}catch{}return!1};V0({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:KV}),J_("matcher"),J_("observable"),V0({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:LV}),V0({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:KV}),J_("metadataKey"),J_("patternMatch"),J_("replaceAll");var v1=s(Vre),u6=y,rie=Q3,iie=RN,oie=pQ,Aie=u6("".charAt),jV=u6("".charCodeAt),sie=u6("".slice),HV=function(A){return function(r,o){var u,h,f=iie(oie(r)),m=rie(o),v=f.length;return m<0||m>=v?A?"":void 0:(u=jV(f,m))<55296||u>56319||m+1===v||(h=jV(f,m+1))<56320||h>57343?A?Aie(f,m):u:A?sie(f,m,m+2):h-56320+(u-55296<<10)+65536}},aie={codeAt:HV(!1),charAt:HV(!0)}.charAt,cie=RN,YV=LU,uie=_V,JV=vV,VV="String Iterator",gie=YV.set,lie=YV.getterFor(VV);uie(String,"String",function(A){gie(this,{type:VV,string:cie(A),index:0})},function(){var A,r=lie(this),o=r.string,u=r.index;return u>=o.length?JV(void 0,!0):(A=aie(o,u),r.index+=A.length,JV(A,!1))});var qV=s(f1.f("iterator"));function mO(A){return mO=typeof v1=="function"&&typeof qV=="symbol"?function(r){return typeof r}:function(r){return r&&typeof v1=="function"&&r.constructor===v1&&r!==v1.prototype?"symbol":typeof r},mO(A)}var die=s(f1.f("toPrimitive"));function Eie(A){var r=function(o,u){if(mO(o)!=="object"||o===null)return o;var h=o[die];if(h!==void 0){var f=h.call(o,u||"default");if(mO(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(o)}(A,"string");return mO(r)==="symbol"?r:String(r)}function j(A,r,o){return(r=Eie(r))in A?vee(A,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):A[r]=o,A}var Iie=zN("Array").keys,Cie=LT,hie=e_,pie=_,fie=Iie,g6=Array.prototype,Bie={DOMTokenList:!0,NodeList:!0},$S=s(function(A){var r=A.keys;return A===g6||pie(g6,A)&&r===g6.keys||hie(Bie,Cie(A))?fie:r}),WV=PQ,Qie=TypeError,XV=f5,mie=Math.floor,l6=function(A,r){var o=A.length,u=mie(o/2);return o<8?yie(A,r):_ie(A,l6(XV(A,0,u),r),l6(XV(A,u),r),r)},yie=function(A,r){for(var o,u,h=A.length,f=1;f<h;){for(u=f,o=A[f];u&&r(A[u-1],o)>0;)A[u]=A[--u];u!==f++&&(A[u]=o)}return A},_ie=function(A,r,o,u){for(var h=r.length,f=o.length,m=0,v=0;m<h||v<f;)A[m+v]=m<h&&v<f?u(r[m],o[v])<=0?r[m++]:o[v++]:m<h?r[m++]:o[v++];return A},vie=l6,Sie=g,d6=function(A,r){var o=[][A];return!!o&&Sie(function(){o.call(null,r||function(){return 1},1)})},zV=XQ.match(/firefox\/(\d+)/i),Rie=!!zV&&+zV[1],wie=/MSIE|Trident/.test(XQ),ZV=XQ.match(/AppleWebKit\/(\d+)\./),bie=!!ZV&&+ZV[1],Die=V0,$V=y,Nie=B0,Tie=C0,_q=OT,kie=function(A,r){if(!delete A[r])throw Qie("Cannot delete property "+WV(r)+" of "+WV(A))},e2=RN,E6=g,Oie=vie,Lie=d6,t2=Rie,Mie=wie,n2=F0,r2=bie,eT=[],i2=$V(eT.sort),xie=$V(eT.push),Uie=E6(function(){eT.sort(void 0)}),Pie=E6(function(){eT.sort(null)}),Gie=Lie("sort"),o2=!E6(function(){if(n2)return n2<70;if(!(t2&&t2>3)){if(Mie)return!0;if(r2)return r2<603;var A,r,o,u,h="";for(A=65;A<76;A++){switch(r=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:o=3;break;case 68:case 71:o=4;break;default:o=2}for(u=0;u<47;u++)eT.push({k:r+u,v:o})}for(eT.sort(function(f,m){return m.v-f.v}),u=0;u<eT.length;u++)r=eT[u].k.charAt(0),h.charAt(h.length-1)!==r&&(h+=r);return h!=="DGBEFHACIJK"}});Die({target:"Array",proto:!0,forced:Uie||!Pie||!Gie||!o2},{sort:function(A){A!==void 0&&Nie(A);var r=Tie(this);if(o2)return A===void 0?i2(r):i2(r,A);var o,u,h=[],f=_q(r);for(u=0;u<f;u++)u in r&&xie(h,r[u]);for(Oie(h,function(m){return function(v,R){return R===void 0?-1:v===void 0?1:m!==void 0?+m(v,R)||0:e2(v)>e2(R)?1:-1}}(A)),o=_q(h),u=0;u<o;)r[u]=h[u++];for(;u<f;)kie(r,u++);return r}});var Fie=zN("Array").sort,Kie=_,jie=Fie,I6=Array.prototype,yO=s(function(A){var r=A.sort;return A===I6||Kie(I6,A)&&r===I6.sort?jie:r}),Hie=UQ,Yie=NU,Jie=TU,Vie=qR,qie=y([].concat),Wie=Hie("Reflect","ownKeys")||function(A){var r=Yie.f(Vie(A)),o=Jie.f;return o?qie(r,o(A)):r},A2=e_,Xie=Wie,zie=ga,Zie=TR,$ie=vd,eoe=XN,s2=Error,toe=y("".replace),noe=String(s2("zxcasd").stack),a2=/\n\s*at [^:]*:[^\n]*/,roe=a2.test(noe),ioe=oQ,ooe=!g(function(){var A=Error("a");return!("stack"in A)||(Object.defineProperty(A,"stack",ioe(1,7)),A.stack!==7)}),Aoe=XN,soe=function(A,r){if(roe&&typeof A=="string"&&!s2.prepareStackTrace)for(;r--;)A=toe(A,a2,"");return A},aoe=ooe,c2=Error.captureStackTrace,coe=_1,uoe=_0("iterator"),goe=Array.prototype,loe=LT,u2=GQ,doe=IQ,Eoe=_1,Ioe=_0("iterator"),g2=function(A){if(!doe(A))return u2(A,Ioe)||u2(A,"@@iterator")||Eoe[loe(A)]},Coe=Ka,hoe=B0,poe=qR,foe=PQ,Boe=g2,Qoe=TypeError,moe=Ka,l2=qR,yoe=GQ,_oe=EO,voe=Ka,Soe=qR,Roe=PQ,woe=function(A){return A!==void 0&&(coe.Array===A||goe[uoe]===A)},boe=OT,d2=_,Doe=function(A,r){var o=arguments.length<2?Boe(A):r;if(hoe(o))return poe(Coe(o,A));throw Qoe(foe(A)+" is not iterable")},Noe=g2,E2=function(A,r,o){var u,h;l2(A);try{if(!(u=yoe(A,"return"))){if(r==="throw")throw o;return o}u=moe(u,A)}catch(f){h=!0,u=f}if(r==="throw")throw o;if(h)throw u;return l2(u),o},Toe=TypeError,JU=function(A,r){this.stopped=A,this.result=r},I2=JU.prototype,_O=function(A,r,o){var u,h,f,m,v,R,D,k=o&&o.that,L=!(!o||!o.AS_ENTRIES),q=!(!o||!o.IS_RECORD),z=!(!o||!o.IS_ITERATOR),_s=!(!o||!o.INTERRUPTED),_n=_oe(r,k),_i=function(Ea){return u&&E2(u,"normal",Ea),new JU(!0,Ea)},Aa=function(Ea){return L?(Soe(Ea),_s?_n(Ea[0],Ea[1],_i):_n(Ea[0],Ea[1])):_s?_n(Ea,_i):_n(Ea)};if(q)u=A.iterator;else if(z)u=A;else{if(!(h=Noe(A)))throw Toe(Roe(A)+" is not iterable");if(woe(h)){for(f=0,m=boe(A);m>f;f++)if((v=Aa(A[f]))&&d2(I2,v))return v;return new JU(!1)}u=Doe(A,h)}for(R=q?A.next:u.next;!(D=voe(R,u)).done;){try{v=Aa(D.value)}catch(Ea){E2(u,"throw",Ea)}if(typeof v=="object"&&v&&d2(I2,v))return v}return new JU(!1)},koe=RN,Ooe=V0,Loe=_,Moe=r6,VU=Sre,xoe=function(A,r,o){for(var u=Xie(r),h=Zie.f,f=zie.f,m=0;m<u.length;m++){var v=u[m];A2(A,v)||o&&A2(o,v)||h(A,v,f(r,v))}},C2=DU,C6=XN,h6=oQ,Uoe=function(A,r){$ie(r)&&"cause"in r&&eoe(A,"cause",r.cause)},Poe=function(A,r,o,u){aoe&&(c2?c2(A,r):Aoe(A,"stack",soe(o,u)))},Goe=_O,Foe=function(A,r){return A===void 0?arguments.length<2?"":r:koe(A)},Koe=_0("toStringTag"),qU=Error,joe=[].push,S1=function(A,r){var o,u=Loe(p6,this);VU?o=VU(qU(),u?Moe(this):p6):(o=u?this:C2(p6),C6(o,Koe,"Error")),r!==void 0&&C6(o,"message",Foe(r)),Poe(o,S1,o.stack,1),arguments.length>2&&Uoe(o,arguments[2]);var h=[];return Goe(A,joe,{that:h}),C6(o,"errors",h),o};VU?VU(S1,qU):xoe(S1,qU,{name:!0});var p6=S1.prototype=C2(qU.prototype,{constructor:h6(1,S1),message:h6(1,""),name:h6(1,"AggregateError")});Ooe({global:!0,constructor:!0,arity:2},{AggregateError:S1});var vO,R1,h2,f6,SO=typeof process<"u"&&_r(process)=="process",Hoe=UQ,Yoe=m5,Joe=ma,p2=_0("species"),Voe=_,qoe=TypeError,Woe=n5,Xoe=PQ,zoe=TypeError,f2=qR,Zoe=function(A){if(Woe(A))return A;throw zoe(Xoe(A)+" is not a constructor")},$oe=IQ,eAe=_0("species"),B2=function(A,r){var o,u=f2(A).constructor;return u===void 0||$oe(o=f2(u)[eAe])?r:Zoe(o)},tAe=TypeError,Q2=/(?:ipad|iphone|ipod).*applewebkit/i.test(XQ),CR=w,nAe=U,rAe=EO,m2=Da,iAe=e_,y2=g,_2=g5,oAe=X5,v2=vN,AAe=function(A,r){if(A<r)throw tAe("Not enough arguments");return A},sAe=Q2,aAe=SO,B6=CR.setImmediate,Q6=CR.clearImmediate,cAe=CR.process,m6=CR.Dispatch,uAe=CR.Function,S2=CR.MessageChannel,gAe=CR.String,y6=0,RO={},R2="onreadystatechange";y2(function(){vO=CR.location});var _6=function(A){if(iAe(RO,A)){var r=RO[A];delete RO[A],r()}},v6=function(A){return function(){_6(A)}},w2=function(A){_6(A.data)},b2=function(A){CR.postMessage(gAe(A),vO.protocol+"//"+vO.host)};B6&&Q6||(B6=function(A){AAe(arguments.length,1);var r=m2(A)?A:uAe(A),o=oAe(arguments,1);return RO[++y6]=function(){nAe(r,void 0,o)},R1(y6),y6},Q6=function(A){delete RO[A]},aAe?R1=function(A){cAe.nextTick(v6(A))}:m6&&m6.now?R1=function(A){m6.now(v6(A))}:S2&&!sAe?(f6=(h2=new S2).port2,h2.port1.onmessage=w2,R1=rAe(f6.postMessage,f6)):CR.addEventListener&&m2(CR.postMessage)&&!CR.importScripts&&vO&&vO.protocol!=="file:"&&!y2(b2)?(R1=b2,CR.addEventListener("message",w2,!1)):R1=R2 in v2("script")?function(A){_2.appendChild(v2("script"))[R2]=function(){_2.removeChild(this),_6(A)}}:function(A){setTimeout(v6(A),0)});var D2={set:B6,clear:Q6},N2=function(){this.head=null,this.tail=null};N2.prototype={add:function(A){var r={item:A,next:null},o=this.tail;o?o.next=r:this.head=r,this.tail=r},get:function(){var A=this.head;if(A)return(this.head=A.next)===null&&(this.tail=null),A.item}};var w1,S6,R6,w6,T2,k2=N2,lAe=/ipad|iphone|ipod/i.test(XQ)&&typeof Pebble<"u",dAe=/web0s(?!.*chrome)/i.test(XQ),GT=w,O2=EO,EAe=ga.f,b6=D2.set,IAe=k2,CAe=Q2,hAe=lAe,pAe=dAe,D6=SO,L2=GT.MutationObserver||GT.WebKitMutationObserver,M2=GT.document,x2=GT.process,WU=GT.Promise,U2=EAe(GT,"queueMicrotask"),N6=U2&&U2.value;if(!N6){var XU=new IAe,zU=function(){var A,r;for(D6&&(A=x2.domain)&&A.exit();r=XU.get();)try{r()}catch(o){throw XU.head&&w1(),o}A&&A.enter()};CAe||D6||pAe||!L2||!M2?!hAe&&WU&&WU.resolve?((w6=WU.resolve(void 0)).constructor=WU,T2=O2(w6.then,w6),w1=function(){T2(zU)}):D6?w1=function(){x2.nextTick(zU)}:(b6=O2(b6,GT),w1=function(){b6(zU)}):(S6=!0,R6=M2.createTextNode(""),new L2(zU).observe(R6,{characterData:!0}),w1=function(){R6.data=S6=!S6}),N6=function(A){XU.head||w1(),XU.add(A)}}var fAe=N6,b1=function(A){try{return{error:!1,value:A()}}catch(r){return{error:!0,value:r}}},FT=w.Promise,P2=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",BAe=!P2&&!SO&&typeof window=="object"&&typeof document=="object",QAe=w,wO=FT,mAe=Da,yAe=kT,_Ae=ZY,vAe=_0,SAe=BAe,RAe=P2,T6=F0,G2=wO&&wO.prototype,wAe=vAe("species"),F2=!1,K2=mAe(QAe.PromiseRejectionEvent),bAe=yAe("Promise",function(){var A=_Ae(wO),r=A!==String(wO);if(!r&&T6===66||!G2.catch||!G2.finally)return!0;if(!T6||T6<51||!/native code/.test(A)){var o=new wO(function(h){h(1)}),u=function(h){h(function(){},function(){})};if((o.constructor={})[wAe]=u,!(F2=o.then(function(){})instanceof u))return!0}return!r&&(SAe||RAe)&&!K2}),bO={CONSTRUCTOR:bAe,REJECTION_EVENT:K2,SUBCLASSING:F2},_D={},j2=B0,DAe=TypeError,NAe=function(A){var r,o;this.promise=new A(function(u,h){if(r!==void 0||o!==void 0)throw DAe("Bad Promise constructor");r=u,o=h}),this.resolve=j2(r),this.reject=j2(o)};_D.f=function(A){return new NAe(A)};var k6,H2,TAe=V0,ZU=SO,tT=w,DO=Ka,kAe=CO,OAe=B1,LAe=function(A){var r=Hoe(A);Joe&&r&&!r[p2]&&Yoe(r,p2,{configurable:!0,get:function(){return this}})},MAe=B0,O6=Da,xAe=vd,UAe=function(A,r){if(Voe(r,A))return A;throw qoe("Incorrect invocation")},PAe=B2,Y2=D2.set,L6=fAe,GAe=function(A,r){try{arguments.length==1?console.error(A):console.error(A,r)}catch{}},FAe=b1,KAe=k2,J2=LU,M6=FT,V2=bO,q2=_D,$U="Promise",W2=V2.CONSTRUCTOR,jAe=V2.REJECTION_EVENT,x6=J2.getterFor($U),HAe=J2.set,YAe=M6&&M6.prototype,NO=M6,U6=YAe,X2=tT.TypeError,P6=tT.document,G6=tT.process,F6=q2.f,JAe=F6,VAe=!!(P6&&P6.createEvent&&tT.dispatchEvent),z2="unhandledrejection",Z2=function(A){var r;return!(!xAe(A)||!O6(r=A.then))&&r},$2=function(A,r){var o,u,h,f=r.value,m=r.state==1,v=m?A.ok:A.fail,R=A.resolve,D=A.reject,k=A.domain;try{v?(m||(r.rejection===2&&WAe(r),r.rejection=1),v===!0?o=f:(k&&k.enter(),o=v(f),k&&(k.exit(),h=!0)),o===A.promise?D(X2("Promise-chain cycle")):(u=Z2(o))?DO(u,o,R,D):R(o)):D(f)}catch(L){k&&!h&&k.exit(),D(L)}},e9=function(A,r){A.notified||(A.notified=!0,L6(function(){for(var o,u=A.reactions;o=u.get();)$2(o,A);A.notified=!1,r&&!A.rejection&&qAe(A)}))},t9=function(A,r,o){var u,h;VAe?((u=P6.createEvent("Event")).promise=r,u.reason=o,u.initEvent(A,!1,!0),tT.dispatchEvent(u)):u={promise:r,reason:o},!jAe&&(h=tT["on"+A])?h(u):A===z2&&GAe("Unhandled promise rejection",o)},qAe=function(A){DO(Y2,tT,function(){var r,o=A.facade,u=A.value;if(n9(A)&&(r=FAe(function(){ZU?G6.emit("unhandledRejection",u,o):t9(z2,o,u)}),A.rejection=ZU||n9(A)?2:1,r.error))throw r.value})},n9=function(A){return A.rejection!==1&&!A.parent},WAe=function(A){DO(Y2,tT,function(){var r=A.facade;ZU?G6.emit("rejectionHandled",r):t9("rejectionhandled",r,A.value)})},D1=function(A,r,o){return function(u){A(r,u,o)}},N1=function(A,r,o){A.done||(A.done=!0,o&&(A=o),A.value=r,A.state=2,e9(A,!0))},K6=function(A,r,o){if(!A.done){A.done=!0,o&&(A=o);try{if(A.facade===r)throw X2("Promise can't be resolved itself");var u=Z2(r);u?L6(function(){var h={done:!1};try{DO(u,r,D1(K6,h,A),D1(N1,h,A))}catch(f){N1(h,f,A)}}):(A.value=r,A.state=1,e9(A,!1))}catch(h){N1({done:!1},h,A)}}};W2&&(U6=(NO=function(A){UAe(this,U6),MAe(A),DO(k6,this);var r=x6(this);try{A(D1(K6,r),D1(N1,r))}catch(o){N1(r,o)}}).prototype,(k6=function(A){HAe(this,{type:$U,done:!1,notified:!1,parent:!1,reactions:new KAe,rejection:!1,state:0,value:void 0})}).prototype=kAe(U6,"then",function(A,r){var o=x6(this),u=F6(PAe(this,NO));return o.parent=!0,u.ok=!O6(A)||A,u.fail=O6(r)&&r,u.domain=ZU?G6.domain:void 0,o.state==0?o.reactions.add(u):L6(function(){$2(u,o)}),u.promise}),H2=function(){var A=new k6,r=x6(A);this.promise=A,this.resolve=D1(K6,r),this.reject=D1(N1,r)},q2.f=F6=function(A){return A===NO||A===void 0?new H2(A):JAe(A)}),TAe({global:!0,constructor:!0,wrap:!0,forced:W2},{Promise:NO}),OAe(NO,$U,!1,!0),LAe($U);var r9=_0("iterator"),i9=!1;try{var XAe=0,o9={next:function(){return{done:!!XAe++}},return:function(){i9=!0}};o9[r9]=function(){return this},Array.from(o9,function(){throw 2})}catch{}var zAe=FT,ZAe=function(A,r){if(!i9)return!1;var o=!1;try{var u={};u[r9]=function(){return{next:function(){return{done:o=!0}}}},A(u)}catch{}return o},eP=bO.CONSTRUCTOR||!ZAe(function(A){zAe.all(A).then(void 0,function(){})}),$Ae=Ka,ese=B0,tse=_D,nse=b1,rse=_O;V0({target:"Promise",stat:!0,forced:eP},{all:function(A){var r=this,o=tse.f(r),u=o.resolve,h=o.reject,f=nse(function(){var m=ese(r.resolve),v=[],R=0,D=1;rse(A,function(k){var L=R++,q=!1;D++,$Ae(m,r,k).then(function(z){q||(q=!0,v[L]=z,--D||u(v))},h)}),--D||u(v)});return f.error&&h(f.value),o.promise}});var ise=V0,ose=bO.CONSTRUCTOR;FT&&FT.prototype,ise({target:"Promise",proto:!0,forced:ose,real:!0},{catch:function(A){return this.then(void 0,A)}});var Ase=Ka,sse=B0,ase=_D,cse=b1,use=_O;V0({target:"Promise",stat:!0,forced:eP},{race:function(A){var r=this,o=ase.f(r),u=o.reject,h=cse(function(){var f=sse(r.resolve);use(A,function(m){Ase(f,r,m).then(o.resolve,u)})});return h.error&&u(h.value),o.promise}});var gse=Ka,lse=_D;V0({target:"Promise",stat:!0,forced:bO.CONSTRUCTOR},{reject:function(A){var r=lse.f(this);return gse(r.reject,void 0,A),r.promise}});var dse=qR,Ese=vd,Ise=_D,A9=function(A,r){if(dse(A),Ese(r)&&r.constructor===A)return r;var o=Ise.f(A);return(0,o.resolve)(r),o.promise},Cse=V0,hse=FT,pse=bO.CONSTRUCTOR,fse=A9,Bse=UQ("Promise"),Qse=!pse;Cse({target:"Promise",stat:!0,forced:!0},{resolve:function(A){return fse(Qse&&this===Bse?hse:this,A)}});var mse=Ka,yse=B0,_se=_D,vse=b1,Sse=_O;V0({target:"Promise",stat:!0,forced:eP},{allSettled:function(A){var r=this,o=_se.f(r),u=o.resolve,h=o.reject,f=vse(function(){var m=yse(r.resolve),v=[],R=0,D=1;Sse(A,function(k){var L=R++,q=!1;D++,mse(m,r,k).then(function(z){q||(q=!0,v[L]={status:"fulfilled",value:z},--D||u(v))},function(z){q||(q=!0,v[L]={status:"rejected",reason:z},--D||u(v))})}),--D||u(v)});return f.error&&h(f.value),o.promise}});var Rse=Ka,wse=B0,bse=UQ,Dse=_D,Nse=b1,Tse=_O,s9="No one promise resolved";V0({target:"Promise",stat:!0,forced:eP},{any:function(A){var r=this,o=bse("AggregateError"),u=Dse.f(r),h=u.resolve,f=u.reject,m=Nse(function(){var v=wse(r.resolve),R=[],D=0,k=1,L=!1;Tse(A,function(q){var z=D++,_s=!1;k++,Rse(v,r,q).then(function(_n){_s||L||(L=!0,h(_n))},function(_n){_s||L||(_s=!0,R[z]=_n,--k||f(new o(R,s9)))})}),--k||f(new o(R,s9))});return m.error&&f(m.value),u.promise}});var kse=V0,j6=FT,Ose=g,Lse=UQ,Mse=Da,xse=B2,a9=A9,Use=j6&&j6.prototype;kse({target:"Promise",proto:!0,real:!0,forced:!!j6&&Ose(function(){Use.finally.call({then:function(){}},function(){})})},{finally:function(A){var r=xse(this,Lse("Promise")),o=Mse(A);return this.then(o?function(u){return a9(r,A()).then(function(){return u})}:A,o?function(u){return a9(r,A()).then(function(){throw u})}:A)}});var c9=CQ.Promise,lc=s(c9);const Pse=()=>{};function TO(){const A={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:Pse};return A.promise=new lc((r,o)=>{A.resolve=u=>{A.isFinished||(A.isResolved=!0,A.isFinished=!0,r(u),A.value=u)},A.reject=u=>{A.isFinished||(A.isRejected=!0,A.isFinished=!0,o(u))}}),A}const tP=new Map,nP=new Map,tN=new Map;var h_,c0;(function(A){A.WIN_10="Windows 10",A.WIN_81="Windows 8.1",A.WIN_8="Windows 8",A.WIN_7="Windows 7",A.WIN_VISTA="Windows Vista",A.WIN_SERVER_2003="Windows Server 2003",A.WIN_XP="Windows XP",A.WIN_2000="Windows 2000",A.ANDROID="Android",A.HARMONY_OS="HarmonyOS",A.OPEN_BSD="Open BSD",A.SUN_OS="Sun OS",A.LINUX="Linux",A.IOS="iOS",A.MAC_OS="Mac OS",A.CHROMIUM_OS="Chromium OS",A.QNX="QNX",A.UNIX="UNIX",A.BEOS="BeOS",A.OS_2="OS/2",A.SEARCH_BOT="Search Bot"})(h_||(h_={})),function(A){A.CHROME="Chrome",A.SAFARI="Safari",A.EDGE="Edge",A.FIREFOX="Firefox",A.OPERA="OPR",A.QQ="QQBrowser",A.WECHAT="MicroMessenger"}(c0||(c0={}));var H6={exports:{}};(function(A,r){(function(o,u){var h="function",f="undefined",m="object",v="string",R="major",D="model",k="name",L="type",q="vendor",z="version",_s="architecture",_n="console",_i="mobile",Aa="tablet",Ea="smarttv",Qa="wearable",Vc="embedded",Fa="Amazon",Va="Apple",_c="ASUS",ec="BlackBerry",kd="Browser",_h="Chrome",RQ="Firefox",jQ="Google",w0="Huawei",E_="LG",O0="Microsoft",YS="Motorola",ud="Opera",_f="Samsung",iQ="Sharp",bQ="Sony",A0="Xiaomi",eQ="Zebra",_e="Facebook",sa="Chromium OS",_a="Mac OS",_C=function(Z0){for(var I_={},L0=0;L0<Z0.length;L0++)I_[Z0[L0].toUpperCase()]=Z0[L0];return I_},MQ=function(Z0,I_){return typeof Z0===v&&N0(I_).indexOf(N0(Z0))!==-1},N0=function(Z0){return Z0.toLowerCase()},eS=function(Z0,I_){if(typeof Z0===v)return Z0=Z0.replace(/^\s\s*/,""),typeof I_===f?Z0:Z0.substring(0,350)},JS=function(Z0,I_){for(var L0,VS,mN,$0,s0,LS,NT=0;NT<I_.length&&!s0;){var pb=I_[NT],I$=I_[NT+1];for(L0=VS=0;L0<pb.length&&!s0&&pb[L0];)if(s0=pb[L0++].exec(Z0))for(mN=0;mN<I$.length;mN++)LS=s0[++VS],typeof($0=I$[mN])===m&&$0.length>0?$0.length===2?typeof $0[1]==h?this[$0[0]]=$0[1].call(this,LS):this[$0[0]]=$0[1]:$0.length===3?typeof $0[1]!==h||$0[1].exec&&$0[1].test?this[$0[0]]=LS?LS.replace($0[1],$0[2]):u:this[$0[0]]=LS?$0[1].call(this,LS,$0[2]):u:$0.length===4&&(this[$0[0]]=LS?$0[3].call(this,LS.replace($0[1],$0[2])):u):this[$0]=LS||u;NT+=2}},VN=function(Z0,I_){for(var L0 in I_)if(typeof I_[L0]===m&&I_[L0].length>0){for(var VS=0;VS<I_[L0].length;VS++)if(MQ(I_[L0][VS],Z0))return L0==="?"?u:L0}else if(MQ(I_[L0],Z0))return L0==="?"?u:L0;return Z0},I3={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},C3={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[z,[k,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[z,[k,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[k,z],[/opios[\/ ]+([\w\.]+)/i],[z,[k,ud+" Mini"]],[/\bopr\/([\w\.]+)/i],[z,[k,ud]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[k,z],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[z,[k,"UC"+kd]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[z,[k,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[z,[k,"WeChat"]],[/konqueror\/([\w\.]+)/i],[z,[k,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[z,[k,"IE"]],[/yabrowser\/([\w\.]+)/i],[z,[k,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[k,/(.+)/,"$1 Secure "+kd],z],[/\bfocus\/([\w\.]+)/i],[z,[k,RQ+" Focus"]],[/\bopt\/([\w\.]+)/i],[z,[k,ud+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[z,[k,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[z,[k,"Dolphin"]],[/coast\/([\w\.]+)/i],[z,[k,ud+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[z,[k,"MIUI "+kd]],[/fxios\/([-\w\.]+)/i],[z,[k,RQ]],[/\bqihu|(qi?ho?o?|360)browser/i],[[k,"360 "+kd]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[k,/(.+)/,"$1 "+kd],z],[/(comodo_dragon)\/([\w\.]+)/i],[[k,/_/g," "],z],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[k,z],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[k],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[k,_e],z],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[k,z],[/\bgsa\/([\w\.]+) .*safari\//i],[z,[k,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[z,[k,_h+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[k,_h+" WebView"],z],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[z,[k,"Android "+kd]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[k,z],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[z,[k,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[z,k],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[k,[z,VN,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[k,z],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[k,"Netscape"],z],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[z,[k,RQ+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[k,z],[/(cobalt)\/([\w\.]+)/i],[k,[z,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[_s,"amd64"]],[/(ia32(?=;))/i],[[_s,N0]],[/((?:i[346]|x)86)[;\)]/i],[[_s,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[_s,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[_s,"armhf"]],[/windows (ce|mobile); ppc;/i],[[_s,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[_s,/ower/,"",N0]],[/(sun4\w)[;\)]/i],[[_s,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[_s,N0]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[D,[q,_f],[L,Aa]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[D,[q,_f],[L,_i]],[/\((ip(?:hone|od)[\w ]*);/i],[D,[q,Va],[L,_i]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[D,[q,Va],[L,Aa]],[/(macintosh);/i],[D,[q,Va]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[D,[q,iQ],[L,_i]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[D,[q,w0],[L,Aa]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[D,[q,w0],[L,_i]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[D,/_/g," "],[q,A0],[L,_i]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[D,/_/g," "],[q,A0],[L,Aa]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[D,[q,"OPPO"],[L,_i]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[D,[q,"Vivo"],[L,_i]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[D,[q,"Realme"],[L,_i]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[D,[q,YS],[L,_i]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[D,[q,YS],[L,Aa]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[D,[q,E_],[L,Aa]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[D,[q,E_],[L,_i]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[D,[q,"Lenovo"],[L,Aa]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[D,/_/g," "],[q,"Nokia"],[L,_i]],[/(pixel c)\b/i],[D,[q,jQ],[L,Aa]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[D,[q,jQ],[L,_i]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[D,[q,bQ],[L,_i]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[D,"Xperia Tablet"],[q,bQ],[L,Aa]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[D,[q,"OnePlus"],[L,_i]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[D,[q,Fa],[L,Aa]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[D,/(.+)/g,"Fire Phone $1"],[q,Fa],[L,_i]],[/(playbook);[-\w\),; ]+(rim)/i],[D,q,[L,Aa]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[D,[q,ec],[L,_i]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[D,[q,_c],[L,Aa]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[D,[q,_c],[L,_i]],[/(nexus 9)/i],[D,[q,"HTC"],[L,Aa]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[q,[D,/_/g," "],[L,_i]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[D,[q,"Acer"],[L,Aa]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[D,[q,"Meizu"],[L,_i]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[q,D,[L,_i]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[q,D,[L,Aa]],[/(surface duo)/i],[D,[q,O0],[L,Aa]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[D,[q,"Fairphone"],[L,_i]],[/(u304aa)/i],[D,[q,"AT&T"],[L,_i]],[/\bsie-(\w*)/i],[D,[q,"Siemens"],[L,_i]],[/\b(rct\w+) b/i],[D,[q,"RCA"],[L,Aa]],[/\b(venue[\d ]{2,7}) b/i],[D,[q,"Dell"],[L,Aa]],[/\b(q(?:mv|ta)\w+) b/i],[D,[q,"Verizon"],[L,Aa]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[D,[q,"Barnes & Noble"],[L,Aa]],[/\b(tm\d{3}\w+) b/i],[D,[q,"NuVision"],[L,Aa]],[/\b(k88) b/i],[D,[q,"ZTE"],[L,Aa]],[/\b(nx\d{3}j) b/i],[D,[q,"ZTE"],[L,_i]],[/\b(gen\d{3}) b.+49h/i],[D,[q,"Swiss"],[L,_i]],[/\b(zur\d{3}) b/i],[D,[q,"Swiss"],[L,Aa]],[/\b((zeki)?tb.*\b) b/i],[D,[q,"Zeki"],[L,Aa]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[q,"Dragon Touch"],D,[L,Aa]],[/\b(ns-?\w{0,9}) b/i],[D,[q,"Insignia"],[L,Aa]],[/\b((nxa|next)-?\w{0,9}) b/i],[D,[q,"NextBook"],[L,Aa]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[q,"Voice"],D,[L,_i]],[/\b(lvtel\-)?(v1[12]) b/i],[[q,"LvTel"],D,[L,_i]],[/\b(ph-1) /i],[D,[q,"Essential"],[L,_i]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[D,[q,"Envizen"],[L,Aa]],[/\b(trio[-\w\. ]+) b/i],[D,[q,"MachSpeed"],[L,Aa]],[/\btu_(1491) b/i],[D,[q,"Rotor"],[L,Aa]],[/(shield[\w ]+) b/i],[D,[q,"Nvidia"],[L,Aa]],[/(sprint) (\w+)/i],[q,D,[L,_i]],[/(kin\.[onetw]{3})/i],[[D,/\./g," "],[q,O0],[L,_i]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[D,[q,eQ],[L,Aa]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[D,[q,eQ],[L,_i]],[/smart-tv.+(samsung)/i],[q,[L,Ea]],[/hbbtv.+maple;(\d+)/i],[[D,/^/,"SmartTV"],[q,_f],[L,Ea]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[q,E_],[L,Ea]],[/(apple) ?tv/i],[q,[D,Va+" TV"],[L,Ea]],[/crkey/i],[[D,_h+"cast"],[q,jQ],[L,Ea]],[/droid.+aft(\w)( bui|\))/i],[D,[q,Fa],[L,Ea]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[D,[q,iQ],[L,Ea]],[/(bravia[\w ]+)( bui|\))/i],[D,[q,bQ],[L,Ea]],[/(mitv-\w{5}) bui/i],[D,[q,A0],[L,Ea]],[/Hbbtv.*(technisat) (.*);/i],[q,D,[L,Ea]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[q,eS],[D,eS],[L,Ea]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[L,Ea]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[q,D,[L,_n]],[/droid.+; (shield) bui/i],[D,[q,"Nvidia"],[L,_n]],[/(playstation [345portablevi]+)/i],[D,[q,bQ],[L,_n]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[D,[q,O0],[L,_n]],[/((pebble))app/i],[q,D,[L,Qa]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[D,[q,Va],[L,Qa]],[/droid.+; (glass) \d/i],[D,[q,jQ],[L,Qa]],[/droid.+; (wt63?0{2,3})\)/i],[D,[q,eQ],[L,Qa]],[/(quest( 2| pro)?)/i],[D,[q,_e],[L,Qa]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[q,[L,Vc]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[D,[L,_i]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[D,[L,Aa]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[L,Aa]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[L,_i]],[/(android[-\w\. ]{0,9});.+buil/i],[D,[q,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[z,[k,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[z,[k,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[k,z],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[z,k]],os:[[/microsoft (windows) (vista|xp)/i],[k,z],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[k,[z,VN,I3]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[k,"Windows"],[z,VN,I3]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[z,/_/g,"."],[k,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[k,_a],[z,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[z,k],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[k,z],[/\(bb(10);/i],[z,[k,ec]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[z,[k,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[z,[k,RQ+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[z,[k,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[z,[k,"watchOS"]],[/crkey\/([\d\.]+)/i],[z,[k,_h+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[k,sa],z],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[k,z],[/(sunos) ?([\w\.\d]*)/i],[[k,"Solaris"],z],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[k,z]]},RR=function(Z0,I_){if(typeof Z0===m&&(I_=Z0,Z0=u),!(this instanceof RR))return new RR(Z0,I_).getResult();var L0=typeof o!==f&&o.navigator?o.navigator:u,VS=Z0||(L0&&L0.userAgent?L0.userAgent:""),mN=L0&&L0.userAgentData?L0.userAgentData:u,$0=I_?function(s0,LS){var NT={};for(var pb in s0)LS[pb]&&LS[pb].length%2==0?NT[pb]=LS[pb].concat(s0[pb]):NT[pb]=s0[pb];return NT}(C3,I_):C3;return this.getBrowser=function(){var s0={};return s0[k]=u,s0[z]=u,JS.call(s0,VS,$0.browser),s0[R]=function(LS){return typeof LS===v?LS.replace(/[^\d\.]/g,"").split(".")[0]:u}(s0[z]),L0&&L0.brave&&typeof L0.brave.isBrave==h&&(s0[k]="Brave"),s0},this.getCPU=function(){var s0={};return s0[_s]=u,JS.call(s0,VS,$0.cpu),s0},this.getDevice=function(){var s0={};return s0[q]=u,s0[D]=u,s0[L]=u,JS.call(s0,VS,$0.device),!s0[L]&&mN&&mN.mobile&&(s0[L]=_i),s0[D]=="Macintosh"&&L0&&typeof L0.standalone!==f&&L0.maxTouchPoints&&L0.maxTouchPoints>2&&(s0[D]="iPad",s0[L]=Aa),s0},this.getEngine=function(){var s0={};return s0[k]=u,s0[z]=u,JS.call(s0,VS,$0.engine),s0},this.getOS=function(){var s0={};return s0[k]=u,s0[z]=u,JS.call(s0,VS,$0.os),!s0[k]&&mN&&mN.platform!="Unknown"&&(s0[k]=mN.platform.replace(/chrome os/i,sa).replace(/macos/i,_a)),s0},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return VS},this.setUA=function(s0){return VS=typeof s0===v&&s0.length>350?eS(s0,350):s0,this},this.setUA(VS),this};RR.VERSION="0.7.34",RR.BROWSER=_C([k,z,R]),RR.CPU=_C([_s]),RR.DEVICE=_C([D,q,L,_n,_i,Ea,Aa,Qa,Vc]),RR.ENGINE=RR.OS=_C([k,z]),A.exports&&(r=A.exports=RR),r.UAParser=RR;var DT=typeof o!==f&&(o.jQuery||o.Zepto);if(DT&&!DT.ua){var uO=new RR;DT.ua=uO.getResult(),DT.ua.get=function(){return uO.getUA()},DT.ua.set=function(Z0){uO.setUA(Z0);var I_=uO.getResult();for(var L0 in I_)DT.ua[L0]=I_[L0]}}})(typeof window=="object"?window:i)})(H6,H6.exports);const u9=new(s(H6.exports));let DN=u9.getResult(),Y6=null;function o0(A){if(!Y6){DN=u9.getResult();const r=function(f){if(f.engine.name==="Blink"&&f.browser.name!=="WeChat")return c0.CHROME;switch(f.browser.name){case"Chrome Headless":case"Chrome":case"Chromium":return c0.CHROME;case"Safari":case"Mobile Safari":return c0.SAFARI;case"Edge":return c0.EDGE;case"Firefox":return c0.FIREFOX;case"QQBrowser":return c0.QQ;case"Opera":return c0.OPERA;case"WeChat":return c0.WECHAT;default:return f.browser.name||""}}(DN),o=function(f){let m;return m=f.engine.name==="Blink"?f.engine.version||"":f.browser.version||"",m.split(".")[0]}(DN),u=function(f){return f.os.name==="Windows"?f.os.version?f.os.name+" "+f.os.version:f.os.name:f.os.name||""}(DN),h=DN.os.version;if(!(r&&o&&u&&h))return{name:r,version:o,os:u,osVersion:h};Y6={name:r,version:o,os:u,osVersion:h}}return Y6}function rP(){return o0().os}function g9(){const A=o0();return"".concat(A.os," ").concat(A.osVersion)}function iP(){const A=o0();return!!(DN.engine.name==="WebKit"&&A.os===h_.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&A.name!==c0.SAFARI||gS()&&A.name!==c0.SAFARI)}function Gse(){const A=o0();if(iP()){if(A.os===h_.MAC_OS)return!0;if(A.os===h_.IOS){const r=DN.os.version&&DN.os.version.split(".");if(r&&Number(r[0])===14&&r[1]&&Number(r[1])>=3||r&&Number(r[0])>14)return!0}}return!1}function Fse(){return DN.engine.name==="WebKit"}function kO(){return o0().name===c0.CHROME}function uS(){return o0().name===c0.SAFARI}function Q0(){return o0().name===c0.FIREFOX}function gS(){return o0().os===h_.IOS}function J6(A){const r=o0();return!(r.name!==c0.CHROME||!r.osVersion)&&Number(r.version)>=A}function l9(A){const r=o0();return!(r.name!==c0.EDGE||!r.osVersion)&&Number(r.version)>=A}function d9(A){const r=o0();return!(r.name!==c0.OPERA||!r.osVersion)&&Number(r.version)>=A}function E9(){const A=o0();return!(A.name!==c0.CHROME||!A.osVersion)&&Number(A.version)<=90}function I9(){const A=o0();if(A.os!==h_.IOS||!A.osVersion)return!1;const r=A.osVersion.split(".");return Number(r[0])<14||Number(r[0])===14&&Number(r[1])<=6}function T1(){const A=o0();if(A.os!==h_.IOS||!A.osVersion)return!1;const r=A.osVersion.split(".");return Number(r[0])===15}function V6(){const A=o0();if(A.os!==h_.IOS||!A.osVersion)return!1;const r=A.osVersion.split(".");return Number(r[0])===16}function C9(){const A=o0();if(A.os!==h_.IOS||!A.osVersion)return!1;const r=A.osVersion.split(".");return Number(r[0])===15&&Number(r[1])>=1}function nN(){return uS()&&navigator.maxTouchPoints>0}function h9(){return o0().name===c0.WECHAT}function p9(){return window.navigator.appVersion&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)!==null&&window.navigator.appVersion.match(/Chrome\/([\w\W]*?)\./)[1]<=35}function nT(){const A=o0();return A.name===c0.EDGE||A.name===c0.SAFARI?!1:!!navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]./i)}function oP(){return rP()===h_.ANDROID}function OO(){const A=o0();return oP()&&(A.name===c0.CHROME||A.name===c0.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}var ea;(function(A){A.UNEXPECTED_ERROR="UNEXPECTED_ERROR",A.UNEXPECTED_RESPONSE="UNEXPECTED_RESPONSE",A.TIMEOUT="TIMEOUT",A.INVALID_PARAMS="INVALID_PARAMS",A.NOT_READABLE="NOT_READABLE",A.NOT_SUPPORTED="NOT_SUPPORTED",A.INVALID_OPERATION="INVALID_OPERATION",A.OPERATION_ABORTED="OPERATION_ABORTED",A.WEB_SECURITY_RESTRICT="WEB_SECURITY_RESTRICT",A.EXCHANGE_SDP_FAILED="EXCHANGE_SDP_FAILED",A.ADD_CANDIDATE_FAILED="ADD_CANDIDATE_FAILED",A.DATACHANNEL_FAILED="DATACHANNEL_FAILED",A.NETWORK_ERROR="NETWORK_ERROR",A.NETWORK_TIMEOUT="NETWORK_TIMEOUT",A.NETWORK_RESPONSE_ERROR="NETWORK_RESPONSE_ERROR",A.API_INVOKE_TIMEOUT="API_INVOKE_TIMEOUT",A.ENUMERATE_DEVICES_FAILED="ENUMERATE_DEVICES_FAILED",A.DEVICE_NOT_FOUND="DEVICE_NOT_FOUND",A.ELECTRON_IS_NULL="ELECTRON_IS_NULL",A.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",A.CHROME_PLUGIN_NO_RESPONSE="CHROME_PLUGIN_NO_RESPONSE",A.CHROME_PLUGIN_NOT_INSTALL="CHROME_PLUGIN_NOT_INSTALL",A.MEDIA_OPTION_INVALID="MEDIA_OPTION_INVALID",A.PERMISSION_DENIED="PERMISSION_DENIED",A.CONSTRAINT_NOT_SATISFIED="CONSTRAINT_NOT_SATISFIED",A.TRACK_IS_DISABLED="TRACK_IS_DISABLED",A.GET_VIDEO_ELEMENT_VISIBLE_ERROR="GET_VIDEO_ELEMENT_VISIBLE_ERROR",A.SHARE_AUDIO_NOT_ALLOWED="SHARE_AUDIO_NOT_ALLOWED",A.LOW_STREAM_ENCODING_ERROR="LOW_STREAM_ENCODING_ERROR",A.SET_ENCODING_PARAMETER_ERROR="SET_ENCODING_PARAMETER_ERROR",A.TRACK_STATE_UNREACHABLE="TRACK_STATE_UNREACHABLE",A.INVALID_UINT_UID_FROM_STRING_UID="INVALID_UINT_UID_FROM_STRING_UID",A.CAN_NOT_GET_PROXY_SERVER="CAN_NOT_GET_PROXY_SERVER",A.CAN_NOT_GET_GATEWAY_SERVER="CAN_NOT_GET_GATEWAY_SERVER",A.VOID_GATEWAY_ADDRESS="VOID_GATEWAY_ADDRESS",A.UID_CONFLICT="UID_CONFLICT",A.MULTI_UNILBS_RESPONSE_ERROR="MULTI_UNILBS_RESPONSE_ERROR",A.UPDATE_TICKET_FAILED="UPDATE_TICKET_FAILED",A.INVALID_LOCAL_TRACK="INVALID_LOCAL_TRACK",A.INVALID_TRACK="INVALID_TRACK",A.SENDER_NOT_FOUND="SENDER_NOT_FOUND",A.CREATE_OFFER_FAILED="CREATE_OFFER_FAILED",A.SET_ANSWER_FAILED="SET_ANSWER_FAILED",A.ICE_FAILED="ICE_FAILED",A.PC_CLOSED="PC_CLOSED",A.SENDER_REPLACE_FAILED="SENDER_REPLACE_FAILED",A.GET_LOCAL_CAPABILITIES_FAILED="GET_LOCAL_CAPABILITIES_FAILED",A.GET_LOCAL_CONNECTION_PARAMS_FAILED="GET_LOCAL_CONNECTION_PARAMS_FAILED",A.SUBSCRIBE_FAILED="SUBSCRIBE_FAILED",A.UNSUBSCRIBE_FAILED="UNSUBSCRIBE_FAILED",A.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",A.NO_ICE_CANDIDATE="NO_ICE_CANDIDATE",A.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",A.EXIST_DISABLED_VIDEO_TRACK="EXIST_DISABLED_VIDEO_TRACK",A.INVALID_REMOTE_USER="INVALID_REMOTE_USER",A.REMOTE_USER_IS_NOT_PUBLISHED="REMOTE_USER_IS_NOT_PUBLISHED",A.CUSTOM_REPORT_SEND_FAILED="CUSTOM_REPORT_SEND_FAILED",A.CUSTOM_REPORT_FREQUENCY_TOO_HIGH="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",A.FETCH_AUDIO_FILE_FAILED="FETCH_AUDIO_FILE_FAILED",A.READ_LOCAL_AUDIO_FILE_ERROR="READ_LOCAL_AUDIO_FILE_ERROR",A.DECODE_AUDIO_FILE_FAILED="DECODE_AUDIO_FILE_FAILED",A.WS_ABORT="WS_ABORT",A.WS_DISCONNECT="WS_DISCONNECT",A.WS_ERR="WS_ERR",A.EXTERNAL_SIGNAL_ABORT="EXTERNAL_SIGNAL_ABORT",A.LIVE_STREAMING_TASK_CONFLICT="LIVE_STREAMING_TASK_CONFLICT",A.LIVE_STREAMING_INVALID_ARGUMENT="LIVE_STREAMING_INVALID_ARGUMENT",A.LIVE_STREAMING_INTERNAL_SERVER_ERROR="LIVE_STREAMING_INTERNAL_SERVER_ERROR",A.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",A.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",A.LIVE_STREAMING_CDN_ERROR="LIVE_STREAMING_CDN_ERROR",A.LIVE_STREAMING_INVALID_RAW_STREAM="LIVE_STREAMING_INVALID_RAW_STREAM",A.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",A.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",A.LIVE_STREAMING_WARN_FREQUENT_REQUEST="LIVE_STREAMING_WARN_FREQUENT_REQUEST",A.WEBGL_INTERNAL_ERROR="WEBGL_INTERNAL_ERROR",A.BEAUTY_PROCESSOR_INTERNAL_ERROR="BEAUTY_PROCESSOR_INTERNAL_ERROR",A.CROSS_CHANNEL_WAIT_STATUS_ERROR="CROSS_CHANNEL_WAIT_STATUS_ERROR",A.CROSS_CHANNEL_FAILED_JOIN_SRC="CROSS_CHANNEL_FAILED_JOIN_SEC",A.CROSS_CHANNEL_FAILED_JOIN_DEST="CROSS_CHANNEL_FAILED_JOIN_DEST",A.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",A.CROSS_CHANNEL_SERVER_ERROR_RESPONSE="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",A.METADATA_OUT_OF_RANGE="METADATA_OUT_OF_RANGE",A.LOCAL_AEC_ERROR="LOCAL_AEC_ERROR",A.INVALID_PLUGIN="INVALID_PLUGIN",A.DISCONNECT_P2P="DISCONNECT_P2P",A.INIT_WEBSOCKET_TIMEOUT="INIT_WEBSOCKET_TIMEOUT",A.CONVERTING_IMAGEDATA_TO_BLOB_FAILED="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",A.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",A.INIT_DATACHANNEL_TIMEOUT="INIT_DATACHANNEL_TIMEOUT",A.DATACHANNEL_CONNECTION_TIMEOUT="DATACHANNEL_CONNECTION_TIMEOUT",A.PROHIBITED_OPERATION="PROHIBITED_OPERATION",A.IMAGE_MODERATION_UPLOAD_FAILED="IMAGE_MODERATION_UPLOAD_FAILED",A.P2P_MESSAGE_FAILED="P2P_MESSAGE_FAILED"})(ea||(ea={}));let _g=class extends Error{constructor(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=arguments.length>2?arguments[2]:void 0;super(r),j(this,"code",void 0),j(this,"message",void 0),j(this,"data",void 0),j(this,"name","AgoraRTCException"),this.code=A,this.message="AgoraRTCError ".concat(this.code,": ").concat(r),this.data=o}toString(){return this.data?"data: ".concat(JSON.stringify(this.data),`
`).concat(this.stack):"".concat(this.stack)}print(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error",r=arguments.length>1?arguments[1]:void 0;return A==="error"&&(r||console).error(this.toString()),A==="warning"&&(r||console).warn(this.toString()),this}throw(A){throw this.print("error",A),this}};function rT(A,r){if(typeof A!="boolean")throw new _g(ea.INVALID_PARAMS,"Invalid ".concat(r,": The value is of the boolean type."))}function p_(A,r,o){if(!AQ(o).call(o,A))throw new _g(ea.INVALID_PARAMS,"".concat(r," can only be set as ").concat(JSON.stringify(o)))}function h0(A,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1e4;if(A<o||A>u||(!(arguments.length>4&&arguments[4]!==void 0)||arguments[4])&&!function(h){return typeof h=="number"&&h%1==0}(A))throw new _g(ea.INVALID_PARAMS,"invalid ".concat(r,": the value range is [").concat(o,", ").concat(u,"]. integer only"))}function q6(A,r){if(typeof A!="number"){if(!(A.min||A.max||A.ideal||A.exact))throw new _g(ea.INVALID_PARAMS,"".concat(r," is not a valid ConstrainLong"));A.min!==void 0&&h0(A.min,"".concat(r,".min"),0,1/0),A.max!==void 0&&h0(A.max,"".concat(r,".max"),1,1/0),A.exact!==void 0&&h0(A.exact,"".concat(r,".exact"),1,1/0),A.ideal!==void 0&&h0(A.ideal,"".concat(r,".ideal"),1,1/0)}else h0(A,r,1,1/0)}function W_(A,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:255,h=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(A==null)throw new _g(ea.INVALID_PARAMS,"".concat(r||"param"," cannot be empty"));if(!f9(A,o,u,h))throw new _g(ea.INVALID_PARAMS,"Invalid ".concat(r||"string param",": Length of the string: [").concat(o,",").concat(u,"].").concat(h?" ASCII characters only.":""))}function NN(A,r){if(!Array.isArray(A))throw new _g(ea.INVALID_PARAMS,"".concat(r," should be an array"))}function P0(A){return A==null}function f9(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:255,u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return typeof A=="string"&&A.length<=o&&A.length>=r&&(!u||function(h){if(typeof h!="string")return!1;for(let f=0;f<h.length;f+=1){const m=h.charCodeAt(f);if(m<0||m>255)return!1}return!0}(A))}function B9(A,r,o){if("getBigUint64"in DataView.prototype)return A.getBigUint64(r,o);const u=A.getUint32(r,o),h=A.getUint32(r+4,o),f=+!!o,m=+!o;return BigInt(u*m+h*f)<<BigInt(32)|BigInt(u*f+h*m)}function Q9(A,r,o,u){if("setBigUint64"in DataView.prototype)return A.setBigUint64(r,o,u);const h=Number(o>>BigInt(32)),f=Number(o&BigInt(4294967295));A.setUint32(r,h,u),A.setUint32(r+4,f,u)}var k1,AP;(function(A){A.COVERED="COVERED",A.POSITION="POSITION",A.SIZE="SIZE",A.STYLE="STYLE"})(k1||(k1={})),function(A){A.UNMOUNTED="UNMOUNTED",A.INVALID_HTML_ELEMENT="INVALID_HTML_ELEMENT"}(AP||(AP={}));const m9=new class{constructor(){j(this,"_clientSize",null),j(this,"getClientWidth",()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth),j(this,"getClientHeight",()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight),j(this,"getStyle",A=>window.getComputedStyle(A,null)),j(this,"checkCssVisibleProperty",A=>{var r;let o=!0;const u=this.getStyle(A),{display:h,visibility:f,opacity:m,filter:v}=u;return(h==="none"||AQ(r=["hidden","collapse"]).call(r,f)||Number(m)<.1)&&(o=!1),o?(v&&v.split(" ").filter(R=>{var D;const k=R.split("(")[0];return AQ(D=["brightness","blur","opacity"]).call(D,k)}).map(R=>{const[D,k]=R.split(/\(|\)/);return[D,Number(k.match(/^[0-9\.]+/))]}).forEach(R=>{const[D,k]=R;switch(D){case"brightness":(k<.1||k>3)&&(o=!1);break;case"blur":k>3&&(o=!1);break;case"opacity":k<.1&&(o=!1)}}),o):!1}),j(this,"checkPropertyUpToAllParentNodes",(A,r)=>{let o=!0,u=!0;const h=m=>r(m);let f=A;for(;f&&u;)h(f)||(o=!1,u=!1),f=f.parentElement,f||(u=!1);return o}),j(this,"checkActualCssVisibleIncludeInherit",A=>this.checkPropertyUpToAllParentNodes(A,this.checkCssVisibleProperty)),j(this,"getSizeAboutClient",A=>{const{width:r,height:o,left:u,right:h,top:f,bottom:m}=A.getBoundingClientRect(),v=this.getClientWidth(),R=this.getClientHeight();return{width:r,height:o,left:u,right:h,top:f,bottom:m,clientWidth:v,clientHeight:R,clientMin:Math.min(v,R)}}),j(this,"checkActualSize",()=>{const{width:A,height:r,clientMin:o}=this._clientSize;return this.checkSizeIsVisible(A,r,o)}),j(this,"elementFromPoint",(A,r)=>document.elementFromPoint?document.elementFromPoint(A,r):null),j(this,"checkCoverForAPoint",(A,r,o)=>{const u=this.elementFromPoint(A,r);return u!==null&&u!==o}),j(this,"getPointPositionList",()=>{const{width:A,height:r,left:o,top:u}=this._clientSize,h=A/6,f=r/6,m=[],v=10**6;for(let R=0;R<5;R++)for(let D=0;D<5;D++){const k=(o*v+(R===0?.1:R===4?(h*R*v-1e5)/v:h*R)*v)/v,L=(u*v+(D===0?.1:D===4?(f*D*v-1e5)/v:f*D)*v)/v;m.push({x:k,y:L})}return[...m]}),j(this,"checkElementCover",A=>this.getPointPositionList().map(r=>this.checkCoverForAPoint(r.x,r.y,A)).filter(r=>!!r).length>6),j(this,"checkSizeIsVisible",(A,r,o)=>(A>50||o/A<=10)&&(r>50||o/r<=10)),j(this,"checkSizeOfPartInClient",()=>{const{left:A,right:r,top:o,bottom:u,clientHeight:h,clientWidth:f,clientMin:m}=this._clientSize;let v,R,D,k;if(A<0)v=0;else{if(!(A<f))return!1;v=A}if(r<0)return!1;if(R=r<f?r:f,o<0)D=0;else{if(!(o<h))return!1;D=o}if(u<0)return!1;k=u<h?u:h;const L=R-v,q=k-D;return this.checkSizeIsVisible(L,q,m)}),j(this,"returnHiddenResult",A=>(this._clientSize=null,{visible:!1,reason:A})),j(this,"checkOneElementVisible",A=>{if(A instanceof HTMLElement){if(this.checkElementIsMountedOnDom(A)){if(this.checkActualCssVisibleIncludeInherit(A)){if(this._clientSize=this.getSizeAboutClient(A),this.checkElementCover(A))return this.returnHiddenResult(k1.COVERED);{const r=this.checkActualSize(),o=this.checkSizeOfPartInClient();return r&&!o?this.returnHiddenResult(k1.POSITION):r?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(k1.SIZE)}}return this.returnHiddenResult(k1.STYLE)}return this.returnHiddenResult(AP.UNMOUNTED)}return this.returnHiddenResult(AP.INVALID_HTML_ELEMENT)}),j(this,"checkElementIsMountedOnDom",A=>this.checkPropertyUpToAllParentNodes(A,r=>r.nodeName.toUpperCase()!=="HTML"?r.parentElement!==null:!!document.documentElement))}};function W6(A){return new TextEncoder().encode(A)}const y9=function(A,r){const o=new Uint8Array(A.byteLength+r.byteLength);return o.set(new Uint8Array(A),0),o.set(new Uint8Array(r),A.byteLength),o},Kse=async A=>{const r=function(f){const m=window.atob(f),v=new Uint8Array(new ArrayBuffer(m.length));for(let R=0;R<m.length;R+=1)v[R]=m.charCodeAt(R);return v}(`MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu
STM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+
HvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy
xQiYDz3vqa6bP29adwIDAQAB`),o=await window.crypto.subtle.importKey("spki",r,{name:"RSA-OAEP",hash:"SHA-256"},!0,["encrypt"]),u=W6(A),h=await window.crypto.subtle.encrypt({name:"RSA-OAEP"},o,u);return function(f){let m="";for(let v=0;v<f.length;v+=1)m+=String.fromCharCode(f[v]);return window.btoa(m)}(new Uint8Array(h))},X6=async A=>function(r,o){let u="";return new Uint8Array(r).forEach(h=>{u+=h.toString(o).padStart(2,"0")}),u}(await crypto.subtle.digest("SHA-256",W6(A)),16);class x0{constructor(){j(this,"_events",{}),j(this,"addListener",this.on)}getListeners(r){return this._events[r]?this._events[r].map(o=>o.listener):[]}on(r,o){this._events[r]||(this._events[r]=[]);const u=this._events[r];this._indexOfListener(u,o)===-1&&u.push({listener:o,once:!1})}once(r,o){this._events[r]||(this._events[r]=[]);const u=this._events[r];this._indexOfListener(u,o)===-1&&u.push({listener:o,once:!0})}off(r,o){if(!this._events[r])return;const u=this._events[r],h=this._indexOfListener(u,o);h!==-1&&u.splice(h,1),this._events[r].length===0&&delete this._events[r]}removeAllListeners(r){r?delete this._events[r]:this._events={}}emit(r){this._events[r]||(this._events[r]=[]);const o=this._events[r].map(m=>m);for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];for(let m=0;m<o.length;m+=1){const v=o[m];v.once&&this.off(r,v.listener),v.listener.apply(this,h||[])}}safeEmit(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),h=1;h<o;h++)u[h-1]=arguments[h];[...this._events[r]||[]].forEach(f=>{f.once&&this.off(r,f.listener);try{f.listener.apply(this,u)}catch(m){console.error("safeEmit event:".concat(r," error ").concat(m==null?void 0:m.toString()))}})}_indexOfListener(r,o){let u=r.length;for(;u--;)if(r[u].listener===o)return u;return-1}}let LO=null;function _9(){if(LO)return LO;if(window.electron)return LO=window.electron;if(!window.require)return null;try{return LO=window.require("electron"),LO}catch{return null}}var l_,G0,z6,zQ,ZQ,D_,lS,TN;function v9(A){return h0(A.timeout,"config.timeout",0,1e5),h0(A.timeoutFactor,"config.timeoutFactor",0,100,!1),h0(A.maxRetryCount,"config.maxRetryConfig",0,1/0),h0(A.maxRetryTimeout,"config.maxRetryTimeout",0,1/0),!0}function O1(A){if(!Array.isArray(A)||A.length<1)return!1;try{A.forEach(r=>{if(!r.urls)throw Error()})}catch{return!1}return!0}function S9(A){return W_(A.turnServerURL,"turnServerURL"),W_(A.username,"username"),W_(A.password,"password"),A.udpport&&h0(A.udpport,"udpport",1,99999,!0),A.forceturn&&rT(A.forceturn,"forceturn"),A.security&&rT(A.security,"security"),A.tcpport&&h0(A.tcpport,"tcpport",1,99999,!0),!0}function R9(A){return A.level!==void 0&&p_(A.level,"level",[1,2,3]),A.delay!==void 0&&h0(A.delay,"delay",0,3e3,!0),!0}function o_(A,r){for(var o=arguments.length,u=new Array(o>2?o-2:0),h=2;h<o;h++)u[h-2]=arguments[h];return A.getListeners(r).length===0?lc.reject(new _g(ea.UNEXPECTED_ERROR,"can not emit promise")):new lc((f,m)=>{A.emit(r,...u,f,m)})}function m0(A,r){if(A.getListeners(r).length===0)return lc.resolve();for(var o=arguments.length,u=new Array(o>2?o-2:0),h=2;h<o;h++)u[h-2]=arguments[h];return o_(A,r,...u)}function FS(A,r){if(A.getListeners(r).length===0)return null;for(var o=arguments.length,u=new Array(o>2?o-2:0),h=2;h<o;h++)u[h-2]=arguments[h];return KT(A,r,...u)}function KT(A,r){let o=null,u=null;for(var h=arguments.length,f=new Array(h>2?h-2:0),m=2;m<h;m++)f[m-2]=arguments[m];if(A.emit(r,...f,v=>{o=v},v=>{u=v}),u!==null)throw u;if(o===null)throw new _g(ea.UNEXPECTED_ERROR,"handler is not sync");return o}(function(A){A.CREATE_CLIENT="createClient",A.CHECK_SYSTEM_REQUIREMENTS="checkSystemRequirements",A.SET_AREA="setArea",A.CHECK_VIDEO_TRACK_IS_ACTIVE="checkVideoTrackIsActive",A.CHECK_AUDIO_TRACK_IS_ACTIVE="checkAudioTrackIsActive",A.CREATE_MIC_AUDIO_TRACK="createMicrophoneAudioTrack",A.CREATE_CUSTOM_AUDIO_TRACK="createCustomAudioTrack",A.CREATE_BUFFER_AUDIO_TRACK="createBufferSourceAudioTrack",A.CREATE_CAM_VIDEO_TRACK="createCameraVideoTrack",A.CREATE_CUSTOM_VIDEO_TRACK="createCustomVideoTrack",A.CREATE_MIC_AND_CAM_TRACKS="createMicrophoneAndCameraTracks",A.CREATE_SCREEN_VIDEO_TRACK="createScreenVideoTrack",A.SET_ENCRYPTION_CONFIG="Client.setEncryptionConfig",A.START_PROXY_SERVER="Client.startProxyServer",A.STOP_PROXY_SERVER="Client.stopProxyServer",A.SET_PROXY_SERVER="Client.setProxyServer",A.SET_TURN_SERVER="Client.setTurnServer",A.SET_CLIENT_ROLE="Client.setClientRole",A.SET_LOW_STREAM_PARAMETER="Client.setLowStreamParameter",A.ENABLE_DUAL_STREAM="Client.enableDualStream",A.DISABLE_DUAL_STREAM="Client.disableDualStream",A.JOIN="Client.join",A.LEAVE="Client.leave",A.PUBLISH="Client.publish",A.UNPUBLISH="Client.unpublish",A.SUBSCRIBE="Client.subscribe",A.MASS_SUBSCRIBE="Client.massSubscribe",A.MASS_UNSUBSCRIBE="Client.massUnsubscribe",A.UNSUBSCRIBE="Client.unsubscribe",A.RENEW_TOKEN="Client.renewToken",A.SET_REMOTE_VIDEO_STREAM_TYPE="Client.setRemoteVideoStreamType",A.SET_STREAM_FALLBACK_OPTION="Client.setStreamFallbackOption",A.ENABLE_AUDIO_VOLUME_INDICATOR="Client.enableAudioVolumeIndicator",A.SEND_CUSTOM_REPORT_MESSAGE="Client.sendCustomReportMessage",A.INSPECT_VIDEO_CONTENT="Client.inspectVideoContent",A.STOP_INSPECT_VIDEO_CONTENT="Client.stopInspectVideoContent",A.JOIN_FALLBACK_TO_PROXY="Client._joinFallbackToProxy",A.DATACHANNEL_FAILBACK="Client._datachannelFailback",A.ON_LIVE_STREAM_WARNING="Client.onLiveStreamWarning",A.ON_LIVE_STREAM_ERROR="Client.onLiveStreamingError",A.START_LIVE_STREAMING="Client.startLiveStreaming",A.SET_LIVE_TRANSCODING="Client.setLiveTranscoding",A.STOP_LIVE_STREAMING="Client.stopLiveStreaming",A.ADD_INJECT_STREAM_URL="Client.addInjectStreamUrl",A.REMOVE_INJECT_STREAM_URL="Client.removeInjectStreamUrl",A.START_CHANNEL_MEDIA_RELAY="Client.startChannelMediaRelay",A.UPDATE_CHANNEL_MEDIA_RELAY="Client.updateChannelMediaRelay",A.STOP_CHANNEL_MEDIA_RELAY="Client.stopChannelMediaRelay",A.REQUEST_CONFIG_DISTRIBUTE="_config-distribute-request",A.SET_CONFIG_DISTRIBUTE="_configDistribute",A.LOCAL_TRACK_SET_MUTED="LocalTrack.setMute",A.LOCAL_AUDIO_TRACK_PLAY="LocalAudioTrack.play",A.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT="LocalAudioTrack.playInElement",A.LOCAL_AUDIO_TRACK_STOP="LocalAudioTrack.stop",A.LOCAL_AUDIO_TRACK_SET_VOLUME="LocalAudioTrack.setVolume",A.MIC_AUDIO_TRACK_SET_DEVICE="MicrophoneAudioTrack.setDevice",A.BUFFER_AUDIO_TRACK_START="BufferSourceAudioTrack.startProcessAudioBuffer",A.BUFFER_AUDIO_TRACK_STOP="BufferSourceAudioTrack.stopProcessAudioBuffer",A.BUFFER_AUDIO_TRACK_PAUSE="BufferSourceAudioTrack.pauseProcessAudioBuffer",A.BUFFER_AUDIO_TRACK_RESUME="BufferSourceAudioTrack.resumeProcessAudioBuffer",A.BUFFER_AUDIO_TRACK_SEEK="BufferSourceAudioTrack.seekAudioBuffer",A.LOCAL_VIDEO_TRACK_PLAY="LocalVideoTrack.play",A.LOCAL_VIDEO_TRACK_STOP="LocalVideoTrack.stop",A.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE="LocalVideoTrack.getVideoElementVisibleStatus",A.LOCAL_VIDEO_TRACK_BEAUTY="LocalVideoTrack.setBeautyEffect",A.CAM_VIDEO_TRACK_SET_DEVICE="CameraVideoTrack.setDevice",A.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG="CameraVideoTrack.setEncoderConfiguration",A.REMOTE_VIDEO_TRACK_PLAY="RemoteVideoTrack.play",A.REMOTE_VIDEO_TRACK_STOP="RemoteVideoTrack.stop",A.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE="RemoteVideoTrack.getVideoElementVisibleStatus",A.REMOTE_AUDIO_TRACK_PLAY="RemoteAudioTrack.play",A.REMOTE_AUDIO_TRACK_STOP="RemoteAudioTrack.stop",A.REMOTE_AUDIO_SET_VOLUME="RemoteAudioTrack.setVolume",A.REMOTE_AUDIO_SET_OUTPUT_DEVICE="RemoteAudioTrack.setOutputDevice",A.GET_MEDIA_STREAM_TRACK="Track.getMediaStreamTrack",A.STREAM_TYPE_CHANGE="streamTypeChange",A.CONNECTION_STATE_CHANGE="connectionStateChange",A.LOAD_CONFIG_FROM_LOCALSTORAGE="loadConfigFromLocalStorage",A.IMAGE_MODERATION_UPLOAD="imageModerationUpload"})(l_||(l_={})),function(A){A.TRACER="tracer"}(G0||(G0={})),function(A){A[A.AUDIENCE_LEVEL_LOW_LATENCY=1]="AUDIENCE_LEVEL_LOW_LATENCY",A[A.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]="AUDIENCE_LEVEL_ULTRA_LOW_LATENCY",A[A.AUDIENCE_LEVEL_SYNC_LATENCY=3]="AUDIENCE_LEVEL_SYNC_LATENCY"}(z6||(z6={})),function(A){A.LEAVE="LEAVE",A.NETWORK_ERROR="NETWORK_ERROR",A.SERVER_ERROR="SERVER_ERROR",A.UID_BANNED="UID_BANNED",A.IP_BANNED="IP_BANNED",A.CHANNEL_BANNED="CHANNEL_BANNED",A.FALLBACK="FALLBACK",A.LICENSE_MISSING="LICENSE_MISSING",A.LICENSE_EXPIRED="LICENSE_EXPIRED",A.LICENSE_MINUTES_EXCEEDED="LICENSE_MINUTES_EXCEEDED",A.LICENSE_PERIOD_INVALID="LICENSE_PERIOD_INVALID",A.LICENSE_MULTIPLE_SDK_SERVICE="LICENSE_MULTIPLE_SDK_SERVICE",A.LICENSE_ILLEGAL="LICENSE_ILLEGAL",A.TOKEN_EXPIRE="TOKEN_EXPIRE"}(zQ||(zQ={})),function(A){A.CONNECTION_STATE_CHANGE="connection-state-change",A.MEDIA_RECONNECT_START="media-reconnect-start",A.MEDIA_RECONNECT_END="media-reconnect-end",A.IS_USING_CLOUD_PROXY="is-using-cloud-proxy",A.USER_JOINED="user-joined",A.USER_LEAVED="user-left",A.USER_PUBLISHED="user-published",A.USER_UNPUBLISHED="user-unpublished",A.USER_INFO_UPDATED="user-info-updated",A.CLIENT_BANNED="client-banned",A.CHANNEL_MEDIA_RELAY_STATE="channel-media-relay-state",A.CHANNEL_MEDIA_RELAY_EVENT="channel-media-relay-event",A.VOLUME_INDICATOR="volume-indicator",A.CRYPT_ERROR="crypt-error",A.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="token-privilege-will-expire",A.ON_TOKEN_PRIVILEGE_DID_EXPIRE="token-privilege-did-expire",A.NETWORK_QUALITY="network-quality",A.STREAM_TYPE_CHANGED="stream-type-changed",A.STREAM_FALLBACK="stream-fallback",A.RECEIVE_METADATA="receive-metadata",A.STREAM_MESSAGE="stream-message",A.LIVE_STREAMING_ERROR="live-streaming-error",A.LIVE_STREAMING_WARNING="live-streaming-warning",A.INJECT_STREAM_STATUS="stream-inject-status",A.EXCEPTION="exception",A.ERROR="error",A.P2P_LOST="p2p_lost",A.JOIN_FALLBACK_TO_PROXY="join-fallback-to-proxy",A.CHANNEL_FALLBACK_TO_WEBSOCKET="channel-fallback-to-websocket",A.MEDIA_CONNECTION_TYPE_CHANGE="media-connection-type-change",A.PUBLISHED_USER_LIST="published-user-list",A.CONTENT_INSPECT_CONNECTION_STATE_CHANGE="content-inspect-connection-state-change",A.CONTENT_INSPECT_ERROR="content-inspect-error",A.CONTENT_INSPECT_RESULT="content-inspect-result",A.IMAGE_MODERATION_CONNECTION_STATE_CHANGE="image-moderation-connection-state-change"}(ZQ||(ZQ={})),function(A){A.NETWORK_ERROR="NETWORK_ERROR",A.SERVER_ERROR="SERVER_ERROR",A.MULTI_IP="MULTI_IP",A.TIMEOUT="TIMEOUT",A.OFFLINE="OFFLINE",A.LEAVE="LEAVE",A.P2P_FAILED="P2P_FAILED",A.FALLBACK="FALLBACK"}(D_||(D_={})),function(A){A.ONLINE="ONLINE",A.OFFLINE="OFFLINE"}(lS||(lS={})),function(A){A.NETWORK_STATE_CHANGE="NETWORK_STATE_CHANGE",A.ONLINE="ONLINE",A.OFFLINE="OFFLINE"}(TN||(TN={}));const A_=new class extends x0{set networkState(A){this.emit(TN.NETWORK_STATE_CHANGE,A,this._networkState),A===lS.ONLINE?this.emit(TN.ONLINE):A===lS.OFFLINE&&(this.onlineWaiter=new lc(r=>{this.once(TN.ONLINE,()=>{this.onlineWaiter=void 0,r(lS.ONLINE)})}),this.emit(TN.OFFLINE)),this._networkState=A}get networkState(){return this._networkState}get isOnline(){return this._networkState===lS.ONLINE}constructor(){super(),j(this,"_moduleName","network-indicator"),j(this,"_networkState",lS.ONLINE),j(this,"onlineWaiter",void 0),window.addEventListener("online",()=>{this.networkState=lS.ONLINE}),window.addEventListener("offline",()=>{this.networkState=lS.OFFLINE})}};function w9(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function jT(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?w9(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):w9(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function sP(A,r){const o=A.indexOf(r);o!==-1&&A.splice(o,1)}function L1(A){const r=[];return A.forEach(o=>{r.indexOf(o)===-1&&r.push(o)}),r}function aP(A){lc!==void 0?lc.resolve().then(A):setTimeout(A,0)}function S0(A){return JSON.parse(JSON.stringify(A))}function HT(A){try{return S0(A)}catch{return A}}const b9={};function MO(A,r){b9[r]||(b9[r]=!0,A())}function cP(A){const r=window.atob(A),o=new Uint8Array(new ArrayBuffer(r.length));for(let u=0;u<r.length;u+=1)o[u]=r.charCodeAt(u);return o}function M1(A){let r="";for(let o=0;o<A.length;o+=1)r+=String.fromCharCode(A[o]);return window.btoa(r)}function rN(A){return window.TextEncoder?new TextEncoder().encode(A).length:A.length}function D9(A){let r=0;return/DingTalk/i.test(navigator.userAgent)&&A.realFormData&&(A=A.realFormData),A.forEach(o=>{r+=typeof o=="string"?rN(o):o.size}),r+138}function jse(A){const r=new _g(ea.TIMEOUT,"timeout");return new lc((o,u)=>{window.setTimeout(()=>u(r),A)})}function N_(A){return new lc(r=>{window.setTimeout(r,A)})}function y0(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:7,r=arguments.length>1?arguments[1]:void 0;const o=Math.random().toString(16).substr(2,A).toLowerCase();return o.length===A?"".concat(r).concat(o):"".concat(r).concat(o)+y0(A-o.length,"")}function Z6(){return y0(32,"").toUpperCase()}const uP=()=>{},N9=new class{constructor(){j(this,"fnMap",new Map)}throttleByKey(A,r,o,u){for(var h=arguments.length,f=new Array(h>4?h-4:0),m=4;m<h;m++)f[m-4]=arguments[m];if(this.fnMap.has(r)){const v=this.fnMap.get(r);if(v.threshold!==o){v.fn(...v.args),clearTimeout(v.timer);const R=window.setTimeout(()=>{const D=this.fnMap.get(r);D&&D.fn(...D.args),this.fnMap.delete(r)},o);this.fnMap.set(r,{fn:A,threshold:o,timer:R,args:f,skipFn:u})}else v.skipFn&&v.skipFn(...v.args),this.fnMap.set(r,jT(jT({},v),{},{fn:A,args:f,skipFn:u}))}else{const v=window.setTimeout(()=>{const R=this.fnMap.get(r);R&&R.fn(...R.args),this.fnMap.delete(r)},o);this.fnMap.set(r,{fn:A,threshold:o,timer:v,args:f,skipFn:u})}}},T9=N9.throttleByKey.bind(N9);function k9(A){return typeof A=="object"&&A!==null&&!(A instanceof RegExp)}function $6(A,r){if(!k9(A)||!k9(r)||Array.isArray(A)&&!Array.isArray(r)||!Array.isArray(A)&&Array.isArray(r))return r;if(Array.isArray(r)&&Array.isArray(A)){const o=[...A];for(let u=0;u<r.length;u++)o[u]=$6(A[u],r[u]);return o}{const o=jT({},A);for(const u in r)Object.prototype.hasOwnProperty.call(r,u)&&(Object.prototype.hasOwnProperty.call(A,u)?o[u]=$6(A[u],r[u]):o[u]=r[u]);return o}}let Hse=1,gP=console;class T_{static setLogger(r){gP=r}constructor(r){j(this,"lockingPromise",lc.resolve()),j(this,"locks",0),j(this,"name",""),j(this,"lockId",void 0),this.lockId=Hse++,r&&(this.name=r),gP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is created."))}get isLocked(){return this.locks>0}lock(r){let o;this.locks+=1,gP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is locked, current queue ").concat(this.locks,". ").concat(typeof r=="string"?r:""));const u=new lc(f=>{o=()=>{this.locks-=1,gP.debug("[lock-".concat(this.name,"-").concat(this.lockId,"] is not locked, current queue ").concat(this.locks,". ").concat(typeof r=="string"?r:"")),f()}}),h=this.lockingPromise.then(()=>o);return this.lockingPromise=this.lockingPromise.then(()=>u),h}}function x1(A,r){return function(o,u,h){const f=h.value;if(typeof f!="function")throw new Error("Cannot use mutex on object property.");return h.value=async function(){const m=this[r];if(!m)throw new Error("mutex property key ".concat(r," doesn't exist on ").concat(A));const v=await m.lock("From ".concat(A,".").concat(u));try{for(var R=arguments.length,D=new Array(R),k=0;k<R;k++)D[k]=arguments[k];return await f.apply(this,D)}finally{v()}},h}}const s_={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function lP(A,r){const o=Math.floor(r.timeout*Math.pow(r.timeoutFactor,A));return Math.min(r.maxRetryTimeout,o)}function XR(A,r,o,u){const h=Object.assign({},s_,u);let f=h.timeout;const m=async()=>{await function(D){return new lc(k=>{window.setTimeout(k,D)})}(f),f*=h.timeoutFactor,f=Math.min(h.maxRetryTimeout,f)};let v=!1;const R=new lc(async(D,k)=>{r=r||(()=>!1),o=o||(()=>!0);for(let L=0;L<h.maxRetryCount;L+=1){if(v)return k(new _g(ea.OPERATION_ABORTED));try{const q=await A();if(!r(q,L)||L+1===h.maxRetryCount)return D(q);await m()}catch(q){if(!o(q,L)||L+1===h.maxRetryCount)return k(q);await m()}}});return R.cancel=()=>v=!0,R}var Yse=B0,Jse=C0,Vse=_B,qse=OT,Wse=TypeError,O9=function(A){return function(r,o,u,h){Yse(o);var f=Jse(r),m=Vse(f),v=qse(f),R=A?v-1:0,D=A?-1:1;if(u<2)for(;;){if(R in m){h=m[R],R+=D;break}if(R+=D,A?R<0:v<=R)throw Wse("Reduce of empty array with no initial value")}for(;A?R>=0:v>R;R+=D)R in m&&(h=o(h,m[R],R,f));return h}},Xse={left:O9(!1),right:O9(!0)}.left;V0({target:"Array",proto:!0,forced:!SO&&F0>79&&F0<83||!d6("reduce")},{reduce:function(A){var r=arguments.length;return Xse(this,A,r,r>1?arguments[1]:void 0)}});var zse=zN("Array").reduce,Zse=_,$se=zse,e8=Array.prototype,YT=s(function(A){var r=A.reduce;return A===e8||Zse(e8,A)&&r===e8.reduce?$se:r});let t8=class{constructor(A){j(this,"input",[]),j(this,"size",void 0),this.size=A}add(A){this.input.push(A),this.input.length>this.size&&this.input.splice(0,1)}mean(){var A;return this.input.length===0?0:YT(A=this.input).call(A,(r,o)=>r+o)/this.input.length}};var n8,r8={exports:{}},L9=function(A,r){return function(){for(var o=new Array(arguments.length),u=0;u<o.length;u++)o[u]=arguments[u];return A.apply(r,o)}},eae=L9,i8=Object.prototype.toString,o8=(n8=Object.create(null),function(A){var r=i8.call(A);return n8[r]||(n8[r]=r.slice(8,-1).toLowerCase())});function JT(A){return A=A.toLowerCase(),function(r){return o8(r)===A}}function A8(A){return Array.isArray(A)}function dP(A){return A===void 0}var M9=JT("ArrayBuffer");function x9(A){return A!==null&&typeof A=="object"}function EP(A){if(o8(A)!=="object")return!1;var r=Object.getPrototypeOf(A);return r===null||r===Object.prototype}var tae=JT("Date"),nae=JT("File"),rae=JT("Blob"),iae=JT("FileList");function s8(A){return i8.call(A)==="[object Function]"}var oae=JT("URLSearchParams");function a8(A,r){if(A!=null)if(typeof A!="object"&&(A=[A]),A8(A))for(var o=0,u=A.length;o<u;o++)r.call(null,A[o],o,A);else for(var h in A)Object.prototype.hasOwnProperty.call(A,h)&&r.call(null,A[h],h,A)}var c8,Aae=(c8=typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array),function(A){return c8&&A instanceof c8}),mS={isArray:A8,isArrayBuffer:M9,isBuffer:function(A){return A!==null&&!dP(A)&&A.constructor!==null&&!dP(A.constructor)&&typeof A.constructor.isBuffer=="function"&&A.constructor.isBuffer(A)},isFormData:function(A){var r="[object FormData]";return A&&(typeof FormData=="function"&&A instanceof FormData||i8.call(A)===r||s8(A.toString)&&A.toString()===r)},isArrayBufferView:function(A){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(A):A&&A.buffer&&M9(A.buffer)},isString:function(A){return typeof A=="string"},isNumber:function(A){return typeof A=="number"},isObject:x9,isPlainObject:EP,isUndefined:dP,isDate:tae,isFile:nae,isBlob:rae,isFunction:s8,isStream:function(A){return x9(A)&&s8(A.pipe)},isURLSearchParams:oae,isStandardBrowserEnv:function(){return(typeof navigator>"u"||navigator.product!=="ReactNative"&&navigator.product!=="NativeScript"&&navigator.product!=="NS")&&typeof window<"u"&&typeof document<"u"},forEach:a8,merge:function A(){var r={};function o(f,m){EP(r[m])&&EP(f)?r[m]=A(r[m],f):EP(f)?r[m]=A({},f):A8(f)?r[m]=f.slice():r[m]=f}for(var u=0,h=arguments.length;u<h;u++)a8(arguments[u],o);return r},extend:function(A,r,o){return a8(r,function(u,h){A[h]=o&&typeof u=="function"?eae(u,o):u}),A},trim:function(A){return A.trim?A.trim():A.replace(/^\s+|\s+$/g,"")},stripBOM:function(A){return A.charCodeAt(0)===65279&&(A=A.slice(1)),A},inherits:function(A,r,o,u){A.prototype=Object.create(r.prototype,u),A.prototype.constructor=A,o&&Object.assign(A.prototype,o)},toFlatObject:function(A,r,o){var u,h,f,m={};r=r||{};do{for(h=(u=Object.getOwnPropertyNames(A)).length;h-- >0;)m[f=u[h]]||(r[f]=A[f],m[f]=!0);A=Object.getPrototypeOf(A)}while(A&&(!o||o(A,r))&&A!==Object.prototype);return r},kindOf:o8,kindOfTest:JT,endsWith:function(A,r,o){A=String(A),(o===void 0||o>A.length)&&(o=A.length),o-=r.length;var u=A.indexOf(r,o);return u!==-1&&u===o},toArray:function(A){if(!A)return null;var r=A.length;if(dP(r))return null;for(var o=new Array(r);r-- >0;)o[r]=A[r];return o},isTypedArray:Aae,isFileList:iae},U1=mS;function U9(A){return encodeURIComponent(A).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var P9=function(A,r,o){if(!r)return A;var u;if(o)u=o(r);else if(U1.isURLSearchParams(r))u=r.toString();else{var h=[];U1.forEach(r,function(m,v){m!=null&&(U1.isArray(m)?v+="[]":m=[m],U1.forEach(m,function(R){U1.isDate(R)?R=R.toISOString():U1.isObject(R)&&(R=JSON.stringify(R)),h.push(U9(v)+"="+U9(R))}))}),u=h.join("&")}if(u){var f=A.indexOf("#");f!==-1&&(A=A.slice(0,f)),A+=(A.indexOf("?")===-1?"?":"&")+u}return A},sae=mS;function IP(){this.handlers=[]}IP.prototype.use=function(A,r,o){return this.handlers.push({fulfilled:A,rejected:r,synchronous:!!o&&o.synchronous,runWhen:o?o.runWhen:null}),this.handlers.length-1},IP.prototype.eject=function(A){this.handlers[A]&&(this.handlers[A]=null)},IP.prototype.forEach=function(A){sae.forEach(this.handlers,function(r){r!==null&&A(r)})};var G9,F9,aae=IP,cae=mS;function P1(){if(F9)return G9;F9=1;var A=mS;function r(h,f,m,v,R){Error.call(this),this.message=h,this.name="AxiosError",f&&(this.code=f),m&&(this.config=m),v&&(this.request=v),R&&(this.response=R)}A.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=r.prototype,u={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(h){u[h]={value:h}}),Object.defineProperties(r,u),Object.defineProperty(o,"isAxiosError",{value:!0}),r.from=function(h,f,m,v,R,D){var k=Object.create(o);return A.toFlatObject(h,k,function(L){return L!==Error.prototype}),r.call(k,h.message,f,m,v,R),k.name=h.name,D&&Object.assign(k,D),k},G9=r}var u8,K9,j9,H9,g8,Y9,J9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function V9(){if(K9)return u8;K9=1;var A=mS;return u8=function(r,o){o=o||new FormData;var u=[];function h(f){return f===null?"":A.isDate(f)?f.toISOString():A.isArrayBuffer(f)||A.isTypedArray(f)?typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}return function f(m,v){if(A.isPlainObject(m)||A.isArray(m)){if(u.indexOf(m)!==-1)throw Error("Circular reference detected in "+v);u.push(m),A.forEach(m,function(R,D){if(!A.isUndefined(R)){var k,L=v?v+"."+D:D;if(R&&!v&&typeof R=="object"){if(A.endsWith(D,"{}"))R=JSON.stringify(R);else if(A.endsWith(D,"[]")&&(k=A.toArray(R)))return void k.forEach(function(q){!A.isUndefined(q)&&o.append(L,h(q))})}f(R,L)}}),u.pop()}else o.append(v,h(m))}(r),o},u8}function uae(){if(H9)return j9;H9=1;var A=P1();return j9=function(r,o,u){var h=u.config.validateStatus;u.status&&h&&!h(u.status)?o(new A("Request failed with status code "+u.status,[A.ERR_BAD_REQUEST,A.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u)):r(u)}}function gae(){if(Y9)return g8;Y9=1;var A=mS;return g8=A.isStandardBrowserEnv()?{write:function(r,o,u,h,f,m){var v=[];v.push(r+"="+encodeURIComponent(o)),A.isNumber(u)&&v.push("expires="+new Date(u).toGMTString()),A.isString(h)&&v.push("path="+h),A.isString(f)&&v.push("domain="+f),m===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(r){var o=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},g8}var l8,q9,W9,X9,z9,Z9,$9,eW,d8,tW,nW,rW,lae=function(A){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(A)},dae=function(A,r){return r?A.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):A},iW=function(A,r){return A&&!lae(r)?dae(A,r):r};function Eae(){if(q9)return l8;q9=1;var A=mS,r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return l8=function(o){var u,h,f,m={};return o&&A.forEach(o.split(`
`),function(v){if(f=v.indexOf(":"),u=A.trim(v.substr(0,f)).toLowerCase(),h=A.trim(v.substr(f+1)),u){if(m[u]&&r.indexOf(u)>=0)return;m[u]=u==="set-cookie"?(m[u]?m[u]:[]).concat([h]):m[u]?m[u]+", "+h:h}}),m},l8}function Iae(){if(X9)return W9;X9=1;var A=mS;return W9=A.isStandardBrowserEnv()?function(){var r,o=/(msie|trident)/i.test(navigator.userAgent),u=document.createElement("a");function h(f){var m=f;return o&&(u.setAttribute("href",m),m=u.href),u.setAttribute("href",m),{href:u.href,protocol:u.protocol?u.protocol.replace(/:$/,""):"",host:u.host,search:u.search?u.search.replace(/^\?/,""):"",hash:u.hash?u.hash.replace(/^#/,""):"",hostname:u.hostname,port:u.port,pathname:u.pathname.charAt(0)==="/"?u.pathname:"/"+u.pathname}}return r=h(window.location.href),function(f){var m=A.isString(f)?h(f):f;return m.protocol===r.protocol&&m.host===r.host}}():function(){return!0}}function CP(){if(Z9)return z9;Z9=1;var A=P1();function r(o){A.call(this,o??"canceled",A.ERR_CANCELED),this.name="CanceledError"}return mS.inherits(r,A,{__CANCEL__:!0}),z9=r}function Cae(){return eW||(eW=1,$9=function(A){var r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(A);return r&&r[1]||""}),$9}function hae(){if(tW)return d8;tW=1;var A=mS,r=uae(),o=gae(),u=P9,h=iW,f=Eae(),m=Iae(),v=J9,R=P1(),D=CP(),k=Cae();return d8=function(L){return new Promise(function(q,z){var _s,_n=L.data,_i=L.headers,Aa=L.responseType;function Ea(){L.cancelToken&&L.cancelToken.unsubscribe(_s),L.signal&&L.signal.removeEventListener("abort",_s)}A.isFormData(_n)&&A.isStandardBrowserEnv()&&delete _i["Content-Type"];var Qa=new XMLHttpRequest;if(L.auth){var Vc=L.auth.username||"",Fa=L.auth.password?unescape(encodeURIComponent(L.auth.password)):"";_i.Authorization="Basic "+btoa(Vc+":"+Fa)}var Va=h(L.baseURL,L.url);function _c(){if(Qa){var _h="getAllResponseHeaders"in Qa?f(Qa.getAllResponseHeaders()):null,RQ={data:Aa&&Aa!=="text"&&Aa!=="json"?Qa.response:Qa.responseText,status:Qa.status,statusText:Qa.statusText,headers:_h,config:L,request:Qa};r(function(jQ){q(jQ),Ea()},function(jQ){z(jQ),Ea()},RQ),Qa=null}}if(Qa.open(L.method.toUpperCase(),u(Va,L.params,L.paramsSerializer),!0),Qa.timeout=L.timeout,"onloadend"in Qa?Qa.onloadend=_c:Qa.onreadystatechange=function(){Qa&&Qa.readyState===4&&(Qa.status!==0||Qa.responseURL&&Qa.responseURL.indexOf("file:")===0)&&setTimeout(_c)},Qa.onabort=function(){Qa&&(z(new R("Request aborted",R.ECONNABORTED,L,Qa)),Qa=null)},Qa.onerror=function(){z(new R("Network Error",R.ERR_NETWORK,L,Qa,Qa)),Qa=null},Qa.ontimeout=function(){var _h=L.timeout?"timeout of "+L.timeout+"ms exceeded":"timeout exceeded",RQ=L.transitional||v;L.timeoutErrorMessage&&(_h=L.timeoutErrorMessage),z(new R(_h,RQ.clarifyTimeoutError?R.ETIMEDOUT:R.ECONNABORTED,L,Qa)),Qa=null},A.isStandardBrowserEnv()){var ec=(L.withCredentials||m(Va))&&L.xsrfCookieName?o.read(L.xsrfCookieName):void 0;ec&&(_i[L.xsrfHeaderName]=ec)}"setRequestHeader"in Qa&&A.forEach(_i,function(_h,RQ){_n===void 0&&RQ.toLowerCase()==="content-type"?delete _i[RQ]:Qa.setRequestHeader(RQ,_h)}),A.isUndefined(L.withCredentials)||(Qa.withCredentials=!!L.withCredentials),Aa&&Aa!=="json"&&(Qa.responseType=L.responseType),typeof L.onDownloadProgress=="function"&&Qa.addEventListener("progress",L.onDownloadProgress),typeof L.onUploadProgress=="function"&&Qa.upload&&Qa.upload.addEventListener("progress",L.onUploadProgress),(L.cancelToken||L.signal)&&(_s=function(_h){Qa&&(z(!_h||_h&&_h.type?new D:_h),Qa.abort(),Qa=null)},L.cancelToken&&L.cancelToken.subscribe(_s),L.signal&&(L.signal.aborted?_s():L.signal.addEventListener("abort",_s))),_n||(_n=null);var kd=k(Va);kd&&["http","https","file"].indexOf(kd)===-1?z(new R("Unsupported protocol "+kd+":",R.ERR_BAD_REQUEST,L)):Qa.send(_n)})},d8}var CS=mS,oW=function(A,r){cae.forEach(A,function(o,u){u!==r&&u.toUpperCase()===r.toUpperCase()&&(A[r]=o,delete A[u])})},AW=P1(),pae=J9,fae=V9(),Bae={"Content-Type":"application/x-www-form-urlencoded"};function sW(A,r){!CS.isUndefined(A)&&CS.isUndefined(A["Content-Type"])&&(A["Content-Type"]=r)}var aW,hP={transitional:pae,adapter:((typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(aW=hae()),aW),transformRequest:[function(A,r){if(oW(r,"Accept"),oW(r,"Content-Type"),CS.isFormData(A)||CS.isArrayBuffer(A)||CS.isBuffer(A)||CS.isStream(A)||CS.isFile(A)||CS.isBlob(A))return A;if(CS.isArrayBufferView(A))return A.buffer;if(CS.isURLSearchParams(A))return sW(r,"application/x-www-form-urlencoded;charset=utf-8"),A.toString();var o,u=CS.isObject(A),h=r&&r["Content-Type"];if((o=CS.isFileList(A))||u&&h==="multipart/form-data"){var f=this.env&&this.env.FormData;return fae(o?{"files[]":A}:A,f&&new f)}return u||h==="application/json"?(sW(r,"application/json"),function(m,v,R){if(CS.isString(m))try{return(v||JSON.parse)(m),CS.trim(m)}catch(D){if(D.name!=="SyntaxError")throw D}return(0,JSON.stringify)(m)}(A)):A}],transformResponse:[function(A){var r=this.transitional||hP.transitional,o=r&&r.silentJSONParsing,u=r&&r.forcedJSONParsing,h=!o&&this.responseType==="json";if(h||u&&CS.isString(A)&&A.length)try{return JSON.parse(A)}catch(f){if(h)throw f.name==="SyntaxError"?AW.from(f,AW.ERR_BAD_RESPONSE,this,null,this.response):f}return A}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rW?nW:(rW=1,nW=null)},validateStatus:function(A){return A>=200&&A<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};CS.forEach(["delete","get","head"],function(A){hP.headers[A]={}}),CS.forEach(["post","put","patch"],function(A){hP.headers[A]=CS.merge(Bae)});var cW,uW,E8=hP,Qae=mS,mae=E8;function gW(){return uW?cW:(uW=1,cW=function(A){return!(!A||!A.__CANCEL__)})}var lW=mS,I8=function(A,r,o){var u=this||mae;return Qae.forEach(o,function(h){A=h.call(u,A,r)}),A},yae=gW(),_ae=E8,vae=CP();function C8(A){if(A.cancelToken&&A.cancelToken.throwIfRequested(),A.signal&&A.signal.aborted)throw new vae}var dW,EW,hR=mS,IW=function(A,r){r=r||{};var o={};function u(D,k){return hR.isPlainObject(D)&&hR.isPlainObject(k)?hR.merge(D,k):hR.isPlainObject(k)?hR.merge({},k):hR.isArray(k)?k.slice():k}function h(D){return hR.isUndefined(r[D])?hR.isUndefined(A[D])?void 0:u(void 0,A[D]):u(A[D],r[D])}function f(D){if(!hR.isUndefined(r[D]))return u(void 0,r[D])}function m(D){return hR.isUndefined(r[D])?hR.isUndefined(A[D])?void 0:u(void 0,A[D]):u(void 0,r[D])}function v(D){return D in r?u(A[D],r[D]):D in A?u(void 0,A[D]):void 0}var R={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:v};return hR.forEach(Object.keys(A).concat(Object.keys(r)),function(D){var k=R[D]||h,L=k(D);hR.isUndefined(L)&&k!==v||(o[D]=L)}),o};function CW(){return EW?dW:(EW=1,dW={version:"0.27.2"})}var Sae=CW().version,iT=P1(),h8={};["object","boolean","number","function","string","symbol"].forEach(function(A,r){h8[A]=function(o){return typeof o===A||"a"+(r<1?"n ":" ")+A}});var hW={};h8.transitional=function(A,r,o){function u(h,f){return"[Axios v"+Sae+"] Transitional option '"+h+"'"+f+(o?". "+o:"")}return function(h,f,m){if(A===!1)throw new iT(u(f," has been removed"+(r?" in "+r:"")),iT.ERR_DEPRECATED);return r&&!hW[f]&&(hW[f]=!0,console.warn(u(f," has been deprecated since v"+r+" and will be removed in the near future"))),!A||A(h,f,m)}};var pW,fW,BW,QW,mW,yW,Rae={assertOptions:function(A,r,o){if(typeof A!="object")throw new iT("options must be an object",iT.ERR_BAD_OPTION_VALUE);for(var u=Object.keys(A),h=u.length;h-- >0;){var f=u[h],m=r[f];if(m){var v=A[f],R=v===void 0||m(v,f,A);if(R!==!0)throw new iT("option "+f+" must be "+R,iT.ERR_BAD_OPTION_VALUE)}else if(o!==!0)throw new iT("Unknown option "+f,iT.ERR_BAD_OPTION)}},validators:h8},_W=mS,wae=P9,vW=aae,SW=function(A){return C8(A),A.headers=A.headers||{},A.data=I8.call(A,A.data,A.headers,A.transformRequest),A.headers=lW.merge(A.headers.common||{},A.headers[A.method]||{},A.headers),lW.forEach(["delete","get","head","post","put","patch","common"],function(r){delete A.headers[r]}),(A.adapter||_ae.adapter)(A).then(function(r){return C8(A),r.data=I8.call(A,r.data,r.headers,A.transformResponse),r},function(r){return yae(r)||(C8(A),r&&r.response&&(r.response.data=I8.call(A,r.response.data,r.response.headers,A.transformResponse))),Promise.reject(r)})},pP=IW,bae=iW,RW=Rae,G1=RW.validators;function F1(A){this.defaults=A,this.interceptors={request:new vW,response:new vW}}F1.prototype.request=function(A,r){typeof A=="string"?(r=r||{}).url=A:r=A||{},(r=pP(this.defaults,r)).method?r.method=r.method.toLowerCase():this.defaults.method?r.method=this.defaults.method.toLowerCase():r.method="get";var o=r.transitional;o!==void 0&&RW.assertOptions(o,{silentJSONParsing:G1.transitional(G1.boolean),forcedJSONParsing:G1.transitional(G1.boolean),clarifyTimeoutError:G1.transitional(G1.boolean)},!1);var u=[],h=!0;this.interceptors.request.forEach(function(L){typeof L.runWhen=="function"&&L.runWhen(r)===!1||(h=h&&L.synchronous,u.unshift(L.fulfilled,L.rejected))});var f,m=[];if(this.interceptors.response.forEach(function(L){m.push(L.fulfilled,L.rejected)}),!h){var v=[SW,void 0];for(Array.prototype.unshift.apply(v,u),v=v.concat(m),f=Promise.resolve(r);v.length;)f=f.then(v.shift(),v.shift());return f}for(var R=r;u.length;){var D=u.shift(),k=u.shift();try{R=D(R)}catch(L){k(L);break}}try{f=SW(R)}catch(L){return Promise.reject(L)}for(;m.length;)f=f.then(m.shift(),m.shift());return f},F1.prototype.getUri=function(A){A=pP(this.defaults,A);var r=bae(A.baseURL,A.url);return wae(r,A.params,A.paramsSerializer)},_W.forEach(["delete","get","head","options"],function(A){F1.prototype[A]=function(r,o){return this.request(pP(o||{},{method:A,url:r,data:(o||{}).data}))}}),_W.forEach(["post","put","patch"],function(A){function r(o){return function(u,h,f){return this.request(pP(f||{},{method:A,headers:o?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}F1.prototype[A]=r(),F1.prototype[A+"Form"]=r(!0)});var wW=mS,Dae=L9,fP=F1,Nae=IW,eR=function A(r){var o=new fP(r),u=Dae(fP.prototype.request,o);return wW.extend(u,fP.prototype,o),wW.extend(u,o),u.create=function(h){return A(Nae(r,h))},u}(E8);eR.Axios=fP,eR.CanceledError=CP(),eR.CancelToken=function(){if(fW)return pW;fW=1;var A=CP();function r(o){if(typeof o!="function")throw new TypeError("executor must be a function.");var u;this.promise=new Promise(function(f){u=f});var h=this;this.promise.then(function(f){if(h._listeners){var m,v=h._listeners.length;for(m=0;m<v;m++)h._listeners[m](f);h._listeners=null}}),this.promise.then=function(f){var m,v=new Promise(function(R){h.subscribe(R),m=R}).then(f);return v.cancel=function(){h.unsubscribe(m)},v},o(function(f){h.reason||(h.reason=new A(f),u(h.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(o){this.reason?o(this.reason):this._listeners?this._listeners.push(o):this._listeners=[o]},r.prototype.unsubscribe=function(o){if(this._listeners){var u=this._listeners.indexOf(o);u!==-1&&this._listeners.splice(u,1)}},r.source=function(){var o;return{token:new r(function(u){o=u}),cancel:o}},pW=r}(),eR.isCancel=gW(),eR.VERSION=CW().version,eR.toFormData=V9(),eR.AxiosError=P1(),eR.Cancel=eR.CanceledError,eR.all=function(A){return Promise.all(A)},eR.spread=QW?BW:(QW=1,BW=function(A){return function(r){return A.apply(null,r)}}),eR.isAxiosError=function(){if(yW)return mW;yW=1;var A=mS;return mW=function(r){return A.isObject(r)&&r.isAxiosError===!0}}(),r8.exports=eR,r8.exports.default=eR;var RS=s(r8.exports);function bW(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function DW(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?bW(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):bW(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}let BP,QP=0,p8=0;function f8(A,r,o,u){return new lc((h,f)=>{r.responseType=r.responseType||"json",r.data&&!o?(r.data=JSON.stringify(r.data),QP+=rN(r.data)):o&&(r.data.size?QP+=r.data.size:r.data instanceof FormData?QP+=D9(r.data):QP+=rN(JSON.stringify(r.data))),r.headers=r.headers||{},r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json",r.method="POST",r.url=A,RS.request(r).then(m=>{typeof m.data=="string"?p8+=rN(m.data):m.data instanceof ArrayBuffer||m.data instanceof Uint8Array?p8+=m.data.byteLength:p8+=rN(JSON.stringify(m.data)),h(m.data)}).catch(m=>{RS.isCancel(m)?f(new _g(ea.OPERATION_ABORTED,"cancel token canceled")):m.code==="ECONNABORTED"?f(new _g(ea.NETWORK_TIMEOUT,m.message)):m.response?f(new _g(ea.NETWORK_RESPONSE_ERROR,m.response.status)):f(new _g(ea.NETWORK_ERROR,m.message))})})}async function Tae(A,r){const o=new Blob([r.data],{type:"buffer"});return await f8(A,DW(DW({},r),{},{data:o,headers:{"Content-Type":"application/octet-stream"}}),!0)}const kae=()=>(BP||BP||(BP=(window.location.protocol.split(":")[0]||"").toUpperCase(),BP))==="HTTPS",NW=()=>window.isSecureContext!==void 0,pR=function(A){if(A.match(/[0-9]+\.[0-9]+\.[0-9]+$/))return A;const r=A.match(/([0-9]+\.[0-9]+\.[0-9]+)\-alpha\.([0-9]+)/);if(r&&r[1]&&r[2]){const u=r[1],h=r[2];return"".concat(u,".").concat(h)}const o=A.match(/([0-9]+\.[0-9]+\.[0-9]+)\-special\.([0-9]+)/);if(o&&o[1]&&o[2]){const u=o[1],h=o[2];return"".concat(u,".").concat(100*(Number(h)+1))}return"4.0.0.999"}("4.20.0"),B8=function(){try{return JSON.parse("true")===!0}catch{return!0}}();var ON;(function(A){A.Default="default",A.Auto="auto",A.Relay="relay",A.SdRtn="sd-rtn"})(ON||(ON={}));const Q8="v4.20.0-0-g334e514b-dirty(12/8/2023, 3:48:29 PM)",hS={PROCESS_ID:"",ENCRYPT_AES:!0,AREAS:["CHINA","GLOBAL"],WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io","webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io","webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-web-2.ap.sd-rtn.com","cds-ap-web-3.agora.io","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-web-2.ap.sd-rtn.com","sua-ap-web-3.agora.io","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-ap-web-1.agora.io","uap-web-2.ap.sd-rtn.com","uap-ap-web-3.agora.io","uap-web-4.ap.sd-rtn.com"],LOG_UPLOAD_SERVER:"logservice.agora.io",EVENT_REPORT_DOMAIN:"statscollector-1.agora.io",EVENT_REPORT_BACKUP_DOMAIN:"web-2.statscollector.sd-rtn.com",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:"",LIVE_STREAMING_ADDRESS:"",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],SUBSCRIBE_TWCC:!1,PUBLISH_TWCC:!1,PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:"",PUB_EXTEND:"",SUB_EXTEND:"",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:["edge.agora.io","edge.sd-rtn.com"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:"edge.agora.io",TURN_DOMAIN:"edge.agora.io",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:"webnginx-proxy.agora.io",PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com","webrtc-cloud-proxy.agora.io"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:"high",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,USE_PUB_RTX:!1,USE_SUB_RTX:!1,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:100,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:"",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:["agora.io","sd-rtn.com"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!0,BITRATE_ADAPTER_TYPE:"STANDARD_BITRATE",AI_DENOISER_PARAMETERS:{},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:["data-reporting.agora.io","data-reporting.agora.io"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:"edge.agora.io",VIDEO_INSPECT_WORKER_MANAGER_PORT:"",VIDEO_INSPECT_WORKER_PORT:"",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,DISABLE_FEC:void 0,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,ENABLE_USER_LICENSE_CHECK:!0,SIGNAL_CHANNEL:0,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,SVC:[],ENABLE_ENCODED_TRANSFORM:!1,IMAGE_MODERATION_WORKER_HOST:"edge.agora.io",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,ENABLE_DATASTREAM_2:!1,DATASTREAM_MAX_RETRANSMITS:10,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,ENABLE_INSTANT_VIDEO:!1,ENABLE_NTP_REPORT:!1,USE_XR:!1,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],PLUGIN_INFO:[]};function p0(A,r,o){var u,h;AQ(u=Object.keys(hS)).call(u,A)&&(!o&&AQ(h=Object.keys(oT)).call(h,A)||(hS[A]=r))}function la(A){return hS[A]}const oT={};function TW(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function lQ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?TW(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):TW(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}var qQ;(function(A){A.SET_SESSION_ID="SET_SESSION_ID",A.SET_P2P_ID="SET_P2P_id",A.SET_DC_ID="SET_DC_id",A.SET_UID="SET_UID",A.SET_INT_UID="SET_INT_UID",A.SET_PUB_ID="SET_PUB_ID",A.SET_CLOUD_PROXY_SERVER_MODE="SET_CLOUD_PROXY_SERVER_MODE",A.KEY_METRIC_CLIENT_CREATED="KEY_METRIC_CLIENT_CREATED",A.KEY_METRIC_JOIN_START="KEY_METRIC_JOIN_START",A.AVOID_JOIN_START="AVOID_JOIN_START",A.KEY_METRIC_JOIN_END="KEY_METRIC_JOIN_END",A.KEY_METRIC_REQUEST_AP_START="KEY_METRIC_REQUEST_AP_START",A.KEY_METRIC_REQUEST_AP_END="KEY_METRIC_REQUEST_AP_END",A.KEY_METRIC_JOIN_GATEWAY_START="KEY_METRIC_JOIN_GATEWAY_START",A.KEY_METRIC_JOIN_GATEWAY_END="KEY_METRIC_JOIN_GATEWAY_END",A.KEY_METRIC_PEER_CONNECTION_START="KEY_METRIC_PEER_CONNECTION_START",A.KEY_METRIC_PEER_CONNECTION_END="KEY_METRIC_PEER_CONNECTION_END",A.KEY_METRIC_DESCRIPTION_START="KEY_METRIC_DESCRIPTION_START",A.KEY_METRIC_ICE_CONNECTION_END="KEY_METRIC_ICE_CONNECTION_END",A.KEY_METRIC_SIGNAL_CHANNEL_OPEN="KEY_METRIC_SIGNAL_CHANNEL_OPEN",A.KEY_METRIC_PUBLISH="KEY_METRIC_PUBLISH",A.KEY_METRIC_SUBSCRIBE="KEY_METRIC_SUBSCRIBE",A.RECORD_JOIN_CHANNEL_SERVICE="RECORD_JOIN_CHANNEL_SERVICE",A.RESET_JOIN_CHANNEL_SERVICE_RECORDS="RESET_JOIN_CHANNEL_SERVICE_RECORDS",A.RESET_KEY_METRICS="RESET_KEY_METRICS",A.SET_USE_DATACHANNEL="SET_USE_DATACHANNEL",A.SET_USE_P2P="SET_USE_P2P",A.SET_TRANSPORT_TYPE="SET_TRANSPORT_TYPE"})(qQ||(qQ={}));class Oae{constructor(r,o,u,h){j(this,"state",void 0),this.state={codec:r,audioCodec:o,mode:u,clientId:h,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:"disabled",useDataChannel:!1,useP2P:!1,p2pTransport:ON.Default}}dispatch(r){this.state=function(o,u){switch(u.type){case qQ.SET_SESSION_ID:return lQ(lQ({},o),{},{sessionId:u.sessionId});case qQ.SET_P2P_ID:return lQ(lQ({},o),{},{p2pId:u.p2pId});case qQ.SET_UID:return lQ(lQ({},o),{},{uid:u.uid});case qQ.SET_INT_UID:return lQ(lQ({},o),{},{intUid:u.intUid});case qQ.SET_PUB_ID:return lQ(lQ({},o),{},{pubId:u.pubId});case qQ.KEY_METRIC_CLIENT_CREATED:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{clientCreated:u.metric})});case qQ.KEY_METRIC_JOIN_START:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{joinStart:u.metric})});case qQ.AVOID_JOIN_START:return lQ(lQ({},o),{},{avoidJoinStart:u.avoidJoinStart});case qQ.KEY_METRIC_JOIN_END:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{joinEnd:u.metric})});case qQ.KEY_METRIC_REQUEST_AP_START:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{requestAPStart:u.metric})});case qQ.KEY_METRIC_REQUEST_AP_END:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{requestAPEnd:u.metric})});case qQ.KEY_METRIC_JOIN_GATEWAY_START:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{joinGatewayStart:u.metric})});case qQ.KEY_METRIC_JOIN_GATEWAY_END:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{joinGatewayEnd:u.metric})});case qQ.KEY_METRIC_PEER_CONNECTION_START:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{peerConnectionStart:u.metric})});case qQ.KEY_METRIC_PEER_CONNECTION_END:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{peerConnectionEnd:u.metric})});case qQ.KEY_METRIC_DESCRIPTION_START:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{descriptionStart:u.metric})});case qQ.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{signalChannelOpen:u.metric})});case qQ.KEY_METRIC_ICE_CONNECTION_END:return lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{iceConnectionEnd:u.metric})});case qQ.KEY_METRIC_PUBLISH:{const h=o.keyMetrics.publish,f=h.findIndex(m=>m.trackId===u.metric.trackId);return f!==-1?(h[f]=lQ(lQ({},h[f]),u.metric),lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{publish:[...h]})})):lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{publish:[...o.keyMetrics.publish,u.metric]})})}case qQ.KEY_METRIC_SUBSCRIBE:{const h=o.keyMetrics.subscribe,f=h.findIndex(m=>m.userId===u.metric.userId&&m.type===u.metric.type);return f!==-1?(h[f]=lQ(lQ({},h[f]),u.metric),lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{subscribe:[...h]})})):lQ(lQ({},o),{},{keyMetrics:lQ(lQ({},o.keyMetrics),{},{subscribe:[...o.keyMetrics.subscribe,u.metric]})})}case qQ.SET_CLOUD_PROXY_SERVER_MODE:return o.cloudProxyServerMode=u.mode,o;case qQ.RECORD_JOIN_CHANNEL_SERVICE:return typeof u.index!="number"?o.joinChannelServiceRecords=[...o.joinChannelServiceRecords,u.record]:(o.joinChannelServiceRecords[u.index]=lQ(lQ({},o.joinChannelServiceRecords[u.index]),u.record),o.joinChannelServiceRecords=[...o.joinChannelServiceRecords]),o;case qQ.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return o.joinChannelServiceRecords=[],o;case qQ.RESET_KEY_METRICS:return o.keyMetrics={publish:[],subscribe:[]},o;case qQ.SET_USE_DATACHANNEL:return lQ(lQ({},o),{},{useDataChannel:u.val});case qQ.SET_USE_P2P:return lQ(lQ({},o),{},{useP2P:u.val});case qQ.SET_TRANSPORT_TYPE:return lQ(lQ({},o),{},{p2pTransport:u.val});default:return o}}(this.state,r)}set sessionId(r){this.dispatch({type:qQ.SET_SESSION_ID,sessionId:r})}get sessionId(){return this.state.sessionId}set codec(r){this.state.codec=r}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(r){this.dispatch({type:qQ.SET_P2P_ID,p2pId:r})}get p2pId(){return this.state.p2pId}set dcId(r){this.dispatch({type:qQ.SET_DC_ID,dcId:r})}get dcId(){return this.state.dcId}set uid(r){this.dispatch({type:qQ.SET_UID,uid:r})}get uid(){return this.state.uid}set intUid(r){this.dispatch({type:qQ.SET_INT_UID,intUid:r})}get intUid(){return this.state.intUid}set pubId(r){this.dispatch({type:qQ.SET_PUB_ID,pubId:r})}get pubId(){return this.state.pubId}set cloudProxyServerMode(r){this.dispatch({type:qQ.SET_CLOUD_PROXY_SERVER_MODE,mode:r})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useDataChannel(r){this.dispatch({type:qQ.SET_USE_DATACHANNEL,val:r})}get useDataChannel(){return this.state.useDataChannel}set useP2P(r){this.dispatch({type:qQ.SET_USE_P2P,val:r})}get useP2P(){return this.state.useP2P}set p2pTransport(r){this.dispatch({type:qQ.SET_TRANSPORT_TYPE,val:r})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:qQ.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:qQ.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:qQ.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:qQ.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:qQ.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:qQ.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:qQ.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:qQ.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:qQ.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:qQ.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:qQ.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:qQ.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(r,o,u,h){this.dispatch({type:qQ.KEY_METRIC_PUBLISH,metric:lQ(lQ({trackId:r,type:o},u&&{publishStart:u}),h&&{publishEnd:h})})}subscribe(r,o,u,h,f,m,v){this.dispatch({type:qQ.KEY_METRIC_SUBSCRIBE,metric:lQ(lQ(lQ(lQ(lQ({userId:r,type:o},u&&{subscribeStart:u}),h&&{subscribeEnd:h}),f&&{firstFrame:f}),m&&{streamAdded:m}),v&&{firstDecoded:v})})}massSubscribe(r,o,u,h){r.forEach(f=>{this.dispatch({type:qQ.KEY_METRIC_SUBSCRIBE,metric:lQ(lQ(lQ({userId:f.userId,type:f.type},o&&{subscribeStart:o}),u&&{subscribeEnd:u}),h&&{firstFrame:h})})})}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(r,o){r.service==="gateway"&&Array.isArray(r.urls)&&(r.urls=r.urls.map(u=>u.replace(/(\d+)-\d+-\d+-(\d+)/,"$1-*-*-$2")));try{return typeof o!="number"?(this.dispatch({type:qQ.RECORD_JOIN_CHANNEL_SERVICE,record:lQ(lQ({},r),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(o<0||o>=this.state.joinChannelServiceRecords.length||this.dispatch({type:qQ.RECORD_JOIN_CHANNEL_SERVICE,record:r,index:o}),o)}catch{return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:qQ.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:qQ.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch{return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(r){this.dispatch({type:qQ.AVOID_JOIN_START,avoidJoinStart:r})}}var AT,kW;(function(A){A.h264="h264",A.h265="h265",A.vp8="vp8",A.vp9="vp9",A.av1="av1"})(AT||(AT={})),function(A){A.opus="opus",A.pcma="pcma",A.pcmu="pcmu",A.g722="g722"}(kW||(kW={}));const mP=new class extends x0{reportLogUploadError(A){this.emit("REPORT_LOG_UPLOAD",A)}};class Lae{constructor(r){j(this,"logger",void 0),j(this,"prefixLists",[]),this.logger=r}debug(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];this.logger.debug(...this.prefixLists,...o)}info(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];this.logger.info(...this.prefixLists,...o)}warning(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];this.logger.warning(...this.prefixLists,...o)}error(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];this.logger.error(...this.prefixLists,...o)}prefix(r){return this.prefixLists.push(r),this}popPrefix(){return this.prefixLists.pop(),this}}function m8(){const A=new Date;return A.toTimeString().split(" ")[0]+":"+A.getMilliseconds()}function OW(){const A=new Date,r=/((\d+:){2}\d+)/.exec(new Date().toUTCString());return r?(r==null?void 0:r[0])+":"+A.getUTCMilliseconds():A.toTimeString().split(" ")[0]+":"+A.getMilliseconds()}const fR={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},yP=Date.now(),xO=A=>{for(const r in fR)if(Object.prototype.hasOwnProperty.call(fR,r)&&fR[r]===A)return r;return"DEFAULT"},$=new class{constructor(){j(this,"proxyServerURL",void 0),j(this,"logLevel",fR.DEBUG),j(this,"uploadState","collecting"),j(this,"uploadLogWaitingList",[]),j(this,"uploadLogUploadingList",[]),j(this,"uploadErrorCount",0),j(this,"currentLogID",0),j(this,"url",void 0),j(this,"extLog",(A,r)=>{this.appendLogToWaitingList(A,...r)})}debug(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];const u=[fR.DEBUG].concat(r);this.log.apply(this,u)}info(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];const u=[fR.INFO].concat(r);this.log.apply(this,u)}warning(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];const u=[fR.WARNING].concat(r);this.log.apply(this,u)}warn(){this.warning(...arguments)}error(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];const u=[fR.ERROR].concat(r);this.log.apply(this,u)}upload(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];const u=[fR.DEBUG].concat(r);this.uploadLog.apply(this,u)}setLogLevel(A){A=Math.min(Math.max(0,A),4),this.logLevel=A}enableLogUpload(){p0("UPLOAD_LOG",!0)}disableLogUpload(){p0("UPLOAD_LOG",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(A){this.proxyServerURL=A}prefix(A){return new Lae(this).prefix(A)}log(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];if(Date.now()-yP<100)return void setTimeout(()=>{this.log(...r)},Date.now()-yP);const u=Math.max(0,Math.min(4,r[0]));if(r[0]=m8()+" Agora-SDK [".concat(xO(u),"]:"),this.appendLogToWaitingList(u,...r),u<this.logLevel)return;const h=m8()+" %cAgora-SDK [".concat(xO(u),"]:");let f=[];if(!la("USE_NEW_LOG"))switch(u){case fR.DEBUG:f=[h,"color: #64B5F6;"].concat(r.slice(1)),console.log.apply(console,f);break;case fR.INFO:f=[h,"color: #1E88E5; font-weight: bold;"].concat(r.slice(1)),console.log.apply(console,f);break;case fR.WARNING:f=[h,"color: #FB8C00; font-weight: bold;"].concat(r.slice(1)),console.warn.apply(console,f);break;case fR.ERROR:f=[h,"color: #B00020; font-weight: bold;"].concat(r.slice(1)),console.error.apply(console,f)}}uploadLog(){for(var A=arguments.length,r=new Array(A),o=0;o<A;o++)r[o]=arguments[o];if(Date.now()-yP<100)return void setTimeout(()=>{this.uploadLog(...r)},Date.now()-yP);const u=Math.max(0,Math.min(4,r[0]));r[0]=m8()+" Agora-SDK [".concat(xO(u),"]:"),this.appendLogToWaitingList(u,...r)}appendLogToWaitingList(A){if(!la("UPLOAD_LOG"))return;for(var r=arguments.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=arguments[u];Array.isArray(o[0])?o[0][0]=OW()+" Agora-SDK [".concat(xO(A),"]:"):o[0]=OW()+" Agora-SDK [".concat(xO(A),"]:");let h="";o.forEach(f=>{typeof f=="object"&&(f=JSON.stringify(f)),h+="".concat(f," ")}),this.uploadLogWaitingList.push({payload_str:h,log_level:A,log_item_id:this.currentLogID++}),this.uploadState==="uploading"&&this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}startUpload(){this.uploadState="uploading",this.uploadLogUploadingList.length===0&&this.uploadLogInterval()}async uploadLogs(){const A=this.uploadLogUploadingList,r={sdk_version:pR,process_id:la("PROCESS_ID"),payload:JSON.stringify(A)};return XR(async()=>{const o=await RS.post(this.url||(this.proxyServerURL?"https://".concat(this.proxyServerURL,"/ls/?h=").concat(la("LOG_UPLOAD_SERVER"),"&p=443&d=upload/v1"):"https://".concat(la("LOG_UPLOAD_SERVER"),"/upload/v1")),r,{responseType:"text"});if(o.data!=="OK"){const u=new Error("unexpected upload log response");throw u.response=o,u}},()=>(this.uploadLogUploadingList=[],!1),o=>(o.response?mP.reportLogUploadError({status:o.response.status,data:o.response.data,headers:o.response.headers,message:o.message}):o.request?mP.reportLogUploadError({status:o.request.status,message:o.message}):mP.reportLogUploadError({status:-1,message:o.message}),!0),{timeout:la("UPLOAD_LOG_REQUEST_RETRY_INTERVAL"),maxRetryTimeout:la("UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL")})}uploadLogInterval(){this.uploadLogUploadingList.length===0&&this.uploadLogWaitingList.length===0||(this.uploadLogUploadingList.length===0&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,la("UPLOAD_LOG_LENGTH_EACH_TIME"))),this.uploadLogs().then(()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout(()=>this.uploadLogInterval(),la("UPLOAD_LOG_INTERVAL"))}).catch(A=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout(()=>this.uploadLogInterval(),la("UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1")):window.setTimeout(()=>this.uploadLogInterval(),la("UPLOAD_LOG_RETRY_INTERVAL_V1"))}))}};var LW,MW;function Mae(A){return W_(A.reportId,"params.reportId",0,100,!1),W_(A.category,"params.category",0,100,!1),W_(A.event,"params.event",0,100,!1),W_(A.label,"params.label",0,100,!1),h0(A.value,"params.value",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(function(A){A.FREE="free",A.UPLOADING="uploading"})(LW||(LW={})),function(A){A[A.MISC=0]="MISC",A[A.INTERNAL_EVENT=1]="INTERNAL_EVENT",A[A.PUBLIC_EVENT=2]="PUBLIC_EVENT",A[A.WEB_EVENT=3]="WEB_EVENT",A[A.INTERNAL_API=4]="INTERNAL_API",A[A.WEB_API=5]="WEB_API",A[A.PUBLIC_API=6]="PUBLIC_API"}(MW||(MW={}));const xae={sid:"",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};var f_,k0,xW,UW;function PW(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function FQ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?PW(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):PW(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}(function(A){A.PUBLISH="publish",A.SUBSCRIBE="subscribe",A.WS_COMPRESSOR_INIT="ws_compressor_init",A.SESSION_INIT="session_init",A.JOIN_CHOOSE_SERVER="join_choose_server",A.REQ_USER_ACCOUNT="req_user_account",A.JOIN_GATEWAY="join_gateway",A.REJOIN_GATEWAY="rejoin_gateway",A.STREAM_SWITCH="stream_switch",A.REQUEST_PROXY_WORKER_MANAGER="request_proxy_worker_manager",A.REQUEST_PROXY_APPCENTER="request_proxy_appcenter",A.FIRST_VIDEO_RECEIVED="first_video_received",A.FIRST_AUDIO_RECEIVED="first_audio_received",A.FIRST_VIDEO_DECODE="first_video_decode",A.FIRST_AUDIO_DECODE="first_audio_decode",A.ON_ADD_AUDIO_STREAM="on_add_audio_stream",A.ON_ADD_VIDEO_STREAM="on_add_video_stream",A.ON_UPDATE_STREAM="on_update_stream",A.ON_REMOVE_STREAM="on_remove_stream",A.USER_ANALYTICS="req_user_analytics",A.PC_STATS="pc_stats",A.UPDATE_REMOTE_RTPCAPABILITIES="update_remote_rtpCapabilities"})(f_||(f_={})),function(A){A.SESSION="io.agora.pb.Wrtc.Session",A.JOIN_CHOOSE_SERVER="io.agora.pb.Wrtc.JoinChooseServer",A.REQ_USER_ACCOUNT="io.agora.pb.Wrtc.ReqUserAccount",A.JOIN_GATEWAY="io.agora.pb.Wrtc.JoinGateway",A.RE_JOIN_GATEWAY="io.agora.pb.Wrtc.ReJoinGateway",A.PUBLISH="io.agora.pb.Wrtc.Publish",A.SUBSCRIBE="io.agora.pb.Wrtc.Subscribe",A.WS_COMPRESSOR_INIT="io.agora.pb.Wrtc.WsCompressorInit",A.STREAM_SWITCH="io.agora.pb.Wrtc.StreamSwitch",A.AUDIO_SENDING_STOPPED="io.agora.pb.Wrtc.AudioSendingStopped",A.VIDEO_SENDING_STOPPED="io.agora.pb.Wrtc.VideoSendingStopped",A.REQUEST_PROXY_APPCENTER="io.agora.pb.Wrtc.RequestProxyAppCenter",A.REQUEST_PROXY_WORKER_MANAGER="io.agora.pb.Wrtc.RequestProxyWorkerManager",A.API_INVOKE="io.agora.pb.Wrtc.ApiInvoke",A.FIRST_VIDEO_RECEIVED="io.agora.pb.Wrtc.FirstVideoReceived",A.FIRST_AUDIO_RECEIVED="io.agora.pb.Wrtc.FirstAudioReceived",A.FIRST_VIDEO_DECODE="io.agora.pb.Wrtc.FirstVideoDecode",A.FIRST_AUDIO_DECODE="io.agora.pb.Wrtc.FirstAudioDecode",A.ON_ADD_AUDIO_STREAM="io.agora.pb.Wrtc.OnAddAudioStream",A.ON_ADD_VIDEO_STREAM="io.agora.pb.Wrtc.OnAddVideoStream",A.ON_UPDATE_STREAM="io.agora.pb.Wrtc.OnUpdateStream",A.ON_REMOVE_STREAM="io.agora.pb.Wrtc.OnRemoveStream",A.JOIN_CHANNEL_TIMEOUT="io.agora.pb.Wrtc.JoinChannelTimeout",A.PEER_PUBLISH_STATUS="io.agora.pb.Wrtc.PeerPublishStatus",A.WORKER_EVENT="io.agora.pb.Wrtc.WorkerEvent",A.AP_WORKER_EVENT="io.agora.pb.Wrtc.APWorkerEvent",A.JOIN_WEB_PROXY_AP="io.agora.pb.Wrtc.JoinWebProxyAP",A.WEBSOCKET_QUIT="io.agora.pb.Wrtc.WebSocketQuit",A.USER_ANALYTICS="io.agora.pb.Wrtc.UserAnalytics",A.AUTOPLAY_FAILED="io.agora.pb.Wrtc.AutoplayFailed",A.PC_STATS="io.agora.pb.Wrtc.PCStats",A.UPDATE_REMOTE_RTPCAPABILITIES="io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities"}(k0||(k0={})),function(A){A[A.WORKER_EVENT=156]="WORKER_EVENT",A[A.AP_WORKER_EVENT=160]="AP_WORKER_EVENT"}(xW||(xW={})),function(A){A[A.SESSION=26]="SESSION",A[A.JOIN_CHOOSE_SERVER=27]="JOIN_CHOOSE_SERVER",A[A.REQ_USER_ACCOUNT=196]="REQ_USER_ACCOUNT",A[A.JOIN_GATEWAY=28]="JOIN_GATEWAY",A[A.PUBLISH=30]="PUBLISH",A[A.SUBSCRIBE=29]="SUBSCRIBE",A[A.WS_COMPRESSOR_INIT=9430]="WS_COMPRESSOR_INIT",A[A.STREAM_SWITCH=32]="STREAM_SWITCH",A[A.AUDIO_SENDING_STOPPED=33]="AUDIO_SENDING_STOPPED",A[A.VIDEO_SENDING_STOPPED=34]="VIDEO_SENDING_STOPPED",A[A.REQUEST_PROXY_APPCENTER=35]="REQUEST_PROXY_APPCENTER",A[A.REQUEST_PROXY_WORKER_MANAGER=36]="REQUEST_PROXY_WORKER_MANAGER",A[A.API_INVOKE=41]="API_INVOKE",A[A.FIRST_VIDEO_RECEIVED=348]="FIRST_VIDEO_RECEIVED",A[A.FIRST_AUDIO_RECEIVED=349]="FIRST_AUDIO_RECEIVED",A[A.FIRST_VIDEO_DECODE=350]="FIRST_VIDEO_DECODE",A[A.FIRST_AUDIO_DECODE=351]="FIRST_AUDIO_DECODE",A[A.ON_ADD_AUDIO_STREAM=352]="ON_ADD_AUDIO_STREAM",A[A.ON_ADD_VIDEO_STREAM=353]="ON_ADD_VIDEO_STREAM",A[A.ON_UPDATE_STREAM=356]="ON_UPDATE_STREAM",A[A.ON_REMOVE_STREAM=355]="ON_REMOVE_STREAM",A[A.JOIN_CHANNEL_TIMEOUT=407]="JOIN_CHANNEL_TIMEOUT",A[A.PEER_PUBLISH_STATUS=408]="PEER_PUBLISH_STATUS",A[A.WORKER_EVENT=156]="WORKER_EVENT",A[A.AP_WORKER_EVENT=160]="AP_WORKER_EVENT",A[A.JOIN_WEB_PROXY_AP=700]="JOIN_WEB_PROXY_AP",A[A.WEBSOCKET_QUIT=671]="WEBSOCKET_QUIT",A[A.USER_ANALYTICS=1e4]="USER_ANALYTICS",A[A.AUTOPLAY_FAILED=9178]="AUTOPLAY_FAILED"}(UW||(UW={}));class UO{constructor(){j(this,"baseInfoMap",new Map),j(this,"proxyServer",void 0),j(this,"eventUploadTimer",void 0),j(this,"setSessionIdTimer",void 0),j(this,"url",void 0),j(this,"backupUrl",void 0),j(this,"_appId",void 0),j(this,"keyEventUploadPendingItems",[]),j(this,"normalEventUploadPendingItems",[]),j(this,"apiInvokeUploadPendingItems",[]),j(this,"apiInvokeCount",0),j(this,"ltsList",[]),j(this,"lastSendNormalEventTime",Date.now()),j(this,"customReportCounterTimer",void 0),j(this,"customReportCount",0),j(this,"extApiInvoke",async r=>{for(const o of r){const u=FQ(FQ({},o),{},{sid:null,invokeId:++this.apiInvokeCount,tag:G0.TRACER});this.sendApiInvoke(u)}}),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),la("EVENT_REPORT_SEND_INTERVAL")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),la("EVENT_REPORT_SEND_INTERVAL"))}getBaseInfoBySessionId(r){return this.baseInfoMap.get(r)}adjustSessionStartTime(r){if(!this.baseInfoMap.has(r)&&!this.baseInfoMap.get(r))return void $.error("adjust session ".concat(r," start time, sid is not exist or info is undefined"));const o=this.baseInfoMap.get(r),u=Date.now(),h=o.startTime;o.startTime=u,$.debug("rewrite session ".concat(r," startTime: ").concat(u," , ").concat(u-h,"ms")),this.baseInfoMap.set(r,o)}setAppId(r){this._appId=r}reportApiInvoke(r,o,u){o.timeout=o.timeout||6e4,o.reportResult=o.reportResult===void 0||o.reportResult;const h=Date.now();this.apiInvokeCount+=1;const f=this.apiInvokeCount,m=()=>({tag:o.tag,invokeId:f,sid:r,name:o.name,apiInvokeTime:h,options:o.options,states:o.states||null}),v=!!la("SHOW_REPORT_INVOKER_LOG");v&&$.info("".concat(o.name," start"),o.options);let R=!1;N_(o.timeout).then(()=>{R||(this.sendApiInvoke(FQ(FQ({},m()),{},{error:ea.API_INVOKE_TIMEOUT,success:!1})),$.debug("".concat(o.name," timeout")))});const D=new _g(ea.UNEXPECTED_ERROR,"".concat(o.name,": this api invoke is end"));return{onSuccess:k=>{const L=()=>{if(R)throw D;return R=!0,this.sendApiInvoke(FQ(FQ({},m()),{},{success:!0},o.reportResult&&{result:k})),v&&$.info("".concat(o.name," onSuccess")),k};return u?T9(L,o.name+"Success",u,()=>R=!0):L()},onError:k=>{const L=()=>{if(R)throw k;R=!0,this.sendApiInvoke(FQ(FQ({},m()),{},{success:!1,error:k})),v&&$.info("".concat(o.name," onFailure"),k.toString())};return u?T9(L,o.name+"Error",u,()=>R=!0):L()}}}sessionInit(r,o){if(this.baseInfoMap.has(r))return;const u=Date.now(),h=this.createBaseInfo(r,u);h.cname=o.cname;const f=Object.assign({},{willUploadConsoleLog:la("UPLOAD_LOG"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:B8?"global":"oversea",areas:la("AREAS")&&la("AREAS").join(",")},o.extend),{stringUid:m,channelProfile:v,channelMode:R,isABTestSuccess:D,lsid:k,clientRole:L}=o,q=Date.now(),z=FQ(FQ({},h),{},{eventType:f_.SESSION_INIT,appid:o.appid,browser:navigator.userAgent,build:Q8,lts:q,elapse:q-u,extend:JSON.stringify(f),mode:o.mode,process:la("PROCESS_ID"),appType:la("APP_TYPE"),success:!0,version:pR,stringUid:m,channelProfile:v,channelMode:R,isABTestSuccess:D,lsid:k,clientType:20,clientRole:L,serviceId:la("PROCESS_ID"),extensionID:la("PLUGIN_INFO").join(",")||""});this.send({type:k0.SESSION,data:z},!0)}joinChooseServer(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.JOIN_CHOOSE_SERVER,lts:f,eventElapse:f-o.lts,chooseServerAddr:o.csAddr,errorCode:o.ec,elapse:f-u.startTime,success:o.succ,chooseServerAddrList:JSON.stringify(o.serverList),uid:o.uid?parseInt(o.uid):null,cid:o.cid?parseInt(o.cid):null,chooseServerIp:o.csIp||"",opid:o.opid,unilbsServerIds:o.unilbsServerIds,extend:o.extend||void 0,isHttp3:o.isHttp3});this.send({type:k0.JOIN_CHOOSE_SERVER,data:m},!0)}reqUserAccount(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.REQ_USER_ACCOUNT,lts:f,success:o.success,serverAddress:o.serverAddr,stringUid:o.stringUid,uid:o.uid,errorCode:o.errorCode,elapse:f-u.startTime,eventElapse:f-o.lts,extend:JSON.stringify(o.extend)});this.send({type:k0.REQ_USER_ACCOUNT,data:m},!0)}joinGateway(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info;o.vid&&(h.vid=o.vid),h.uid=o.uid,h.cid=o.cid;const f=Date.now(),{firstSuccess:m,avoidJoinStartTime:v,isProxy:R,addr:D}=o,k=f-(m&&v?v:u.startTime),L=FQ(FQ({},h),{},{eventType:f_.JOIN_GATEWAY,lts:f,gatewayAddr:o.addr,success:o.succ,errorCode:o.ec,elapse:k,eventElapse:f-o.lts,firstSuccess:m,signalChannel:o.signalChannel}),q=L.success?1:0;if(o.succ&&(u.lastJoinSuccessTime=f),m)this.send({type:k0.JOIN_GATEWAY,data:L},!0);else{let z;if(D)if(R){const _n=D.match(/h=(\d{1,3}-){3}\d{1,3}/g),_i=D.match(/p=[0-9]{1,6}/g);z={isSuccess:q,gatewayIp:_n&&_n.length?_n[0].split("=")[1].replace(/-/g,"."):"",port:_i&&_i.length?_i[0].split("=")[1]:"",isProxy:R?1:0}}else{const _n=D.match(/wss:\/\/(\d{1,3}-){3}\d{1,3}/g),_i=D.match(/(:|p=)[0-9]{1,6}/g);z={isSuccess:q,gatewayIp:_n&&_n.length?_n[0].split("//")[1].replace(/-/g,"."):"",port:_i&&_i.length?_i[0].split(/:|p=/g)[1]:"",isProxy:R?1:0}}else z={isSuccess:q,gatewayIp:"",port:"",isProxy:R?1:0};delete L.success,delete L.eventType,delete L.firstSuccess,L.vid=Number(L.vid);const _s=Object.assign({},L,z,{eventType:f_.REJOIN_GATEWAY});this.send({type:k0.RE_JOIN_GATEWAY,data:_s},!0)}}joinChannelTimeout(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=Date.now(),f=FQ(FQ({},u.info),{},{lts:h,timeout:o,elapse:h-u.startTime});this.send({type:k0.JOIN_CHANNEL_TIMEOUT,data:f},!0)}publish(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.PUBLISH,lts:f,eventElapse:o.eventElapse,elapse:f-u.startTime,success:o.succ,errorCode:o.ec,videoName:o.videoName,audioName:o.audioName,screenName:o.screenName,screenshare:o.screenshare,audio:o.audio,video:o.video,p2pid:o.p2pid,publishRequestid:o.publishRequestid});this.send({type:k0.PUBLISH,data:m},!0)}subscribe(r,o,u){const h=this.baseInfoMap.get(r);if(!h)return;const f=h.info,m=Date.now(),v=FQ(FQ({},f),{},{eventType:f_.SUBSCRIBE,lts:m,eventElapse:o.eventElapse,elapse:m-h.startTime,success:o.succ,errorCode:o.ec,video:o.video,audio:o.audio,subscribeRequestid:o.subscribeRequestid,p2pid:o.p2pid},u&&{extend:JSON.stringify({isMassSubscribe:!0})});typeof o.peerid=="string"?v.peerSuid=o.peerid:v.peer=o.peerid,this.send({type:k0.SUBSCRIBE,data:v},!0)}wsCompressorInit(r){var o;const u=[...$S(o=this.baseInfoMap).call(o)],h=u.length?u[0]:"UnableToGetSid",f=this.baseInfoMap.get(h);if(!f)return;const m=f.info,v=Date.now(),R=FQ(FQ({},m),{},{eventType:f_.WS_COMPRESSOR_INIT,lts:v,eventElapse:r.eventElapse,elapse:v-f.startTime,status:r.status?1:2});this.send({type:k0.WS_COMPRESSOR_INIT,data:R},!0)}firstRemoteVideoDecode(r,o,u,h){const f=this.baseInfoMap.get(r);if(!f)return;const m=f.info,v=Date.now(),R=FQ(FQ(FQ({},m),h),{},{elapse:v-f.startTime,eventType:o,lts:v,firstDecodeFrame:Math.max(v-f.startTime,0),apEnd:Math.max(h.apEnd-f.startTime,0),apStart:Math.max(h.apStart-f.startTime,0),joinGwEnd:Math.max(h.joinGwEnd-f.startTime,0),joinGwStart:Math.max(h.joinGwStart-f.startTime,0),pcEnd:Math.max(h.pcEnd-f.startTime,0),pcStart:Math.max(h.pcStart-f.startTime,0),subscriberEnd:Math.max(h.subscriberEnd-f.startTime,0),subscriberStart:Math.max(h.subscriberStart-f.startTime,0),videoAddNotify:Math.max(h.videoAddNotify-f.startTime,0)});this.send({type:u,data:R},!0)}firstRemoteFrame(r,o,u,h){const f=this.baseInfoMap.get(r);if(!f)return;const m=f.info,v=Date.now(),R=FQ(FQ(FQ({},m),h),{},{elapse:v-f.startTime,eventType:o,lts:v});this.send({type:u,data:R},!0)}pcStats(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ(FQ({},h),o),{},{vid:h.vid===void 0?0:Number(h.vid),elapse:f-u.startTime,eventType:f_.PC_STATS,lts:f});this.send({type:k0.PC_STATS,data:m},!0)}updateRemoteRTPCapabilities(r,o){if(r){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ(FQ({},h),o),{},{vid:h.vid===void 0?0:Number(h.vid),eventType:f_.UPDATE_REMOTE_RTPCAPABILITIES,lts:f});this.send({type:k0.UPDATE_REMOTE_RTPCAPABILITIES,data:m},!0)}}onGatewayStream(r,o,u,h){const f=this.baseInfoMap.get(r);if(!f)return;const m=f.info,v=Date.now(),R=FQ(FQ(FQ({},m),h),{},{eventType:o,lts:v});this.send({type:u,data:R},!0)}streamSwitch(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.STREAM_SWITCH,lts:f,isDual:o.isdual,elapse:f-u.startTime,success:o.succ});this.send({type:k0.STREAM_SWITCH,data:m},!0)}requestProxyAppCenter(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.REQUEST_PROXY_APPCENTER,lts:f,eventElapse:f-o.lts,elapse:f-u.startTime,APAddr:o.APAddr,workerManagerList:o.workerManagerList,response:o.response,errorCode:o.ec,success:o.succ});this.send({type:k0.REQUEST_PROXY_APPCENTER,data:m},!0)}requestProxyWorkerManager(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{eventType:f_.REQUEST_PROXY_WORKER_MANAGER,lts:f,eventElapse:f-o.lts,elapse:f-u.startTime,workerManagerAddr:o.workerManagerAddr,response:o.response,errorCode:o.ec,success:o.succ});this.send({type:k0.REQUEST_PROXY_WORKER_MANAGER,data:m},!0)}setProxyServer(r){this.proxyServer=r,r?$.debug("reportProxyServerurl: ".concat(r)):$.debug("disable reportProxyServerurl: ".concat(r))}peerPublishStatus(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ({},h),{},{subscribeElapse:o.subscribeElapse,peer:o.peer,peerPublishDuration:Math.max(o.audioPublishDuration,o.videoPublishDuration),audiotag:o.audioPublishDuration>0?1:-1,videotag:o.videoPublishDuration>0?1:-1,lts:f,elapse:f-u.startTime,joinChannelSuccessElapse:f-(u.lastJoinSuccessTime||f),peerPublishDurationVideo:o.videoPublishDuration,peerPublishDurationAudio:o.audioPublishDuration});this.send({type:k0.PEER_PUBLISH_STATUS,data:m},!0)}workerEvent(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now();(function(v,R,D){const k=v[R];if(!k||typeof k!="string")return[v];v[R]="";const L=rN(JSON.stringify(v));let q=0;const z=[];let _s=0;for(let _n=0;_n<k.length;_n++)_s+=k.charCodeAt(_n)<=127?1:3,_s<=D-L||(z[z.length]=jT(jT({},v),{},{[R]:k.substring(q,_n)}),q=_n,_s=k.charCodeAt(_n)<=127?1:3);return q!==k.length-1&&(z[z.length]=jT(jT({},v),{},{[R]:k.substring(q)})),z})(FQ(FQ(FQ({},h),o),{},{elapse:f-u.startTime,lts:f,productType:"WebRTC"}),"payload",1300).forEach(v=>this.send({type:k0.WORKER_EVENT,data:v},!0))}apworkerEvent(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ(FQ({},h),o),{},{elapse:f-u.startTime,lts:f});this.send({type:k0.AP_WORKER_EVENT,data:m},!0)}joinWebProxyAP(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ(FQ({},h),o),{},{elapse:f-u.startTime,lts:f,extend:o.extend||void 0});this.send({type:k0.JOIN_WEB_PROXY_AP,data:m},!0)}WebSocketQuit(r,o){const u=this.baseInfoMap.get(r);if(!u)return;const h=u.info,f=Date.now(),m=FQ(FQ(FQ({},h),o),{},{elapse:f-u.startTime,lts:f});this.send({type:k0.WEBSOCKET_QUIT,data:m},!0)}async sendCustomReportMessage(r,o){if(this.customReportCount+=o.length,this.customReportCount>la("CUSTOM_REPORT_LIMIT"))throw new _g(ea.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval(()=>{this.customReportCount=0},5e3));const u=Date.now(),h=o.map(f=>({type:k0.USER_ANALYTICS,data:FQ(FQ({sid:r},f),{},{lts:u})}));try{la("NEW_REPORT_SERVER")?await this.postDataToStatsCollector2(h):await this.postDataToStatsCollector(h)}catch(f){throw $.error("send custom report message failed",f.toString()),new _g(ea.CUSTOM_REPORT_SEND_FAILED,f.message)}}sendApiInvoke(r){const o=la("NOT_REPORT_EVENT");if(r.tag&&AQ(o)&&AQ(o).call(o,r.tag))return!1;if(r.sid===null)return this.apiInvokeUploadPendingItems.push(r),!1;const u=this.baseInfoMap.get(r.sid);if(!u)return this.apiInvokeUploadPendingItems.push(r),!1;const{cname:h,uid:f,cid:m}=u.info;let v;if(r.lts=r.lts||Date.now(),r.error)if(r.error instanceof _g){const{code:D,message:k}=r.error;v=D||k||r.error.toString()}else v=r.error.toString();const R={invokeId:r.invokeId,sid:r.sid,cname:h,cid:m,uid:f,lts:r.lts,success:r.success,elapse:r.lts-u.startTime,execElapse:r.lts-r.apiInvokeTime,apiName:r.name,options:r.options?JSON.stringify(r.options):void 0,execStates:r.states?JSON.stringify(r.states):void 0,execResult:r.result?JSON.stringify(r.result):void 0,errorCode:r.error?v:void 0,errorMsg:r.error?JSON.stringify(r.error):void 0};return this.send({type:k0.API_INVOKE,data:R},!1),!0}appendSessionId(){UO.__CLIENT_LIST__.forEach(r=>{if(r._sessionId){const o=this.apiInvokeUploadPendingItems.length;for(let u=0;u<o;u++){const h=this.apiInvokeUploadPendingItems.shift();h&&(h.sid=r._sessionId,this.sendApiInvoke(Object.assign({},h)))}}})}send(r,o){if(o)return this.keyEventUploadPendingItems.push(r),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(r),this.normalEventUploadPendingItems.length>la("NORMAL_EVENT_QUEUE_CAPACITY")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(r,o){const u=[],h=[];for(;r.length;){const m=r.shift();u.length<20?u.push(m):h.push(m)}r.push(...h);for(const m of[...u]){var f;this.ltsList.indexOf(m.data.lts)!==-1?(m.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(m.data.lts)):(this.ltsList.push(m.data.lts),yO(f=this.ltsList).call(f,(v,R)=>v-R))}return o||(this.lastSendNormalEventTime=Date.now()),la("ENABLE_EVENT_REPORT")&&u.length&&(la("NEW_REPORT_SERVER")?this.postDataToStatsCollector2(u):this.postDataToStatsCollector(u)).catch((m=>v=>{la("EVENT_REPORT_RETRY")&&(o?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(m):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(m),this.normalEventUploadPendingItems.length>la("NORMAL_EVENT_QUEUE_CAPACITY")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-la("NORMAL_EVENT_QUEUE_CAPACITY")),$.warning("report: drop normal events"))))})(u)),r}async postDataToStatsCollector2(r){A_.networkState===lS.OFFLINE&&await lc.race([A_.onlineWaiter,N_(2*s_.maxRetryTimeout)]);const o=f=>{let m=new Uint8Array;return f.forEach(v=>{const R=W6(JSON.stringify(v.data)),D=new ArrayBuffer(5),k=(q=>{let z=0;return Object.entries(k0).forEach(_s=>{let[_n,_i]=_s;_i===q.type&&(z=EventNameToID[_n])}),z})(v),L=new DataView(D);L.setUint16(0,R.byteLength,!0),L.setUint8(2,255&k),L.setUint8(3,k>>>8&255),L.setUint8(4,k>>>16&255),m=y9(m,new Uint8Array(D)),m=y9(m,R)}),m},u="event";let h=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(la("NEW_REPORT_SERVER_DOMAINS")[0],"&p=443&d=").concat(u):"https://".concat(la("NEW_REPORT_SERVER_DOMAINS")[0],"/").concat(u);for(let f=0;f<2;f+=1){f===1&&(h=this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(la("NEW_REPORT_SERVER_DOMAINS")[1],"&p=443&d=").concat(u):"https://".concat(la("NEW_REPORT_SERVER_DOMAINS")[1],"/").concat(u));try{await f8(h,{timeout:1e4,data:o(r),headers:FQ(FQ({biz:"webrtc",sendts:Math.round(Date.now()/1e3),debug:"false"},this._appId&&{appid:this._appId}),{},{"Content-Type":"application/octet-stream"})},!0)}catch(m){if(f===1)throw m;continue}return}}async postDataToStatsCollector(r){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const u={msgType:"EventMessages",sentTs:Math.round(Date.now()/1e3),payloads:r.map(m=>JSON.stringify(m)),vid:(m=>{const v=m&&m.data.sid&&this.baseInfoMap.get(m.data.sid);return v&&v.info.vid&&+v.info.vid||0})(r[0])};A_.networkState===lS.OFFLINE&&await lc.race([A_.onlineWaiter,N_(2*s_.maxRetryTimeout)]);const h=o?"/events/proto-raws":"/events/messages";let f=this.url||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(la("EVENT_REPORT_DOMAIN"),"&p=").concat(la("STATS_COLLECTOR_PORT"),"&d=").concat(h):"https://".concat(la("EVENT_REPORT_DOMAIN"),":").concat(la("STATS_COLLECTOR_PORT")).concat(h));for(let m=0;m<2;m+=1){m===1&&(f=this.backupUrl||(this.proxyServer?"https://".concat(this.proxyServer,"/rs/?h=").concat(la("EVENT_REPORT_BACKUP_DOMAIN"),"&p=").concat(la("STATS_COLLECTOR_PORT"),"&d=").concat(h):"https://".concat(la("EVENT_REPORT_BACKUP_DOMAIN"),":").concat(la("STATS_COLLECTOR_PORT")).concat(h)));try{o?await Tae(f,{timeout:1e4,data:u}):await f8(f,{timeout:1e4,data:u})}catch(v){if(m===1)throw v;continue}return}}createBaseInfo(r,o){const u=Object.assign({},xae);return u.sid=r,this.baseInfoMap.set(r,{info:u,startTime:o}),u}reportResourceTiming(r,o){const u=performance.getEntriesByName(r),h=u[u.length-1];h&&this.reportApiInvoke(o,{name:"Client.resourceTiming",options:h,tag:G0.TRACER}).onSuccess()}}function QQ(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r,o,u){const h=u.value;if(typeof h=="function"){const f=A.className||r.__className__||(r.constructor.name==="AgoraRTCClient"?"Client":r.constructor.name);u.value=function(){for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];let D=v;if(A.argsMap)try{D=A.argsMap(this,...v)}catch(L){$.warning(L),D=[]}try{JSON.stringify(D)}catch{$.warning("arguments for method ".concat(f,".").concat(String(o)," not serializable for apiInvoke.")),D=[]}const k=(A.report||cQ).reportApiInvoke(this._sessionId||null,{name:"".concat(f,".").concat(String(o)),options:D,tag:G0.TRACER,reportResult:A.reportResult},A.throttleTime);try{const L=h.apply(this,v);return L instanceof lc?L.then(q=>(k.onSuccess(A.reportResult&&q),q)).catch(q=>{throw k.onError(q),q}):(k.onSuccess(A.reportResult&&L),L)}catch(L){throw k.onError(L),L}}}return u}}j(UO,"__CLIENT_LIST__",[]);const cQ=new UO;mP.on("REPORT_LOG_UPLOAD",A=>{A.networkState=A_.networkState,cQ.reportApiInvoke(null,{name:"logUploadError",options:A,tag:G0.TRACER})});const Uae=["CHINA","GLOBAL"],pS=function(){const A="us".concat("erna","me"),r="pa".concat("sswo","rd"),o=["t","s","t"];o.splice(1,0,"e");const u=o.join(""),h=[];for(let v=0;v<6;v++)h.push("1");const f=h.join(""),m={};return m[A]=u,m[r]=f,Object.assign(m,{turnServerURL:"",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=pS,B8||(hS.WEBCS_DOMAIN=["ap-web-1-oversea.agora.io","ap-web-1-north-america.agora.io"],hS.WEBCS_DOMAIN_BACKUP_LIST=["ap-web-2-oversea.agora.io","ap-web-2-north-america.agora.io"],hS.PROXY_CS=["proxy-ap-web-oversea.agora.io","proxy-ap-web-america.agora.io"],hS.CDS_AP=["cds-ap-web-oversea.agora.io","cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],hS.ACCOUNT_REGISTER=["sua-ap-web-oversea.agora.io","sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],hS.UAP_AP=["uap-ap-web-oversea.agora.io","uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],hS.LOG_UPLOAD_SERVER="logservice-oversea.agora.io",hS.EVENT_REPORT_DOMAIN="statscollector-1-oversea.agora.io",hS.EVENT_REPORT_BACKUP_DOMAIN="statscollector-2-oversea.agora.io",hS.PROXY_SERVER_TYPE3="webrtc-cloud-proxy.agora.io",hS.AREAS=["NORTH_AMERICA","OVERSEA"]);const GW=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],sT=[];function VT(A,r){return!!r&&sT.some(o=>o.uid===A&&o.channelName===r)}UO.__CLIENT_LIST__=sT;var y8,wS,K1,PO,tR,rS,fQ,JQ,nQ,EQ,LN,wQ,FW,iS,vQ,B_,aT,Pae=zN("Array").values,Gae=LT,Fae=e_,Kae=_,jae=Pae,_8=Array.prototype,Hae={DOMTokenList:!0,NodeList:!0},zR=s(function(A){var r=A.values;return A===_8||Kae(_8,A)&&r===_8.values||Fae(Hae,Gae(A))?jae:r});function td(A,r,o,u){var h,f=arguments.length,m=f<3?r:u===null?u=Object.getOwnPropertyDescriptor(r,o):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(A,r,o,u);else for(var v=A.length-1;v>=0;v--)(h=A[v])&&(m=(f<3?h(m):f>3?h(r,o,m):h(r,o))||m);return f>3&&m&&Object.defineProperty(r,o,m),m}function _o(A,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(A,r)}(function(A){A.L1T1="L1T1",A.L1T2="L1T2",A.L1T3="L1T3",A.L2T1_KEY="L2T1_KEY",A.L2T2_KEY="L2T2_KEY",A.L2T3_KEY="L2T3_KEY",A.L3T1_KEY="L3T1_KEY",A.L3T2_KEY="L3T2_KEY",A.L3T3_KEY="L3T3_KEY"})(y8||(y8={})),function(A){A.CERTIFICATE="certificate",A.CODEC="codec",A.CANDIDATE_PAIR="candidate-pair",A.LOCAL_CANDIDATE="local-candidate",A.REMOTE_CANDIDATE="remote-candidate",A.INBOUND="inbound-rtp",A.TRACK="track",A.OUTBOUND="outbound-rtp",A.PC="peer-connection",A.REMOTE_INBOUND="remote-inbound-rtp",A.REMOTE_OUTBOUND="remote-outbound-rtp",A.TRANSPORT="transport",A.CSRC="csrc",A.DATA_CHANNEL="data-channel",A.STREAM="stream",A.SENDER="sender",A.RECEIVER="receiver"}(wS||(wS={})),function(A){A[A.ACCESS_POINT=101]="ACCESS_POINT",A[A.UNILBS=201]="UNILBS",A[A.STRING_UID_ALLOCATOR=901]="STRING_UID_ALLOCATOR"}(K1||(K1={})),function(A){A[A.IIIEGAL_APPID=1]="IIIEGAL_APPID",A[A.IIIEGAL_UID=2]="IIIEGAL_UID",A[A.INTERNAL_ERROR=3]="INTERNAL_ERROR"}(PO||(PO={})),function(A){A[A.INVALID_VENDOR_KEY=5]="INVALID_VENDOR_KEY",A[A.INVALID_CHANNEL_NAME=7]="INVALID_CHANNEL_NAME",A[A.INTERNAL_ERROR=8]="INTERNAL_ERROR",A[A.NO_AUTHORIZED=9]="NO_AUTHORIZED",A[A.DYNAMIC_KEY_TIMEOUT=10]="DYNAMIC_KEY_TIMEOUT",A[A.NO_ACTIVE_STATUS=11]="NO_ACTIVE_STATUS",A[A.DYNAMIC_KEY_EXPIRED=13]="DYNAMIC_KEY_EXPIRED",A[A.STATIC_USE_DYNAMIC_KEY=14]="STATIC_USE_DYNAMIC_KEY",A[A.DYNAMIC_USE_STATIC_KEY=15]="DYNAMIC_USE_STATIC_KEY",A[A.USER_OVERLOAD=16]="USER_OVERLOAD",A[A.FORBIDDEN_REGION=18]="FORBIDDEN_REGION",A[A.CANNOT_MEET_AREA_DEMAND=19]="CANNOT_MEET_AREA_DEMAND"}(tR||(tR={})),function(A){A[A.NO_FLAG_SET=100]="NO_FLAG_SET",A[A.FLAG_SET_BUT_EMPTY=101]="FLAG_SET_BUT_EMPTY",A[A.INVALID_FALG_SET=102]="INVALID_FALG_SET",A[A.FLAG_SET_BUT_NO_RE=103]="FLAG_SET_BUT_NO_RE",A[A.INVALID_SERVICE_ID=104]="INVALID_SERVICE_ID",A[A.NO_SERVICE_AVAILABLE=200]="NO_SERVICE_AVAILABLE",A[A.NO_SERVICE_AVAILABLE_P2P=201]="NO_SERVICE_AVAILABLE_P2P",A[A.NO_SERVICE_AVAILABLE_VOICE=202]="NO_SERVICE_AVAILABLE_VOICE",A[A.NO_SERVICE_AVAILABLE_WEBRTC=203]="NO_SERVICE_AVAILABLE_WEBRTC",A[A.NO_SERVICE_AVAILABLE_CDS=204]="NO_SERVICE_AVAILABLE_CDS",A[A.NO_SERVICE_AVAILABLE_CDN=205]="NO_SERVICE_AVAILABLE_CDN",A[A.NO_SERVICE_AVAILABLE_TDS=206]="NO_SERVICE_AVAILABLE_TDS",A[A.NO_SERVICE_AVAILABLE_REPORT=207]="NO_SERVICE_AVAILABLE_REPORT",A[A.NO_SERVICE_AVAILABLE_APP_CENTER=208]="NO_SERVICE_AVAILABLE_APP_CENTER",A[A.NO_SERVICE_AVAILABLE_ENV0=209]="NO_SERVICE_AVAILABLE_ENV0",A[A.NO_SERVICE_AVAILABLE_VOET=210]="NO_SERVICE_AVAILABLE_VOET",A[A.NO_SERVICE_AVAILABLE_STRING_UID=211]="NO_SERVICE_AVAILABLE_STRING_UID",A[A.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]="NO_SERVICE_AVAILABLE_WEBRTC_UNILBS",A[A.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]="NO_SERVICE_AVAILABLE_UNILBS_FLV"}(rS||(rS={})),function(A){A[A.K_TIMESTAMP_EXPIRED=2]="K_TIMESTAMP_EXPIRED",A[A.K_CHANNEL_PERMISSION_INVALID=3]="K_CHANNEL_PERMISSION_INVALID",A[A.K_CERTIFICATE_INVALID=4]="K_CERTIFICATE_INVALID",A[A.K_CHANNEL_NAME_EMPTY=5]="K_CHANNEL_NAME_EMPTY",A[A.K_CHANNEL_NOT_FOUND=6]="K_CHANNEL_NOT_FOUND",A[A.K_TICKET_INVALID=7]="K_TICKET_INVALID",A[A.K_CHANNEL_CONFLICTED=8]="K_CHANNEL_CONFLICTED",A[A.K_SERVICE_NOT_READY=9]="K_SERVICE_NOT_READY",A[A.K_SERVICE_TOO_HEAVY=10]="K_SERVICE_TOO_HEAVY",A[A.K_UID_BANNED=14]="K_UID_BANNED",A[A.K_IP_BANNED=15]="K_IP_BANNED",A[A.K_CHANNEL_BANNED=16]="K_CHANNEL_BANNED",A[A.K_AUTO_REBALANCE=28]="K_AUTO_REBALANCE",A[A.WARN_NO_AVAILABLE_CHANNEL=103]="WARN_NO_AVAILABLE_CHANNEL",A[A.WARN_LOOKUP_CHANNEL_TIMEOUT=104]="WARN_LOOKUP_CHANNEL_TIMEOUT",A[A.WARN_LOOKUP_CHANNEL_REJECTED=105]="WARN_LOOKUP_CHANNEL_REJECTED",A[A.WARN_OPEN_CHANNEL_TIMEOUT=106]="WARN_OPEN_CHANNEL_TIMEOUT",A[A.WARN_OPEN_CHANNEL_REJECTED=107]="WARN_OPEN_CHANNEL_REJECTED",A[A.WARN_REQUEST_DEFERRED=108]="WARN_REQUEST_DEFERRED",A[A.ERR_DYNAMIC_KEY_TIMEOUT=109]="ERR_DYNAMIC_KEY_TIMEOUT",A[A.ERR_NO_AUTHORIZED=110]="ERR_NO_AUTHORIZED",A[A.ERR_VOM_SERVICE_UNAVAILABLE=111]="ERR_VOM_SERVICE_UNAVAILABLE",A[A.ERR_NO_CHANNEL_AVAILABLE_CODE=112]="ERR_NO_CHANNEL_AVAILABLE_CODE",A[A.ERR_MASTER_VOCS_UNAVAILABLE=114]="ERR_MASTER_VOCS_UNAVAILABLE",A[A.ERR_INTERNAL_ERROR=115]="ERR_INTERNAL_ERROR",A[A.ERR_NO_ACTIVE_STATUS=116]="ERR_NO_ACTIVE_STATUS",A[A.ERR_INVALID_UID=117]="ERR_INVALID_UID",A[A.ERR_DYNAMIC_KEY_EXPIRED=118]="ERR_DYNAMIC_KEY_EXPIRED",A[A.ERR_STATIC_USE_DYANMIC_KE=119]="ERR_STATIC_USE_DYANMIC_KE",A[A.ERR_DYNAMIC_USE_STATIC_KE=120]="ERR_DYNAMIC_USE_STATIC_KE",A[A.ERR_NO_VOCS_AVAILABLE=2e3]="ERR_NO_VOCS_AVAILABLE",A[A.ERR_NO_VOS_AVAILABLE=2001]="ERR_NO_VOS_AVAILABLE",A[A.ERR_JOIN_CHANNEL_TIMEOUT=2002]="ERR_JOIN_CHANNEL_TIMEOUT",A[A.ERR_REPEAT_JOIN_CHANNEL=2003]="ERR_REPEAT_JOIN_CHANNEL",A[A.ERR_JOIN_BY_MULTI_IP=2004]="ERR_JOIN_BY_MULTI_IP",A[A.ERR_NOT_JOINED=2011]="ERR_NOT_JOINED",A[A.ERR_REPEAT_JOIN_REQUEST=2012]="ERR_REPEAT_JOIN_REQUEST",A[A.ERR_INVALID_VENDOR_KEY=2013]="ERR_INVALID_VENDOR_KEY",A[A.ERR_INVALID_CHANNEL_NAME=2014]="ERR_INVALID_CHANNEL_NAME",A[A.ERR_INVALID_STRINGUID=2015]="ERR_INVALID_STRINGUID",A[A.ERR_TOO_MANY_USERS=2016]="ERR_TOO_MANY_USERS",A[A.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]="ERR_SET_CLIENT_ROLE_TIMEOUT",A[A.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]="ERR_SET_CLIENT_ROLE_NO_PERMISSION",A[A.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]="ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",A[A.ERR_PUBLISH_REQUEST_INVALID=2020]="ERR_PUBLISH_REQUEST_INVALID",A[A.ERR_SUBSCRIBE_REQUEST_INVALID=2021]="ERR_SUBSCRIBE_REQUEST_INVALID",A[A.ERR_NOT_SUPPORTED_MESSAGE=2022]="ERR_NOT_SUPPORTED_MESSAGE",A[A.ERR_ILLEAGAL_PLUGIN=2023]="ERR_ILLEAGAL_PLUGIN",A[A.ERR_REJOIN_TOKEN_INVALID=2024]="ERR_REJOIN_TOKEN_INVALID",A[A.ERR_REJOIN_USER_NOT_JOINED=2025]="ERR_REJOIN_USER_NOT_JOINED",A[A.ERR_INVALID_OPTIONAL_INFO=2027]="ERR_INVALID_OPTIONAL_INFO",A[A.ILLEGAL_AES_PASSWORD=2028]="ILLEGAL_AES_PASSWORD",A[A.ILLEGAL_CLIENT_ROLE_LEVEL=2029]="ILLEGAL_CLIENT_ROLE_LEVEL",A[A.ERR_TOO_MANY_BROADCASTERS=2031]="ERR_TOO_MANY_BROADCASTERS",A[A.ERR_TOO_MANY_SUBSCRIBERS=2032]="ERR_TOO_MANY_SUBSCRIBERS",A[A.ERR_LICENSE_MISSING=32769]="ERR_LICENSE_MISSING",A[A.ERR_LICENSE_EXPIRED=32771]="ERR_LICENSE_EXPIRED",A[A.ERR_LICENSE_MINUTES_EXCEEDED=32773]="ERR_LICENSE_MINUTES_EXCEEDED",A[A.ERR_LICENSE_PERIOD_INVALID=32774]="ERR_LICENSE_PERIOD_INVALID",A[A.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]="ERR_LICENSE_MULTIPLE_SDK_SERVICE",A[A.ERR_LICENSE_ILLEGAL=32783]="ERR_LICENSE_ILLEGAL",A[A.ERR_TEST_RECOVER=9e3]="ERR_TEST_RECOVER",A[A.ERR_TEST_TRYNEXT=9001]="ERR_TEST_TRYNEXT",A[A.ERR_TEST_RETRY=9002]="ERR_TEST_RETRY"}(fQ||(fQ={})),function(A){A.CONNECTING="connecting",A.CONNECTED="connected",A.RECONNECTING="reconnecting",A.CLOSED="closed"}(JQ||(JQ={})),function(A){A.WS_CONNECTED="ws_connected",A.WS_RECONNECTING="ws_reconnecting",A.WS_CLOSED="ws_closed",A.WS_RECONNECT_WAITTING_FINISH="ws_reconnect_waitting_finish",A.WS_RECONNECT_CREATE_CONNECTION="ws_reconnect_create_connection",A.ON_BINARY_DATA="on_binary_data",A.REQUEST_RECOVER="request_recover",A.REQUEST_JOIN_INFO="request_join_info",A.REQUEST_REJOIN_INFO="req_rejoin_info",A.IS_P2P_DISCONNECTED="is_p2p_dis",A.DISCONNECT_P2P="dis_p2p",A.ABORT_P2P_EXECUTION="abort_p2p_execution",A.NEED_RENEW_SESSION="need-sid",A.REPORT_JOIN_GATEWAY="report_join_gateway",A.REQUEST_TIMEOUT="request_timeout",A.REQUEST_SUCCESS="request_success",A.JOIN_RESPONSE="join_response",A.DATACHANNEL_PRECONNECT="datachannel_preconnect",A.DATACHANNEL_CONNECTING="datachannel_connecting",A.DATACHANNEL_FAILBACK="datachannel_failback",A.P2P_CONNECTION="p2p_connection",A.P2P_REMOTE_CANDIDATE_UPDATE="p2p_remote_candidate_update",A.P2P_SUBSCRIBE="p2p_subscribe",A.P2P_UNSUBSCRIBE="p2p_unsubscribe",A.P2P_EXCHANGE_SDP="p2p_exchange_sdp",A.P2P_ON_ADD_VIDEO_STREAM="p2p_on_add_video_stream",A.P2P_ON_ADD_AUDIO_STREAM="p2p_on_add_audio_stream"}(nQ||(nQ={})),function(A){A.PING="ping",A.PING_BACK="ping_back",A.JOIN="join_v3",A.REJOIN="rejoin_v3",A.LEAVE="leave",A.SET_CLIENT_ROLE="set_client_role",A.PUBLISH="publish",A.PUBLISH_DATASTREAM="publish_datastream",A.UNPUBLISH="unpublish",A.UNPUBLISH_DATASTREAM="unpublish_datastream",A.SUBSCRIBE="subscribe",A.PRE_SUBSCRIBE="pre_subscribe",A.SUBSCRIBE_DATASTREAM="subscribe_datastream",A.SUBSCRIBE_STREAMS="subscribe_streams",A.UNSUBSCRIBE="unsubscribe",A.UNSUBSCRIBE_DATASTREAM="unsubscribe_datastream",A.UNSUBSCRIBE_STREAMS="unsubscribe_streams",A.SUBSCRIBE_CHANGE="subscribe_change",A.TRAFFIC_STATS="traffic_stats",A.RENEW_TOKEN="renew_token",A.SWITCH_VIDEO_STREAM="switch_video_stream",A.DEFAULT_VIDEO_STREAM="default_video_stream",A.SET_FALLBACK_OPTION="set_fallback_option",A.GATEWAY_INFO="gateway_info",A.CONTROL="control",A.SEND_METADATA="send_metadata",A.DATA_STREAM="data_stream",A.PICK_SVC_LAYER="pick_svc_layer",A.RESTART_ICE="restart_ice",A.CONNECT_PC="connect_pc",A.SET_VIDEO_PROFILE="set_video_profile",A.SET_PARAMETER="set_parameter",A.SET_RTM2_FLAG="set_rtm2_flag"}(EQ||(EQ={})),function(A){A.WRTC_STATS="wrtc_stats",A.WS_INFLATE_DATA_LENGTH="ws_inflate_data_length",A.DENOISER_STATS="denoiser_stats",A.EXTENSION_USAGE_STATS="extension_usage_stats"}(LN||(LN={})),function(A){A.ON_USER_ONLINE="on_user_online",A.ON_USER_OFFLINE="on_user_offline",A.ON_STREAM_FALLBACK_UPDATE="on_stream_fallback_update",A.ON_PUBLISH_STREAM="on_publish_stream",A.ON_UPLINK_STATS="on_uplink_stats",A.ON_P2P_LOST="on_p2p_lost",A.ON_REMOVE_STREAM="on_remove_stream",A.ON_ADD_AUDIO_STREAM="on_add_audio_stream",A.ON_ADD_VIDEO_STREAM="on_add_video_stream",A.ON_TOKEN_PRIVILEGE_WILL_EXPIRE="on_token_privilege_will_expire",A.ON_TOKEN_PRIVILEGE_DID_EXPIRE="on_token_privilege_did_expire",A.ON_USER_BANNED="on_user_banned",A.ON_USER_LICENSE_BANNED="on_user_license_banned",A.ON_NOTIFICATION="on_notification",A.ON_CRYPT_ERROR="on_crypt_error",A.MUTE_AUDIO="mute_audio",A.MUTE_VIDEO="mute_video",A.UNMUTE_AUDIO="unmute_audio",A.UNMUTE_VIDEO="unmute_video",A.ON_P2P_OK="on_p2p_ok",A.RECEIVE_METADATA="receive_metadata",A.ON_DATA_STREAM="on_data_stream",A.ON_RTP_CAPABILITY_CHANGE="on_rtp_capability_change",A.ON_REMOTE_DATASTREAM_UPDATE="on_remote_datastream_update",A.ON_REMOTE_FULL_DATASTREAM_INFO="on_remote_full_datastream_info",A.ENABLE_LOCAL_VIDEO="enable_local_video",A.DISABLE_LOCAL_VIDEO="disable_local_video",A.ENABLE_LOCAL_AUDIO="enable_local_audio",A.DISABLE_LOCAL_AUDIO="disable_local_audio",A.ON_PUBLISHED_USER_LIST="on_published_user_list"}(wQ||(wQ={})),function(A){A.CONNECTION_STATE_CHANGE="CONNECTION_STATE_CHANGE",A.NEED_ANSWER="NEED_ANSWER",A.NEED_RENEGOTIATE="NEED_RENEGOTIATE",A.P2P_LOST="P2P_LOST",A.GATEWAY_P2P_LOST="GATEWAY_P2P_LOST",A.NEED_UNPUB="NEED_UNPUB",A.NEED_UNSUB="NEED_UNSUB",A.NEED_UPLOAD="NEED_UPLOAD",A.NEED_CONTROL="NEED_CONTROL",A.START_RECONNECT="START_RECONNECT",A.END_RECONNECT="END_RECONNECT",A.NEED_SIGNAL_RTT="NEED_SIGNAL_RTT"}(FW||(FW={})),function(A){A.SEND_ONLY="SEND_ONLY",A.RECEIVE_ONLY="RECEIVE_ONLY"}(iS||(iS={})),function(A){A.CONNECTED="websocket:connected",A.RECONNECTING="websocket:reconnecting",A.WILL_RECONNECT="websocket:will_reconnect",A.CLOSED="websocket:closed",A.FAILED="websocket:failed",A.ON_MESSAGE="websocket:on_message",A.REQUEST_NEW_URLS="websocket:request_new_urls",A.RECONNECT_WAITTING_FINISH="websocket:reconnect_waitting_finish",A.RECONNECT_CREATE_CONNECTION="websocket:reconnect_create_connection",A.ON_TOKEN_PRIVILEGE_DID_EXPIRE="websocket:on_token_privilege_did_expire"}(vQ||(vQ={}));class Oa extends _g{constructor(r){super(r,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",arguments.length>2?arguments[2]:void 0),j(this,"name","AgoraRTCException")}print(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"error";return super.print(r,$)}throw(){super.throw($)}}function v8(A){if(typeof A!="string"||!/^[a-zA-Z0-9 \!\#\$\%\&\(\)\+\-\:\;\<\=\.\>\?\@\[\]\^\_\{\}\|\~\,]{1,64}$/.test(A))throw $.error("Invalid Channel Name ".concat(A)),new Oa(ea.INVALID_PARAMS,"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,")}function S8(A){if(r=A,!(typeof r=="number"&&Math.floor(r)===r&&0<=r&&r<=4294967295||f9(A,1,255)))throw new Oa(ea.INVALID_PARAMS,"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]");var r;typeof A=="string"&&$.warn("You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.")}(function(A){A.TRANSCODE="mix_streaming",A.RAW="raw_streaming",A.INJECT="inject_streaming"})(B_||(B_={})),function(A){A[A.INJECT_STREAM_STATUS_START_SUCCESS=0]="INJECT_STREAM_STATUS_START_SUCCESS",A[A.INJECT_STREAM_STATUS_START_ALREADY_EXISTS=1]="INJECT_STREAM_STATUS_START_ALREADY_EXISTS",A[A.INJECT_STREAM_STATUS_START_UNAUTHORIZED=2]="INJECT_STREAM_STATUS_START_UNAUTHORIZED",A[A.INJECT_STREAM_STATUS_START_TIMEOUT=3]="INJECT_STREAM_STATUS_START_TIMEOUT",A[A.INJECT_STREAM_STATUS_START_FAILED=4]="INJECT_STREAM_STATUS_START_FAILED",A[A.INJECT_STREAM_STATUS_STOP_SUCCESS=5]="INJECT_STREAM_STATUS_STOP_SUCCESS",A[A.INJECT_STREAM_STATUS_STOP_NOT_FOUND=6]="INJECT_STREAM_STATUS_STOP_NOT_FOUND",A[A.INJECT_STREAM_STATUS_STOP_UNAUTHORIZED=7]="INJECT_STREAM_STATUS_STOP_UNAUTHORIZED",A[A.INJECT_STREAM_STATUS_STOP_TIMEOUT=8]="INJECT_STREAM_STATUS_STOP_TIMEOUT",A[A.INJECT_STREAM_STATUS_STOP_FAILED=9]="INJECT_STREAM_STATUS_STOP_FAILED",A[A.INJECT_STREAM_STATUS_BROKEN=10]="INJECT_STREAM_STATUS_BROKEN"}(aT||(aT={}));const Yae={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},R8={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function w8(A,r){W_(A.url,"".concat(r,".url"),1,1e3,!1),P0(A.x)||h0(A.x,"".concat(r,".x"),0,1e4),P0(A.y)||h0(A.y,"".concat(r,".y"),0,1e4),P0(A.width)||h0(A.width,"".concat(r,".width"),0,1e4),P0(A.height)||h0(A.height,"".concat(r,".height"),0,1e4),P0(A.zOrder)||h0(A.zOrder,"".concat(r,".zOrder"),0,255),P0(A.alpha)||h0(A.alpha,"".concat(r,".alpha"),0,1,!1)}const Jae={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:""},Vae={audioBitrate:48,audioChannels:2,audioVolume:100,audioSampleRate:48e3,height:0,width:0,videoBitrate:400,videoFramerate:15,videoGop:30};var kR,j1,t_,KW,oS,ZR,fS,cT,a0,j0,qT,d_,_P,r0;function jW(A){if(!A.channelName)throw new Oa(ea.INVALID_PARAMS,"invalid channelName in info");if(typeof A.uid!="number")throw new Oa(ea.INVALID_PARAMS,"invalid uid in info, uid must be a number");return A.token&&W_(A.token,"info.token",1,2047),S8(A.uid),v8(A.channelName),!0}(function(A){A.WARNING="@live_uap-warning",A.ERROR="@line_uap-error",A.PUBLISH_STREAM_STATUS="@live_uap-publish-status",A.INJECT_STREAM_STATUS="@live_uap-inject-status",A.WORKER_STATUS="@live_uap-worker-status",A.REQUEST_NEW_ADDRESS="@live_uap-request-address"})(kR||(kR={})),function(A){A.REQUEST_WORKER_MANAGER_LIST="@live_req_worker_manager"}(j1||(j1={})),function(A){A[A.LIVE_STREAM_RESPONSE_SUCCEED=200]="LIVE_STREAM_RESPONSE_SUCCEED",A[A.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]="LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM",A[A.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]="LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR",A[A.LIVE_STREAM_RESPONSE_BAD_STREAM=451]="LIVE_STREAM_RESPONSE_BAD_STREAM",A[A.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]="LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR",A[A.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]="LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST",A[A.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]="LIVE_STREAM_RESPONSE_NOT_AUTHORIZED",A[A.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]="LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE",A[A.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]="LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN",A[A.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]="LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH",A[A.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]="LIVE_STREAM_RESPONSE_NOT_SUPPORTED",A[A.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]="LIVE_STREAM_RESPONSE_MAX_STREAM_NUM",A[A.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]="LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR",A[A.LIVE_STREAM_RESPONSE_WORKER_LOST=501]="LIVE_STREAM_RESPONSE_WORKER_LOST",A[A.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]="LIVE_STREAM_RESPONSE_RESOURCE_LIMIT",A[A.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]="LIVE_STREAM_RESPONSE_WORKER_QUIT",A[A.ERROR_FAIL_SEND_MESSAGE=504]="ERROR_FAIL_SEND_MESSAGE",A[A.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]="PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE",A[A.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]="PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT",A[A.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]="PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH",A[A.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]="PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN"}(t_||(t_={})),function(A){A.CONNECT_FAILED="connect failed",A.CONNECT_TIMEOUT="connect timeout",A.WS_DISCONNECTED="websocket disconnected",A.REQUEST_TIMEOUT="request timeout",A.REQUEST_FAILED="request failed",A.WAIT_STATUS_TIMEOUT="wait status timeout",A.WAIT_STATUS_ERROR="wait status error",A.BAD_STATE="bad state",A.WS_ABORT="ws abort",A.AP_REQUEST_TIMEOUT="AP request timeout",A.AP_JSON_PARSE_ERROR="AP json parse error",A.AP_REQUEST_ERROR="AP request error",A.AP_REQUEST_ABORT="AP request abort"}(KW||(KW={})),function(A){A[A.SetSdkProfile=0]="SetSdkProfile",A[A.SetSourceChannel=1]="SetSourceChannel",A[A.SetSourceUserId=2]="SetSourceUserId",A[A.SetDestChannel=3]="SetDestChannel",A[A.StartPacketTransfer=4]="StartPacketTransfer",A[A.StopPacketTransfer=5]="StopPacketTransfer",A[A.UpdateDestChannel=6]="UpdateDestChannel",A[A.Reconnect=7]="Reconnect",A[A.SetVideoProfile=8]="SetVideoProfile"}(oS||(oS={})),function(A){A.NETWORK_DISCONNECTED="NETWORK_DISCONNECTED",A.NETWORK_CONNECTED="NETWORK_CONNECTED",A.PACKET_JOINED_SRC_CHANNEL="PACKET_JOINED_SRC_CHANNEL",A.PACKET_JOINED_DEST_CHANNEL="PACKET_JOINED_DEST_CHANNEL",A.PACKET_SENT_TO_DEST_CHANNEL="PACKET_SENT_TO_DEST_CHANNEL",A.PACKET_RECEIVED_VIDEO_FROM_SRC="PACKET_RECEIVED_VIDEO_FROM_SRC",A.PACKET_RECEIVED_AUDIO_FROM_SRC="PACKET_RECEIVED_AUDIO_FROM_SRC",A.PACKET_UPDATE_DEST_CHANNEL="PACKET_UPDATE_DEST_CHANNEL",A.PACKET_UPDATE_DEST_CHANNEL_REFUSED="PACKET_UPDATE_DEST_CHANNEL_REFUSED",A.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE="PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE"}(ZR||(ZR={})),function(A){A.RELAY_STATE_IDLE="RELAY_STATE_IDLE",A.RELAY_STATE_CONNECTING="RELAY_STATE_CONNECTING",A.RELAY_STATE_RUNNING="RELAY_STATE_RUNNING",A.RELAY_STATE_FAILURE="RELAY_STATE_FAILURE"}(fS||(fS={})),function(A){A.RELAY_OK="RELAY_OK",A.SERVER_CONNECTION_LOST="SERVER_CONNECTION_LOST",A.SRC_TOKEN_EXPIRED="SRC_TOKEN_EXPIRED",A.DEST_TOKEN_EXPIRED="DEST_TOKEN_EXPIRED"}(cT||(cT={})),function(A){A.High="high",A.Low="low",A.Audio="audio",A.Screen="screen",A.ScreenLow="screen_low"}(a0||(a0={})),function(A){A.DISCONNECT="disconnect",A.CONNECTION_STATE_CHANGE="connection-state-change",A.NETWORK_QUALITY="network-quality",A.STREAM_TYPE_CHANGE="stream-type-change",A.IS_P2P_DISCONNECTED="is-p2p-dis",A.DISCONNECT_P2P="dis-p2p",A.REQUEST_NEW_GATEWAY_LIST="req-gate-url",A.NEED_RENEW_SESSION="need-sid",A.REQUEST_P2P_CONNECTION_PARAMS="request-p2p-connection-params",A.JOIN_RESPONSE="join-response",A.REQUEST_DC_CONNECTION_PARAMS="request-dc-connection-params",A.RESET_CONNECTION_EVENTS="reset-connection-events",A.DATACHANNEL_PRECONNECT="datachannel_preconnect",A.DATACHANNEL_FAILBACK="datachannel_failback",A.RESET_SIGNAL="reset-signal"}(j0||(j0={})),function(A){A.P2P_DISCONNECTED="P2P_DISCONNECTED",A.A_ROUND_WS_FAILED="A_ROUND_WS_FAILED",A.TIMEOUT="TIMEOUT",A.UNKNOWN_REASON="UNKNOWN_REASON"}(qT||(qT={})),function(A){A[A.Nothing=0]="Nothing",A[A.Audio=1]="Audio",A[A.LwoVideo=2]="LwoVideo",A[A.Video=4]="Video",A[A.Data=8]="Data",A[A.DataStream0=256]="DataStream0",A[A.DataStream1=512]="DataStream1",A[A.DataStream2=1024]="DataStream2",A[A.DataStream3=2048]="DataStream3",A[A.DataStream4=4096]="DataStream4",A[A.DataStream5=8192]="DataStream5",A[A.DataStream6=16384]="DataStream6",A[A.DataStream7=32768]="DataStream7"}(d_||(d_={})),function(A){A[A.websocket=0]="websocket",A[A.datachannel=1]="datachannel"}(_P||(_P={})),function(A){A.CHINA="CHINA",A.ASIA="ASIA",A.NORTH_AMERICA="NORTH_AMERICA",A.EUROPE="EUROPE",A.JAPAN="JAPAN",A.INDIA="INDIA",A.KOREA="KOREA",A.HKMC="HKMC",A.US="US",A.OCEANIA="OCEANIA",A.SOUTH_AMERICA="SOUTH_AMERICA",A.AFRICA="AFRICA",A.OVERSEA="OVERSEA",A.GLOBAL="GLOBAL",A.EXTENSIONS="EXTENSIONS"}(r0||(r0={}));const HW=[r0.AFRICA,r0.ASIA,r0.CHINA,r0.EUROPE,r0.GLOBAL,r0.INDIA,r0.JAPAN,r0.NORTH_AMERICA,r0.OCEANIA,r0.OVERSEA,r0.SOUTH_AMERICA];var G_;(function(A){A.CHINA="CN",A.ASIA="AS",A.NORTH_AMERICA="NA",A.EUROPE="EU",A.JAPAN="JP",A.INDIA="IN",A.KOREA="KR",A.HKMC="HK",A.US="US",A.OCEANIA="OC",A.SOUTH_AMERICA="SA",A.AFRICA="AF",A.OVERSEA="OVERSEA",A.GLOBAL="GLOBAL",A.EXTENSIONS="GLOBAL"})(G_||(G_={}));const vP={CHINA:{},ASIA:{CODE:G_.ASIA,WEBCS_DOMAIN:["ap-web-1-asia.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-asia.agora.io"],PROXY_CS:["proxy-ap-web-asia.agora.io"],CDS_AP:["cds-ap-web-asia.agora.io","cds-ap-web-asia2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-asia.agora.io","sua-ap-web-asia2.agora.io"],UAP_AP:["uap-ap-web-asia.agora.io","uap-ap-web-asia2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_SERVER_TYPE3:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]},NORTH_AMERICA:{CODE:G_.NORTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-north-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-north-america.agora.io"],PROXY_CS:["proxy-ap-web-america.agora.io"],CDS_AP:["cds-ap-web-america.agora.io","cds-ap-web-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-america.agora.io","sua-ap-web-america2.agora.io"],UAP_AP:["uap-ap-web-america.agora.io","uap-ap-web-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_SERVER_TYPE3:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]},EUROPE:{CODE:G_.EUROPE,WEBCS_DOMAIN:["ap-web-1-europe.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-europe.agora.io"],PROXY_CS:["proxy-ap-web-europe.agora.io"],CDS_AP:["cds-ap-web-europe.agora.io","cds-ap-web-europe2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-europe.agora.io","sua-ap-web-europe.agora.io"],UAP_AP:["uap-ap-web-europe.agora.io","uap-ap-web-europe2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_SERVER_TYPE3:["europe.webrtc-cloud-proxy.sd-rtn.com"]},JAPAN:{CODE:G_.JAPAN,WEBCS_DOMAIN:["ap-web-1-japan.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-japan.agora.io"],PROXY_CS:["proxy-ap-web-japan.agora.io"],CDS_AP:["cds-ap-web-japan.agora.io","cds-ap-web-japan2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-japan.agora.io","sua-ap-web-japan2.agora.io"],UAP_AP:["uap-ap-web-japan.agora.io","uap-ap-web-japan2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_SERVER_TYPE3:["japan.webrtc-cloud-proxy.sd-rtn.com"]},INDIA:{CODE:G_.INDIA,WEBCS_DOMAIN:["ap-web-1-india.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-india.agora.io"],PROXY_CS:["proxy-ap-web-india.agora.io"],CDS_AP:["cds-ap-web-india.agora.io","cds-ap-web-india2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-india.agora.io","sua-ap-web-india2.agora.io"],UAP_AP:["uap-ap-web-india.agora.io","uap-ap-web-india2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_SERVER_TYPE3:["india.webrtc-cloud-proxy.sd-rtn.com"]},KOREA:{CODE:G_.KOREA,WEBCS_DOMAIN:["ap-web-1-korea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-korea.agora.io"],PROXY_CS:["proxy-ap-web-korea.agora.io"],CDS_AP:["cds-ap-web-korea.agora.io","cds-ap-web-korea2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-korea.agora.io","sua-ap-web-korea2.agora.io"],UAP_AP:["uap-ap-web-korea.agora.io","uap-ap-web-korea2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_SERVER_TYPE3:["korea.webrtc-cloud-proxy.sd-rtn.com"]},HKMC:{CODE:G_.HKMC,WEBCS_DOMAIN:["ap-web-1-hkmc.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-hkmc.agora.io"],PROXY_CS:["proxy-ap-web-hkmc.agora.io"],CDS_AP:["cds-ap-web-hkmc.agora.io","cds-ap-web-hkmc2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-hkmc.agora.io","sua-ap-web-hkmc2.agora.io"],UAP_AP:["uap-ap-web-hkmc.agora.io","uap-ap-web-hkmc2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-hkmc.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-hkmc.agora.io"],LOG_UPLOAD_SERVER:["logservice-hkmc.agora.io"],PROXY_SERVER_TYPE3:["hkmc.webrtc-cloud-proxy.sd-rtn.com"]},US:{CODE:G_.US,WEBCS_DOMAIN:["ap-web-1-us.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-us.agora.io"],PROXY_CS:["proxy-ap-web-us.agora.io"],CDS_AP:["cds-ap-web-us.agora.io","cds-ap-web-us2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-us.agora.io","sua-ap-web-us2.agora.io"],UAP_AP:["uap-ap-web-us.agora.io","uap-ap-web-us2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_SERVER_TYPE3:["us.webrtc-cloud-proxy.sd-rtn.com"]},OVERSEA:{CODE:G_.OVERSEA,WEBCS_DOMAIN:["ap-web-1-oversea.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oversea.agora.io"],PROXY_CS:["proxy-ap-web-oversea.agora.io"],CDS_AP:["cds-ap-web-oversea.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oversea.agora.io"],UAP_AP:["uap-ap-web-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.agora.io"]},GLOBAL:{CODE:G_.GLOBAL,WEBCS_DOMAIN:["webrtc2-ap-web-1.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-ap-web-3.agora.io"],PROXY_CS:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],CDS_AP:["cds-ap-web-1.agora.io","cds-ap-web-3.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-1.agora.io","sua-ap-web-3.agora.io"],UAP_AP:["uap-ap-web-1.agora.io","uap-ap-web-3.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2.agora.io"],LOG_UPLOAD_SERVER:["logservice.agora.io"],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy.sd-rtn.com"]},OCEANIA:{CODE:G_.OCEANIA,WEBCS_DOMAIN:["ap-web-1-oceania.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-oceania.agora.io"],PROXY_CS:["proxy-ap-web-oceania.agora.io"],CDS_AP:["cds-ap-web-oceania.agora.io","cds-ap-web-oceania2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-oceania.agora.io","sua-ap-web-oceania2.agora.io"],UAP_AP:["uap-ap-web-oceania.agora.io","uap-ap-web-oceania2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_SERVER_TYPE3:["oceania.webrtc-cloud-proxy.sd-rtn.com"]},SOUTH_AMERICA:{CODE:G_.SOUTH_AMERICA,WEBCS_DOMAIN:["ap-web-1-south-america.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-south-america.agora.io"],PROXY_CS:["proxy-ap-web-south-america.agora.io"],CDS_AP:["cds-ap-web-south-america.agora.io","cds-ap-web-south-america2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-south-america.agora.io","sua-ap-web-south-america2.agora.io"],UAP_AP:["uap-ap-web-south-america.agora.io","uap-ap-web-south-america2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_SERVER_TYPE3:["south-america.webrtc-cloud-proxy.sd-rtn.com"]},AFRICA:{CODE:G_.AFRICA,WEBCS_DOMAIN:["ap-web-1-africa.agora.io"],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-africa.agora.io"],PROXY_CS:["proxy-ap-web-africa.agora.io"],CDS_AP:["cds-ap-web-africa.agora.io","cds-ap-web-africa2.agora.io"],ACCOUNT_REGISTER:["sua-ap-web-africa.agora.io","sua-ap-web-africa2.agora.io"],UAP_AP:["uap-ap-web-africa.agora.io","uap-ap-web-africa2.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_SERVER_TYPE3:["africa.webrtc-cloud-proxy.sd-rtn.com"]},EXTENSIONS:{}};var GO,YW,sQ,X_,$R,_d,d0,mQ,JW,nR,rR,Q_,oN,X0,OR,VW,KS,BR,uT,H0,gT,AN,qW,b8;B8&&(vP.CHINA={CODE:G_.CHINA,WEBCS_DOMAIN:["webrtc2-2.ap.sd-rtn.com"],WEBCS_DOMAIN_BACKUP_LIST:["webrtc2-4.ap.sd-rtn.com"],PROXY_CS:["proxy-web.ap.sd-rtn.com"],CDS_AP:["cds-web-2.ap.sd-rtn.com","cds-web-4.ap.sd-rtn.com"],ACCOUNT_REGISTER:["sua-web-2.ap.sd-rtn.com","sua-web-4.ap.sd-rtn.com"],UAP_AP:["uap-web-2.ap.sd-rtn.com","uap-web-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_SERVER_TYPE3:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),function(A){A.UPDATE_BITRATE_LIMIT="update_bitrate_limit"}(GO||(GO={}));class WW extends x0{constructor(r,o){super(),j(this,"onICEConnectionStateChange",void 0),j(this,"onConnectionStateChange",void 0),j(this,"onDTLSTransportStateChange",void 0),j(this,"onDTLSTransportError",void 0),j(this,"onICETransportStateChange",void 0),j(this,"onFirstAudioReceived",void 0),j(this,"onFirstVideoReceived",void 0),j(this,"onFirstAudioDecoded",void 0),j(this,"onFirstVideoDecoded",void 0),j(this,"onFirstVideoDecodedTimeout",void 0),j(this,"onSelectedLocalCandidateChanged",void 0),j(this,"onSelectedRemoteCandidateChanged",void 0)}}class SP extends WW{constructor(r,o){super(r,o)}}(function(A){A.SEND="sendonly",A.RECV="recvonly",A.SENDRECV="sendrecv",A.INACTIVE="inactive"})(YW||(YW={})),function(A){A.VIDEO="video",A.AUDIO="audio"}(sQ||(sQ={})),function(A){A[A.UDP=0]="UDP",A[A.TCP=1]="TCP",A[A.RELAY=2]="RELAY"}(X_||(X_={})),function(A){A[A.FIRST_CONNECTION=0]="FIRST_CONNECTION",A[A.TCP_RESTART=1]="TCP_RESTART",A[A.RELAY_RESTART=2]="RELAY_RESTART",A[A.OLD_FIRST_CONNECTION=10]="OLD_FIRST_CONNECTION",A[A.OLD_RESTART=11]="OLD_RESTART",A[A.DISCONNECTED_OR_FAILED=20]="DISCONNECTED_OR_FAILED"}($R||($R={})),function(A){A.LocalVideoTrack="videoTrack",A.LocalAudioTrack="audioTrack",A.LocalVideoLowTrack="videoLowTrack"}(_d||(_d={})),function(A){A.New="new",A.Connected="connected",A.Reconnecting="reconnecting",A.Disconnected="disconnected"}(d0||(d0={})),function(A){A.StateChange="stateChange",A.IceConnectionStateChange="iceConnectionStateChange",A.RequestMuteLocal="requestMuteLocal",A.RequestUnmuteLocal="requestUnmuteLocal",A.RequestRePublish="requestRePublish",A.RequestRePublishDataChannel="requestRePublishDataChannel",A.RequestReSubscribe="requestReSubscribe",A.RequestUploadStats="requestUploadStats",A.RequestUpload="requestUpload",A.MediaReconnectStart="MediaReconnectStart",A.MediaReconnectEnd="MediaReconnectEnd",A.NeedSignalRTT="NeedSignalRTT",A.RequestRestartICE="RequestRestartIce",A.PeerConnectionStateChange="PeerConnectionStateChange",A.RequestReconnect="RequestReconnect",A.RequestReconnectPC="RequestReconnectPC",A.RequestUnpublishForReconnectPC="RequestUnpublishForReconnectPC",A.P2PLost="P2PLost",A.UpdateVideoEncoder="UpdateVideoEncoder",A.ConnectionTypeChange="ConnectionTypeChange",A.RequestLowStreamParameter="RequestLowStreamParameter",A.QueryClientConnectionState="QueryClientConnectionState",A.LocalCandidate="LocalCandidate",A.RequestP2PMuteLocal="requestP2PMuteLocal",A.RequestP2PUnPublish="RequestP2PUnPublish",A.RequestP2PUnmuteRemote="RequestP2PUnmuteRemote",A.RequestP2PMuteRemote="RequestP2PMuteRemote",A.RequestP2PRestartICE="RequestP2PRestartICE"}(mQ||(mQ={})),function(A){A.MUTE_LOCAL_VIDEO="mute_local_video",A.MUTE_LOCAL_AUDIO="mute_local_audio",A.UNMUTE_LOCAL_VIDEO="unmute_local_video",A.UNMUTE_LOCAL_AUDIO="unmute_local_audio",A.MUTE_REMOTE_VIDEO="mute_remote_video",A.MUTE_REMOTE_AUDIO="mute_remote_audio",A.UNMUTE_REMOTE_VIDEO="unmute_remote_video",A.UNMUTE_REMOTE_AUDIO="unmute_remote_audio"}(JW||(JW={})),function(A){A.CONNECTING="CONNECTING",A.RECONNECTING="RECONNECTING",A.CONNECTED="CONNECTED",A.CLOSED="CLOSED"}(nR||(nR={})),function(A){A[A.CONNECT_AP=0]="CONNECT_AP",A[A.AP_CONNECTED=1]="AP_CONNECTED",A[A.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",A[A.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",A[A.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",A[A.CONNECT_WORKER=5]="CONNECT_WORKER",A[A.WORKER_CONNECTED=6]="WORKER_CONNECTED",A[A.CLOSED=7]="CLOSED"}(rR||(rR={})),function(A){A.CONNECTION_STATE_CHANGE="connection-state-change",A.STATE_CHANGE="state-change",A.INSPECT_RESULT="inspect-result",A.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",A.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(Q_||(Q_={})),function(A){A.NETWORK_ERROR="NETWORK_ERROR",A.SERVER_ERROR="SERVER_ERROR",A.MULTI_IP="MULTI_IP",A.TIMEOUT="TIMEOUT",A.OFFLINE="OFFLINE",A.LEAVE="LEAVE",A.P2P_FAILED="P2P_FAILED",A.FALLBACK="FALLBACK"}(oN||(oN={})),function(A){A.CONNECTED="transmitter:connected",A.RECONNECTING="transmitter:reconnecting",A.WILL_RECONNECT="transmitter:will_reconnect",A.CLOSED="transmitter:closed",A.FAILED="transmitter:failed",A.ON_MESSAGE="transmitter:on_message",A.REQUEST_NEW_URLS="transmitter:request_new_urls",A.RECONNECT_WAITTING_FINISH="transmitter:reconnect_waitting_finish",A.RECONNECT_CREATE_CONNECTION="transmitter:reconnect_create_connection",A.ON_TOKEN_PRIVILEGE_DID_EXPIRE="transmitter:on_token_privilege_did_expire",A.TO_CONNECT_DATACHANNEL="transmitter:to_connect_datachannel",A.FAILBACK="transmitter:failback"}(X0||(X0={})),function(A){A.CAMERA_CHANGED="camera-changed",A.MICROPHONE_CHANGED="microphone-changed",A.PLAYBACK_DEVICE_CHANGED="playback-device-changed",A.AUDIO_AUTOPLAY_FAILED="audio-autoplay-failed",A.AUTOPLAY_FAILED="autoplay-failed",A.AUDIO_CONTEXT_STATE_CHANGED="audio-context-state-changed",A.SECURITY_POLICY_VIOLATION="security-policy-violation"}(OR||(OR={})),function(A){A[A.APP_TYPE_INVALID_VALUE=-1]="APP_TYPE_INVALID_VALUE",A[A.APP_TYPE_NATIVE=0]="APP_TYPE_NATIVE",A[A.APP_TYPE_NATIVE_COCOS=1]="APP_TYPE_NATIVE_COCOS",A[A.APP_TYPE_NATIVE_UNITY=2]="APP_TYPE_NATIVE_UNITY",A[A.APP_TYPE_NATIVE_ELECTRON=3]="APP_TYPE_NATIVE_ELECTRON",A[A.APP_TYPE_NATIVE_FLUTTER=4]="APP_TYPE_NATIVE_FLUTTER",A[A.APP_TYPE_NATIVE_UNREAL=5]="APP_TYPE_NATIVE_UNREAL",A[A.APP_TYPE_NATIVE_XAMARIN=6]="APP_TYPE_NATIVE_XAMARIN",A[A.APP_TYPE_NATIVE_API_CLOUD=7]="APP_TYPE_NATIVE_API_CLOUD",A[A.APP_TYPE_NATIVE_REACT_NATIVE=8]="APP_TYPE_NATIVE_REACT_NATIVE",A[A.APP_TYPE_NATIVE_PYTHON=9]="APP_TYPE_NATIVE_PYTHON",A[A.APP_TYPE_NATIVE_COCOS_CREATOR=10]="APP_TYPE_NATIVE_COCOS_CREATOR",A[A.APP_TYPE_NATIVE_RUST=11]="APP_TYPE_NATIVE_RUST",A[A.APP_TYPE_NATIVE_C_SHARP=12]="APP_TYPE_NATIVE_C_SHARP",A[A.APP_TYPE_NATIVE_CEF=13]="APP_TYPE_NATIVE_CEF",A[A.APP_TYPE_NATIVE_UNI_APP=14]="APP_TYPE_NATIVE_UNI_APP",A[A.APP_TYPE_WEBRTC=1e3]="APP_TYPE_WEBRTC",A[A.APP_TYPE_WEBRTC_REACT=1001]="APP_TYPE_WEBRTC_REACT",A[A.APP_TYPE_WEBRTC_VUE=1002]="APP_TYPE_WEBRTC_VUE",A[A.APP_TYPE_WEBRTC_ANGULAR=1003]="APP_TYPE_WEBRTC_ANGULAR"}(VW||(VW={})),function(A){A.CONNECTING="CONNECTING",A.RECONNECTING="RECONNECTING",A.CONNECTED="CONNECTED",A.CLOSED="CLOSED"}(KS||(KS={})),function(A){A.CONNECTION_STATE_CHANGE="connection-state-change",A.STATE_CHANGE="state-change",A.INSPECT_RESULT="inspect-result",A.CLIENT_LOCAL_VIDEO_TRACK="client-local-video-track",A.REQUEST_NEW_WORKER_URL="request-new-worker-url"}(BR||(BR={})),function(A){A[A.CONNECT_AP=0]="CONNECT_AP",A[A.AP_CONNECTED=1]="AP_CONNECTED",A[A.CONNECT_WORKER_MANAGER=2]="CONNECT_WORKER_MANAGER",A[A.WORKER_MANAGER_CONNECTED=3]="WORKER_MANAGER_CONNECTED",A[A.GET_WORKER_MANAGER_RESPONSE=4]="GET_WORKER_MANAGER_RESPONSE",A[A.CONNECT_WORKER=5]="CONNECT_WORKER",A[A.WORKER_CONNECTED=6]="WORKER_CONNECTED",A[A.CLOSED=7]="CLOSED"}(uT||(uT={})),function(A){A.CALL="call",A.CANDIDATE="candidate",A.PUBLISH="publish",A.UNPUBLISH="unpublish",A.CONTROL="control",A.RESTART_ICE="restart_ice",A.ACK="ack",A.RESPONSE="response",A.JOIN="join",A.CHECK="check"}(H0||(H0={})),function(A){A.ABORT="abort"}(gT||(gT={})),function(A){A.MUTE_LOCAL_AUDIO="mute_local_audio",A.MUTE_LOCAL_VIDEO="mute_local_video",A.UNMUTE_LOCAL_AUDIO="unmute_local_audio",A.UNMUTE_LOCAL_VIDEO="unmute_local_video"}(AN||(AN={})),function(A){A[A.SUCCESS=1]="SUCCESS",A[A.FAILED=0]="FAILED"}(qW||(qW={})),function(A){A.P2P_TOKEN_TIMEOUT="p2p_token_timeout",A.P2P_TOKEN_CHANGED="p2p_token_changed"}(b8||(b8={}));const qae={[K1.ACCESS_POINT]:{[rS.NO_FLAG_SET]:{desc:"flag is zero",retry:!1},[rS.FLAG_SET_BUT_EMPTY]:{desc:"flag is empty",retry:!1},[rS.INVALID_FALG_SET]:{desc:"invalid flag",retry:!1},[rS.FLAG_SET_BUT_NO_RE]:{desc:"flag set unilbs but no request",retry:!1},[rS.INVALID_SERVICE_ID]:{desc:"invalid service id",retry:!1},[rS.NO_SERVICE_AVAILABLE]:{desc:"no service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_P2P]:{desc:"no unilbs p2p service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_VOICE]:{desc:"no unilbs voice service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:"no unilbs webrtc service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_CDS]:{desc:"no cds service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_CDN]:{desc:"no cdn dispatcher service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_TDS]:{desc:"no tds service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_REPORT]:{desc:"no unilbs report service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:"no app center service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_ENV0]:{desc:"no unilbs sig env0 service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_VOET]:{desc:"no unilbs voet service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:"no string uid service available",retry:!0},[rS.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:"no webrtc unilbs service available",retry:!0}},[K1.UNILBS]:{[tR.INVALID_VENDOR_KEY]:{desc:"invalid vendor key, can not find appid",retry:!1},[tR.INVALID_CHANNEL_NAME]:{desc:"invalid channel name",retry:!1},[tR.INTERNAL_ERROR]:{desc:"unilbs internal error",retry:!1},[tR.NO_AUTHORIZED]:{desc:"invalid token, authorized failed",retry:!1},[tR.DYNAMIC_KEY_TIMEOUT]:{desc:"dynamic key or token timeout",retry:!1},[tR.NO_ACTIVE_STATUS]:{desc:"no active status",retry:!1},[tR.DYNAMIC_KEY_EXPIRED]:{desc:"dynamic key expired",retry:!1},[tR.STATIC_USE_DYNAMIC_KEY]:{desc:"static use dynamic key",retry:!1},[tR.DYNAMIC_USE_STATIC_KEY]:{desc:"dynamic use static key",retry:!1},[tR.USER_OVERLOAD]:{desc:"amount of users over load",retry:!1},[tR.FORBIDDEN_REGION]:{desc:"the request is forbidden in this area",retry:!1},[tR.CANNOT_MEET_AREA_DEMAND]:{desc:"unable to allocate services in this area",retry:!1}},[K1.STRING_UID_ALLOCATOR]:{[PO.IIIEGAL_APPID]:{desc:"invalid appid",retry:!1},[PO.IIIEGAL_UID]:{desc:"invalid string uid",retry:!1},[PO.INTERNAL_ERROR]:{desc:"string uid allocator internal error",retry:!0}}};function RP(A){const r=qae[Math.floor(A/1e4)];if(!r)return{desc:"unkonw error",retry:!1};const o=r[A%1e4];if(!o){if(Math.floor(A/1e4)===K1.ACCESS_POINT){const u=A%1e4;if(u.toString()[0]==="1")return{desc:A.toString(),retry:!1};if(u.toString()[0]==="2")return{desc:A.toString(),retry:!0}}return{desc:"unkonw error",retry:!1}}return o}const Wae={[fQ.K_TIMESTAMP_EXPIRED]:{desc:"K_TIMESTAMP_EXPIRED",action:"failed"},[fQ.K_CHANNEL_PERMISSION_INVALID]:{desc:"K_CHANNEL_PERMISSION_INVALID",action:"failed"},[fQ.K_CERTIFICATE_INVALID]:{desc:"K_CERTIFICATE_INVALID",action:"failed"},[fQ.K_CHANNEL_NAME_EMPTY]:{desc:"K_CHANNEL_NAME_EMPTY",action:"failed"},[fQ.K_CHANNEL_NOT_FOUND]:{desc:"K_CHANNEL_NOT_FOUND",action:"failed"},[fQ.K_TICKET_INVALID]:{desc:"K_TICKET_INVALID",action:"failed"},[fQ.K_CHANNEL_CONFLICTED]:{desc:"K_CHANNEL_CONFLICTED",action:"failed"},[fQ.K_SERVICE_NOT_READY]:{desc:"K_SERVICE_NOT_READY",action:"tryNext"},[fQ.K_SERVICE_TOO_HEAVY]:{desc:"K_SERVICE_TOO_HEAVY",action:"tryNext"},[fQ.K_UID_BANNED]:{desc:"K_UID_BANNED",action:"failed"},[fQ.K_IP_BANNED]:{desc:"K_IP_BANNED",action:"failed"},[fQ.K_AUTO_REBALANCE]:{desc:"k_AUTO_REBALANCE",action:"recover"},[fQ.ERR_INVALID_VENDOR_KEY]:{desc:"ERR_INVALID_VENDOR_KEY",action:"failed"},[fQ.ERR_INVALID_CHANNEL_NAME]:{desc:"ERR_INVALID_CHANNEL_NAME",action:"failed"},[fQ.WARN_NO_AVAILABLE_CHANNEL]:{desc:"WARN_NO_AVAILABLE_CHANNEL",action:"failed"},[fQ.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:"WARN_LOOKUP_CHANNEL_TIMEOUT",action:"tryNext"},[fQ.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:"WARN_LOOKUP_CHANNEL_REJECTED",action:"failed"},[fQ.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:"WARN_OPEN_CHANNEL_TIMEOUT",action:"tryNext"},[fQ.WARN_OPEN_CHANNEL_REJECTED]:{desc:"WARN_OPEN_CHANNEL_REJECTED",action:"failed"},[fQ.WARN_REQUEST_DEFERRED]:{desc:"WARN_REQUEST_DEFERRED",action:"failed"},[fQ.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:"ERR_DYNAMIC_KEY_TIMEOUT",action:"failed"},[fQ.ERR_NO_AUTHORIZED]:{desc:"ERR_NO_AUTHORIZED",action:"failed"},[fQ.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:"ERR_VOM_SERVICE_UNAVAILABLE",action:"tryNext"},[fQ.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:"ERR_NO_CHANNEL_AVAILABLE_CODE",action:"failed"},[fQ.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:"ERR_MASTER_VOCS_UNAVAILABLE",action:"tryNext"},[fQ.ERR_INTERNAL_ERROR]:{desc:"ERR_INTERNAL_ERROR",action:"tryNext"},[fQ.ERR_NO_ACTIVE_STATUS]:{desc:"ERR_NO_ACTIVE_STATUS",action:"failed"},[fQ.ERR_INVALID_UID]:{desc:"ERR_INVALID_UID",action:"failed"},[fQ.ERR_DYNAMIC_KEY_EXPIRED]:{desc:"ERR_DYNAMIC_KEY_EXPIRED",action:"failed"},[fQ.ERR_STATIC_USE_DYANMIC_KE]:{desc:"ERR_STATIC_USE_DYANMIC_KE",action:"failed"},[fQ.ERR_DYNAMIC_USE_STATIC_KE]:{desc:"ERR_DYNAMIC_USE_STATIC_KE",action:"failed"},[fQ.ERR_NO_VOCS_AVAILABLE]:{desc:"ERR_NO_VOCS_AVAILABLE",action:"tryNext"},[fQ.ERR_NO_VOS_AVAILABLE]:{desc:"ERR_NO_VOS_AVAILABLE",action:"tryNext"},[fQ.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:"ERR_JOIN_CHANNEL_TIMEOUT",action:"tryNext"},[fQ.ERR_JOIN_BY_MULTI_IP]:{desc:"ERR_JOIN_BY_MULTI_IP",action:"recover"},[fQ.ERR_NOT_JOINED]:{desc:"ERR_NOT_JOINED",action:"failed"},[fQ.ERR_REPEAT_JOIN_REQUEST]:{desc:"ERR_REPEAT_JOIN_REQUEST",action:"quit"},[fQ.ERR_REPEAT_JOIN_CHANNEL]:{desc:"ERR_REPEAT_JOIN_CHANNEL",action:"quit"},[fQ.ERR_INVALID_STRINGUID]:{desc:"ERR_INVALID_STRINGUID",action:"failed"},[fQ.ERR_TOO_MANY_USERS]:{desc:"ERR_TOO_MANY_USERS",action:"tryNext"},[fQ.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[fQ.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:"ERR_SET_CLIENT_ROLE_TIMEOUT",action:"failed"},[fQ.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE",action:"success"},[fQ.ERR_PUBLISH_REQUEST_INVALID]:{desc:"ERR_PUBLISH_REQUEST_INVALID",action:"failed"},[fQ.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:"ERR_SUBSCRIBE_REQUEST_INVALID",action:"failed"},[fQ.ERR_NOT_SUPPORTED_MESSAGE]:{desc:"ERR_NOT_SUPPORTED_MESSAGE",action:"failed"},[fQ.ERR_ILLEAGAL_PLUGIN]:{desc:"ERR_ILLEAGAL_PLUGIN",action:"failed"},[fQ.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:"ILLEGAL_CLIENT_ROLE_LEVEL",action:"failed"},[fQ.ERR_REJOIN_TOKEN_INVALID]:{desc:"ERR_REJOIN_TOKEN_INVALID",action:"failed"},[fQ.ERR_REJOIN_USER_NOT_JOINED]:{desc:"ERR_REJOIN_NOT_JOINED",action:"failed"},[fQ.ERR_INVALID_OPTIONAL_INFO]:{desc:"ERR_INVALID_OPTIONAL_INFO",action:"quit"},[fQ.ERR_TEST_RECOVER]:{desc:"ERR_TEST_RECOVER",action:"recover"},[fQ.ERR_TEST_TRYNEXT]:{desc:"ERR_TEST_TRYNEXT",action:"recover"},[fQ.ERR_TEST_RETRY]:{desc:"ERR_TEST_RETRY",action:"recover"},[fQ.ILLEGAL_AES_PASSWORD]:{desc:"ERR_TEST_RETRY",action:"failed"},[fQ.ERR_TOO_MANY_BROADCASTERS]:{desc:"ERR_TOO_MANY_BROADCASTERS",action:"failed"},[fQ.ERR_TOO_MANY_SUBSCRIBERS]:{desc:"ERR_TOO_MANY_SUBSCRIBERS",action:"failed"},[fQ.ERR_LICENSE_ILLEGAL]:{desc:"ERR_LICENSE_ILLEGAL",action:"quit"},[fQ.ERR_LICENSE_MISSING]:{desc:"ERR_LICENSE_MISSING",action:"quit"},[fQ.ERR_LICENSE_EXPIRED]:{desc:"ERR_LICENSE_EXPIRED",action:"quit"},[fQ.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:"ERR_LICENSE_MINUTES_EXCEEDED",action:"quit"},[fQ.ERR_LICENSE_PERIOD_INVALID]:{desc:"ERR_LICENSE_PERIOD_INVALID",action:"quit"},[fQ.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:"ERR_LICENSE_MULTIPLE_SDK_SERVICE",action:"quit"}};function WT(A){return Wae[A]||{desc:"UNKNOW_ERROR_".concat(A),action:"failed"}}function XW(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function D8(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?XW(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):XW(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function zW(A){return A.every(r=>r.readyState===WebSocket.CLOSED||r.readyState===WebSocket.CLOSING)}function ZW(A,r){if(typeof A=="string")return A;const{proxy:o,host:u,port:h}=A;if(r){const f=la("JOIN_GATEWAY_FALLBACK_PORT")||443;return f===443?"wss://".concat(u,"/ws/?p=").concat(Number(h)+150):"wss://".concat(u,":").concat(f,"/ws/?p=").concat(Number(h)+150)}return o?"wss://".concat(o,"/ws/?h=").concat(u,"&p=").concat(h):"wss://".concat(u,":").concat(h)}const Xae=/wss:\/\/(.+)\/ws\/\?h=(.+)&p=([0-9]+)\/?/,zae=/wss:\/\/(.+)\/ws\/\?p=([0-9]+)\/?/,Zae=/wss:\/\/(.+):([0-9]+)\/?/,$ae=/wss:\/\/(.[^\/]+)\/?/;let ece=0;class tce{constructor(r,o){j(this,"id",0),j(this,"store",void 0),j(this,"recordIndex",void 0),j(this,"websockets",[]),j(this,"try443PortDuration",2e3),j(this,"forceCloseWSDuration",5e3),j(this,"try443PortTimeout",null),j(this,"forceCloseTimeout",null),j(this,"isTry443PortFailed",!1),j(this,"isNormalPortFailed",!1),j(this,"useDoubleDomain",!1),j(this,"useProxy",!1),j(this,"startTime",Date.now()),this.id=++ece,this.try443PortDuration=la("JOIN_GATEWAY_TRY_443PORT_DURATION")||2e3,this.forceCloseWSDuration=r||5e3,this.store=o}closeAllWebsockets(){this.websockets.forEach(r=>{r.onopen=null,r.onclose=null,r.onmessage=null,r.close()}),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var r;const o=Date.now()-this.startTime;for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];$.debug("[choose-best-ws ".concat((r=this.store)===null||r===void 0?void 0:r.clientId," ").concat(this.id,"] ").concat(o,"ms:"),...h)}createWebSocket(r,o,u){this.logger("createWebSocket:",r,{isTry443Port:o,hasTimeoutDetection:u});const h=la("GATEWAY_DOMAINS"),f=Date.now(),m=[],v=h.find(k=>{var L;return AQ(L=r.host).call(L,k)});v||(this.useDoubleDomain=!1);const R=[];if(this.useDoubleDomain)h.forEach(k=>{R.push(ZW(D8(D8({},r),{},{host:r.host.replace(v,k)}),o))});else{const k=D8({},r);if(o&&v){const L=h.find(q=>q!==v);L&&(k.host=k.host.replace(v,L))}R.push(ZW(k,o))}try{R.forEach(k=>{const L=new WebSocket(k);L.binaryType="arraybuffer",m.push(L),this.logger("ws is connecting:",L.url)})}catch(k){if(this.logger("ws create failed"),m.forEach(L=>L.close()),m.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(r,o,u);if(!o&&Number(r.port)!==443)return this.createWebSocket(r,!0,u);throw new Oa(ea.WS_ERR,"init websocket failed! Error: ".concat(k.toString()))}const D=TO();return this.store&&this.store.recordJoinChannelService({urls:m.map(k=>k.url),service:"gateway"},this.recordIndex),m.forEach(k=>{k.onopen=()=>{this.logger("onopen: ws ".concat(k.url," open cost ").concat(Date.now()-f,"ms")),this.websockets.forEach(L=>{L!==k&&(L.onopen=null,L.onclose=null,L.onmessage=null,L.close(),this.logger("close backup websocket: ".concat(L.url)))}),this.websockets.length=0,D.resolve(k)},k.onclose=L=>{this.logger("onclose: ws ".concat(k.url," closed cost ").concat(Date.now()-f,"ms state: ").concat(k.readyState)),o?this.isTry443PortFailed=zW(m):this.isNormalPortFailed=zW(m),this.logger("443: ".concat(this.useProxy?"not try":this.isTry443PortFailed?"failed":"trying"," 47xx: ").concat(this.isNormalPortFailed?"failed":"trying")),(o&&this.isTry443PortFailed||!o&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger("onclose: all websocket is closed, ".concat(L.reason)),D.reject({code:L.code,reason:qT.A_ROUND_WS_FAILED}))},k.onmessage=L=>this.logger("".concat(k.url," onmessage: ").concat(L.data))}),this.websockets.push(...m),u||(()=>{const k=()=>{this.logger("5s timeout close un-opens, isWebsocket created: ",D.isResolved),this.websockets.forEach(L=>L.readyState!==WebSocket.OPEN&&L.close())};if(o||this.useProxy)return this.logger("add 5s timeout at ".concat(o?"try-443":"proxy"," condition")),this.forceCloseTimeout=window.setTimeout(k,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout(()=>{if(this.logger("2s timeout, isWebsocket created: ",D.isResolved),D.isResolved)return k();o0().os===h_.MAC_OS&&Q0()&&k(),this.createWebSocket(r,!0,!0).then(L=>D.resolve(L)).catch(L=>{this.isNormalPortFailed&&D.reject(L),this.logger("try 443 port to create ws failed")}),this.forceCloseTimeout=window.setTimeout(k,this.forceCloseWSDuration)},this.try443PortDuration)})(),D.promise}chooseBestWebsocket(r,o,u,h){return this.useDoubleDomain=!!o,typeof r=="string"&&(r=function(f){let m,v,R;return[,m,v,R]=f.match(Xae)||[],m||([,v,R]=f.match(zae)||[]),v&&R||([,v,R]=f.match(Zae)||[]),v&&R||([,v]=f.match($ae)||[]),v||$.warning("un-destructible url: ",f),{proxy:m,host:v,port:R||"443"}}(r)),this.recordIndex=h,this.useProxy=!!r.proxy,u&&this.useProxy&&($.warn("cannot use 443 only when use proxy"),u=!1),this.createWebSocket(r,!!u,!1).finally(()=>this.clearTimeout())}}function $W(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}class e7 extends x0{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(r){var o;AQ(o=["tryNext","recover"]).call(o,r)&&this.resetReconnectCount(r),this._reconnectMode=r}get state(){return this._state}set state(r){r!==this._state&&(this._state=r,this._state==="reconnecting"?this.emit(vQ.RECONNECTING,this.reconnectReason):this._state==="connected"?this.emit(vQ.CONNECTED):this._state==="closed"?this.emit(vQ.CLOSED):this._state==="failed"&&this.emit(vQ.FAILED))}resetReconnectCount(r){$.debug("websocket reset reconnect count, reason: "+r),this.reconnectCount=0}constructor(r,o){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2],h=arguments.length>3&&arguments[3]!==void 0&&arguments[3],f=arguments.length>4&&arguments[4]!==void 0&&arguments[4],m=arguments.length>5?arguments[5]:void 0;super(),j(this,"connectionID",0),j(this,"currentURLIndex",0),j(this,"urls",[]),j(this,"_reconnectMode","tryNext"),j(this,"reconnectReason",void 0),j(this,"_initMutex",new T_("websocket")),j(this,"name",void 0),j(this,"_state","closed"),j(this,"reconnectInterrupter",void 0),j(this,"websocket",void 0),j(this,"retryConfig",void 0),j(this,"reconnectCount",0),j(this,"forceCloseTimeout",5e3),j(this,"onlineReconnectListener",void 0),j(this,"useCompress",void 0),j(this,"tryDoubleDomain",!1),j(this,"use443PortOnly",!1),j(this,"wsInflateLength",0),j(this,"wsDeflateLength",0),j(this,"closeEstablishingWs",()=>{}),j(this,"store",void 0),j(this,"joinGatewayRecordIndex",void 0),this.store=m,this.name=r,this.retryConfig=function(L){for(var q=1;q<arguments.length;q++){var z=arguments[q]!=null?arguments[q]:{};q%2?$W(Object(z),!0).forEach(function(_s){j(L,_s,z[_s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(z)):$W(Object(z)).forEach(function(_s){Object.defineProperty(L,_s,Object.getOwnPropertyDescriptor(z,_s))})}return L}({},o),this.useCompress=u,this.tryDoubleDomain=h,this.use443PortOnly=f;const{timeout:v,timeoutFactor:R}=o,D=Math.max(300,Math.floor(3*v/5)),k=Math.max(1.2,Math.floor(8*R)/10);lS.ONLINE&&(this.retryConfig.timeout=D,this.retryConfig.timeoutFactor=k),A_.on(TN.NETWORK_STATE_CHANGE,(L,q)=>{L!==q&&(this.resetReconnectCount("network state change: ".concat(q," -> ").concat(L)),L===lS.ONLINE?(this.retryConfig.timeout=D,this.retryConfig.timeoutFactor=k):(this.retryConfig.timeout=v,this.retryConfig.timeoutFactor=R))})}getConnection(){return this.websocket||void 0}async init(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const u=await this._initMutex.lock();this.forceCloseTimeout=o,this.urls=r,this.state="connecting";try{const h=TO(),f=this.urls[this.currentURLIndex];this.createWebSocketConnection(f).then(h.resolve).catch(h.reject),this.once(vQ.CLOSED,()=>{h.reject(new _g(ea.WS_DISCONNECT))}),this.once(vQ.CONNECTED,h.resolve),await h.promise}catch{}finally{u()}}close(r,o){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const u=this.websocket;o?setTimeout(()=>u.close(),500):u.close(),this.websocket=void 0}this.state=r?"failed":"closed",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(r,o){if(!this.websocket)return void $.warning("[".concat(this.name,"] can not reconnect, no websocket"));r!==void 0&&(this.reconnectMode=r),$.debug("[".concat(this.name,"] reconnect is triggered initiative")),typeof this.joinGatewayRecordIndex=="number"&&this.store&&this.store.recordJoinChannelService({status:"error",errors:[new Error(o)]},this.joinGatewayRecordIndex);const u=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),u&&u.bind(this.websocket)({code:9999,reason:o})}sendMessage(r){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new _g(ea.WS_ABORT,"websocket is not ready");try{o||(r=JSON.stringify(r)),this.websocket.send(r)}catch(u){throw new _g(ea.WS_ERR,"send websocket message error"+u.toString())}}setWsInflateData(r){this.wsDeflateLength=this.wsDeflateLength+r.originLength,this.wsInflateLength=this.wsInflateLength+r.compressedLength}getWsInflateData(){const r=this.wsInflateLength,o=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:r,wsDeflateLength:o}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(r){var o;const u=TO();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const h=k=>{var L;(L=this.store)===null||L===void 0||L.signalChannelOpen(),$.debug("[".concat(this.name,"] websocket opened:"),k),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),u.resolve()},f=async k=>{var L;if($.debug("[".concat(this.name,"] websocket close ").concat((L=this.websocket)===null||L===void 0?void 0:L.url,", code: ").concat(k.code,", reason: ").concat(k.reason,", current mode: ").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)u.reject(new _g(ea.WS_DISCONNECT,"websocket close: ".concat(k.code))),this.close();else{this.state==="connected"&&(this.reconnectReason=k.reason,this.state="reconnecting");const q=FS(this,vQ.WILL_RECONNECT,this.reconnectMode,k.reason)||this.reconnectMode,z=await this.reconnectWithAction(q);if(this.state==="closed")return void $.debug("[".concat(this.connectionID,"] ws is closed, no need to reconnect"));if(!z)return u.reject(new _g(ea.WS_DISCONNECT,"websocket reconnect failed: ".concat(k.code))),this.close(!0);u.resolve()}},m=k=>{this.emit(vQ.ON_MESSAGE,k)},v=k=>{$.warn("[".concat(this.connectionID,"] ws open error ").concat(k))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),la("GATEWAY_WSS_ADDRESS")&&this.name.startsWith("gateway")&&(r=la("GATEWAY_WSS_ADDRESS")),$.debug("[".concat(this.name,"] start connect, url:"),r);const R=(o=this.store)===null||o===void 0?void 0:o.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"});try{var D;const k=await this.chooseBestWebsocketConnection(r);this.websocket=k,h&&h(this.websocket.url),this.websocket.onclose=f,this.websocket.onmessage=m,this.websocket.onerror=v,(D=this.store)===null||D===void 0||D.recordJoinChannelService({endTs:Date.now(),status:"success"},R),this.joinGatewayRecordIndex=R}catch(k){const L=this.state==="closed",q=k instanceof _g,z=q&&k.code===ea.WS_ABORT,_s=q&&k.code===ea.WS_ERR,_n=q?k.message:k&&(k.reason||k.toString());$.warning("[choose-best-ws] chooseBestWebsocket error: ".concat(_n)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:z?"aborted":"error",errors:[k]},R),L||_s?(u.reject(L?new _g(ea.WS_DISCONNECT,"websocket is closed: ".concat(_n)):new _g(ea.WS_ERR,"init websocket failed: ".concat(_n))),_s&&$.error("[".concat(this.name,"] init websocket failed: ").concat(_n))):f&&f(k)}return u.promise}async reconnectWithAction(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount||this.urls.length===0||this.state==="closed")return!1;$.warning("[choose-best-ws] action: =>",r),this.onlineReconnectListener||A_.isOnline||!A_.onlineWaiter||(this.onlineReconnectListener=A_.onlineWaiter.then(()=>{this.onlineReconnectListener=void 0}));let u=!0;if(this.reconnectInterrupter=()=>u=!1,o){const m=lP(this.reconnectCount,this.retryConfig);$.debug("[".concat(this.name,"] wait ").concat(m,"ms to reconnect websocket, mode: ").concat(r)),await lc.race([N_(m),this.onlineReconnectListener||new lc(()=>{})])}if(this._state==="closed"||!u)return!1;this.reconnectCount+=1;const h=async(m,v)=>{this.emit(vQ.RECONNECT_CREATE_CONNECTION,v),await this.createWebSocketConnection(m)};try{if(r==="retry")this.emit(vQ.RECONNECT_WAITTING_FINISH,r),await h(this.urls[this.currentURLIndex],r);else if(r==="tryNext"){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction("recover",!1);$.debug("[".concat(this.name,"] websocket url length: ").concat(this.urls.length," current index: ").concat(this.currentURLIndex)),this.emit(vQ.RECONNECT_WAITTING_FINISH,r),await h(this.urls[this.currentURLIndex],r)}else r==="recover"&&($.debug("[".concat(this.name,"] request new urls")),this.resetReconnectCount("recover mode"),this.emit(vQ.RECONNECT_WAITTING_FINISH,r),this.urls=await o_(this,vQ.REQUEST_NEW_URLS),this.currentURLIndex=0,await h(this.urls[this.currentURLIndex],r))}catch(m){var f;$.error("[".concat(this.name,"] reconnect failed ").concat(m&&m.toString()));const v=m==null||(f=m.data)===null||f===void 0?void 0:f.desc;return Array.isArray(v)&&AQ(v).call(v,"dynamic key expired")?(this.emit(vQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(r,o)}return!0}}class FO extends e7{constructor(r,o){super(r,o,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(r,o){const u=TO(),h=function(m,v){return new tce(m,v)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{$.debug("[choose-best-ws] close establishing websockets"),h.closeAllWebsockets(),u.reject(new _g(ea.WS_ABORT,"choose best websocket aborted"))};const f=la("GATEWAY_DOMAINS");return $.debug("[choose-best-ws] currentDomain: ",r,", domains: ",f,"total: ".concat(this.urls.length),"current: ".concat(this.currentURLIndex+1)),h.chooseBestWebsocket(r,this.tryDoubleDomain,this.use443PortOnly,o).then(u.resolve).catch(u.reject),u.promise.finally(()=>{this.closeEstablishingWs=void 0})}}class KO extends e7{constructor(r,o){super(r,o,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3&&arguments[3]!==void 0&&arguments[3],arguments.length>4&&arguments[4]!==void 0&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(r,o){return new lc((u,h)=>{let f=!1;const m=[];this.closeEstablishingWs=()=>{$.debug("[choose-best-ws] close establishing websockets"),m.forEach(_s=>{_s.onclose=null,_s.onopen=null,_s.onmessage=null,_s.close()}),h(new _g(ea.WS_ABORT,"choose best websocket aborted"))};const v=la("GATEWAY_DOMAINS");let R;const D=r.indexOf("?h="),k=v.find(_s=>D!==-1?AQ(r).call(r,_s,D):AQ(r).call(r,_s));$.debug("[choose-best-ws] currentDomain: ",k,", domains: ",v);let L=!this.tryDoubleDomain||!k;if(!L&&k){var q;const _s=Date.now();try{v.forEach(_n=>{const _i=D===-1?r.replace(k,_n):r.substr(0,D)+r.substr(D).replace(k,_n),Aa=new WebSocket(_i);Aa.binaryType="arraybuffer",m.push(Aa),$.debug("[choose-best-ws] ws is connecting:",Aa.url)})}catch{for($.debug("[choose-best-ws] ws create failed, fallback to single url"),m.forEach(_i=>_i.close());m.length;)m.pop();L=!0}(q=this.store)===null||q===void 0||q.recordJoinChannelService({urls:m.map(_n=>_n.url),service:"gateway"},o),m.forEach(_n=>{_n.onopen=()=>{if(f)return;const _i=Date.now()-_s;$.debug("[choose-best-ws] ws open cost ".concat(_i,"ms")),m.filter(Aa=>Aa!==_n).forEach(Aa=>{$.debug("[choose-best-ws]close backup websocket: ".concat(Aa.url)),Aa.close()}),f=!0,u(_n)},_n.onclose=_i=>{R=_i,!f&&(m.find(Aa=>!(Aa.readyState===WebSocket.CLOSED||Aa.readyState===WebSocket.CLOSING))||($.debug("[choose-best-ws] all websocket is closed"),f=!0,h(R)))},_n.onmessage=_i=>{$.debug("[choose-best-ws]".concat(_n.url," onmessage: ").concat(_i.data))}}),N_(this.forceCloseTimeout).then(()=>{m.forEach(_n=>{_n.readyState!==WebSocket.OPEN&&_n.close()})})}if(L){var z;let _s;$.debug("[choose-best-ws] use single url: ",r),(z=this.store)===null||z===void 0||z.recordJoinChannelService({urls:[r],service:"gateway"},o);try{_s=new WebSocket(r),m.push(_s),_s.binaryType="arraybuffer"}catch(_n){const _i=new _g(ea.WS_ERR,"init websocket failed! Error: ".concat(_n.toString()));return $.error("[".concat(this.name,"]").concat(_i)),void h(_i)}_s.onopen=()=>{u(_s)},_s.onclose=_n=>{h(_n)},_s.onmessage=_n=>{$.debug("[choose-best-ws]".concat(_s.url," onmessage: ").concat(_n.data))},N_(this.forceCloseTimeout).then(()=>{_s&&_s.readyState!==WebSocket.OPEN&&_s.close()})}}).then(u=>(this.closeEstablishingWs=void 0,u)).catch(u=>{throw this.closeEstablishingWs=void 0,u})}}class t7 extends x0{get connectionState(){return this._connectionState}set connectionState(r){r!==this._connectionState&&(this._connectionState=r,r===JQ.CONNECTED?this.emit(nQ.WS_CONNECTED):r===JQ.RECONNECTING?this.emit(nQ.WS_RECONNECTING,this._websocketReconnectReason):r===JQ.CLOSED&&this.emit(nQ.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(r,o){super(),j(this,"_disconnectedReason",void 0),j(this,"_websocketReconnectReason",void 0),j(this,"_connectionState",JQ.CLOSED),j(this,"reconnectToken",void 0),j(this,"websocket",void 0),j(this,"openConnectionTime",void 0),j(this,"clientId",void 0),j(this,"lastMsgTime",Date.now()),j(this,"uploadCache",[]),j(this,"uploadCacheInterval",void 0),j(this,"rttRolling",new t8(5)),j(this,"pingpongTimer",void 0),j(this,"wsInflateDataTimer",void 0),j(this,"pingpongTimeoutCount",0),j(this,"joinResponse",void 0),j(this,"multiIpOption",void 0),j(this,"initError",void 0),j(this,"spec",void 0),j(this,"store",void 0),j(this,"onWebsocketMessage",u=>{if(u.data instanceof ArrayBuffer)return void this.emit(nQ.ON_BINARY_DATA,u.data);const h=JSON.parse(u.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(h,"_id")){const f="res-@".concat(h._id);this.emit(f,h._result,h._message)}else if(Object.prototype.hasOwnProperty.call(h,"_type")){if(this.emit(h._type,h._message),h._type===wQ.ON_NOTIFICATION&&this.handleNotification(h._message),h._type===wQ.ON_USER_BANNED)switch(h._message.error_code){case 14:this.close(zQ.UID_BANNED);break;case 15:this.close(zQ.IP_BANNED);break;case 16:this.close(zQ.CHANNEL_BANNED)}if(h._type===wQ.ON_USER_LICENSE_BANNED)switch(h._message.error_code){case fQ.ERR_LICENSE_MISSING:this.close(zQ.LICENSE_MISSING);break;case fQ.ERR_LICENSE_EXPIRED:this.close(zQ.LICENSE_EXPIRED);break;case fQ.ERR_LICENSE_MINUTES_EXCEEDED:this.close(zQ.LICENSE_MINUTES_EXCEEDED);break;case fQ.ERR_LICENSE_PERIOD_INVALID:this.close(zQ.LICENSE_PERIOD_INVALID);break;case fQ.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(zQ.LICENSE_MULTIPLE_SDK_SERVICE);break;case fQ.ERR_LICENSE_ILLEGAL:this.close(zQ.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=r.clientId,this.spec=r,this.store=o,this.websocket=new FO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,la("JOIN_GATEWAY_USE_DUAL_DOMAIN"),la("JOIN_GATEWAY_USE_443PORT_ONLY"),o),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===JQ.CONNECTED&&this.reconnect("retry",D_.OFFLINE)})}async request(r,o,u,h){const f=y0(6,""),m={_id:f,_type:r,_message:o},v=this.websocket.connectionID,R=()=>new lc((_s,_n)=>{if(this.connectionState===JQ.CONNECTED)return _s();const _i=()=>{this.off(nQ.WS_CLOSED,Aa),_s()},Aa=()=>{this.off(nQ.WS_CONNECTED,_i),_n(new Oa(ea.WS_ABORT))};this.once(nQ.WS_CONNECTED,_i),this.once(nQ.WS_CLOSED,Aa),r!==EQ.PUBLISH&&r!==EQ.SUBSCRIBE&&r!==EQ.UNSUBSCRIBE&&r!==EQ.UNPUBLISH&&r!==EQ.CONTROL&&r!==EQ.RESTART_ICE||this.once(nQ.DISCONNECT_P2P,()=>{_n(new Oa(ea.DISCONNECT_P2P))}),r!==EQ.PUBLISH&&r!==EQ.RESTART_ICE||this.once(nQ.ABORT_P2P_EXECUTION,()=>{_n(new Oa(ea.DISCONNECT_P2P))})});if(this.connectionState!==JQ.CONNECTING&&this.connectionState!==JQ.RECONNECTING||r===EQ.JOIN||r===EQ.REJOIN||await R(),this.websocket.sendMessage(m,!0),h)return;const D=new lc((_s,_n)=>{let _i=!1;const Aa=(Qa,Vc)=>{_i=!0,_s({isSuccess:Qa==="success",message:Vc||{}}),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.emit(nQ.REQUEST_SUCCESS,r,o)};this.once("res-@".concat(f),Aa);const Ea=()=>{_n(new Oa(ea.WS_ABORT,"type: ".concat(r))),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.off("res-@".concat(f),Aa)};this.once(nQ.WS_CLOSED,Ea),this.once(nQ.WS_RECONNECTING,Ea),N_(la("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==v||_i||($.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(r)),this.emit(nQ.REQUEST_TIMEOUT,r,o))})});let k=null;try{k=await D}catch(_s){if(this.connectionState===JQ.CLOSED||r===EQ.LEAVE)throw new Oa(ea.WS_ABORT);return!this.spec.forceWaitGatewayResponse||u?_s.throw():r===EQ.JOIN||r===EQ.REJOIN?null:(await R(),await this.request(r,o))}if(k.isSuccess)return k.message;const L=Number(k.message.error_code||k.message.code),q=WT(L),z=new Oa(ea.UNEXPECTED_RESPONSE,"".concat(q.desc,": ").concat(k.message.error_str),{code:L,data:k.message});return q.action==="success"?k.message:($.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(r,", error_code: ").concat(L,", message: ").concat(q.desc,", action: ").concat(q.action)),L===fQ.ERR_TOO_MANY_BROADCASTERS?((r===EQ.JOIN||r===EQ.REJOIN)&&(this.initError=z,this.close()),z.throw()):q.action==="failed"?z.throw():q.action==="quit"?(this.initError=z,this.close(),z.throw()):(L===fQ.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=k.message.option,$.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",D_.MULTI_IP)):this.reconnect(q.action,D_.SERVER_ERROR),r===EQ.JOIN||r===EQ.REJOIN?null:await this.request(r,o)))}waitMessage(r,o){return new lc(u=>{const h=f=>{(!o||o(f))&&(this.off(r,h),u(f))};this.on(r,h)})}uploadWRTCStats(r){if(!this.store.sessionId)return void $.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const o={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:r};this.upload(LN.WRTC_STATS,o)}upload(r,o){const u={_type:r,_message:o};try{this.websocket.sendMessage(u)}catch{const f=la("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(u),this.uploadCache.length>f&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==JQ.CONNECTED)return;const m=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(m._type,m._message)},la("UPLOAD_CACHE_INTERVAL")||2e3))}}send(r,o){const u={_type:r,_message:o};this.websocket.sendMessage(u)}init(r,o){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new lc((u,h)=>{this.once(nQ.WS_CONNECTED,()=>u(this.joinResponse)),this.once(nQ.WS_CLOSED,()=>h(this.initError||new Oa(ea.WS_ABORT))),this.connectionState=JQ.CONNECTING,this.websocket.init(r).catch(h),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval(()=>{this.handleWsInflateData()},2e4)})}close(r){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=r||zQ.LEAVE,this.connectionState=JQ.CLOSED,$.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),r===zQ.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new FO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,la("JOIN_GATEWAY_USE_DUAL_DOMAIN"),la("JOIN_GATEWAY_USE_443PORT_ONLY"),this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(nQ.ABORT_P2P_EXECUTION);const r=await o_(this,nQ.REQUEST_JOIN_INFO),o=await this.request(EQ.JOIN,r);if(!o)return this.emit(nQ.REPORT_JOIN_GATEWAY,qT.TIMEOUT,this.url||""),!1;this.joinResponse=o,this.emit(nQ.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=JQ.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Oa(ea.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const r=KT(this,nQ.REQUEST_REJOIN_INFO);r.token=this.reconnectToken;const o=await this.request(EQ.REJOIN,r);return!!o&&(this.connectionState=JQ.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),o.peers&&o.peers.forEach(u=>{this.emit(wQ.ON_USER_ONLINE,{uid:u.uid}),u.audio&&this.emit(wQ.ON_ADD_AUDIO_STREAM,{uid:u.uid,uint_id:u.uint_id,audio:!0,ssrcId:u.audio_ssrc}),u.video&&this.emit(wQ.ON_ADD_VIDEO_STREAM,{uid:u.uid,uint_id:u.uint_id,video:!0,ssrcId:u.video_ssrc}),u.audio_mute?this.emit(wQ.MUTE_AUDIO,{uid:u.uid}):this.emit(wQ.UNMUTE_AUDIO,{uid:u.uid}),u.video_mute?this.emit(wQ.MUTE_VIDEO,{uid:u.uid}):this.emit(wQ.UNMUTE_VIDEO,{uid:u.uid}),u.audio_enable_local?this.emit(wQ.ENABLE_LOCAL_AUDIO,{uid:u.uid}):this.emit(wQ.DISABLE_LOCAL_AUDIO,{uid:u.uid}),u.video_enable_local?this.emit(wQ.ENABLE_LOCAL_VIDEO,{uid:u.uid}):this.emit(wQ.DISABLE_LOCAL_VIDEO,{uid:u.uid}),u.audio||u.video||this.emit(wQ.ON_REMOVE_STREAM,{uid:u.uid,uint_id:u.uint_id})}),!0)}reconnect(r,o){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(r,o)}handleNotification(r){$.debug("[".concat(this.clientId,"] receive notification: "),r);const o=WT(r.code);if(o.action!=="success"){if(o.action!=="failed")return o.action==="quit"?(o.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(zQ.UID_BANNED),void this.close()):void this.reconnect(o.action,D_.SERVER_ERROR);$.error("[".concat(this.clientId,"] ignore error: "),o.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const r=la("PING_PONG_TIME_OUT"),o=Date.now();this.pingpongTimeoutCount>=r&&($.warning("[".concat(this.clientId,"] PING-PONG Timeout. Last Socket Message: ").concat(o-this.lastMsgTime,"ms")),o-this.lastMsgTime>la("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",D_.TIMEOUT):this.request(EQ.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const u=Date.now()-o;this.rttRolling.add(u),la("REPORT_STATS")&&this.send(EQ.PING_BACK,{pingpongElapse:u})}).catch(u=>{})}handleWsInflateData(){const{wsInflateLength:r,wsDeflateLength:o}=this.websocket.getWsInflateData();r!==0&&o!==0&&this.upload(LN.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:o,ws_inflate_length:r})}handleWebsocketEvents(){this.websocket.on(vQ.RECONNECT_WAITTING_FINISH,r=>{this.emit(nQ.WS_RECONNECT_WAITTING_FINISH,r)}),this.websocket.on(vQ.RECONNECT_CREATE_CONNECTION,r=>{this.emit(nQ.WS_RECONNECT_CREATE_CONNECTION,r)}),this.websocket.on(vQ.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(vQ.CLOSED,()=>{this.connectionState=JQ.CLOSED}),this.websocket.on(vQ.FAILED,()=>{this._disconnectedReason=zQ.NETWORK_ERROR,this.connectionState=JQ.CLOSED}),this.websocket.on(vQ.RECONNECTING,r=>{this._websocketReconnectReason=r,this.joinResponse=void 0,this.connectionState===JQ.CONNECTED?this.connectionState=JQ.RECONNECTING:this.connectionState=JQ.CONNECTING}),this.websocket.on(vQ.WILL_RECONNECT,(r,o,u)=>{const h=KT(this,nQ.IS_P2P_DISCONNECTED),f=h||r!=="retry";h&&r==="retry"&&($.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),r="tryNext",o=qT.P2P_DISCONNECTED),f&&($.debug("".concat(this.clientId," will renewSession, reconnect mode: ").concat(r)),this.emit(nQ.REPORT_JOIN_GATEWAY,o||qT.UNKNOWN_REASON,this.url||""),this.reconnectToken=void 0,this.emit(nQ.NEED_RENEW_SESSION),this.emit(nQ.DISCONNECT_P2P)),u(r)}),this.websocket.on(vQ.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(r=>{$.warning("[".concat(this.clientId,"] rejoin failed ").concat(r)),this.reconnect("tryNext",D_.SERVER_ERROR)}):this.join().catch(r=>{if(this.emit(nQ.REPORT_JOIN_GATEWAY,r.message||r.code||qT.UNKNOWN_REASON,this.url||""),r instanceof Oa&&r.code===ea.UNEXPECTED_RESPONSE&&r.data.code===fQ.ERR_NO_AUTHORIZED)return $.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",D_.SERVER_ERROR);$.error("[".concat(this.clientId,"] join gateway request failed"),r.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",D_.SERVER_ERROR):(this.initError=r,this.close())})}),this.websocket.on(vQ.REQUEST_NEW_URLS,(r,o)=>{o_(this,nQ.REQUEST_RECOVER,this.multiIpOption).then(r).catch(o)}),this.websocket.on(vQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(wQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}var n7=`	
\v\f\r \u2028\u2029\uFEFF`,nce=pQ,rce=RN,N8=n7,r7=y("".replace),ice=RegExp("^["+N8+"]+"),oce=RegExp("(^|[^"+N8+"])["+N8+"]+$"),T8=function(A){return function(r){var o=rce(nce(r));return 1&A&&(o=r7(o,ice,"")),2&A&&(o=r7(o,oce,"$1")),o}},Ace={start:T8(1),end:T8(2),trim:T8(3)},sce=IV.PROPER,ace=g,i7=n7,cce=Ace.trim;V0({target:"String",proto:!0,forced:function(A){return ace(function(){return!!i7[A]()||""[A]()!==""||sce&&i7[A].name!==A})}("trim")},{trim:function(){return cce(this)}});var k_,QR,uce=zN("String").trim,gce=_,lce=uce,k8=String.prototype,O8=s(function(A){var r=A.trim;return typeof A=="string"||A===k8||gce(k8,A)&&r===k8.trim?lce:r});function o7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function wP(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?o7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):o7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function lT(A){return A.match(/^[\.\:\d]+$/)?"".concat(A.replace(/[^\d]/g,"-"),".").concat(la("TURN_DOMAIN")):($.info("Unidentified as ip: ".concat(A,", use as host")),A)}function A7(A,r){A.addresses||(A.addresses=[]);const o=function(f,m){if(la("CONNECT_GATEWAY_WITHOUT_DOMAIN"))return f.map(D=>{let{ip:k,port:L}=D;return{address:"".concat(k,":").concat(L)}});const v=la("GATEWAY_DOMAINS");let R=v[1]&&AQ(m).call(m,v[1])?1:0;return f.map(D=>{let{domain_prefix:k,port:L,ip:q}=D;if(k)return{address:"".concat(k,".").concat(v[R++%v.length],":").concat(L)};const z=/^[\.\:\d]+$/.test(q),_s=z?"".concat(q.replace(/[^\d]/g,"-"),".").concat(v[R++%v.length],":").concat(L):"".concat(q,":").concat(L);return z||$.info("Unidentified as ip: ".concat(q,", use as host")),{ip:q,port:L,address:_s}})}(A.addresses,r),u=Array.isArray(A.detail)&&A.detail[18];if(u&&typeof u=="string"){const f=u.split(";");for(let m=0;m<f.length;m++){var h;const v=O8(h=f[m]).call(h);o[m]&&v&&(o[m].ip6=v)}}return{gatewayAddrs:o,uid:A.uid,cid:A.cid,cert:A.cert,vid:A.detail&&A.detail[8],uni_lbs_ip:A.detail&&A.detail[1],res:A,csIp:A.detail&&A.detail[502]}}function iR(A){return typeof A=="number"?A:A.exact||A.ideal||A.max||A.min||0}function s7(A){const r=A._encoderConfig;if(!r)return{};const o={resolution:r.width&&r.height?"".concat(iR(r.width),"x").concat(iR(r.height)):void 0,maxVideoBW:r.bitrateMax,minVideoBW:r.bitrateMin};return typeof r.frameRate=="number"?(o.maxFrameRate=r.frameRate,o.minFrameRate=r.frameRate):r.frameRate&&(o.maxFrameRate=r.frameRate.max||r.frameRate.ideal||r.frameRate.exact||r.frameRate.min,o.minFrameRate=r.frameRate.min||r.frameRate.ideal||r.frameRate.exact||r.frameRate.max),o}function a7(A){return A>=0&&A<.17?1:A>=.17&&A<.36?2:A>=.36&&A<.59?3:A>=.59&&A<=1?4:A>1?5:0}function L8(A,r){let o,u,h;switch(r){case k_.CHOOSE_SERVER:u=4096,h="choose server";break;case k_.CLOUD_PROXY:u=1048576,h="proxy";break;case k_.CLOUD_PROXY_5:u=4194304,h="proxy5";break;case k_.CLOUD_PROXY_FALLBACK:u=4194310,h="proxy fallback";break;default:throw new Oa(ea.UNEXPECTED_ERROR,"multi unlibs response transformer get unknown service id",{csIp:A.detail&&A.detail[502],retry:!1})}if(A.response_body.forEach(f=>{f.buffer&&f.buffer.flag===u&&(o={code:f.buffer.code,addresses:(f.buffer.edges_services||[]).map(m=>wP(wP({},m),{},{ticket:f.buffer.cert})),server_ts:A.enter_ts,uid:f.buffer.uid,cid:f.buffer.cid,cname:f.buffer.cname,detail:wP(wP({},f.buffer.detail),A.detail),flag:f.buffer.flag,opid:A.opid,cert:f.buffer.cert})}),!o)throw new Oa(ea.MULTI_UNILBS_RESPONSE_ERROR,"cannot parse response ".concat(h," from multi unilbs response"),{csIp:A.detail&&A.detail[502]});return o}async function dce(A,r){return await lc.all(A.addresses.map(async o=>({address:lT(o.ip),tcpport:o.port,udpport:o.port,username:r&&la("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?r.toString():pS.username,password:r&&la("ENCRYPT_PROXY_USERNAME_AND_PSW")&&window.isSecureContext?await X6(r.toString()):pS.password})))}function M8(A,r){const o=r._videoHeight||r.getMediaStreamTrack(!0).getSettings().height;return o?Math.max(o/iR(A.height),1):($.warning("can't get ori-track's height, default scale down 4 times for low stream"),4)}function dT(A){let{candidateType:r,relayProtocol:o,type:u,address:h,port:f,protocol:m}=A;return u==="local-candidate"?{candidateType:r,relayProtocol:o,protocol:m}:{candidateType:r,relayProtocol:o,address:h,port:f,protocol:m}}function c7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}(function(A){A[A.CHOOSE_SERVER=11]="CHOOSE_SERVER",A[A.CLOUD_PROXY=18]="CLOUD_PROXY",A[A.CLOUD_PROXY_5=20]="CLOUD_PROXY_5",A[A.CLOUD_PROXY_FALLBACK=26]="CLOUD_PROXY_FALLBACK"})(k_||(k_={}));class Ece extends x0{get url(){return this._url?this._url:null}get reconnectMode(){return this._reconnectMode}set reconnectMode(r){var o;AQ(o=["tryNext","recover"]).call(o,r)&&this.resetReconnectCount(r),this._reconnectMode=r}get state(){return this._state}set state(r){r!==this._state&&(this._state=r,this._state==="reconnecting"?this.emit(X0.RECONNECTING,this.reconnectReason):this._state==="connected"?this.emit(X0.CONNECTED):this._state==="closed"?this.emit(X0.CLOSED):this._state==="failed"&&this.emit(X0.FAILED))}constructor(r,o,u,h){super(),j(this,"connectionID",0),j(this,"currentURLIndex",0),j(this,"reconnectReason",void 0),j(this,"_reconnectMode","tryNext"),j(this,"_name",void 0),j(this,"_state","closed"),j(this,"_retryConfig",void 0),j(this,"_reconnectCount",0),j(this,"_forceCloseTimeout",5e3),j(this,"_onlineReconnectListener",void 0),j(this,"_closeEstablishingTransmitter",()=>{}),j(this,"_store",void 0),j(this,"_joinChannelServiceRecordIndex",void 0),j(this,"_useCompress",void 0),j(this,"_inflateLength",0),j(this,"_deflateLength",0),this._store=h,this._name=r,this._retryConfig=function(f){for(var m=1;m<arguments.length;m++){var v=arguments[m]!=null?arguments[m]:{};m%2?c7(Object(v),!0).forEach(function(R){j(f,R,v[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(v)):c7(Object(v)).forEach(function(R){Object.defineProperty(f,R,Object.getOwnPropertyDescriptor(v,R))})}return f}({},o),this._useCompress=u}resetReconnectCount(r){$.debug("".concat(this._name," reset reconnect count, reason: ").concat(r)),this._reconnectCount=0}close(r,o){if(this.currentURLIndex=0,this.resetReconnectCount("close"),this._reconnectInterrupter&&this._reconnectInterrupter(),this._transmitter){this._transmitter.onclose=null,this._transmitter.onopen=null,this._transmitter.onmessage=null;const u=this._transmitter;o?setTimeout(()=>u.close(),500):u.close(),this._transmitter=void 0}this.state=r?"failed":"closed",this._closeEstablishingTransmitter&&this._closeEstablishingTransmitter()}reconnect(r,o){if(!this._transmitter)return void $.warning("[".concat(this._name,"] can not reconnect, no websocket"));var u;r!==void 0&&(this.reconnectMode=r),$.debug("[".concat(this._name,"] reconnect is triggered initiative")),typeof this._joinChannelServiceRecordIndex=="number"&&((u=this._store)===null||u===void 0||u.recordJoinChannelService({status:"error",errors:[new Error(o)]},this._joinChannelServiceRecordIndex));const h=this._transmitter.onclose;this._transmitter.onclose=null,this._transmitter.close(),h&&h.bind(this._transmitter)({code:9999,reason:o})}getInflateData(){const r=this._inflateLength,o=this._deflateLength;return this.clearInflateData(),{inflateLength:r,deflateLength:o}}setInflateData(r){this._deflateLength=this._deflateLength+r.originLength,this._inflateLength=this._inflateLength+r.compressedLength}clearInflateData(){this._inflateLength=0,this._deflateLength=0}}(function(A){A[A.Default=0]="Default",A[A.Ack=1]="Ack"})(QR||(QR={}));class Ice{constructor(r,o,u){j(this,"version",1),j(this,"initialRTO",void 0),j(this,"maxBatchAckCount",void 0),j(this,"maxRTO",void 0),j(this,"initialRTT",void 0),j(this,"ID",void 0),j(this,"rtt",void 0),j(this,"packetNumber",1),j(this,"rtoRatioMap",new Map),j(this,"timeoutMap",new Map),j(this,"unorderedPacketQueue",[]),j(this,"batchAckPacketQueue",[]),j(this,"lastOrderedPacketNumber",0),j(this,"batchAckTimer",void 0),j(this,"sendImpl",void 0),j(this,"receiveImpl",void 0),this.sendImpl=r,this.receiveImpl=o,this.ID=y0(7,"transmitter-"),this.initialRTO=(u==null?void 0:u.initialRTO)!==void 0?u.initialRTO:la("TRANSMITTER_INITIAL_RTO"),this.initialRTT=(u==null?void 0:u.initialRTT)!==void 0?u.initialRTT:la("TRANSMITTER_INITIAL_RTT"),this.rtt=(u==null?void 0:u.initialRTT)!==void 0?u.initialRTT:la("TRANSMITTER_INITIAL_RTT"),this.maxBatchAckCount=(u==null?void 0:u.maxBatchAckCount)!==void 0?u.maxBatchAckCount:la("TRANSMITTER_MAX_BATCH_ACK_COUNT"),this.maxRTO=(u==null?void 0:u.maxRTO)!==void 0?u.maxRTO:la("TRANSMITTER_MAX_RTO")}packetize(r,o){return{type:QR.Default,version:this.version,packetNumber:o,payload:r}}serialize(r){switch(r.type){case QR.Default:{let o;typeof r.payload=="string"?o=new TextEncoder().encode(r.payload):o=r.payload;const u=new ArrayBuffer(o.length+15),h=new DataView(u);return h.setUint16(0,r.version),h.setUint8(2,r.type),h.setUint32(3,r.packetNumber),Q9(h,7,BigInt(r.sendTs)),new Uint8Array(h.buffer).set(o,15),u}case QR.Ack:{const o=new ArrayBuffer(16),u=new DataView(o);return u.setUint16(0,r.version),u.setUint8(2,r.type),u.setUint32(3,r.maxAckPacketNumber),u.setUint8(7,r.shift),Q9(u,8,BigInt(r.ackSendTs)),o}}}deserialize(r){const o=new DataView(r),u=o.getUint16(0),h=o.getUint8(2);switch(h){case QR.Default:{const f=o.getUint32(3),m=B9(o,7),v=r.slice(15),R=new TextDecoder().decode(v);return{version:u,type:h,packetNumber:f,sendTs:Number(m),payload:R}}case QR.Ack:{const f=o.getUint32(3),m=o.getUint8(7),v=B9(o,8);return{version:u,type:h,maxAckPacketNumber:f,shift:m,ackSendTs:Number(v)}}default:throw $.error("[".concat(this.ID,"] Unrecognized packet type ").concat(h)),new Error("Unrecognized packet type ".concat(h))}}sendMessage(r){const o=this.packetize(r,this.packetNumber);this.packetNumber=this.packetNumber===4294967295?1:this.packetNumber+1;const u=this.calculateRTO(o),h=window.setTimeout(()=>{this.resendMessage(o)},u);this.timeoutMap.set(o.packetNumber,h),this.sendPacket(o)}onData(r){const o=this.deserialize(r);o.type===QR.Default?this.ack(o):o.type===QR.Ack&&(this.updateRTT(o,Math.round(performance.now())),this.clearRTO(o))}close(){this.rtt=this.initialRTT,this.packetNumber=1,Array.from(this.timeoutMap.entries()).forEach(r=>{let[o,u]=r;window.clearTimeout(u)}),this.timeoutMap=new Map,this.rtoRatioMap=new Map,this.unorderedPacketQueue=[],this.batchAckPacketQueue=[],this.lastOrderedPacketNumber=0,this.batchAckTimer!==void 0&&window.clearTimeout(this.batchAckTimer)}resendMessage(r){const o=this.calculateRTO(r),u=window.setTimeout(()=>{this.resendMessage(r)},o);this.timeoutMap.set(r.packetNumber,u),this.sendPacket(r)}calculateRTO(r){const o=this.rtoRatioMap.get(r.packetNumber);if(o===void 0)return this.rtoRatioMap.set(r.packetNumber,1),this.initialRTO;{const u=9*this.rtt/8*o;return this.rtoRatioMap.set(r.packetNumber,o+1),u>this.maxRTO?this.maxRTO:u}}updateRTT(r,o){const u=r.ackSendTs;this.rtt=this.rtt*(7/8)+(o-u-this.rtt)/8}ack(r){if(r.packetNumber===this.lastOrderedPacketNumber+1)for(this.batchAckPacketQueue.length>=this.maxBatchAckCount&&this.batchAck(),this.batchAckTimer?this.batchAckPacketQueue.push(r):(this.batchAckPacketQueue.push(r),this.batchAckTimer=window.setTimeout(()=>{this.batchAck()},this.rtt/8)),this.lastOrderedPacketNumber+=1,this.receiveImpl(r.payload);;){const o=this.unorderedPacketQueue[0];if(!o){this.unorderedPacketQueue.shift();break}this.batchAckTimer&&this.batchAck(),this.receiveImpl(o.payload),this.unorderedPacketQueue.shift(),this.lastOrderedPacketNumber+=1}else if(r.packetNumber<=this.lastOrderedPacketNumber){const o={ackSendTs:r.sendTs,maxAckPacketNumber:r.packetNumber,shift:0,type:QR.Ack,version:this.version};this.sendPacket(o)}else if(r.packetNumber>this.lastOrderedPacketNumber){this.unorderedPacketQueue[r.packetNumber-this.lastOrderedPacketNumber-2]=r;const o={ackSendTs:r.sendTs,maxAckPacketNumber:r.packetNumber,shift:0,type:QR.Ack,version:this.version};this.sendPacket(o)}}batchAck(){window.clearTimeout(this.batchAckTimer),this.batchAckTimer=void 0;const r={ackSendTs:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].sendTs,maxAckPacketNumber:this.batchAckPacketQueue[this.batchAckPacketQueue.length-1].packetNumber,shift:this.batchAckPacketQueue.length-1,type:QR.Ack,version:this.version};this.sendPacket(r),this.batchAckPacketQueue=[]}sendPacket(r){r.type===QR.Default&&(r.sendTs=Math.round(performance.now()));const o=this.serialize(r);this.sendImpl(o)}clearRTO(r){for(let o=r.maxAckPacketNumber-r.shift;o<=r.maxAckPacketNumber;o++){const u=this.timeoutMap.get(o);u!==void 0&&window.clearTimeout(u),this.timeoutMap.delete(o),this.rtoRatioMap.delete(o)}}}class u7 extends Ece{constructor(r,o){super(r,o,arguments.length>2&&arguments[2]!==void 0&&arguments[2],arguments.length>3?arguments[3]:void 0),j(this,"_initMutex",void 0),j(this,"_reconnectInterrupter",void 0),j(this,"_url",void 0),j(this,"_transmitter",void 0),j(this,"_addresses",void 0),j(this,"_reliableTransmission",void 0),this._initMutex=new T_("datachannel");const{timeout:u,timeoutFactor:h}=o,f=Math.max(300,Math.floor(3*u/5)),m=Math.max(1.2,Math.floor(8*h)/10);lS.ONLINE&&(this._retryConfig.timeout=f,this._retryConfig.timeoutFactor=m),A_.on(TN.NETWORK_STATE_CHANGE,(v,R)=>{v!==R&&(this.resetReconnectCount("network state change: ".concat(R," -> ").concat(v)),v===lS.ONLINE?(this._retryConfig.timeout=f,this._retryConfig.timeoutFactor=m):(this._retryConfig.timeout=u,this._retryConfig.timeoutFactor=h))})}getConnection(){if(this._reliableTransmission)return this._reliableTransmission}async init(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;this._forceCloseTimeout=o;const u=(h,f)=>{this._addresses=r,this.currentURLIndex=this._addresses.findIndex(v=>v.fingerprint||la("FINGERPRINT"));const m=this._addresses[this.currentURLIndex];this.state="connecting",this.createTransmitterConnection(m).then(h).catch(f),this.once(X0.CLOSED,()=>f(new Oa(ea.WS_DISCONNECT))),this.once(X0.CONNECTED,()=>h())};return this._initMutex.lock().then(h=>new lc((f,m)=>{u(f,m)}).then(()=>{h()}).catch(()=>{h()}))}sendMessage(r){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!this._transmitter||!this._reliableTransmission)throw new Oa(ea.WS_ABORT,"datachannel is not ready");try{o||(r=JSON.stringify(r)),this._reliableTransmission.sendMessage(r)}catch(u){throw new Oa(ea.WS_ERR,"send datachannel signal message error"+u.toString())}}unbindDcCloseEventListener(){this._transmitter&&(this._transmitter.onclose=null)}sendMessageWithJSON(r){const o=JSON.stringify(r);return{compressed:o,compressedLength:o.length,origin:r}}sendMessageWithUint8Array(r){return{compressed:r,compressedLength:r.byteLength,origin:r}}createTransmitterConnection(r){return this.connectionID+=1,this._joinChannelServiceRecordIndex=void 0,this._url="dc://".concat(r.ip,":").concat(r.port),new lc((o,u)=>{var h;const f=()=>{$.debug("[".concat(this._name,"] datachannel opened:"),this._url),this.reconnectMode="retry",this.state="connected",this.resetReconnectCount("opened"),o()},m=async k=>{var L;if((L=this._closeEstablishingTransmitter)===null||L===void 0||L.call(this),$.debug("[".concat(this._name,"] datachannel close ").concat(this._url,", code: ").concat(k.code,", reason: ").concat(k.reason,", current mode: ").concat(this.reconnectMode)),this._reconnectCount<this._retryConfig.maxRetryCount){this.state==="connected"&&(this.reconnectReason=k.reason,this.state="reconnecting");const q=FS(this,X0.WILL_RECONNECT,this.reconnectMode)||this.reconnectMode,z=await this.reconnectWithAction(q);if(this.state==="closed")return void $.debug("[".concat(this.connectionID,"] dc is closed, no need to reconnect"));if(!z)return u(new Oa(ea.WS_DISCONNECT,"datachannel reconnect failed: ".concat(k.code))),void this.close(!0);o()}else u(new Oa(ea.WS_DISCONNECT,"datachannel close: ".concat(k.code))),this.close()},v=k=>{var L;(L=this._reliableTransmission)===null||L===void 0||L.onData(k.data)};this._transmitter&&(this._transmitter.onclose=null,this._transmitter.close()),this._reliableTransmission&&(this._reliableTransmission.close(),this._reliableTransmission=void 0),$.debug("[".concat(this._name,"] start connect, address: ").concat(JSON.stringify(r)));const R=(h=this._store)===null||h===void 0?void 0:h.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"gateway"}),D=Date.now();o_(this,X0.TO_CONNECT_DATACHANNEL,r).then(k=>{var L,q;if(!k)throw new Error("transmissonInfo not exist yet");const{transmitter:z,close:_s}=k;this._transmitter=z,(L=this._store)===null||L===void 0||L.signalChannelOpen();const _n=Date.now()-D;$.debug("[choose dc] dc open cost ".concat(_n,"ms")),this._reliableTransmission=new Ice(_i=>{var Aa;this._transmitter&&this._transmitter.readyState==="open"&&((Aa=this._transmitter)===null||Aa===void 0||Aa.send(_i))},_i=>{typeof _i=="string"&&this.emit(X0.ON_MESSAGE,_i)}),this._closeEstablishingTransmitter=()=>{var _i;(_i=this._reliableTransmission)===null||_i===void 0||_i.close(),this._reliableTransmission=void 0,_s()},f&&f(),z.onclose=m,z.onmessage=v,(q=this._store)===null||q===void 0||q.recordJoinChannelService({endTs:Date.now(),status:"success"},R),this._joinChannelServiceRecordIndex=R}).catch(k=>{var L;if((L=this._store)===null||L===void 0||L.recordJoinChannelService({endTs:Date.now(),status:k instanceof Oa&&k.code===ea.WS_ABORT?"aborted":"error",errors:[k]},R),this.state!=="closed"){if(k instanceof Oa&&k.code===ea.WS_ERR){const q=new Oa(ea.WS_ERR,"init datachannel failed! Error: ".concat(k.toString()));return $.error("[".concat(this._name,"]").concat(q)),void u(q)}m&&m(k)}else u(new Oa(ea.WS_DISCONNECT,"datachannel is closed: ".concat(k.toString())))})})}async reconnectWithAction(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(this._reconnectCount>=this._retryConfig.maxRetryCount||!this._addresses||this.state==="closed")return!1;this._onlineReconnectListener||A_.networkState!==lS.OFFLINE||(this._onlineReconnectListener=A_.onlineWaiter&&A_.onlineWaiter.then(()=>{this._onlineReconnectListener=void 0}));let u=!0;if(this._reconnectInterrupter=()=>{u=!1},o){const v=lP(this._reconnectCount,this._retryConfig);$.debug("[".concat(this._name,"] wait ").concat(v,"ms to reconnect datachannel, mode: ").concat(r)),await lc.race([N_(v),this._onlineReconnectListener||new lc(()=>{})])}if(this.state==="closed"||!u)return!1;this._reconnectCount+=1;const h=async(v,R)=>{this.emit(X0.RECONNECT_CREATE_CONNECTION,R),await this.createTransmitterConnection(v)};try{if(r==="retry"){const v=this._addresses[this.currentURLIndex];this.emit(X0.RECONNECT_WAITTING_FINISH,r),await h(v,r)}else if(r==="tryNext"){this.currentURLIndex+=1;for(let R=this.currentURLIndex;R<this._addresses.length;R++){if(this._addresses[R].fingerprint||la("FINGERPRINT")){this.currentURLIndex=R;break}this.currentURLIndex+=1}if(this.currentURLIndex>=this._addresses.length)return $.debug("[".concat(this._name,"] the available addresses are exhausted, change to recover")),await this.reconnectWithAction("recover",!1);$.debug("[".concat(this._name,"] datachannel url length: ").concat(this._addresses.length," current index: ").concat(this.currentURLIndex));const v=this._addresses[this.currentURLIndex];this.emit(X0.RECONNECT_WAITTING_FINISH,r),await h(v,r)}else r==="recover"&&($.debug("[".concat(this._name,"] start to failback to websocket")),this.resetReconnectCount("recover mode"),this.emit(X0.RECONNECT_WAITTING_FINISH,r),this.emit(X0.FAILBACK));return!0}catch(v){var f,m;return $.error("[".concat(this._name,"] reconnect failed"),v.toString()),v!=null&&(f=v.data)!==null&&f!==void 0&&f.desc&&Array.isArray(v.data.desc)&&v.data.desc.length&&AQ(m=v.data.desc).call(m,"dynamic key expired")?(this.emit(X0.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):await this.reconnectWithAction(r,o)}}}class MN extends x0{get connectionState(){return this._connectionState}set connectionState(r){r!==this._connectionState&&(this._connectionState=r,r===JQ.CONNECTED?this.emit(nQ.WS_CONNECTED):r===JQ.RECONNECTING?this.emit(nQ.WS_RECONNECTING,this._websocketReconnectReason):r===JQ.CLOSED&&this.emit(nQ.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket?this.websocket.url:null}get rtt(){return this.rttRolling.mean()}constructor(r,o){super(),j(this,"_disconnectedReason",void 0),j(this,"_websocketReconnectReason",void 0),j(this,"_connectionState",JQ.CLOSED),j(this,"reconnectToken",void 0),j(this,"websocket",void 0),j(this,"openConnectionTime",void 0),j(this,"clientId",void 0),j(this,"lastMsgTime",Date.now()),j(this,"uploadCache",[]),j(this,"uploadCacheInterval",void 0),j(this,"rttRolling",new t8(5)),j(this,"pingpongTimer",void 0),j(this,"inflateDataTimer",void 0),j(this,"pingpongTimeoutCount",0),j(this,"joinResponse",void 0),j(this,"multiIpOption",void 0),j(this,"initError",void 0),j(this,"spec",void 0),j(this,"store",void 0),j(this,"onWebsocketMessage",u=>{if(u instanceof ArrayBuffer)return void this.emit(nQ.ON_BINARY_DATA,u);const h=JSON.parse(u);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(h,"_id")){const f="res-@".concat(h._id);this.emit(f,h._result,h._message)}else if(Object.prototype.hasOwnProperty.call(h,"_type")&&(this.emit(h._type,h._message),h._type===wQ.ON_NOTIFICATION&&this.handleNotification(h._message),h._type===wQ.ON_USER_BANNED))switch(h._message.error_code){case 14:this.close(zQ.UID_BANNED);break;case 15:this.close(zQ.IP_BANNED);break;case 16:this.close(zQ.CHANNEL_BANNED)}}),this.clientId=r.clientId,this.spec=r,this.store=o,this.websocket=new u7("gateway-".concat(this.clientId),this.spec.retryConfig,!0,o),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===JQ.CONNECTED&&this.reconnect("retry",oN.OFFLINE)})}async request(r,o,u,h){const f=y0(6,""),m={_id:f,_type:r,_message:o},v=this.websocket.connectionID,R=()=>new lc((_s,_n)=>{if(this.connectionState===JQ.CONNECTED)return _s();const _i=()=>{this.off(nQ.WS_CLOSED,Aa),_s()},Aa=()=>{this.off(nQ.WS_CONNECTED,_i),_n(new Oa(ea.WS_ABORT))};this.once(nQ.WS_CONNECTED,_i),this.once(nQ.WS_CLOSED,Aa),r!==EQ.PUBLISH&&r!==EQ.SUBSCRIBE&&r!==EQ.UNSUBSCRIBE&&r!==EQ.UNPUBLISH&&r!==EQ.CONTROL&&r!==EQ.RESTART_ICE||this.once(nQ.DISCONNECT_P2P,()=>{_n(new Oa(ea.DISCONNECT_P2P))}),r!==EQ.PUBLISH&&r!==EQ.RESTART_ICE||this.once(nQ.ABORT_P2P_EXECUTION,()=>{_n(new Oa(ea.DISCONNECT_P2P))})});if(this.connectionState!==JQ.CONNECTING&&this.connectionState!==JQ.RECONNECTING||r===EQ.JOIN||r===EQ.REJOIN||await R(),r===EQ.LEAVE&&(this.websocket.unbindDcCloseEventListener(),h=!0),this.websocket.sendMessage(m,!0,!1),h)return;const D=new lc((_s,_n)=>{let _i=!1;const Aa=(Qa,Vc)=>{_i=!0,_s({isSuccess:Qa==="success",message:Vc||{}}),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.emit(nQ.REQUEST_SUCCESS,r,o)};this.once("res-@".concat(f),Aa);const Ea=()=>{_n(new Oa(ea.WS_ABORT,"type: ".concat(r))),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.off("res-@".concat(f),Aa)};this.once(nQ.WS_CLOSED,Ea),this.once(nQ.WS_RECONNECTING,Ea),N_(la("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==v||_i||($.warning("dc request timeout, type: ".concat(r)),this.emit(nQ.REQUEST_TIMEOUT,r,o))})});let k=null;try{k=await D}catch(_s){if(this.connectionState===JQ.CLOSED||r===EQ.LEAVE)throw new Oa(ea.WS_ABORT);return!this.spec.forceWaitGatewayResponse||u?_s.throw():r===EQ.JOIN||r===EQ.REJOIN?null:(await R(),await this.request(r,o))}if(k.isSuccess)return k.message;const L=Number(k.message.error_code||k.message.code),q=WT(L),z=new Oa(ea.UNEXPECTED_RESPONSE,"".concat(q.desc,": ").concat(k.message.error_str),{code:L,data:k.message});return q.action==="success"?k.message:($.warning("[".concat(this.websocket.connectionID,"] unexpected response from type ").concat(r,", error_code: ").concat(L,", message: ").concat(q.desc,", action: ").concat(q.action)),L===fQ.ERR_TOO_MANY_BROADCASTERS?((r===EQ.JOIN||r===EQ.REJOIN)&&(this.initError=z,this.close()),z.throw()):q.action==="failed"?z.throw():q.action==="quit"?(this.initError=z,this.close(),z.throw()):(L===fQ.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=k.message.option,$.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",oN.MULTI_IP)):this.reconnect(q.action,oN.SERVER_ERROR),r===EQ.JOIN||r===EQ.REJOIN?null:await this.request(r,o)))}waitMessage(r,o){return new lc(u=>{const h=f=>{(!o||o(f))&&(this.off(r,h),u(f))};this.on(r,h)})}uploadWRTCStats(r){if(!this.store.sessionId)return void $.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const o={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:r};this.upload(LN.WRTC_STATS,o)}upload(r,o){const u={_type:r,_message:o};try{this.websocket.sendMessage(u)}catch{const f=la("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(u),this.uploadCache.length>f&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==JQ.CONNECTED)return;const m=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(m._type,m._message)},la("UPLOAD_CACHE_INTERVAL")||2e3))}}send(r,o){const u={_type:r,_message:o};this.websocket.sendMessage(u)}init(r,o){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new lc((u,h)=>{this.once(nQ.WS_CONNECTED,()=>u(this.joinResponse)),this.once(nQ.WS_CLOSED,()=>h(this.initError||new Oa(ea.WS_ABORT))),this.connectionState=JQ.CONNECTING,this.websocket.init(r).catch(h),this.websocket.once(X0.FAILBACK,()=>{this.openConnectionTime===void 0&&h(new Oa(ea.INIT_DATACHANNEL_TIMEOUT))}),this.inflateDataTimer&&window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=window.setInterval(()=>{this.handleInflateData()},2e4),setTimeout(()=>{o&&this.openConnectionTime===void 0&&($.debug("[".concat(this.clientId,"] init datachannel timeout while join with failback to websocket")),h(new Oa(ea.INIT_DATACHANNEL_TIMEOUT)))},la("DC_JOIN_WITH_FAILBACK"))})}close(r){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.inflateDataTimer&&(this.handleInflateData(),window.clearInterval(this.inflateDataTimer),this.inflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=r||zQ.LEAVE,this.connectionState=JQ.CLOSED,$.debug("[".concat(this.clientId,"] ")+"will close datachannel in signal"),this.websocket.close(),r===zQ.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new u7("gateway-".concat(this.clientId),this.spec.retryConfig,!0,this.store),this.handleWebsocketEvents())}async join(){if(!this.joinResponse){this.emit(nQ.ABORT_P2P_EXECUTION);const r=await o_(this,nQ.DATACHANNEL_CONNECTING),o=await this.request(EQ.JOIN,r);if(!o)return this.emit(nQ.REPORT_JOIN_GATEWAY,ea.TIMEOUT,this.url||""),!1;this.joinResponse=o,this.emit(nQ.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=JQ.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Oa(ea.UNEXPECTED_ERROR,"can not rejoin, no rejoin token");const r=KT(this,nQ.REQUEST_REJOIN_INFO);r.token=this.reconnectToken;const o=await this.request(EQ.REJOIN,r);return!!o&&(this.connectionState=JQ.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),o.peers&&o.peers.forEach(u=>{this.emit(wQ.ON_USER_ONLINE,{uid:u.uid}),u.audio&&this.emit(wQ.ON_ADD_AUDIO_STREAM,{uid:u.uid,uint_id:u.uint_id,audio:!0,ssrcId:u.audio_ssrc}),u.video&&this.emit(wQ.ON_ADD_VIDEO_STREAM,{uid:u.uid,uint_id:u.uint_id,video:!0,ssrcId:u.video_ssrc}),u.audio_mute?this.emit(wQ.MUTE_AUDIO,{uid:u.uid}):this.emit(wQ.UNMUTE_AUDIO,{uid:u.uid}),u.video_mute?this.emit(wQ.MUTE_VIDEO,{uid:u.uid}):this.emit(wQ.UNMUTE_VIDEO,{uid:u.uid}),u.audio_enable_local?this.emit(wQ.ENABLE_LOCAL_AUDIO,{uid:u.uid}):this.emit(wQ.DISABLE_LOCAL_AUDIO,{uid:u.uid}),u.video_enable_local?this.emit(wQ.ENABLE_LOCAL_VIDEO,{uid:u.uid}):this.emit(wQ.DISABLE_LOCAL_VIDEO,{uid:u.uid}),u.audio||u.video||this.emit(wQ.ON_REMOVE_STREAM,{uid:u.uid,uint_id:u.uint_id})}),!0)}reconnect(r,o){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(r,o)}handleNotification(r){$.debug("[".concat(this.clientId,"] receive notification: "),r);const o=WT(r.code);if(o.action!=="success"){if(o.action!=="failed")return o.action==="quit"?(o.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(zQ.UID_BANNED),void this.close()):void this.reconnect(o.action,oN.SERVER_ERROR);$.error("[".concat(this.clientId,"] ignore error: "),o.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const r=la("PING_PONG_TIME_OUT"),o=Date.now();this.pingpongTimeoutCount>=r&&($.warning("PINGPONG Timeout. Last Socket Message: ".concat(o-this.lastMsgTime,"ms")),o-this.lastMsgTime>la("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",oN.TIMEOUT):this.request(EQ.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const u=Date.now()-o;this.rttRolling.add(u),la("REPORT_STATS")&&this.send(EQ.PING_BACK,{pingpongElapse:u})}).catch(u=>{})}handleInflateData(){const{inflateLength:r,deflateLength:o}=this.websocket.getInflateData();r!==0&&o!==0&&this.upload(LN.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:o,ws_inflate_length:r})}handleWebsocketEvents(){this.websocket.on(X0.RECONNECT_WAITTING_FINISH,r=>{this.emit(nQ.WS_RECONNECT_WAITTING_FINISH,r)}),this.websocket.on(X0.RECONNECT_CREATE_CONNECTION,r=>{this.emit(nQ.WS_RECONNECT_CREATE_CONNECTION,r)}),this.websocket.on(X0.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(X0.CLOSED,()=>{this.connectionState=JQ.CLOSED}),this.websocket.on(X0.FAILED,()=>{this._disconnectedReason=zQ.NETWORK_ERROR,this.connectionState=JQ.CLOSED}),this.websocket.on(X0.RECONNECTING,r=>{this._websocketReconnectReason=r,this.joinResponse=void 0,this.connectionState===JQ.CONNECTED?this.connectionState=JQ.RECONNECTING:this.connectionState=JQ.CONNECTING}),this.websocket.on(X0.WILL_RECONNECT,(r,o)=>{if(KT(this,nQ.IS_P2P_DISCONNECTED)&&r==="retry")return $.debug("".concat(this.clientId," reconnect mode is retry, but p2p lost, change to tryNext")),this.reconnectToken=void 0,this.emit(nQ.NEED_RENEW_SESSION),this.emit(nQ.DISCONNECT_P2P),o("tryNext");r!=="retry"&&($.debug("".concat(this.clientId," websockt will_connect event, renewSession reconnectMode is ").concat(r)),this.reconnectToken=void 0,this.emit(nQ.NEED_RENEW_SESSION),this.emit(nQ.DISCONNECT_P2P)),o(r)}),this.websocket.on(X0.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch(r=>{$.warning("[".concat(this.clientId,"] rejoin failed ").concat(r)),this.reconnect("tryNext",oN.SERVER_ERROR)}):this.join().catch(r=>{if(this.emit(nQ.REPORT_JOIN_GATEWAY,r.message||r.code,this.url||""),r instanceof Oa&&r.code===ea.UNEXPECTED_RESPONSE&&r.data.code===fQ.ERR_NO_AUTHORIZED)return $.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",oN.SERVER_ERROR);$.error("[".concat(this.clientId,"] join gateway request failed"),r.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",oN.SERVER_ERROR):(this.initError=r,this.close())})}),this.websocket.on(X0.REQUEST_NEW_URLS,(r,o)=>{o_(this,nQ.REQUEST_RECOVER,this.multiIpOption).then(r).catch(o)}),this.websocket.on(X0.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(wQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}),this.websocket.on(X0.TO_CONNECT_DATACHANNEL,async(r,o,u)=>o_(this,nQ.DATACHANNEL_PRECONNECT,r).then(o).catch(u)),this.websocket.on(X0.FAILBACK,()=>{this.openConnectionTime!==void 0&&this.emit(nQ.DATACHANNEL_FAILBACK)})}}class XT extends x0{constructor(r,o){super(),j(this,"signal",void 0),j(this,"token",void 0),j(this,"tokenTimeout",void 0),j(this,"tokenInterval",void 0),j(this,"_sequence",0),j(this,"userMap",new Map),j(this,"encoder",new TextEncoder),this.signal=r,this.token=o;const u=()=>{this.signal.connectionState===JQ.CONNECTED&&this.check(),this.userMap.size===0?this.tokenInterval=window.setTimeout(u,1e3):this.tokenInterval=window.setTimeout(u,3*la("P2P_TOKEN_INTERVAL"))};u()}async send(r,o,u,h,f){var m,v,R;if(this.userMap.size===0)return;const D=Array.from(zR(m=this.userMap).call(m))[0].token;typeof o!="string"&&(o=JSON.stringify(o)),h=(v=h)!==null&&v!==void 0?v:y0(6,""),f=(R=f)!==null&&R!==void 0?R:this._sequence++;const k={_id:h,_type:r,_seq:f,_message:o,token:"".concat(this.token,"_").concat(D)};la("SHOW_P2P_LOG")&&$.debug("send message",k,"noNeedResponse : ".concat(u)),this.splitMessage(JSON.stringify(k)).forEach(q=>{this.signal.request(EQ.DATA_STREAM,{payload:M1(this.encoder.encode(q))})});const L=new lc((q,z)=>{const _s=window.setTimeout(()=>{this.off("res-@".concat(h,"_ack"),_n),this.off("res-@".concat(h),Aa),this.off(gT.ABORT,_i),$.debug("[external-signal] request timeout, type: ".concat(r,", requestId: ").concat(h)),this.userMap.size===0?z(new _g(ea.INVALID_REMOTE_USER)):z(new _g(ea.TIMEOUT))},la("EXTERNAL_SIGNAL_REQUEST_TIMEOUT")),_n=()=>{_s&&window.clearTimeout(_s),this.off(gT.ABORT,_i),u&&q()},_i=()=>{_s&&window.clearTimeout(_s),this.off("res-@".concat(h,"_ack"),_n),this.off("res-@".concat(h),Aa),z(new _g(ea.EXTERNAL_SIGNAL_ABORT,"type: ".concat(r,", requestId: ").concat(h)))};this.once(gT.ABORT,_i),this.once("res-@".concat(h,"_ack"),_n);const Aa=(Qa,Vc)=>{Ea=!0,_s&&window.clearTimeout(_s),this.off("res-@".concat(h,"_ack"),_n),this.off(gT.ABORT,_i),Qa==="success"?q(Vc):z(new _g(ea.P2P_MESSAGE_FAILED,"request ".concat(r," failed, requestId: ").concat(h)))};let Ea=!1;u||(this.once("res-@".concat(h),Aa),N_(la("SIGNAL_REQUEST_TIMEOUT")).then(()=>{Ea||$.warning("external_signal request timeout, type: ".concat(r,", requestId: ").concat(h,", ").concat(k))}))});try{return await L}catch(q){if(q.code===ea.TIMEOUT)return await this.send(r,o,u,h,f);throw q}}onMessage(r){var o;const{_uid:u}=r;let h,f=this.userMap.get(u);if(f)h=f.splitMessageMap;else{if(this.userMap.size>0||!("_type"in r)||r._type!==H0.CHECK)return;const{token:D}=r;h=new Map,f={uid:u,isStart:!0,token:D,splitMessageMap:h,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(u,f),this.signal.emit(wQ.ON_USER_ONLINE,{uid:u}),this.handleUserOnline()}if("id"in r&&"total"in r){var m;const{id:D,total:k}=r,L=(m=h.get(D))!==null&&m!==void 0?m:[];if(L.push(r),h.has(D)||h.set(D,L),L.length!==k)return;{const q=yO(L).call(L,(z,_s)=>z.index-_s.index).map(z=>z.payload).join("");h.delete(D),(r=JSON.parse(q))._uid=u}}const{_type:v,token:R}=r;if(AQ(o=[H0.ACK,H0.CHECK]).call(o,v))return v===H0.CHECK&&this.handleCheckToken(f,R),void this.receiveMessage(r);R==="".concat(f.token,"_").concat(this.token)?this.handleReceivedMessage(r):$.debug('Receive unexpected message", '.concat(R,", cur_token: ").concat(f.token,"_").concat(this.token),r)}check(){const r={_id:y0(6,""),token:this.token,_type:H0.CHECK};la("SHOW_P2P_LOG")&&$.debug("send message",r),this.signal.request(EQ.DATA_STREAM,{payload:M1(this.encoder.encode(JSON.stringify(r)))})}ack(r){const o={_id:r,_type:H0.ACK,token:this.token};la("SHOW_P2P_LOG")&&$.debug("send message",o),this.signal.request(EQ.DATA_STREAM,{payload:M1(this.encoder.encode(JSON.stringify(o)))})}response(r,o,u){this.send(H0.RESPONSE,JSON.stringify({success:!u,message:o}),!0,r)}handleReceivedMessage(r){const o=()=>{this.userMap.forEach(D=>{const{receivedMessagesMap:k,nextExpectedSequenceNumber:L}=D;for(;k.has(L);){const q=k.get(L);k.delete(L),this.receiveMessage(q),D.nextExpectedSequenceNumber++}})};if(!r)return void o();const{_uid:u,_seq:h}=r,f=this.userMap.get(u),{receivedMessagesMap:m,isStart:v,nextExpectedSequenceNumber:R}=f;if(h<R)return this.ack(r._id),void $.debug("[external-signal] receive old message, seq: ".concat(h,", ").concat(r._message));m.set(h,r),v&&h===R&&(this.receiveMessage(r),m.delete(R),f.nextExpectedSequenceNumber++,o())}receiveMessage(r){const{_id:o,_type:u,_message:h,_uid:f}=r;if(la("SHOW_P2P_LOG")&&$.debug("receive message",r),o){let m;switch(r._type!==H0.ACK&&(h&&(m=JSON.parse(h)),this.ack(r._id)),r._type){case H0.CANDIDATE:case H0.CONTROL:this.signal.emit(u,m,f);break;case H0.PUBLISH:case H0.UNPUBLISH:case H0.RESTART_ICE:case H0.CALL:m.uid=f,o_(this.signal,u,m).then(v=>{this.response(r._id,v)}).catch(()=>{this.response(r._id,void 0,!0)});break;case H0.ACK:this.getListeners("res-@".concat(o,"_ack")).length>0&&this.emit("res-@".concat(o,"_ack"));break;case H0.RESPONSE:{const{success:v,message:R}=m;this.emit("res-@".concat(o),v?"success":"failed",R);break}}}}splitMessage(r){if(r.length<XT.MAX_MESSAGE_SIZE)return[r];const o=[],{remoteToken:u}=JSON.parse(r),h=y0(6,"");let f=0,m=800;const v=Math.ceil(r.length/m);for(;r.length>0;){f++;const R={id:h,index:f,total:v,payload:r.slice(0,m),token:"".concat(this.token,"_").concat(u)};JSON.stringify(R).length>XT.MAX_MESSAGE_SIZE?m-=50:(o.push(R),r=r.slice(m))}return o.map(R=>JSON.stringify(R))}handleCheckToken(r,o){return r.token!==o?($.debug("token changed, from ".concat(r.token," to ").concat(o)),this.reset(r.uid,o),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout(()=>{$.debug("token timeout, ".concat(o)),this.reset(r.uid)},la("MAX_P2P_TIMEOUT")),!0)}async handleUserOnline(){const r=await o_(this.signal,H0.CALL,void 0),o=await this.send(H0.CALL,r);this.signal.emit(nQ.P2P_CONNECTION,o,!0)}async reset(r,o){const u=this.userMap.get(r);u&&(this.emit(gT.ABORT),this.signal.emit(wQ.ON_USER_OFFLINE,{uid:u.uid,reason:b8.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),o||($.debug("change local token from ".concat(o," to ").concat(o)),this.token=y0(6,"")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(gT.ABORT)}}j(XT,"MAX_SIZE",1),j(XT,"MAX_MESSAGE_SIZE",1024);class g7 extends x0{get connectionState(){return this._connectionState}set connectionState(r){r!==this._connectionState&&(this._connectionState=r,r===JQ.CONNECTED?this.emit(nQ.WS_CONNECTED):r===JQ.RECONNECTING?this.emit(nQ.WS_RECONNECTING,this._websocketReconnectReason):r===JQ.CLOSED&&this.emit(nQ.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(r,o){super(),j(this,"_disconnectedReason",void 0),j(this,"_websocketReconnectReason",void 0),j(this,"_connectionState",JQ.CLOSED),j(this,"reconnectToken",void 0),j(this,"p2pToken",void 0),j(this,"websocket",void 0),j(this,"openConnectionTime",void 0),j(this,"clientId",void 0),j(this,"lastMsgTime",Date.now()),j(this,"uploadCache",[]),j(this,"uploadCacheInterval",void 0),j(this,"rttRolling",new t8(5)),j(this,"pingpongTimer",void 0),j(this,"pingpongTimeoutCount",0),j(this,"joinResponse",void 0),j(this,"multiIpOption",void 0),j(this,"initError",void 0),j(this,"spec",void 0),j(this,"store",void 0),j(this,"_external_signal",void 0),j(this,"onWebsocketMessage",u=>{if(u.data instanceof ArrayBuffer)return void this.emit(nQ.ON_BINARY_DATA,u.data);const h=JSON.parse(u.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(h,"_id")){const f="res-@".concat(h._id);this.emit(f,h._result,h._message)}else if(Object.prototype.hasOwnProperty.call(h,"_type")){switch(h._type){case wQ.ON_DATA_STREAM:return void this.handleDataStream(h._message);case wQ.MUTE_AUDIO:case wQ.MUTE_VIDEO:case wQ.ON_P2P_LOST:case wQ.ON_USER_ONLINE:return;case wQ.ON_USER_OFFLINE:const{uid:f}=h._message;return $.debug("[".concat(this.clientId,"] user-offline uid: ").concat(f)),void this._external_signal.reset(f)}if(this.emit(h._type,h._message),h._type===wQ.ON_NOTIFICATION&&this.handleNotification(h._message),h._type===wQ.ON_USER_BANNED)switch(h._message.error_code){case 14:this.close(zQ.UID_BANNED);break;case 15:this.close(zQ.IP_BANNED);break;case 16:this.close(zQ.CHANNEL_BANNED)}if(h._type===wQ.ON_USER_LICENSE_BANNED)switch(h._message.error_code){case fQ.ERR_LICENSE_MISSING:this.close(zQ.LICENSE_MISSING);break;case fQ.ERR_LICENSE_EXPIRED:this.close(zQ.LICENSE_EXPIRED);break;case fQ.ERR_LICENSE_MINUTES_EXCEEDED:this.close(zQ.LICENSE_MINUTES_EXCEEDED);break;case fQ.ERR_LICENSE_PERIOD_INVALID:this.close(zQ.LICENSE_PERIOD_INVALID);break;case fQ.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(zQ.LICENSE_MULTIPLE_SDK_SERVICE);break;case fQ.ERR_LICENSE_ILLEGAL:this.close(zQ.LICENSE_ILLEGAL);break;default:this.close()}}}),this.clientId=r.clientId,this.spec=r,this.store=o,this.websocket=new FO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,la("JOIN_GATEWAY_USE_DUAL_DOMAIN"),la("JOIN_GATEWAY_USE_443PORT_ONLY"),o),this.handleWebsocketEvents(),window.addEventListener("offline",()=>{this.connectionState===JQ.CONNECTED&&this.reconnect("retry",D_.OFFLINE)}),this.p2pToken=y0(6,""),this._external_signal=new XT(this,this.p2pToken)}async request(r,o,u,h){const f=y0(6,""),m={_id:f,_type:r,_message:o},v=this.websocket.connectionID,R=()=>new lc((_s,_n)=>{if(this.connectionState===JQ.CONNECTED)return _s();const _i=()=>{this.off(nQ.WS_CLOSED,Aa),_s()},Aa=()=>{this.off(nQ.WS_CONNECTED,_i),_n(new _g(ea.WS_ABORT))};this.once(nQ.WS_CONNECTED,_i),this.once(nQ.WS_CLOSED,Aa)});if(this.connectionState!==JQ.CONNECTING&&this.connectionState!==JQ.RECONNECTING||r===EQ.JOIN||r===EQ.REJOIN||await R(),this.websocket.sendMessage(m,!0),h)return;const D=new lc((_s,_n)=>{let _i=!1;const Aa=(Qa,Vc)=>{_i=!0,_s({isSuccess:Qa==="success",message:Vc||{}}),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.emit(nQ.REQUEST_SUCCESS,r,o)};this.once("res-@".concat(f),Aa);const Ea=()=>{_n(new _g(ea.WS_ABORT,"type: ".concat(r))),this.off(nQ.WS_CLOSED,Ea),this.off(nQ.WS_RECONNECTING,Ea),this.off("res-@".concat(f),Aa)};this.once(nQ.WS_CLOSED,Ea),this.once(nQ.WS_RECONNECTING,Ea),N_(la("SIGNAL_REQUEST_TIMEOUT")).then(()=>{this.websocket.connectionID!==v||_i||($.warning("[".concat(this.clientId,"] ws request timeout, type: ").concat(r)),this.emit(nQ.REQUEST_TIMEOUT,r,o))})});let k=null;try{k=await D}catch(_s){if(this.connectionState===JQ.CLOSED||r===EQ.LEAVE)throw new _g(ea.WS_ABORT);return!this.spec.forceWaitGatewayResponse||u?_s.throw():r===EQ.JOIN||r===EQ.REJOIN?null:(await R(),await this.request(r,o))}if(k.isSuccess)return k.message;const L=Number(k.message.error_code||k.message.code),q=WT(L),z=new _g(ea.UNEXPECTED_RESPONSE,"".concat(q.desc,": ").concat(k.message.error_str),{code:L,data:k.message});return q.action==="success"?k.message:($.warning("[".concat(this.clientId,"] [").concat(this.websocket.connectionID,"] unexpected response from type ").concat(r,", error_code: ").concat(L,", message: ").concat(q.desc,", action: ").concat(q.action)),L===fQ.ERR_TOO_MANY_BROADCASTERS?((r===EQ.JOIN||r===EQ.REJOIN)&&(this.initError=z,this.close()),z.throw()):q.action==="failed"?z.throw():q.action==="quit"?(this.initError=z,this.close(),z.throw()):(L===fQ.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=k.message.option,$.warning("[".concat(this.clientId,"] detect multi ip, recover")),this.reconnect("recover",D_.MULTI_IP)):this.reconnect(q.action,D_.SERVER_ERROR),r===EQ.JOIN||r===EQ.REJOIN?null:await this.request(r,o)))}waitMessage(r,o){return new lc(u=>{const h=f=>{(!o||o(f))&&(this.off(r,h),u(f))};this.on(r,h)})}uploadWRTCStats(r){if(!this.store.sessionId)return void $.warn("[".concat(this.clientId,"] no session id when upload wrtc stats"));const o={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:r};this.upload(LN.WRTC_STATS,o)}upload(r,o){const u={_type:r,_message:o};try{this.websocket.sendMessage(u)}catch{const f=la("MAX_UPLOAD_CACHE")||50;this.uploadCache.push(u),this.uploadCache.length>f&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval(()=>{if(this.connectionState!==JQ.CONNECTED)return;const m=this.uploadCache.splice(0,1)[0];this.uploadCache.length===0&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(m._type,m._message)},la("UPLOAD_CACHE_INTERVAL")||2e3))}}send(r,o){const u={_type:r,_message:o};this.websocket.sendMessage(u)}async sendExtensionMessage(r,o,u){return await this._external_signal.send(r,o,u)}init(r){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new lc((o,u)=>{this.once(nQ.WS_CONNECTED,()=>o(this.joinResponse)),this.once(nQ.WS_CLOSED,()=>u(this.initError||new _g(ea.WS_ABORT))),this.connectionState=JQ.CONNECTING,this.websocket.init(r).catch(u)})}close(r){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=r||zQ.LEAVE,this.connectionState=JQ.CLOSED,$.debug("[".concat(this.clientId,"] ")+"will close websocket in signal"),this.websocket.close(),r===zQ.FALLBACK&&(this.websocket.removeAllListeners(),this.websocket=new FO("gateway-".concat(this.clientId),this.spec.retryConfig,!0,la("JOIN_GATEWAY_USE_DUAL_DOMAIN"),la("JOIN_GATEWAY_USE_443PORT_ONLY"),this.store),this.handleWebsocketEvents()),this.p2pToken=y0(6,""),this._external_signal.clear(),this._external_signal=new XT(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(nQ.ABORT_P2P_EXECUTION);const r=await o_(this,nQ.REQUEST_JOIN_INFO),o=await this.request(EQ.JOIN,r);if(!o)return this.emit(nQ.REPORT_JOIN_GATEWAY,ea.TIMEOUT,this.url||""),!1;this.joinResponse=o,this.emit(nQ.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=JQ.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(r,o){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(r,o)}handleDataStream(r){try{var o;const u=cP(r.payload),h=new TextDecoder().decode(u),f=JSON.parse(h);"total"in f&&"id"in f||AQ(o=Object.values(H0)).call(o,f._type)?(f._uid=r.uid,this._external_signal.onMessage(f)):this.emit(wQ.ON_DATA_STREAM,r)}catch{this.emit(wQ.ON_DATA_STREAM,r)}}handleNotification(r){$.debug("[".concat(this.clientId,"] receive notification: "),r);const o=WT(r.code);if(o.action!=="success"){if(o.action!=="failed")return o.action==="quit"?(o.desc==="ERR_REPEAT_JOIN_CHANNEL"&&this.close(zQ.UID_BANNED),void this.close()):void this.reconnect(o.action,D_.SERVER_ERROR);$.error("[".concat(this.clientId,"] ignore error: "),o.desc)}}handlePingPong(){if(!this.websocket||this.websocket.state!=="connected")return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const r=la("PING_PONG_TIME_OUT"),o=Date.now();this.pingpongTimeoutCount>=r&&($.warning("[".concat(this.clientId,"] PINGPONG Timeout. Last Socket Message: ").concat(o-this.lastMsgTime,"ms")),o-this.lastMsgTime>la("WEBSOCKET_TIMEOUT_MIN"))?this.reconnect("retry",D_.TIMEOUT):this.request(EQ.PING,void 0,!0).then(()=>{this.pingpongTimeoutCount=0;const u=Date.now()-o;this.rttRolling.add(u),la("REPORT_STATS")&&this.send(EQ.PING_BACK,{pingpongElapse:u})}).catch(u=>{})}handleWebsocketEvents(){this.websocket.on(vQ.RECONNECT_WAITTING_FINISH,r=>{this.emit(nQ.WS_RECONNECT_WAITTING_FINISH,r)}),this.websocket.on(vQ.RECONNECT_CREATE_CONNECTION,r=>{this.emit(nQ.WS_RECONNECT_CREATE_CONNECTION,r)}),this.websocket.on(vQ.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(vQ.CLOSED,()=>{this.connectionState=JQ.CLOSED}),this.websocket.on(vQ.FAILED,()=>{this._disconnectedReason=zQ.NETWORK_ERROR,this.connectionState=JQ.CLOSED}),this.websocket.on(vQ.RECONNECTING,r=>{this._websocketReconnectReason=r,this.joinResponse=void 0,this.connectionState===JQ.CONNECTED?this.connectionState=JQ.RECONNECTING:this.connectionState=JQ.CONNECTING}),this.websocket.on(vQ.WILL_RECONNECT,(r,o,u)=>{r!=="retry"?($.debug("".concat(this.clientId," websocket will_connect event, renewSession reconnectMode is ").concat(r)),this.reconnectToken=void 0,this.emit(nQ.NEED_RENEW_SESSION)):$.debug("".concat(this.clientId," reconnect mode is retry, no need to renew session")),u(r)}),this.websocket.on(vQ.CONNECTED,()=>{this.openConnectionTime=Date.now(),this.join().catch(r=>{if(this.emit(nQ.REPORT_JOIN_GATEWAY,r.message||r.code,this.url||""),r instanceof _g&&r.code===ea.UNEXPECTED_RESPONSE&&r.data.code===fQ.ERR_NO_AUTHORIZED)return $.warning("[".concat(this.clientId,"] reconnect no authorized, recover")),void this.reconnect("recover",D_.SERVER_ERROR);$.error("[".concat(this.clientId,"] join gateway request failed"),r.toString()),this.spec.forceWaitGatewayResponse?this.reconnect("tryNext",D_.SERVER_ERROR):(this.initError=r,this.close())})}),this.websocket.on(vQ.REQUEST_NEW_URLS,(r,o)=>{o_(this,nQ.REQUEST_RECOVER,this.multiIpOption).then(r).catch(o)}),this.websocket.on(vQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{this.emit(wQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})}}function l7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function LR(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?l7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):l7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}const x8=new Map;class Cce extends x0{get state(){return this._state}set state(r){if(r===this._state)return;const o=this._state;this._state=r,r==="DISCONNECTED"&&this._disconnectedReason?this.emit(j0.CONNECTION_STATE_CHANGE,r,o,this._disconnectedReason):this.emit(j0.CONNECTION_STATE_CHANGE,r,o)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(r){$.debug("[".concat(this.store.clientId,"] set joinGatewayStartTime at ").concat(r)),this._joinGatewayStartTime=r}constructor(r,o){super(),j(this,"store",void 0),j(this,"joinInfo",void 0),j(this,"key",void 0),j(this,"ntpOffset",0),j(this,"signal",void 0),j(this,"role",void 0),j(this,"inChannelInfo",{joinAt:null,duration:0}),j(this,"spec",void 0),j(this,"_state","DISCONNECTED"),j(this,"_statsCollector",void 0),j(this,"_disconnectedReason",void 0),j(this,"isSignalRecover",!1),j(this,"hasChangeBGPAddress",!1),j(this,"trafficStatsInterval",void 0),j(this,"networkQualityInterval",void 0),j(this,"_joinGatewayStartTime",0),j(this,"_signalTimeout",!1),j(this,"_clientRoleOptions",void 0),j(this,"_isProactiveJoin",!1),this.store=r,this.spec=o,this.signal=this.store.useP2P?new g7(LR(LR({},o),{},{retryConfig:o.websocketRetryConfig}),r):this.store.useDataChannel?new MN(LR(LR({},o),{},{retryConfig:o.websocketRetryConfig}),r):new t7(LR(LR({},o),{},{retryConfig:o.websocketRetryConfig}),r),this._statsCollector=o.statsCollector,this.role=o.role||"audience",this._clientRoleOptions=o.clientRoleOptions,this.handleSignalEvents()}async join(r,o,u){if(this.signal instanceof MN){let R=!1;r.cloudProxyServer!=="disabled"?($.debug("[".concat(this.store.clientId,"] Dc is not supported, because cloudProxyServer are not supported (").concat(r.cloudProxyServer,")")),R=!0):"".concat(r.apResponse.cid,"_").concat(r.apResponse.cert).length>255||"".concat(r.apResponse.cid,"_").concat(r.apResponse.cert).length<22?($.debug("[".concat(this.store.clientId,"] Dc is not supported, because ticket length is incorrect, it has to be between 22 and 255")),R=!0):r.apResponse.addresses.some(D=>D.fingerprint)||la("FINGERPRINT")||($.debug("[".concat(this.store.clientId,"] Dc is not supported, because fingerprint does not exist")),R=!0),R&&this.resetSignal()}this.store.joinGatewayStart(),r.cloudProxyServer!=="disabled"&&(this.hasChangeBGPAddress=!0);const h=Date.now();let f=x8.get(r.cname);if(f||(f=new Map,x8.set(r.cname,f)),this._isProactiveJoin=!0,f.has(r.uid)){const R=new Oa(ea.UID_CONFLICT);throw cQ.joinGateway(r.sid,{lts:h,succ:!1,ec:R.message,addr:null,uid:r.uid,cid:r.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!r.proxyServer,signalChannel:this.signal instanceof MN?"1":"0"}),this._isProactiveJoin=!1,R}f.set(r.uid,!0),this.joinInfo=r,this.key=o;let m=0;this.joinGatewayStartTime=h;const v=r.proxyServer;try{let R;if($.debug("[".concat(this.store.clientId,"] use ").concat(this.signal instanceof MN?"datachannel":"websocket"," join uid ").concat(m)),this.signal instanceof MN)R=await this.signal.init(r.apResponse.addresses,u);else{const D=r.gatewayAddrs.map(k=>{let{address:L}=k;const[q,z]=L.split(":"),_s={host:q,port:z};return r.proxyServer&&(_s.proxy=r.proxyServer),_s});R=await this.signal.init(D,u)}m=R.uid,$.debug("[".concat(this.store.clientId,"] ").concat(this.signal instanceof MN?"datachannel":"websocket"," join uid ").concat(m," cost ").concat(Date.now()-this.joinGatewayStartTime))}catch(R){throw R&&R.code===ea.INIT_WEBSOCKET_TIMEOUT?($.warning("[".concat(this.store.clientId,"] User join failed"),R.toString()),R):R&&R.code===ea.INIT_DATACHANNEL_TIMEOUT?($.warning("[".concat(this.store.clientId,"] User join datachannel failed"),R.toString()),this.resetSignal(),R):($.error("[".concat(this.store.clientId,"] User join failed"),R.toString()),cQ.joinGateway(r.sid,{lts:h,succ:!1,ec:R.message,addr:this.signal.url,uid:r.uid,cid:r.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!v,signalChannel:this.signal instanceof MN?"1":"0"}),this._isProactiveJoin=!1,f.delete(r.uid),this.signal.close(),R)}return this.state="CONNECTED",this.inChannelInfo.joinAt=Date.now(),$.debug("[".concat(this.store.clientId,"] Connected to gateway server")),this.trafficStatsInterval=window.setInterval(()=>{this.updateTrafficStats().catch(R=>{$.warning("[".concat(this.store.clientId,"] get traffic stats error"),R.toString())})},3e3),this.networkQualityInterval=window.setInterval(()=>{navigator&&navigator.onLine!==void 0&&!navigator.onLine?this.emit(j0.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(j0.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):this.state==="CONNECTED"&&this._statsCollector.trafficStats?this.emit(j0.NETWORK_QUALITY,{uplinkNetworkQuality:a7(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:a7(this._statsCollector.trafficStats.B_dnq)}):this.emit(j0.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})},2e3),this.store.joinGatewayEnd(),m}async leave(){let r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1?arguments[1]:void 0;if(this.state!=="DISCONNECTED"){o!==zQ.FALLBACK&&(this.state="DISCONNECTING");try{r||this.signal.connectionState!==JQ.CONNECTED||await function(u,h){return h===1/0?u:lc.race([u,jse(h)])}(this.signal.request(EQ.LEAVE,void 0,!0),3e3)}catch(u){$.warning("[".concat(this.store.clientId,"] leave request failed, ignore"),u)}this.signal.close(o),o!==zQ.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}}async publish(r,o,u){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const h={state:"offer",p2p_id:this.store.p2pId,ortc:o,mode:this.spec.mode,extend:la("PUB_EXTEND"),twcc:!!la("PUBLISH_TWCC"),rtx:!!la("USE_PUB_RTX")};try{return(await this.signal.request(EQ.PUBLISH,h,!0))._message}catch(f){if(u&&f.data&&f.data.code===fQ.ERR_PUBLISH_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] receive publish error code, retry"),f.toString()),await this.tryUnpubBeforeRepub(r,o),this.publish(r,o,!1);throw f}}async publishDataChannel(r,o,u){var h;if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));const f={stream_id:o.streamId,ordered:o.ordered?1:0,max_retrans_times:(h=o.maxRetransmits)!==null&&h!==void 0?h:10,channel_id:o.channelId,metadata:o.metadata};try{await this.signal.request(EQ.PUBLISH_DATASTREAM,f,!0)}catch(m){if(u&&m.data&&m.data.code===fQ.ERR_PUBLISH_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] receive publish datachannels error code, retry"),m.toString()),await this.tryUnpubDataChannelBeforeRepub(r,o),this.publishDataChannel(r,o,!1);throw m}}async unpublish(r,o){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await this.signal.request(EQ.UNPUBLISH,{stream_id:o,ortc:r},!0)}catch(u){$.warning("[".concat(this.store.clientId,"] unpublish warning: "),u)}}async unpublishDataChannel(r){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await lc.all(r.map(o=>this.signal.request(EQ.UNPUBLISH_DATASTREAM,{channel_id:o},!0)))}catch(o){$.warning("unpublish datachannels warning: ",o)}}async presubscribe(r,o,u){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not presubscribe when connection state is ".concat(this.state));const h={stream_id:r,stream_type:o,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!la("SUBSCRIBE_TWCC"),rtx:!!la("USE_SUB_RTX")||void 0,extend:la("SUB_EXTEND"),svc:Array.isArray(la("SVC"))&&la("SVC").length!==0?la("SVC"):void 0};try{return await this.signal.request(EQ.PRE_SUBSCRIBE,h,!0)}catch(f){if(u&&f.data&&f.data.code===fQ.ERR_SUBSCRIBE_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] pre-subscribe error, retry"),f.toString()),this.presubscribe(r,o,!1);throw f}}async subscribe(r,o,u){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not subscribe when connection state is ".concat(this.state));const h={stream_id:r,stream_type:o.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!la("SUBSCRIBE_TWCC"),rtx:!!la("USE_SUB_RTX"),extend:la("SUB_EXTEND"),ssrcId:o.ssrcId,svc:Array.isArray(la("SVC"))&&la("SVC").length!==0?la("SVC"):void 0};try{return(await this.signal.request(EQ.SUBSCRIBE,h,!0))._message}catch(f){if(u&&f.data&&f.data.code===fQ.ERR_SUBSCRIBE_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] receiver subscribe error code, retry"),f.toString()),await this.tryUnsubBeforeResub(r,o),await this.subscribe(r,o,!1);throw f}}async subscribeDataChannel(r,o,u){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not subscribe datachannel when connection state is ".concat(this.state));const h={uid:r,stream_id:o.id,channel_id:o.datachannelId};try{return void await this.signal.request(EQ.SUBSCRIBE_DATASTREAM,h,!0)}catch(f){if(u&&f.data&&f.data.code===fQ.ERR_SUBSCRIBE_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] receiver subscribe datachannel error code, retry"),f.toString()),await this.tryUnsubDataChannelBeforeResub(r,o),await this.subscribeDataChannel(r,o,!1);throw f}}async subscribeAll(r,o){if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not massSubscribe when connection state is ".concat(this.state));const u={p2p_id:this.store.p2pId,users:r,dtx:!1,rtx:!!la("USE_SUB_RTX")};try{return await this.signal.request(EQ.SUBSCRIBE_STREAMS,u,!0)}catch(h){if(o&&h.data&&h.data.code===fQ.ERR_SUBSCRIBE_REQUEST_INVALID)return $.warning("[".concat(this.store.clientId,"] receiver massSubscribe error code, retry"),h.toString()),await this.tryMassUnsubBeforeResub(r),await this.subscribeAll(r,!1);throw h}}async setVideoProfile(r){const o=function(u){if(!(u.bitrateMax&&u.bitrateMin&&u.frameRate&&u.height&&u.width))return;let h=u.frameRate,f=u.width,m=u.height,v=!0;return typeof h!="number"&&(h=h.exact||h.ideal||h.max||h.min||0,h||(v=!1)),typeof f!="number"&&(f=f.exact||f.ideal||f.max||f.min||0,f||(v=!1)),typeof m!="number"&&(m=m.exact||m.ideal||m.max||m.min||0,h||(v=!1)),v?{stream_type:0,width:f,height:m,fps:h,start_bps:1e3*u.bitrateMax,min_bps:1e3*u.bitrateMin,target_bps:1e3*u.bitrateMax}:void 0}(r);if(o)return this.signal.request(EQ.SET_VIDEO_PROFILE,o);$.debug("[".concat(this.store.clientId,"] encoder config is not complete, do not report to gateway"))}async unsubscribe(r,o){try{await this.signal.request(EQ.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:r,stream_id:o},!0)}catch(u){$.warning("[".concat(this.store.clientId,"] unsubscribe warning: "),u)}}async unsubscribeDataChannel(r,o){try{if(this.state!=="CONNECTED"&&this.state!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish when connection state is ".concat(this.state));await lc.all(r.map(u=>this.signal.request(EQ.UNSUBSCRIBE_DATASTREAM,{stream_id:u,uid:o},!0)))}catch(u){$.warning("unsubscribeDataChannel warning: ",u)}}async massUnsubscribe(r){try{await this.signal.request(EQ.UNSUBSCRIBE_STREAMS,r,!0)}catch(o){$.warning("[".concat(this.store.clientId,"] massUnsubscribeAll warning: "),o)}}async reconnectPC(r){const{iceParameters:o,dtlsParameters:u,rtpCapabilities:h}=r;return{gatewayEstablishParams:await this.signal.request(EQ.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:o,dtlsParameters:u,rtpCapabilities:h}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(EQ.GATEWAY_INFO)}async renewToken(r){await this.signal.request(EQ.RENEW_TOKEN,r),this.key=r.token}async setClientRole(r,o){if(o&&(this._clientRoleOptions=Object.assign({},o)),this.state!=="CONNECTED")return void(this.role=r);let u,h=0;r==="audience"?this._clientRoleOptions&&this._clientRoleOptions.delay?(u=this._clientRoleOptions.delay,h=1):h=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:h=0,await this.signal.request(EQ.SET_CLIENT_ROLE,{role:r,level:h,delay:u,client_ts:Date.now()}),this.role=r}async setRemoteVideoStreamType(r,o){await this.signal.request(EQ.SWITCH_VIDEO_STREAM,{stream_id:r,stream_type:o})}async setDefaultRemoteVideoStreamType(r){await this.signal.request(EQ.DEFAULT_VIDEO_STREAM,{stream_type:r})}async setStreamFallbackOption(r,o){await this.signal.request(EQ.SET_FALLBACK_OPTION,{stream_id:r,fallback_type:o})}async pickSVCLayer(r,o){await this.signal.request(EQ.PICK_SVC_LAYER,{stream_id:r,spatial_layer:o.spatialLayer,temporal_layer:o.temporalLayer})}async setRTM2Flag(r){await this.signal.request(EQ.SET_RTM2_FLAG,{rtm2_flag:r})}async sendExtensionMessage(r,o,u){if(this.signal instanceof g7)return this.signal.sendExtensionMessage(r,o,u)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),LR({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(EQ.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const r=x8.get(this.joinInfo.cname);r&&r.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const r=function(o){let u;return u=o.startsWith("dc")?o.match(/(dc\:\/\/)?([^:]+):(\d+)/):o.match(/(wss\:\/\/)?([^:]+):(\d+)/),u?{username:pS.username,password:pS.password,turnServerURL:u[2],tcpport:parseInt(u[3])+30,udpport:parseInt(u[3])+30,forceturn:!1}:null}((this.joinInfo.cloudProxyServer==="disabled"?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||"");this.joinInfo.turnServer.serversFromGateway=[],r&&this.joinInfo.turnServer.mode!=="off"&&this.joinInfo.cloudProxyServer==="disabled"&&this.joinInfo.turnServer.serversFromGateway.push(LR(LR({},pS),{},{turnServerURL:r.turnServerURL,tcpport:r.tcpport,udpport:r.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(this.state!=="CONNECTED")return;const r=await this.signal.request(EQ.TRAFFIC_STATS,void 0,!0);r.timestamp=Date.now(),r.ntp_offset!=null&&(this.ntpOffset=r.ntp_offset),r.peer_delay.forEach(o=>{const u=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find(h=>h.peer_uid===o.peer_uid);u&&u.B_st!==o.B_st&&aP(()=>{this.emit(j0.STREAM_TYPE_CHANGE,o.peer_uid,o.B_st)})}),this._statsCollector.updateTrafficStats(r)}getJoinMessage(r){if(!this.joinInfo||!this.key)throw new Oa(ea.UNEXPECTED_ERROR,"can not generate join message, no join info");const o=Object.assign({},this.joinInfo.apResponse);let u=la("REPORT_APP_SCENARIO");if(typeof u!="string")try{u=JSON.stringify(u)}catch{u=void 0}u&&u.length>128&&(u=void 0);const h=LR({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:pR,browser:navigator.userAgent,process_id:la("PROCESS_ID"),mode:this.store.useP2P?"p2p":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:o,extend:la("JOIN_EXTEND"),details:{6:this.joinInfo.stringUid,cservice_map:this.joinInfo.cloudProxyServer==="proxy3"?"1":this.joinInfo.cloudProxyServer==="proxy5"?"2":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:u,attributes:{userAttributes:{enablePublishedUserList:la("ENABLE_PUBLISHED_USER_LIST"),maxSubscription:la("MAX_SUBSCRIPTION"),subscribeAudioFilterTopN:typeof la("SUBSCRIBE_AUDIO_FILTER_TOPN")=="number"?la("SUBSCRIBE_AUDIO_FILTER_TOPN"):void 0,enablePublishAudioFilter:typeof la("ENABLE_PUBLISH_AUDIO_FILTER")=="boolean"?la("ENABLE_PUBLISH_AUDIO_FILTER"):void 0,enableUserLicenseCheck:typeof la("ENABLE_USER_LICENSE_CHECK")=="boolean"?la("ENABLE_USER_LICENSE_CHECK"):void 0,enableRTX:la("USE_PUB_RTX")===!0||la("USE_SUB_RTX")===!0||void 0,disableFEC:la("DISABLE_FEC"),enableNTPReport:!!la("ENABLE_NTP_REPORT")||void 0,enableInstantVideo:!!la("ENABLE_INSTANT_VIDEO")||void 0,enableDataStream2:typeof la("ENABLE_DATASTREAM_2")=="boolean"?la("ENABLE_DATASTREAM_2"):void 0,rtm2Flag:typeof this.joinInfo.rtmFlag=="number"?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!la("ENABLE_USER_AUTO_REBALANCE_CHECK"),enableXR:typeof la("USE_XR")=="boolean"?la("USE_XR"):void 0}},join_ts:this.joinGatewayStartTime},r);return this.joinInfo.stringUid&&(h.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(h.aes_mode=this.joinInfo.aesmode,la("ENCRYPT_AES")?(h.aes_secret=this.joinInfo.aespassword,h.aes_encrypt=!0):h.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(h.aes_salt=this.joinInfo.aessalt)),o.addresses[this.signal.websocket.currentURLIndex]&&(h.ap_response.ticket=o.addresses[this.signal.websocket.currentURLIndex].ticket,delete o.addresses),this.joinInfo.defaultVideoStream!==void 0&&(h.default_video_stream=this.joinInfo.defaultVideoStream),h}getRejoinMessage(){if(!this.joinInfo)throw new Oa(ea.UNEXPECTED_ERROR,"can not generate rejoin message, no join info");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(nQ.WS_RECONNECT_WAITTING_FINISH,r=>{var o;AQ(o=["tryNext","recover"]).call(o,r)&&this.joinInfo&&cQ.adjustSessionStartTime(this.joinInfo.sid)}),this.signal.on(nQ.WS_RECONNECT_CREATE_CONNECTION,r=>{this.joinGatewayStartTime=Date.now()}),this.signal.on(nQ.WS_RECONNECTING,r=>{this.joinInfo&&cQ.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:r||D_.NETWORK_ERROR}),this.joinInfo&&(this.state="RECONNECTING",cQ.sessionInit(this.joinInfo.sid,{lts:new Date().getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:this.spec.mode==="live"?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:this.role==="audience"?2:1}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())}),this.signal.on(nQ.WS_CLOSED,r=>{let o;switch(r){case zQ.LEAVE:o=D_.LEAVE;break;case zQ.UID_BANNED:case zQ.IP_BANNED:case zQ.CHANNEL_BANNED:case zQ.SERVER_ERROR:o=D_.SERVER_ERROR;break;case zQ.FALLBACK:o=D_.FALLBACK;break;case zQ.LICENSE_MISSING:case zQ.LICENSE_EXPIRED:case zQ.LICENSE_MINUTES_EXCEEDED:case zQ.LICENSE_PERIOD_INVALID:case zQ.LICENSE_MULTIPLE_SDK_SERVICE:case zQ.LICENSE_ILLEGAL:case zQ.TOKEN_EXPIRE:o=r;break;default:o=D_.NETWORK_ERROR}$.debug("[".concat(this.store.clientId,"] [signal] websocket closed, reason: ").concat(o||"undefined -> "+D_.NETWORK_ERROR)),this.joinInfo&&cQ.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:r===zQ.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:o}),this._disconnectedReason=r,r!==zQ.FALLBACK&&(this.state="DISCONNECTED"),this.reset()}),this.signal.on(nQ.WS_CONNECTED,()=>{if(this.updateTurnConfigFromSignal(),this.state="CONNECTED",this.joinInfo&&(this.role==="audience"&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&($.debug("[".concat(this.store.clientId,"] patch to send set client role, role: ").concat(this.role,", mode: ").concat(this.spec.mode,", level: ").concat(this._clientRoleOptions.level,", delay: ").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),cQ.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof MN?"1":"0"}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&this.joinInfo.setLocalAPVersion===1)){const r=this.signal.url&&this.signal.url.match(/wss\:\/\/([^:]+):(\d+)/);if(!r)return void $.error("[".concat(this.store.clientId,"] set local access point after joined failed: ").concat(r));p0("EVENT_REPORT_DOMAIN",r[1]),p0("EVENT_REPORT_BACKUP_DOMAIN",r[1]),p0("LOG_UPLOAD_SERVER","".concat(r[1],":6444"))}}),this.signal.on(wQ.ON_UPLINK_STATS,r=>{this._statsCollector.updateUplinkStats(r)}),this.signal.on(nQ.REQUEST_RECOVER,(r,o,u)=>{if(!this.joinInfo)return u(new Oa(ea.UNEXPECTED_ERROR,"gateway: can not recover, no join info"));r&&(this.joinInfo.multiIP=r,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,o_(this,j0.REQUEST_NEW_GATEWAY_LIST).then(o).catch(u)}),this.signal.on(nQ.REQUEST_JOIN_INFO,async r=>{var o;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void r(this.getJoinMessage({ortc:{}}));const{iceParameters:u,dtlsParameters:h,rtpCapabilities:f}=await o_(this,j0.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:(o=this.joinInfo)===null||o===void 0?void 0:o.turnServer});r(this.getJoinMessage({ortc:{iceParameters:u,dtlsParameters:h,rtpCapabilities:f,version:"2"}}))}),this.signal.on(nQ.REQUEST_REJOIN_INFO,r=>{r(this.getRejoinMessage())}),this.signal.on(nQ.REPORT_JOIN_GATEWAY,(r,o)=>{this.joinInfo&&(cQ.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:r,addr:o,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:this.signal instanceof MN?"1":"0"}),this._isProactiveJoin=!1)}),this.signal.on(nQ.IS_P2P_DISCONNECTED,r=>{r(KT(this,j0.IS_P2P_DISCONNECTED))}),this.signal.on(nQ.DISCONNECT_P2P,()=>{this.emit(j0.DISCONNECT_P2P)}),this.signal.on(nQ.NEED_RENEW_SESSION,()=>{this.emit(j0.NEED_RENEW_SESSION)}),this.signal.on(nQ.REQUEST_SUCCESS,()=>{this._signalTimeout=!1}),this.signal.on(nQ.REQUEST_TIMEOUT,()=>{this._signalTimeout=!0}),this.signal.on(nQ.JOIN_RESPONSE,r=>{const o=this.getCurrentGatewayAddress();this.emit(j0.JOIN_RESPONSE,r,o)}),this.signal.on(nQ.DATACHANNEL_PRECONNECT,async(r,o,u)=>{this.updateTurnConfigFromSignal();const h=this.getCurrentGatewayAddress();return o_(this,j0.DATACHANNEL_PRECONNECT,r,h).then(o).catch(u)}),this.signal.on(nQ.DATACHANNEL_CONNECTING,async r=>{const{iceParameters:o,dtlsParameters:u,rtpCapabilities:h}=await o_(this,j0.REQUEST_DC_CONNECTION_PARAMS);r(this.getJoinMessage({ortc:{iceParameters:o,dtlsParameters:u,rtpCapabilities:h,version:"2"}}))}),this.signal.on(nQ.DATACHANNEL_FAILBACK,()=>{$.warning("[".concat(this.store.clientId,"] User join datachannel failed")),this.reset(),this.resetSignal(),this.emit(j0.DATACHANNEL_FAILBACK)})}async tryUnsubBeforeResub(r,o){try{await this.signal.request(EQ.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:r,ortc:[o]},!0)}catch(u){throw $.warning("[".concat(this.store.clientId,"] tryUnsubBeforeResub warning"),u),u}}async tryUnsubDataChannelBeforeResub(r,o){try{await this.signal.request(EQ.UNSUBSCRIBE,{stream_id:o.id},!0)}catch(u){throw $.warning("unsubscribe datachannel warning",u),u}}async tryUnpubBeforeRepub(r,o){try{await this.signal.request(EQ.UNPUBLISH,{stream_id:r,ortc:o},!0)}catch(u){throw $.warning("[".concat(this.store.clientId,"] tryUnpubBeforeRepub warning: "),u),u}}async tryUnpubDataChannelBeforeRepub(r,o){try{await this.signal.request(EQ.UNPUBLISH_DATASTREAM,{channnel_id:o.channelId},!0)}catch(u){throw $.warning("unpublish datastream warning: ",u),u}}async tryMassUnsubBeforeResub(r){const o={users:r.map(u=>({stream_id:u.stream_id,stream_type:u.stream_type}))};try{await this.signal.request(EQ.UNSUBSCRIBE_STREAMS,o,!0)}catch(u){throw $.warning("[".concat(this.store.clientId,"] tryMassUnsubBeforeResub warning"),u),u}}async muteLocal(r,o){const u={action:r.find(h=>h.stream_type===a0.Audio)?"mute_local_audio":"mute_local_video",p2p_id:this.store.p2pId,ortc:r,stream_id:o};try{await this.signal.request(EQ.CONTROL,u,!0,!0)}catch(h){throw $.warning("[".concat(this.store.clientId,"] gateway muteLocal warning: "),h),h}}async unmuteLocal(r,o){const u={action:r.find(h=>h.stream_type===a0.Audio)?"unmute_local_audio":"unmute_local_video",p2p_id:this.store.p2pId,ortc:r,stream_id:o};try{await this.signal.request(EQ.CONTROL,u,!0,!0)}catch(h){throw $.warning("[".concat(this.store.clientId,"] gateway unmuteLocal warning: "),h),h}}async muteRemote(r,o){const u={action:r===sQ.AUDIO?"mute_remote_audio":"mute_remote_video",p2p_id:this.store.p2pId,stream_id:o};try{await this.signal.request(EQ.CONTROL,u,!0,!0)}catch(h){throw $.warning("[".concat(this.store.clientId,"] gateway muteRemote warning: "),h),h}}async unmuteRemote(r,o){const u={action:r===sQ.AUDIO?"unmute_remote_audio":"unmute_remote_video",p2p_id:this.store.p2pId,stream_id:o};try{await this.signal.request(EQ.CONTROL,u,!0,!0)}catch(h){throw $.warning("[".concat(this.store.clientId,"] gateway unmuteRemote warning: "),h),h}}uploadWRTCStats(r){this.signal.uploadWRTCStats(r)}upload(r,o){this.signal.upload(r,o)}getSignalRTT(){return this.signal.rtt}async restartICE(r){const o={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:r};try{return await this.signal.request(EQ.RESTART_ICE,o,!0)}catch(u){throw $.warning("[".concat(this.store.clientId,"] P2PChannel.restartICE warning: "),u),u}}reconnect(){this.state==="CONNECTED"&&this.signal.reconnect(void 0,D_.P2P_FAILED)}getCurrentGatewayAddress(){var r;if(!la("GATEWAY_WSS_ADDRESS"))return(r=this.joinInfo)!==null&&r!==void 0&&r.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(r){await this.signal.request(EQ.SET_PARAMETER,{enablePublishAudioFilter:r})}resetSignal(){this.signal&&(this.signal.removeAllListeners(),this.signal.close(zQ.FALLBACK)),this.store.useDataChannel=!1,this.signal=new t7(LR(LR({},this.spec),{},{retryConfig:this.spec.websocketRetryConfig}),this.store),this.handleSignalEvents(),this.emit(j0.RESET_SIGNAL,_P.websocket)}}let bP=0,U8=0;function xN(A,r,o,u){return new lc((h,f)=>{r.timeout=r.timeout||la("HTTP_CONNECT_TIMEOUT"),r.responseType=r.responseType||"json",r.data&&!o?(r.data=JSON.stringify(r.data),bP+=rN(r.data)):o&&(r.data.size?bP+=r.data.size:r.data instanceof FormData?bP+=D9(r.data):bP+=rN(JSON.stringify(r.data))),r.headers=r.headers||{},r.headers["Content-Type"]=r.headers["Content-Type"]||"application/json",r.method="POST",r.url=A,RS.request(r).then(m=>{typeof m.data=="string"?U8+=rN(m.data):m.data instanceof ArrayBuffer||m.data instanceof Uint8Array?U8+=m.data.byteLength:U8+=rN(JSON.stringify(m.data)),u&&h({data:m.data,headers:m.headers}),h(m.data)}).catch(m=>{RS.isCancel(m)?f(new Oa(ea.OPERATION_ABORTED,"cancel token canceled")):m.code==="ECONNABORTED"?f(new Oa(ea.NETWORK_TIMEOUT,m.message)):m.response?f(new Oa(ea.NETWORK_RESPONSE_ERROR,m.response.status)):f(new Oa(ea.NETWORK_ERROR,m.message))})})}/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */(function(){var A;function r(ud){var _f=0;return function(){return _f<ud.length?{done:!1,value:ud[_f++]}:{done:!0}}}var o=typeof Object.defineProperties=="function"?Object.defineProperty:function(ud,_f,iQ){return ud==Array.prototype||ud==Object.prototype||(ud[_f]=iQ.value),ud},u,h=function(ud){ud=[typeof globalThis=="object"&&globalThis,ud,typeof window=="object"&&window,typeof self=="object"&&self,typeof i=="object"&&i];for(var _f=0;_f<ud.length;++_f){var iQ=ud[_f];if(iQ&&iQ.Math==Math)return iQ}throw Error("Cannot find global object")}(this);function f(ud,_f){if(_f)e:{var iQ=h;ud=ud.split(".");for(var bQ=0;bQ<ud.length-1;bQ++){var A0=ud[bQ];if(!(A0 in iQ))break e;iQ=iQ[A0]}(_f=_f(bQ=iQ[ud=ud[ud.length-1]]))!=bQ&&_f!=null&&o(iQ,ud,{configurable:!0,writable:!0,value:_f})}}function m(ud){return(ud={next:ud})[Symbol.iterator]=function(){return this},ud}function v(ud){var _f=typeof Symbol<"u"&&Symbol.iterator&&ud[Symbol.iterator];return _f?_f.call(ud):{next:r(ud)}}if(f("Symbol",function(ud){function _f(A0,eQ){this.A=A0,o(this,"description",{configurable:!0,writable:!0,value:eQ})}if(ud)return ud;_f.prototype.toString=function(){return this.A};var iQ="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",bQ=0;return function A0(eQ){if(this instanceof A0)throw new TypeError("Symbol is not a constructor");return new _f(iQ+(eQ||"")+"_"+bQ++,eQ)}}),f("Symbol.iterator",function(ud){if(ud)return ud;ud=Symbol("Symbol.iterator");for(var _f="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),iQ=0;iQ<_f.length;iQ++){var bQ=h[_f[iQ]];typeof bQ=="function"&&typeof bQ.prototype[ud]!="function"&&o(bQ.prototype,ud,{configurable:!0,writable:!0,value:function(){return m(r(this))}})}return ud}),typeof Object.setPrototypeOf=="function")u=Object.setPrototypeOf;else{var R;e:{var D={};try{D.__proto__={a:!0},R=D.a;break e}catch{}R=!1}u=R?function(ud,_f){if(ud.__proto__=_f,ud.__proto__!==_f)throw new TypeError(ud+" is not extensible");return ud}:null}var k=u;function L(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function q(ud){if(ud.m)throw new TypeError("Generator is already running");ud.m=!0}function z(ud,_f){return ud.h=3,{value:_f}}function _s(ud){this.g=new L,this.G=ud}function _n(ud,_f,iQ,bQ){try{var A0=_f.call(ud.g.j,iQ);if(!(A0 instanceof Object))throw new TypeError("Iterator result "+A0+" is not an object");if(!A0.done)return ud.g.m=!1,A0;var eQ=A0.value}catch(_e){return ud.g.j=null,ud.g.s(_e),_i(ud)}return ud.g.j=null,bQ.call(ud.g,eQ),_i(ud)}function _i(ud){for(;ud.g.h;)try{var _f=ud.G(ud.g);if(_f)return ud.g.m=!1,{value:_f.value,done:!1}}catch(iQ){ud.g.v=void 0,ud.g.s(iQ)}if(ud.g.m=!1,ud.g.l){if(_f=ud.g.l,ud.g.l=null,_f.F)throw _f.D;return{value:_f.return,done:!0}}return{value:void 0,done:!0}}function Aa(ud){this.next=function(_f){return ud.o(_f)},this.throw=function(_f){return ud.s(_f)},this.return=function(_f){return function(iQ,bQ){q(iQ.g);var A0=iQ.g.j;return A0?_n(iQ,"return"in A0?A0.return:function(eQ){return{value:eQ,done:!0}},bQ,iQ.g.return):(iQ.g.return(bQ),_i(iQ))}(ud,_f)},this[Symbol.iterator]=function(){return this}}function Ea(ud,_f){return _f=new Aa(new _s(_f)),k&&ud.prototype&&k(_f,ud.prototype),_f}if(L.prototype.o=function(ud){this.v=ud},L.prototype.s=function(ud){this.l={D:ud,F:!0},this.h=this.C||this.u},L.prototype.return=function(ud){this.l={return:ud},this.h=this.u},_s.prototype.o=function(ud){return q(this.g),this.g.j?_n(this,this.g.j.next,ud,this.g.o):(this.g.o(ud),_i(this))},_s.prototype.s=function(ud){return q(this.g),this.g.j?_n(this,this.g.j.throw,ud,this.g.o):(this.g.s(ud),_i(this))},f("Array.prototype.entries",function(ud){return ud||function(){return function(_f,iQ){_f instanceof String&&(_f+="");var bQ=0,A0=!1,eQ={next:function(){if(!A0&&bQ<_f.length){var _e=bQ++;return{value:iQ(_e,_f[_e]),done:!1}}return A0=!0,{done:!0,value:void 0}}};return eQ[Symbol.iterator]=function(){return eQ},eQ}(this,function(_f,iQ){return[_f,iQ]})}}),typeof Blob<"u"&&(typeof FormData>"u"||!FormData.prototype.keys)){var Qa=function(ud,_f){for(var iQ=0;iQ<ud.length;iQ++)_f(ud[iQ])},Vc=function(ud){return ud.replace(/\r?\n|\r/g,`\r
`)},Fa=function(ud,_f,iQ){return _f instanceof Blob?(iQ=iQ!==void 0?iQ+"":typeof _f.name=="string"?_f.name:"blob",_f.name===iQ&&Object.prototype.toString.call(_f)!=="[object Blob]"||(_f=new File([_f],iQ)),[String(ud),_f]):[String(ud),String(_f)]},Va=function(ud,_f){if(ud.length<_f)throw new TypeError(_f+" argument required, but only "+ud.length+" present.")},_c=typeof globalThis=="object"?globalThis:typeof window=="object"?window:typeof self=="object"?self:this,ec=_c.FormData,kd=_c.XMLHttpRequest&&_c.XMLHttpRequest.prototype.send,_h=_c.Request&&_c.fetch,RQ=_c.navigator&&_c.navigator.sendBeacon,jQ=_c.Element&&_c.Element.prototype,w0=_c.Symbol&&Symbol.toStringTag;w0&&(Blob.prototype[w0]||(Blob.prototype[w0]="Blob"),"File"in _c&&!File.prototype[w0]&&(File.prototype[w0]="File"));try{new File([],"")}catch{_c.File=function(_f,iQ,bQ){return _f=new Blob(_f,bQ||{}),Object.defineProperties(_f,{name:{value:iQ},lastModified:{value:+(bQ&&bQ.lastModified!==void 0?new Date(bQ.lastModified):new Date)},toString:{value:function(){return"[object File]"}}}),w0&&Object.defineProperty(_f,w0,{value:"File"}),_f}}var E_=function(ud){return ud.replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22")},O0=function(ud){this.i=[];var _f=this;ud&&Qa(ud.elements,function(iQ){if(iQ.name&&!iQ.disabled&&iQ.type!=="submit"&&iQ.type!=="button"&&!iQ.matches("form fieldset[disabled] *"))if(iQ.type==="file"){var bQ=iQ.files&&iQ.files.length?iQ.files:[new File([],"",{type:"application/octet-stream"})];Qa(bQ,function(A0){_f.append(iQ.name,A0)})}else iQ.type==="select-multiple"||iQ.type==="select-one"?Qa(iQ.options,function(A0){!A0.disabled&&A0.selected&&_f.append(iQ.name,A0.value)}):iQ.type==="checkbox"||iQ.type==="radio"?iQ.checked&&_f.append(iQ.name,iQ.value):(bQ=iQ.type==="textarea"?Vc(iQ.value):iQ.value,_f.append(iQ.name,bQ))})};if((A=O0.prototype).append=function(ud,_f,iQ){Va(arguments,2),this.i.push(Fa(ud,_f,iQ))},A.delete=function(ud){Va(arguments,1);var _f=[];ud=String(ud),Qa(this.i,function(iQ){iQ[0]!==ud&&_f.push(iQ)}),this.i=_f},A.entries=function ud(){var _f,iQ=this;return Ea(ud,function(bQ){if(bQ.h==1&&(_f=0),bQ.h!=3)return _f<iQ.i.length?bQ=z(bQ,iQ.i[_f]):(bQ.h=0,bQ=void 0),bQ;_f++,bQ.h=2})},A.forEach=function(ud,_f){Va(arguments,1);for(var iQ=v(this),bQ=iQ.next();!bQ.done;bQ=iQ.next()){var A0=v(bQ.value);bQ=A0.next().value,A0=A0.next().value,ud.call(_f,A0,bQ,this)}},A.get=function(ud){Va(arguments,1);var _f=this.i;ud=String(ud);for(var iQ=0;iQ<_f.length;iQ++)if(_f[iQ][0]===ud)return _f[iQ][1];return null},A.getAll=function(ud){Va(arguments,1);var _f=[];return ud=String(ud),Qa(this.i,function(iQ){iQ[0]===ud&&_f.push(iQ[1])}),_f},A.has=function(ud){Va(arguments,1),ud=String(ud);for(var _f=0;_f<this.i.length;_f++)if(this.i[_f][0]===ud)return!0;return!1},A.keys=function ud(){var _f,iQ,bQ,A0,eQ=this;return Ea(ud,function(_e){if(_e.h==1&&(_f=v(eQ),iQ=_f.next()),_e.h!=3)return iQ.done?void(_e.h=0):(bQ=iQ.value,A0=v(bQ),z(_e,A0.next().value));iQ=_f.next(),_e.h=2})},A.set=function(ud,_f,iQ){Va(arguments,2),ud=String(ud);var bQ=[],A0=Fa(ud,_f,iQ),eQ=!0;Qa(this.i,function(_e){_e[0]===ud?eQ&&(eQ=!bQ.push(A0)):bQ.push(_e)}),eQ&&bQ.push(A0),this.i=bQ},A.values=function ud(){var _f,iQ,bQ,A0,eQ=this;return Ea(ud,function(_e){if(_e.h==1&&(_f=v(eQ),iQ=_f.next()),_e.h!=3)return iQ.done?void(_e.h=0):(bQ=iQ.value,(A0=v(bQ)).next(),z(_e,A0.next().value));iQ=_f.next(),_e.h=2})},O0.prototype._asNative=function(){for(var ud=new ec,_f=v(this),iQ=_f.next();!iQ.done;iQ=_f.next()){var bQ=v(iQ.value);iQ=bQ.next().value,bQ=bQ.next().value,ud.append(iQ,bQ)}return ud},O0.prototype._blob=function(){var ud="----formdata-polyfill-"+Math.random(),_f=[],iQ="--"+ud+`\r
Content-Disposition: form-data; name="`;return this.forEach(function(bQ,A0){return typeof bQ=="string"?_f.push(iQ+E_(Vc(A0))+`"\r
\r
`+Vc(bQ)+`\r
`):_f.push(iQ+E_(Vc(A0))+'"; filename="'+E_(bQ.name)+`"\r
Content-Type: `+(bQ.type||"application/octet-stream")+`\r
\r
`,bQ,`\r
`)}),_f.push("--"+ud+"--"),new Blob(_f,{type:"multipart/form-data; boundary="+ud})},O0.prototype[Symbol.iterator]=function(){return this.entries()},O0.prototype.toString=function(){return"[object FormData]"},jQ&&!jQ.matches&&(jQ.matches=jQ.matchesSelector||jQ.mozMatchesSelector||jQ.msMatchesSelector||jQ.oMatchesSelector||jQ.webkitMatchesSelector||function(ud){for(var _f=(ud=(this.document||this.ownerDocument).querySelectorAll(ud)).length;0<=--_f&&ud.item(_f)!==this;);return-1<_f}),w0&&(O0.prototype[w0]="FormData"),kd){var YS=_c.XMLHttpRequest.prototype.setRequestHeader;_c.XMLHttpRequest.prototype.setRequestHeader=function(ud,_f){YS.call(this,ud,_f),ud.toLowerCase()==="content-type"&&(this.B=!0)},_c.XMLHttpRequest.prototype.send=function(ud){ud instanceof O0?(ud=ud._blob(),this.B||this.setRequestHeader("Content-Type",ud.type),kd.call(this,ud)):kd.call(this,ud)}}_h&&(_c.fetch=function(ud,_f){return _f&&_f.body&&_f.body instanceof O0&&(_f.body=_f.body._blob()),_h.call(this,ud,_f)}),RQ&&(_c.navigator.sendBeacon=function(ud,_f){return _f instanceof O0&&(_f=_f._asNative()),RQ.call(this,ud,_f)}),_c.FormData=O0}})();const DP=()=>{const A=la("AREAS");return A.length===0&&A.push(r0.GLOBAL),YT(A).call(A,(r,o,u)=>{const h=d7(o);return h?u===0?h:"".concat(r,",").concat(h):r},"")},d7=A=>A===r0.OVERSEA?"".concat(G_.ASIA,",").concat(G_.EUROPE,",").concat(G_.AFRICA,",").concat(G_.NORTH_AMERICA,",").concat(G_.SOUTH_AMERICA,",").concat(G_.OCEANIA):G_[A],hce=A=>{const r={CODE:"",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return A.map(o=>{const u=vP[o],h=Object.keys(u);h&&h.map(f=>{f!=="CODE"&&(r[f]=r[f].concat(u[f]))})}),r},NP={GLOBAL:{ASIA:[r0.CHINA,r0.JAPAN,r0.INDIA,r0.KOREA,r0.HKMC],EUROPE:[],NORTH_AMERICA:[r0.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},TP=Object.keys(NP[r0.GLOBAL]),P8=[r0.CHINA,r0.NORTH_AMERICA,r0.EUROPE,r0.ASIA,r0.JAPAN,r0.INDIA,r0.OCEANIA,r0.SOUTH_AMERICA,r0.AFRICA,r0.KOREA,r0.HKMC,r0.US],pce=function(A,r){let o=[];if(AQ(A).call(A,r0.GLOBAL)){const f=[r0.GLOBAL,r0.OVERSEA],m=Object.keys(vP);if(r===r0.GLOBAL)throw new Oa(ea.INVALID_PARAMS,"GLOBAL is an invalid excludedArea value");if(r===r0.CHINA)o=[r0.OVERSEA];else if(h=r,AQ(TP).call(TP,h)){const v=(u=r,NP[r0.GLOBAL][u]||[]),R=[...f,r,...v];o=m.filter(D=>!AQ(R).call(R,D))}else if(function(v){let R=!1;return TP.forEach(D=>{var k;AQ(k=NP[r0.GLOBAL][D]).call(k,v)&&(R=!0)}),R}(r)){const v=function(D){let k;return TP.forEach(L=>{var q;AQ(q=NP[r0.GLOBAL][L]).call(q,D)&&(k=L)}),k}(r),R=[...f,v,r];o=m.filter(D=>!AQ(R).call(R,D))}else o=A;o=function(v){const R=[];return P8.forEach(D=>{AQ(v).call(v,D)&&R.push(D)}),R.concat(v.filter(D=>!AQ(P8).call(P8,D)))}(o)}else o=A;var u,h;return o};function E7(A){var r,o;if(!A&&AQ(r=la("AREAS")).call(r,r0.EXTENSIONS))return $.debug("update area from ap : reset"),void G8(Uae,!0);if(!AQ(o=la("AREAS")).call(o,r0.GLOBAL)||!A)return;let u=vP.EXTENSIONS;u&&(u={CODE:d7(r0.EXTENSIONS),WEBCS_DOMAIN:["ap-web-1-".concat(A,".agora.io")],WEBCS_DOMAIN_BACKUP_LIST:["ap-web-2-".concat(A,".ap.sd-rtn.com")],PROXY_CS:["proxy-ap-web-".concat(A,".agora.io")],CDS_AP:["cds-ap-web-1-".concat(A,".agora.io"),"cds-ap-web-2-".concat(A,".ap.sd-rtn.com")],ACCOUNT_REGISTER:["sua-ap-web-1-".concat(A,".agora.io"),"sua-ap-web-2-".concat(A,".ap.sd-rtn.com")],UAP_AP:["uap-ap-web-1-".concat(A,".agora.io"),"uap-ap-web-2-".concat(A,".ap.sd-rtn.com")],EVENT_REPORT_DOMAIN:["statscollector-1-".concat(A,".agora.io")],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-".concat(A,".agora.io")],LOG_UPLOAD_SERVER:["logservice-".concat(A,".agora.io")],PROXY_SERVER_TYPE3:["webrtc-cloud-proxy-".concat(A,".agora.io")]},$.debug("update area from ap success: ".concat(A,",config is "),u),p0("AREAS",[r0.EXTENSIONS],!0),Object.keys(u).map(h=>{h==="LOG_UPLOAD_SERVER"||h==="EVENT_REPORT_DOMAIN"||h==="EVENT_REPORT_BACKUP_DOMAIN"||h==="PROXY_SERVER_TYPE3"?p0(h,u[h][0]):p0(h,u[h])}))}function G8(A){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const o=cQ.reportApiInvoke(null,{name:l_.SET_AREA,options:A,tag:G0.TRACER});try{let u=[];if(typeof A=="string"&&(u=[A]),Array.isArray(A)&&(A.forEach(f=>{if(!AQ(HW).call(HW,f))throw new Oa(ea.INVALID_PARAMS,"invalid area code")}),u=A),Object.prototype.toString.call(A)==="[object Object]"){const{areaCode:f,excludedArea:m}=A;if(!f)throw new Oa(ea.INVALID_PARAMS,"area code is needed");let v=f;typeof f=="string"&&(v=[f]),u=m?pce(v,m):v}if(!r){if(oT.AREAS){const f=new Oa(ea.PROHIBITED_OPERATION,"setArea is prohibited because of config-distribute");return o.onError(f),void $.warning("setArea is prohibited because of config-distribute")}if(AQ(u).call(u,r0.GLOBAL)&&la("AREAS")===r0.EXTENSIONS){const f=new Oa(ea.PROHIBITED_OPERATION,"setArea is prohibited because of ap extensions");return o.onError(f),void $.warning("setArea is prohibited because of ap extensions")}}p0("AREAS",u,r);const h=hce(u);Object.keys(h).map(f=>{f==="LOG_UPLOAD_SERVER"||f==="EVENT_REPORT_DOMAIN"||f==="EVENT_REPORT_BACKUP_DOMAIN"||f==="PROXY_SERVER_TYPE3"?p0(f,h[f][0]):p0(f,h[f])}),$.debug("set area success:",u.join(","))}catch(u){throw o.onError(u),u}o.onSuccess()}function I7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function F8(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?I7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):I7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}let K8=1;function fce(A,r,o,u,h){K8+=1;const f={sid:o.sid,command:"convergeAllocateEdge",uid:"666",appId:o.appId,ts:Math.floor(Date.now()/1e3),seq:K8,requestId:K8,version:pR,cname:o.cname},m={service_name:r,json_body:JSON.stringify(f)};let v,R,D=A[0];return XR(async()=>{v=Date.now();const k=await xN(D,{data:m,cancelToken:u,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"}});if(R=Date.now()-v,k.code!==0){const z=new Oa(ea.UNEXPECTED_RESPONSE,"live streaming ap error, code"+k.code,{retry:!0,responseTime:R});throw $.error(z.toString()),z}const L=JSON.parse(k.json_body);if(L.code!==200){const z=new Oa(ea.UNEXPECTED_RESPONSE,"live streaming app center error, code: ".concat(L.code,", reason: ").concat(L.reason),{code:L.code,responseTime:R});throw $.error(z.toString()),z}if(!L.servers||L.servers.length===0){const z=new Oa(ea.UNEXPECTED_RESPONSE,"live streaming app center empty server",{code:L.code,responseTime:R});throw $.error(z.toString()),z}const q=function(z,_s){return{addressList:z.servers.map(_n=>"wss://".concat(_n.address.replace(/\./g,"-"),".").concat(la("WORKER_DOMAIN"),":").concat(_n.wss,"?serviceName=").concat(encodeURIComponent(_s))),workerToken:z.workerToken,vid:z.vid}}(L,r);return la("LIVE_STREAMING_ADDRESS")&&(q.addressList=la("LIVE_STREAMING_ADDRESS")instanceof Array?la("LIVE_STREAMING_ADDRESS"):[la("LIVE_STREAMING_ADDRESS")]),F8(F8({},q),{},{responseTime:R})},(k,L)=>(cQ.apworkerEvent(o.sid,{success:!0,sc:200,serviceName:r,responseDetail:JSON.stringify(k.addressList),firstSuccess:L===0,responseTime:R,serverIp:A[L%A.length]}),!1),(k,L)=>(cQ.apworkerEvent(o.sid,{success:!1,sc:k.data&&k.data.code||200,serviceName:r,responseTime:R,serverIp:A[L%A.length]}),!!(k.code!==ea.OPERATION_ABORTED&&k.code!==ea.UNEXPECTED_RESPONSE||k.data&&k.data.retry)&&(D=A[(L+1)%A.length],!0)),h)}let j8=1;function C7(A,r,o,u){let{url:h,areaCode:f}=A;const m=Date.now();let v;const[R,D]=B7(r,f,[k_.CHOOSE_SERVER]);let k=A_.networkState;return XR(async()=>{k&&A_.networkState===lS.OFFLINE&&A_.onlineWaiter&&await lc.race([A_.onlineWaiter,N_(u&&u.maxRetryTimeout||s_.maxRetryTimeout)]),k=A_.networkState;const{data:L,headers:q}=await xN(h,{data:R,cancelToken:o,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);v=q.http3==="1"?1:-1,cQ.reportResourceTiming(h,r.sid),p7(L,h,r,m,[k_.CHOOSE_SERVER],v);const z=L8(L,k_.CHOOSE_SERVER);return f7(z),A7(z,h)},L=>(L&&cQ.joinChooseServer(r.sid,{lts:m,succ:!0,csAddr:h,opid:D,serverList:L.gatewayAddrs.map(q=>q.address),ec:null,cid:L.cid.toString(),uid:L.uid.toString(),csIp:L.csIp,unilbsServerIds:[k_.CHOOSE_SERVER].toString(),isHttp3:v}),!1),L=>L.code!==ea.OPERATION_ABORTED&&(L.code===ea.CAN_NOT_GET_GATEWAY_SERVER?L.data.retry:(cQ.joinChooseServer(r.sid,{lts:m,succ:!1,csAddr:h,serverList:null,opid:D,ec:L.code,csIp:L.data&&L.data.csIp,unilbsServerIds:[k_.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:k}),isHttp3:v}),$.warning("[".concat(r.clientId,"] Choose server network error, retry"),L),!0)),u)}function h7(A,r,o,u){let h,{url:f,areaCode:m,serviceIds:v}=A;const R=Date.now(),[D,k]=B7(r,m,v);let L;return XR(async()=>{L&&A_.networkState===lS.OFFLINE&&A_.onlineWaiter&&await lc.race([A_.onlineWaiter,N_(u&&u.maxRetryTimeout||s_.maxRetryTimeout)]),L=A_.networkState;const{data:q,headers:z}=await xN(f,{data:D,cancelToken:o,headers:{"Content-Type":"multipart/form-data;"}},!0,!0);h=z.http3==="1"?1:-1,cQ.reportResourceTiming(f,r.sid),p7(q,f,r,R,v,h);const _s=L8(q,k_.CHOOSE_SERVER),_n=L8(q,r.cloudProxyServer==="proxy5"?k_.CLOUD_PROXY_5:r.cloudProxyServer==="proxy3"||r.cloudProxyServer==="proxy4"?k_.CLOUD_PROXY:k_.CLOUD_PROXY_FALLBACK);return f7(_s),{gatewayInfo:A7(_s,f),proxyInfo:_n,url:f}},q=>(q.gatewayInfo&&cQ.joinChooseServer(r.sid,{lts:R,succ:!0,csAddr:f,serverList:q.gatewayInfo.gatewayAddrs.map(z=>z.address),ec:null,opid:k,cid:q.gatewayInfo.cid.toString(),uid:q.gatewayInfo.uid.toString(),csIp:q.gatewayInfo.csIp,unilbsServerIds:v.toString(),isHttp3:h}),q.proxyInfo&&cQ.joinWebProxyAP(r.sid,{lts:R,sucess:1,apServerAddr:f,turnServerAddrList:q.proxyInfo.addresses.map(z=>z.ip).join(","),errorCode:null,eventType:r.cloudProxyServer,unilbsServerIds:v.toString()}),!1),q=>q.code!==ea.OPERATION_ABORTED&&(q.code===ea.CAN_NOT_GET_GATEWAY_SERVER?q.data.retry:(cQ.joinWebProxyAP(r.sid,{lts:R,sucess:0,apServerAddr:f,turnServerAddrList:null,errorCode:q.code,eventType:r.cloudProxyServer,unilbsServerIds:v.toString(),extend:JSON.stringify({networkState:L})}),$.warning("[".concat(r.clientId,"] multi unilbs network error, retry"),q),!0)),u)}const p7=(A,r,o,u,h,f)=>{const m=[],v=R=>{R.flag===4096?cQ.joinChooseServer(o.sid,{lts:u,succ:!1,csAddr:r,opid:A.opid,serverList:null,ec:R.error.message,csIp:R.error.data&&R.error.data.csIp,unilbsServerIds:h.toString(),isHttp3:f}):R.flag!==1048576&&R.flag!==4194304&&R.flag!==4194310||cQ.joinWebProxyAP(o.sid,{lts:u,sucess:0,apServerAddr:r,turnServerAddrList:null,errorCode:R.error.code,eventType:o.cloudProxyServer,unilbsServerIds:h.toString()})};if(A.response_body.forEach(R=>{const D=R.buffer.code;if(R.uri===23&&D===0&&!R.buffer.edges_services)if(R.buffer.flag===4194310)$.warning("no edge services in ap response of proxy fallback, will not set proxy in iceServers"),R.buffer.edges_services=[];else{const k={error:new Oa(ea.CAN_NOT_GET_GATEWAY_SERVER,"no edge services in ap response",{retry:!0,csIp:A.detail[502]}),flag:R.buffer.flag};m.push(k),v(k)}if(D!==0){const k=RP(D),L={error:new Oa(ea.CAN_NOT_GET_GATEWAY_SERVER,k.desc,{desc:k.desc,retry:k.retry,csIp:A.detail[502]}),flag:R.buffer.flag};R.buffer.flag===4194310?$.warning(L.error.toString()):m.push(L),v(L)}}),m.length)throw $.warning("[".concat(o.clientId,"] multi unilbs ").concat(r," failed, ").concat(m.map(R=>"flag: ".concat(R.flag,", message: ").concat(R.error.message,", retry: ").concat(R.error.data.retry)).join(" | "))),new Oa(ea.CAN_NOT_GET_GATEWAY_SERVER,m.map(R=>"flag: ".concat(R.flag,", message: ").concat(R.error.message)).join(" | "),{retry:!!m.find(R=>R.error.data.retry),csIp:A.detail[502],desc:[...new Set(m.map(R=>{var D;return R==null||(D=R.error)===null||D===void 0||(D=D.data)===null||D===void 0?void 0:D.desc}).filter(R=>!!R))]})},f7=A=>{var r,o,u,h;if(A.addresses&&A.addresses.length===0&&A.code===0)throw new Oa(ea.CAN_NOT_GET_GATEWAY_SERVER,"void gateway address",{retry:!0,csIp:A.detail&&A.detail[502]});if(la("AP_AREA")&&((u=A.detail)!==null&&u!==void 0&&u[23]&&typeof((h=A.detail)===null||h===void 0?void 0:h[23])=="string"?E7(A.detail[23].toLowerCase()):E7()),(r=A.detail)!==null&&r!==void 0&&r[19]&&typeof((o=A.detail)===null||o===void 0?void 0:o[19])=="string"){const m=A.detail[19],v=m==null?void 0:m.split(";");for(let R=0;R<v.length;R++){var f;const D=O8(f=v[R]).call(f);A.addresses[R]&&v&&(A.addresses[R].fingerprint=D)}}if(la("GATEWAY_ADDRESS")&&la("GATEWAY_ADDRESS").length>0){$.debug("assign gateway address to",la("GATEWAY_ADDRESS"));const m=la("GATEWAY_ADDRESS").map(v=>{var R,D;const k=(R=(D=A.addresses.find(L=>L.ip===v.ip&&L.port===v.port))===null||D===void 0?void 0:D.fingerprint)!==null&&R!==void 0?R:"";return{ip:v.ip,port:v.port,ticket:A.addresses[0]&&A.addresses[0].ticket,fingerprint:k}});A.addresses=m}},Bce=(A,r)=>{if(A.response_body&&A.response_body.length){const o=A.response_body[0];if(o.buffer.code!==0){const u=RP(o.buffer.code);throw new Oa(ea.UPDATE_TICKET_FAILED,"[".concat(o.buffer.code,"]: ").concat(u.desc),{retry:u.retry})}return o.buffer.ticket}throw $.debug("update ticket request received ap response without response body:",r),new Oa(ea.UPDATE_TICKET_FAILED,"cannot find response body from ap response",{retry:!1})},B7=(A,r,o)=>{const u=Math.floor(Math.random()*1e12),h={appid:A.appId,client_ts:Date.now(),opid:u,sid:A.sid,request_bodies:[{uri:22,buffer:{cname:A.cname,detail:F8({6:A.stringUid,11:r,12:la("USE_NEW_TOKEN")?"1":void 0,22:r},A.apRTM?{26:"RTM2"}:{}),key:A.token,service_ids:o,uid:A.uid||0}}]};h.request_bodies.forEach(m=>{A.multiIP&&A.multiIP.gateway_ip&&(m.buffer.detail[5]=JSON.stringify({vocs_ip:[A.multiIP.uni_lbs_ip],vos_ip:[A.multiIP.gateway_ip]}))});const f=new FormData;return f.append("request",JSON.stringify(h)),[f,u]},Qce=(A,r)=>{const o=Math.floor(Math.random()*1e12),u={appid:A.appId,client_ts:Date.now(),opid:o,sid:A.sid,request_bodies:[{uri:28,buffer:{cname:A.cname,detail:{1:"",6:A.stringUid,12:"1"},token:A.token,service_ids:r,uid:A.uid||0,edges_services:A.apResponse.addresses.map(f=>({ip:f.ip,port:f.port}))}}]},h=new FormData;return h.append("request",JSON.stringify(u)),[h,o]};let H1=0;function Y1(A){return lc.all(A.map(r=>r.then(o=>{throw o},o=>o))).then(r=>{throw r},r=>r)}const jO=async A=>{let{fragementLength:r,referenceList:o,asyncMapHandler:u,allFailedhandler:h,promisesCollector:f}=A,m=0;const v=r;let R,D=0;const k=async()=>{const L=(()=>{const q=m*v,z=q+v;return o.slice(q,z).map(u)})();f&&f.push(...L);try{R=await Y1(L)}catch(q){if(D+=v,m++,!(D>=o.length))return void await k();h(q)}L.forEach(q=>q.cancel())};return await k(),R};async function H8(A,r,o,u){return{gatewayInfo:await async function(f,m,v,R){let D=null;const k=[],L=async()=>{const z=la("WEBCS_DOMAIN").slice(0,la("AJAX_REQUEST_CONCURRENT")).map(_i=>({url:f.proxyServer?"https://".concat(f.proxyServer,"/ap/?url=").concat(_i+"/api/v2/transpond/webrtc?v=2"):"https://".concat(_i,"/api/v2/transpond/webrtc?v=2"),areaCode:DP()})),_s=R.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:z.map(_i=>_i.url)}),_n=await jO({fragementLength:la("FRAGEMENT_LENGTH"),referenceList:z,asyncMapHandler:_i=>($.debug("[".concat(f.clientId,"] Connect to choose_server:"),_i.url),C7(_i,f,m,v)),allFailedhandler:_i=>{throw R.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_i},_s),_i[0]},promisesCollector:k});return R.recordJoinChannelService({endTs:Date.now(),status:"success"},_s),_n},q=async()=>{if(await N_(1e3),D!==null)return D;const z=la("WEBCS_DOMAIN_BACKUP_LIST").map(_i=>({url:f.proxyServer?"https://".concat(f.proxyServer,"/ap/?url=").concat(_i+"/api/v2/transpond/webrtc?v=2"):"https://".concat(_i,"/api/v2/transpond/webrtc?v=2"),areaCode:DP()})),_s=R.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:"pending",service:"chooseServer",urls:z.map(_i=>_i.url)}),_n=await jO({fragementLength:la("FRAGEMENT_LENGTH"),referenceList:z,asyncMapHandler:_i=>($.debug("[".concat(f.clientId,"] Connect to backup choose_server:"),_i.url),C7(_i,f,m,v)),allFailedhandler:_i=>{throw R.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_i},_s),_i[0]},promisesCollector:k});return R.recordJoinChannelService({endTs:Date.now(),status:"success"},_s),_n};try{return D=await Y1([L(),q()]),k.length&&k.forEach(z=>z.cancel&&typeof z.cancel=="function"&&z.cancel()),D}catch(z){throw z[0]}}(A,r,o,u)}}async function Q7(A,r,o,u,h){const f=A.cloudProxyServer;if(f==="disabled"){if(A.useLocalAccessPoint)return await H8(A,r,o,h);if(la("JOIN_WITH_FALLBACK_MEDIA_PROXY")){const{gatewayInfo:q,proxyInfo:z}=await y7(A,r,o,h);if(A.turnServer&&A.turnServer.mode!=="auto")return{gatewayInfo:q};const _s=z.map(_n=>({turnServerURL:_n.address,tcpport:_n.tcpport||pS.tcpport,udpport:_n.udpport||pS.udpport,username:_n.username||pS.username,password:_n.password||pS.password,forceturn:!1,security:!0}));if(h.useP2P){var m;const _n=(m=A.uid)!==null&&m!==void 0?m:q.uid,_i="glb:".concat(_n.toString()),Aa=await X6(_i),Ea=z.map(Qa=>({turnServerURL:Qa.address,tcpport:Qa.tcpport||pS.tcpport,udpport:Qa.udpport||pS.udpport,username:_i,password:Aa,forceturn:!1,security:!0}));_s.push(...Ea)}return A.turnServer={mode:"manual",servers:_s},{gatewayInfo:q}}return await H8(A,r,o,h)}const{proxyInfo:v,gatewayInfo:R}=await y7(A,r,o,h),D={gatewayInfo:R},k=v.map(q=>({turnServerURL:q.address,tcpport:f==="proxy3"?void 0:q.tcpport?q.tcpport:pS.tcpport,udpport:f==="proxy4"?void 0:q.udpport?q.udpport:pS.udpport,username:q.username||pS.username,password:q.password||pS.password,forceturn:f!=="proxy4",security:f==="proxy5"}));if(h.useP2P){var L;const q=(L=A.uid)!==null&&L!==void 0?L:R.uid,z="glb:".concat(q.toString()),_s=await X6(z),_n=v.map(_i=>({turnServerURL:_i.address,tcpport:f==="proxy3"?void 0:_i.tcpport||pS.tcpport,udpport:f==="proxy4"?void 0:_i.udpport||pS.udpport,username:z,password:_s,forceturn:f!=="proxy4",security:f==="proxy5"}));k.push(..._n)}return A.turnServer={mode:"manual",servers:k},$.debug("[".concat(A.clientId,"] set proxy server: ").concat(A.proxyServer,", mode: ").concat(f)),D}async function m7(A,r,o,u,h){const f=la("ACCOUNT_REGISTER").slice(0,la("AJAX_REQUEST_CONCURRENT"));let m=[];m=r.proxyServer?f.map(R=>"https://".concat(r.proxyServer,"/ap/?url=").concat(R+"/api/v1")):f.map(R=>"https://".concat(R,"/api/v1"));const v=h==null?void 0:h.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"stringUID",urls:m});try{const R=await async function(D,k,L,q,z){const _s=Date.now(),_n={sid:L.sid,opid:10,appid:L.appId,string_uid:k};let _i=D[0];const Aa=await XR(()=>xN(_i+"".concat(_i.indexOf("?")===-1?"?":"&","action=stringuid"),{data:_n,cancelToken:q,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":72}}),(Ea,Qa)=>{if(Ea.code===0){if(Ea.uid<=0||Ea.uid>=Math.pow(2,32))throw $.error("Invalid Uint Uid ".concat(k," => ").concat(Ea.uid),Ea),cQ.reqUserAccount(_n.sid,{lts:_s,success:!1,serverAddr:_i,stringUid:_n.string_uid,uid:Ea.uid,errorCode:ea.INVALID_UINT_UID_FROM_STRING_UID,extend:_n}),new Oa(ea.INVALID_UINT_UID_FROM_STRING_UID);return cQ.reqUserAccount(_n.sid,{lts:_s,success:!0,serverAddr:_i,stringUid:_n.string_uid,uid:Ea.uid,errorCode:null,extend:_n}),!1}const Vc=RP(Ea.code);return Vc.retry&&(_i=D[(Qa+1)%D.length]),cQ.reqUserAccount(_n.sid,{lts:_s,success:!1,serverAddr:_i,stringUid:_n.string_uid,uid:Ea.uid,errorCode:Vc.desc,extend:_n}),Vc.retry},(Ea,Qa)=>Ea.code!==ea.OPERATION_ABORTED&&(cQ.reqUserAccount(_n.sid,{lts:_s,success:!1,serverAddr:_i,stringUid:_n.string_uid,uid:null,errorCode:Ea.code,extend:_n}),_i=D[(Qa+1)%D.length],!0),z);if(Aa.code!==0){const Ea=RP(Aa.code);throw new Oa(ea.UNEXPECTED_RESPONSE,Ea.desc)}return Aa}(m,A,r,o,u);return h==null||h.recordJoinChannelService({status:"success",endTs:Date.now()},v),R.uid}catch(R){throw h==null||h.recordJoinChannelService({status:"error",endTs:Date.now(),errors:[R]},v),R}}async function mce(A,r,o){const u=la("CDS_AP").slice(0,la("AJAX_REQUEST_CONCURRENT")).map(v=>A.proxyServer?"https://".concat(A.proxyServer,"/ap/?url=").concat(v+"/api/v1"):"https://".concat(v,"/api/v1?action=config")).map(v=>function(R,D,k,L){const q=o0(),z={flag:64,cipher_method:0,features:{device:q.name,system:q.os,system_general:navigator.userAgent,vendor:D.appId,version:pR,cname:D.cname,sid:D.sid,session_id:D.sid,detail:"",proxyServer:D.proxyServer}};return XR(()=>xN(R,{data:z,timeout:1e3,cancelToken:k,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":54}}),void 0,_s=>_s.code!==ea.OPERATION_ABORTED,L)}(v,A,r,o));let h=null,f=null,m={};try{h=await Y1(u)}catch(v){if(v.code===ea.OPERATION_ABORTED)throw v;f=v}if(u.forEach(v=>v.cancel()),cQ.reportApiInvoke(A.sid,{name:l_.REQUEST_CONFIG_DISTRIBUTE,options:{error:f,res:h}}).onSuccess(),h&&h.test_tags)try{m=function(v){if(!v.test_tags)return{};const R=v.test_tags,D=Object.keys(R),k={};return D.forEach(L=>{var q;const z=O8(q=L.slice(4)).call(q),_s=JSON.parse(R[L])[1];k[z]=_s}),k}(h)}catch{}return m}async function y7(A,r,o,u){const h=la("PROXY_SERVER_TYPE3"),f=(z,_s,_n)=>{let _i=_n||h;return Array.isArray(_i)&&(_i=_s%2==0?h[1]:h[0]),"https://".concat(_i,"/ap/?url=").concat(z)};let m=null;const v=[],R=async()=>{const z=la("WEBCS_DOMAIN").slice(0,la("AJAX_REQUEST_CONCURRENT")).map((_i,Aa)=>{let Ea;return Ea=A.cloudProxyServer==="disabled"&&A.proxyServer?f("".concat(_i,"/api/v2/transpond/webrtc?v=2"),Aa,A.proxyServer):A.cloudProxyServer==="disabled"||A.cloudProxyServer==="fallback"?"https://".concat(_i,"/api/v2/transpond/webrtc?v=2"):f("".concat(_i,"/api/v2/transpond/webrtc?v=2"),Aa),{url:Ea,areaCode:DP(),serviceIds:[k_.CHOOSE_SERVER,A.cloudProxyServer==="proxy5"?k_.CLOUD_PROXY_5:A.cloudProxyServer==="proxy3"||A.cloudProxyServer==="proxy4"?k_.CLOUD_PROXY:k_.CLOUD_PROXY_FALLBACK]}}),_s=u.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:z.map(_i=>_i.url)}),_n=await jO({fragementLength:la("FRAGEMENT_LENGTH"),referenceList:z,asyncMapHandler:_i=>($.debug("[".concat(A.clientId,"] Connect to choose_server:"),_i.url),h7(_i,A,r,o)),allFailedhandler:_i=>{throw u.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_i},_s),_i[0]},promisesCollector:v});return u.recordJoinChannelService({endTs:Date.now(),status:"success"},_s),_n},D=async()=>{if(await N_(1e3),m!==null)return m;const z=la("WEBCS_DOMAIN_BACKUP_LIST").map((_i,Aa)=>{let Ea;return Ea=A.cloudProxyServer==="disabled"&&A.proxyServer?f("".concat(_i,"/api/v2/transpond/webrtc?v=2"),Aa,A.proxyServer):A.cloudProxyServer==="disabled"||A.cloudProxyServer==="fallback"?"https://".concat(_i,"/api/v2/transpond/webrtc?v=2"):f("".concat(_i,"/api/v2/transpond/webrtc?v=2"),Aa),{url:Ea,areaCode:DP(),serviceIds:[k_.CHOOSE_SERVER,A.cloudProxyServer==="proxy5"?k_.CLOUD_PROXY_5:A.cloudProxyServer==="proxy3"||A.cloudProxyServer==="proxy4"?k_.CLOUD_PROXY:k_.CLOUD_PROXY_FALLBACK]}}),_s=u.recordJoinChannelService({startTs:Date.now(),status:"pending",service:"chooseServer",urls:z.map(_i=>_i.url)}),_n=await jO({fragementLength:la("FRAGEMENT_LENGTH"),referenceList:z,asyncMapHandler:_i=>($.debug("[".concat(A.clientId,"] Connect to backup choose_server:"),_i.url),h7(_i,A,r,o)),allFailedhandler:_i=>{throw u.recordJoinChannelService({endTs:Date.now(),status:"error",errors:_i},_s),_i[0]},promisesCollector:v});return u.recordJoinChannelService({endTs:Date.now(),status:"success"},_s),_n};let k,L,q;try{({gatewayInfo:k,proxyInfo:L,url:q}=await Y1([R(),D()]))}catch(z){throw z[0]}if(v.length&&v.forEach(z=>z.cancel&&typeof z.cancel=="function"&&z.cancel()),!k||!L)throw new Oa(ea.UNEXPECTED_ERROR,"missing gateway or proxy response").print();if(A.apUrl=q,A.cloudProxyServer!=="disabled"&&Array.isArray(h)&&q){const z=/^https?:\/\/(.+?)(\/.*)?$/.exec(q)[1];AQ(h).call(h,z)&&(A.proxyServer=z,$.setProxyServer(z),cQ.setProxyServer(z))}return m={gatewayInfo:k,proxyInfo:await dce(L,k.uid)},m}async function _7(A,r,o,u){const h=la("UAP_AP").slice(0,la("AJAX_REQUEST_CONCURRENT")).map(f=>r.proxyServer?"https://".concat(r.proxyServer,"/ap/?url=").concat(f+"/api/v1?action=uap"):"https://".concat(f,"/api/v1?action=uap"));return await fce(h,A,r,o,u)}async function yce(A,r,o){const u=la("UAP_AP").slice(0,la("AJAX_REQUEST_CONCURRENT")).map(h=>A.proxyServer?"https://".concat(A.proxyServer,"/ap/?url=").concat(h+"/api/v1?action=uap"):"https://".concat(h,"/api/v1?action=uap")).map(h=>function(f,m,v,R){const D={command:"convergeAllocateEdge",sid:m.sid,appId:m.appId,token:m.token,ts:Date.now(),version:pR,cname:m.cname,uid:m.uid.toString(),requestId:j8,seq:j8};j8+=1;const k={service_name:"tele_channel",json_body:JSON.stringify(D)};return XR(async()=>{const L=await xN(f,{data:k,cancelToken:v,headers:{"X-Packet-Service-Type":0,"X-Packet-URI":61}});if(L.code!==0){const z=new Oa(ea.UNEXPECTED_RESPONSE,"cross channel ap error, code"+L.code,{retry:!0});throw $.error(z.toString()),z}const q=JSON.parse(L.json_body);if(q.code!==200){const z=new Oa(ea.UNEXPECTED_RESPONSE,"cross channel app center error, code: ".concat(q.code,", reason: ").concat(q.reason));throw $.error(z.toString()),z}if(!q.servers||q.servers.length===0){const z=new Oa(ea.UNEXPECTED_RESPONSE,"cross channel app center empty server");throw $.error(z.toString()),z}return{vid:q.vid,workerToken:q.workerToken,addressList:(la("CHANNEL_MEDIA_RELAY_SERVERS")||q.servers).map(z=>"wss://".concat(z.address.replace(/\./g,"-"),".").concat(la("WORKER_DOMAIN"),":").concat(z.wss))}},void 0,L=>!!(L.code!==ea.OPERATION_ABORTED&&L.code!==ea.UNEXPECTED_RESPONSE||L.data&&L.data.retry),R)}(h,A,r,o));try{const h=await Y1(u);return u.forEach(f=>f.cancel()),h}catch(h){throw h[0]}}async function _ce(A,r,o){let u=null;const h=[],f=async m=>{const v=la(m?"WEBCS_DOMAIN_BACKUP_LIST":"WEBCS_DOMAIN").map(R=>A.proxyServer?"https://".concat(A.proxyServer,"/ap/?url=").concat(R+"/api/v2/transpond/webrtc?v=2"):"https://".concat(R,"/api/v2/transpond/webrtc?v=2"));return m&&(await N_(1e3),u!==null)?u:await jO({fragementLength:la("FRAGEMENT_LENGTH"),referenceList:v,asyncMapHandler:R=>($.debug("[".concat(A.clientId,"] update ticket, Connect to ").concat(m?"backup":""," choose_server:"),R),function(D,k,L,q){const[z]=Qce(k,[k_.CHOOSE_SERVER]);let _s=A_.networkState;return XR(async()=>{_s&&A_.networkState===lS.OFFLINE&&A_.onlineWaiter&&await lc.race([A_.onlineWaiter,N_(q&&q.maxRetryTimeout||s_.maxRetryTimeout)]),_s=A_.networkState;const _n=await xN(D,{data:z,cancelToken:L,headers:{"Content-Type":"multipart/form-data;"}},!0);return Bce(_n,D)},()=>!1,_n=>_n.code!==ea.OPERATION_ABORTED&&(_n.code===ea.UPDATE_TICKET_FAILED?_n.data.retry:($.warning("[".concat(k.clientId,"] update ticket network error, retry"),_n),!0)),q)}(R,A,r,o)),allFailedhandler:R=>{throw R[0]},promisesCollector:h})};try{return u=await Y1([f(!1),f(!0)]),h.length&&h.forEach(m=>m.cancel&&typeof m.cancel=="function"&&m.cancel()),u}catch(m){throw m[0]}}function v7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function S7(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?v7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):v7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class vce extends x0{get isSuccess(){return!!this.configs}constructor(){super(),j(this,"configs",void 0),j(this,"joinInfo",void 0),j(this,"cancelToken",void 0),j(this,"retryConfig",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),j(this,"interval",void 0),j(this,"mutex",new T_("config-distribute")),j(this,"mutableParamsRead",!1)}startGetConfigDistribute(r,o){this.joinInfo=r,this.cancelToken=o,this.interval&&this.stopGetConfigDistribute(),la("ENABLE_CONFIG_DISTRIBUTE")&&(this.updateConfigDistribute(),this.interval=window.setInterval(()=>{this.updateConfigDistribute()},la("CONFIG_DISTRIBUTE_INTERVAL")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){this.mutex.isLocked&&(await this.mutex.lock())()}async updateConfigDistribute(){if(this.mutableParamsRead||(this.mutableParamsRead=!0,cQ.reportApiInvoke(null,{options:void 0,name:l_.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:G0.TRACER}).onSuccess(JSON.stringify(oT))),!this.joinInfo||!this.cancelToken||!this.retryConfig)return void $.debug("[config-distribute] get config distribute interrupted have no joininfo");let r;const o=await this.mutex.lock();try{r=await mce(this.joinInfo,this.cancelToken,this.retryConfig),$.debug("[config-distribute] get config distribute",JSON.stringify(r)),r.limit_bitrate&&this.handleBitrateLimit(r.limit_bitrate),this.cacheGlobalParameterConfig(r),this.configs=r}catch(u){const h=new Oa(ea.NETWORK_RESPONSE_ERROR,u);$.warning("[config-distribute] ".concat(h.toString()))}finally{o()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(r){var o;(o=r)&&o.uplink&&o.id&&o.uplink.max_bitrate!==void 0&&o.uplink.min_bitrate!==void 0&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==r.id&&this.emit(GO.UPDATE_BITRATE_LIMIT,r):this.emit(GO.UPDATE_BITRATE_LIMIT,r))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&S7({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(r){var o;const u=yO(o=Object.keys(r).filter(f=>/^webrtc_ng_global_parameter/.test(f))).call(o);for(let f=0;f<u.length;f++)for(let m=u.length-1;m>f;m--){const v=u[m];if(typeof r[v].__priority=="number"){const R=r[v].__priority,D=u[m-1];if(typeof r[D].__priority=="number"){if(!(R>r[D].__priority))continue;{const k=v;u[m]=u[m-1],u[m-1]=k}}else{const k=v;u[m]=u[m-1],u[m-1]=k}}}const h={};u.forEach(f=>{const m=r[f],v=m.__expires;Object.keys(m).forEach(R=>{R==="__priority"||R==="__expires"||Object.prototype.hasOwnProperty.call(h,R)||(h[R]=S7({value:m[R]},v&&{expires:v}))})});try{(function(v){try{const R=Date.now();Object.keys(v).forEach(D=>{switch(D){case"ENABLE_EVENT_REPORT":case"UPLOAD_LOG":if(Object.prototype.hasOwnProperty.call(hS,D)){const{value:k,expires:L}=v[D];if(L&&L<=R)return;oT[D]=k,hS[D]=k,$.debug("Update global parameters from config distribute",D,k)}}})}catch(R){$.error("Error update config immediately: ".concat(v),R.message)}})(h);const f=JSON.stringify(h),m=window.btoa(f);window.localStorage.setItem("websdk_ng_global_parameter",m),$.debug("Caching global parameters ".concat(f))}catch(f){$.error("Error caching global parameters:",f.message)}}}const AS={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1};function f0(){return AS}var S_;function J1(A,r,o){return{sampleRate:A,stereo:r,bitrate:o}}function t0(A,r,o,u,h){return{width:A,height:r,frameRate:o,bitrateMin:u,bitrateMax:h}}function MR(A,r,o,u,h){return{width:{max:A},height:{max:r},frameRate:o,bitrateMin:u,bitrateMax:h}}function Y8(A,r){return{numSpatialLayers:A,numTemporalLayers:r}}(function(A){A.IOS_15_16_INTERRUPTION_START="ios15_16-interruption-start",A.IOS_15_16_INTERRUPTION_END="ios15_16-interruption-end",A.IOS_INTERRUPTION_START="ios-interruption-start",A.IOS_INTERRUPTION_END="ios-interruption-end",A.STATE_CHANGE="state-change"})(S_||(S_={}));const Sce={"90p":t0(160,90),"90p_1":t0(160,90),"120p":t0(160,120,15,30,65),"120p_1":t0(160,120,15,30,65),"120p_3":t0(120,120,15,30,50),"120p_4":t0(212,120),"180p":t0(320,180,15,30,140),"180p_1":t0(320,180,15,30,140),"180p_3":t0(180,180,15,30,100),"180p_4":t0(240,180,15,30,120),"240p":t0(320,240,15,40,200),"240p_1":t0(320,240,15,40,200),"240p_3":t0(240,240,15,40,140),"240p_4":t0(424,240,15,40,220),"360p":t0(640,360,15,80,400),"360p_1":t0(640,360,15,80,400),"360p_3":t0(360,360,15,80,260),"360p_4":t0(640,360,30,80,600),"360p_6":t0(360,360,30,80,400),"360p_7":t0(480,360,15,80,320),"360p_8":t0(480,360,30,80,490),"360p_9":t0(640,360,15,80,800),"360p_10":t0(640,360,24,80,800),"360p_11":t0(640,360,24,80,1e3),"480p":t0(640,480,15,100,500),"480p_1":t0(640,480,15,100,500),"480p_2":t0(640,480,30,100,1e3),"480p_3":t0(480,480,15,100,400),"480p_4":t0(640,480,30,100,750),"480p_6":t0(480,480,30,100,600),"480p_8":t0(848,480,15,100,610),"480p_9":t0(848,480,30,100,930),"480p_10":t0(640,480,10,100,400),"720p":t0(1280,720,15,120,1130),"720p_auto":t0(1280,720,30,900,3e3),"720p_1":t0(1280,720,15,120,1130),"720p_2":t0(1280,720,30,120,2e3),"720p_3":t0(1280,720,30,120,1710),"720p_5":t0(960,720,15,120,910),"720p_6":t0(960,720,30,120,1380),"1080p":t0(1920,1080,15,120,2080),"1080p_1":t0(1920,1080,15,120,2080),"1080p_2":t0(1920,1080,30,120,3e3),"1080p_3":t0(1920,1080,30,120,3150),"1080p_5":t0(1920,1080,60,120,4780),"1440p":t0(2560,1440,30,120,4850),"1440p_1":t0(2560,1440,30,120,4850),"1440p_2":t0(2560,1440,60,120,7350),"4k":t0(3840,2160,30,120,8910),"4k_1":t0(3840,2160,30,120,8910),"4k_3":t0(3840,2160,60,120,13500)},kP=[{scaleResolutionDownBy:2,width:1280,height:720,frameRate:30,bitrateMin:300,bitrateMax:900},{scaleResolutionDownBy:1.333333,width:1280,height:720,frameRate:30,bitrateMin:600,bitrateMax:2e3},{scaleResolutionDownBy:1,width:1280,height:720,frameRate:30,bitrateMin:900,bitrateMax:3e3}],Rce={"480p":MR(640,480,5),"480p_1":MR(640,480,5),"480p_2":MR(640,480,30),"480p_3":MR(640,480,15),"720p":MR(1280,720,5),"720p_auto":t0(1280,720,30,900,3e3),"720p_1":MR(1280,720,5),"720p_2":MR(1280,720,30),"720p_3":MR(1280,720,15),"1080p":MR(1920,1080,5),"1080p_1":MR(1920,1080,5),"1080p_2":MR(1920,1080,30),"1080p_3":MR(1920,1080,15)},wce={"1SL1TL":Y8(1,1),"3SL3TL":Y8(3,3),"2SL3TL":Y8(2,3)};function sN(A){return A||(A="480p_1"),typeof A=="string"?Object.assign({},Sce[A]):A}function J8(A){return typeof A=="string"?Object.assign({},Rce[A]):A}function OP(A){return typeof A=="string"?Object.assign({},wce[A]):A}const bce={speech_low_quality:J1(16e3,!1),speech_standard:J1(32e3,!1,18),music_standard:J1(48e3,!1),standard_stereo:J1(48e3,!0,56),high_quality:J1(48e3,!1,128),high_quality_stereo:J1(48e3,!0,192)};function LP(A){return typeof A=="string"?Object.assign({},bce[A]):A}const V1=[];function R7(A){return p_(A,"mediaSource",["screen","window","application"]),!0}var rQ,R0,ET,V8,q8,q1,IT,zT,bS,MP;(function(A){A.NEED_RENEGOTIATE="@need_renegotiate",A.NEED_REPLACE_TRACK="@need_replace_track",A.NEED_CLOSE="@need_close",A.NEED_ENABLE_TRACK="@need_enable_track",A.NEED_DISABLE_TRACK="@need_disable_track",A.NEED_SESSION_ID="@need_sid",A.SET_OPTIMIZATION_MODE="@set_optimization_mode",A.GET_STATS="@get_stats",A.GET_RTC_STATS="@get_rtc_stats",A.GET_LOW_VIDEO_TRACK="@get_low_video_track",A.NEED_RESET_REMOTE_SDP="@need_reset_remote_sdp",A.NEED_UPDATE_VIDEO_ENCODER="@need_update_video_encoder",A.NEED_MUTE_TRACK="@need_mute_track",A.NEED_UNMUTE_TRACK="@need_unmute_track"})(rQ||(rQ={})),function(A){A.SCREEN_TRACK="screen_track",A.CUSTOM_TRACK="custome_track",A.LOW_STREAM="low_stream"}(R0||(R0={})),function(A){A[A.HIGH_STREAM=0]="HIGH_STREAM",A[A.LOW_STREAM=1]="LOW_STREAM"}(ET||(ET={})),function(A){A[A.HIGH_STREAM=0]="HIGH_STREAM",A[A.LOW_STREAM=1]="LOW_STREAM"}(V8||(V8={})),function(A){A[A.DISABLE=0]="DISABLE",A[A.LOW_STREAM=1]="LOW_STREAM",A[A.AUDIO_ONLY=2]="AUDIO_ONLY"}(q8||(q8={})),function(A){A.TRANSCEIVER_UPDATED="transceiver-updated"}(q1||(q1={})),function(A){A.SOURCE_STATE_CHANGE="source-state-change",A.TRACK_ENDED="track-ended",A.BEAUTY_EFFECT_OVERLOAD="beauty-effect-overload",A.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status",A.CLOSED="closed"}(IT||(IT={})),function(A){A.FIRST_FRAME_DECODED="first-frame-decoded",A.VIDEO_ELEMENT_VISIBLE_STATUS="video-element-visible-status"}(zT||(zT={})),function(A){A.AUDIO_SOURCE_STATE_CHANGE="audio_source_state_change",A.RECEIVE_TRACK_BUFFER="receive_track_buffer",A.ON_AUDIO_BUFFER="on_audio_buffer",A.UPDATE_SOURCE="update_source"}(bS||(bS={})),function(A){A.UPDATE_TRACK_SOURCE="update-track-source"}(MP||(MP={}));const W8={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},X8={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},w7={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},Dce={uplinkNetworkQuality:0,downlinkNetworkQuality:0},b7={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};var sS,DS,ZT,UN,aS;(function(A){A.ON_TRACK="on_track",A.ON_NODE="on_node"})(sS||(sS={})),function(A){A.REQUEST_UPDATE_CONSTRAINTS="request_update_constraints",A.REQUEST_CONSTRAINTS="request_constraints"}(DS||(DS={})),function(A){A.IDLE="IDLE",A.INITING="INITING",A.INITEND="INITEND"}(ZT||(ZT={})),function(A){A.STATE_CHANGE="state_change",A.RECORDING_DEVICE_CHANGED="recordingDeviceChanged",A.PLAYOUT_DEVICE_CHANGED="playoutDeviceChanged",A.CAMERA_DEVICE_CHANGED="cameraDeviceChanged"}(UN||(UN={})),function(A){A.NONE="none",A.INIT="init",A.CANPLAY="canplay",A.PLAYING="playing",A.PAUSED="paused",A.SUSPEND="suspend",A.STALLED="stalled",A.WAITING="waiting",A.ERROR="error",A.DESTROYED="destroyed",A.ABORT="abort",A.ENDED="ended",A.EMPTIED="emptied",A.LOADEDDATA="loadeddata"}(aS||(aS={}));const z8={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};var W1;(function(A){A.OPEN="open",A.MESSAGE="message",A.CLOSE="close",A.CLOSING="closing",A.ERROR="error"})(W1||(W1={}));class D7 extends x0{constructor(r,o){super(),j(this,"_ID",void 0),j(this,"_rtpTransceiver",void 0),j(this,"_lowRtpTransceiver",void 0),j(this,"_hints",[]),j(this,"_isClosed",!1),j(this,"_originMediaStreamTrack",void 0),j(this,"_mediaStreamTrack",void 0),j(this,"_external",{}),this._ID=o||y0(8,"track-"),this._originMediaStreamTrack=r,this._mediaStreamTrack=r,function(u){AQ(V1).call(V1,u)||V1.push(u)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(r){if(!r){const o=cQ.reportApiInvoke(null,{name:l_.GET_MEDIA_STREAM_TRACK,options:[],tag:G0.TRACER});this._mediaStreamTrack&&typeof this._mediaStreamTrack.label=="string"?o.onSuccess(this._mediaStreamTrack.label):o.onSuccess("")}return this._mediaStreamTrack}getRTCRtpTransceiver(r){return r===ET.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(r){const o=V1.indexOf(r);o!==-1&&V1.splice(o,1)}(this),this.emit(IT.CLOSED)}_updateRtpTransceiver(r,o){if(o===ET.LOW_STREAM){if(this._lowRtpTransceiver===r)return;this._lowRtpTransceiver=r}else{if(this._rtpTransceiver===r)return;this._rtpTransceiver=r}this.emit(q1.TRANSCEIVER_UPDATED,r,o)}}class z_ extends D7{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}set processorContext(r){this._processorContext=r}constructor(r,o){super(r,o),j(this,"_enabled",!0),j(this,"_muted",!1),j(this,"_isExternalTrack",!1),j(this,"_isClosed",!1),j(this,"_enabledMutex",void 0),j(this,"processor",void 0),j(this,"_handleTrackEnded",()=>{this.onTrackEnded()}),this._enabledMutex=new T_("".concat(this.getTrackId())),r.addEventListener("ended",this._handleTrackEnded)}getTrackLabel(){var r,o;return(r=(o=this._originMediaStreamTrack)===null||o===void 0?void 0:o.label)!==null&&r!==void 0?r:""}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,$.debug("[".concat(this.getTrackId(),"] close")),this.emit(rQ.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(r,o){let u=arguments.length>2&&arguments[2]!==void 0&&arguments[2];this._isExternalTrack=u,r!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),o&&this._originMediaStreamTrack.stop()),r.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=r,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await m0(this,rQ.NEED_REPLACE_TRACK,this),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){$.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(IT.TRACK_ENDED)}stateCheck(r,o){if($.debug("check track state, [muted: ".concat(this._muted,", enabled: ").concat(this._enabled,"] to [").concat(r,": ").concat(o,"]")),rT(o,r),this._enabled&&this._muted&&r==="enabled"&&o===!1)throw new _g(ea.TRACK_STATE_UNREACHABLE,"cannot set enabled while the track is muted").print("error",$);if(!this._enabled&&!this._muted&&r==="muted"&&o===!0)throw new _g(ea.TRACK_STATE_UNREACHABLE,"cannot set muted while the track is disabled").print("error",$)}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}function N7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}const T7=window.AudioContext||window.webkitAudioContext;let oR=null;const E0=new class extends x0{constructor(){super(...arguments),j(this,"prevState",void 0),j(this,"curState",void 0),j(this,"currentTime",void 0),j(this,"currentTimeStuckAt",void 0),j(this,"interruptDetectorTrack",void 0),j(this,"onLocalAudioTrackMute",()=>{$.info("ios15-interruption-start"),this.emit(S_.IOS_15_16_INTERRUPTION_START)}),j(this,"onLocalAudioTrackUnmute",async()=>{$.info("ios15-interruption-end"),this.curState!=="running"||this.duringInterruption?$.info("ios15-interruption-end-canceled"):(oR&&await oR.suspend(),this.emit(S_.IOS_15_16_INTERRUPTION_END))})}get duringInterruption(){return this.prevState==="running"&&this.curState==="interrupted"}bindInterruptDetectorTrack(A){$.debug("webaudio bindInterruptDetectorTrack ".concat(A.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=A,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(A){$.debug("webaudio unbindInterruptDetectorTrack ".concat(A.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===A&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function Nce(){if(!T7)return void $.error("your browser is not support web audio");$.info("create audio context");const A=function(r){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?N7(Object(u),!0).forEach(function(h){j(r,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(u)):N7(Object(u)).forEach(function(h){Object.defineProperty(r,h,Object.getOwnPropertyDescriptor(u,h))})}return r}({},la("WEBAUDIO_INIT_OPTIONS"));$.debug("audio context init option:",JSON.stringify(A)),oR=new T7(A),E0.curState=oR.state,oR.onstatechange=()=>{E0.prevState=E0.curState,E0.curState=oR?oR.state:void 0;const{prevState:r,curState:o}=E0,u=o==="running",h=o==="interrupted",f=r==="running",m=r==="suspended",v=r==="interrupted",R=o0().osVersion;(gS()||nN())&&f&&h&&($.info("ios".concat(R,"-interruption-start")),E0.emit(S_.IOS_INTERRUPTION_START)),(gS()||nN())&&(m||v)&&u&&($.info("ios".concat(R,"-interruption-end")),E0.emit(S_.IOS_INTERRUPTION_END)),r!==o&&E0.emit(S_.STATE_CHANGE,o,r)},setInterval(()=>{var r;const o=(r=oR)===null||r===void 0?void 0:r.currentTime;E0.currentTime!==o?(E0.currentTimeStuckAt&&($.debug("AudioContext current time resume at ".concat(o)),E0.currentTimeStuckAt=void 0),E0.currentTime=o):(o!==E0.currentTimeStuckAt&&(cQ.reportApiInvoke(null,{name:"WEB_AUDIO_CURRENT_TIME_STUCK",options:{currentTime:o},tag:G0.TRACER}).onSuccess(),$.warning("AudioContext current time stuck at ".concat(o))),E0.currentTimeStuckAt=o)},5e3),async function(r){const o=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"];let u,h=!1,f=!1,m=!1;function v(_i){r.state==="running"?R(!1):gS()||nN()?r.state==="suspended"&&(R(!0),_i&&r.resume().then(k,k)):r.state!=="closed"&&(R(!0),_i&&r.resume().then(k,k))}function R(_i){if(h!==_i){h=_i;for(let Aa=0,Ea=o;Aa<Ea.length;Aa+=1){const Qa=Ea[Aa];_i?window.addEventListener(Qa,L,{capture:!0,passive:!0}):window.removeEventListener(Qa,L,{capture:!0,passive:!0})}}}function D(){v(!0)}function k(){v(!1)}function L(){v(!0)}function q(_i){if(!m)if(u.paused)if(_i){let Aa;z(!1),m=!0;try{Aa=u.play(),Aa?Aa.then(_s,_s):(u.addEventListener("playing",_s),u.addEventListener("abort",_s),u.addEventListener("error",_s))}catch{_s()}}else z(!0);else z(!1)}function z(_i){if(f!==_i){f=_i;for(let Aa=0,Ea=o;Aa<Ea.length;Aa++){const Qa=Ea[Aa];_i?window.addEventListener(Qa,_n,{capture:!0,passive:!0}):window.removeEventListener(Qa,_n,{capture:!0,passive:!0})}}}function _s(){u.removeEventListener("playing",_s),u.removeEventListener("abort",_s),u.removeEventListener("error",_s),m=!1,q(!1)}function _n(){q(!0)}if(gS()){const _i=r.createMediaStreamDestination(),Aa=document.createElement("div");Aa.innerHTML="<audio x-webkit-airplay='deny'></audio>",u=Aa.children.item(0),u.controls=!1,u.disableRemotePlayback=!0,u.preload="auto",u.srcObject=_i.stream,q(!0)}E0.on(S_.STATE_CHANGE,D),v(!1)}(oR)}function X1(){if(!oR){if(Nce(),!oR)throw new _g(ea.NOT_SUPPORTED,"can not create audio context");return oR}return oR}function k7(){return!!oR}function $T(A){if(function(){if(Z8!==null)return Z8;const u=X1(),h=u.createBufferSource(),f=u.createGain(),m=u.createGain();h.connect(f),h.connect(m),h.disconnect(f);let v=!1;try{h.disconnect(f)}catch{v=!0}return h.disconnect(),Z8=v,v}())return;const r=A.connect,o=A.disconnect;A.connect=(u,h,f)=>{var m;return A._inputNodes||(A._inputNodes=[]),AQ(m=A._inputNodes).call(m,u)||(u instanceof AudioNode?(A._inputNodes.push(u),r.call(A,u,h,f)):r.call(A,u,h)),A},A.disconnect=(u,h,f)=>{o.call(A),u?sP(A._inputNodes,u):A._inputNodes=[];for(const m of A._inputNodes)r.call(A,m)}}let Z8=null;function $8(A,r){let o=!1;const u=1/r;if(la("DISABLE_WEBAUDIO")){const h=window.setInterval(()=>{o?window.clearInterval(h):A(performance.now()/1e3)},1e3*u)}else{const h=X1();let f=h.createGain();f.gain.value=0,f.connect(h.destination);const m=()=>{if(o)return void(f=null);const v=h.createOscillator();v.onended=m,v.connect(f),v.start(0),v.stop(h.currentTime+u),A(h.currentTime)};m()}return()=>{o=!0}}class O7{constructor(){j(this,"context",void 0),j(this,"analyserNode",void 0),j(this,"sourceNode",void 0),this.context=X1(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(r){if(r!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch{}this.sourceNode=r,r==null||r.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode||(!this.context||gS()||nN()||this.context.state!=="running"&&this.context.resume(),!this.analyserNode))return 0;const r=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(r);else{const u=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(u);for(let h=0;h<r.length;++h)r[h]=u[h]/128-1}const o=YT(r).call(r,(u,h)=>u+h*h,0)/r.length;return Math.max(10*Math.log10(o)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var r,o;(r=this.sourceNode)===null||r===void 0||r.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,(o=this.sourceNode)===null||o===void 0||o.connect(this.analyserNode)}catch{$.warning("rebuild analyser node failed.")}}destroy(){this.updateSource(void 0)}}class L7 extends x0{get processSourceNode(){return this.sourceNode}set processedNode(r){var o;if(!this.isDestroyed&&this._processedNode!==r){try{var u;(u=this.sourceNode)===null||u===void 0||u.disconnect(this.outputNode)}catch{}(o=this._processedNode)===null||o===void 0||o.disconnect(),this._processedNode=r,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),j(this,"outputNode",void 0),j(this,"outputTrack",void 0),j(this,"isPlayed",!1),j(this,"context",void 0),j(this,"audioBufferNode",void 0),j(this,"destNode",void 0),j(this,"audioOutputLevel",0),j(this,"volumeLevelAnalyser",void 0),j(this,"_processedNode",void 0),j(this,"playNode",void 0),j(this,"isDestroyed",!1),j(this,"onNoAudioInput",void 0),j(this,"isNoAudioInput",!1),j(this,"_noAudioInputCount",0),this.context=X1(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),$T(this.outputNode),this.volumeLevelAnalyser=new O7}startGetAudioBuffer(r){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(r),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=o=>{this.emit(bS.ON_AUDIO_BUFFER,function(u){for(let h=0;h<u.outputBuffer.numberOfChannels;h+=1){const f=u.outputBuffer.getChannelData(h);for(let m=0;m<f.length;m+=1)f[m]=0}return u.inputBuffer}(o))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!f0().webAudioMediaStreamDest)throw new _g(ea.NOT_SUPPORTED,"your browser is not support audio processor");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(r){this.context.state!=="running"&&aP(()=>{E0.emit("autoplay-failed")}),this.isPlayed=!0,this.playNode=r||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch{}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(r>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;gS()||nN()?this.context.state==="suspended"&&this.context.resume():this.context.state!=="running"&&this.context.resume();const o=this.volumeLevelAnalyser.getAnalyserNode();let u;o.getFloatTimeDomainData?(u=new Float32Array(o.fftSize),o.getFloatTimeDomainData(u)):(u=new Uint8Array(o.fftSize),o.getByteTimeDomainData(u));let h=!1;for(let f=0;f<u.length;f++)u[f]!==0&&(h=!0);return h?(this.isNoAudioInput=!1,!0):(await N_(200),await this.checkHasAudioInput(r?r+1:1)&&h)}getAudioVolume(){return this.outputNode.gain.value}setVolume(r){this.outputNode.gain.setValueAtTime(r,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var r,o;(r=this.processedNode)===null||r===void 0||r.disconnect(),(o=this.sourceNode)===null||o===void 0||o.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var r;this.processedNode?(r=this.processedNode)===null||r===void 0||r.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class e4 extends L7{get isFreeze(){return!1}constructor(r,o,u){var h;if(super(),j(this,"sourceNode",void 0),j(this,"track",void 0),j(this,"clonedTrack",void 0),j(this,"audioElement",void 0),j(this,"isCurrentTrackCloned",!1),j(this,"isRemoteTrack",!1),j(this,"originVolumeLevelAnalyser",void 0),j(this,"rebuildWebAudio",async()=>{if($.debug("ready to rebuild web audio, state:",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener("click",this.rebuildWebAudio,!0),void $.debug("rebuild web audio success, current volume status",this.getAccurateVolumeLevel());this.context.resume().then(()=>$.info("resume success")),$.debug("rebuild web audio because of ios 12 bugs"),this.disconnect();const v=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?v.stop():this.isCurrentTrackCloned=!0;const R=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(R),$T(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const D=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(D,this.context.currentTime),$T(this.outputNode),this.emit(bS.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=R,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()}),r.kind!=="audio")throw new _g(ea.UNEXPECTED_ERROR);this.track=r;const f=new MediaStream([this.track]);if(this.isRemoteTrack=!!o,this.sourceNode=this.context.createMediaStreamSource(f),$T(this.sourceNode),u){const v=u.clone();v.enabled=!0,this.clonedTrack=v,$.debug("create an unmuted track ".concat(v.id," from the original track ").concat(u.id," to get the volume"));const R=this.context.createMediaStreamSource(new MediaStream([v]));$T(R),this.originVolumeLevelAnalyser=new O7,this.originVolumeLevelAnalyser.updateSource(R)}this.connect(),this.audioElement=document.createElement("audio"),this.audioElement.srcObject=f;const m=o0();o&&m.os===h_.IOS&&Number((h=m.osVersion)===null||h===void 0?void 0:h.split(".")[0])<15&&(E0.on(S_.STATE_CHANGE,()=>{this.context.state==="suspended"?document.body.addEventListener("click",this.rebuildWebAudio,!0):this.context.state==="running"&&this.rebuildWebAudio()}),this.checkHasAudioInput().then(v=>{v||document.body.addEventListener("click",this.rebuildWebAudio,!0)}))}updateTrack(r){this.sourceNode.disconnect(),this.track=r,this.isCurrentTrackCloned=!1;const o=new MediaStream([r]);this.sourceNode=this.context.createMediaStreamSource(o),$T(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(bS.UPDATE_SOURCE),this.audioElement.srcObject=o}destroy(){var r;this.audioElement.srcObject=null,this.audioElement.remove(),E0.off("state-change",this.rebuildWebAudio),(r=this.originVolumeLevelAnalyser)===null||r===void 0||r.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(r){return this.context.createMediaStreamSource(new MediaStream([r]))}updateOriginTrack(r){const o=r.clone();o.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=o),$.debug("create an unmuted track ".concat(o.id," from the original track ").concat(r.id," to get the volume"));const u=this.context.createMediaStreamSource(new MediaStream([o]));$T(u),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(u)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function M7(A,r,o){const u=(f,m)=>f?typeof f!="number"?f.max||f.exact||f.ideal||f.min||m:f:m,h={audio:!!o&&{mandatory:{chromeMediaSource:"desktop"}},video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:A,maxHeight:u(r.height,1080),maxWidth:u(r.width,1920)}}};return r.frameRate&&typeof r.frameRate!="number"?(h.video.mandatory.maxFrameRate=r.frameRate.max,h.video.mandatory.minFrameRate=r.frameRate.min):typeof r.frameRate=="number"&&(h.video.mandatory.maxFrameRate=r.frameRate),await navigator.mediaDevices.getUserMedia(h)}async function Tce(A,r){const o=await x7(A.mediaSource),{sourceId:u,audio:h}=await function(f){let m=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return new lc((v,R)=>{const D=document.createElement("div");D.innerText="share screen",D.setAttribute("style","text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;");const k=document.createElement("div");k.setAttribute("style","width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;");const L=document.createElement("div");L.innerText="Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.",L.setAttribute("style","height: 12%;");const q=document.createElement("div");q.setAttribute("style","width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;");const z=document.createElement("div");z.setAttribute("style","display: flex; justify-content: space-between; padding: 16px 0;");const _s=document.createElement("button");_s.innerHTML="cancel",_s.setAttribute("style","width: 85px;"),_s.onclick=()=>{document.body.removeChild(Aa);const Ea=new Error("NotAllowedError");Ea.name="NotAllowedError",R(Ea)};let _n=m;const _i=document.createElement("div");if(m){const Ea=document.createElement("input");Ea.setAttribute("type","checkbox");const Qa=document.createElement("span");Ea.setAttribute("style","margin-right: 6px;"),Qa.innerText="Share audio",Ea.checked=_n,Ea.onchange=()=>{_n=Ea.checked},_i.appendChild(Ea),_i.appendChild(Qa)}z.appendChild(_i),z.appendChild(_s),k.appendChild(L),k.appendChild(q),k.appendChild(z);const Aa=document.createElement("div");Aa.setAttribute("style","position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);"),Aa.appendChild(D),Aa.appendChild(k),document.body.appendChild(Aa),f.map(Ea=>{if(Ea.id){const Qa=document.createElement("div");Qa.setAttribute("style","width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;");let Vc=Ea.thumbnail;try{const{width:Fa}=Vc.getSize();Fa>1920&&(Vc=Vc.resize({width:1920}))}catch(Fa){throw Fa&&Fa.message.startsWith("Illegal invocation")&&console.error("Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)"),Fa}Qa.innerHTML='<div style="height: 120px; display: table-cell; vertical-align: middle;"><img style="width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);" src='+Vc.toDataURL()+' /></div><span style="	height: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">'+Ea.name.replace(/[\u00A0-\u9999<>\&]/g,function(Fa){return"&#"+Fa.charCodeAt(0)+";"})+"</span>",Qa.onclick=()=>{document.body.removeChild(Aa),v({sourceId:Ea.id,audio:_n})},q.appendChild(Qa)}})})}(o,r);return await M7(u,A,h)}async function x7(A){let r=["window","screen"];A!=="application"&&A!=="window"||(r=["window"]),A==="screen"&&(r=["screen"]);const o=_9();if(!o)throw console.error("failed to fetch electron, please mount it to window"),new _g(ea.ELECTRON_IS_NULL);let u=null;try{var h;u=((h=o.desktopCapturer)===null||h===void 0?void 0:h.getSources({types:r}))||o.ipcRenderer.invoke("DESKTOP_CAPTURER_GET_SOURCES",{types:r})}catch{u=null}u&&u.then||(u=new lc((f,m)=>{o.desktopCapturer.getSources({types:r},(v,R)=>{v?m(v):f(R)})}));try{return await u}catch(f){throw new _g(ea.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,f.toString())}}function U7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}const t4=new T_("safari");let P7=!1,G7=!1;async function AR(A,r){let o=0,u=null;for(;o<2;)try{u=await kce(A,r,o>0);break}catch(h){if(h instanceof _g)throw $.error("[".concat(r,"] ").concat(h.toString())),h;const f=xP(h.name||h.code||h,h.message);if(f.code===ea.MEDIA_OPTION_INVALID){$.debug("[".concat(r,"] detect media option invalid, retry")),o+=1,await N_(500);continue}throw $.error("[".concat(r,"] ").concat(f.toString())),f}if(!u)throw new _g(ea.UNEXPECTED_ERROR,"can not find stream after getUserMedia");return u}async function kce(A,r,o){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new _g(ea.NOT_SUPPORTED,"can not find getUserMedia");o&&(A.video&&(delete A.video.width,delete A.video.height),A.screen&&(delete A.screen.width,delete A.screen.height));const u=f0(),h=new MediaStream;if(A.audioSource&&h.addTrack(A.audioSource),A.videoSource&&h.addTrack(A.videoSource),!A.audio&&!A.video&&!A.screen)return $.debug("Using Video Source/ Audio Source"),h;if(A.screen)if(_9())A.screen.sourceId?z1(h,await M7(A.screen.sourceId,A.screen,A.screenAudio)):z1(h,await Tce(A.screen,A.screenAudio));else if(kO()&&A.screen.extensionId&&A.screen.mandatory){if(!u.getStreamFromExtension)throw new _g(ea.NOT_SUPPORTED,"This browser does not support screen sharing");$.debug("[".concat(r,'] Screen access on chrome stable, looking for extension"'));const q=await(m=A.screen.extensionId,v=r,new lc((z,_s)=>{try{chrome.runtime.sendMessage(m,{getStream:!0},_n=>{if(!_n||!_n.streamId)return $.error("[".concat(v,"] No response from Chrome Plugin. Plugin not installed properly"),_n),void _s(new _g(ea.CHROME_PLUGIN_NO_RESPONSE,"No response from Chrome Plugin. Plugin not installed properly"));z(_n.streamId)})}catch(_n){$.error("[".concat(v,"] AgoraRTC screensharing plugin is not accessible(").concat(m,")"),_n.toString()),_s(new _g(ea.CHROME_PLUGIN_NOT_INSTALL))}}));A.screen.mandatory.chromeMediaSourceId=q,z1(h,await navigator.mediaDevices.getUserMedia({video:{mandatory:A.screen.mandatory}}))}else if(u.getDisplayMedia){var f;A.screen.mediaSource&&R7(A.screen.mediaSource);const q={width:A.screen.width,height:A.screen.height,frameRate:A.screen.frameRate,displaySurface:(f=A.screen.displaySurface)!==null&&f!==void 0?f:A.screen.mediaSource==="screen"?"monitor":A.screen.mediaSource},{selfBrowserSurface:z,surfaceSwitching:_s,systemAudio:_n}=A.screen,_i={selfBrowserSurface:z,surfaceSwitching:_s,systemAudio:_n};!z&&delete _i.selfBrowserSurface,!_s&&delete _i.surfaceSwitching,!_n&&delete _i.systemAudio,$.debug("[".concat(r,"] getDisplayMedia:"),JSON.stringify({video:q,audio:!!A.screenAudio,controls:_i}));const Aa=await navigator.mediaDevices.getDisplayMedia(function(Ea){for(var Qa=1;Qa<arguments.length;Qa++){var Vc=arguments[Qa]!=null?arguments[Qa]:{};Qa%2?U7(Object(Vc),!0).forEach(function(Fa){j(Ea,Fa,Vc[Fa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ea,Object.getOwnPropertyDescriptors(Vc)):U7(Object(Vc)).forEach(function(Fa){Object.defineProperty(Ea,Fa,Object.getOwnPropertyDescriptor(Vc,Fa))})}return Ea}({video:q,audio:!!A.screenAudio},_i));z1(h,Aa)}else{if(!Q0())throw $.error("[".concat(r,"] This browser does not support screenSharing")),new _g(ea.NOT_SUPPORTED,"This browser does not support screen sharing");{A.screen.mediaSource&&R7(A.screen.mediaSource);const q={video:{mediaSource:A.screen.mediaSource,width:A.screen.width,height:A.screen.height,frameRate:A.screen.frameRate}};$.debug("[".concat(r,"] getUserMedia: ").concat(JSON.stringify(q))),z1(h,await navigator.mediaDevices.getUserMedia(q))}}var m,v;if(!A.video&&!A.audio)return h;let R={video:A.video,audio:A.audio},D=la("MEDIA_DEVICE_CONSTRAINTS");if(D)try{typeof D=="string"&&(D=JSON.parse(D)),R=$6(R,D)}catch{}$.debug("[".concat(r,"] GetUserMedia"),JSON.stringify(R)),o0();let k,L=null;(uS()||gS()||iP())&&(L=await t4.lock());try{k=await navigator.mediaDevices.getUserMedia(R)}catch(q){throw L&&L(),q}return R.audio&&(P7=!0),R.video&&(G7=!0),z1(h,k),L&&L(),h}function xP(A,r){switch(A){case"Starting video failed":case"OverconstrainedError":case"TrackStartError":return new _g(ea.MEDIA_OPTION_INVALID,"".concat(A,": ").concat(r));case"NotFoundError":case"DevicesNotFoundError":return new _g(ea.DEVICE_NOT_FOUND,"".concat(A,": ").concat(r));case"NotSupportedError":return new _g(ea.NOT_SUPPORTED,"".concat(A,": ").concat(r));case"NotReadableError":return new _g(ea.NOT_READABLE,"".concat(A,": ").concat(r));case"InvalidStateError":case"NotAllowedError":case"PERMISSION_DENIED":case"PermissionDeniedError":return new _g(ea.PERMISSION_DENIED,"".concat(A,": ").concat(r));case"ConstraintNotSatisfiedError":return new _g(ea.CONSTRAINT_NOT_SATISFIED,"".concat(A,": ").concat(r));default:return $.error("getUserMedia unexpected error",A),new _g(ea.UNEXPECTED_ERROR,"".concat(A,": ").concat(r))}}function z1(A,r){const o=A.getVideoTracks()[0],u=A.getAudioTracks()[0],h=r.getVideoTracks()[0],f=r.getAudioTracks()[0];f&&(u&&A.removeTrack(u),A.addTrack(f)),h&&(o&&A.removeTrack(o),A.addTrack(h))}const sR=new class extends x0{get state(){return this._state}set state(A){A!==this._state&&(this.emit(UN.STATE_CHANGE,A),this._state=A)}constructor(){super(),j(this,"_state",ZT.IDLE),j(this,"isAccessMicrophonePermission",!1),j(this,"isAccessCameraPermission",!1),j(this,"lastAccessMicrophonePermission",!1),j(this,"lastAccessCameraPermission",!1),j(this,"checkdeviceMatched",!1),j(this,"deviceInfoMap",new Map),this.init().then(()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener("devicechange",this.updateDevicesInfo.bind(this)),window.setInterval(()=>{(la("ENUMERATE_DEVICES_INTERVAL")||(oP()||rP()===h_.HARMONY_OS)&&nT())&&this.updateDevicesInfo()},la("ENUMERATE_DEVICES_INTERVAL_TIME"))}).catch(A=>$.error(A.toString()))}async enumerateDevices(A,r){let o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new _g(ea.NOT_SUPPORTED,"enumerateDevices() not supported.").throw();const u=await navigator.mediaDevices.enumerateDevices(),h=this.checkMediaDeviceInfoIsOk(u);let f=!this.isAccessMicrophonePermission&&A,m=!this.isAccessCameraPermission&&r;h.audio&&(f=!1),h.video&&(m=!1);let v=null,R=null,D=null;if(!o&&(f||m)){if(t4.isLocked&&($.debug("[device manager] wait GUM lock"),(await t4.lock())(),$.debug("[device manager] GUM unlock")),P7&&(f=!1,this.isAccessMicrophonePermission=!0),G7&&(m=!1,this.isAccessCameraPermission=!0),$.debug("[device manager] check media device permissions",A,r,f,m),f&&m){try{D=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(k){const L=xP(k.name||k.code||k,k.message);if(L.code===ea.PERMISSION_DENIED)throw L;$.warning("getUserMedia failed in getDevices",L)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(f){try{v=await navigator.mediaDevices.getUserMedia({audio:A})}catch(k){const L=xP(k.name||k.code||k,k.message);if(L.code===ea.PERMISSION_DENIED)throw L;$.warning("getUserMedia failed in getDevices",L)}this.isAccessMicrophonePermission=!0}else if(m){try{R=await navigator.mediaDevices.getUserMedia({video:r})}catch(k){const L=xP(k.name||k.code||k,k.message);if(L.code===ea.PERMISSION_DENIED)throw L;$.warning("getUserMedia failed in getDevices",L)}this.isAccessCameraPermission=!0}$.debug("[device manager] mic permission",A,"cam permission",r)}try{const k=await navigator.mediaDevices.enumerateDevices();return v&&v.getTracks().forEach(L=>L.stop()),R&&R.getTracks().forEach(L=>L.stop()),D&&D.getTracks().forEach(L=>L.stop()),v=null,R=null,D=null,k}catch(k){return v&&v.getTracks().forEach(L=>L.stop()),R&&R.getTracks().forEach(L=>L.stop()),D&&D.getTracks().forEach(L=>L.stop()),v=null,R=null,D=null,new _g(ea.ENUMERATE_DEVICES_FAILED,k.toString()).throw()}}async getRecordingDevices(){let A=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,A)).filter(r=>r.kind==="audioinput")}async getCamerasDevices(){let A=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!1,!0,A)).filter(r=>r.kind==="videoinput")}async getSpeakers(){let A=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return(await this.enumerateDevices(!0,!1,A)).filter(r=>r.kind==="audiooutput")}searchDeviceIdByName(A){let r=null;return this.deviceInfoMap.forEach(o=>{o.device.label===A&&(r=o.device.deviceId)}),r}async getDeviceById(A){const r=(await this.enumerateDevices(!0,!0,!0)).find(o=>o.deviceId===A);if(!r)throw new _g(ea.DEVICE_NOT_FOUND,"deviceId: ".concat(A));return r}async init(){this.state=ZT.INITING;try{await this.updateDevicesInfo(),this.state=ZT.INITEND}catch(A){throw $.warning("Device Detection functionality cannot start properly.",A.toString()),this.state=ZT.IDLE,!(typeof isSecureContext=="boolean"?isSecureContext:location.protocol==="https:"||location.protocol==="file:"||location.hostname==="localhost"||location.hostname==="127.0.0.1"||location.hostname==="::1")&&new _g(ea.WEB_SECURITY_RESTRICT,"Your context is limited by web security, please try using https protocol or localhost.").throw(),A}}async updateDevicesInfo(){const A=await this.enumerateDevices(!0,!0,!0),r=Date.now(),o=[];if(A[0]&&A[0].label&&this.checkdeviceMatched===!1){this.checkdeviceMatched=!0;const h=A.find(m=>m.kind==="audioinput"&&m.deviceId==="default"),f=A.find(m=>m.kind==="audiooutput"&&m.deviceId==="default");h&&f?f.groupId===h.groupId?$.debug("[device-check] default input ".concat(h.label," and output ").concat(f.label," is the same group")):$.warning("[device-check] default input ".concat(h.label," and output ").concat(f.label," is not the same group")):$.debug("[device-check] default input or output not found")}const u=this.checkMediaDeviceInfoIsOk(A);if(A.forEach(h=>{if(!h.deviceId)return;const f=this.deviceInfoMap.get("".concat(h.kind,"_").concat(h.deviceId));if((f?f.state:"INACTIVE")!=="ACTIVE"){const m={initAt:r,updateAt:r,device:h,state:"ACTIVE"};this.deviceInfoMap.set("".concat(h.kind,"_").concat(h.deviceId),m),o.push(m)}f&&(f.updateAt=r)}),this.deviceInfoMap.forEach((h,f)=>{h.state==="ACTIVE"&&h.updateAt!==r&&(h.state="INACTIVE",o.push(h))}),this.state!==ZT.INITEND)return u.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(u.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));o.forEach(h=>{switch(h.device.kind){case"audioinput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(UN.RECORDING_DEVICE_CHANGED,h);break;case"videoinput":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(UN.CAMERA_DEVICE_CHANGED,h);break;case"audiooutput":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(UN.PLAYOUT_DEVICE_CHANGED,h)}}),u.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),u.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(A){const r=A.filter(h=>h.kind==="audioinput"),o=A.filter(h=>h.kind==="videoinput"),u={audio:!1,video:!1};for(const h of r)if(h.label&&h.deviceId){u.audio=!0;break}for(const h of o)if(h.label&&h.deviceId){u.video=!0;break}return u}};let n4=!1;const aR=new class extends x0{constructor(){super(...arguments),j(this,"onAutoplayFailed",void 0),j(this,"onAudioAutoplayFailed",void 0)}};function F7(){if(o0(),!n4){const A=r=>{r.preventDefault(),n4=!1,OO()?document.body.removeEventListener("click",A,!0):(document.body.removeEventListener("touchstart",A,!0),document.body.removeEventListener("mousedown",A,!0))};n4=!0,OO()?document.body.addEventListener("click",A,!0):(document.body.addEventListener("touchstart",A,!0),document.body.addEventListener("mousedown",A,!0)),$.info("detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web"),aR.onAutoplayFailed?aR.onAutoplayFailed():aR.onAudioAutoplayFailed?$.warning(`AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.

  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`):$.warning(`We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.

  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.

  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .`),aR.emit("autoplay-failed")}}function K7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function j7(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?K7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):K7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function H7(A,r,o,u){if(!A)return;const h=cQ.getBaseInfoBySessionId(A);if(!h)return;const f=h.info,m=Date.now(),v=j7(j7({},f),{},{vid:f.vid===void 0?0:Number(f.vid),lts:m,elapse:m-h.startTime,cbRegistered:aR.onAutoplayFailed||aR.onAudioAutoplayFailed?1:-1,errorMsg:o,mediaType:r,trackId:u,extend:void 0});cQ.send({type:k0.AUTOPLAY_FAILED,data:v},!0)}const Oce=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","error"],NS=new class{constructor(){j(this,"onAutoplayFailed",void 0),j(this,"elementMap",new Map),j(this,"elementStateMap",new Map),j(this,"elementsNeedToResume",[]),j(this,"sinkIdMap",new Map),j(this,"autoResumeAfterInterruption",A=>{Array.from(this.elementMap.entries()).forEach(r=>{let[o,u]=r;const h=this.elementStateMap.get(o),f=u.srcObject.getAudioTracks()[0],m=f&&f.readyState;if($.debug("resume after interrupted, ele: ".concat(h," audio: ").concat(m," ").concat(A)),m==="live"){if(A)return u.pause(),void u.play();if(E0.curState==="running")return T1()?(u.pause(),void u.play()):void(h&&h==="paused"&&u.play())}})}),j(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{Array.from(this.elementMap.entries()).forEach(A=>{let[r,o]=A;const u=o.srcObject.getAudioTracks()[0];u&&u.readyState==="live"&&($.debug("auto resume after interruption inside autoResumeAfterInterruptionOnIOS15"),o.pause(),o.play())})}),this.autoResumeAudioElement(),E0.on(S_.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),E0.on(S_.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),E0.on(S_.STATE_CHANGE,()=>{gS()&&E0.prevState==="suspended"&&E0.curState==="running"&&this.autoResumeAfterInterruption()})}async setSinkID(A,r){const o=this.elementMap.get(A);if(this.sinkIdMap.set(A,r),o)try{await o.setSinkId(r)}catch(u){throw new _g(ea.PERMISSION_DENIED,"can not set sink id: "+u.toString())}}play(A,r,o,u){if(this.elementMap.has(r))return;const h=document.createElement("audio");h.autoplay=!0,h.srcObject=new MediaStream([A]),this.bindAudioElementEvents(r,h),this.elementMap.set(r,h),this.elementStateMap.set(r,aS.INIT),this.setVolume(r,o);const f=this.sinkIdMap.get(r);if(f)try{h.setSinkId(f).catch(v=>{$.warning("[".concat(r,"] set sink id failed"),v.toString())})}catch(v){$.warning("[".concat(r,"] set sink id failed"),v.toString())}const m=h.play();m&&m.then&&m.catch(v=>{u&&H7(u,"audio",v.message,r),$.warning("audio element play warning",v.toString()),this.elementMap.has(r)&&v.name==="NotAllowedError"&&($.warning("detected audio element autoplay failed"),this.elementsNeedToResume.push(h),aP(()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),F7()}))})}updateTrack(A,r){const o=this.elementMap.get(A);o&&(o.srcObject=new MediaStream([r]))}isPlaying(A){return this.elementMap.has(A)&&this.elementStateMap.get(A)==="playing"}setVolume(A,r){const o=this.elementMap.get(A);o&&(r=Math.max(0,Math.min(100,r)),o.volume=r/100)}stop(A){const r=this.elementMap.get(A);if(this.sinkIdMap.delete(A),!r)return;const o=this.elementsNeedToResume.indexOf(r);this.elementsNeedToResume.splice(o,1),r.srcObject=null,r.remove(),this.elementMap.delete(A),this.elementStateMap.delete(A)}bindAudioElementEvents(A,r){Oce.forEach(o=>{r.addEventListener(o,u=>{const h=this.elementStateMap.get(A),f=u.type==="pause"?"paused":u.type;if($.debug("[".concat(A,"] audio-element-status change ").concat(h," => ").concat(f)),u.type==="error"){const m=r==null?void 0:r.error;m&&$.error("[".concat(A,"] media error, code: ").concat(m.code,", message: ").concat(m.message))}this.elementStateMap.set(A,f)})})}getPlayerState(A){return this.elementStateMap.get(A)||"uninit"}autoResumeAudioElement(){const A=()=>{this.elementsNeedToResume.forEach(r=>{r.play().then(o=>{$.debug("Auto resume audio element success")}).catch(o=>{$.warning("Auto resume audio element failed!",o)})}),this.elementsNeedToResume=[]};new lc(r=>{document.body?r():window.addEventListener("load",()=>r())}).then(()=>{OO()?document.body.addEventListener("click",A,!0):(document.body.addEventListener("touchstart",A,!0),document.body.addEventListener("mousedown",A,!0))})}};function z0(){return function(A,r,o){const u=o.value;return typeof u=="function"&&(o.value=function(){this._isClosed&&new _g(ea.INVALID_OPERATION,"[".concat(this.getTrackId(),"] cannot operate a closed track")).print("warning",$);for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];const v=u.apply(this,f);return v instanceof lc?new lc((R,D)=>{v.then(R).catch(D)}):v}),o}}function Y7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function UP(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Y7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):Y7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class J7 extends x0{constructor(r){super(),j(this,"name","VideoProcessorDestination"),j(this,"ID","0"),j(this,"_source",void 0),j(this,"videoContext",void 0),j(this,"inputTrack",void 0),this.videoContext=r}get kind(){return"video"}get enabled(){return!0}pipe(){throw new _g(ea.NOT_SUPPORTED,"VideoProcessor cannot pipe to any other Processor")}unpipe(){throw new _g(ea.NOT_SUPPORTED,"VideoProcessor cannot unpipe to any other Processor")}enable(){}disable(){}updateInput(r){if(r.context!==this.videoContext)throw new Error(`ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.
Probably you are making pipeline like this:
videoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).`);r.track&&r.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=r.track,this.emit(sS.ON_TRACK,r.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(sS.ON_TRACK,void 0)}}class V7 extends x0{set chained(r){this._chained=r}get chained(){return this._chained}constructor(r,o){super(),j(this,"constraintsMap",new Map),j(this,"statsRegistry",[]),j(this,"usageRegistry",[]),j(this,"trackId",void 0),j(this,"direction",void 0),j(this,"_chained",!1),this.trackId=r,this.direction=o}async getConstraints(){return await o_(this,DS.REQUEST_CONSTRAINTS)}async requestApplyConstraints(r,o){var u;return $.info("processor ".concat(o.name," requestApplyConstraints for ").concat(this.trackId)),r&&this.constraintsMap.set(o,r),m0(this,DS.REQUEST_UPDATE_CONSTRAINTS,Array.from(zR(u=this.constraintsMap).call(u)))}async requestRevertConstraints(r){var o;if(this.constraintsMap.has(r))return $.info("processor ".concat(r.name," requestRevertConstraints for ").concat(this.trackId)),this.constraintsMap.delete(r),m0(this,DS.REQUEST_UPDATE_CONSTRAINTS,Array.from(zR(o=this.constraintsMap).call(o)))}registerStats(r,o,u){this.statsRegistry.find(h=>h.processorID===r.ID&&h.processorName===r.name&&h.type===o)||this.statsRegistry.push({processorName:r.name,processorID:r.ID,type:o,cb:u})}unregisterStats(r,o){const u=this.statsRegistry.findIndex(h=>h.processorID===r.ID&&h.processorName===r.name&&h.type===o);u!==-1&&this.statsRegistry.splice(u,1)}gatherStats(){const r=[];for(const{processorID:o,processorName:u,type:h,cb:f}of this.statsRegistry)try{const m=f();r.push({processorID:o,processorName:u,type:h,stats:m})}catch(m){$.error(new _g(ea.UNEXPECTED_ERROR,m.message))}return r}registerUsage(r,o){this.usageRegistry.find(u=>u.processorID===r.ID&&u.processorName===r.name)||this.usageRegistry.push({processorID:r.ID,processorName:r.name,cb:o})}unregisterUsage(r){const o=this.usageRegistry.findIndex(u=>u.processorID===r.ID&&u.processorName===r.name);o!==-1&&this.usageRegistry.splice(o,1)}async gatherUsage(){const r=[];if(!this.chained)return[];for(const{cb:o}of this.usageRegistry)try{let u=o();u instanceof lc&&(u=await u),r.push(UP(UP({},u),{},{direction:this.direction}))}catch(u){$.error("gather extension usage error",u)}return r}getDirection(){return this.direction}}class PP extends x0{constructor(r){super(),j(this,"name","AudioProcessorDestination"),j(this,"ID","0"),j(this,"inputTrack",void 0),j(this,"inputNode",void 0),j(this,"audioProcessorContext",void 0),j(this,"_source",void 0),this.audioProcessorContext=r}get kind(){return"audio"}get enabled(){return!0}pipe(){throw new _g(ea.NOT_SUPPORTED,"AudioProcessorDestination cannot pipe to any other Processor")}unpipe(){throw new _g(ea.NOT_SUPPORTED,"AudioProcessor cannot unpipe to any other Processor")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(sS.ON_TRACK,void 0),this.emit(sS.ON_NODE,void 0)}updateInput(r){if(r.context!==this.audioProcessorContext)throw new Error(`ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.
        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).`);r.track&&this.inputTrack!==r.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=r.track,this.emit(sS.ON_TRACK,this.inputTrack)),r.node&&this.inputNode!==r.node&&(this.audioProcessorContext.chained=!0,this.inputNode=r.node,this.emit(sS.ON_NODE,this.inputNode))}}class GP extends x0{set chained(r){this._chained=r}get chained(){return this._chained}constructor(r,o,u){super(),j(this,"constraintsMap",new Map),j(this,"statsRegistry",[]),j(this,"audioContext",void 0),j(this,"trackId",void 0),j(this,"direction",void 0),j(this,"usageRegistry",[]),j(this,"_chained",!1),this.audioContext=r,this.trackId=o,this.direction=u}async getConstraints(){return o_(this,DS.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(r,o){var u;return $.info("processor ".concat(o.name," requestApplyConstraints for ").concat(this.trackId)),r&&this.constraintsMap.set(o,r),m0(this,DS.REQUEST_UPDATE_CONSTRAINTS,Array.from(zR(u=this.constraintsMap).call(u)))}async requestRevertConstraints(r){var o;if(this.constraintsMap.has(r))return this.constraintsMap.delete(r),m0(this,DS.REQUEST_UPDATE_CONSTRAINTS,Array.from(zR(o=this.constraintsMap).call(o)))}registerStats(r,o,u){this.statsRegistry.find(h=>h.processorID===r.ID&&h.processorName===r.name&&h.type===o)||this.statsRegistry.push({processorName:r.name,processorID:r.ID,type:o,cb:u})}unregisterStats(r,o){const u=this.statsRegistry.findIndex(h=>h.processorID===r.ID&&h.processorName===r.name&&h.type===o);u!==-1&&this.statsRegistry.splice(u,1)}gatherStats(){const r=[];for(const{processorID:o,processorName:u,type:h,cb:f}of this.statsRegistry)try{const m=f();r.push({processorID:o,processorName:u,type:h,stats:m})}catch(m){$.error(new _g(ea.UNEXPECTED_ERROR,m.message))}return r}registerUsage(r,o){this.usageRegistry.find(u=>u.processorID===r.ID&&u.processorName===r.name)||this.usageRegistry.push({processorID:r.ID,processorName:r.name,cb:o})}unregisterUsage(r){const o=this.usageRegistry.findIndex(u=>u.processorID===r.ID&&u.processorName===r.name);o!==-1&&this.usageRegistry.splice(o,1)}async gatherUsage(){const r=[];if(!this.chained)return[];for(const{cb:o}of this.usageRegistry)try{let u=o();u instanceof lc&&(u=await u),r.push(UP(UP({},u),{},{direction:this.direction}))}catch(u){$.error("gather extension usage error",u)}return r}getDirection(){return this.direction}}class r4 extends x0{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),j(this,"context",void 0),j(this,"processSourceNode",void 0),j(this,"outputTrack",void 0),j(this,"processedNode",void 0),j(this,"clonedTrack",void 0),j(this,"outputNode",void 0),this.outputNode=new Lce}setVolume(){}createOutputTrack(){throw new _g(ea.NOT_SUPPORTED,"can not create output MediaStreamTrack when WebAudio disabled")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class Lce{disconnect(){}connect(){}}let Z1=null;class Mce{constructor(){j(this,"state","open"),j(this,"trigger",void 0),j(this,"tasks",[]),$.debug("[macro-task-queue] is created."),this.trigger=window.setTimeout(()=>{this.state="closed",$.debug("[macro-task-queue] will be closed, all remaining tasks will execute. [".concat(this.tasks.map(r=>r.key),"]")),this.trigger=void 0,this.tasks.forEach(r=>{let{func:o}=r;return o()}),this.tasks.length=0,$.debug("[macro-task-queue] is closed.")})}enqueue(r,o){this.state!=="closed"&&(this.tasks.push({key:r,func:o}),$.debug("[macro-task-queue] is queued, current queue ".concat(this.tasks.length,". ").concat(typeof r=="string"?r:"")))}runTask(r){if(this.state==="closed")return;const o=this.tasks.findIndex(u=>u.key===r);if(o!==-1){const u=this.tasks.splice(o,1);$.debug("[macro-task-queue] is unqueued, current queue ".concat(this.tasks.length,". ").concat(typeof r=="string"?r:"")),u[0].func()}}release(){this.trigger&&(this.state="closed",clearTimeout(this.trigger),this.trigger=void 0,this.tasks.length=0,$.debug("[macro-task-queue] is closed."))}}function i4(A){return function(r,o,u){var h;const f=(h=u.value)!==null&&h!==void 0?h:u.get,m=function(){Z1&&Z1.state==="open"&&Z1.runTask(A);for(var v=arguments.length,R=new Array(v),D=0;D<v;D++)R[D]=arguments[D];return f==null?void 0:f.apply(this,...R)};return u.value?u.value=m:u.get=m,u}}function q7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function o4(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?q7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):q7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class u0 extends z_{get _source(){return this._trackSource}set _source(r){this._trackSource=r}get processorContext(){return this._processorContext}set processorContext(r){this._processorContext=r}get processorDestination(){return this._processorDestination}set processorDestination(r){this._processorDestination=r}get isPlaying(){return this._useAudioElement?NS.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"LocalAudioTrack"}constructor(r,o,u,h,f){super(r,u),j(this,"trackMediaType","audio"),j(this,"_encoderConfig",void 0),j(this,"_trackSource",void 0),j(this,"_enabled",!0),j(this,"_volume",100),j(this,"_useAudioElement",!1),j(this,"_bypassWebAudio",!1),j(this,"processor",void 0),j(this,"_processorContext",void 0),j(this,"_processorDestination",void 0),j(this,"_getOriginVolumeLevel",void 0),this._encoderConfig=o,this._getOriginVolumeLevel=!!h;const m=()=>{this.processorContext=new GP(this._source.context,this.getTrackId(),"local"),this.processorDestination=new PP(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(bS.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})},v=f&&uS()&&!k7();la("DISABLE_WEBAUDIO")?(this._source=new r4,this._useAudioElement=!0,this._bypassWebAudio=!0):v?this._source=new r4:(this._source=new e4(r,!1,this._getOriginVolumeLevel?r:void 0),la("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0)),m(),!la("DISABLE_WEBAUDIO")&&v&&(Z1||(Z1=new Mce),Z1).enqueue("INIT_WEBAUDIO",()=>{this._source=new e4(r,!1,this._getOriginVolumeLevel?r:void 0),la("LOCAL_AUDIO_TRACK_USES_WEB_AUDIO")||(this._useAudioElement=!0),m(),this.emit(MP.UPDATE_TRACK_SOURCE)})}setVolume(r){h0(r,"volume",0,1e3),this._volume=r,this._source.setVolume(r/100),this._useAudioElement&&NS.setVolume(this.getTrackId(),r);try{if(this._bypassWebAudio)return void $.debug("[".concat(this.getTrackId(),"] setVolume returned because no pass through WebAudio."));const o=this._source.createOutputTrack();this._mediaStreamTrack!==o&&(this._mediaStreamTrack=o,m0(this,rQ.NEED_REPLACE_TRACK,this).then(()=>{$.debug("[".concat(this.getTrackId(),"] replace web audio track success"))}).catch(u=>{$.warning("[".concat(this.getTrackId(),"] replace web audio track failed"),u)}))}catch{}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(r){if(!this._useAudioElement||!kO()&&la("RESTRICTION_SET_PLAYBACK_DEVICE"))throw new _g(ea.NOT_SUPPORTED,"your browser does not support setting the audio output device");await NS.setSinkID(this.getTrackId(),r)}async setEnabled(r,o,u){return this._setEnabled(r,o,u)}async _setEnabled(r,o,u){if(!u){if(r===this._enabled)return;this.stateCheck("enabled",r)}if($.info("[".concat(this.getTrackId(),"] start setEnabled"),r),r){this._originMediaStreamTrack.enabled=!0;try{u||(this._enabled=!0),await m0(this,rQ.NEED_ENABLE_TRACK,this),$.info("[".concat(this.getTrackId(),"] setEnabled to ").concat(r," success"))}catch(h){throw u||(this._enabled=!1),$.error("[".concat(this.getTrackId(),"] setEnabled to true error"),h.toString()),h}}else{this._originMediaStreamTrack.enabled=!1,u||(this._enabled=!1);try{await m0(this,rQ.NEED_DISABLE_TRACK,this)}catch(h){throw u||(this._enabled=!0),$.error("[".concat(this.getTrackId(),"] setEnabled to false error"),h.toString()),h}}}async setMuted(r){r!==this._muted&&(this.stateCheck("muted",r),this._muted=r,this._originMediaStreamTrack.enabled=!r,$.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(r)),r?await m0(this,rQ.NEED_MUTE_TRACK,this):await m0(this,rQ.NEED_UNMUTE_TRACK,this))}getStats(){return MO(()=>{$.warning("[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead")},"localAudioTrackGetStatsWarning"),FS(this,rQ.GET_STATS)||o4({},W8)}setAudioFrameCallback(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!r)return this._source.removeAllListeners(bS.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(o),this._source.removeAllListeners(bS.ON_AUDIO_BUFFER),this._source.on(bS.ON_AUDIO_BUFFER,u=>r(u))}play(){$.debug("[".concat(this.getTrackId(),"] start audio playback")),this._useAudioElement?($.debug("[".concat(this.getTrackId(),"] start audio playback in element")),NS.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){$.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._useAudioElement?NS.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];$.debug("[".concat(this.getTrackId(),"] update player source track")),r&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&NS.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(r,o){this._originMediaStreamTrack!==r&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener("ended",this._handleTrackEnded),o&&this._originMediaStreamTrack.stop()),r.addEventListener("ended",this._handleTrackEnded),this._originMediaStreamTrack=r,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this.processor.updateInput({track:r,context:this.processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await m0(this,rQ.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(r))}renewMediaStreamTrack(r){return lc.resolve(void 0)}pipe(r){if(this._bypassWebAudio)throw new _g(ea.INVALID_OPERATION,"Can not process AudioTrack when bypassWebAudio set to true.");if(this.processor===r)return r;if(r._source)throw new _g(ea.INVALID_OPERATION,"Processor ".concat(r.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=r,this.processor._source=this,r.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),r}unpipe(){var r;if(!this.processor)return;const o=this.processor;(r=this._source.processSourceNode)===null||r===void 0||r.disconnect(),this.processor._source=!1,this.processor=void 0,o.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(sS.ON_TRACK,async r=>{r?r!==this._mediaStreamTrack&&(this._mediaStreamTrack=r,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(r),await m0(this,rQ.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await m0(this,rQ.NEED_REPLACE_TRACK,this))}),this.processorDestination.on(sS.ON_NODE,r=>{this._source.processedNode=r})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(sS.ON_TRACK),this.processorDestination.removeAllListeners(sS.ON_NODE)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(DS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(DS.REQUEST_CONSTRAINTS)}}td([i4("INIT_WEBAUDIO"),_o("design:type",Object),_o("design:paramtypes",[Object])],u0.prototype,"_source",null),td([i4("INIT_WEBAUDIO"),_o("design:type",GP),_o("design:paramtypes",[GP])],u0.prototype,"processorContext",null),td([i4("INIT_WEBAUDIO"),_o("design:type",PP),_o("design:paramtypes",[PP])],u0.prototype,"processorDestination",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r],throttleTime:300}),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",void 0)],u0.prototype,"setVolume",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],u0.prototype,"setPlaybackDevice",null),td([x1("LocalAudioTrack","_enabledMutex"),QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Object,Boolean]),_o("design:returntype",lc)],u0.prototype,"setEnabled",null),td([x1("LocalAudioTrack","_enabledMutex"),QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean]),_o("design:returntype",lc)],u0.prototype,"setMuted",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",Object)],u0.prototype,"getStats",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[Object,Number]),_o("design:returntype",void 0)],u0.prototype,"setAudioFrameCallback",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],u0.prototype,"play",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],u0.prototype,"stop",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],u0.prototype,"close",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r.name]}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",Object)],u0.prototype,"pipe",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],u0.prototype,"unpipe",null);class e1 extends u0{get __className__(){return"MicrophoneAudioTrack"}constructor(r,o,u,h){super(r,o.encoderConfig?LP(o.encoderConfig):{},h,la("GET_VOLUME_OF_MUTED_AUDIO_TRACK"),!0),j(this,"_config",void 0),j(this,"_deviceName","default"),j(this,"_constraints",void 0),j(this,"_originalConstraints",void 0),j(this,"_enabled",!0),this._config=o,this._constraints=u,this._originalConstraints=u,this._deviceName=r.label,typeof o.bypassWebAudio=="boolean"&&(this._bypassWebAudio=o.bypassWebAudio),(T1()||V6())&&E0.bindInterruptDetectorTrack(this),this.on(MP.UPDATE_TRACK_SOURCE,()=>{this.bindProcessorContextEvents()}),k7()&&this.bindProcessorContextEvents()}async setDevice(r){if($.info("[".concat(this.getTrackId(),"] start set device to ").concat(r)),this._enabled)try{const o=await sR.getDeviceById(r),u={};u.audio=o4({},this._constraints),u.audio.deviceId={exact:r},this._originMediaStreamTrack.stop();let h=null;try{h=await AR(u,this.getTrackId())}catch(f){throw $.error("[".concat(this.getTrackId(),"] setDevice failed"),f.toString()),h=await AR({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(h.getAudioTracks()[0],!1),f}await this._updateOriginMediaStreamTrack(h.getAudioTracks()[0],!1),this._deviceName=o.label,this._config.microphoneId=r,this._constraints.deviceId={exact:r}}catch(o){throw $.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}else try{const o=await sR.getDeviceById(r);this._deviceName=o.label,this._config.microphoneId=r,this._constraints.deviceId={exact:r}}catch(o){throw $.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}$.info("[".concat(this.getTrackId(),"] set device to ").concat(r," success"))}async setEnabled(r,o,u){if(o)return $.debug("[".concat(this.getTrackId(),"] setEnabled false (do not close microphone)")),await super._setEnabled(r);if(!u){if(r===this._enabled)return;this.stateCheck("enabled",r)}if($.info("[".concat(this.getTrackId(),"] start setEnabled"),r),!r){var h;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),(h=this._source.clonedTrack)===null||h===void 0||h.stop(),u||(this._enabled=!1);try{await m0(this,rQ.NEED_DISABLE_TRACK,this)}catch(v){throw $.error("[".concat(this.getTrackId(),"] setEnabled false failed"),v.toString()),v}return}const f=o4({},this._constraints),m=sR.searchDeviceIdByName(this._deviceName);m&&!f.deviceId&&(f.deviceId=m);try{u||(this._enabled=!0);const v=await AR({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(v.getAudioTracks()[0],!1),await m0(this,rQ.NEED_ENABLE_TRACK,this)}catch(v){throw u||(this._enabled=!1),$.error("[".concat(this.getTrackId(),"] setEnabled true failed"),v.toString()),v}$.info("[".concat(this.getTrackId(),"] setEnabled success"))}close(){super.close(),(T1()||V6())&&E0.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((gS()||nN())&&this._enabled&&!this._isClosed&&E0.duringInterruption){const r=async()=>{E0.off(S_.IOS_INTERRUPTION_END,r),this._enabled&&!this._isClosed&&($.debug("[".concat(this.getTrackId(),"] try capture microphone media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};E0.on(S_.IOS_INTERRUPTION_END,r)}else $.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(IT.TRACK_ENDED)}async renewMediaStreamTrack(r){const o=r||this._constraints,u=sR.searchDeviceIdByName(this._deviceName);if(u&&!o.deviceId&&(o.deviceId=u),this._constraints=o,this._enabled){this._originMediaStreamTrack.stop();const h=await AR({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(h.getAudioTracks()[0],!0)}}bindProcessorContextEvents(){this.processorContext.on(DS.REQUEST_UPDATE_CONSTRAINTS,async(r,o,u)=>{try{const h=Object.assign({},this._originalConstraints,...r);await this.renewMediaStreamTrack(h),o()}catch(h){u(h)}}),this.processorContext.on(DS.REQUEST_CONSTRAINTS,async r=>{r(this._originMediaStreamTrack.getSettings())})}}td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],e1.prototype,"setDevice",null),td([x1("MicrophoneAudioTrack","_enabledMutex"),QQ({argsMap:(A,r,o)=>[A.getTrackId(),r,o]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Boolean,Boolean]),_o("design:returntype",lc)],e1.prototype,"setEnabled",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],e1.prototype,"close",null);class CT extends u0{get __className__(){return"BufferSourceAudioTrack"}constructor(r,o,u,h){super(o.createOutputTrack(),u,h),j(this,"source",void 0),j(this,"_bufferSource",void 0),this.source=r,this._bufferSource=o,this._bufferSource.on(bS.AUDIO_SOURCE_STATE_CHANGE,f=>{this.safeEmit(IT.SOURCE_STATE_CHANGE,f)});try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(r){r&&this._bufferSource.updateOptions(r),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(r){this._bufferSource.seekAudioBuffer(r)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(r){h0(r,"speed",0),this._bufferSource.setAudioBufferPlaybackSpeed(r)}}td([QQ({argsMap:(A,r)=>[A.getTrackId(),r,A.duration]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",void 0)],CT.prototype,"startProcessAudioBuffer",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],CT.prototype,"pauseProcessAudioBuffer",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",void 0)],CT.prototype,"seekAudioBuffer",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],CT.prototype,"resumeProcessAudioBuffer",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],CT.prototype,"stopProcessAudioBuffer",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],CT.prototype,"close",null),td([QQ({argsMap:A=>[A.getTrackId()]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",void 0)],CT.prototype,"setAudioBufferPlaybackSpeed",null);class a_ extends u0{get __className__(){return"MixingAudioTrack"}get isActive(){for(const r of this.trackList)if(r._enabled&&!r._isClosed&&!r.muted)return!0;return!1}constructor(){const r=X1().createMediaStreamDestination();super(r.stream.getAudioTracks()[0],void 0,y0(8,"track-mix-")),j(this,"trackList",void 0),j(this,"destNode",void 0);try{this._mediaStreamTrack=this._source.createOutputTrack()}catch{}this.destNode=r,this.trackList=[]}hasAudioTrack(r){return this.trackList.indexOf(r)!==-1}addAudioTrack(r){this.trackList.indexOf(r)===-1?($.debug("add ".concat(r.getTrackId()," to mixing track")),r._source.outputNode.connect(this.destNode),this.trackList.push(r),this.updateEncoderConfig()):$.debug("track ".concat(r.getTrackId()," is already added"))}removeAudioTrack(r){if(this.trackList.indexOf(r)!==-1){$.debug("remove ".concat(r.getTrackId()," from mixing track"));try{r._source.outputNode.disconnect(this.destNode)}catch{}sP(this.trackList,r),this.updateEncoderConfig()}}updateEncoderConfig(){const r={};this.trackList.forEach(o=>{o._encoderConfig&&((o._encoderConfig.bitrate||0)>(r.bitrate||0)&&(r.bitrate=o._encoderConfig.bitrate),(o._encoderConfig.sampleRate||0)>(r.sampleRate||0)&&(r.sampleRate=o._encoderConfig.sampleRate),(o._encoderConfig.sampleSize||0)>(r.sampleSize||0)&&(r.sampleSize=o._encoderConfig.sampleSize),o._encoderConfig.stereo&&(r.stereo=!0))}),this._encoderConfig=r}_updateRtpTransceiver(r){this._rtpTransceiver!==r&&(this._rtpTransceiver=r,this.trackList.forEach(o=>{o instanceof a_?o.emit(q1.TRANSCEIVER_UPDATED,r):o._updateRtpTransceiver(r)}))}}function FP(A){const r={};A.facingMode&&(r.facingMode=A.facingMode),A.cameraId&&(r.deviceId={exact:A.cameraId});const o=sN(A.encoderConfig);return o.width!=null&&(r.width=o.width),o.height!=null&&(r.height=o.height),!p9()&&o.frameRate&&(r.frameRate=o.frameRate),o0().name===c0.EDGE&&typeof r.frameRate=="object"&&(r.frameRate.max=60),Q0()&&(r.frameRate={ideal:30,max:30}),r}function W7(A){const r={};if(p9()||(A.AGC!==void 0&&(r.autoGainControl=A.AGC),A.AEC!==void 0&&(r.echoCancellation=A.AEC),A.ANS!==void 0&&(r.noiseSuppression=A.ANS,kO()&&A.ANS&&(r.googHighpassFilter=A.ANS))),A.encoderConfig){const o=LP(A.encoderConfig);r.channelCount=o.stereo?2:1,r.sampleRate=o.sampleRate,r.sampleSize=o.sampleSize}return A.microphoneId&&(r.deviceId={exact:A.microphoneId}),oP()&&(r.sampleRate=void 0),r}class xce extends L7{set currentState(r){r!==this._currentState&&(this._currentState=r,this.safeEmit(bS.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),j(this,"audioBuffer",void 0),j(this,"sourceNode",void 0),j(this,"startPlayTime",0),j(this,"startPlayOffset",0),j(this,"pausePlayTime",0),j(this,"options",void 0),j(this,"currentLoopCount",0),j(this,"currentPlaybackSpeed",100),j(this,"_currentState","stopped"),this.audioBuffer=r,this.options=o,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?this.currentState==="stopped"?0:this.currentState==="paused"?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(r){this.currentState==="stopped"?(this.options=r,this.startPlayOffset=this.options.startPlayTime||0):$.warning("can not set audio source options")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState="playing"}pauseProcessAudioBuffer(){this.sourceNode&&this.currentState==="playing"&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState="paused")}seekAudioBuffer(r){this.sourceNode&&(this.sourceNode.onended=null,this.currentState==="playing"&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),this.currentState==="playing"?(this.startPlayOffset=r,this.startSourceNode()):this.currentState==="paused"&&(this.pausePlayTime=r))}resumeProcessAudioBuffer(){this.currentState==="paused"&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState="playing")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch{}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(r){this.sourceNode&&(this.currentState==="playing"&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=r/100),this.currentPlaybackSpeed=r}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const r=this.context.createBufferSource();return r.buffer=this.audioBuffer,r.loop=!!this.options.loop,r.connect(this.outputNode),r.playbackRate.value=this.currentPlaybackSpeed/100,r}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState="stopped",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const X7=new Map;async function Uce(A,r){let o=null;if(typeof A=="string"){const h=X7.get(A);if(h)return $.debug("use cached audio resource: ",A),h;try{o=(await XR(()=>RS.get(A,{responseType:"arraybuffer"}),void 0,void 0,{maxRetryCount:3})).data}catch(f){throw new _g(ea.FETCH_AUDIO_FILE_FAILED,f.toString())}}else o=await new lc((f,m)=>{const v=new FileReader;v.onload=R=>{R.target?f(R.target.result):m(new _g(ea.READ_LOCAL_AUDIO_FILE_ERROR))},v.onerror=()=>{m(new _g(ea.READ_LOCAL_AUDIO_FILE_ERROR))},v.readAsArrayBuffer(A)});const u=await function(h){const f=X1();return new lc((m,v)=>{f.decodeAudioData(h,R=>{m(R)},R=>{v(new _g(ea.DECODE_AUDIO_FILE_FAILED,R.toString()))})})}(o);return typeof A=="string"&&r&&X7.set(A,u),u}const A4=A=>{const r=document.createElement("canvas");return r.width=2,r.height=2,new lc((o,u)=>{r.toBlob(async h=>{if(r.remove(),h){const f=await z7(h);o({buffer:f,width:r.width,height:r.height})}else u(new _g(ea.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},A,1)})},z7=async A=>{const r=await A.arrayBuffer();return new Uint8Array(r)},PN=new class extends x0{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),j(this,"_lastHiddenTime",0),j(this,"_lastVisibleTime",0),document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),$.debug("document visibility went ".concat(document.visibilityState)),this.emit("VISIBILITY_CHANGE",document.visibilityState)})}};function Z7(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function $7(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?Z7(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):Z7(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class s4{get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(r){r!==this._videoElementStatus&&($.debug("[".concat(this.trackId,"] video-element-status change ").concat(this._videoElementStatus," => ").concat(r)),this._videoElementStatus=r)}constructor(r){j(this,"trackId",void 0),j(this,"config",void 0),j(this,"onFirstVideoFrameDecoded",void 0),j(this,"freezeTimeCounterList",[]),j(this,"renderFreezeAccTime",0),j(this,"isKeepLastFrame",!1),j(this,"timeUpdatedCount",0),j(this,"freezeTime",0),j(this,"playbackTime",0),j(this,"lastTimeUpdatedTime",0),j(this,"autoplayFailed",!1),j(this,"videoTrack",void 0),j(this,"videoElement",void 0),j(this,"cacheVideoElement",void 0),j(this,"videoElementCheckInterval",void 0),j(this,"_videoElementStatus",aS.NONE),j(this,"isGettingVideoDimensions",!1),j(this,"startGetVideoDimensions",()=>{const o=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return $.debug("[".concat(this.trackId,"] current video dimensions:"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(o,500)};!this.isGettingVideoDimensions&&o()}),j(this,"autoResumeAfterInterruption",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&E0.curState==="running"&&($.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(g9())),C9()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),j(this,"handleVideoEvents",o=>{switch(o.type){case"play":case"playing":this.startGetVideoDimensions(),this.videoElementStatus=aS.PLAYING;break;case"loadeddata":if(this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch{}this.cacheVideoElement=void 0}break;case"canplay":this.videoElementStatus=aS.CANPLAY;break;case"stalled":this.videoElementStatus=aS.STALLED;break;case"suspend":this.videoElementStatus=aS.SUSPEND;break;case"pause":this.videoElementStatus=aS.PAUSED,gS()||nN()||uS()&&this.autoplayFailed||!this.videoTrack||this.videoTrack.readyState!=="live"||($.debug("[track-".concat(this.trackId,"] video element paused, auto resume")),this.videoElement.play());break;case"waiting":this.videoElementStatus=aS.WAITING;break;case"abort":this.videoElementStatus=aS.ABORT;break;case"ended":this.videoElementStatus=aS.ENDED;break;case"emptied":this.videoElementStatus=aS.EMPTIED;break;case"error":{this.videoElementStatus=aS.ERROR;const u=this.videoElement.error;u&&$.error("[".concat(this.trackId,"] media error, code: ").concat(u.code,", message: ").concat(u.message));break}case"timeupdate":{const u=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=u);const h=u-this.lastTimeUpdatedTime,f=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=u,PN.lastVisibleTime<PN.lastHiddenTime||f<PN.lastHiddenTime||f<PN.lastVisibleTime)return;for(h>la("VIDEO_FREEZE_DURATION")&&(this.freezeTime+=h),this.playbackTime+=h;this.playbackTime>=6e3;){this.playbackTime-=6e3;const m=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(m),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}}),j(this,"autoResumeAfterInterruptionOnIOS15_16",()=>{this.videoTrack&&this.videoTrack.readyState==="live"&&($.debug("[track-".concat(this.trackId,"] video element paused, auto resume for ").concat(g9())),C9()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))}),this.trackId=r.trackId,this.config=r,r.element instanceof HTMLVideoElement?this.videoElement=r.element:this.videoElement=document.createElement("video"),E0.on(S_.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),E0.on(S_.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var r;return(r=this.videoElement.parentElement)!==null&&r!==void 0?r:void 0}updateConfig(r){this.config=r,this.trackId=r.trackId,r.element!==this.videoElement&&(this.destroy(),this.videoElement=r.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(r){this.videoTrack!==r&&(this.videoTrack=r,this.initVideoElement())}play(r){const o=this.videoElement.play();o&&o.catch&&o.catch(h=>{r&&H7(r,"video",h.message,this.trackId),h.name==="NotAllowedError"?($.warning("detected video element autoplay failed",h),this.autoplayFailed=!0,this.handleAutoPlayFailed()):$.warning("[".concat(this.trackId,"] play warning: "),h)});const u=o0();if((u.name==="Safari"&&Number(u.version)===15||T1())&&o&&o.then){const h=()=>{this.config.mirror&&(this.videoElement.style.transform="rotateY(180deg)")};o.then(h).catch(h)}}getCurrentFrame(){const r=document.createElement("canvas");r.width=this.videoElement.videoWidth,r.height=this.videoElement.videoHeight;const o=r.getContext("2d");if(!o)return $.error("create canvas context failed!"),new ImageData(2,2);o.drawImage(this.videoElement,0,0,r.width,r.height);const u=o.getImageData(0,0,r.width,r.height);return r.remove(),u}async getCurrentFrameToUint8Array(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const u=document.createElement("canvas");u.width=this.videoElement.videoWidth,u.height=this.videoElement.videoHeight;const h=u.getContext("2d");return h?(h.drawImage(this.videoElement,0,0,u.width,u.height),new lc((f,m)=>{u.toBlob(async v=>{if(u.remove(),v){const R=await z7(v);f({buffer:R,width:u.width,height:u.height})}else m(new _g(ea.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))},r,o<0?.1:o>1?1:o)})):await A4(r)}destroy(){E0.off(S_.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),E0.off(S_.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[]}initVideoElement(){if(this.videoElementStatus=aS.INIT,!this.videoElementCheckInterval&&(eX.forEach(f=>{this.videoElement.addEventListener(f,this.handleVideoEvents)}),this.videoElementCheckInterval=window.setInterval(()=>{(function(f){return f!==document.body&&document.body.contains(f)})(this.videoElement)||(this.videoElementStatus=aS.DESTROYED)},1e3),la("ENABLE_VIDEO_FRAME_CALLBACK"))){var r,o;let f;const m=(v,R)=>{if(this.videoElementStatus===aS.PLAYING){if(f){const L=R.presentationTime-f.presentationTime;L>la("VIDEO_FREEZE_DURATION")&&PN.lastVisibleTime>=PN.lastHiddenTime&&f.timestamp>PN.lastVisibleTime&&f.timestamp>PN.lastHiddenTime&&(this.renderFreezeAccTime+=L)}f=$7($7({},R),{},{timestamp:v})}var D,k;la("ENABLE_VIDEO_FRAME_CALLBACK")&&((D=(k=this.videoElement).requestVideoFrameCallback)===null||D===void 0||D.call(k,m))};(r=(o=this.videoElement).requestVideoFrameCallback)===null||r===void 0||r.call(o,m)}this.videoElement.controls=!1,this.videoElement.setAttribute("playsinline",""),oP()&&(this.videoElement.poster="noposter");const u=o0();u.name==="Safari"&&Number(u.version)===15||T1()||!this.config.mirror||(this.videoElement.style.transform="rotateY(180deg)"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit="cover",this.videoElement.setAttribute("muted",""),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Q0()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,Q0()&&this.videoElement.load());const h=this.videoElement.play();h!==void 0&&h.catch(f=>{$.debug("[".concat(this.trackId,"] playback interrupted"),f.toString())})}resetVideoElement(){eX.forEach(r=>{this.videoElement&&this.videoElement.removeEventListener(r,this.handleVideoEvents)}),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=aS.NONE}handleAutoPlayFailed(){const r=o=>{o.preventDefault(),this.videoElement.play().then(()=>{$.debug("[".concat(this.trackId,"] Video element for trackId:").concat(this.trackId," autoplay resumed."))}).catch(u=>{$.error(u)}),this.autoplayFailed=!1,OO()?document.body.removeEventListener("click",r,!0):(document.body.removeEventListener("touchstart",r,!0),document.body.removeEventListener("mousedown",r,!0))};OO()?document.body.addEventListener("click",r,!0):(document.body.addEventListener("touchstart",r,!0),document.body.addEventListener("mousedown",r,!0)),F7()}}const eX=["play","playing","loadeddata","canplay","pause","stalled","suspend","waiting","abort","emptied","ended","timeupdate","error"];class tX extends s4{constructor(r){super(r),j(this,"container",void 0),j(this,"slot",void 0),this.slot=r.element,this.updateConfig(r)}updateConfig(r){this.config=r,this.trackId=r.trackId;const o=r.element;o!==this.slot&&(this.destroy(),this.slot=o),this.createElements()}updateVideoTrack(r){this.videoTrack!==r&&(this.videoTrack=r,this.createElements())}play(r){var o;(o=this.container)!==null&&o!==void 0&&o.contains(this.videoElement)&&super.play(r)}getCurrentFrame(){var r;return(r=this.container)!==null&&r!==void 0&&r.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(r){var o;let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return(o=this.container)!==null&&o!==void 0&&o.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(r,u):await A4(r)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement("video"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch{}this.container=void 0}}createElements(){this.container||(this.container=document.createElement("div")),this.container.id="agora-video-player-".concat(this.trackId),this.container.style.width="100%",this.container.style.height="100%",this.container.style.position="relative",this.container.style.overflow="hidden",this.videoTrack?(this.container.style.backgroundColor="black",la("KEEP_LAST_FRAME")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var r;!this.container||(r=this.container)!==null&&r!==void 0&&r.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id="video_".concat(this.trackId),this.videoElement.className="agora_video_player",this.videoElement.style.width="100%",this.videoElement.style.height="100%",this.videoElement.style.position="absolute",this.videoElement.style.left="0",this.videoElement.style.top="0"}unmountedVideoElement(){var r;if((r=this.container)!==null&&r!==void 0&&r.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch{}this.videoElement=document.createElement("video")}}resetVideoElement(){var r;(r=this.container)!==null&&r!==void 0&&r.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement("video"))}getContainerElement(){return this.container}}function nX(A){return new lc((r,o)=>{let u=!1;const h=document.createElement("video");h.setAttribute("autoplay",""),h.setAttribute("muted",""),h.muted=!0,h.autoplay=!0,h.setAttribute("playsinline",""),h.setAttribute("style","position: fixed; top: 0; left: 0; width: 1px; height: 1px"),document.body.appendChild(h);const f=gS()?"canplay":"playing";h.addEventListener(f,()=>{const m=h.videoWidth,v=h.videoHeight;!m&&Q0()||(u=!0,h.srcObject=null,h.remove(),r([m,v]))}),h.srcObject=new MediaStream([A]),h.play().catch(uP),setTimeout(()=>{u||(h.srcObject=null,h.remove(),r([h.videoWidth,h.videoHeight]))},4e3)})}const Pce=async(A,r,o)=>{const u=function(m){const v=[];for(let R=0;R<m.length;R+=2)v.push(parseInt(m.slice(R,R+2),16));return Uint8Array.from(v)}(function(m){const v="0123456789abcdef";function R(kd){let _h,RQ="";for(_h=0;_h<=3;_h++)RQ+=v.charAt(kd>>8*_h+4&15)+v.charAt(kd>>8*_h&15);return RQ}function D(kd,_h){const RQ=(65535&kd)+(65535&_h);return(kd>>16)+(_h>>16)+(RQ>>16)<<16|65535&RQ}function k(kd,_h,RQ,jQ,w0,E_){return D(function(O0,YS){return O0<<YS|O0>>>32-YS}(D(D(_h,kd),D(jQ,E_)),w0),RQ)}function L(kd,_h,RQ,jQ,w0,E_,O0){return k(_h&RQ|~_h&jQ,kd,_h,w0,E_,O0)}function q(kd,_h,RQ,jQ,w0,E_,O0){return k(_h&jQ|RQ&~jQ,kd,_h,w0,E_,O0)}function z(kd,_h,RQ,jQ,w0,E_,O0){return k(_h^RQ^jQ,kd,_h,w0,E_,O0)}function _s(kd,_h,RQ,jQ,w0,E_,O0){return k(RQ^(_h|~jQ),kd,_h,w0,E_,O0)}const _n=function(kd){let _h;const RQ=1+(kd.length+8>>6),jQ=new Array(16*RQ);for(_h=0;_h<16*RQ;_h++)jQ[_h]=0;for(_h=0;_h<kd.length;_h++)jQ[_h>>2]|=kd.charCodeAt(_h)<<_h%4*8;return jQ[_h>>2]|=128<<_h%4*8,jQ[16*RQ-2]=8*kd.length,jQ}(m);let _i,Aa,Ea,Qa,Vc,Fa=1732584193,Va=-271733879,_c=-1732584194,ec=271733878;for(_i=0;_i<_n.length;_i+=16)Aa=Fa,Ea=Va,Qa=_c,Vc=ec,Fa=L(Fa,Va,_c,ec,_n[_i+0],7,-680876936),ec=L(ec,Fa,Va,_c,_n[_i+1],12,-389564586),_c=L(_c,ec,Fa,Va,_n[_i+2],17,606105819),Va=L(Va,_c,ec,Fa,_n[_i+3],22,-1044525330),Fa=L(Fa,Va,_c,ec,_n[_i+4],7,-176418897),ec=L(ec,Fa,Va,_c,_n[_i+5],12,1200080426),_c=L(_c,ec,Fa,Va,_n[_i+6],17,-1473231341),Va=L(Va,_c,ec,Fa,_n[_i+7],22,-45705983),Fa=L(Fa,Va,_c,ec,_n[_i+8],7,1770035416),ec=L(ec,Fa,Va,_c,_n[_i+9],12,-1958414417),_c=L(_c,ec,Fa,Va,_n[_i+10],17,-42063),Va=L(Va,_c,ec,Fa,_n[_i+11],22,-1990404162),Fa=L(Fa,Va,_c,ec,_n[_i+12],7,1804603682),ec=L(ec,Fa,Va,_c,_n[_i+13],12,-40341101),_c=L(_c,ec,Fa,Va,_n[_i+14],17,-1502002290),Va=L(Va,_c,ec,Fa,_n[_i+15],22,1236535329),Fa=q(Fa,Va,_c,ec,_n[_i+1],5,-165796510),ec=q(ec,Fa,Va,_c,_n[_i+6],9,-1069501632),_c=q(_c,ec,Fa,Va,_n[_i+11],14,643717713),Va=q(Va,_c,ec,Fa,_n[_i+0],20,-373897302),Fa=q(Fa,Va,_c,ec,_n[_i+5],5,-701558691),ec=q(ec,Fa,Va,_c,_n[_i+10],9,38016083),_c=q(_c,ec,Fa,Va,_n[_i+15],14,-660478335),Va=q(Va,_c,ec,Fa,_n[_i+4],20,-405537848),Fa=q(Fa,Va,_c,ec,_n[_i+9],5,568446438),ec=q(ec,Fa,Va,_c,_n[_i+14],9,-1019803690),_c=q(_c,ec,Fa,Va,_n[_i+3],14,-187363961),Va=q(Va,_c,ec,Fa,_n[_i+8],20,1163531501),Fa=q(Fa,Va,_c,ec,_n[_i+13],5,-1444681467),ec=q(ec,Fa,Va,_c,_n[_i+2],9,-51403784),_c=q(_c,ec,Fa,Va,_n[_i+7],14,1735328473),Va=q(Va,_c,ec,Fa,_n[_i+12],20,-1926607734),Fa=z(Fa,Va,_c,ec,_n[_i+5],4,-378558),ec=z(ec,Fa,Va,_c,_n[_i+8],11,-2022574463),_c=z(_c,ec,Fa,Va,_n[_i+11],16,1839030562),Va=z(Va,_c,ec,Fa,_n[_i+14],23,-35309556),Fa=z(Fa,Va,_c,ec,_n[_i+1],4,-1530992060),ec=z(ec,Fa,Va,_c,_n[_i+4],11,1272893353),_c=z(_c,ec,Fa,Va,_n[_i+7],16,-155497632),Va=z(Va,_c,ec,Fa,_n[_i+10],23,-1094730640),Fa=z(Fa,Va,_c,ec,_n[_i+13],4,681279174),ec=z(ec,Fa,Va,_c,_n[_i+0],11,-358537222),_c=z(_c,ec,Fa,Va,_n[_i+3],16,-722521979),Va=z(Va,_c,ec,Fa,_n[_i+6],23,76029189),Fa=z(Fa,Va,_c,ec,_n[_i+9],4,-640364487),ec=z(ec,Fa,Va,_c,_n[_i+12],11,-421815835),_c=z(_c,ec,Fa,Va,_n[_i+15],16,530742520),Va=z(Va,_c,ec,Fa,_n[_i+2],23,-995338651),Fa=_s(Fa,Va,_c,ec,_n[_i+0],6,-198630844),ec=_s(ec,Fa,Va,_c,_n[_i+7],10,1126891415),_c=_s(_c,ec,Fa,Va,_n[_i+14],15,-1416354905),Va=_s(Va,_c,ec,Fa,_n[_i+5],21,-57434055),Fa=_s(Fa,Va,_c,ec,_n[_i+12],6,1700485571),ec=_s(ec,Fa,Va,_c,_n[_i+3],10,-1894986606),_c=_s(_c,ec,Fa,Va,_n[_i+10],15,-1051523),Va=_s(Va,_c,ec,Fa,_n[_i+1],21,-2054922799),Fa=_s(Fa,Va,_c,ec,_n[_i+8],6,1873313359),ec=_s(ec,Fa,Va,_c,_n[_i+15],10,-30611744),_c=_s(_c,ec,Fa,Va,_n[_i+6],15,-1560198380),Va=_s(Va,_c,ec,Fa,_n[_i+13],21,1309151649),Fa=_s(Fa,Va,_c,ec,_n[_i+4],6,-145523070),ec=_s(ec,Fa,Va,_c,_n[_i+11],10,-1120210379),_c=_s(_c,ec,Fa,Va,_n[_i+2],15,718787259),Va=_s(Va,_c,ec,Fa,_n[_i+9],21,-343485551),Fa=D(Fa,Aa),Va=D(Va,Ea),_c=D(_c,Qa),ec=D(ec,Vc);return R(Fa)+R(Va)+R(_c)+R(ec)}(""+r+o)).slice(0,16),h=u.slice(0,12),f=await window.crypto.subtle.importKey("raw",u,"AES-GCM",!0,["encrypt"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:"AES-GCM",iv:h},f,A))},rX=async(A,r,o)=>await Pce(A.buffer,r,o);function iX(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function cR(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?iX(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):iX(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class HQ extends z_{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==aS.PLAYING)}get processorContext(){return this._processorContext}set processorContext(r){this._processorContext=r}get __className__(){return"LocalVideoTrack"}constructor(r,o,u,h,f,m){if(super(r,f),j(this,"trackMediaType","video"),j(this,"_player",void 0),j(this,"isUseScaleResolutionDownBy",!1),j(this,"_videoVisibleTimer",null),j(this,"_statsTimer",null),j(this,"_previousVideoVisibleStatus",void 0),j(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),j(this,"_encoderConfig",void 0),j(this,"_scalabilityMode",{numSpatialLayers:1,numTemporalLayers:1}),j(this,"_optimizationMode",void 0),j(this,"_videoHeight",void 0),j(this,"_videoWidth",void 0),j(this,"_forceBitrateLimit",void 0),j(this,"_enabled",!0),j(this,"processorDestination",void 0),j(this,"_processorContext",void 0),uS()){const{width:v,height:R}=r.getSettings();this._videoWidth=v,this._videoHeight=R}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=o,this._scalabilityMode=u,this._optimizationMode=h,this._hints=m||[],this._hints.indexOf(R0.SCREEN_TRACK)===-1)this.updateBitrateFromProfile();else if(function(v,R,D){const k=o0();return!(k.name!==v||!k.osVersion)&&Number(k.version)===R}(c0.CHROME,115)&&rP().indexOf("Windows")!==-1){const v=function(R,D){if("VideoFrame"in window&&"TransformStream"in window&&f0().supportWebRTCInsertableStream){const k=new MediaStreamTrackProcessor(R),L=new MediaStreamTrackGenerator({kind:"video"});let q,z,_s=Date.now();const _n=()=>{_i&&(clearInterval(_i),_i=void 0),q&&(q.close(),q=void 0),R.stop(),z=void 0,L.removeEventListener("ended",_n)};let _i=window.setInterval(()=>{if(z&&q&&Date.now()-_s>1e3)try{L.readyState==="live"?z.enqueue(q.clone()):_n()}catch{_n()}},1e3);const Aa=new TransformStream({transform:(Ea,Qa)=>{L.readyState==="live"?(z=Qa,_s=Date.now(),q===void 0?(q=Ea,Qa.enqueue(Ea.clone())):(Qa.enqueue(q),q=Ea)):Ea.close()}});return L.addEventListener("ended",_n),k.readable.pipeThrough(Aa).pipeTo(L.writable),L}}(r);v&&($.info("local screen video track begin to inject frame"),this._mediaStreamTrack=v)}o&&this._hints.indexOf(R0.CUSTOM_TRACK)!==-1&&this.setEncoderConfiguration(o),this.processorContext=new V7(this.getTrackId(),"local"),this.processorDestination=new J7(this.processorContext),this.bindProcessorDestinationEvents()}play(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof r=="string"){const h=document.getElementById(r);h?r=h:($.warning("[".concat(this.getTrackId(),'] can not find "#').concat(r,'" element, use document.body')),r=document.body)}$.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(r instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(o));const u=cR(cR(cR({},this._getDefaultPlayerConfig()),o),{},{trackId:this.getTrackId(),element:r});this._player?this._player.updateConfig(u):(r instanceof HTMLVideoElement?this._player=new s4(u):this._player=new tX(u),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const h=this.getVideoElementVisibleStatus();this.safeEmit(IT.VIDEO_ELEMENT_VISIBLE_STATUS,h)}catch{}},la("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._statsTimer&&(this.isUseScaleResolutionDownBy=!1,window.clearInterval(this._statsTimer),this._statsTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,$.debug("[".concat(this.getTrackId(),"] stop video playback")))}async setEnabled(r,o){if(!o){if(r===this._enabled)return;this.stateCheck("enabled",r)}if($.info("[".concat(this.getTrackId(),"] start setEnabled"),r),!r){this._originMediaStreamTrack.enabled=!1;try{await m0(this,rQ.NEED_DISABLE_TRACK,this)}catch(u){throw $.error("[".concat(this.getTrackId(),"] setEnabled to false error"),u.toString()),u}return o||(this._enabled=!1),void $.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}this._originMediaStreamTrack.enabled=!0;try{await m0(this,rQ.NEED_ENABLE_TRACK,this)}catch(u){throw $.error("[".concat(this.getTrackId(),"] setEnabled to true error"),u.toString()),u}$.info("[".concat(this.getTrackId(),"] setEnabled to true success")),o||(this._enabled=!0)}async setMuted(r){r!==this._muted&&(this.stateCheck("muted",r),this._muted=r,this._originMediaStreamTrack.enabled=!r,$.debug("[".concat(this.getTrackId(),"] start set muted: ").concat(r)),r?await m0(this,rQ.NEED_MUTE_TRACK,this):await m0(this,rQ.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(r,o){if(!this._enabled)throw new _g(ea.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");if(r==="720p_auto"?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),r=sN(r),this._forceBitrateLimit&&(r.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:r.bitrateMax,r.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:r.bitrateMin),r.width||r.height||r.frameRate){const u=FP({encoderConfig:r});(uS()||gS()||nN())&&(u.deviceId=void 0),$.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(r),JSON.stringify(u));try{await this._originMediaStreamTrack.applyConstraints(u),this.updateMediaStreamTrackResolution()}catch(h){const f=new _g(ea.UNEXPECTED_ERROR,h.toString());throw $.error("[".concat(this.getTrackId(),"] applyConstraints error"),f.toString()),f}}this._encoderConfig=r,this._hints.indexOf(R0.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await m0(this,rQ.NEED_UPDATE_VIDEO_ENCODER,this)}catch(u){return u.throw($)}}getStats(){return MO(()=>{$.warning("[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead")},"localVideoTrackGetStatsWarning"),FS(this,rQ.GET_STATS)||cR({},X8)}async setBeautyEffect(r){$.error("LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(r,o):await A4(r)}async setBitrateLimit(r){if($.debug("[".concat(this.getTrackId(),"] set bitrate limit, ").concat(JSON.stringify(r))),r){this._forceBitrateLimit=r,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<r.max_bitrate?this._encoderConfig.bitrateMax:r.max_bitrate:this._encoderConfig.bitrateMax=r.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=r.min_bitrate);try{await m0(this,rQ.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw($)}}}async setOptimizationMode(r){if(r!=="motion"&&r!=="detail"&&r!=="balanced")return void $.error(ea.INVALID_PARAMS,"optimization mode must be motion, detail or balanced");const o=this._optimizationMode;try{this._optimizationMode=r,await m0(this,rQ.SET_OPTIMIZATION_MODE,this)}catch(u){throw this._optimizationMode=o,$.error("[".concat(this.getTrackId(),"] set optimization mode failed"),u.toString()),u}$.info("[".concat(this.getTrackId(),"] set optimization mode success (").concat(r,")"))}setScalabiltyMode(r){if(r.numSpatialLayers===1&&r.numTemporalLayers!==1)return $.error(ea.INVALID_PARAMS,"scalability mode currently not supported, no SVC."),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=r,$.info("[".concat(this.getTrackId(),"] set scalability mode success (").concat(r,")"))}updateMediaStreamTrackResolution(){nX(this._originMediaStreamTrack).then(r=>{let[o,u]=r;this._videoHeight=u,this._videoWidth=o}).catch(uP)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:"contain"}}async setSenderConfiguration(r){if(!this._enabled)throw new _g(ea.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");$.debug("[".concat(this.getTrackId(),"] setSenderConfiguration applyConstraints"),JSON.stringify(r)),r=sN(r),this._forceBitrateLimit&&(r.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:r.bitrateMax,r.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:r.bitrateMin),this._encoderConfig=r,this._hints.indexOf(R0.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await m0(this,rQ.NEED_UPDATE_VIDEO_ENCODER,this)}catch(o){return o.throw($)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:r,height:o,frameRate:u}=this.getMediaStreamTrackSettings();if(!r||!o||!u)return;const[h,f]=function(m,v,R,D){let k;const L=200*Math.pow(R/15,.6)*Math.pow(m*v/640/360,.75),q=L;if(D==="STANDARD_BITRATE")k=4*L;else{if(D!=="COMPATIABLE_BITRATE")return;k=2*L}return[Math.floor(k),Math.floor(q)]}(r,o,u,la("BITRATE_ADAPTER_TYPE"))||[void 0,void 0];this._encoderConfig.bitrateMin||this._encoderConfig.bitrateMax||(this._encoderConfig.bitrateMin=f,this._encoderConfig.bitrateMax=h,$.debug("[".concat(this.getTrackId(),"] update bitrate from profile, [w: ").concat(r,", h: ").concat(o,", fps: ").concat(u,"] => [brMax: ").concat(h,", brMin: ").concat(f,"]")))}getVideoElementVisibleStatus(){try{var r,o;const u=this==null||(r=this._player)===null||r===void 0?void 0:r.getContainerElement(),h={track:this,element:this==null||(o=this._player)===null||o===void 0?void 0:o.getVideoElement(),slot:u==null?void 0:u.parentElement},{element:f,slot:m}=h;if(this.isPlaying&&f instanceof HTMLVideoElement&&m instanceof HTMLElement){const v=m9.checkOneElementVisible(f),R=Object.assign({},v);if(R.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=R.visible;const D=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});R.visible?D.onSuccess("Video is visible"):D.onSuccess("Invisible because of ".concat(R.reason))}return R}return}catch(u){throw new _g(ea.GET_VIDEO_ELEMENT_VISIBLE_ERROR,u.message)}}async renewMediaStreamTrack(r){}pipe(r){if(this.processor===r)return r;if(r._source)throw new _g(ea.INVALID_OPERATION,"Processor ".concat(r.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=r,this.processor._source=this,r.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),r}unpipe(){if(!this.processor)return;const r=this.processor;this.processor._source=void 0,this.processor=void 0,r.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=this._encoderConfig;r&&(u=cR(cR({},u),sN(r))),u=HT(u);const h=y0(8,"track-video-cloned-"),f=new HQ(o?this._mediaStreamTrack.clone():this._mediaStreamTrack,u,HT(this._scalabilityMode),this._optimizationMode,h,HT(this._hints));return r&&u&&f.setEncoderConfiguration(u),$.debug("clone video track from ".concat(this.getTrackId()," to ").concat(h,", clone ").concat(o)),f}async replaceTrack(r,o){if(!(r instanceof MediaStreamTrack))throw new _g(ea.INVALID_PARAMS,"track should be an instance of MediaStreamTrack");if(r.kind!=="video")throw new _g(ea.INVALID_PARAMS,"track should be a video MediaStreamTrack");await this._updateOriginMediaStreamTrack(r,o,!0),this.updateMediaStreamTrackResolution()}startMonitorStats(){if(!uS()&&!gS())return;this._statsTimer&&window.clearInterval(this._statsTimer);let r=2,o=kP[r],u=-1,h=Date.now();const f=m=>{m>2||m<0||(h=Date.now(),o=kP[m],this.setSenderConfiguration(o))};this.isUseScaleResolutionDownBy=!0,this._statsTimer=window.setInterval(()=>{const m=this.getStats(),v=FS(this,rQ.GET_RTC_STATS);if(m.sendPackets>0&&v){u===-1&&(u=Date.now());const R=Date.now();if(R-u<1e3||R-h<la("PROFILE_SWITCH_INTERVAL"))return;const D=m.sendFrameRate,k=.6*o.frameRate,L=.9*o.frameRate;typeof D=="number"&&D>0&&D<k?r>0&&(r--,f(r),$.debug("[".concat(this.getTrackId(),"] step down for fps ").concat(D,", switchProfile to ").concat(r))):v.OutgoingAvailableBandwidth<o.bitrateMin?r>0&&(r--,f(r),$.debug("[".concat(this.getTrackId(),"] step down for OutgoingAvailableBandwidth ").concat(v.OutgoingAvailableBandwidth,", bitrateMin ").concat(o.bitrateMin,", switchProfile to ").concat(r))):typeof D=="number"&&D>L&&r<kP.length-1&&v.OutgoingAvailableBandwidth>1.2*kP[r+1].bitrateMin&&(r++,f(r),$.debug("[".concat(this.getTrackId(),"] step up for fps ").concat(D,", OutgoingAvailableBandwidth ").concat(v.OutgoingAvailableBandwidth,", switchProfile to ").concat(r)))}},la("CHECK_LOCAL_STATS_INTERVAL"))}bindProcessorDestinationEvents(){this.processorDestination.on(sS.ON_TRACK,async r=>{r?r!==this._mediaStreamTrack&&(this._mediaStreamTrack=r,this._updatePlayerSource(),await m0(this,rQ.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await m0(this,rQ.NEED_REPLACE_TRACK,this))})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(sS.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(DS.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(DS.REQUEST_CONSTRAINTS)}}td([QQ({argsMap:(A,r,o)=>[A.getTrackId(),typeof r=="string"?r:r instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",o]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Object,Object]),_o("design:returntype",void 0)],HQ.prototype,"play",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],HQ.prototype,"stop",null),td([x1("LocalVideoTrack","_enabledMutex"),QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Boolean]),_o("design:returntype",lc)],HQ.prototype,"setEnabled",null),td([x1("LocalVideoTrack","_enabledMutex"),QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean]),_o("design:returntype",lc)],HQ.prototype,"setMuted",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Object,Boolean]),_o("design:returntype",lc)],HQ.prototype,"setEncoderConfiguration",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",Object)],HQ.prototype,"getStats",null),td([QQ({argsMap:(A,r,o)=>[A.getTrackId(),r,o]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Object]),_o("design:returntype",lc)],HQ.prototype,"setBeautyEffect",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",ImageData)],HQ.prototype,"getCurrentFrameData",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[String,Number]),_o("design:returntype",lc)],HQ.prototype,"getCurrentFrameImage",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],HQ.prototype,"setBitrateLimit",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],HQ.prototype,"setOptimizationMode",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",void 0)],HQ.prototype,"setScalabiltyMode",null),td([z0(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],HQ.prototype,"updateMediaStreamTrackResolution",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r.name]}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",Object)],HQ.prototype,"pipe",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],HQ.prototype,"unpipe",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],HQ.prototype,"close",null),td([QQ({argsMap:(A,r,o)=>[A.getTrackId(),r.label,o]}),_o("design:type",Function),_o("design:paramtypes",[MediaStreamTrack,Boolean]),_o("design:returntype",lc)],HQ.prototype,"replaceTrack",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],HQ.prototype,"startMonitorStats",null);class hT extends HQ{get __className__(){return"CameraVideoTrack"}constructor(r,o,u,h,f,m){super(r,sN(o.encoderConfig),h,f,m),j(this,"_config",void 0),j(this,"_originalConstraints",void 0),j(this,"_constraints",void 0),j(this,"_enabled",!0),j(this,"_deviceName","default"),j(this,"tryResumeVideoForIOS15_16WeChat",async()=>{(T1()||V6())&&!function(){const v=o0();if(v.os!==h_.IOS||!v.osVersion)return!1;const R=v.osVersion.split(".");return Number(R[0])===15&&Number(R[1])>=2}()&&h9()&&this._enabled&&!this._isClosed&&($.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS 15 device on WeChat.")),await this.renewMediaStreamTrack())}),this._config=o,this._originalConstraints=u,this._constraints=u,this._deviceName=r.label,this._encoderConfig=sN(this._config.encoderConfig),E0.on(S_.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),E0.on(S_.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(r){return typeof r=="string"?this._setDeviceById(r):r.deviceId?this._setDeviceById(r.deviceId):r.facingMode?this._setDeviceByFacingModel(r.facingMode):void 0}async _setDeviceById(r){if($.info("[".concat(this.getTrackId(),"] set device to ").concat(r)),this._enabled)try{const o=await sR.getDeviceById(r),u={};u.video=cR({},this._constraints),u.video.deviceId={exact:r},u.video.facingMode=void 0,this._originMediaStreamTrack.stop();let h=null;try{h=await AR(u,this.getTrackId())}catch(f){throw $.error("[".concat(this.getTrackId(),"] setDevice failed"),f.toString()),h=await AR({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(h.getVideoTracks()[0],!1),f}await this._updateOriginMediaStreamTrack(h.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=o.label,this._config.cameraId=r,this._constraints.deviceId={exact:r}}catch(o){throw $.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}else try{const o=await sR.getDeviceById(r);this._deviceName=o.label,this._config.cameraId=r,this._constraints.deviceId={exact:r}}catch(o){throw $.error("[".concat(this.getTrackId(),"] setDevice error"),o.toString()),o}$.info("[".concat(this.getTrackId(),"] setDevice success"))}async _setDeviceByFacingModel(r){$.info("[".concat(this.getTrackId(),"] set facingMode ").concat(r));const o={video:cR(cR({},this._constraints),{},{deviceId:void 0,facingMode:{exact:r}})};if(this._enabled){this._originMediaStreamTrack.stop();let u=null;try{u=await AR(o,this.getTrackId())}catch(h){throw $.error("[".concat(this.getTrackId(),"] setDeviceByFacingModel failed"),h.toString()),u=await AR({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(u.getVideoTracks()[0],!1),h}await this._updateOriginMediaStreamTrack(u.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName="",this._config.facingMode=r,this._config.cameraId=void 0,this._constraints=cR({},o.video),$.info("[".concat(this.getTrackId(),"] setDeviceByFacingModel success"))}async setEnabled(r,o){if(!o){if(r===this._enabled)return;this.stateCheck("enabled",r)}if($.info("[".concat(this.getTrackId(),"] start setEnabled"),r),r){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const u=await AR({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(u.getVideoTracks()[0],!1)}await m0(this,rQ.NEED_ENABLE_TRACK,this)}catch(u){throw $.error("[".concat(this.getTrackId(),"] setEnabled true error"),u.toString()),u}this.updateMediaStreamTrackResolution(),$.info("[".concat(this.getTrackId(),"] setEnabled to true success")),o||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),o||(this._enabled=!1);try{await m0(this,rQ.NEED_DISABLE_TRACK,this)}catch(u){throw $.error("[".concat(this.getTrackId(),"] setEnabled to false error"),u.toString()),u}$.info("[".concat(this.getTrackId(),"] setEnabled to false success"))}}async setEncoderConfiguration(r,o){if(!this._enabled)throw new _g(ea.TRACK_IS_DISABLED,"can not set encoder configuration when track is disabled");r==="720p_auto"?this.startMonitorStats():this._statsTimer&&(window.clearInterval(this._statsTimer),this._statsTimer=null),r=sN(r),this._forceBitrateLimit&&(r.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:r.bitrateMax,r.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:r.bitrateMin);const u=S0(this._config);u.encoderConfig=r;const h=FP(u);(uS()||gS()||nN())&&(h.deviceId=void 0),$.debug("[".concat(this.getTrackId(),"] setEncoderConfiguration applyConstraints"),JSON.stringify(r),JSON.stringify(h));try{await this._originMediaStreamTrack.applyConstraints(h),this.updateMediaStreamTrackResolution()}catch(f){const m=new _g(ea.UNEXPECTED_ERROR,f.toString());throw $.error("[".concat(this.getTrackId(),"] applyConstraints error"),m.toString()),m}this._config=u,this._constraints=h,this._originalConstraints=h,this._encoderConfig=r,this._hints.indexOf(R0.SCREEN_TRACK)===-1&&this.updateBitrateFromProfile();try{await m0(this,rQ.NEED_UPDATE_VIDEO_ENCODER,this)}catch(f){return f.throw($)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:"cover"}}onTrackEnded(){if((gS()||nN())&&this._enabled&&!this._isClosed&&E0.duringInterruption){const r=async()=>{E0.off(S_.IOS_INTERRUPTION_END,r),this._enabled&&!this._isClosed&&($.debug("[".concat(this.getTrackId(),"] try capture camera media device for interrupted iOS device.")),await this.setEnabled(!1),await this.setEnabled(!0))};E0.on(S_.IOS_INTERRUPTION_END,r)}else $.debug("[".concat(this.getTrackId(),"] track ended")),this.safeEmit(IT.TRACK_ENDED)}async renewMediaStreamTrack(r){const o=r||this._constraints,u=sR.searchDeviceIdByName(this._deviceName);if(u&&!o.deviceId&&(o.deviceId={exact:u}),this._enabled){const h=await AR({video:o},this.getTrackId());this._constraints=o,await this._updateOriginMediaStreamTrack(h.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),E0.off(S_.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),E0.off(S_.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],u=this._encoderConfig;r&&(u=cR(cR({},u),sN(r))),u=HT(u);const h=y0(8,"track-cam-cloned-"),f=new hT(o?this._mediaStreamTrack.clone():this._mediaStreamTrack,HT(cR(cR({},this._config),{},{encoderConfig:u})),HT(this._constraints),HT(this._scalabilityMode),this._optimizationMode,h);return r&&u&&f.setEncoderConfiguration(u),$.debug("clone track from ".concat(this.getTrackId()," to ").concat(h,", clone ").concat(o)),f}bindProcessorContextEvents(){this.processorContext.on(DS.REQUEST_UPDATE_CONSTRAINTS,async(r,o,u)=>{try{const h=Object.assign({},this._originalConstraints,...r);await this.renewMediaStreamTrack(h),o()}catch(h){u(h)}}),this.processorContext.on(DS.REQUEST_CONSTRAINTS,async r=>{r(this._originMediaStreamTrack.getSettings())})}}function oX(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function KP(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?oX(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):oX(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function a4(A,r,o,u){o.optimizationMode&&(u&&u.width&&u.height?(o.encoderConfig=KP(KP({},u),{},{bitrateMin:u.bitrateMin,bitrateMax:u.bitrateMax}),o.optimizationMode!=="motion"&&o.optimizationMode!=="detail"||(r.contentHint=o.optimizationMode,r.contentHint===o.optimizationMode?$.debug("[".concat(A,"] set content hint to"),o.optimizationMode):$.debug("[".concat(A,"] set content hint failed")))):$.warning("[".concat(A,"] can not apply optimization mode bitrate config, no encoderConfig")))}function AX(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function jP(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?AX(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):AX(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],hT.prototype,"setDevice",null),td([x1("CameraVideoTrack","_enabledMutex"),QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Boolean]),_o("design:returntype",lc)],hT.prototype,"setEnabled",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),z0(),_o("design:type",Function),_o("design:paramtypes",[Object,Boolean]),_o("design:returntype",lc)],hT.prototype,"setEncoderConfiguration",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],hT.prototype,"close",null);class sX extends D7{getUserId(){return this._userId}constructor(r,o,u,h){super(r,"track-".concat(r.kind,"-").concat(o,"-").concat(h.clientId,"_").concat(y0(5,""))),j(this,"_userId",void 0),j(this,"_uintId",void 0),j(this,"_isDestroyed",!1),j(this,"store",void 0),j(this,"processor",void 0),this._userId=o,this._uintId=u,this.store=h}_updateOriginMediaStreamTrack(r){this._originMediaStreamTrack=r,this._mediaStreamTrack=r,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,$.info("[".concat(this.getTrackId(),"] is destroyed")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}class uN extends sX{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==aS.PLAYING)}get __className__(){return"RemoteVideoTrack"}constructor(r,o,u,h){super(r,o,u,h),j(this,"_videoVisibleTimer",null),j(this,"_previousVideoVisibleStatus",void 0),j(this,"_clearPreviousVideoVisibleStatus",()=>this._previousVideoVisibleStatus=void 0),j(this,"trackMediaType","video"),j(this,"_videoWidth",void 0),j(this,"_videoHeight",void 0),j(this,"_player",void 0),j(this,"processorDestination",void 0),j(this,"processorContext",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new V7(this.getTrackId(),"remote"),this.processorDestination=new J7(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return MO(()=>{$.warning("[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead")},"remoteVideoTrackGetStatsWarning"),FS(this,rQ.GET_STATS)||jP({},b7)}play(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof r=="string"){const h=document.getElementById(r);h?r=h:($.warning("[".concat(this.getTrackId(),'] can not find "#').concat(r,'" element, use document.body')),r=document.body)}$.debug("[".concat(this.getTrackId(),"] start video playback in ").concat(r instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement"),JSON.stringify(o));const u=jP(jP({fit:"cover"},o),{},{trackId:this.getTrackId(),element:r});this._player?this._player.updateConfig(u):(r instanceof HTMLVideoElement?this._player=new s4(u):this._player=new tX(u),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),"video",void 0,void 0,Date.now()),this.safeEmit(zT.FIRST_FRAME_DECODED)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval(()=>{try{const h=this.getVideoElementVisibleStatus();this.safeEmit(zT.VIDEO_ELEMENT_VISIBLE_STATUS,h)}catch{}},la("CHECK_VIDEO_VISIBLE_INTERVAL"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,$.debug("[".concat(this.getTrackId(),"] stop video playback")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){nX(this._originMediaStreamTrack).then(r=>{let[o,u]=r;this._videoHeight=u,this._videoWidth=o}).catch(uP)}_updatePlayerSource(){$.debug("[".concat(this.getTrackId(),"] update player source track")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var r,o;const u=this==null||(r=this._player)===null||r===void 0?void 0:r.getContainerElement(),h={track:this,element:this==null||(o=this._player)===null||o===void 0?void 0:o.getVideoElement(),slot:u==null?void 0:u.parentElement},{element:f,slot:m}=h;if(this.isPlaying&&f instanceof HTMLVideoElement&&m instanceof HTMLElement){const v=m9.checkOneElementVisible(f),R=Object.assign({},v);if(R.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=R.visible;const D=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});R.visible?D.onSuccess("Video is visible"):D.onSuccess("Invisible because of ".concat(R.reason))}return R}return}catch(u){throw new _g(ea.GET_VIDEO_ELEMENT_VISIBLE_ERROR,u.message)}}pipe(r){if(this.processor===r)return r;if(r._source)throw new _g(ea.INVALID_OPERATION,"Processor ".concat(r.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=r,this.processor._source=this,r.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),r}unpipe(){if(!this.processor)return;const r=this.processor;this.processor._source=void 0,this.processor=void 0,r.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(sS.ON_TRACK,async r=>{r?r!==this._mediaStreamTrack&&(this._mediaStreamTrack=r,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(sS.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}}td([QQ({argsMap:(A,r,o)=>[A.getTrackId(),typeof r=="string"?r:r instanceof HTMLVideoElement?"HTMLVideoElement":"HTMLElement",o]}),_o("design:type",Function),_o("design:paramtypes",[Object,Object]),_o("design:returntype",void 0)],uN.prototype,"play",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],uN.prototype,"stop",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r.name]}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",Object)],uN.prototype,"pipe",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],uN.prototype,"unpipe",null);class xR extends sX{get isPlaying(){return this._useAudioElement?NS.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return"RemoteAudioTrack"}constructor(r,o,u,h){super(r,o,u,h),j(this,"trackMediaType","audio"),j(this,"_source",void 0),j(this,"_useAudioElement",!0),j(this,"_volume",100),j(this,"processorContext",void 0),j(this,"processorDestination",void 0),j(this,"_played",!1),j(this,"_bypassWebAudio",!1),la("DISABLE_WEBAUDIO")?(this._source=new r4,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new e4(r,!0),la("REMOTE_AUDIO_TRACK_USES_WEB_AUDIO")&&(this._useAudioElement=!1)),this._source.once(bS.RECEIVE_TRACK_BUFFER,()=>{this.safeEmit(zT.FIRST_FRAME_DECODED)}),this.processorContext=new GP(this._source.context,this.getTrackId(),"remote"),this.processorDestination=new PP(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(bS.UPDATE_SOURCE,()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})})}setAudioFrameCallback(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4096;if(!r)return this._source.removeAllListeners(bS.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(o),this._source.removeAllListeners(bS.ON_AUDIO_BUFFER),this._source.on(bS.ON_AUDIO_BUFFER,u=>r(u))}setVolume(r){this._volume=r,this._useAudioElement?NS.setVolume(this.getTrackId(),r):this._source.setVolume(r/100)}async setPlaybackDevice(r){if(!this._useAudioElement||!kO()&&la("RESTRICTION_SET_PLAYBACK_DEVICE"))throw new _g(ea.NOT_SUPPORTED,"your browser does not support setting the audio output device");await NS.setSinkID(this.getTrackId(),r)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return MO(()=>{$.warning("[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead")},"remoteAudioTrackGetStatsWarning"),FS(this,rQ.GET_STATS)||jP({},w7)}play(){$.debug("[".concat(this.getTrackId(),"] start audio playback")),this._played=!0,this._useAudioElement?($.debug("[".concat(this.getTrackId(),"] use audio element to play")),NS.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){$.debug("[".concat(this.getTrackId(),"] stop audio playback")),this._played=!1,this._useAudioElement?NS.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];$.debug("[".concat(this.getTrackId(),"] update player source track")),r&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&NS.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(r){if(this._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"can not pipe extension when WebAudio disabled");if(this.processor===r)return r;if(r._source)throw new _g(ea.INVALID_OPERATION,"Processor ".concat(r.name," already piped, please call unpipe beforehand."));return this.unpipe(),this.processor=r,this.processor._source=this,r.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),r}unpipe(){var r;if(this._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"can not unpipe extension when WebAudio disabled");if(!this.processor)return;const o=this.processor;(r=this._source.processSourceNode)===null||r===void 0||r.disconnect(),this.processor._source=!1,this.processor=void 0,o.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(sS.ON_TRACK,async r=>{r?r!==this._mediaStreamTrack&&(this._mediaStreamTrack=r,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(r)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}),this.processorDestination.on(sS.ON_NODE,r=>{this._source.processedNode=r;const o=!r;this._useAudioElement!==o&&(this._played?(this.stop(),this._useAudioElement=o,this.play()):this._useAudioElement=o)})}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(sS.ON_TRACK),this.processorDestination.removeAllListeners(sS.ON_NODE)}}td([QQ({argsMap:(A,r)=>[A.getTrackId(),r],throttleTime:300}),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",void 0)],xR.prototype,"setVolume",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r]}),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],xR.prototype,"setPlaybackDevice",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],xR.prototype,"play",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],xR.prototype,"stop",null),td([QQ({argsMap:(A,r)=>[A.getTrackId(),r.name]}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",Object)],xR.prototype,"pipe",null),td([QQ({argsMap:A=>[A.getTrackId()]}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],xR.prototype,"unpipe",null);function $1(A){let r=A.length;for(;--r>=0;)A[r]=0}const c4=256,aX=286,HO=30,YO=15,u4=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),HP=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gce=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cX=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),GN=new Array(576);$1(GN);const JO=new Array(60);$1(JO);const VO=new Array(512);$1(VO);const qO=new Array(256);$1(qO);const g4=new Array(29);$1(g4);const YP=new Array(HO);function l4(A,r,o,u,h){this.static_tree=A,this.extra_bits=r,this.extra_base=o,this.elems=u,this.max_length=h,this.has_stree=A&&A.length}let uX,gX,lX;function d4(A,r){this.dyn_tree=A,this.max_code=0,this.stat_desc=r}$1(YP);const dX=A=>A<256?VO[A]:VO[256+(A>>>7)],WO=(A,r)=>{A.pending_buf[A.pending++]=255&r,A.pending_buf[A.pending++]=r>>>8&255},uR=(A,r,o)=>{A.bi_valid>16-o?(A.bi_buf|=r<<A.bi_valid&65535,WO(A,A.bi_buf),A.bi_buf=r>>16-A.bi_valid,A.bi_valid+=o-16):(A.bi_buf|=r<<A.bi_valid&65535,A.bi_valid+=o)},lN=(A,r,o)=>{uR(A,o[2*r],o[2*r+1])},EX=(A,r)=>{let o=0;do o|=1&A,A>>>=1,o<<=1;while(--r>0);return o>>>1},IX=(A,r,o)=>{const u=new Array(16);let h,f,m=0;for(h=1;h<=YO;h++)m=m+o[h-1]<<1,u[h]=m;for(f=0;f<=r;f++){let v=A[2*f+1];v!==0&&(A[2*f]=EX(u[v]++,v))}},CX=A=>{let r;for(r=0;r<aX;r++)A.dyn_ltree[2*r]=0;for(r=0;r<HO;r++)A.dyn_dtree[2*r]=0;for(r=0;r<19;r++)A.bl_tree[2*r]=0;A.dyn_ltree[512]=1,A.opt_len=A.static_len=0,A.sym_next=A.matches=0},hX=A=>{A.bi_valid>8?WO(A,A.bi_buf):A.bi_valid>0&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0},pX=(A,r,o,u)=>{const h=2*r,f=2*o;return A[h]<A[f]||A[h]===A[f]&&u[r]<=u[o]},E4=(A,r,o)=>{const u=A.heap[o];let h=o<<1;for(;h<=A.heap_len&&(h<A.heap_len&&pX(r,A.heap[h+1],A.heap[h],A.depth)&&h++,!pX(r,u,A.heap[h],A.depth));)A.heap[o]=A.heap[h],o=h,h<<=1;A.heap[o]=u},fX=(A,r,o)=>{let u,h,f,m,v=0;if(A.sym_next!==0)do u=255&A.pending_buf[A.sym_buf+v++],u+=(255&A.pending_buf[A.sym_buf+v++])<<8,h=A.pending_buf[A.sym_buf+v++],u===0?lN(A,h,r):(f=qO[h],lN(A,f+c4+1,r),m=u4[f],m!==0&&(h-=g4[f],uR(A,h,m)),u--,f=dX(u),lN(A,f,o),m=HP[f],m!==0&&(u-=YP[f],uR(A,u,m)));while(v<A.sym_next);lN(A,256,r)},I4=(A,r)=>{const o=r.dyn_tree,u=r.stat_desc.static_tree,h=r.stat_desc.has_stree,f=r.stat_desc.elems;let m,v,R,D=-1;for(A.heap_len=0,A.heap_max=573,m=0;m<f;m++)o[2*m]!==0?(A.heap[++A.heap_len]=D=m,A.depth[m]=0):o[2*m+1]=0;for(;A.heap_len<2;)R=A.heap[++A.heap_len]=D<2?++D:0,o[2*R]=1,A.depth[R]=0,A.opt_len--,h&&(A.static_len-=u[2*R+1]);for(r.max_code=D,m=A.heap_len>>1;m>=1;m--)E4(A,o,m);R=f;do m=A.heap[1],A.heap[1]=A.heap[A.heap_len--],E4(A,o,1),v=A.heap[1],A.heap[--A.heap_max]=m,A.heap[--A.heap_max]=v,o[2*R]=o[2*m]+o[2*v],A.depth[R]=(A.depth[m]>=A.depth[v]?A.depth[m]:A.depth[v])+1,o[2*m+1]=o[2*v+1]=R,A.heap[1]=R++,E4(A,o,1);while(A.heap_len>=2);A.heap[--A.heap_max]=A.heap[1],((k,L)=>{const q=L.dyn_tree,z=L.max_code,_s=L.stat_desc.static_tree,_n=L.stat_desc.has_stree,_i=L.stat_desc.extra_bits,Aa=L.stat_desc.extra_base,Ea=L.stat_desc.max_length;let Qa,Vc,Fa,Va,_c,ec,kd=0;for(Va=0;Va<=YO;Va++)k.bl_count[Va]=0;for(q[2*k.heap[k.heap_max]+1]=0,Qa=k.heap_max+1;Qa<573;Qa++)Vc=k.heap[Qa],Va=q[2*q[2*Vc+1]+1]+1,Va>Ea&&(Va=Ea,kd++),q[2*Vc+1]=Va,Vc>z||(k.bl_count[Va]++,_c=0,Vc>=Aa&&(_c=_i[Vc-Aa]),ec=q[2*Vc],k.opt_len+=ec*(Va+_c),_n&&(k.static_len+=ec*(_s[2*Vc+1]+_c)));if(kd!==0){do{for(Va=Ea-1;k.bl_count[Va]===0;)Va--;k.bl_count[Va]--,k.bl_count[Va+1]+=2,k.bl_count[Ea]--,kd-=2}while(kd>0);for(Va=Ea;Va!==0;Va--)for(Vc=k.bl_count[Va];Vc!==0;)Fa=k.heap[--Qa],Fa>z||(q[2*Fa+1]!==Va&&(k.opt_len+=(Va-q[2*Fa+1])*q[2*Fa],q[2*Fa+1]=Va),Vc--)}})(A,r),IX(o,D,A.bl_count)},BX=(A,r,o)=>{let u,h,f=-1,m=r[1],v=0,R=7,D=4;for(m===0&&(R=138,D=3),r[2*(o+1)+1]=65535,u=0;u<=o;u++)h=m,m=r[2*(u+1)+1],++v<R&&h===m||(v<D?A.bl_tree[2*h]+=v:h!==0?(h!==f&&A.bl_tree[2*h]++,A.bl_tree[32]++):v<=10?A.bl_tree[34]++:A.bl_tree[36]++,v=0,f=h,m===0?(R=138,D=3):h===m?(R=6,D=3):(R=7,D=4))},QX=(A,r,o)=>{let u,h,f=-1,m=r[1],v=0,R=7,D=4;for(m===0&&(R=138,D=3),u=0;u<=o;u++)if(h=m,m=r[2*(u+1)+1],!(++v<R&&h===m)){if(v<D)do lN(A,h,A.bl_tree);while(--v!=0);else h!==0?(h!==f&&(lN(A,h,A.bl_tree),v--),lN(A,16,A.bl_tree),uR(A,v-3,2)):v<=10?(lN(A,17,A.bl_tree),uR(A,v-3,3)):(lN(A,18,A.bl_tree),uR(A,v-11,7));v=0,f=h,m===0?(R=138,D=3):h===m?(R=6,D=3):(R=7,D=4)}};let mX=!1;const yX=(A,r,o,u)=>{uR(A,0+(u?1:0),3),hX(A),WO(A,o),WO(A,~o),o&&A.pending_buf.set(A.window.subarray(r,r+o),A.pending),A.pending+=o};var Fce=A=>{mX||((()=>{let r,o,u,h,f;const m=new Array(16);for(u=0,h=0;h<28;h++)for(g4[h]=u,r=0;r<1<<u4[h];r++)qO[u++]=h;for(qO[u-1]=h,f=0,h=0;h<16;h++)for(YP[h]=f,r=0;r<1<<HP[h];r++)VO[f++]=h;for(f>>=7;h<HO;h++)for(YP[h]=f<<7,r=0;r<1<<HP[h]-7;r++)VO[256+f++]=h;for(o=0;o<=YO;o++)m[o]=0;for(r=0;r<=143;)GN[2*r+1]=8,r++,m[8]++;for(;r<=255;)GN[2*r+1]=9,r++,m[9]++;for(;r<=279;)GN[2*r+1]=7,r++,m[7]++;for(;r<=287;)GN[2*r+1]=8,r++,m[8]++;for(IX(GN,287,m),r=0;r<HO;r++)JO[2*r+1]=5,JO[2*r]=EX(r,5);uX=new l4(GN,u4,257,aX,YO),gX=new l4(JO,HP,0,HO,YO),lX=new l4(new Array(0),Gce,0,19,7)})(),mX=!0),A.l_desc=new d4(A.dyn_ltree,uX),A.d_desc=new d4(A.dyn_dtree,gX),A.bl_desc=new d4(A.bl_tree,lX),A.bi_buf=0,A.bi_valid=0,CX(A)},Kce=(A,r,o,u)=>{let h,f,m=0;A.level>0?(A.strm.data_type===2&&(A.strm.data_type=(v=>{let R,D=4093624447;for(R=0;R<=31;R++,D>>>=1)if(1&D&&v.dyn_ltree[2*R]!==0)return 0;if(v.dyn_ltree[18]!==0||v.dyn_ltree[20]!==0||v.dyn_ltree[26]!==0)return 1;for(R=32;R<c4;R++)if(v.dyn_ltree[2*R]!==0)return 1;return 0})(A)),I4(A,A.l_desc),I4(A,A.d_desc),m=(v=>{let R;for(BX(v,v.dyn_ltree,v.l_desc.max_code),BX(v,v.dyn_dtree,v.d_desc.max_code),I4(v,v.bl_desc),R=18;R>=3&&v.bl_tree[2*cX[R]+1]===0;R--);return v.opt_len+=3*(R+1)+5+5+4,R})(A),h=A.opt_len+3+7>>>3,f=A.static_len+3+7>>>3,f<=h&&(h=f)):h=f=o+5,o+4<=h&&r!==-1?yX(A,r,o,u):A.strategy===4||f===h?(uR(A,2+(u?1:0),3),fX(A,GN,JO)):(uR(A,4+(u?1:0),3),((v,R,D,k)=>{let L;for(uR(v,R-257,5),uR(v,D-1,5),uR(v,k-4,4),L=0;L<k;L++)uR(v,v.bl_tree[2*cX[L]+1],3);QX(v,v.dyn_ltree,R-1),QX(v,v.dyn_dtree,D-1)})(A,A.l_desc.max_code+1,A.d_desc.max_code+1,m+1),fX(A,A.dyn_ltree,A.dyn_dtree)),CX(A),u&&hX(A)},jce=(A,r,o)=>(A.pending_buf[A.sym_buf+A.sym_next++]=r,A.pending_buf[A.sym_buf+A.sym_next++]=r>>8,A.pending_buf[A.sym_buf+A.sym_next++]=o,r===0?A.dyn_ltree[2*o]++:(A.matches++,r--,A.dyn_ltree[2*(qO[o]+c4+1)]++,A.dyn_dtree[2*dX(r)]++),A.sym_next===A.sym_end),Hce={_tr_init:Fce,_tr_stored_block:yX,_tr_flush_block:Kce,_tr_tally:jce,_tr_align:A=>{uR(A,2,3),lN(A,256,GN),(r=>{r.bi_valid===16?(WO(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=255&r.bi_buf,r.bi_buf>>=8,r.bi_valid-=8)})(A)}},XO=(A,r,o,u)=>{let h=65535&A|0,f=A>>>16&65535|0,m=0;for(;o!==0;){m=o>2e3?2e3:o,o-=m;do h=h+r[u++]|0,f=f+h|0;while(--m);h%=65521,f%=65521}return h|f<<16|0};const Yce=new Uint32Array((()=>{let A,r=[];for(var o=0;o<256;o++){A=o;for(var u=0;u<8;u++)A=1&A?3988292384^A>>>1:A>>>1;r[o]=A}return r})());var BS=(A,r,o,u)=>{const h=Yce,f=u+o;A^=-1;for(let m=u;m<f;m++)A=A>>>8^h[255&(A^r[m])];return-1^A},t1={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_k={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Jce,_tr_stored_block:C4,_tr_flush_block:Vce,_tr_tally:pT,_tr_align:qce}=Hce,{Z_NO_FLUSH:fT,Z_PARTIAL_FLUSH:Wce,Z_FULL_FLUSH:Xce,Z_FINISH:UR,Z_BLOCK:_X,Z_OK:yS,Z_STREAM_END:vX,Z_STREAM_ERROR:EN,Z_DATA_ERROR:zce,Z_BUF_ERROR:h4,Z_DEFAULT_COMPRESSION:Zce,Z_FILTERED:$ce,Z_HUFFMAN_ONLY:JP,Z_RLE:eue,Z_FIXED:tue,Z_DEFAULT_STRATEGY:nue,Z_UNKNOWN:rue,Z_DEFLATED:VP}=_k,p4=286,iue=30,oue=19,Aue=2*p4+1,sue=15,n1=258,IN=262,eO=42,r1=113,zO=666,i1=(A,r)=>(A.msg=t1[r],r),SX=A=>2*A-(A>4?9:0),BT=A=>{let r=A.length;for(;--r>=0;)A[r]=0},aue=A=>{let r,o,u,h=A.w_size;r=A.hash_size,u=r;do o=A.head[--u],A.head[u]=o>=h?o-h:0;while(--r);r=h,u=r;do o=A.prev[--u],A.prev[u]=o>=h?o-h:0;while(--r)};let QT=(A,r,o)=>(r<<A.hash_shift^o)&A.hash_mask;const mR=A=>{const r=A.state;let o=r.pending;o>A.avail_out&&(o=A.avail_out),o!==0&&(A.output.set(r.pending_buf.subarray(r.pending_out,r.pending_out+o),A.next_out),A.next_out+=o,r.pending_out+=o,A.total_out+=o,A.avail_out-=o,r.pending-=o,r.pending===0&&(r.pending_out=0))},yR=(A,r)=>{Vce(A,A.block_start>=0?A.block_start:-1,A.strstart-A.block_start,r),A.block_start=A.strstart,mR(A.strm)},q0=(A,r)=>{A.pending_buf[A.pending++]=r},ZO=(A,r)=>{A.pending_buf[A.pending++]=r>>>8&255,A.pending_buf[A.pending++]=255&r},f4=(A,r,o,u)=>{let h=A.avail_in;return h>u&&(h=u),h===0?0:(A.avail_in-=h,r.set(A.input.subarray(A.next_in,A.next_in+h),o),A.state.wrap===1?A.adler=XO(A.adler,r,h,o):A.state.wrap===2&&(A.adler=BS(A.adler,r,h,o)),A.next_in+=h,A.total_in+=h,h)},RX=(A,r)=>{let o,u,h=A.max_chain_length,f=A.strstart,m=A.prev_length,v=A.nice_match;const R=A.strstart>A.w_size-IN?A.strstart-(A.w_size-IN):0,D=A.window,k=A.w_mask,L=A.prev,q=A.strstart+n1;let z=D[f+m-1],_s=D[f+m];A.prev_length>=A.good_match&&(h>>=2),v>A.lookahead&&(v=A.lookahead);do if(o=r,D[o+m]===_s&&D[o+m-1]===z&&D[o]===D[f]&&D[++o]===D[f+1]){f+=2,o++;do;while(D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&D[++f]===D[++o]&&f<q);if(u=n1-(q-f),f=q-n1,u>m){if(A.match_start=r,m=u,u>=v)break;z=D[f+m-1],_s=D[f+m]}}while((r=L[r&k])>R&&--h!=0);return m<=A.lookahead?m:A.lookahead},tO=A=>{const r=A.w_size;let o,u,h;do{if(u=A.window_size-A.lookahead-A.strstart,A.strstart>=r+(r-IN)&&(A.window.set(A.window.subarray(r,r+r-u),0),A.match_start-=r,A.strstart-=r,A.block_start-=r,A.insert>A.strstart&&(A.insert=A.strstart),aue(A),u+=r),A.strm.avail_in===0)break;if(o=f4(A.strm,A.window,A.strstart+A.lookahead,u),A.lookahead+=o,A.lookahead+A.insert>=3)for(h=A.strstart-A.insert,A.ins_h=A.window[h],A.ins_h=QT(A,A.ins_h,A.window[h+1]);A.insert&&(A.ins_h=QT(A,A.ins_h,A.window[h+3-1]),A.prev[h&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=h,h++,A.insert--,!(A.lookahead+A.insert<3)););}while(A.lookahead<IN&&A.strm.avail_in!==0)},wX=(A,r)=>{let o,u,h,f=A.pending_buf_size-5>A.w_size?A.w_size:A.pending_buf_size-5,m=0,v=A.strm.avail_in;do{if(o=65535,h=A.bi_valid+42>>3,A.strm.avail_out<h||(h=A.strm.avail_out-h,u=A.strstart-A.block_start,o>u+A.strm.avail_in&&(o=u+A.strm.avail_in),o>h&&(o=h),o<f&&(o===0&&r!==UR||r===fT||o!==u+A.strm.avail_in)))break;m=r===UR&&o===u+A.strm.avail_in?1:0,C4(A,0,0,m),A.pending_buf[A.pending-4]=o,A.pending_buf[A.pending-3]=o>>8,A.pending_buf[A.pending-2]=~o,A.pending_buf[A.pending-1]=~o>>8,mR(A.strm),u&&(u>o&&(u=o),A.strm.output.set(A.window.subarray(A.block_start,A.block_start+u),A.strm.next_out),A.strm.next_out+=u,A.strm.avail_out-=u,A.strm.total_out+=u,A.block_start+=u,o-=u),o&&(f4(A.strm,A.strm.output,A.strm.next_out,o),A.strm.next_out+=o,A.strm.avail_out-=o,A.strm.total_out+=o)}while(m===0);return v-=A.strm.avail_in,v&&(v>=A.w_size?(A.matches=2,A.window.set(A.strm.input.subarray(A.strm.next_in-A.w_size,A.strm.next_in),0),A.strstart=A.w_size,A.insert=A.strstart):(A.window_size-A.strstart<=v&&(A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,A.insert>A.strstart&&(A.insert=A.strstart)),A.window.set(A.strm.input.subarray(A.strm.next_in-v,A.strm.next_in),A.strstart),A.strstart+=v,A.insert+=v>A.w_size-A.insert?A.w_size-A.insert:v),A.block_start=A.strstart),A.high_water<A.strstart&&(A.high_water=A.strstart),m?4:r!==fT&&r!==UR&&A.strm.avail_in===0&&A.strstart===A.block_start?2:(h=A.window_size-A.strstart,A.strm.avail_in>h&&A.block_start>=A.w_size&&(A.block_start-=A.w_size,A.strstart-=A.w_size,A.window.set(A.window.subarray(A.w_size,A.w_size+A.strstart),0),A.matches<2&&A.matches++,h+=A.w_size,A.insert>A.strstart&&(A.insert=A.strstart)),h>A.strm.avail_in&&(h=A.strm.avail_in),h&&(f4(A.strm,A.window,A.strstart,h),A.strstart+=h,A.insert+=h>A.w_size-A.insert?A.w_size-A.insert:h),A.high_water<A.strstart&&(A.high_water=A.strstart),h=A.bi_valid+42>>3,h=A.pending_buf_size-h>65535?65535:A.pending_buf_size-h,f=h>A.w_size?A.w_size:h,u=A.strstart-A.block_start,(u>=f||(u||r===UR)&&r!==fT&&A.strm.avail_in===0&&u<=h)&&(o=u>h?h:u,m=r===UR&&A.strm.avail_in===0&&o===u?1:0,C4(A,A.block_start,o,m),A.block_start+=o,mR(A.strm)),m?3:1)},B4=(A,r)=>{let o,u;for(;;){if(A.lookahead<IN){if(tO(A),A.lookahead<IN&&r===fT)return 1;if(A.lookahead===0)break}if(o=0,A.lookahead>=3&&(A.ins_h=QT(A,A.ins_h,A.window[A.strstart+3-1]),o=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),o!==0&&A.strstart-o<=A.w_size-IN&&(A.match_length=RX(A,o)),A.match_length>=3)if(u=pT(A,A.strstart-A.match_start,A.match_length-3),A.lookahead-=A.match_length,A.match_length<=A.max_lazy_match&&A.lookahead>=3){A.match_length--;do A.strstart++,A.ins_h=QT(A,A.ins_h,A.window[A.strstart+3-1]),o=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart;while(--A.match_length!=0);A.strstart++}else A.strstart+=A.match_length,A.match_length=0,A.ins_h=A.window[A.strstart],A.ins_h=QT(A,A.ins_h,A.window[A.strstart+1]);else u=pT(A,0,A.window[A.strstart]),A.lookahead--,A.strstart++;if(u&&(yR(A,!1),A.strm.avail_out===0))return 1}return A.insert=A.strstart<2?A.strstart:2,r===UR?(yR(A,!0),A.strm.avail_out===0?3:4):A.sym_next&&(yR(A,!1),A.strm.avail_out===0)?1:2},nO=(A,r)=>{let o,u,h;for(;;){if(A.lookahead<IN){if(tO(A),A.lookahead<IN&&r===fT)return 1;if(A.lookahead===0)break}if(o=0,A.lookahead>=3&&(A.ins_h=QT(A,A.ins_h,A.window[A.strstart+3-1]),o=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart),A.prev_length=A.match_length,A.prev_match=A.match_start,A.match_length=2,o!==0&&A.prev_length<A.max_lazy_match&&A.strstart-o<=A.w_size-IN&&(A.match_length=RX(A,o),A.match_length<=5&&(A.strategy===$ce||A.match_length===3&&A.strstart-A.match_start>4096)&&(A.match_length=2)),A.prev_length>=3&&A.match_length<=A.prev_length){h=A.strstart+A.lookahead-3,u=pT(A,A.strstart-1-A.prev_match,A.prev_length-3),A.lookahead-=A.prev_length-1,A.prev_length-=2;do++A.strstart<=h&&(A.ins_h=QT(A,A.ins_h,A.window[A.strstart+3-1]),o=A.prev[A.strstart&A.w_mask]=A.head[A.ins_h],A.head[A.ins_h]=A.strstart);while(--A.prev_length!=0);if(A.match_available=0,A.match_length=2,A.strstart++,u&&(yR(A,!1),A.strm.avail_out===0))return 1}else if(A.match_available){if(u=pT(A,0,A.window[A.strstart-1]),u&&yR(A,!1),A.strstart++,A.lookahead--,A.strm.avail_out===0)return 1}else A.match_available=1,A.strstart++,A.lookahead--}return A.match_available&&(u=pT(A,0,A.window[A.strstart-1]),A.match_available=0),A.insert=A.strstart<2?A.strstart:2,r===UR?(yR(A,!0),A.strm.avail_out===0?3:4):A.sym_next&&(yR(A,!1),A.strm.avail_out===0)?1:2};function CN(A,r,o,u,h){this.good_length=A,this.max_lazy=r,this.nice_length=o,this.max_chain=u,this.func=h}const $O=[new CN(0,0,0,0,wX),new CN(4,4,8,4,B4),new CN(4,5,16,8,B4),new CN(4,6,32,32,B4),new CN(4,4,16,16,nO),new CN(8,16,32,32,nO),new CN(8,16,128,128,nO),new CN(8,32,128,256,nO),new CN(32,128,258,1024,nO),new CN(32,258,258,4096,nO)];function cue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=VP,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*Aue),this.dyn_dtree=new Uint16Array(2*(2*iue+1)),this.bl_tree=new Uint16Array(2*(2*oue+1)),BT(this.dyn_ltree),BT(this.dyn_dtree),BT(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(sue+1),this.heap=new Uint16Array(2*p4+1),BT(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*p4+1),BT(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const _L=A=>{if(!A)return 1;const r=A.state;return!r||r.strm!==A||r.status!==eO&&r.status!==57&&r.status!==69&&r.status!==73&&r.status!==91&&r.status!==103&&r.status!==r1&&r.status!==zO?1:0},bX=A=>{if(_L(A))return i1(A,EN);A.total_in=A.total_out=0,A.data_type=rue;const r=A.state;return r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap===2?57:r.wrap?eO:r1,A.adler=r.wrap===2?0:1,r.last_flush=-2,Jce(r),yS},DX=A=>{const r=bX(A);var o;return r===yS&&((o=A.state).window_size=2*o.w_size,BT(o.head),o.max_lazy_match=$O[o.level].max_lazy,o.good_match=$O[o.level].good_length,o.nice_match=$O[o.level].nice_length,o.max_chain_length=$O[o.level].max_chain,o.strstart=0,o.block_start=0,o.lookahead=0,o.insert=0,o.match_length=o.prev_length=2,o.match_available=0,o.ins_h=0),r},NX=(A,r,o,u,h,f)=>{if(!A)return EN;let m=1;if(r===Zce&&(r=6),u<0?(m=0,u=-u):u>15&&(m=2,u-=16),h<1||h>9||o!==VP||u<8||u>15||r<0||r>9||f<0||f>tue||u===8&&m!==1)return i1(A,EN);u===8&&(u=9);const v=new cue;return A.state=v,v.strm=A,v.status=eO,v.wrap=m,v.gzhead=null,v.w_bits=u,v.w_size=1<<v.w_bits,v.w_mask=v.w_size-1,v.hash_bits=h+7,v.hash_size=1<<v.hash_bits,v.hash_mask=v.hash_size-1,v.hash_shift=~~((v.hash_bits+3-1)/3),v.window=new Uint8Array(2*v.w_size),v.head=new Uint16Array(v.hash_size),v.prev=new Uint16Array(v.w_size),v.lit_bufsize=1<<h+6,v.pending_buf_size=4*v.lit_bufsize,v.pending_buf=new Uint8Array(v.pending_buf_size),v.sym_buf=v.lit_bufsize,v.sym_end=3*(v.lit_bufsize-1),v.level=r,v.strategy=f,v.method=o,DX(A)};var uue=(A,r)=>{if(_L(A)||r>_X||r<0)return A?i1(A,EN):EN;const o=A.state;if(!A.output||A.avail_in!==0&&!A.input||o.status===zO&&r!==UR)return i1(A,A.avail_out===0?h4:EN);const u=o.last_flush;if(o.last_flush=r,o.pending!==0){if(mR(A),A.avail_out===0)return o.last_flush=-1,yS}else if(A.avail_in===0&&SX(r)<=SX(u)&&r!==UR)return i1(A,h4);if(o.status===zO&&A.avail_in!==0)return i1(A,h4);if(o.status===eO&&o.wrap===0&&(o.status=r1),o.status===eO){let h=VP+(o.w_bits-8<<4)<<8,f=-1;if(f=o.strategy>=JP||o.level<2?0:o.level<6?1:o.level===6?2:3,h|=f<<6,o.strstart!==0&&(h|=32),h+=31-h%31,ZO(o,h),o.strstart!==0&&(ZO(o,A.adler>>>16),ZO(o,65535&A.adler)),A.adler=1,o.status=r1,mR(A),o.pending!==0)return o.last_flush=-1,yS}if(o.status===57){if(A.adler=0,q0(o,31),q0(o,139),q0(o,8),o.gzhead)q0(o,(o.gzhead.text?1:0)+(o.gzhead.hcrc?2:0)+(o.gzhead.extra?4:0)+(o.gzhead.name?8:0)+(o.gzhead.comment?16:0)),q0(o,255&o.gzhead.time),q0(o,o.gzhead.time>>8&255),q0(o,o.gzhead.time>>16&255),q0(o,o.gzhead.time>>24&255),q0(o,o.level===9?2:o.strategy>=JP||o.level<2?4:0),q0(o,255&o.gzhead.os),o.gzhead.extra&&o.gzhead.extra.length&&(q0(o,255&o.gzhead.extra.length),q0(o,o.gzhead.extra.length>>8&255)),o.gzhead.hcrc&&(A.adler=BS(A.adler,o.pending_buf,o.pending,0)),o.gzindex=0,o.status=69;else if(q0(o,0),q0(o,0),q0(o,0),q0(o,0),q0(o,0),q0(o,o.level===9?2:o.strategy>=JP||o.level<2?4:0),q0(o,3),o.status=r1,mR(A),o.pending!==0)return o.last_flush=-1,yS}if(o.status===69){if(o.gzhead.extra){let h=o.pending,f=(65535&o.gzhead.extra.length)-o.gzindex;for(;o.pending+f>o.pending_buf_size;){let v=o.pending_buf_size-o.pending;if(o.pending_buf.set(o.gzhead.extra.subarray(o.gzindex,o.gzindex+v),o.pending),o.pending=o.pending_buf_size,o.gzhead.hcrc&&o.pending>h&&(A.adler=BS(A.adler,o.pending_buf,o.pending-h,h)),o.gzindex+=v,mR(A),o.pending!==0)return o.last_flush=-1,yS;h=0,f-=v}let m=new Uint8Array(o.gzhead.extra);o.pending_buf.set(m.subarray(o.gzindex,o.gzindex+f),o.pending),o.pending+=f,o.gzhead.hcrc&&o.pending>h&&(A.adler=BS(A.adler,o.pending_buf,o.pending-h,h)),o.gzindex=0}o.status=73}if(o.status===73){if(o.gzhead.name){let h,f=o.pending;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>f&&(A.adler=BS(A.adler,o.pending_buf,o.pending-f,f)),mR(A),o.pending!==0)return o.last_flush=-1,yS;f=0}h=o.gzindex<o.gzhead.name.length?255&o.gzhead.name.charCodeAt(o.gzindex++):0,q0(o,h)}while(h!==0);o.gzhead.hcrc&&o.pending>f&&(A.adler=BS(A.adler,o.pending_buf,o.pending-f,f)),o.gzindex=0}o.status=91}if(o.status===91){if(o.gzhead.comment){let h,f=o.pending;do{if(o.pending===o.pending_buf_size){if(o.gzhead.hcrc&&o.pending>f&&(A.adler=BS(A.adler,o.pending_buf,o.pending-f,f)),mR(A),o.pending!==0)return o.last_flush=-1,yS;f=0}h=o.gzindex<o.gzhead.comment.length?255&o.gzhead.comment.charCodeAt(o.gzindex++):0,q0(o,h)}while(h!==0);o.gzhead.hcrc&&o.pending>f&&(A.adler=BS(A.adler,o.pending_buf,o.pending-f,f))}o.status=103}if(o.status===103){if(o.gzhead.hcrc){if(o.pending+2>o.pending_buf_size&&(mR(A),o.pending!==0))return o.last_flush=-1,yS;q0(o,255&A.adler),q0(o,A.adler>>8&255),A.adler=0}if(o.status=r1,mR(A),o.pending!==0)return o.last_flush=-1,yS}if(A.avail_in!==0||o.lookahead!==0||r!==fT&&o.status!==zO){let h=o.level===0?wX(o,r):o.strategy===JP?((f,m)=>{let v;for(;;){if(f.lookahead===0&&(tO(f),f.lookahead===0)){if(m===fT)return 1;break}if(f.match_length=0,v=pT(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++,v&&(yR(f,!1),f.strm.avail_out===0))return 1}return f.insert=0,m===UR?(yR(f,!0),f.strm.avail_out===0?3:4):f.sym_next&&(yR(f,!1),f.strm.avail_out===0)?1:2})(o,r):o.strategy===eue?((f,m)=>{let v,R,D,k;const L=f.window;for(;;){if(f.lookahead<=n1){if(tO(f),f.lookahead<=n1&&m===fT)return 1;if(f.lookahead===0)break}if(f.match_length=0,f.lookahead>=3&&f.strstart>0&&(D=f.strstart-1,R=L[D],R===L[++D]&&R===L[++D]&&R===L[++D])){k=f.strstart+n1;do;while(R===L[++D]&&R===L[++D]&&R===L[++D]&&R===L[++D]&&R===L[++D]&&R===L[++D]&&R===L[++D]&&R===L[++D]&&D<k);f.match_length=n1-(k-D),f.match_length>f.lookahead&&(f.match_length=f.lookahead)}if(f.match_length>=3?(v=pT(f,1,f.match_length-3),f.lookahead-=f.match_length,f.strstart+=f.match_length,f.match_length=0):(v=pT(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++),v&&(yR(f,!1),f.strm.avail_out===0))return 1}return f.insert=0,m===UR?(yR(f,!0),f.strm.avail_out===0?3:4):f.sym_next&&(yR(f,!1),f.strm.avail_out===0)?1:2})(o,r):$O[o.level].func(o,r);if(h!==3&&h!==4||(o.status=zO),h===1||h===3)return A.avail_out===0&&(o.last_flush=-1),yS;if(h===2&&(r===Wce?qce(o):r!==_X&&(C4(o,0,0,!1),r===Xce&&(BT(o.head),o.lookahead===0&&(o.strstart=0,o.block_start=0,o.insert=0))),mR(A),A.avail_out===0))return o.last_flush=-1,yS}return r!==UR?yS:o.wrap<=0?vX:(o.wrap===2?(q0(o,255&A.adler),q0(o,A.adler>>8&255),q0(o,A.adler>>16&255),q0(o,A.adler>>24&255),q0(o,255&A.total_in),q0(o,A.total_in>>8&255),q0(o,A.total_in>>16&255),q0(o,A.total_in>>24&255)):(ZO(o,A.adler>>>16),ZO(o,65535&A.adler)),mR(A),o.wrap>0&&(o.wrap=-o.wrap),o.pending!==0?yS:vX)},gue=(A,r)=>{let o=r.length;if(_L(A))return EN;const u=A.state,h=u.wrap;if(h===2||h===1&&u.status!==eO||u.lookahead)return EN;if(h===1&&(A.adler=XO(A.adler,r,o,0)),u.wrap=0,o>=u.w_size){h===0&&(BT(u.head),u.strstart=0,u.block_start=0,u.insert=0);let R=new Uint8Array(u.w_size);R.set(r.subarray(o-u.w_size,o),0),r=R,o=u.w_size}const f=A.avail_in,m=A.next_in,v=A.input;for(A.avail_in=o,A.next_in=0,A.input=r,tO(u);u.lookahead>=3;){let R=u.strstart,D=u.lookahead-2;do u.ins_h=QT(u,u.ins_h,u.window[R+3-1]),u.prev[R&u.w_mask]=u.head[u.ins_h],u.head[u.ins_h]=R,R++;while(--D);u.strstart=R,u.lookahead=2,tO(u)}return u.strstart+=u.lookahead,u.block_start=u.strstart,u.insert=u.lookahead,u.lookahead=0,u.match_length=u.prev_length=2,u.match_available=0,A.next_in=m,A.input=v,A.avail_in=f,u.wrap=h,yS},_M={deflateInit:(A,r)=>NX(A,r,VP,15,8,nue),deflateInit2:NX,deflateReset:DX,deflateResetKeep:bX,deflateSetHeader:(A,r)=>_L(A)||A.state.wrap!==2?EN:(A.state.gzhead=r,yS),deflate:uue,deflateEnd:A=>{if(_L(A))return EN;const r=A.state.status;return A.state=null,r===r1?i1(A,zce):yS},deflateSetDictionary:gue,deflateInfo:"pako deflate (from Nodeca project)"};const lue=(A,r)=>Object.prototype.hasOwnProperty.call(A,r);var qP={assign:function(A){const r=Array.prototype.slice.call(arguments,1);for(;r.length;){const o=r.shift();if(o){if(typeof o!="object")throw new TypeError(o+"must be non-object");for(const u in o)lue(o,u)&&(A[u]=o[u])}}return A},flattenChunks:A=>{let r=0;for(let u=0,h=A.length;u<h;u++)r+=A[u].length;const o=new Uint8Array(r);for(let u=0,h=0,f=A.length;u<f;u++){let m=A[u];o.set(m,h),h+=m.length}return o}};let TX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{TX=!1}const _x=new Uint8Array(256);for(let A=0;A<256;A++)_x[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;_x[254]=_x[254]=1;var eU={string2buf:A=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(A);let r,o,u,h,f,m=A.length,v=0;for(h=0;h<m;h++)o=A.charCodeAt(h),(64512&o)==55296&&h+1<m&&(u=A.charCodeAt(h+1),(64512&u)==56320&&(o=65536+(o-55296<<10)+(u-56320),h++)),v+=o<128?1:o<2048?2:o<65536?3:4;for(r=new Uint8Array(v),f=0,h=0;f<v;h++)o=A.charCodeAt(h),(64512&o)==55296&&h+1<m&&(u=A.charCodeAt(h+1),(64512&u)==56320&&(o=65536+(o-55296<<10)+(u-56320),h++)),o<128?r[f++]=o:o<2048?(r[f++]=192|o>>>6,r[f++]=128|63&o):o<65536?(r[f++]=224|o>>>12,r[f++]=128|o>>>6&63,r[f++]=128|63&o):(r[f++]=240|o>>>18,r[f++]=128|o>>>12&63,r[f++]=128|o>>>6&63,r[f++]=128|63&o);return r},buf2string:(A,r)=>{const o=r||A.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(A.subarray(0,r));let u,h;const f=new Array(2*o);for(h=0,u=0;u<o;){let m=A[u++];if(m<128){f[h++]=m;continue}let v=_x[m];if(v>4)f[h++]=65533,u+=v-1;else{for(m&=v===2?31:v===3?15:7;v>1&&u<o;)m=m<<6|63&A[u++],v--;v>1?f[h++]=65533:m<65536?f[h++]=m:(m-=65536,f[h++]=55296|m>>10&1023,f[h++]=56320|1023&m)}}return((m,v)=>{if(v<65534&&m.subarray&&TX)return String.fromCharCode.apply(null,m.length===v?m:m.subarray(0,v));let R="";for(let D=0;D<v;D++)R+=String.fromCharCode(m[D]);return R})(f,h)},utf8border:(A,r)=>{(r=r||A.length)>A.length&&(r=A.length);let o=r-1;for(;o>=0&&(192&A[o])==128;)o--;return o<0||o===0?r:o+_x[A[o]]>r?o:r}},kX=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const OX=Object.prototype.toString,{Z_NO_FLUSH:due,Z_SYNC_FLUSH:Eue,Z_FULL_FLUSH:Iue,Z_FINISH:Cue,Z_OK:WP,Z_STREAM_END:hue,Z_DEFAULT_COMPRESSION:pue,Z_DEFAULT_STRATEGY:fue,Z_DEFLATED:Bue}=_k;function tU(A){this.options=qP.assign({level:pue,method:Bue,chunkSize:16384,windowBits:15,memLevel:8,strategy:fue},A||{});let r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kX,this.strm.avail_out=0;let o=_M.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(o!==WP)throw new Error(t1[o]);if(r.header&&_M.deflateSetHeader(this.strm,r.header),r.dictionary){let u;if(u=typeof r.dictionary=="string"?eU.string2buf(r.dictionary):OX.call(r.dictionary)==="[object ArrayBuffer]"?new Uint8Array(r.dictionary):r.dictionary,o=_M.deflateSetDictionary(this.strm,u),o!==WP)throw new Error(t1[o]);this._dict_set=!0}}function Q4(A,r){const o=new tU(r);if(o.push(A,!0),o.err)throw o.msg||t1[o.err];return o.result}tU.prototype.push=function(A,r){const o=this.strm,u=this.options.chunkSize;let h,f;if(this.ended)return!1;for(f=r===~~r?r:r===!0?Cue:due,typeof A=="string"?o.input=eU.string2buf(A):OX.call(A)==="[object ArrayBuffer]"?o.input=new Uint8Array(A):o.input=A,o.next_in=0,o.avail_in=o.input.length;;)if(o.avail_out===0&&(o.output=new Uint8Array(u),o.next_out=0,o.avail_out=u),(f===Eue||f===Iue)&&o.avail_out<=6)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else{if(h=_M.deflate(o,f),h===hue)return o.next_out>0&&this.onData(o.output.subarray(0,o.next_out)),h=_M.deflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===WP;if(o.avail_out!==0){if(f>0&&o.next_out>0)this.onData(o.output.subarray(0,o.next_out)),o.avail_out=0;else if(o.avail_in===0)break}else this.onData(o.output)}return!0},tU.prototype.onData=function(A){this.chunks.push(A)},tU.prototype.onEnd=function(A){A===WP&&(this.result=qP.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var Que={Deflate:tU,deflate:Q4,deflateRaw:function(A,r){return(r=r||{}).raw=!0,Q4(A,r)},gzip:function(A,r){return(r=r||{}).gzip=!0,Q4(A,r)},constants:_k};const XP=16209;var mue=function(A,r){let o,u,h,f,m,v,R,D,k,L,q,z,_s,_n,_i,Aa,Ea,Qa,Vc,Fa,Va,_c,ec,kd;const _h=A.state;o=A.next_in,ec=A.input,u=o+(A.avail_in-5),h=A.next_out,kd=A.output,f=h-(r-A.avail_out),m=h+(A.avail_out-257),v=_h.dmax,R=_h.wsize,D=_h.whave,k=_h.wnext,L=_h.window,q=_h.hold,z=_h.bits,_s=_h.lencode,_n=_h.distcode,_i=(1<<_h.lenbits)-1,Aa=(1<<_h.distbits)-1;e:do{z<15&&(q+=ec[o++]<<z,z+=8,q+=ec[o++]<<z,z+=8),Ea=_s[q&_i];t:for(;;){if(Qa=Ea>>>24,q>>>=Qa,z-=Qa,Qa=Ea>>>16&255,Qa===0)kd[h++]=65535&Ea;else{if(!(16&Qa)){if(!(64&Qa)){Ea=_s[(65535&Ea)+(q&(1<<Qa)-1)];continue t}if(32&Qa){_h.mode=16191;break e}A.msg="invalid literal/length code",_h.mode=XP;break e}Vc=65535&Ea,Qa&=15,Qa&&(z<Qa&&(q+=ec[o++]<<z,z+=8),Vc+=q&(1<<Qa)-1,q>>>=Qa,z-=Qa),z<15&&(q+=ec[o++]<<z,z+=8,q+=ec[o++]<<z,z+=8),Ea=_n[q&Aa];n:for(;;){if(Qa=Ea>>>24,q>>>=Qa,z-=Qa,Qa=Ea>>>16&255,!(16&Qa)){if(!(64&Qa)){Ea=_n[(65535&Ea)+(q&(1<<Qa)-1)];continue n}A.msg="invalid distance code",_h.mode=XP;break e}if(Fa=65535&Ea,Qa&=15,z<Qa&&(q+=ec[o++]<<z,z+=8,z<Qa&&(q+=ec[o++]<<z,z+=8)),Fa+=q&(1<<Qa)-1,Fa>v){A.msg="invalid distance too far back",_h.mode=XP;break e}if(q>>>=Qa,z-=Qa,Qa=h-f,Fa>Qa){if(Qa=Fa-Qa,Qa>D&&_h.sane){A.msg="invalid distance too far back",_h.mode=XP;break e}if(Va=0,_c=L,k===0){if(Va+=R-Qa,Qa<Vc){Vc-=Qa;do kd[h++]=L[Va++];while(--Qa);Va=h-Fa,_c=kd}}else if(k<Qa){if(Va+=R+k-Qa,Qa-=k,Qa<Vc){Vc-=Qa;do kd[h++]=L[Va++];while(--Qa);if(Va=0,k<Vc){Qa=k,Vc-=Qa;do kd[h++]=L[Va++];while(--Qa);Va=h-Fa,_c=kd}}}else if(Va+=k-Qa,Qa<Vc){Vc-=Qa;do kd[h++]=L[Va++];while(--Qa);Va=h-Fa,_c=kd}for(;Vc>2;)kd[h++]=_c[Va++],kd[h++]=_c[Va++],kd[h++]=_c[Va++],Vc-=3;Vc&&(kd[h++]=_c[Va++],Vc>1&&(kd[h++]=_c[Va++]))}else{Va=h-Fa;do kd[h++]=kd[Va++],kd[h++]=kd[Va++],kd[h++]=kd[Va++],Vc-=3;while(Vc>2);Vc&&(kd[h++]=kd[Va++],Vc>1&&(kd[h++]=kd[Va++]))}break}}break}}while(o<u&&h<m);Vc=z>>3,o-=Vc,z-=Vc<<3,q&=(1<<z)-1,A.next_in=o,A.next_out=h,A.avail_in=o<u?u-o+5:5-(o-u),A.avail_out=h<m?m-h+257:257-(h-m),_h.hold=q,_h.bits=z};const zP=15,yue=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),_ue=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vue=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Sue=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var nU=(A,r,o,u,h,f,m,v)=>{const R=v.bits;let D,k,L,q,z,_s,_n=0,_i=0,Aa=0,Ea=0,Qa=0,Vc=0,Fa=0,Va=0,_c=0,ec=0,kd=null;const _h=new Uint16Array(16),RQ=new Uint16Array(16);let jQ,w0,E_,O0=null;for(_n=0;_n<=zP;_n++)_h[_n]=0;for(_i=0;_i<u;_i++)_h[r[o+_i]]++;for(Qa=R,Ea=zP;Ea>=1&&_h[Ea]===0;Ea--);if(Qa>Ea&&(Qa=Ea),Ea===0)return h[f++]=20971520,h[f++]=20971520,v.bits=1,0;for(Aa=1;Aa<Ea&&_h[Aa]===0;Aa++);for(Qa<Aa&&(Qa=Aa),Va=1,_n=1;_n<=zP;_n++)if(Va<<=1,Va-=_h[_n],Va<0)return-1;if(Va>0&&(A===0||Ea!==1))return-1;for(RQ[1]=0,_n=1;_n<zP;_n++)RQ[_n+1]=RQ[_n]+_h[_n];for(_i=0;_i<u;_i++)r[o+_i]!==0&&(m[RQ[r[o+_i]]++]=_i);if(A===0?(kd=O0=m,_s=20):A===1?(kd=yue,O0=_ue,_s=257):(kd=vue,O0=Sue,_s=0),ec=0,_i=0,_n=Aa,z=f,Vc=Qa,Fa=0,L=-1,_c=1<<Qa,q=_c-1,A===1&&_c>852||A===2&&_c>592)return 1;for(;;){jQ=_n-Fa,m[_i]+1<_s?(w0=0,E_=m[_i]):m[_i]>=_s?(w0=O0[m[_i]-_s],E_=kd[m[_i]-_s]):(w0=96,E_=0),D=1<<_n-Fa,k=1<<Vc,Aa=k;do k-=D,h[z+(ec>>Fa)+k]=jQ<<24|w0<<16|E_|0;while(k!==0);for(D=1<<_n-1;ec&D;)D>>=1;if(D!==0?(ec&=D-1,ec+=D):ec=0,_i++,--_h[_n]==0){if(_n===Ea)break;_n=r[o+m[_i]]}if(_n>Qa&&(ec&q)!==L){for(Fa===0&&(Fa=Qa),z+=Aa,Vc=_n-Fa,Va=1<<Vc;Vc+Fa<Ea&&(Va-=_h[Vc+Fa],!(Va<=0));)Vc++,Va<<=1;if(_c+=1<<Vc,A===1&&_c>852||A===2&&_c>592)return 1;L=ec&q,h[L]=Qa<<24|Vc<<16|z-f|0}}return ec!==0&&(h[z+ec]=_n-Fa<<24|64<<16|0),v.bits=Qa,0};const{Z_FINISH:LX,Z_BLOCK:Rue,Z_TREES:ZP,Z_OK:o1,Z_STREAM_END:wue,Z_NEED_DICT:bue,Z_STREAM_ERROR:PR,Z_DATA_ERROR:MX,Z_MEM_ERROR:xX,Z_BUF_ERROR:Due,Z_DEFLATED:UX}=_k,$P=16180,_G=16190,FN=16191,m4=16192,y4=16194,_F=16199,e3=16200,_4=16206,O_=16209,PX=A=>(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24);function Nue(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const A1=A=>{if(!A)return 1;const r=A.state;return!r||r.strm!==A||r.mode<$P||r.mode>16211?1:0},GX=A=>{if(A1(A))return PR;const r=A.state;return A.total_in=A.total_out=r.total=0,A.msg="",r.wrap&&(A.adler=1&r.wrap),r.mode=$P,r.last=0,r.havedict=0,r.flags=-1,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,o1},FX=A=>{if(A1(A))return PR;const r=A.state;return r.wsize=0,r.whave=0,r.wnext=0,GX(A)},KX=(A,r)=>{let o;if(A1(A))return PR;const u=A.state;return r<0?(o=0,r=-r):(o=5+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15)?PR:(u.window!==null&&u.wbits!==r&&(u.window=null),u.wrap=o,u.wbits=r,FX(A))},jX=(A,r)=>{if(!A)return PR;const o=new Nue;A.state=o,o.strm=A,o.window=null,o.mode=$P;const u=KX(A,r);return u!==o1&&(A.state=null),u};let v4,S4,HX=!0;const Tue=A=>{if(HX){v4=new Int32Array(512),S4=new Int32Array(32);let r=0;for(;r<144;)A.lens[r++]=8;for(;r<256;)A.lens[r++]=9;for(;r<280;)A.lens[r++]=7;for(;r<288;)A.lens[r++]=8;for(nU(1,A.lens,0,288,v4,0,A.work,{bits:9}),r=0;r<32;)A.lens[r++]=5;nU(2,A.lens,0,32,S4,0,A.work,{bits:5}),HX=!1}A.lencode=v4,A.lenbits=9,A.distcode=S4,A.distbits=5},YX=(A,r,o,u)=>{let h;const f=A.state;return f.window===null&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new Uint8Array(f.wsize)),u>=f.wsize?(f.window.set(r.subarray(o-f.wsize,o),0),f.wnext=0,f.whave=f.wsize):(h=f.wsize-f.wnext,h>u&&(h=u),f.window.set(r.subarray(o-u,o-u+h),f.wnext),(u-=h)?(f.window.set(r.subarray(o-u,o),0),f.wnext=u,f.whave=f.wsize):(f.wnext+=h,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=h))),0};var kue=(A,r)=>{let o,u,h,f,m,v,R,D,k,L,q,z,_s,_n,_i,Aa,Ea,Qa,Vc,Fa,Va,_c,ec=0;const kd=new Uint8Array(4);let _h,RQ;const jQ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(A1(A)||!A.output||!A.input&&A.avail_in!==0)return PR;o=A.state,o.mode===FN&&(o.mode=m4),m=A.next_out,h=A.output,R=A.avail_out,f=A.next_in,u=A.input,v=A.avail_in,D=o.hold,k=o.bits,L=v,q=R,_c=o1;e:for(;;)switch(o.mode){case $P:if(o.wrap===0){o.mode=m4;break}for(;k<16;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(2&o.wrap&&D===35615){o.wbits===0&&(o.wbits=15),o.check=0,kd[0]=255&D,kd[1]=D>>>8&255,o.check=BS(o.check,kd,2,0),D=0,k=0,o.mode=16181;break}if(o.head&&(o.head.done=!1),!(1&o.wrap)||(((255&D)<<8)+(D>>8))%31){A.msg="incorrect header check",o.mode=O_;break}if((15&D)!==UX){A.msg="unknown compression method",o.mode=O_;break}if(D>>>=4,k-=4,Va=8+(15&D),o.wbits===0&&(o.wbits=Va),Va>15||Va>o.wbits){A.msg="invalid window size",o.mode=O_;break}o.dmax=1<<o.wbits,o.flags=0,A.adler=o.check=1,o.mode=512&D?16189:FN,D=0,k=0;break;case 16181:for(;k<16;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(o.flags=D,(255&o.flags)!==UX){A.msg="unknown compression method",o.mode=O_;break}if(57344&o.flags){A.msg="unknown header flags set",o.mode=O_;break}o.head&&(o.head.text=D>>8&1),512&o.flags&&4&o.wrap&&(kd[0]=255&D,kd[1]=D>>>8&255,o.check=BS(o.check,kd,2,0)),D=0,k=0,o.mode=16182;case 16182:for(;k<32;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.head&&(o.head.time=D),512&o.flags&&4&o.wrap&&(kd[0]=255&D,kd[1]=D>>>8&255,kd[2]=D>>>16&255,kd[3]=D>>>24&255,o.check=BS(o.check,kd,4,0)),D=0,k=0,o.mode=16183;case 16183:for(;k<16;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.head&&(o.head.xflags=255&D,o.head.os=D>>8),512&o.flags&&4&o.wrap&&(kd[0]=255&D,kd[1]=D>>>8&255,o.check=BS(o.check,kd,2,0)),D=0,k=0,o.mode=16184;case 16184:if(1024&o.flags){for(;k<16;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.length=D,o.head&&(o.head.extra_len=D),512&o.flags&&4&o.wrap&&(kd[0]=255&D,kd[1]=D>>>8&255,o.check=BS(o.check,kd,2,0)),D=0,k=0}else o.head&&(o.head.extra=null);o.mode=16185;case 16185:if(1024&o.flags&&(z=o.length,z>v&&(z=v),z&&(o.head&&(Va=o.head.extra_len-o.length,o.head.extra||(o.head.extra=new Uint8Array(o.head.extra_len)),o.head.extra.set(u.subarray(f,f+z),Va)),512&o.flags&&4&o.wrap&&(o.check=BS(o.check,u,z,f)),v-=z,f+=z,o.length-=z),o.length))break e;o.length=0,o.mode=16186;case 16186:if(2048&o.flags){if(v===0)break e;z=0;do Va=u[f+z++],o.head&&Va&&o.length<65536&&(o.head.name+=String.fromCharCode(Va));while(Va&&z<v);if(512&o.flags&&4&o.wrap&&(o.check=BS(o.check,u,z,f)),v-=z,f+=z,Va)break e}else o.head&&(o.head.name=null);o.length=0,o.mode=16187;case 16187:if(4096&o.flags){if(v===0)break e;z=0;do Va=u[f+z++],o.head&&Va&&o.length<65536&&(o.head.comment+=String.fromCharCode(Va));while(Va&&z<v);if(512&o.flags&&4&o.wrap&&(o.check=BS(o.check,u,z,f)),v-=z,f+=z,Va)break e}else o.head&&(o.head.comment=null);o.mode=16188;case 16188:if(512&o.flags){for(;k<16;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(4&o.wrap&&D!==(65535&o.check)){A.msg="header crc mismatch",o.mode=O_;break}D=0,k=0}o.head&&(o.head.hcrc=o.flags>>9&1,o.head.done=!0),A.adler=o.check=0,o.mode=FN;break;case 16189:for(;k<32;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}A.adler=o.check=PX(D),D=0,k=0,o.mode=_G;case _G:if(o.havedict===0)return A.next_out=m,A.avail_out=R,A.next_in=f,A.avail_in=v,o.hold=D,o.bits=k,bue;A.adler=o.check=1,o.mode=FN;case FN:if(r===Rue||r===ZP)break e;case m4:if(o.last){D>>>=7&k,k-=7&k,o.mode=_4;break}for(;k<3;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}switch(o.last=1&D,D>>>=1,k-=1,3&D){case 0:o.mode=16193;break;case 1:if(Tue(o),o.mode=_F,r===ZP){D>>>=2,k-=2;break e}break;case 2:o.mode=16196;break;case 3:A.msg="invalid block type",o.mode=O_}D>>>=2,k-=2;break;case 16193:for(D>>>=7&k,k-=7&k;k<32;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if((65535&D)!=(D>>>16^65535)){A.msg="invalid stored block lengths",o.mode=O_;break}if(o.length=65535&D,D=0,k=0,o.mode=y4,r===ZP)break e;case y4:o.mode=16195;case 16195:if(z=o.length,z){if(z>v&&(z=v),z>R&&(z=R),z===0)break e;h.set(u.subarray(f,f+z),m),v-=z,f+=z,R-=z,m+=z,o.length-=z;break}o.mode=FN;break;case 16196:for(;k<14;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(o.nlen=257+(31&D),D>>>=5,k-=5,o.ndist=1+(31&D),D>>>=5,k-=5,o.ncode=4+(15&D),D>>>=4,k-=4,o.nlen>286||o.ndist>30){A.msg="too many length or distance symbols",o.mode=O_;break}o.have=0,o.mode=16197;case 16197:for(;o.have<o.ncode;){for(;k<3;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.lens[jQ[o.have++]]=7&D,D>>>=3,k-=3}for(;o.have<19;)o.lens[jQ[o.have++]]=0;if(o.lencode=o.lendyn,o.lenbits=7,_h={bits:o.lenbits},_c=nU(0,o.lens,0,19,o.lencode,0,o.work,_h),o.lenbits=_h.bits,_c){A.msg="invalid code lengths set",o.mode=O_;break}o.have=0,o.mode=16198;case 16198:for(;o.have<o.nlen+o.ndist;){for(;ec=o.lencode[D&(1<<o.lenbits)-1],_i=ec>>>24,Aa=ec>>>16&255,Ea=65535&ec,!(_i<=k);){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(Ea<16)D>>>=_i,k-=_i,o.lens[o.have++]=Ea;else{if(Ea===16){for(RQ=_i+2;k<RQ;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(D>>>=_i,k-=_i,o.have===0){A.msg="invalid bit length repeat",o.mode=O_;break}Va=o.lens[o.have-1],z=3+(3&D),D>>>=2,k-=2}else if(Ea===17){for(RQ=_i+3;k<RQ;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}D>>>=_i,k-=_i,Va=0,z=3+(7&D),D>>>=3,k-=3}else{for(RQ=_i+7;k<RQ;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}D>>>=_i,k-=_i,Va=0,z=11+(127&D),D>>>=7,k-=7}if(o.have+z>o.nlen+o.ndist){A.msg="invalid bit length repeat",o.mode=O_;break}for(;z--;)o.lens[o.have++]=Va}}if(o.mode===O_)break;if(o.lens[256]===0){A.msg="invalid code -- missing end-of-block",o.mode=O_;break}if(o.lenbits=9,_h={bits:o.lenbits},_c=nU(1,o.lens,0,o.nlen,o.lencode,0,o.work,_h),o.lenbits=_h.bits,_c){A.msg="invalid literal/lengths set",o.mode=O_;break}if(o.distbits=6,o.distcode=o.distdyn,_h={bits:o.distbits},_c=nU(2,o.lens,o.nlen,o.ndist,o.distcode,0,o.work,_h),o.distbits=_h.bits,_c){A.msg="invalid distances set",o.mode=O_;break}if(o.mode=_F,r===ZP)break e;case _F:o.mode=e3;case e3:if(v>=6&&R>=258){A.next_out=m,A.avail_out=R,A.next_in=f,A.avail_in=v,o.hold=D,o.bits=k,mue(A,q),m=A.next_out,h=A.output,R=A.avail_out,f=A.next_in,u=A.input,v=A.avail_in,D=o.hold,k=o.bits,o.mode===FN&&(o.back=-1);break}for(o.back=0;ec=o.lencode[D&(1<<o.lenbits)-1],_i=ec>>>24,Aa=ec>>>16&255,Ea=65535&ec,!(_i<=k);){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(Aa&&!(240&Aa)){for(Qa=_i,Vc=Aa,Fa=Ea;ec=o.lencode[Fa+((D&(1<<Qa+Vc)-1)>>Qa)],_i=ec>>>24,Aa=ec>>>16&255,Ea=65535&ec,!(Qa+_i<=k);){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}D>>>=Qa,k-=Qa,o.back+=Qa}if(D>>>=_i,k-=_i,o.back+=_i,o.length=Ea,Aa===0){o.mode=16205;break}if(32&Aa){o.back=-1,o.mode=FN;break}if(64&Aa){A.msg="invalid literal/length code",o.mode=O_;break}o.extra=15&Aa,o.mode=16201;case 16201:if(o.extra){for(RQ=o.extra;k<RQ;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.length+=D&(1<<o.extra)-1,D>>>=o.extra,k-=o.extra,o.back+=o.extra}o.was=o.length,o.mode=16202;case 16202:for(;ec=o.distcode[D&(1<<o.distbits)-1],_i=ec>>>24,Aa=ec>>>16&255,Ea=65535&ec,!(_i<=k);){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(!(240&Aa)){for(Qa=_i,Vc=Aa,Fa=Ea;ec=o.distcode[Fa+((D&(1<<Qa+Vc)-1)>>Qa)],_i=ec>>>24,Aa=ec>>>16&255,Ea=65535&ec,!(Qa+_i<=k);){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}D>>>=Qa,k-=Qa,o.back+=Qa}if(D>>>=_i,k-=_i,o.back+=_i,64&Aa){A.msg="invalid distance code",o.mode=O_;break}o.offset=Ea,o.extra=15&Aa,o.mode=16203;case 16203:if(o.extra){for(RQ=o.extra;k<RQ;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}o.offset+=D&(1<<o.extra)-1,D>>>=o.extra,k-=o.extra,o.back+=o.extra}if(o.offset>o.dmax){A.msg="invalid distance too far back",o.mode=O_;break}o.mode=16204;case 16204:if(R===0)break e;if(z=q-R,o.offset>z){if(z=o.offset-z,z>o.whave&&o.sane){A.msg="invalid distance too far back",o.mode=O_;break}z>o.wnext?(z-=o.wnext,_s=o.wsize-z):_s=o.wnext-z,z>o.length&&(z=o.length),_n=o.window}else _n=h,_s=m-o.offset,z=o.length;z>R&&(z=R),R-=z,o.length-=z;do h[m++]=_n[_s++];while(--z);o.length===0&&(o.mode=e3);break;case 16205:if(R===0)break e;h[m++]=o.length,R--,o.mode=e3;break;case _4:if(o.wrap){for(;k<32;){if(v===0)break e;v--,D|=u[f++]<<k,k+=8}if(q-=R,A.total_out+=q,o.total+=q,4&o.wrap&&q&&(A.adler=o.check=o.flags?BS(o.check,h,q,m-q):XO(o.check,h,q,m-q)),q=R,4&o.wrap&&(o.flags?D:PX(D))!==o.check){A.msg="incorrect data check",o.mode=O_;break}D=0,k=0}o.mode=16207;case 16207:if(o.wrap&&o.flags){for(;k<32;){if(v===0)break e;v--,D+=u[f++]<<k,k+=8}if(4&o.wrap&&D!==(4294967295&o.total)){A.msg="incorrect length check",o.mode=O_;break}D=0,k=0}o.mode=16208;case 16208:_c=wue;break e;case O_:_c=MX;break e;case 16210:return xX;default:return PR}return A.next_out=m,A.avail_out=R,A.next_in=f,A.avail_in=v,o.hold=D,o.bits=k,(o.wsize||q!==A.avail_out&&o.mode<O_&&(o.mode<_4||r!==LX))&&YX(A,A.output,A.next_out,q-A.avail_out),L-=A.avail_in,q-=A.avail_out,A.total_in+=L,A.total_out+=q,o.total+=q,4&o.wrap&&q&&(A.adler=o.check=o.flags?BS(o.check,h,q,A.next_out-q):XO(o.check,h,q,A.next_out-q)),A.data_type=o.bits+(o.last?64:0)+(o.mode===FN?128:0)+(o.mode===_F||o.mode===y4?256:0),(L===0&&q===0||r===LX)&&_c===o1&&(_c=Due),_c},KN={inflateReset:FX,inflateReset2:KX,inflateResetKeep:GX,inflateInit:A=>jX(A,15),inflateInit2:jX,inflate:kue,inflateEnd:A=>{if(A1(A))return PR;let r=A.state;return r.window&&(r.window=null),A.state=null,o1},inflateGetHeader:(A,r)=>{if(A1(A))return PR;const o=A.state;return 2&o.wrap?(o.head=r,r.done=!1,o1):PR},inflateSetDictionary:(A,r)=>{const o=r.length;let u,h,f;return A1(A)?PR:(u=A.state,u.wrap!==0&&u.mode!==_G?PR:u.mode===_G&&(h=1,h=XO(h,r,o,0),h!==u.check)?MX:(f=YX(A,r,o,o),f?(u.mode=16210,xX):(u.havedict=1,o1)))},inflateInfo:"pako inflate (from Nodeca project)"},Oue=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const JX=Object.prototype.toString,{Z_NO_FLUSH:Lue,Z_FINISH:Mue,Z_OK:rU,Z_STREAM_END:R4,Z_NEED_DICT:w4,Z_STREAM_ERROR:xue,Z_DATA_ERROR:VX,Z_MEM_ERROR:Uue}=_k;function iU(A){this.options=qP.assign({chunkSize:65536,windowBits:15,to:""},A||{});const r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,r.windowBits===0&&(r.windowBits=-15)),!(r.windowBits>=0&&r.windowBits<16)||A&&A.windowBits||(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&!(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kX,this.strm.avail_out=0;let o=KN.inflateInit2(this.strm,r.windowBits);if(o!==rU)throw new Error(t1[o]);if(this.header=new Oue,KN.inflateGetHeader(this.strm,this.header),r.dictionary&&(typeof r.dictionary=="string"?r.dictionary=eU.string2buf(r.dictionary):JX.call(r.dictionary)==="[object ArrayBuffer]"&&(r.dictionary=new Uint8Array(r.dictionary)),r.raw&&(o=KN.inflateSetDictionary(this.strm,r.dictionary),o!==rU)))throw new Error(t1[o])}function b4(A,r){const o=new iU(r);if(o.push(A),o.err)throw o.msg||t1[o.err];return o.result}iU.prototype.push=function(A,r){const o=this.strm,u=this.options.chunkSize,h=this.options.dictionary;let f,m,v;if(this.ended)return!1;for(m=r===~~r?r:r===!0?Mue:Lue,JX.call(A)==="[object ArrayBuffer]"?o.input=new Uint8Array(A):o.input=A,o.next_in=0,o.avail_in=o.input.length;;){for(o.avail_out===0&&(o.output=new Uint8Array(u),o.next_out=0,o.avail_out=u),f=KN.inflate(o,m),f===w4&&h&&(f=KN.inflateSetDictionary(o,h),f===rU?f=KN.inflate(o,m):f===VX&&(f=w4));o.avail_in>0&&f===R4&&o.state.wrap>0&&A[o.next_in]!==0;)KN.inflateReset(o),f=KN.inflate(o,m);switch(f){case xue:case VX:case w4:case Uue:return this.onEnd(f),this.ended=!0,!1}if(v=o.avail_out,o.next_out&&(o.avail_out===0||f===R4))if(this.options.to==="string"){let R=eU.utf8border(o.output,o.next_out),D=o.next_out-R,k=eU.buf2string(o.output,R);o.next_out=D,o.avail_out=u-D,D&&o.output.set(o.output.subarray(R,R+D),0),this.onData(k)}else this.onData(o.output.length===o.next_out?o.output:o.output.subarray(0,o.next_out));if(f!==rU||v!==0){if(f===R4)return f=KN.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,!0;if(o.avail_in===0)break}}return!0},iU.prototype.onData=function(A){this.chunks.push(A)},iU.prototype.onEnd=function(A){A===rU&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=qP.flattenChunks(this.chunks)),this.chunks=[],this.err=A,this.msg=this.strm.msg};var Pue={Inflate:iU,inflate:b4,inflateRaw:function(A,r){return(r=r||{}).raw=!0,b4(A,r)},ungzip:b4,constants:_k};const{Deflate:Yge,deflate:Gue,deflateRaw:Jge,gzip:Vge}=Que,{Inflate:qge,inflate:Fue,inflateRaw:Wge,ungzip:Xge}=Pue;var D4,Kue=Gue,jue=Fue;(function(A){A[A.ONE_BYTE=0]="ONE_BYTE",A[A.TWO_BYTE=1]="TWO_BYTE"})(D4||(D4={}));class Hue{constructor(){j(this,"_sequence",0),j(this,"_startTime",Date.now()),j(this,"isUseOneByte",!0)}get startTime(){const r=Date.now()-this._startTime;return r<Math.pow(2,16)?r:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(r){const o={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:r};if(r.byteLength>128){const v=new Uint8Array(4);v.set([1,0,0,0]);const R={id:0,length:4,data:v.buffer},D={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[R]};o.commonPacketHeader.extension=1,o.extension=D,o.payload=this.compress(r),o.commonPacketHeader.length=8+(o.extension.length+2)+o.payload.byteLength}else o.commonPacketHeader.length=8+o.payload.byteLength;la("SHOW_DATASTREAM2_LOG")&&$.debug("send data header: ".concat(JSON.stringify(o.commonPacketHeader)));const u=new ArrayBuffer(o.commonPacketHeader.length),h=new Uint8Array(u),f=new DataView(u);let m=0;if(f.setUint16(m,o.commonPacketHeader.extension<<15|o.commonPacketHeader.reserved<<14|o.commonPacketHeader.length,!0),m+=2,f.setUint32(m,o.commonPacketHeader.sequence,!0),m+=4,f.setUint16(m,o.commonStreamHeader,!0),m+=2,o.extension){const v=this.serializeExtension(o.extension);h.set(new Uint8Array(v),m),m+=v.byteLength}if(h.set(new Uint8Array(o.payload),m),m+=o.payload.byteLength,m!==o.commonPacketHeader.length)throw Error("serialize error!");return u}deserialize(r){if(r.byteLength<4)return new ArrayBuffer(0);const o=new DataView(r);let u=0;const h=o.getUint16(u,!0);u+=2;const f={length:16383&h,reserved:(16384&h)>>14,extension:(32768&h)>>15,sequence:o.getUint16(u+2,!0)<<16|o.getUint16(u,!0)};let m,v;if(u+=4,la("SHOW_DATASTREAM2_LOG")&&$.debug("receive data header: ".concat(JSON.stringify(f))),o.getUint16(u,!0),u+=2,f.extension){v=this.deserializeExtension(r.slice(u)),u+=2+v.length,m=r.slice(u);let R=!1;if(v.datas.length>0){const D=v.datas.find(k=>k.id===0);D&&(R=(1&new DataView(D.data).getUint32(0,!0))==1)}m=R?this.decompress(m):m}else m=r.slice(8);return m}serializeExtension(r){const{profile:o,length:u,datas:h}=r,f=new ArrayBuffer(u+2),m=new Uint8Array(f),v=new DataView(f);let R=0;if(v.setUint8(R++,o),v.setUint8(R++,u),h.forEach(D=>{o?(v.setUint8(R++,D.id),v.setUint8(R++,D.length),m.set(new Uint8Array(D.data),R),R+=D.data.byteLength):(v.setUint8(R++,D.id|D.length<<4),m.set(new Uint8Array(D.data),R),R+=D.data.byteLength)}),R!==u+2)throw Error("serialize extension error, is ".concat(R,"!==").concat(u+2));return f}deserializeExtension(r){const o=new DataView(r);let u=0;const h=o.getUint8(u);u++;const f=o.getUint8(u);u++;const m=h===D4.TWO_BYTE,v=[],R=new DataView(r,2);let D=0;for(;D<f;){let k=0,L=0,q=new ArrayBuffer(0);m?(k=R.getUint8(D),D++,L=R.getUint8(D),D++):(k=15&R.getUint8(D),L=R.getUint8(D)>>4,D++),L>0&&(q=R.buffer.slice(D+2,D+2+L),D+=q.byteLength),v.push({id:k,length:L,data:q})}if(D!==f)throw Error("parse error");return{profile:h,length:f,datas:v}}decompress(r){return jue(new Uint8Array(r))}compress(r){return Kue(new Uint8Array(r))}}class qX extends x0{constructor(r,o){super(),j(this,"_version",1),j(this,"_type",3),j(this,"_config",void 0),j(this,"_originDataChannel",void 0),j(this,"_dataStreamPacketHeader",new ArrayBuffer(4)),j(this,"_dataStreamPacketHandler",void 0),j(this,"_datachannelEventMap",new Map),this._config=r,o&&(this._originDataChannel=o,this._bandDataChannelEvents(o)),this._initPacketHeader(),this._dataStreamPacketHandler=new Hue}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return la("DATASTREAM_MAX_RETRANSMITS")}get metadata(){return this._config.metadata}get readyState(){var r,o;return(r=(o=this._originDataChannel)===null||o===void 0?void 0:o.readyState)!==null&&r!==void 0?r:"connecting"}get _originDataChannelId(){var r,o;return(r=(o=this._originDataChannel)===null||o===void 0?void 0:o.id)!==null&&r!==void 0?r:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new lc((r,o)=>{if(this._originDataChannel){this._originDataChannel.readyState==="open"&&r();const u=setTimeout(()=>{var h;o(new _g(ea.DATACHANNEL_CONNECTION_TIMEOUT,"Cannot create datachannel, id: ".concat((h=this._originDataChannel)===null||h===void 0?void 0:h.id)))},1e4);this._originDataChannel.onopen=()=>{clearTimeout(u),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),r()},this._originDataChannel.onerror=()=>{throw clearTimeout(u),new _g(ea.DATACHANNEL_CONNECTION_TIMEOUT)}}else o(new _g(ea.DATACHANNEL_CONNECTION_TIMEOUT,"cannot find dataChannel"))})}_updateOriginDataChannel(r){this._originDataChannel=r,this._bandDataChannelEvents(r)}_initPacketHeader(){const r=new DataView(this._dataStreamPacketHeader);r.setUint16(0,this._version),r.setUint8(2,this._type),r.setUint8(3,this._config.id)}_bandDataChannelEvents(r){this._unbindDataChannelEvents(r),[W1.OPEN,W1.CLOSE,W1.ERROR].forEach(o=>{const u=()=>{this.emit(o)};this._datachannelEventMap.set(o,u),r.addEventListener(o,u)})}_unbindDataChannelEvents(r){Array.from(this._datachannelEventMap.entries()).forEach(o=>{let[u,h]=o;r.removeEventListener(u,h)}),this._datachannelEventMap.clear()}}class Yue extends qX{constructor(r){super(r),j(this,"_messageListener",void 0),this._messageListener=o=>{if(o.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error("invalid byteLength: the byte length must exceed "+this._dataStreamPacketHeader.byteLength);const u=o.data.slice(0,this._dataStreamPacketHeader.byteLength),h=new DataView(u).getUint8(3);if(h!==this.id)return void(la("SHOW_DATASTREAM2_LOG")&&$.debug("invalid datachannel id: ".concat(h," !== ").concat(this.id)));let f=o.data.slice(this._dataStreamPacketHeader.byteLength);f=this._dataStreamPacketHandler.deserialize(f),this.emit(W1.MESSAGE,f)}}_updateOriginDataChannel(r){super._updateOriginDataChannel(r),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener("message",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener("message",this._messageListener)}}class WX extends qX{send(r){if(this._originDataChannel){let o=r;o=this._dataStreamPacketHandler.serialize(r);const u=new Uint8Array(this._dataStreamPacketHeader.byteLength+o.byteLength);u.set(new Uint8Array(this._dataStreamPacketHeader),0),u.set(new Uint8Array(o),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(u.buffer)}}}(function(){const A=o0();AS.getDisplayMedia=function(r){return!!(navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia)}(),AS.getStreamFromExtension=A.name===c0.CHROME&&Number(A.version)>34,AS.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;const r=new RTCPeerConnection;let o=!1;try{r.addTransceiver("audio"),o=!0}catch{}return r.close(),o}(),AS.supportMinBitrate=A.name===c0.CHROME||A.name===c0.EDGE,AS.supportSetRtpSenderParameters=function(){const r=o0();return!window.RTCRtpSender||!window.RTCRtpSender.prototype.setParameters||!window.RTCRtpSender.prototype.getParameters?!1:!!nT()||!(!uS()&&!iP())||r.name===c0.FIREFOX&&Number(r.version)>=64}(),A.name===c0.SAFARI&&(Number(A.version)>=14?AS.supportDualStream=!0:AS.supportDualStream=!1),AS.webAudioMediaStreamDest=function(){const r=o0();return!(r.name===c0.SAFARI&&Number(r.version)<12)}(),AS.supportReplaceTrack=function(){return window.RTCRtpSender?typeof RTCRtpSender.prototype.replaceTrack=="function":!1}(),AS.supportWebGL=typeof WebGLRenderingContext<"u",AS.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,nT()||(AS.webAudioWithAEC=!0),AS.supportShareAudio=function(){const r=o0();return(r.os===h_.WIN_10||r.os===h_.WIN_81||r.os===h_.WIN_7||r.os===h_.LINUX||r.os===h_.MAC_OS||r.os===h_.CHROMIUM_OS)&&r.name===c0.CHROME&&Number(r.version)>=74}(),AS.supportDataChannel=function(){return!!(J6(76)||function(r){const o=o0();return!(o.name!==c0.FIREFOX||!o.osVersion)&&Number(o.version)>=r}(68)||function(r){const o=o0();return!(o.name!==c0.SAFARI||!o.osVersion)&&Number(o.version)>=r}(14))}(),AS.supportPCSetConfiguration=function(){const r=window.RTCPeerConnection;return!Q0()&&!!r&&r.prototype.setConfiguration instanceof Function}(),AS.supportWebRTCEncodedTransform=function(){const r=o0();return r.name==="Chrome"&&Number(r.version)>=86}(),AS.supportWebRTCInsertableStream=function(){const r=o0();return(r.name===c0.CHROME||r.name===c0.EDGE)&&Number(r.version)>=94&&"MediaStreamTrackGenerator"in window&&"MediaStreamTrackProcessor"in window}(),aP(()=>{AS.supportDualStreamEncoding=function(){const r=o0();return la("DISABLE_WEBAUDIO")?!0:r.name==="Safari"&&Number(r.version)>=14||!!(r.name==="Chrome"&&/Windows/i.test(r.os||"")&&Number(r.version)>=100&&la("CHROME_DUAL_STREAM_USE_ENCODING"))}(),$.info("browser compatibility",JSON.stringify(AS),JSON.stringify(A))})})();class Jue extends x0{constructor(){super(...arguments),j(this,"resultStorage",new Map)}setLocalAudioStats(r,o,u){this.record("AUDIO_INPUT_LEVEL_TOO_LOW",r,this.checkAudioInputLevel(u,o)),this.record("SEND_AUDIO_BITRATE_TOO_LOW",r,this.checkSendAudioBitrate(u,o))}setLocalVideoStats(r,o,u){this.record("SEND_VIDEO_BITRATE_TOO_LOW",r,this.checkSendVideoBitrate(u,o)),this.record("FRAMERATE_INPUT_TOO_LOW",r,this.checkFramerateInput(u,o)),this.record("FRAMERATE_SENT_TOO_LOW",r,this.checkFramerateSent(u))}setRemoteAudioStats(r,o){const u=r.getUserId();this.record("AUDIO_OUTPUT_LEVEL_TOO_LOW",u,this.checkAudioOutputLevel(o))}setRemoteVideoStats(r,o){const u=r.getUserId();this.record("RECV_VIDEO_DECODE_FAILED",u,this.checkVideoDecode(o))}record(r,o,u){if(la("STATS_UPDATE_INTERVAL")>500)return;this.resultStorage.has(r)||this.resultStorage.set(r,{result:[],isPrevNormal:!0});const h=this.resultStorage.get(r);if(h&&(h.result.push(u),h.result.length>=5)){var f;const m=AQ(f=h.result).call(f,!0);h.isPrevNormal&&!m&&this.emit("exception",XX[r],r,o),!h.isPrevNormal&&m&&this.emit("exception",XX[r]+2e3,r+"_RECOVER",o),h.isPrevNormal=m,h.result=[]}}checkAudioOutputLevel(r){return!(r.receiveBitrate>0&&r.receiveLevel===0)}checkAudioInputLevel(r,o){return o instanceof a_&&!o.isActive||!!o.muted||r.sendVolumeLevel!==0}checkFramerateInput(r,o){let u=null;o._encoderConfig&&o._encoderConfig.frameRate&&(u=iR(o._encoderConfig.frameRate));const h=r.captureFrameRate;return!u||!h||!(u>10&&h<5||u<10&&u>=5&&h<=1)}checkFramerateSent(r){return!(r.captureFrameRate&&r.sendFrameRate&&r.captureFrameRate>5&&r.sendFrameRate<=1)}checkSendVideoBitrate(r,o){return!!o.muted||r.sendBitrate!==0}checkSendAudioBitrate(r,o){return o instanceof a_&&!o.isActive||!!o.muted||r.sendBitrate!==0}checkVideoDecode(r){return r.receiveBitrate===0||r.decodeFrameRate!==0}}const XX={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003},Z_=new class{markSubscribeStart(A,r){performance.mark("agora-web-sdk/".concat(A,"/subscribe-").concat(r))}markPublishStart(A,r){performance.mark("agora-web-sdk/".concat(A,"/publish-").concat(r))}measureFromSubscribeStart(A,r){const o=performance.getEntriesByName("agora-web-sdk/".concat(A,"/subscribe-").concat(r));if(o.length>0){const u=o[o.length-1];return Math.round(performance.now()-u.startTime)}return 0}measureFromPublishStart(A,r){const o=performance.getEntriesByName("agora-web-sdk/".concat(A,"/publish-").concat(r));if(o.length>0){const u=o[o.length-1];return Math.round(performance.now()-u.startTime)}return 0}};function N4(A,r){this.v=A,this.k=r}function KQ(A){return new N4(A,0)}var Vue=c9,que=_D;V0({target:"Promise",stat:!0,forced:!0},{withResolvers:function(){var A=que.f(this);return{promise:A.promise,resolve:A.resolve,reject:A.reject}}});var Wue=_D,Xue=b1;V0({target:"Promise",stat:!0,forced:!0},{try:function(A){var r=Wue.f(this),o=Xue(A);return(o.error?r.reject:r.resolve)(o.value),r.promise}});var T4=s(Vue),zX=f1.f("asyncIterator"),zue=s(zX);function oU(A){var r,o;function u(f,m){try{var v=A[f](m),R=v.value,D=R instanceof N4;T4.resolve(D?R.v:R).then(function(k){if(D){var L=f==="return"?"return":"next";if(!R.k||k.done)return u(L,k);k=A[L](k).value}h(v.done?"return":"normal",k)},function(k){u("throw",k)})}catch(k){h("throw",k)}}function h(f,m){switch(f){case"return":r.resolve({value:m,done:!0});break;case"throw":r.reject(m);break;default:r.resolve({value:m,done:!1})}(r=r.next)?u(r.key,r.arg):o=null}this._invoke=function(f,m){return new T4(function(v,R){var D={key:f,arg:m,resolve:v,reject:R,next:null};o?o=o.next=D:(r=o=D,u(f,m))})},typeof A.return!="function"&&(this.return=void 0)}function jS(A){return function(){return new oU(A.apply(this,arguments))}}oU.prototype[typeof v1=="function"&&zue||"@@asyncIterator"]=function(){return this},oU.prototype.next=function(A){return this._invoke("next",A)},oU.prototype.throw=function(A){return this._invoke("throw",A)},oU.prototype.return=function(A){return this._invoke("return",A)};var ZX=s(CQ.Object.getOwnPropertySymbols),Zue=V0,$ue=m3.indexOf,ege=d6,k4=na([].indexOf),$X=!!k4&&1/k4([1],1,-0)<0;Zue({target:"Array",proto:!0,forced:$X||!ege("indexOf")},{indexOf:function(A){var r=arguments.length>1?arguments[1]:void 0;return $X?k4(this,A,r)||0:$ue(this,A,r)}});var tge=zN("Array").indexOf,nge=_,rge=tge,O4=Array.prototype,_z=s(function(A){var r=A.indexOf;return A===O4||nge(O4,A)&&r===O4.indexOf?rge:r}),ige=C0,eZ=P3;V0({target:"Object",stat:!0,forced:g(function(){eZ(1)})},{keys:function(A){return eZ(ige(A))}});var oge=s(CQ.Object.keys);function Age(A,r){if(A==null)return{};var o,u,h=function(m,v){if(m==null)return{};var R,D,k={},L=oge(m);for(D=0;D<L.length;D++)R=L[D],_z(v).call(v,R)>=0||(k[R]=m[R]);return k}(A,r);if(ZX){var f=ZX(A);for(u=0;u<f.length;u++)o=f[u],_z(r).call(r,o)>=0||Object.prototype.propertyIsEnumerable.call(A,o)&&(h[o]=A[o])}return h}var tZ={exports:{}};(function(A,r){A.exports=(()=>{var o={8:(f,m,v)=>{v.r(m),v.d(m,{Parser:()=>RQ,Printer:()=>YS,parse:()=>bQ,print:()=>A0});const R=`
`,D="".concat("\r").concat(R),k=" ";let L;function q(eQ){return eQ>="0"&&eQ<="9"}function z(eQ){return eQ>="!"&&eQ<="~"}function _s(eQ){return z(eQ)||eQ>=""&&eQ<=""}function _n(eQ){return eQ==="!"||eQ>="#"&&eQ<="'"||eQ>="*"&&eQ<="+"||eQ>="-"&&eQ<="."||eQ>="0"&&eQ<="9"||eQ>="A"&&eQ<="Z"||eQ>="^"&&eQ<="~"}function _i(eQ){return eQ>="1"&&eQ<="9"}function Aa(eQ){return eQ>="A"&&eQ<="Z"||eQ>="a"&&eQ<="z"}function Ea(eQ){return eQ==="d"||eQ==="h"||eQ==="m"||eQ==="s"}function Qa(eQ){return eQ>""&&eQ<"	"||eQ>"\v"&&eQ<"\f"||eQ>""&&eQ<""}function Vc(eQ){return Aa(eQ)||q(eQ)||eQ==="+"||eQ==="/"}function Fa(eQ){return q(eQ)||Aa(eQ)||eQ==="+"||eQ==="/"||eQ==="-"||eQ==="_"}function Va(eQ){return Aa(eQ)||q(eQ)||eQ==="+"||eQ==="/"}function _c(eQ,_e){var sa=Object.keys(eQ);if(Object.getOwnPropertySymbols){var _a=Object.getOwnPropertySymbols(eQ);_e&&(_a=_a.filter(function(_C){return Object.getOwnPropertyDescriptor(eQ,_C).enumerable})),sa.push.apply(sa,_a)}return sa}function ec(eQ){for(var _e=1;_e<arguments.length;_e++){var sa=arguments[_e]!=null?arguments[_e]:{};_e%2?_c(Object(sa),!0).forEach(function(_a){kd(eQ,_a,sa[_a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(eQ,Object.getOwnPropertyDescriptors(sa)):_c(Object(sa)).forEach(function(_a){Object.defineProperty(eQ,_a,Object.getOwnPropertyDescriptor(sa,_a))})}return eQ}function kd(eQ,_e,sa){return _e in eQ?Object.defineProperty(eQ,_e,{value:sa,enumerable:!0,configurable:!0,writable:!0}):eQ[_e]=sa,eQ}(function(eQ){eQ.VERSION="v",eQ.ORIGIN="o",eQ.SESSION_NAME="s",eQ.INFORMATION="i",eQ.URI="u",eQ.EMAIL="e",eQ.PHONE="p",eQ.CONNECTION="c",eQ.BANDWIDTH="b",eQ.TIME="t",eQ.REPEAT="r",eQ.ZONE_ADJUSTMENTS="z",eQ.KEY="k",eQ.ATTRIBUTE="a",eQ.MEDIA="m"})(L||(L={}));class _h{consumeText(_e,sa){let _a=sa;for(;_a<_e.length;){const _C=_e[_a];if(_C==="\0"||_C==="\r"||_C===R)break;_a+=1}if(_a-sa==0)throw new Error("Invalid text, at ".concat(_e));return _a}consumeUnicastAddress(_e,sa,_a){return this.consumeTill(_e,sa,k)}consumeOneOrMore(_e,sa,_a){let _C=sa;for(;_a(_e[_C]);)_C++;if(_C-sa==0)throw new Error("Invalid rule at ".concat(sa,"."));return _C}consumeSpace(_e,sa){if(_e[sa]===k)return sa+1;throw new Error("Invalid space at ".concat(sa,"."))}consumeIP4Address(_e,sa){let _a=sa;for(let _C=0;_C<4;_C++)if(_a=this.consumeDecimalUChar(_e,_a),_C!==3){if(_e[_a]!==".")throw new Error("Invalid IP4 address.");_a++}return _a}consumeDecimalUChar(_e,sa){let _a=sa;for(let MQ=0;MQ<3&&q(_e[_a]);MQ++,_a++);if(_a-sa==0)throw new Error("Invalid decimal uchar.");const _C=parseInt(_e.slice(sa,_a));if(_C>=0&&_C<=255)return _a;throw new Error("Invalid decimal uchar")}consumeIP6Address(_e,sa){let _a=this.consumeHexpart(_e,sa);return _e[_a]===":"&&(_a+=1,_a=this.consumeIP4Address(_e,_a)),_a}consumeHexpart(_e,sa){let _a=sa;if(_e[_a]===":"&&_e[_a+1]===":"){_a+=2;try{_a=this.consumeHexseq(_e,_a)}catch{}return _a}if(_a=this.consumeHexseq(_e,_a),_e[_a]===":"&&_e[_a+1]===":"){_a+=2;try{_a=this.consumeHexseq(_e,_a)}catch{}return _a}return _a}consumeHexseq(_e,sa){let _a=sa;for(;_a=this.consumeHex4(_e,_a),_e[_a]===":"&&_e[_a+1]!==":";)_a+=1;return _a}consumeHex4(_e,sa){let _a=0;for(;_a<4;_a++)if(!((_C=_e[sa+_a])>="0"&&_C<="9"||_C>="a"&&_C<="f"||_C>="A"&&_C<="F")){if(_a===0)throw new Error("Invalid hex 4");break}var _C;return sa+_a}consumeFQDN(_e,sa){let _a=sa;for(;q(_e[_a])||Aa(_e[_a])||_e[_a]==="-"||_e[_a]===".";)_a+=1;if(_a-sa<4)throw new Error("Invalid FQDN");return _a}consumeExtnAddr(_e,sa){return this.consumeOneOrMore(_e,sa,_s)}consumeMulticastAddress(_e,sa,_a){switch(_a){case"IP4":case"ip4":return this.consumeIP4MulticastAddress(_e,sa);case"IP6":case"ip6":return this.consumeIP6MulticastAddress(_e,sa);default:try{return this.consumeFQDN(_e,sa)}catch{return this.consumeExtnAddr(_e,sa)}}}consumeIP6MulticastAddress(_e,sa){const _a=this.consumeHexpart(_e,sa);return _e[_a]==="/"?this.consumeInteger(_e,_a+1):_a}consumeIP4MulticastAddress(_e,sa){let _a=sa+3;const _C=_e.slice(sa,_a),MQ=parseInt(_C);if(MQ<224||MQ>239)throw new Error("Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.");for(let N0=0;N0<3;N0++){if(_e[_a]!==".")throw new Error("Invalid IP4 multicast address.");_a+=1,_a=this.consumeDecimalUChar(_e,_a)}return _e[_a]==="/"&&(_a+=1),_a=this.consumeTTL(_e,_a),_e[_a]==="/"&&(_a=this.consumeInteger(_e,_a)),_a}consumeInteger(_e,sa){if(!_i(_e[sa]))throw new Error("Invalid integer.");for(sa+=1;q(_e[sa]);)sa+=1;return sa}consumeTTL(_e,sa){if(_e[sa]==="0")return sa+1;if(!_i(_e[sa]))throw new Error("Invalid TTL.");sa+=1;for(let _a=0;_a<2&&q(_e[sa]);_a++)sa+=1;return sa}consumeToken(_e,sa){return this.consumeOneOrMore(_e,sa,_n)}consumeTime(_e,sa){let _a=sa;if(_e[_a]==="0")return _a+1;for(_i(_e[_a])&&(_a+=1);q(_e[_a]);)_a++;if(_a-sa<10)throw new Error("Invalid time");return _a}consumeAddress(_e,sa){return this.consumeTill(_e,sa,k)}consumeTypedTime(_e,sa){let _a=sa;return _a=this.consumeOneOrMore(_e,_a,q),Ea(_e[_a])?_a+1:_a}consumeRepeatInterval(_e,sa){if(!_i(_e[sa]))throw new Error("Invalid repeat interval");for(sa+=1;q(_e[sa]);)sa+=1;return Ea(_e[sa])&&(sa+=1),sa}consumePort(_e,sa){return this.consumeOneOrMore(_e,sa,q)}consume(_e,sa,_a){for(let _C=0;_C<_a.length;_C++){if(sa+_C>=_e.length)throw new Error("consume exceeding value length");if(_e[sa+_C]!==_a[_C])throw new Error("consume ".concat(_a," failed at ").concat(_C))}return sa+_a.length}consumeTill(_e,sa,_a){let _C=sa;for(;_C<_e.length&&(typeof _a!="string"||_e[_C]!==_a)&&(typeof _a!="function"||!_a(_e[_C]));)_C++;return _C}}class RQ extends _h{constructor(){super(),kd(this,"records",[]),kd(this,"currentLine",0)}parse(_e){const sa=this.probeEOL(_e);this.records=_e.split(sa).filter(I_=>!!I_.trim()).map(this.parseLine),this.currentLine=0;const _a=this.parseVersion(),_C=this.parseOrigin(),MQ=this.parseSessionName(),N0=this.parseInformation(),eS=this.parseUri(),JS=this.parseEmail(),VN=this.parsePhone(),I3=this.parseConnection(),C3=this.parseBandWidth(),RR=this.parseTimeFields(),DT=this.parseKey(),uO=this.parseSessionAttribute(),Z0=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error("parsing failed, non exhaustive sdp lines.");return{version:_a,origin:_C,sessionName:MQ,information:N0,uri:eS,emails:JS,phones:VN,connection:I3,bandwidths:C3,timeFields:RR,key:DT,attributes:uO,mediaDescriptions:Z0}}getCurrentRecord(){const _e=this.records[this.currentLine];if(!_e)throw new Error("Record doesn't exit.");return _e}probeEOL(_e){for(let sa=0;sa<_e.length;sa++)if(_e[sa]===R)return _e[sa-1]==="\r"?D:R;throw new Error("Invalid newline character.")}parseLine(_e,sa){if(_e.length<2)throw new Error("Invalid sdp line, sdp line should be of form <type>=<value>.");const _a=_e[0];if(_e[1]!=="=")throw new Error('Invalid sdp line, <type> should be a single character followed by an "=" sign.');return{type:_a,value:_e.slice(2),line:sa,cur:0}}parseSessionAttribute(){const _e=new w0;for(;this.currentLine<this.records.length;){const sa=this.getCurrentRecord();if(sa.type!==L.ATTRIBUTE)break;const _a={attField:this.extractOneOrMore(sa,_C=>_n(_C)&&_C!==":"),_cur:0};sa.value[sa.cur]===":"&&(sa.cur+=1,_a.attValue=this.extractOneOrMore(sa,Qa)),_e.parse(_a),this.currentLine++}return _e.digest()}parseMediaAttributes(_e){const sa=new E_(_e);for(;this.currentLine<this.records.length;){const _a=this.getCurrentRecord();if(_a.type!==L.ATTRIBUTE)break;const _C={attField:this.extractOneOrMore(_a,MQ=>_n(MQ)&&MQ!==":"),_cur:0};_a.value[_a.cur]===":"&&(_a.cur+=1,_C.attValue=this.extractOneOrMore(_a,Qa)),sa.parse(_C),this.currentLine++}return sa.digest()}parseKey(){const _e=this.getCurrentRecord();if(_e.type===L.KEY){if(_e.value==="prompt"||_e.value==="clear:"||_e.value==="base64:"||_e.value==="uri:")return _e.value;throw this.currentLine++,new Error("Invalid key.")}}parseZone(){const _e=this.getCurrentRecord();if(_e.type===L.ZONE_ADJUSTMENTS){const sa=[];for(;;)try{const _a=this.extract(_e,this.consumeTime);this.consumeSpaceForRecord(_e);let _C=!1;_e.value[_e.cur]==="-"&&(_C=!0,_e.cur+=1);const MQ=this.extract(_e,this.consumeTypedTime);sa.push({time:_a,typedTime:MQ,back:_C})}catch{break}if(sa.length===0)throw new Error("Invalid zone adjustments");return this.currentLine++,sa}return[]}parseRepeat(){const _e=[];for(;;){const sa=this.getCurrentRecord();if(sa.type!==L.REPEAT)break;{const _a=this.extract(sa,this.consumeRepeatInterval),_C=this.parseTypedTime(sa);_e.push({repeatInterval:_a,typedTimes:_C}),this.currentLine++}}return _e}parseTypedTime(_e){const sa=[];for(;;)try{this.consumeSpaceForRecord(_e),sa.push(this.extract(_e,this.consumeTypedTime))}catch{break}if(sa.length===0)throw new Error("Invalid typed time.");return sa}parseTime(){const _e=this.getCurrentRecord(),sa=this.extract(_e,this.consumeTime);this.consumeSpaceForRecord(_e);const _a=this.extract(_e,this.consumeTime);return this.currentLine++,{startTime:sa,stopTime:_a}}parseBandWidth(){const _e=[];for(;this.currentLine<this.records.length;){const sa=this.getCurrentRecord();if(sa.type!==L.BANDWIDTH)break;{const _a=this.extractOneOrMore(sa,_n);if(sa.value[sa.cur]!==":")throw new Error("Invalid bandwidth field.");sa.cur++;const _C=this.extractOneOrMore(sa,q);_e.push({bwtype:_a,bandwidth:_C}),this.currentLine++}}return _e}parseVersion(){const _e=this.getCurrentRecord();if(_e.type!==L.VERSION)throw new Error("first sdp record must be version");const sa=_e.value.slice(0,this.consumeOneOrMore(_e.value,0,q));if(sa.length!==_e.value.length)throw new Error('invalid proto version, "v='.concat(_e.value,'"'));return this.currentLine++,sa}parseOrigin(){const _e=this.getCurrentRecord();if(_e.type!==L.ORIGIN)throw new Error("second line of sdp must be origin");const sa=this.extractOneOrMore(_e,_s);this.consumeSpaceForRecord(_e);const _a=this.extractOneOrMore(_e,q);this.consumeSpaceForRecord(_e);const _C=this.extractOneOrMore(_e,q);this.consumeSpaceForRecord(_e);const MQ=this.extractOneOrMore(_e,_n);this.consumeSpaceForRecord(_e);const N0=this.extractOneOrMore(_e,_n);this.consumeSpaceForRecord(_e);const eS=this.extract(_e,this.consumeUnicastAddress);return this.currentLine++,{username:sa,sessId:_a,sessVersion:_C,nettype:MQ,addrtype:N0,unicastAddress:eS}}parseSessionName(){const _e=this.getCurrentRecord();if(_e.type===L.SESSION_NAME){const sa=this.extract(_e,this.consumeText);return this.currentLine++,sa}}parseInformation(){const _e=this.getCurrentRecord();if(_e.type!==L.INFORMATION)return;const sa=this.extract(_e,this.consumeText);return this.currentLine++,sa}parseUri(){const _e=this.getCurrentRecord();if(_e.type===L.URI)return this.currentLine++,_e.value}parseEmail(){const _e=[];for(;;){const sa=this.getCurrentRecord();if(sa.type!==L.EMAIL)break;_e.push(sa.value),this.currentLine++}return _e}parsePhone(){const _e=[];for(;;){const sa=this.getCurrentRecord();if(sa.type!==L.PHONE)break;_e.push(sa.value),this.currentLine++}return _e}parseConnection(){const _e=this.getCurrentRecord();if(_e.type===L.CONNECTION){const sa=this.extractOneOrMore(_e,_n);this.consumeSpaceForRecord(_e);const _a=this.extractOneOrMore(_e,_n);this.consumeSpaceForRecord(_e);const _C=this.extract(_e,this.consumeAddress);return this.currentLine++,{nettype:sa,addrtype:_a,address:_C}}}parseMedia(){const _e=this.getCurrentRecord(),sa=this.extract(_e,this.consumeToken);this.consumeSpaceForRecord(_e);let _a=this.extract(_e,this.consumePort);_e.value[_e.cur]==="/"&&(_e.cur+=1,_a+=this.extract(_e,this.consumeInteger)),this.consumeSpaceForRecord(_e);const _C=[];for(_C.push(this.extract(_e,this.consumeToken));_e.value[_e.cur]==="/";)_e.cur+=1,_C.push(this.extract(_e,this.consumeToken));if(_C.length===0)throw new Error("Invalid proto");const MQ=this.parseFmt(_e);return this.currentLine++,{mediaType:sa,port:_a,protos:_C,fmts:MQ}}parseTimeFields(){const _e=[];for(;this.getCurrentRecord().type===L.TIME;){const sa=this.parseTime(),_a=this.parseRepeat(),_C=this.parseZone();_e.push({time:sa,repeats:_a,zones:_C})}return _e}parseMediaDescription(){const _e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===L.MEDIA;){const sa=this.parseMedia(),_a=this.parseInformation(),_C=this.parseConnections(),MQ=this.parseBandWidth(),N0=this.parseKey(),eS=this.parseMediaAttributes(sa);_e.push({media:sa,information:_a,connections:_C,bandwidths:MQ,key:N0,attributes:eS})}return _e}parseConnections(){const _e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===L.CONNECTION;)_e.push(this.parseConnection());return _e}parseFmt(_e){const sa=[];for(;;)try{this.consumeSpaceForRecord(_e),sa.push(this.extract(_e,this.consumeToken))}catch{break}if(sa.length===0)throw new Error("Invalid fmts");return sa}extract(_e,sa,..._a){const _C=sa.call(this,_e.value,_e.cur,..._a),MQ=_e.value.slice(_e.cur,_C);return _e.cur=_C,MQ}extractOneOrMore(_e,sa){const _a=this.consumeOneOrMore(_e.value,_e.cur,sa),_C=_e.value.slice(_e.cur,_a);return _e.cur=_a,_C}consumeSpaceForRecord(_e){if(_e.value[_e.cur]!==k)throw new Error("Invalid space at ".concat(_e.cur,"."));_e.cur+=1}}class jQ extends _h{constructor(..._e){super(..._e),kd(this,"attributes",void 0),kd(this,"digested",!1)}extractOneOrMore(_e,sa,_a){const _C=this.consumeOneOrMore(_e.attValue,_e._cur,sa),MQ=_e.attValue.slice(_e._cur,_C),[N0,eS]=_a||[];if(typeof N0=="number"&&MQ.length<N0)throw new Error("error in length, should be more or equal than ".concat(N0," characters."));if(typeof eS=="number"&&MQ.length>eS)throw new Error("error in length, should be less or equal than ".concat(eS," characters."));return _e._cur=_C,MQ}consumeAttributeSpace(_e){if(_e.attValue[_e._cur]!==k)throw new Error("Invalid space at ".concat(_e._cur,"."));_e._cur+=1}extract(_e,sa,..._a){if(!_e.attValue)throw new Error("Nothing to extract from attValue.");const _C=sa.call(this,_e.attValue,_e._cur,..._a),MQ=_e.attValue.slice(_e._cur,_C);return _e._cur=_C,MQ}atEnd(_e){if(!_e.attValue)throw new Error;return _e._cur>=_e.attValue.length}peekChar(_e){if(!_e.attValue)throw new Error;return _e.attValue[_e._cur]}peek(_e,sa){if(!_e.attValue)throw new Error;for(let _a=0;_a<sa.length;_a++)if(sa[_a]!==_e.attValue[_e._cur+_a])return!1;return!0}parseIceUfrag(_e){if(this.attributes.iceUfrag)throw new Error("Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'");this.attributes.iceUfrag=this.extractOneOrMore(_e,Vc,[4,256])}parseIcePwd(_e){if(this.attributes.icePwd)throw new Error("Invalid ice-pwd, should be only a single line if 'a=ice-pwd'");this.attributes.icePwd=this.extractOneOrMore(_e,Vc,[22,256])}parseIceOptions(_e){if(this.attributes.iceOptions)throw new Error("Invalid ice-options, should be only one 'ice-options' line");const sa=[];for(;!this.atEnd(_e);){sa.push(this.extractOneOrMore(_e,Vc));try{this.consumeAttributeSpace(_e)}catch(_a){if(this.atEnd(_e))break;throw _a}}this.attributes.iceOptions=sa}parseFingerprint(_e){const sa=this.extract(_e,this.consumeToken);this.consumeAttributeSpace(_e);const _a=this.extract(_e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:sa,fingerprint:_a})}parseExtmap(_e){const sa=this.extractOneOrMore(_e,q);let _a;this.peekChar(_e)==="/"&&(this.extract(_e,this.consume,"/"),_a=this.extract(_e,this.consumeToken)),this.consumeAttributeSpace(_e);const _C=this.extract(_e,this.consumeTill,k),MQ=ec(ec({entry:parseInt(sa,10)},_a&&{direction:_a}),{},{extensionName:_C});this.peekChar(_e)===k&&(this.consumeAttributeSpace(_e),MQ.extensionAttributes=this.extract(_e,this.consumeTill)),this.attributes.extmaps.push(MQ)}parseSetup(_e){if(this.attributes.setup)throw new Error("must only be one single 'a=setup' line.");const sa=this.extract(_e,this.consumeTill);if(sa!=="active"&&sa!=="passive"&&sa!=="actpass"&&sa!=="holdconn")throw new Error("role must be one of 'active', 'passive', 'actpass', 'holdconn'.");this.attributes.setup=sa}}class w0 extends jQ{constructor(..._e){super(..._e),kd(this,"attributes",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(_e){if(this.digested)throw new Error("already digested");try{switch(_e.attField){case"group":this.parseGroup(_e);break;case"ice-lite":this.parseIceLite();break;case"ice-ufrag":this.parseIceUfrag(_e);break;case"ice-pwd":this.parseIcePwd(_e);break;case"ice-options":this.parseIceOptions(_e);break;case"fingerprint":this.parseFingerprint(_e);break;case"setup":this.parseSetup(_e);break;case"tls-id":this.parseTlsId(_e);break;case"identity":this.parseIdentity(_e);break;case"extmap":this.parseExtmap(_e);break;case"msid-semantic":this.parseMsidSemantic(_e);break;default:_e.ignored=!0,this.attributes.unrecognized.push(_e)}}catch(sa){throw console.error("parsing session attribute ".concat(_e.attField,' error, "a=').concat(_e.attField,":").concat(_e.attValue,'"')),sa}if(!_e.ignored&&_e.attValue&&!this.atEnd(_e))throw new Error("attribute parsing error")}digest(){return this.digested=!0,this.attributes}parseGroup(_e){const sa=this.extract(_e,this.consumeToken),_a=[];for(;!this.atEnd(_e)&&this.peekChar(_e)===k;)this.consumeAttributeSpace(_e),_a.push(this.extract(_e,this.consumeToken));this.attributes.groups.push({semantic:sa,identificationTag:_a})}parseIceLite(){if(this.attributes.iceLite)throw new Error("Invalid ice-lite, should be only a single line of 'a=ice-lite'");this.attributes.iceLite=!0}parseTlsId(_e){if(this.attributes.tlsId)throw new Error("must be only one tld-id line");this.attributes.tlsId=this.extractOneOrMore(_e,Fa)}parseIdentity(_e){const sa=this.extractOneOrMore(_e,Va),_a=[];for(;!this.atEnd(_e)&&this.peekChar(_e)===k;){this.consumeAttributeSpace(_e);const _C=this.extract(_e,this.consumeToken);this.extract(_e,this.consume,"=");const MQ=this.extractOneOrMore(_e,N0=>N0!==k&&Qa(N0));_a.push({name:_C,value:MQ})}this.attributes.identities.push({assertionValue:sa,extensions:_a})}parseMsidSemantic(_e){this.peekChar(_e)===k&&this.consumeAttributeSpace(_e);const sa={semantic:this.extract(_e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(_e)}catch{break}if(this.peekChar(_e)==="*"){this.extract(_e,this.consume,"*"),sa.applyForAll=!0;break}{const _a=this.extract(_e,this.consumeTill,k);sa.identifierList.push(_a)}}this.attributes.msidSemantic=sa}}class E_ extends jQ{constructor(_e){super(),kd(this,"attributes",void 0),_e.protos.indexOf("RTP")!==-1||_e.protos.indexOf("rtp"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(_e){if(this.digested)throw new Error("already digested");try{switch(_e.attField){case"extmap":this.parseExtmap(_e);break;case"setup":this.parseSetup(_e);break;case"ice-ufrag":this.parseIceUfrag(_e);break;case"ice-pwd":this.parseIcePwd(_e);break;case"ice-options":this.parseIceOptions(_e);break;case"candidate":this.parseCandidate(_e);break;case"remote-candidate":this.parseRemoteCandidate(_e);break;case"end-of-candidates":this.parseEndOfCandidates();break;case"fingerprint":this.parseFingerprint(_e);break;case"rtpmap":this.parseRtpmap(_e);break;case"ptime":this.parsePtime(_e);break;case"maxptime":this.parseMaxPtime(_e);break;case"sendrecv":case"recvonly":case"sendonly":case"inactive":this.parseDirection(_e);break;case"ssrc":this.parseSSRC(_e);break;case"fmtp":this.parseFmtp(_e);break;case"rtcp-fb":this.parseRtcpFb(_e);break;case"rtcp-mux":this.parseRTCPMux();break;case"rtcp-mux-only":this.parseRTCPMuxOnly();break;case"rtcp-rsize":this.parseRTCPRsize();break;case"rtcp":this.parseRTCP(_e);break;case"mid":this.parseMid(_e);break;case"msid":this.parseMsid(_e);break;case"imageattr":this.parseImageAttr(_e);break;case"rid":this.parseRid(_e);break;case"simulcast":this.parseSimulcast(_e);break;case"sctp-port":this.parseSctpPort(_e);break;case"max-message-size":this.parseMaxMessageSize(_e);break;case"ssrc-group":this.parseSSRCGroup(_e);break;default:_e.ignored=!0,this.attributes.unrecognized.push(_e)}}catch(sa){throw console.error("parsing media attribute ".concat(_e.attField,' error, "a=').concat(_e.attField,":").concat(_e.attValue,'"')),sa}if(!_e.ignored&&_e.attValue&&!this.atEnd(_e))throw new Error("attribute parsing error")}parseCandidate(_e){const sa=this.extractOneOrMore(_e,Vc,[1,32]);this.consumeAttributeSpace(_e);const _a=this.extractOneOrMore(_e,q,[1,5]);this.consumeAttributeSpace(_e);const _C=this.extract(_e,this.consumeToken);this.consumeAttributeSpace(_e);const MQ=this.extractOneOrMore(_e,q,[1,10]);this.consumeAttributeSpace(_e);const N0=this.extract(_e,this.consumeAddress);this.consumeAttributeSpace(_e);const eS=this.extract(_e,this.consumePort);this.consumeAttributeSpace(_e),this.extract(_e,this.consume,"typ"),this.consumeAttributeSpace(_e);const JS={foundation:sa,componentId:_a,transport:_C,priority:MQ,connectionAddress:N0,port:eS,type:this.extract(_e,this.consumeToken),extension:{}};for(this.peek(_e," raddr")&&(this.extract(_e,this.consume," raddr"),this.consumeAttributeSpace(_e),JS.relAddr=this.extract(_e,this.consumeAddress)),this.peek(_e," rport")&&(this.extract(_e,this.consume," rport"),this.consumeAttributeSpace(_e),JS.relPort=this.extract(_e,this.consumePort));this.peekChar(_e)===k;){this.consumeAttributeSpace(_e);const VN=this.extract(_e,this.consumeToken);this.consumeAttributeSpace(_e),JS.extension[VN]=this.extractOneOrMore(_e,z)}this.attributes.candidates.push(JS)}parseRemoteCandidate(_e){const sa=[];for(;;){const _a=this.extractOneOrMore(_e,q,[1,5]);this.consumeAttributeSpace(_e);const _C=this.extract(_e,this.consumeAddress);this.consumeAttributeSpace(_e);const MQ=this.extract(_e,this.consumePort);sa.push({componentId:_a,connectionAddress:_C,port:MQ});try{this.consumeAttributeSpace(_e)}catch{break}}this.attributes.remoteCandidatesList.push(sa)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error("must be only one line of end-of-candidates");this.attributes.endOfCandidates=!0}parseRtpmap(_e){const sa=this.extract(_e,this.consumeToken);this.consumeAttributeSpace(_e);const _a=this.extract(_e,this.consumeTill,"/");this.extract(_e,this.consume,"/");const _C={encodingName:_a,clockRate:this.extractOneOrMore(_e,q)};this.atEnd(_e)||this.peekChar(_e)!=="/"||(this.extract(_e,this.consume,"/"),_C.encodingParameters=parseInt(this.extract(_e,this.consumeTill),10));const MQ=this.attributes.payloads.find(N0=>N0.payloadType===parseInt(sa,10));MQ?MQ.rtpMap=_C:this.attributes.payloads.push({payloadType:parseInt(sa,10),rtpMap:_C,rtcpFeedbacks:[]})}parsePtime(_e){if(this.attributes.ptime)throw new Error("must be only one line of ptime");this.attributes.ptime=this.extract(_e,this.consumeTill)}parseMaxPtime(_e){if(this.attributes.maxPtime)throw new Error("must be only one line of ptime");this.attributes.maxPtime=this.extract(_e,this.consumeTill)}parseDirection(_e){if(this.attributes.direction)throw new Error("must be only one line of direction info");this.attributes.direction=_e.attField}parseSSRC(_e){const sa=this.extractOneOrMore(_e,q);this.consumeAttributeSpace(_e);const _a=this.extract(_e,this.consumeTill,":");let _C;this.peekChar(_e)===":"&&(this.extract(_e,this.consume,":"),_C=this.extract(_e,this.consumeTill));const MQ=this.attributes.ssrcs.find(N0=>N0.ssrcId===parseInt(sa,10));MQ?MQ.attributes[_a]=_C:this.attributes.ssrcs.push({ssrcId:parseInt(sa,10),attributes:{[_a]:_C}})}parseFmtp(_e){const sa=this.extract(_e,this.consumeTill,k);this.consumeAttributeSpace(_e);const _a=this.extract(_e,this.consumeTill),_C={};_a.split(";").forEach(N0=>{let[eS,JS]=N0.split("=");eS=eS.trim();const VN=typeof JS=="string"?JS.trim():null;typeof eS=="string"&&eS.length>0&&(_C[eS]=VN)});const MQ=this.attributes.payloads.find(N0=>N0.payloadType===parseInt(sa,10));MQ?MQ.fmtp={parameters:_C}:this.attributes.payloads.push({payloadType:parseInt(sa,10),rtcpFeedbacks:[],fmtp:{parameters:_C}})}parseFmtParameters(_e){const sa={},_a=this.extract(_e,this.consumeTill,"=");_e._cur++;const _C=this.extract(_e,this.consumeTill,";");for(sa[_a]=_C;_e.attValue[_e._cur]===";";){const MQ=this.extract(_e,this.consumeTill,"=");_e._cur++;const N0=this.extract(_e,this.consumeTill,";");sa[MQ]=N0}return sa}parseRtcpFb(_e){let sa="";sa=this.peekChar(_e)==="*"?this.extract(_e,this.consume,"*"):this.extract(_e,this.consumeTill,k),this.consumeAttributeSpace(_e);const _a=this.extract(_e,this.consumeTill,k);let _C;if(_a==="trr-int")_C={type:_a,interval:this.extract(_e,this.consumeTill)};else{const MQ={type:_a};this.peekChar(_e)===k&&(this.consumeAttributeSpace(_e),MQ.parameter=this.extract(_e,this.consumeToken),this.peekChar(_e)===k&&(MQ.additional=this.extract(_e,this.consumeTill))),_C=MQ}if(sa==="*")this.attributes.rtcpFeedbackWildcards.push(_C);else{const MQ=this.attributes.payloads.find(N0=>N0.payloadType===parseInt(sa,10));MQ?MQ.rtcpFeedbacks.push(_C):this.attributes.payloads.push({payloadType:parseInt(sa,10),rtcpFeedbacks:[_C]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error("must be single line of rtcp-mux");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error("must be single line of rtcp-only");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error("must be single line of rtcp-rsize");this.attributes.rtcpRsize=!0}parseRTCP(_e){if(this.attributes.rtcp)throw new Error("must be single line of rtcp");const sa={port:this.extract(_e,this.consumePort)};this.peekChar(_e)===k&&(this.consumeAttributeSpace(_e),sa.netType=this.extractOneOrMore(_e,_n),this.consumeAttributeSpace(_e),sa.addressType=this.extractOneOrMore(_e,_n),this.consumeAttributeSpace(_e),sa.address=this.extract(_e,this.consumeAddress)),this.attributes.rtcp=sa}parseMsid(_e){const sa={id:this.extractOneOrMore(_e,_n,[1,64])};this.peekChar(_e)===k&&(this.consumeAttributeSpace(_e),sa.appdata=this.extractOneOrMore(_e,_n,[1,64])),this.attributes.msids.push(sa)}parseImageAttr(_e){this.attributes.imageattr.push(_e.attValue)}parseRid(_e){const sa=this.extractOneOrMore(_e,_C=>Aa(_C)||q(_C)||_C==="_"||_C==="-");this.consumeAttributeSpace(_e);const _a={id:sa,direction:this.extract(_e,this.consumeToken),params:[]};if(this.peekChar(_e)===k){if(this.consumeAttributeSpace(_e),this.peek(_e,"pt=")){this.extract(_e,this.consume,"pt=");const _C=[];for(;;){const MQ=this.extract(_e,this.consumeToken);_C.push(MQ);try{this.extract(_e,this.consume,",")}catch{break}}_a.payloads=_C,this.peekChar(_e)===k&&this.extract(_e,this.consume,k)}for(;;){const _C=this.extract(_e,this.consumeToken);switch(_C){case"depend":{const MQ={type:_C,rids:this.extract(_e,this.consume,"=").split(",")};_a.params.push(MQ);break}default:{const MQ={type:_C};this.peekChar(_e)==="="&&(this.extract(_e,this.consume,"="),MQ.val=this.extract(_e,this.consumeTill,";")),_a.params.push(MQ)}}try{this.extract(_e,this.consume,";")}catch{break}}}this.attributes.rids.push(_a)}parseSimulcast(_e){if(this.attributes.simulcast)throw new Error("must be single line of simulcast");this.attributes.simulcast=_e.attValue,this.extract(_e,this.consumeTill)}parseSctpPort(_e){this.attributes.sctpPort=this.extractOneOrMore(_e,q,[1,5])}parseMaxMessageSize(_e){this.attributes.maxMessageSize=this.extractOneOrMore(_e,q,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(_e){this.attributes.mid=this.extract(_e,this.consumeToken)}parseSSRCGroup(_e){const sa=this.extract(_e,this.consumeToken),_a=[];for(;;)try{this.consumeAttributeSpace(_e);const _C=this.extract(_e,this.consumeInteger);_a.push(parseInt(_C,10))}catch{break}this.attributes.ssrcGroups.push({semantic:sa,ssrcIds:_a})}}function O0(eQ,_e,sa){return _e in eQ?Object.defineProperty(eQ,_e,{value:sa,enumerable:!0,configurable:!0,writable:!0}):eQ[_e]=sa,eQ}class YS{constructor(){O0(this,"eol",D)}print(_e,sa){let _a="";return sa&&(this.eol=sa),_a+=this.printVersion(_e.version),_a+=this.printOrigin(_e.origin),_a+=this.printSessionName(_e.sessionName),_a+=this.printInformation(_e.information),_a+=this.printUri(_e.uri),_a+=this.printEmail(_e.emails),_a+=this.printPhone(_e.phones),_a+=this.printConnection(_e.connection),_a+=this.printBandwidth(_e.bandwidths),_a+=this.printTimeFields(_e.timeFields),_a+=this.printKey(_e.key),_a+=this.printSessionAttributes(_e.attributes),_a+=this.printMediaDescription(_e.mediaDescriptions),_a}printVersion(_e){return"v=".concat(_e).concat(this.eol)}printOrigin(_e){return"o=".concat(_e.username," ").concat(_e.sessId," ").concat(_e.sessVersion," ").concat(_e.nettype," ").concat(_e.addrtype," ").concat(_e.unicastAddress).concat(this.eol)}printSessionName(_e){return _e?"s=".concat(_e).concat(this.eol):""}printInformation(_e){return _e?"i=".concat(_e).concat(this.eol):""}printUri(_e){return _e?"u=".concat(_e).concat(this.eol):""}printEmail(_e){let sa="";for(const _a of _e)sa+="e=".concat(_a).concat(this.eol);return sa}printPhone(_e){let sa="";for(const _a of _e)sa+="e=".concat(_a).concat(this.eol);return sa}printConnection(_e){return _e?"c=".concat(_e.nettype," ").concat(_e.addrtype," ").concat(_e.address).concat(this.eol):""}printBandwidth(_e){let sa="";for(const _a of _e)sa+="b=".concat(_a.bwtype,":").concat(_a.bandwidth).concat(this.eol);return sa}printTimeFields(_e){let sa="";for(const _a of _e){sa+="t=".concat(_a.time.startTime," ").concat(_a.time.startTime).concat(this.eol);for(const _C of _a.repeats)sa+="r=".concat(_C.repeatInterval," ").concat(_C.typedTimes.join(" ")).concat(this.eol);_a.zoneAdjustments&&(sa+="z=",sa+="z=".concat(_a.zoneAdjustments.map(_C=>"".concat(_C.time," ").concat(_C.back?"-":""," ").concat(_C.typedTime)).join(" ")).concat(this.eol),sa+=this.eol)}return sa}printKey(_e){return _e?"k=".concat(_e).concat(this.eol):""}printAttributes(_e){let sa="";for(const _a of _e)sa+="a=".concat(_a.attField).concat(_a.attValue?":".concat(_a.attValue):"").concat(this.eol);return sa}printMediaDescription(_e){let sa="";for(const _a of _e)sa+=this.printMedia(_a.media),sa+=this.printInformation(_a.information),sa+=this.printConnections(_a.connections),sa+=this.printBandwidth(_a.bandwidths),sa+=this.printKey(_a.key),sa+=this.printMediaAttributes(_a);return sa}printConnections(_e){let sa="";for(const _a of _e)sa+=this.printConnection(_a);return sa}printMedia(_e){return"m=".concat(_e.mediaType," ").concat(_e.port," ").concat(_e.protos.join("/")," ").concat(_e.fmts.join(" ")).concat(this.eol)}printSessionAttributes(_e){return new _f(this.eol).print(_e)}printMediaAttributes(_e){return new iQ(this.eol).print(_e)}}class ud{constructor(_e){O0(this,"eol",void 0),this.eol=_e}printIceUfrag(_e){return _e===void 0?"":"a=ice-ufrag:".concat(_e).concat(this.eol)}printIcePwd(_e){return _e===void 0?"":"a=ice-pwd:".concat(_e).concat(this.eol)}printIceOptions(_e){return _e===void 0?"":"a=ice-options:".concat(_e.join(k)).concat(this.eol)}printFingerprints(_e){return _e.length>0?_e.map(sa=>"a=fingerprint:".concat(sa.hashFunction).concat(k).concat(sa.fingerprint)).join(this.eol)+this.eol:""}printExtmap(_e){return _e.map(sa=>"a=extmap:".concat(sa.entry).concat(sa.direction?"/".concat(sa.direction):"").concat(k).concat(sa.extensionName).concat(sa.extensionAttributes?"".concat(k).concat(sa.extensionAttributes):"").concat(this.eol)).join("")}printSetup(_e){return _e===void 0?"":"a=setup:".concat(_e).concat(this.eol)}printUnrecognized(_e){return _e.map(sa=>"a=".concat(sa.attField).concat(sa.attValue?":".concat(sa.attValue):"").concat(this.eol)).join("")}}class _f extends ud{print(_e){let sa="";return sa+=this.printGroups(_e.groups),sa+=this.printMsidSemantic(_e.msidSemantic),sa+=this.printIceLite(_e.iceLite),sa+=this.printIceUfrag(_e.iceUfrag),sa+=this.printIcePwd(_e.icePwd),sa+=this.printIceOptions(_e.iceOptions),sa+=this.printFingerprints(_e.fingerprints),sa+=this.printSetup(_e.setup),sa+=this.printTlsId(_e.tlsId),sa+=this.printIdentity(_e.identities),sa+=this.printExtmap(_e.extmaps),sa+=this.printUnrecognized(_e.unrecognized),sa}printGroups(_e){let sa="";return _e.length>0&&(sa+=_e.map(_a=>"a=group:".concat(_a.semantic).concat(_a.identificationTag.map(_C=>"".concat(k).concat(_C)).join("")).concat(this.eol)).join("")),sa}printIceLite(_e){return _e===void 0?"":"a=ice-lite"+this.eol}printTlsId(_e){return _e?"a=tls-id:".concat(_e).concat(this.eol):""}printIdentity(_e){return _e.length===0?"":_e.map(sa=>"a=identity:".concat(sa.assertionValue).concat(sa.extensions.map(_a=>"".concat(k).concat(_a.name).concat(_a.value?"=".concat(_a.value):"")))).join(this.eol)+this.eol}printMsidSemantic(_e){if(!_e)return"";let sa="a=msid-semantic:".concat(_e.semantic);return _e.applyForAll?sa+="".concat(k,"*"):_e.identifierList.length>0&&(sa+=_e.identifierList.map(_a=>"".concat(k).concat(_a))),sa+this.eol}}class iQ extends ud{print(_e){const sa=_e.attributes;let _a="";return _a+=this.printRTCP(sa.rtcp),_a+=this.printIceUfrag(sa.iceUfrag),_a+=this.printIcePwd(sa.icePwd),_a+=this.printIceOptions(sa.iceOptions),_a+=this.printCandidates(sa.candidates),_a+=this.printRemoteCandidatesList(sa.remoteCandidatesList),_a+=this.printEndOfCandidates(sa.endOfCandidates),_a+=this.printFingerprints(sa.fingerprints),_a+=this.printSetup(sa.setup),_a+=this.printMid(sa.mid),_a+=this.printExtmap(sa.extmaps),_a+=this.printRTPRelated(sa),_a+=this.printPtime(sa.ptime),_a+=this.printMaxPtime(sa.maxPtime),_a+=this.printDirection(sa.direction),_a+=this.printSSRCGroups(sa.ssrcGroups),_a+=this.printSSRC(sa.ssrcs),_a+=this.printRTCPMux(sa.rtcpMux),_a+=this.printRTCPMuxOnly(sa.rtcpMuxOnly),_a+=this.printRTCPRsize(sa.rtcpRsize),_a+=this.printMSId(sa.msids),_a+=this.printImageattr(sa.imageattr),_a+=this.printRid(sa.rids),_a+=this.printSimulcast(sa.simulcast),_a+=this.printSCTPPort(sa.sctpPort),_a+=this.printMaxMessageSize(sa.maxMessageSize),_a+=this.printUnrecognized(sa.unrecognized),_a}printCandidates(_e){return _e.map(sa=>"a=candidate:".concat(sa.foundation).concat(k).concat(sa.componentId).concat(k).concat(sa.transport).concat(k).concat(sa.priority).concat(k).concat(sa.connectionAddress).concat(k).concat(sa.port).concat(k,"typ").concat(k).concat(sa.type).concat(sa.relAddr?"".concat(k,"raddr").concat(k).concat(sa.relAddr):"").concat(sa.relPort?"".concat(k,"rport").concat(k).concat(sa.relPort):"").concat(Object.keys(sa.extension).map(_a=>"".concat(k).concat(_a).concat(k).concat(sa.extension[_a])).join("")).concat(this.eol)).join("")}printRemoteCandidatesList(_e){return _e.map(sa=>"a=remote-candidates:".concat(sa.join(k)).concat(this.eol)).join("")}printEndOfCandidates(_e){return _e===void 0?"":"a=end-of-candidates"+this.eol}printRTPRelated(_e){if(!_e.payloads)return"";const sa=_e.payloads;let _a="";_a+=_e.rtcpFeedbackWildcards.map(_C=>this.printRTCPFeedback("*",_C)).join("");for(const _C of sa)_a+=this.printRtpMap(_C.payloadType,_C.rtpMap),_a+=this.printFmtp(_C.payloadType,_C.fmtp),_a+=_C.rtcpFeedbacks.map(MQ=>this.printRTCPFeedback(_C.payloadType,MQ)).join("");return _a}printFmtp(_e,sa){if(!sa)return"";const _a=Object.keys(sa.parameters);return _a.length===1&&sa.parameters[_a[0]]===null?"a=fmtp:".concat(_e).concat(k).concat(_a[0]).concat(this.eol):"a=fmtp:".concat(_e).concat(k).concat(Object.keys(sa.parameters).map(_C=>"".concat(_C,"=").concat(sa.parameters[_C])).join(";")).concat(this.eol)}printRtpMap(_e,sa){return sa?"a=rtpmap:".concat(_e).concat(k).concat(sa.encodingName,"/").concat(sa.clockRate).concat(sa.encodingParameters?"/".concat(sa.encodingParameters):"").concat(this.eol):""}printRTCPFeedback(_e,sa){let _a="a=rtcp-fb:".concat(_e).concat(k),_C=sa;return _C.type==="trr-int"?_a+="ttr-int".concat(k).concat(_C.interval):(_a+="".concat(_C.type),_C.parameter&&(_a+="".concat(k).concat(_C.parameter),_C.additional&&(_a+="".concat(k).concat(_C.additional)))),_a+this.eol}printPtime(_e){return _e===void 0?"":"a=ptime:".concat(_e).concat(this.eol)}printMaxPtime(_e){return _e===void 0?"":"a=maxptime:".concat(_e).concat(this.eol)}printDirection(_e){return _e===void 0?"":"a=".concat(_e).concat(this.eol)}printSSRC(_e){return _e.map(sa=>Object.keys(sa.attributes).map(_a=>"a=ssrc:".concat(sa.ssrcId.toString(10)).concat(k).concat(_a).concat(sa.attributes[_a]?":".concat(sa.attributes[_a]):"").concat(this.eol)).join("")).join("")}printRTCPMux(_e){return _e===void 0?"":"a=rtcp-mux".concat(this.eol)}printRTCPMuxOnly(_e){return _e===void 0?"":"a=rtcp-mux-only".concat(this.eol)}printRTCPRsize(_e){return _e===void 0?"":"a=rtcp-rsize".concat(this.eol)}printRTCP(_e){if(_e===void 0)return"";let sa="a=rtcp:".concat(_e.port);return _e.netType&&(sa+="".concat(k).concat(_e.netType)),_e.addressType&&(sa+="".concat(k).concat(_e.addressType)),_e.address&&(sa+="".concat(k).concat(_e.address)),sa+this.eol}printMSId(_e){return _e.map(sa=>"a=msid:".concat(sa.id).concat(sa.appdata?"".concat(k).concat(sa.appdata):"").concat(this.eol)).join("")}printImageattr(_e){return _e.map(sa=>"a=imageattr:".concat(sa).concat(this.eol)).join("")}printRid(_e){return _e.map(sa=>{let _a="a=rid:".concat(sa.id).concat(k).concat(sa.direction);return sa.payloads&&(_a+="".concat(k,"pt=").concat(sa.payloads.join(","))),sa.params.length>0&&(_a+="".concat(k).concat(sa.params.map(_C=>_C.type==="depend"?"depend=".concat(_C.rids.join(",")):"".concat(_C.type,"=").concat(_C.val)).join(";"))),_a+this.eol}).join("")}printSimulcast(_e){return _e===void 0?"":"a=simulcast:".concat(_e).concat(this.eol)}printSCTPPort(_e){return _e===void 0?"":"a=sctp-port:".concat(_e).concat(this.eol)}printMaxMessageSize(_e){return _e===void 0?"":"a=max-message-size:".concat(_e).concat(this.eol)}printMid(_e){return _e===void 0?"":"a=mid:".concat(_e).concat(this.eol)}printSSRCGroups(_e){return _e.map(sa=>"a=ssrc-group:".concat(sa.semantic).concat(sa.ssrcIds.map(_a=>"".concat(k).concat(_a.toString(10))).join("")).concat(this.eol)).join("")}}function bQ(eQ){return new RQ().parse(eQ)}function A0(eQ,_e){return new YS().print(eQ,_e)}}},u={};function h(f){if(u[f])return u[f].exports;var m=u[f]={exports:{}};return o[f](m,m.exports,h),m.exports}return h.d=(f,m)=>{for(var v in m)h.o(m,v)&&!h.o(f,v)&&Object.defineProperty(f,v,{enumerable:!0,get:m[v]})},h.o=(f,m)=>Object.prototype.hasOwnProperty.call(f,m),h.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},h(8)})()})(tZ);var U0=tZ.exports;function GR(A){if(Array.isArray(A))return A.map(o=>o);if(!nZ(A))return A;const r={};for(const o in A){const u=A[o];nZ(u)||Array.isArray(u)?r[o]=GR(u):r[o]=u}return r}function nZ(A){return!(typeof A!="object"||Array.isArray(A)||!A)}class L4{constructor(r){j(this,"input",[]),j(this,"size",void 0),this.size=r}add(r){this.input.push(r),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return this.input.length===0?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const pN={address:"unknown",candidateType:"unknown",id:"unknown",port:0,priority:0,protocol:"unknown",type:"unknown"},AU={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:"unknown",localCandidate:pN,remoteCandidate:pN}},rZ={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0},iZ={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},oZ={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},AZ={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function sZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function aZ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?sZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):sZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class M4{constructor(r,o){j(this,"onFirstVideoReceived",void 0),j(this,"onFirstVideoDecoded",void 0),j(this,"onFirstAudioReceived",void 0),j(this,"onFirstVideoDecodedTimeout",void 0),j(this,"onFirstAudioDecoded",void 0),j(this,"onSelectedLocalCandidateChanged",void 0),j(this,"onSelectedRemoteCandidateChanged",void 0),j(this,"videoIsReady",!1),j(this,"videoIsReady2",{}),j(this,"pc",void 0),j(this,"options",void 0),j(this,"intervalTimer",void 0),j(this,"stats",GR(AU)),j(this,"isFirstVideoReceived",{}),j(this,"isFirstVideoDecoded",{}),j(this,"isFirstAudioReceived",{}),j(this,"isFirstAudioDecoded",{}),j(this,"isFirstVideoDecodedTimeout",{}),j(this,"lossRateWindowStats",[]),this.pc=r,this.options=o,this.intervalTimer=window.setInterval(async()=>{this.updateStats()},this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new lc(r=>{r({local:aZ({},pN),remote:aZ({},pN)})})}setVideoIsReady(r){this.videoIsReady=r}setVideoIsReady2(r,o){this.videoIsReady2[r]=o}getVideoIsReady(r){return this.videoIsReady2[r]||!1}setIsFirstAudioDecoded(r){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(r){this.lossRateWindowStats.push(r),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const o=this.lossRateWindowStats.length,u=["videoSend","audioSend","videoRecv","audioRecv"];let h=0,f=0,m=0,v=0;for(const R of u)r[R].forEach((D,k)=>{if(!this.lossRateWindowStats[o-1][R][k]||!this.lossRateWindowStats[0][R][k])return;const L=this.lossRateWindowStats[o-1][R][k].packets-this.lossRateWindowStats[0][R][k].packets,q=this.lossRateWindowStats[o-1][R][k].packetsLost-this.lossRateWindowStats[0][R][k].packetsLost;R==="videoSend"||R==="audioSend"?(h+=L,m+=q):(f+=L,v+=q),Number.isNaN(L)||Number.isNaN(L)?D.packetLostRate=0:D.packetLostRate=L<=0||q<=0?0:q/(L+q)});r.sendPacketLossRate=h<=0||m<=0?0:m/(h+m),r.recvPacketLossRate=f<=0||v<=0?0:v/(f+v)}}function cZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function sge(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?cZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):cZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class age extends M4{constructor(){super(...arguments),j(this,"_stats",AU),j(this,"lastDecodeVideoReceiverStats",new Map)}async updateStats(){const r=await this._getStats(),o=this.statsResponsesToObjects(r);this._stats=GR(AU);const u=o.filter(f=>f.type==="ssrc");this.processSSRCStats(u);const h=o.find(f=>f.type==="VideoBwe");h&&this.processBandwidthStats(h),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(r){this._stats.bitrate={actualEncoded:Number(r.googActualEncBitrate),targetEncoded:Number(r.googTargetEncBitrate),retransmit:Number(r.googRetransmitBitrate),transmit:Number(r.googTransmitBitrate)},this._stats.sendBandwidth=Number(r.googAvailableSendBandwidth)}processSSRCStats(r){r.forEach(o=>{var u;const h=AQ(u=o.id).call(u,"send");switch("".concat(o.mediaType,"_").concat(h?"send":"recv")){case"video_send":{const f=GR(iZ);f.codec=o.googCodecName,f.adaptionChangeReason="none",o.googCpuLimitedResolution&&(f.adaptionChangeReason="cpu"),o.googBandwidthLimitedResolution&&(f.adaptionChangeReason="bandwidth"),f.avgEncodeMs=Number(o.googAvgEncodeMs),f.inputFrame={width:Number(o.googFrameWidthInput)||Number(o.googFrameWidthSent),height:Number(o.googFrameHeightInput)||Number(o.googFrameHeightSent),frameRate:Number(o.googFrameRateInput)},f.sentFrame={width:Number(o.googFrameWidthSent),height:Number(o.googFrameHeightSent),frameRate:Number(o.googFrameRateInput)},f.firsCount=Number(o.googFirReceived),f.nacksCount=Number(o.googNacksReceived),f.plisCount=Number(o.googPlisReceived),f.frameCount=Number(o.framesEncoded),f.bytes=Number(o.bytesSent),f.packets=Number(o.packetsSent),f.packetsLost=Number(o.packetsLost),f.ssrc=Number(o.ssrc),f.rttMs=Number(o.googRtt||0),this._stats.videoSend.push(f),this._stats.rtt=f.rttMs;break}case"video_recv":{const f=GR(rZ),m=this.lastDecodeVideoReceiverStats.get(Number(o.ssrc));if(f.codec=o.googCodecName,f.targetDelayMs=Number(o.googTargetDelayMs),f.renderDelayMs=Number(o.googRenderDelayMs),f.currentDelayMs=Number(o.googCurrentDelayMs),f.minPlayoutDelayMs=Number(o.googMinPlayoutDelayMs),f.decodeMs=Number(o.googDecodeMs),f.maxDecodeMs=Number(o.googMaxDecodeMs),f.receivedFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateReceived)},f.decodedFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateDecoded)},f.decodeFrameRate=Number(o.googFrameRateDecoded),f.outputFrame={width:Number(o.googFrameWidthReceived),height:Number(o.googFrameHeightReceived),frameRate:Number(o.googFrameRateOutput)},f.jitterBufferMs=Number(o.googJitterBufferMs),f.firsCount=Number(o.googFirsSent),f.nacksCount=Number(o.googNacksSent),f.plisCount=Number(o.googPlisSent),f.framesDecodeCount=Number(o.framesDecoded),f.bytes=Number(o.bytesReceived),f.packets=Number(o.packetsReceived),f.packetsLost=Number(o.packetsLost),f.ssrc=Number(o.ssrc),f.packets>0&&!this.isFirstVideoReceived[f.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(f.ssrc),this.isFirstVideoReceived[f.ssrc]=!0),f.framesDecodeCount>0&&!this.isFirstVideoDecoded[f.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(f.ssrc,f.decodedFrame.width,f.decodedFrame.height),this.isFirstVideoDecoded[f.ssrc]=!0),m){const v=m.stats,R=Date.now()-m.lts;f.framesDecodeFreezeTime=v.framesDecodeFreezeTime,f.framesDecodeInterval=v.framesDecodeInterval,f.framesDecodeCount>v.framesDecodeCount&&this.isFirstVideoDecoded[f.ssrc]?(m.lts=Date.now(),f.framesDecodeInterval=R,f.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(o.ssrc,10))?f.framesDecodeFreezeTime+=f.framesDecodeInterval:this.setVideoIsReady2(parseInt(o.ssrc,10),!0))):f.framesDecodeCount<m.stats.framesDecodeCount&&(f.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(f.ssrc,{stats:sge({},f),lts:Date.now()}),this._stats.videoRecv.push(f);break}case"audio_recv":{const f=GR(AZ);f.codec=o.googCodecName,f.outputLevel=Math.abs(Number(o.audioOutputLevel))/32767,f.decodingCNG=Number(o.googDecodingCNG),f.decodingCTN=Number(o.googDecodingCTN),f.decodingCTSG=Number(o.googDecodingCTSG),f.decodingNormal=Number(o.googDecodingNormal),f.decodingPLC=Number(o.googDecodingPLC),f.decodingPLCCNG=Number(o.googDecodingPLCCNG),f.expandRate=Number(o.googExpandRate),f.accelerateRate=Number(o.googAccelerateRate),f.preemptiveExpandRate=Number(o.googPreemptiveExpandRate),f.secondaryDecodedRate=Number(o.googSecondaryDecodedRate),f.speechExpandRate=Number(o.googSpeechExpandRate),f.preferredJitterBufferMs=Number(o.googPreferredJitterBufferMs),f.jitterBufferMs=Number(o.googJitterBufferMs),f.jitterMs=Number(o.googJitterReceived),f.bytes=Number(o.bytesReceived),f.packets=Number(o.packetsReceived),f.packetsLost=Number(o.packetsLost),f.ssrc=Number(o.ssrc),f.receivedFrames=Number(o.googDecodingCTN)||Number(o.packetsReceived),f.droppedFrames=Number(o.googDecodingPLC)+Number(o.googDecodingPLCCNG)||Number(o.packetsLost),f.receivedFrames>0&&!this.isFirstAudioReceived[f.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(f.ssrc),this.isFirstAudioReceived[f.ssrc]=!0),f.decodingNormal>0&&!this.isFirstAudioDecoded[f.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(f.ssrc),this.isFirstAudioDecoded[f.ssrc]=!0),this._stats.audioRecv.push(f);break}case"audio_send":{const f=GR(oZ);f.codec=o.googCodecName,f.inputLevel=Math.abs(Number(o.audioInputLevel))/32767,f.aecReturnLoss=Number(o.googEchoCancellationReturnLoss||0),f.aecReturnLossEnhancement=Number(o.googEchoCancellationReturnLossEnhancement||0),f.residualEchoLikelihood=Number(o.googResidualEchoLikelihood||0),f.residualEchoLikelihoodRecentMax=Number(o.googResidualEchoLikelihoodRecentMax||0),f.bytes=Number(o.bytesSent),f.packets=Number(o.packetsSent),f.packetsLost=Number(o.packetsLost),f.ssrc=Number(o.ssrc),f.rttMs=Number(o.googRtt||0),this._stats.rtt=f.rttMs,this._stats.audioSend.push(f);break}}})}_getStats(){return new lc((r,o)=>{this.pc.getStats(r,o)})}statsResponsesToObjects(r){const o=[];return r.result().forEach(u=>{const h={id:u.id,timestamp:u.timestamp.valueOf().toString(),type:u.type};u.names().forEach(f=>{h[f]=u.stat(f)}),o.push(h)}),o}}function uZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function s1(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?uZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):uZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class gZ extends M4{constructor(){super(...arguments),j(this,"_stats",AU),j(this,"report",void 0),j(this,"lastDecodeVideoReceiverStats",new Map),j(this,"lastVideoFramesRecv",new Map),j(this,"lastVideoFramesSent",new Map),j(this,"lastVideoFramesDecode",new Map),j(this,"lastVideoJBDelay",new Map),j(this,"lastAudioJBDelay",new Map),j(this,"mediaBytesSent",new Map),j(this,"mediaBytesRetransmit",new Map),j(this,"mediaBytesTargetEncode",new Map),j(this,"lastEncoderMs",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=GR(AU),this.report.forEach(r=>{switch(r.type){case wS.OUTBOUND:case wS.INBOUND:{const o=r.mediaType||r.kind,u=!o&&"frameWidth"in r,h=!o&&!("frameWidth"in r);r.type===wS.OUTBOUND?o==="audio"||h?this.processAudioOutboundStats(r):(o==="video"||u)&&this.processVideoOutboundStats(r):r.type===wS.INBOUND&&(o==="audio"||h?this.processAudioInboundStats(r):(o==="video"||u)&&this.processVideoInboundStats(r));break}case wS.TRANSPORT:{const o=this.report.get(r.selectedCandidatePairId);o&&this.processCandidatePairStats(o);break}case wS.CANDIDATE_PAIR:r.selected&&this.processCandidatePairStats(r)}}),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const r=await this.pc.getStats(),o={local:s1({},pN),remote:s1({},pN)};return r.forEach(u=>{let h;if(u.type===wS.TRANSPORT&&(h=r.get(u.selectedCandidatePairId)),u.type===wS.CANDIDATE_PAIR&&u.selected&&(h=u),h){const f=(m,v)=>{m.type=v.type,m.id=v.id,v.address&&(m.address=v.address),v.candidateType&&(m.candidateType=v.candidateType),v.port&&(m.port=v.port),v.priority&&(m.priority=v.priority),v.protocol&&(m.protocol=v.protocol),v.relayProtocol&&(m.relayProtocol=v.relayProtocol)};if(h.localCandidateId){const m=r.get(h.localCandidateId);m&&f(o.local,m)}if(h.remoteCandidateId){const m=r.get(h.remoteCandidateId);m&&f(o.remote,m)}}}),o}processCandidatePairStats(r){if(this._stats.sendBandwidth=r.availableOutgoingBitrate||0,r.currentRoundTripTime&&(this._stats.rtt=1e3*r.currentRoundTripTime),this._stats.videoSend.forEach(o=>{r.currentRoundTripTime&&(o.rttMs=1e3*r.currentRoundTripTime)}),this._stats.audioSend.forEach(o=>{r.currentRoundTripTime&&(o.rttMs=1e3*r.currentRoundTripTime)}),this._stats.selectedCandidatePair.id=r.id,r.localCandidateId){const o=this.report.get(r.localCandidateId);o&&this.processCandidateStats(o)}if(r.remoteCandidateId){const o=this.report.get(r.remoteCandidateId);o&&this.processCandidateStats(o)}}processCandidateStats(r){let o;r.type===wS.LOCAL_CANDIDATE&&(o=this._stats.selectedCandidatePair.localCandidate),r.type===wS.REMOTE_CANDIDATE&&(o=this._stats.selectedCandidatePair.remoteCandidate),o&&(o.type=r.type,o.id=r.id,r.address&&(o.address=r.address),r.candidateType&&(o.candidateType=r.candidateType),r.port&&(o.port=r.port),r.priority&&(o.priority=r.priority),r.protocol&&(o.protocol=r.protocol),r.relayProtocol&&(o.relayProtocol=r.relayProtocol),r.type===wS.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==o.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(s1({},o),s1({},this.stats.selectedCandidatePair.localCandidate)),r.type===wS.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==o.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(s1({},o),s1({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(r){let o=this._stats.audioRecv.find(u=>u.ssrc===r.ssrc);o||(o=GR(AZ),this._stats.audioRecv.push(o)),o.ssrc=r.ssrc,o.packets=r.packetsReceived,o.packetsLost=r.packetsLost,o.bytes=r.bytesReceived,o.jitterMs=1e3*r.jitter,this.processAudioTrackReceiverStats(r,r.trackId,o),r.codecId&&(o.codec=this.getCodecFromCodecStats(r.codecId)),o.receivedFrames||(o.receivedFrames=r.packetsReceived),o.droppedFrames||(o.droppedFrames=r.packetsLost),o.receivedFrames>0&&!this.isFirstAudioReceived[o.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(o.ssrc),this.isFirstAudioReceived[o.ssrc]=!0),o.outputLevel&&o.outputLevel>0&&!this.isFirstAudioDecoded[o.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(o.ssrc),this.isFirstAudioDecoded[o.ssrc]=!0),typeof r.concealedSamples=="number"&&(o.concealedSamples=r.concealedSamples)}processVideoInboundStats(r){let o=this._stats.videoRecv.find(m=>m.ssrc===r.ssrc);o||(o=GR(rZ),this._stats.videoRecv.push(o)),o.ssrc=r.ssrc,o.packets=r.packetsReceived,o.packetsLost=r.packetsLost,o.bytes=r.bytesReceived,o.firsCount=r.firCount,o.nacksCount=r.nackCount,o.plisCount=r.pliCount,o.framesDecodeCount=r.framesDecoded,o.totalInterFrameDelay=r.totalInterFrameDelay,o.totalSquaredInterFrameDelay=r.totalSquaredInterFrameDelay;const u=this.lastDecodeVideoReceiverStats.get(o.ssrc),h=this.lastVideoFramesDecode.get(o.ssrc),f=Date.now();if(o.framesDecodeCount>0&&!this.isFirstVideoDecoded[o.ssrc]){const m=o.decodedFrame?o.decodedFrame.width:0,v=o.decodedFrame?o.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(o.ssrc,m,v),this.isFirstVideoDecoded[o.ssrc]=!0}if(u){const m=u.stats,v=f-u.lts;o.framesDecodeFreezeTime=m.framesDecodeFreezeTime,o.framesDecodeInterval=m.framesDecodeInterval,!this.isFirstVideoDecoded[o.ssrc]&&v>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[o.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(o.ssrc),this.isFirstVideoDecodedTimeout[o.ssrc]=!0),o.framesDecodeCount>m.framesDecodeCount&&this.isFirstVideoDecoded[o.ssrc]?(u.lts=Date.now(),o.framesDecodeInterval=v,o.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(r.ssrc))?o.framesDecodeFreezeTime+=o.framesDecodeInterval:this.setVideoIsReady2(parseInt(r.ssrc,10),!0))):o.framesDecodeCount<m.framesDecodeCount&&(o.framesDecodeInterval=0),r.framesDecoded&&r.qpSum&&(u.stats.framesDecodeCount>r.framesDecoded?o.qpSumPerFrame=r.qpSum/r.framesDecoded:o.qpSumPerFrame=(r.qpSum-u.qpSum)/(r.framesDecoded-u.stats.framesDecodeCount))}h&&f-h.lts>=800?(o.decodeFrameRate=Math.round((o.framesDecodeCount-h.count)/((f-h.lts)/1e3)),this.lastVideoFramesDecode.set(o.ssrc,{count:o.framesDecodeCount,lts:f,rate:o.decodeFrameRate})):h?o.decodeFrameRate=h.rate:this.lastVideoFramesDecode.set(o.ssrc,{count:o.framesDecodeCount,lts:f,rate:0}),r.totalDecodeTime&&(o.decodeMs=1e3*r.totalDecodeTime),this.processVideoTrackReceiverStats(r,r.trackId,o),r.codecId&&(o.codec=this.getCodecFromCodecStats(r.codecId)),r.framerateMean&&(o.framesRateFirefox=r.framerateMean),o.packets>0&&!this.isFirstVideoReceived[o.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(o.ssrc),this.isFirstVideoReceived[o.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(o.ssrc,{stats:s1({},o),lts:u?u.lts:Date.now(),qpSum:r.qpSum})}processVideoOutboundStats(r){let o=this._stats.videoSend.find(h=>h.ssrc===r.ssrc);o||(o=GR(iZ),this._stats.videoSend.push(o));const u=this.mediaBytesSent.get(r.ssrc);if(u)u.add(r.bytesSent);else{const h=new L4(10);h.add(r.bytesSent),this.mediaBytesSent.set(r.ssrc,h)}if(r.retransmittedBytesSent!==void 0){const h=this.mediaBytesRetransmit.get(r.ssrc);if(h)h.add(r.retransmittedBytesSent);else{const f=new L4(10);f.add(r.retransmittedBytesSent),this.mediaBytesRetransmit.set(r.ssrc,f)}}if(r.totalEncodedBytesTarget){const h=this.mediaBytesTargetEncode.get(r.ssrc);if(h)h.add(r.totalEncodedBytesTarget);else{const f=new L4(10);f.add(r.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(r.ssrc,f)}}if(o.ssrc=r.ssrc,o.bytes=r.bytesSent,o.packets=r.packetsSent,o.firsCount=r.firCount,o.nacksCount=r.nackCount,o.plisCount=r.pliCount,o.frameCount=r.framesEncoded,o.adaptionChangeReason=r.qualityLimitationReason,o.scalabilityMode=r.scalabilityMode,r.totalEncodeTime&&r.framesEncoded){const h=this.lastEncoderMs.get(r.ssrc);if(!h||h.lastFrameCount>r.framesEncoded)o.avgEncodeMs=1e3*r.totalEncodeTime/r.framesEncoded;else{const f=r.framesEncoded-h.lastFrameCount,m=r.totalEncodeTime-h.lastEncoderTime;o.avgEncodeMs=1e3*m/f}}if(r.framesEncoded&&r.qpSum){const h=this.lastEncoderMs.get(r.ssrc);!h||h.lastFrameCount>r.framesEncoded?o.qpSumPerFrame=r.qpSum/r.framesEncoded:o.qpSumPerFrame=(r.qpSum-h.lastQpSum)/(r.framesEncoded-h.lastFrameCount)}if(this.lastEncoderMs.set(r.ssrc,{lastFrameCount:r.framesEncoded,lastEncoderTime:r.totalEncodeTime,lastQpSum:r.qpSum,lts:Date.now()}),r.codecId&&(o.codec=this.getCodecFromCodecStats(r.codecId)),r.mediaSourceId&&this.processVideoMediaSource(r.mediaSourceId,o),this.processVideoTrackSenderStats(r,r.trackId,o),r.remoteId)this.processRemoteInboundStats(r.remoteId,o);else{const h=this.findRemoteStatsId(r.ssrc,wS.REMOTE_INBOUND);h&&this.processRemoteInboundStats(h,o)}}processAudioOutboundStats(r){let o=this._stats.audioSend.find(u=>u.ssrc===r.ssrc);if(o||(o=GR(oZ),this._stats.audioSend.push(o)),o.ssrc=r.ssrc,o.packets=r.packetsSent,o.bytes=r.bytesSent,r.mediaSourceId&&this.processAudioMediaSource(r.mediaSourceId,o),r.codecId&&(o.codec=this.getCodecFromCodecStats(r.codecId)),this.processAudioTrackSenderStats(r,r.trackId,o),r.remoteId)this.processRemoteInboundStats(r.remoteId,o);else{const u=this.findRemoteStatsId(r.ssrc,wS.REMOTE_INBOUND);u&&this.processRemoteInboundStats(u,o)}}findRemoteStatsId(r,o){var u;const h=Array.from(zR(u=this.report).call(u)).find(f=>f.type===o&&f.ssrc===r);return h?h.id:null}processVideoMediaSource(r,o){const u=this.report.get(r);u&&u.width&&u.height&&u.framesPerSecond&&(o.inputFrame={width:u.width,height:u.height,frameRate:u.framesPerSecond})}processAudioMediaSource(r,o){const u=this.report.get(r);u&&(o.inputLevel=u.audioLevel)}processVideoTrackSenderStats(r,o,u){var h,f,m,v;const R=o?this.report.get(o):void 0,D=(h=R==null?void 0:R.framesSent)!==null&&h!==void 0?h:r.framesSent;if(typeof D!="number")return;let k=(f=R==null?void 0:R.frameWidth)!==null&&f!==void 0?f:r.frameWidth,L=(m=R==null?void 0:R.frameHeight)!==null&&m!==void 0?m:r.frameHeight,q=(v=R==null?void 0:R.framesPerSecond)!==null&&v!==void 0?v:r.framesPerSecond;if(typeof k=="number"&&typeof L=="number"||(k=0,L=0),q==null){const z=Date.now(),_s=this.lastVideoFramesSent.get(u.ssrc);_s&&z-_s.lts>=800?(q=Math.round((D-_s.count)/((z-_s.lts)/1e3)),this.lastVideoFramesSent.set(u.ssrc,{count:D,lts:z,rate:q})):_s?q=_s.rate:this.lastVideoFramesSent.set(u.ssrc,{count:D,lts:z,rate:0})}u.sentFrame={width:k,height:L,frameRate:Math.max(0,q)}}processVideoTrackReceiverStats(r,o,u){var h,f,m,v,R;const D=o?this.report.get(o):void 0,k=(h=D==null?void 0:D.framesReceived)!==null&&h!==void 0?h:r.framesReceived,L=(f=D==null?void 0:D.frameWidth)!==null&&f!==void 0?f:r.frameWidth,q=(m=D==null?void 0:D.frameHeight)!==null&&m!==void 0?m:r.frameHeight,z=(v=D==null?void 0:D.jitterBufferDelay)!==null&&v!==void 0?v:r.jitterBufferDelay,_s=(R=D==null?void 0:D.jitterBufferEmittedCount)!==null&&R!==void 0?R:r.jitterBufferEmittedCount;if(typeof k=="number"){const _n=this.lastVideoFramesRecv.get(u.ssrc),_i=Date.now();u.framesReceivedCount=k;let Aa=0;_n&&_i-_n.lts>=800?(Aa=Math.round((k-_n.count)/((_i-_n.lts)/1e3)),this.lastVideoFramesRecv.set(u.ssrc,{count:k,lts:_i,rate:Aa})):_n?Aa=_n.rate:this.lastVideoFramesRecv.set(u.ssrc,{count:k,lts:_i,rate:0}),u.receivedFrame={width:L||0,height:q||0,frameRate:Aa||0},u.decodedFrame={width:L||0,height:q||0,frameRate:u.decodeFrameRate||0},u.outputFrame={width:L||0,height:q||0,frameRate:u.decodeFrameRate||0}}if(z&&_s){const _n=this.lastVideoJBDelay.get(u.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let _i=_n.jitterBufferMs;const Aa=_s-_n.jitterBufferEmittedCount;Aa>0&&(_i=1e3*(z-_n.jitterBufferDelay)/Aa),u.jitterBufferMs=_i,u.currentDelayMs=Math.round(_i),this.lastVideoJBDelay.set(u.ssrc,{jitterBufferDelay:z,jitterBufferEmittedCount:_s,jitterBufferMs:u.currentDelayMs})}}processAudioTrackSenderStats(r,o,u){var h,f,m,v;const R=o?this.report.get(o):void 0,D=(h=(f=R==null?void 0:R.echoReturnLoss)!==null&&f!==void 0?f:r.echoReturnLoss)!==null&&h!==void 0?h:0,k=(m=(v=R==null?void 0:R.echoReturnLossEnhancement)!==null&&v!==void 0?v:r.echoReturnLossEnhancement)!==null&&m!==void 0?m:0;u.aecReturnLoss=D,u.aecReturnLossEnhancement=k}processAudioTrackReceiverStats(r,o,u){var h,f,m,v,R,D,k;const L=o?this.report.get(o):void 0,q=(h=L==null?void 0:L.removedSamplesForAcceleration)!==null&&h!==void 0?h:r.removedSamplesForAcceleration,z=(f=L==null?void 0:L.totalSamplesReceived)!==null&&f!==void 0?f:r.totalSamplesReceived,_s=(m=L==null?void 0:L.jitterBufferDelay)!==null&&m!==void 0?m:r.jitterBufferDelay,_n=(v=L==null?void 0:L.jitterBufferEmittedCount)!==null&&v!==void 0?v:r.jitterBufferEmittedCount,_i=(R=L==null?void 0:L.audioLevel)!==null&&R!==void 0?R:r==null?void 0:r.audioLevel,Aa=(D=L==null?void 0:L.totalSamplesDuration)!==null&&D!==void 0?D:r==null?void 0:r.totalSamplesDuration,Ea=(k=L==null?void 0:L.concealedSamples)!==null&&k!==void 0?k:r.concealedSamples;if(q&&z&&(u.accelerateRate=q/z),_s&&_n){const Vc=this.lastAudioJBDelay.get(u.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let Fa=Vc.jitterBufferMs;const Va=_n-Vc.jitterBufferEmittedCount;Va>0&&(Fa=1e3*(_s-Vc.jitterBufferDelay)/Va),u.jitterBufferMs=Math.round(Fa),this.lastAudioJBDelay.set(u.ssrc,{jitterBufferDelay:_s,jitterBufferEmittedCount:_n,jitterBufferMs:u.jitterBufferMs})}u.outputLevel=_i;let Qa=1920;Aa&&z&&(Qa=z/Aa/50,u.receivedFrames=Math.round(z/Qa)),Ea&&(u.droppedFrames=Math.round(Ea/Qa))}processRemoteInboundStats(r,o){const u=this.report.get(r);u&&(o.packetsLost=u.packetsLost,u.roundTripTime&&(o.rttMs=1e3*u.roundTripTime),u.jitter&&(o.jitterMs=1e3*u.jitter),u.timestamp&&(o.timestamp=u.timestamp))}getCodecFromCodecStats(r){const o=this.report.get(r);if(!o)return"";const u=o.mimeType.match(/\/(.*)$/);return u&&u[1]?u[1]:""}updateSendBitrate(){let r=0,o=null,u=null;this.mediaBytesSent.forEach(f=>{r+=f.diffMean()}),this.mediaBytesRetransmit.forEach(f=>{o=o===null?f.diffMean():o+f.diffMean()}),this.mediaBytesTargetEncode.forEach(f=>{u=u===null?f.diffMean():u+f.diffMean()});const h=o!==null?r-o:r;this._stats.bitrate={actualEncoded:8*h/(this.options.updateInterval/1e3),transmit:8*r/(this.options.updateInterval/1e3)},o!==null&&(this._stats.bitrate.retransmit=8*o/(this.options.updateInterval/1e3)),u!==null&&(this._stats.bitrate.targetEncoded=8*u/(this.options.updateInterval/1e3))}}class cge extends M4{updateStats(){return lc.resolve()}}function t3(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:8,u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:500,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e4;const f=function(){const m=navigator.userAgent.toLocaleLowerCase().match(/chrome\/[\d]*/i);return m&&m[0]?Number(m[0].split("/")[1]):null}();return f?f<76?new age(A,{updateInterval:r,lossRateInterval:o,freezeRateLimit:u,firstVideoDecodedTimeout:h}):new gZ(A,{updateInterval:r,lossRateInterval:o,freezeRateLimit:u,firstVideoDecodedTimeout:h}):function(m){return!!window.RTCStatsReport&&m.getStats()instanceof lc}(A)?new gZ(A,{updateInterval:r,lossRateInterval:o,freezeRateLimit:u,firstVideoDecodedTimeout:h}):new cge(A,{updateInterval:r,lossRateInterval:o,freezeRateLimit:u,firstVideoDecodedTimeout:h})}function lZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function dZ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?lZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):lZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function sU(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;const{filterRTX:h,filterVideoFec:f,filterAudioFec:m,filterAudioCodec:v,filterVideoCodec:R}=r,{useXR:D}=o;let k=[],L=[],q=[],z=[],_s=!1,_n=!1;if(U0.parse(A).mediaDescriptions.forEach(Aa=>{u&&u!==Aa.attributes.direction||(Aa.media.mediaType!=="video"||_s||(L=Aa.attributes.payloads,z=Aa.attributes.extmaps,_s=!0),Aa.media.mediaType!=="audio"||_n||(k=Aa.attributes.payloads,q=Aa.attributes.extmaps,_n=!0))}),!z||L.length===0)throw new Error("Cannot get video capabilities from SDP.");if(!q||k.length===0)throw new Error("Cannot get audio capabilities from SDP.");L.forEach(Aa=>{var Ea;(Ea=Aa.rtpMap)!==null&&Ea!==void 0&&Ea.clockRate&&(Aa.rtpMap.clockRate=parseInt(Aa.rtpMap.clockRate)),D&&Aa.rtcpFeedbacks.push({type:"rrtr"})}),k.forEach(Aa=>{var Ea;(Ea=Aa.rtpMap)!==null&&Ea!==void 0&&Ea.clockRate&&(Aa.rtpMap.clockRate=parseInt(Aa.rtpMap.clockRate)),D&&Aa.rtcpFeedbacks.push({type:"rrtr"})}),h&&(k=k.filter(Aa=>{var Ea;return((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLowerCase())!=="rtx"}),L=L.filter(Aa=>{var Ea;return((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLowerCase())!=="rtx"})),f&&(L=L.filter(Aa=>{var Ea;return!/(red)|(ulpfec)|(flexfec)/i.test(((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName)||"")})),m&&(k=k.filter(Aa=>{var Ea;return!/(red)|(ulpfec)|(flexfec)/i.test(((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName)||"")})),v&&(v==null?void 0:v.length)>0&&(k=k.filter(Aa=>{var Ea;return AQ(v).call(v,((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLowerCase())||"")})),R&&(R==null?void 0:R.length)>0&&(L=L.filter(Aa=>{var Ea;return AQ(R).call(R,((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLowerCase())||"")}));const _i=la("UNSUPPORTED_VIDEO_CODEC");return _i&&_i.length>0&&(L=L.filter(Aa=>!(Aa.rtpMap&&AQ(_i).call(_i,Aa.rtpMap.encodingName.toLowerCase())))),{audioCodecs:k,videoCodecs:L,audioExtensions:q,videoExtensions:z}}function _w(A){const r=U0.parse(A);let o,u;for(const h of r.mediaDescriptions){if(!o){const f=h.attributes.iceUfrag,m=h.attributes.icePwd;if(!f||!m)throw new Error("Cannot get iceUfrag or icePwd from SDP.");o={iceUfrag:f,icePwd:m}}if(!u){const f=h.attributes.fingerprints;f.length>0&&(u={fingerprints:f})}}if(!u&&r.attributes.fingerprints.length>0&&(u={fingerprints:r.attributes.fingerprints}),!u||!o)throw new Error("Cannot get iceParameters or dtlsParameters from SDP.");return{iceParameters:o,dtlsParameters:u}}function x4(A,r){const o=[],u=A.attributes.ssrcGroups.filter(m=>m.semantic==="FID"),h=A.attributes.ssrcGroups.find(m=>m.semantic==="SIM"),f=A.attributes.ssrcs;if(h)h.ssrcIds.forEach(m=>{var v;const R=(v=u.find(D=>D.ssrcIds[0]===m))===null||v===void 0?void 0:v.ssrcIds[1];o.push({ssrcId:m,rtx:r?R:void 0})});else if(u.length>0){const m=u[0].ssrcIds[0],v=u[0].ssrcIds[1];o.push({ssrcId:m,rtx:r?v:void 0})}else{if(f.length===0)throw new Error("No ssrcs found on local media description.");o.push({ssrcId:f[0].ssrcId})}return o}function EZ(A,r){const{cname:o}=A;let u;r&&r.ip&&typeof r.port=="number"?(u=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:r.ip,port:r.port.toString(),type:"host",extension:{}}],$.debug("Using remote candidate from AP ".concat(r.ip,":").concat(r.port)),r.ip6&&(u.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:r.ip6,port:r.port.toString(),type:"host",extension:{}}),$.debug("Using IPV6 remote candidate from AP ".concat(r.ip6,":").concat(r.port)))):u=A.iceParameters.candidates.map(v=>({foundation:v.foundation,componentId:"1",transport:v.protocol,priority:v.priority.toString(),connectionAddress:v.ip,port:v.port.toString(),type:v.type,extension:{}}));const h={fingerprints:A.dtlsParameters.fingerprints.map(v=>({hashFunction:v.algorithm,fingerprint:v.fingerprint}))},f={iceUfrag:A.iceParameters.iceUfrag,icePwd:A.iceParameters.icePwd};let m;switch(A.dtlsParameters.role){case"server":m="passive";break;case"client":m="active";break;case"auto":m="actpass"}return{dtlsParameters:h,iceParameters:f,candidates:u,rtpCapabilities:iO(A.rtpCapabilities),setup:m,cname:o}}function TS(A,r,o){const u=[],h=[];return A.forEach(f=>{let{ssrcId:m,rtx:v}=f;const R=y0(8,"track-"),D={ssrcId:m,attributes:dZ({label:R,mslabel:o=o||y0(10,""),msid:"".concat(o," ").concat(R)},r&&{cname:r})};if(u.push(D),v!==void 0){const k={ssrcId:v,attributes:dZ({label:R,mslabel:o,msid:"".concat(o," ").concat(R)},r&&{cname:r})};u.push(k),h.push({semantic:"FID",ssrcIds:[m,v]})}}),A.length>1&&h.push({semantic:"SIM",ssrcIds:A.map(f=>{let{ssrcId:m}=f;return m})}),{ssrcs:u,ssrcGroups:h}}function mT(A,r){r instanceof u0&&A.attributes.payloads.forEach(o=>{var u;const h=(u=o.rtpMap)===null||u===void 0?void 0:u.encodingName.toLowerCase();if(!h||["opus","pcmu","pcma","g722"].indexOf(h)===-1)return;o.fmtp||(o.fmtp={parameters:{}}),o.fmtp.parameters.minptime="10",o.fmtp.parameters.useinbandfec="1";const f=r._encoderConfig;f&&h!=="pcmu"&&h!=="pcma"&&h!=="g722"&&(f.bitrate&&!Q0()&&(o.fmtp.parameters.maxaveragebitrate="".concat(Math.floor(1e3*f.bitrate))),f.sampleRate&&(o.fmtp.parameters.maxplaybackrate="".concat(f.sampleRate),o.fmtp.parameters["sprop-maxcapturerate"]="".concat(f.sampleRate)),f.stereo&&(o.fmtp.parameters.stereo="1",o.fmtp.parameters["sprop-stereo"]="1"))})}function n3(A){const r=A.attributes.unrecognized.findIndex(o=>o.attField==="x-google-flag"&&o.attValue==="conference");r!==-1&&A.attributes.unrecognized.splice(r,1)}function r3(A,r){var o;if(!(r instanceof HQ&&r._encoderConfig&&r._hints.indexOf(R0.SCREEN_TRACK)===-1))return;const u=r._encoderConfig;f0().supportMinBitrate&&u.bitrateMin&&A.attributes.payloads.forEach(h=>{var f,m;AQ(f=["h264","h265","vp8","vp9","av1"]).call(f,((m=h.rtpMap)===null||m===void 0?void 0:m.encodingName.toLowerCase())||"")&&(h.fmtp||(h.fmtp={parameters:{}}),h.fmtp.parameters["x-google-min-bitrate"]="".concat(u.bitrateMin))}),f0().supportMinBitrate&&!AQ(o=r._hints).call(o,R0.LOW_STREAM)&&u.bitrateMax&&A.attributes.payloads.forEach(h=>{var f,m;AQ(f=["h264","h265","vp8","vp9","av1"]).call(f,((m=h.rtpMap)===null||m===void 0?void 0:m.encodingName.toLowerCase())||"")&&(h.fmtp||(h.fmtp={parameters:{}}),h.fmtp.parameters["x-google-start-bitrate"]="".concat(la("X_GOOGLE_START_BITRATE")||Math.floor(u.bitrateMax)))})}function U4(A){if(A.media.mediaType!=="video")return;const r=o0();if(r.name!==c0.SAFARI&&r.os!==h_.IOS)return;const o=A.attributes.extmaps.findIndex(u=>/video-orientation/g.test(u.extensionName));o!==-1&&A.attributes.extmaps.splice(o,1)}function rO(A,r,o){if(!r)return;let u,h;if(A.media.mediaType==="video"?(u=o.videoExtensions,h=o.videoCodecs):(u=o.audioExtensions,h=o.audioCodecs),r.twcc===!0){const f=u.find(m=>m.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");f&&(A.attributes.extmaps.find(v=>v.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01")||A.attributes.extmaps.push({entry:f.entry,extensionName:"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01"}),function(v,R){return R.filter(D=>!!v.find(k=>k.payloadType===D.payloadType&&!!k.rtcpFeedbacks.find(L=>L.type==="transport-cc")))}(h,A.attributes.payloads).forEach(v=>{v.rtcpFeedbacks.find(R=>R.type==="transport-cc")||v.rtcpFeedbacks.push({type:"transport-cc"})}))}else if(r.twcc===!1){const f=A.attributes.extmaps.findIndex(m=>m.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");f!==-1&&A.attributes.extmaps.splice(f,1),A.attributes.payloads.forEach(m=>{const v=m.rtcpFeedbacks.findIndex(R=>R.type==="transport-cc");v!==-1&&m.rtcpFeedbacks.splice(v,1)})}if(r.remb===!0){const f=u.find(m=>m.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");f&&(A.attributes.extmaps.find(v=>v.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time")||A.attributes.extmaps.push({entry:f.entry,extensionName:"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time"}),function(v,R){return R.filter(D=>!!v.find(k=>k.payloadType===D.payloadType&&!!k.rtcpFeedbacks.find(L=>L.type==="goog-remb")))}(h,A.attributes.payloads).forEach(v=>{v.rtcpFeedbacks.find(R=>R.type==="goog-remb")||v.rtcpFeedbacks.push({type:"goog-remb"})}))}else if(r.remb===!1){const f=A.attributes.extmaps.findIndex(m=>m.extensionName==="http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time");f!==-1&&A.attributes.extmaps.splice(f,1),A.attributes.payloads.forEach(m=>{const v=m.rtcpFeedbacks.findIndex(R=>R.type==="goog-remb");v!==-1&&m.rtcpFeedbacks.splice(v,1)})}}function P4(A,r,o){if(Q0()||A.media.mediaType!=="video"||!(r instanceof HQ)||o!=="vp9"&&o!=="vp8"||o==="vp8"&&!la("SIMULCAST")||r._scalabilityMode===void 0||r._scalabilityMode.numSpatialLayers<=1)return;const u=o==="vp8"?2:r._scalabilityMode.numSpatialLayers,h=A.attributes.ssrcs[0],f=A.attributes.ssrcGroups.find(v=>v.semantic==="FID"&&v.ssrcIds[0]===h.ssrcId),m={semantic:"SIM",ssrcIds:[h.ssrcId]};for(let v=1;v<u;v++)A.attributes.ssrcs.push({ssrcId:h.ssrcId+v,attributes:S0(h.attributes)}),m.ssrcIds.push(h.ssrcId+v),f&&(A.attributes.ssrcs.push({ssrcId:f.ssrcIds[1]+v,attributes:S0(h.attributes)}),A.attributes.ssrcGroups.push({semantic:"FID",ssrcIds:[h.ssrcId+v,f.ssrcIds[1]+v]}));A.attributes.ssrcGroups.unshift(m)}async function G4(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=new RTCPeerConnection;o.addTransceiver("video",{direction:"sendonly"}),o.addTransceiver("audio",{direction:"sendonly"}),o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"});const u=(await o.createOffer()).sdp,{send:h,recv:f,sendrecv:m}=function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=arguments.length>2?arguments[2]:void 0;const k=sU(D,v,R,"sendonly"),L=sU(D,v,R,"recvonly"),q={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},z={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},_s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(FR(k,L,"videoExtensions",q,z,_s),FR(k,L,"videoCodecs",q,z,_s),FR(k,L,"audioExtensions",q,z,_s),FR(k,L,"audioCodecs",q,z,_s),la("RAISE_H264_BASELINE_PRIORITY")){const _n=_s.videoCodecs.findIndex(_i=>{var Aa,Ea;return((Aa=_i.rtpMap)===null||Aa===void 0?void 0:Aa.encodingName.toLocaleLowerCase())==="h264"&&((Ea=_i.fmtp)===null||Ea===void 0?void 0:Ea.parameters["profile-level-id"])==="42001f"});if(_n!==-1){const _i=_s.videoCodecs.findIndex(Aa=>{var Ea;return((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLocaleLowerCase())==="h264"});if(_i<_n){$.debug("raising H264 baseline profile priority");const Aa=_s.videoCodecs[_n];_s.videoCodecs.splice(_n,1),_s.videoCodecs.splice(_i,0,Aa)}_i!==-1&&(z.videoCodecs=z.videoCodecs.filter(Aa=>{var Ea,Qa;return!(((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLocaleLowerCase())==="h264"&&((Qa=Aa.fmtp)===null||Qa===void 0?void 0:Qa.parameters["profile-level-id"])!=="42001f")})),_i!==-1&&la("FILTER_SEND_H264_BASELINE")&&(q.videoCodecs=q.videoCodecs.filter(Aa=>{var Ea,Qa;return!(((Ea=Aa.rtpMap)===null||Ea===void 0?void 0:Ea.encodingName.toLocaleLowerCase())==="h264"&&((Qa=Aa.fmtp)===null||Qa===void 0?void 0:Qa.parameters["profile-level-id"])!=="42001f")}))}}return{send:q,recv:z,sendrecv:_s}}(A,r,u);try{o.close()}catch{}return{send:h,recv:f,sendrecv:m}}function IZ(){const A={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},r=sU(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"recvonly"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},u={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(FR(A,r,"videoExtensions",o,u,h),FR(A,r,"videoCodecs",o,u,h),FR(A,r,"audioExtensions",o,u,h),FR(A,r,"audioCodecs",o,u,h),la("RAISE_H264_BASELINE_PRIORITY")){const f=h.videoCodecs.findIndex(m=>m.rtpMap&&m.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&m.fmtp&&m.fmtp.parameters["profile-level-id"]==="42001f");if(f!==-1){const m=h.videoCodecs.findIndex(v=>v.rtpMap&&v.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(m<f){$.debug("raising H264 baseline profile priority");const v=h.videoCodecs[f];h.videoCodecs.splice(f,1),h.videoCodecs.splice(m,0,v)}m!==-1&&(u.videoCodecs=u.videoCodecs.filter(v=>!(v.rtpMap&&v.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&v.fmtp&&v.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:o,recv:u,sendrecv:h}}function FR(A,r,o,u,h,f){if(o==="videoExtensions"||o==="audioExtensions"){const m=[];return A[o].forEach(v=>{r[o].some((R,D)=>{if(v.entry===R.entry&&v.extensionName===R.extensionName)return m.push(D),!0})?f[o].push(v):u[o].push(v)}),void r[o].forEach((v,R)=>{m.indexOf(R)===-1&&h[o].push(v)})}if(o==="videoCodecs"||o==="audioCodecs"){const m=[];return A[o].forEach(v=>{r[o].some((R,D)=>{if(v.payloadType===R.payloadType&&JSON.stringify(v)===JSON.stringify(R))return m.push(D),!0})?f[o].push(v):u[o].push(v)}),void r[o].forEach((v,R)=>{m.indexOf(R)===-1&&h[o].push(v)})}}function iO(A){const{send:r,recv:o,sendrecv:u}=A;if(!u){if(!r||!o)throw new Error("cannot merge rtp capabilities because one of send or recv is empty!");return{send:r,recv:o}}let h,f;return r?(h={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},h.audioCodecs=[...r.audioCodecs,...u.audioCodecs],h.videoCodecs=[...r.videoCodecs,...u.videoCodecs],h.audioExtensions=[...r.audioExtensions,...u.audioExtensions],h.videoExtensions=[...r.videoExtensions,...u.videoExtensions]):h=u,o?(f={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},f.audioCodecs=[...o.audioCodecs,...u.audioCodecs],f.videoCodecs=[...o.videoCodecs,...u.videoCodecs],f.audioExtensions=[...o.audioExtensions,...u.audioExtensions],f.videoExtensions=[...o.videoExtensions,...u.videoExtensions]):f=u,{send:h,recv:f}}function nb(A){A.media.mediaType==="audio"&&A.attributes.payloads.filter(r=>{var o;return((o=r.rtpMap)===null||o===void 0?void 0:o.encodingName.toLowerCase())==="opus"}).forEach(r=>{r.fmtp||(r.fmtp={parameters:{}}),r.fmtp.parameters.stereo="1",r.fmtp.parameters["sprop-stereo"]="1"})}function aU(A){A.mediaDescriptions.forEach(r=>{r.media.mediaType!=="video"&&r.media.mediaType!=="audio"||r.attributes.payloads.forEach(o=>{o.rtcpFeedbacks.findIndex(u=>u.type==="rrtr")===-1&&o.rtcpFeedbacks.push({type:"rrtr"})})})}function a1(A,r,o,u){let h=[];if(A===sQ.VIDEO){if(la("H264_PROFILE_LEVEL_ID")&&u==="h264"&&(h=r.videoCodecs.filter(f=>{var m;return AQ(m=f.rtpMap&&f.rtpMap.encodingName.toLowerCase()||"").call(m,u)&&f&&f.fmtp&&f.fmtp.parameters["profile-level-id"]===la("H264_PROFILE_LEVEL_ID")})),!Array.isArray(h)||h.length===0){let f=[];const m=[],v=[];o.videoCodecs.forEach(R=>{var D,k,L;AQ(D=R.rtpMap&&R.rtpMap.encodingName.toLowerCase()||"").call(D,u)&&f.push(R),AQ(k=R.rtpMap&&R.rtpMap.encodingName.toLowerCase()||"").call(k,"vp8")&&m.push(R),AQ(L=R.rtpMap&&R.rtpMap.encodingName.toLowerCase()||"").call(L,"h264")&&v.push(R)}),f.length===0&&(m.length!==0?(f=m,$.warning("codec ".concat(u," not included in rtpCapabilities, fallback to default payloads: vp8"))):v.length!==0&&(f=v,$.warning("codec ".concat(u," not included in rtpCapabilities, fallback to default payloads: h264")))),f.length!==0&&(h=r.videoCodecs.filter(R=>f.some(D=>D.payloadType===R.payloadType)))}if(la("USE_PUB_RTX")){const f=h.map(v=>v.payloadType.toString()),m=r.videoCodecs.filter(v=>v.rtpMap&&v.rtpMap.encodingName==="rtx"&&AQ(f).call(f,v.fmtp&&v.fmtp.parameters.apt||""));h=[...h,...m]}h.length===0&&($.warning("codec ".concat(u," not included in rtpCapabilities, fallback to default payloads: ").concat(r.videoCodecs[0].rtpMap&&r.videoCodecs[0].rtpMap.encodingName)),h=r.videoCodecs)}else h=r.audioCodecs.filter(f=>{var m;return AQ(m=f.rtpMap&&f.rtpMap.encodingName.toLowerCase()||"").call(m,u)}),h.length===0&&($.warning("codec ".concat(u," not included in rtpCapabilities, fallback to opus")),h=r.audioCodecs.filter(f=>{var m;return AQ(m=f.rtpMap&&f.rtpMap.encodingName.toLowerCase()||"").call(m,"opus")}));return h}let CZ=class{get localCapabilities(){return S0(this._localCapabilities)}get rtpCapabilities(){return S0(this._rtpCapabilities)}get candidates(){return S0(this._candidates)}get iceParameters(){return S0(this._iceParameters)}get dtlsParameters(){return S0(this._dtlsParameters)}constructor(A){j(this,"sessionDesc",void 0),j(this,"_localCapabilities",void 0),j(this,"_rtpCapabilities",void 0),j(this,"_candidates",void 0),j(this,"_iceParameters",void 0),j(this,"_dtlsParameters",void 0),j(this,"setup",void 0),j(this,"currentMidIndex",void 0),j(this,"cname","o/i14u9pJrxRKAsu"),j(this,"firefoxSsrcMidMap",new Map),A=S0(A);const{remoteIceParameters:r,remoteDtlsParameters:o,candidates:u,remoteRTPCapabilities:h,localCapabilities:f,direction:m,setup:v,videoCodec:R,audioCodec:D}=A;let k;this.setup=v,k=m===iS.RECEIVE_ONLY?U0.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`):U0.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=extmap-allow-mixed
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=recvonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`),this._rtpCapabilities=h,this._candidates=u,this._iceParameters=r,this._dtlsParameters=o,this._localCapabilities=f;const L=m===iS.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,q=m===iS.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,z=m===iS.RECEIVE_ONLY?h.send.videoCodecs:a1(sQ.VIDEO,L,q,R),_s=m===iS.RECEIVE_ONLY?h.send.audioCodecs:a1(sQ.AUDIO,L,q,D);for(const _n of k.mediaDescriptions){if(_n.attributes.iceUfrag=r.iceUfrag,_n.attributes.icePwd=r.icePwd,_n.attributes.fingerprints=o.fingerprints,_n.attributes.candidates=u,_n.attributes.setup=this.setup,_n.media.mediaType==="application"&&(_n.attributes.sctpPort="5000"),_n.media.mediaType==="video"&&(_n.media.fmts=z.map(_i=>_i.payloadType.toString(10)),_n.attributes.payloads=z,_n.attributes.extmaps=L.videoExtensions,la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:_i,ssrcGroups:Aa}=TS([{ssrcId:4e4,rtx:la("USE_SUB_RTX")?40001:void 0}],this.cname);_n.attributes.ssrcs=_i,_n.attributes.ssrcGroups=Aa}if(_n.media.mediaType==="audio"&&(_n.media.fmts=_s.map(_i=>_i.payloadType.toString(10)),_n.attributes.payloads=_s,_n.attributes.extmaps=L.audioExtensions,nb(_n),la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:_i,ssrcGroups:Aa}=TS([{ssrcId:2e4}],this.cname);_n.attributes.ssrcs=_i,_n.attributes.ssrcGroups=Aa}}this.sessionDesc=k,this.currentMidIndex=k.mediaDescriptions.length-1}toString(){return U0.print(this.sessionDesc)}hasMid(A){return Array.isArray(A)?A.every(r=>this.hasMid(r)):this.sessionDesc.mediaDescriptions.some(r=>r.attributes.mid===A)}send(A,r,o,u,h){o=o.replace(/ /g,"-");const{ssrcs:f,ssrcGroups:m}=TS(r,this.cname,la("SYNC_GROUP")?o:void 0),v=this.findPreloadMediaDesc(f);if(v){if(Q0()&&this.firefoxSsrcMidMap.set(f[0].ssrcId,v.attributes.mid),h&&(h.twcc||h.remb)){const R=this.sessionDesc.mediaDescriptions.indexOf(v);return this.sessionDesc.mediaDescriptions[R]=this.mungSendMediaDesc(v,h),{mid:v.attributes.mid,needExchangeSDP:!0}}return{mid:v.attributes.mid,needExchangeSDP:!1}}{const R=this.findAvailableMediaIndex(A,f,u);let D;return R===-1?(D=this.createOrRecycleSendMedia(A,f,m,"sendonly",u,h),this.updateBundleMids()):(D=S0(this.sessionDesc.mediaDescriptions[R]),D.attributes.direction="sendonly",D.attributes.ssrcs=f,D.attributes.ssrcGroups=m,this.sessionDesc.mediaDescriptions[R]=this.mungSendMediaDesc(D,h)),Q0()&&this.firefoxSsrcMidMap.set(f[0].ssrcId,D.attributes.mid),{needExchangeSDP:!0,mid:D.attributes.mid}}}stopSending(A){const r=this.sessionDesc.mediaDescriptions.filter(o=>o.attributes.mid&&A.indexOf(o.attributes.mid)!==-1);if(r.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");r.forEach(o=>{o.attributes.ssrcs=[]}),this.updateBundleMids()}receive(A,r,o){const u=[];return A.forEach(h=>{const f=h._mediaStreamTrack.kind,m=this.findAvailableRecvMediaIndex(f);let v,R=!1;m===-1?(R=!0,v=this.createOrRecycleRecvMedia(h,[],"recvonly",r,o),this.updateBundleMids()):(v=S0(this.sessionDesc.mediaDescriptions[m]),v.attributes.direction="recvonly"),u.push({mid:v.attributes.mid,needCreateTransceiver:R})}),u}stopReceiving(A){const r=this.sessionDesc.mediaDescriptions.filter(o=>A.indexOf(o.attributes.mid)!==-1);if(r.length!==A.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");r.forEach(o=>{o.media.port="0",o.attributes.direction="inactive"}),this.updateBundleMids()}addRemoteCandidate(A){const{foundation:r,protocol:o,address:u,port:h,type:f,relatedAddress:m,relatedPort:v,priority:R}=new RTCIceCandidate(A),D={foundation:r??"",componentId:"1",transport:o??"",priority:R?R+"":"",connectionAddress:u??"",port:h?h+"":"",type:f?f+"":"",relAddr:m??"",relPort:v?v+"":"",extension:{}};this.candidates.some(k=>k.priority===D.priority&&k.connectionAddress===D.connectionAddress&&k.port===D.port)||(this._candidates.push(D),this.sessionDesc.mediaDescriptions.forEach(k=>{k.attributes.candidates=this.candidates}))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(A,r,o,u,h){const f=A._mediaStreamTrack.kind,m=this.rtpCapabilities.recv,v=a1(f,m,this.localCapabilities.send,f===sQ.AUDIO?h:u),R=f===sQ.VIDEO?m.videoExtensions:m.audioExtensions,D="".concat(++this.currentMidIndex);let k={media:{mediaType:f,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:v.map(q=>q.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:R,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:r,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:v,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:o,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(D)}};k=this.mungRecvMediaDsec(k,A);const L=this.findFirstClosedMedia(f);if(L){const q=this.sessionDesc.mediaDescriptions.indexOf(L);this.sessionDesc.mediaDescriptions[q]=k}else this.sessionDesc.mediaDescriptions.push(k);return k}muteRemote(A){const r=this.sessionDesc.mediaDescriptions.filter(o=>AQ(A).call(A,o.attributes.mid||""));if(r.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");r.forEach(o=>{o.attributes.direction="inactive"})}unmuteRemote(A){const r=this.sessionDesc.mediaDescriptions.filter(o=>AQ(A).call(A,o.attributes.mid||""));if(r.length!==A.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");r.forEach(o=>{o.attributes.direction="recvonly"})}findAvailableMediaIndex(A,r,o){return this.sessionDesc.mediaDescriptions.findIndex(u=>{const h=u.media.mediaType===A&&u.media.port!=="0"&&(u.attributes.direction==="sendonly"||u.attributes.direction==="sendrecv")&&u.attributes.ssrcs.length===0;if(Q0()){if(h){const f=this.firefoxSsrcMidMap.get(r[0].ssrcId);return!(f||u.attributes.mid!=="0"&&u.attributes.mid!=="1")||!(!f||f!==u.attributes.mid)}return!1}return h&&u.attributes.mid===o})}findAvailableRecvMediaIndex(A){return this.sessionDesc.mediaDescriptions.findIndex(r=>{const o=r.media.mediaType===A&&r.media.port!=="0"&&(r.attributes.direction==="recvonly"||r.attributes.direction==="sendrecv");return r.attributes.mid!=="0"&&r.attributes.mid!=="1"&&o})}predictReceivingMids(A){const r=[];for(let o=0;o<A;o++)r.push((this.currentMidIndex+o+1).toString(10));return r}restartICE(A){A=S0(A),this._iceParameters=A,this.sessionDesc.mediaDescriptions.forEach(r=>{r.attributes.iceUfrag=A.iceUfrag,r.attributes.icePwd=A.icePwd})}createOrRecycleSendMedia(A,r,o,u,h,f){const m=this.rtpCapabilities.send,v=A===sQ.VIDEO?m.videoCodecs:m.audioCodecs,R=A===sQ.VIDEO?m.videoExtensions:m.audioExtensions;Q0()&&(h="".concat(++this.currentMidIndex));let D={media:{mediaType:A,port:"9",protos:["UDP","TLS","RTP","SAVPF"],fmts:v.map(L=>L.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:R,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:r,ssrcGroups:o,rtcpFeedbackWildcards:[],payloads:v,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:u,rtcpMux:!0,rtcpRsize:!0,mid:h}};D=this.mungSendMediaDesc(D,f);const k=this.findFirstClosedMedia(A);if(k){const L=this.sessionDesc.mediaDescriptions.indexOf(k);this.sessionDesc.mediaDescriptions[L]=D}else this.sessionDesc.mediaDescriptions.push(D);return D}mungRecvMediaDsec(A,r,o){const u=S0(A);return n3(u),mT(u,r),r3(u,r),U4(u),rO(u,o,this.localCapabilities.send),u}mungSendMediaDesc(A,r){const o=S0(A);return rO(o,r,this.localCapabilities.recv),nb(o),o}updateRecvMedia(A,r){const o=this.sessionDesc.mediaDescriptions.findIndex(u=>u.attributes.mid===A);if(o!==-1){const u=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[o],r);this.sessionDesc.mediaDescriptions[o]=u}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(A=>A.media.port!=="0").map(A=>A.attributes.mid)}findPreloadMediaDesc(A){return this.sessionDesc.mediaDescriptions.find(r=>{var o;return((o=r.attributes)===null||o===void 0||(o=o.ssrcs[0])===null||o===void 0?void 0:o.ssrcId)===A[0].ssrcId})}findFirstClosedMedia(A){return this.sessionDesc.mediaDescriptions.find(r=>Q0()?r.media.port==="0"&&r.media.mediaType===A:r.media.port==="0")}};const uge=["sdp"];function hZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function yT(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?hZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):hZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}let gR=class gO extends WW{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var r,o;return(r=(o=this.peerConnection.getReceivers()[0])===null||o===void 0||(o=o.transport)===null||o===void 0?void 0:o.state)!==null&&r!==void 0?r:null}get localCodecs(){return[]}set isInRestartIce(r){this._isInRestartIce=r}get isInRestartIce(){return this._isInRestartIce}constructor(r,o,u){super(r,o),j(this,"direction",void 0),j(this,"name",void 0),j(this,"store",void 0),j(this,"spec",void 0),j(this,"peerConnection",void 0),j(this,"initialOffer",void 0),j(this,"transport",void 0),j(this,"statsFilter",void 0),j(this,"localCandidateCount",0),j(this,"allCandidatesReceived",!1),j(this,"localCandidateAddress",null),j(this,"useXR",la("USE_XR")),j(this,"filter",{filterRTX:!la("USE_PUB_RTX")&&!la("USE_SUB_RTX"),filterVideoFec:la("FILTER_VIDEO_FEC"),filterAudioFec:la("FILTER_AUDIO_FEC")}),j(this,"extension",{useXR:this.useXR}),j(this,"_isInRestartIce",!1),j(this,"mutex",new T_("P2PConnection-mutex")),j(this,"onLocalCandidate",void 0),j(this,"remoteSDP",void 0),j(this,"pendingCandidates",[]),j(this,"localCapabilities",void 0),j(this,"isReady",!1),j(this,"restartCnt",0),j(this,"curTurnServerIndex",0),this.store=o,this.spec=r,this.peerConnection=new RTCPeerConnection(gO.resolvePCConfiguration(r,o.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=u??iS.SEND_ONLY,this.name=this.direction===iS.SEND_ONLY?"sendP2PConnection":"recvP2PConnection",this.statsFilter=t3(this.peerConnection,la("STATS_UPDATE_INTERVAL"),void 0,Q0()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(r){try{const o=await G4(this.filter,this.extension);if(this.localCapabilities=iO(o),r){const{sdp:u}=r,h=Age(r,uge),f=function(){const k={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},L=sU(arguments.length>2?arguments[2]:void 0,arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},"sendonly"),q={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},z={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},_s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(FR(L,k,"videoExtensions",q,z,_s),FR(L,k,"videoCodecs",q,z,_s),FR(L,k,"audioExtensions",q,z,_s),FR(L,k,"audioCodecs",q,z,_s),la("RAISE_H264_BASELINE_PRIORITY")){const _n=_s.videoCodecs.findIndex(_i=>_i.rtpMap&&_i.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&_i.fmtp&&_i.fmtp.parameters["profile-level-id"]==="42001f");if(_n!==-1){const _i=_s.videoCodecs.findIndex(Aa=>Aa.rtpMap&&Aa.rtpMap.encodingName.toLocaleLowerCase()==="h264");if(_i<_n){$.debug("raising H264 baseline profile priority");const Aa=_s.videoCodecs[_n];_s.videoCodecs.splice(_n,1),_s.videoCodecs.splice(_i,0,Aa)}_i!==-1&&la("FILTER_SEND_H264_BASELINE")&&(q.videoCodecs=q.videoCodecs.filter(Aa=>!(Aa.rtpMap&&Aa.rtpMap.encodingName.toLocaleLowerCase()==="h264"&&Aa.fmtp&&Aa.fmtp.parameters["profile-level-id"]!=="42001f")))}}return{send:q,recv:z,sendrecv:_s}}(this.filter,this.extension,u);this.remoteSDP=new CZ({remoteIceParameters:h.iceParameters,remoteDtlsParameters:h.dtlsParameters,candidates:[],remoteRTPCapabilities:f,localCapabilities:this.localCapabilities,direction:this.direction,setup:"actpass",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()}),this.isReady=!0;const m=await this.peerConnection.createAnswer();if(!m.sdp)throw new Error("Cannot get answer sdp when trying to establish PeerConnection.");const v=_w(m.sdp);await this.peerConnection.setLocalDescription(m);const R=await IZ(this.filter,this.extension,m.sdp);this.localCapabilities=iO(R);const D=this.peerConnection.getTransceivers()[0];return D!=null&&D.receiver&&D.receiver.transport&&this.tryBindTransportEvents(D.receiver.transport),yT(yT({},v),{},{sdp:m.sdp})}{this.peerConnection.addTransceiver("video",{direction:"sendonly"}),this.peerConnection.addTransceiver("audio",{direction:"sendonly"});const u=await this.peerConnection.createOffer();if(!u.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const h=_w(u.sdp);return this.initialOffer=u,yT(yT({},h),{},{sdp:u.sdp})}}catch(o){throw new _g(ea.GET_LOCAL_CONNECTION_PARAMS_FAILED,o.toString())}}async connect(r){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:o,iceParameters:u,dtlsParameters:h}=r,f=await IZ(this.filter,this.extension,o);this.remoteSDP=new CZ({remoteIceParameters:u,remoteDtlsParameters:h,candidates:[],remoteRTPCapabilities:f,localCapabilities:this.localCapabilities,direction:this.direction,setup:"active",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()});const m=this.peerConnection.getTransceivers()[0];m!=null&&m.sender&&m.sender.transport&&this.tryBindTransportEvents(m.sender.transport)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(o.toString()))}}async addRemoteCandidate(r){try{r&&this.pendingCandidates.push(r),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach(o=>{this.peerConnection.addIceCandidate(o)}),this.pendingCandidates=[])}catch(o){throw new _g(ea.ADD_CANDIDATE_FAILED,"P2PConnection.addRemoteCandidate failed; ".concat(o.toString()))}}send(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.mutex.lock("From P2PConnection.send"));try{if(!h.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const m=[],v=h.remoteSDP.receive(r,o,u);r.forEach((_i,Aa)=>{if(v[Aa].needCreateTransceiver){const Ea=h.peerConnection.addTransceiver(_i._mediaStreamTrack,{direction:"sendonly"});m.push(Ea),_i._updateRtpTransceiver(Ea)}else{const Ea=h.peerConnection.getTransceivers().find(Qa=>Qa.mid===v[Aa].mid);if(!Ea)throw new Error("cannot find transceiver when sendPeerconnection send, mid is ".concat(v[Aa].mid));m.push(Ea),_i._updateRtpTransceiver(Ea)}}),Q0()&&la("SIMULCAST")===!0&&(yield KQ(h.applySimulcastForFirefox(m,r)));const R=v.map(_i=>_i.mid),D=yield KQ(h.peerConnection.createOffer()),k=h.mungSendOfferSDP(D.sdp,r,R),L=U0.parse(k),q=R.map(_i=>{const Aa=L.mediaDescriptions.find(Ea=>Ea.attributes.mid===_i);if(!Aa)throw new Error("Cannot extract ssrc from mediaDescription.");return x4(Aa,la("USE_PUB_RTX"))}),z=m.map((_i,Aa)=>{const Ea=R[Aa];return{localSSRC:q[Aa],id:Ea}});yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:k}));try{yield z}catch(_i){const Aa=h.remoteSDP.toString();throw yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:k})),yield KQ(h.peerConnection.setRemoteDescription({type:"answer",sdp:Aa})),yield KQ(h.stopSending(R,!0)),_i}yield KQ(h.applySimulcastEncodings(m,r)),yield KQ(h.applySendEncodings(m,r));const _s=h.remoteSDP.toString(),_n=h.logSDPExchange(k,"offer","local","send");return _n==null||_n(_s),yield KQ(h.setRemoteDescription({type:"answer",sdp:_s})),m.map((_i,Aa)=>{const Ea=R[Aa];return{localSSRC:q[Aa],id:Ea}})}catch(m){throw m instanceof _g?m:new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(m.toString()))}finally{f()}})()}async stopSending(r,o){const u=o?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const h=this.peerConnection.getTransceivers().filter(R=>r.indexOf(R.mid)!==-1);if(h.length!==r.length)throw new Error("Transceivers' length (".concat(h.length,") doesn't match mids' length (").concat(r.length,") when trying to call P2PConnection.stopSending."));h.map(R=>{var D;R.direction="inactive",(D=R.stop)===null||D===void 0||D.call(R)});const f=await this.peerConnection.createOffer(),m=this.logSDPExchange(f.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(f),this.remoteSDP.stopReceiving(r);const v=this.remoteSDP.toString();m==null||m(v),await this.setRemoteDescription({type:"answer",sdp:v})}catch(h){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(h.toString()))}finally{u&&u()}}async receive(r,o,u,h){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(r," before remoteSDP created."));const{mid:f,needExchangeSDP:m}=this.remoteSDP.send(r,o,u,h);if(m){const R=this.remoteSDP.toString(),D=this.logSDPExchange(R,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:R});const k=await this.peerConnection.createAnswer(),L=this.mungReceiveAnswerSDP(k.sdp,f,r);D==null||D(L||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:L}),$.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," by exchanging SDP."))}else $.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," no need to exchange SDP."));const v=this.peerConnection.getTransceivers().find(R=>R.mid===f);if(!v||v.mid===null)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:v.receiver.track,mid:v.mid,transceiver:v}}catch(f){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(f.toString()))}}async mockReceive(r,o,u,h){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(r," before remoteSDP created."));const{mid:f,needExchangeSDP:m}=this.remoteSDP.send(r,o,u,h);if(m){const v=this.remoteSDP.toString(),R=this.logSDPExchange(v,"offer","remote","receive");await this.setRemoteDescription({type:"offer",sdp:v});const D=await this.peerConnection.createAnswer(),k=this.mungReceiveAnswerSDP(D.sdp,f,r);R==null||R(k||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:k}),$.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," by exchanging SDP."))}else $.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," no need to exchange SDP."))}catch(f){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(f.toString()))}}async stopReceiving(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","stopReceiving");await this.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async restartICE(r){try{if(this.store.p2pTransport===ON.Auto&&(this.store.p2pTransport=ON.SdRtn,f0().supportPCSetConfiguration&&this.peerConnection.setConfiguration(gO.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,f0().supportPCSetConfiguration&&this.peerConnection.setConfiguration(gO.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!r){this.restartCnt++,this.isReady=!1;const o=await this.peerConnection.createOffer({iceRestart:!0});if(!o.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const{iceParameters:u}=_w(o.sdp);return this.store.descriptionStart(),this.direction===iS.SEND_ONLY&&await this.peerConnection.setLocalDescription(o),u}if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");if(this.remoteSDP.restartICE(r),this.store.descriptionStart(),this.direction===iS.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:"offer",sdp:this.remoteSDP.toString()});const o=await this.peerConnection.createAnswer();if(!o.sdp)throw new Error("Cannot get answer sdp when trying to iceRestart.");const{iceParameters:u}=_w(o.sdp);return await this.peerConnection.setLocalDescription(o),u}await this.setRemoteDescription({type:"answer",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}close(){var r;this.peerConnection.close(),this.peerConnection.onicecandidate=null,(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(r){return this.statsFilter.getVideoIsReady(r)}async updateEncoderConfig(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const u=await this.peerConnection.createOffer(),h=this.mungSendOfferSDP(u.sdp,[o],[r]);this.remoteSDP.updateRecvMedia(r,o);const f=this.remoteSDP.toString(),m=this.logSDPExchange(h,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:h}),m==null||m(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(u){throw new _g(ea.EXCHANGE_SDP_FAILED,u.toString())}}async updateSendParameters(r,o){const u=this.peerConnection.getTransceivers().filter(h=>h.mid===r);u.length===1&&(this.isVP8Simulcast(o)?Q0()||await this.applySimulcastEncodings(u,[o]):await this.applySendEncodings(u,[o]))}setStatsRemoteVideoIsReady(r,o){this.statsFilter.setVideoIsReady2(r,o)}async replaceTrack(r,o){const u=this.peerConnection.getTransceivers().find(h=>h.mid===o);u&&await u.sender.replaceTrack(r._mediaStreamTrack)}async getSelectedCandidatePair(){const r=this.peerConnection.getReceivers();if(r.length>0&&r[0].transport&&r[0].transport.iceTransport&&r[0].transport.iceTransport.getSelectedCandidatePair&&r[0].transport.iceTransport.getSelectedCandidatePair()){const o=r[0].transport.iceTransport,{local:u,remote:h}=o.getSelectedCandidatePair();return{local:yT(yT({},pN),{},{candidateType:u.type,protocol:u.protocol,address:u.address,port:u.port}),remote:yT(yT({},pN),{},{candidateType:h.type,protocol:h.protocol,address:h.address,port:h.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var r,o;AQ(r=["connected","completed"]).call(r,this.peerConnection.iceConnectionState)&&(this.isReady=!1),(o=this.onICEConnectionStateChange)===null||o===void 0||o.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var r;this.peerConnection.connectionState==="connected"&&(this.restartCnt=0),(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=r=>{if(r.candidate){var o;r.candidate.candidate&&(this.localCandidateAddress=r.candidate.address,(o=this.onLocalCandidate)===null||o===void 0||o.call(this,r.candidate.toJSON())),this.localCandidateCount+=1}else this.allCandidatesReceived=!0,$.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(r,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const h={iceServers:[]};var f;return r.iceServers?h.iceServers=r.iceServers:r.turnServer&&r.turnServer.mode!=="off"&&(O1(r.turnServer.servers)?h.iceServers=r.turnServer.servers:(h.iceServers&&h.iceServers.push(...gO.turnServerConfigToIceServers(r.turnServer.servers,o,u)),la("USE_TURN_SERVER_OF_GATEWAY")&&h.iceServers&&r.turnServer.serversFromGateway&&h.iceServers.push(...gO.turnServerConfigToIceServers(r.turnServer.serversFromGateway,o,u)),AQ(f=[ON.Relay,ON.SdRtn]).call(f,o)&&(h.iceTransportPolicy="relay"),la("FORCE_TURN_TCP")?h.iceTransportPolicy="relay":r.turnServer.servers.concat(r.turnServer.serversFromGateway||[]).forEach(m=>{m.forceturn&&(h.iceTransportPolicy="relay")}))),la("ENABLE_ENCODED_TRANSFORM")&&f0().supportWebRTCEncodedTransform&&(h.encodedInsertableStreams=!0),$.debug("P2PConnection p2pTransport is ".concat(o)),h}static turnServerConfigToIceServers(r,o){let u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const h=[],f=r.filter(v=>v.tcpport);$.debug("P2PConnection turnServers is ".concat(f,", current index is ").concat(u));const m=f.length>u?f[u]:f[0];switch(o){case ON.SdRtn:const v=r.filter(D=>{var k;return AQ(k=D.username).call(k,"glb:")&&D.turnServerURL==D.turnServerURL}),R=v.length>u?v[u]:v[0];R&&(h.push({username:R.username,credential:R.password,credentialType:"password",urls:"turn:".concat(lT(R.turnServerURL),":").concat(R.tcpport,"?transport=udp")}),h.push({username:R.username,credential:R.password,credentialType:"password",urls:"turns:".concat(lT(R.turnServerURL),":").concat(R.tcpport,"?transport=tcp")}));break;case ON.Relay:m&&(h.push({username:m.username,credential:m.password,credentialType:"password",urls:"turn:".concat(m.turnServerURL,":").concat(m.tcpport,"?transport=udp")}),h.push({username:m.username,credential:m.password,credentialType:"password",urls:"turns:".concat(lT(m.turnServerURL),":").concat(m.tcpport,"?transport=tcp")}));break;default:m&&(h.push({username:m.username,credential:m.password,credentialType:"password",urls:"turn:".concat(m.turnServerURL,":").concat(m.tcpport,"?transport=udp")}),h.push({username:m.username,credential:m.password,credentialType:"password",urls:"turns:".concat(lT(m.turnServerURL),":").concat(m.tcpport,"?transport=tcp")}),h.push({username:m.username,credential:m.password,credentialType:"password",urls:"stun:".concat(m.turnServerURL,":").concat(m.tcpport)}))}return h}tryBindTransportEvents(r){if(r){this.transport=r,r.onstatechange=()=>{var u;r!=null&&r.state&&((u=this.onDTLSTransportStateChange)===null||u===void 0||u.call(this,r.state))},r.onerror=u=>{var h;(h=this.onDTLSTransportError)===null||h===void 0||h.call(this,"error"in u?u.error:u)};const o=r.iceTransport;o&&(o.onstatechange=()=>{const u=r==null?void 0:r.iceTransport.state;var h;u&&((h=this.onICETransportStateChange)===null||h===void 0||h.call(this,u))},o.getSelectedCandidatePair&&(o.onselectedcandidatepairchange=()=>{if(o.getSelectedCandidatePair()){const{local:u,remote:h}=o.getSelectedCandidatePair();$.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:u.type,protocol:u.protocol}),", remote ").concat(JSON.stringify({candidateType:h.type,protocol:h.protocol,address:h.address,port:h.port})," )"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(r,o){var u;if(o||(o=this.peerConnection.getSenders().find(k=>k.track===r._mediaStreamTrack)),!o)return $.warn("[".concat(r.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(r))return $.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!f0().supportSetRtpSenderParameters)return $.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const h={},f={};switch(r._optimizationMode){case"motion":h.degradationPreference="maintain-framerate";break;case"detail":h.degradationPreference="maintain-resolution";break;default:h.degradationPreference="balanced"}if(r._encoderConfig){var m;const{bitrateMax:k,frameRate:L,scaleResolutionDownBy:q}=r._encoderConfig;k&&(f.maxBitrate=1e3*k),AQ(m=r._hints).call(m,R0.LOW_STREAM)&&(L&&(f.maxFramerate=iR(L)),q&&q>=1&&(f.scaleResolutionDownBy=q))}if(la("DSCP_TYPE")&&nT()){var v;const k=la("DSCP_TYPE");AQ(v=["very-low","low","medium","high"]).call(v,k)&&(f.networkPriority=k)}const R=o.getParameters(),D=(u=R.encodings)===null||u===void 0?void 0:u[0];Q0()&&!D&&(h.encodings=[f]),D&&Object.assign(D,f),Object.assign(R,h),$.debug("[".concat(r.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(R.encodings))),await o.setParameters(R)}async applySendEncodings(r,o){try{if(!f0().supportSetRtpSenderParameters||r.length!==o.length)return;for(let u=0;u<r.length;u++){const h=r[u],f=o[u];f instanceof HQ&&!this.isVP8Simulcast(f)&&await this.updateRtpSenderEncodings(f,h.sender)}}catch{$.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(r,o,u){const h=U0.parse(r);return o.forEach((f,m)=>{const v=u[m],R=h.mediaDescriptions.find(D=>D.attributes.mid===v);R&&(mT(R,f),P4(R,f,this.store.codec))}),U0.print(h)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=r=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoReceived=r=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstAudioDecoded=r=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoDecoded=(r,o,u)=>{var h;(h=this.onFirstVideoDecoded)===null||h===void 0||h.call(this,r,o,u)},this.statsFilter.onSelectedLocalCandidateChanged=(r,o)=>{var u;(u=this.onSelectedLocalCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(r,o)=>{var u;(u=this.onSelectedRemoteCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onFirstVideoDecodedTimeout=r=>{var o;(o=this.onFirstVideoDecodedTimeout)===null||o===void 0||o.call(this,r)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(r,o){if(r.length===o.length)for(let R=0;R<r.length;R++){var u,h,f,m,v;const D=r[R],k=o[R];if(k instanceof HQ&&!AQ(u=k._hints).call(u,R0.LOW_STREAM)&&(h=k._encoderConfig)!==null&&h!==void 0&&h.bitrateMax&&((f=k._encoderConfig)===null||f===void 0?void 0:f.bitrateMax)>200&&(m=k._scalabilityMode)!==null&&m!==void 0&&m.numSpatialLayers&&((v=k._scalabilityMode)===null||v===void 0?void 0:v.numSpatialLayers)>1&&this.store.codec==="vp8"){const L={},q={high:1e3*(k._encoderConfig.bitrateMax-50),medium:5e4};L.encodings=[{rid:"m",active:!0,maxBitrate:q.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:q.high}];const z=D.sender.getParameters();await D.sender.setParameters(Object.assign(z,L))}}}async applySimulcastEncodings(r,o){if(!Q0()&&r.length===o.length)for(let u=0;u<r.length;u++){const h=o[u];if(h instanceof HQ&&this.isVP8Simulcast(h)){const f=r[u],m={},v={high:1e3*(h._encoderConfig.bitrateMax-50),medium:5e4};m.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:v.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:v.medium,scaleResolutionDownBy:4}];const R=f.sender.getParameters();await f.sender.setParameters(Object.assign(R,m))}}}isVP8Simulcast(r){var o,u,h,f,m;return!!(r instanceof HQ&&la("SIMULCAST")&&this.store.codec==="vp8"&&!AQ(o=r._hints).call(o,R0.LOW_STREAM)&&(u=r._encoderConfig)!==null&&u!==void 0&&u.bitrateMax&&((h=r._encoderConfig)===null||h===void 0?void 0:h.bitrateMax)>200&&(f=r._scalabilityMode)!==null&&f!==void 0&&f.numSpatialLayers&&((m=r._scalabilityMode)===null||m===void 0?void 0:m.numSpatialLayers)>1)}logSDPExchange(r,o,u,h){if(la("SDP_LOGGING"))return $.upload("[".concat(this.store.clientId,"] exchanging ").concat(u," ").concat(o," SDP during P2PConnection.").concat(h,`
`),r),o==="offer"?f=>{this.logSDPExchange(f,"answer",u==="local"?"remote":"local",h)}:void 0}async muteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(m=>{m.direction="inactive"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.muteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(async m=>{m.direction="sendonly"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.unmuteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}async getRemoteSSRC(r,o){var u,h;if(o=(u=o)!==null&&u!==void 0?u:(h=this.currentRemoteDescription)===null||h===void 0?void 0:h.sdp){var f;const m=(f=U0.parse(o).mediaDescriptions.find(v=>v.attributes.mid===r))===null||f===void 0?void 0:f.attributes.ssrcs;return m==null?void 0:m[0].ssrcId}}async setRemoteDescription(r){var o;await this.peerConnection.setRemoteDescription(r),AQ(o=["connected","completed"]).call(o,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(r,o,u){const h=U0.parse(r),f=h.mediaDescriptions.find(m=>m.attributes.mid===o);return f&&(u===sQ.AUDIO&&f.media.mediaType==="audio"&&nb(f),this.useXR&&aU(h)),U0.print(h)}};function KR(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("From P2PConnection.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function F4(A,r){let o=document.createElement("video"),u=document.createElement("canvas");o.setAttribute("style","display:none"),u.setAttribute("style","display:none"),o.setAttribute("muted",""),o.muted=!0,o.setAttribute("autoplay",""),o.autoplay=!0,o.setAttribute("playsinline",""),u.width=iR(r.width),u.height=iR(r.height);const h=iR(r.framerate||15);document.body.append(o),document.body.append(u);let f=A._mediaStreamTrack;o.srcObject=new MediaStream([f]),o.play();const m=u.getContext("2d");if(!m)throw new Oa(ea.UNEXPECTED_ERROR,"can not get canvas context");const v=f0(),R=u.captureStream(v.supportRequestFrame?0:h).getVideoTracks()[0];R.canvas||(R.canvas=u),u.startCapture=()=>{if(!o)return u.stopCapture&&u.stopCapture();if(o.paused&&o.play(),o.videoHeight>2&&o.videoWidth>2){const k=o.videoWidth,L=o.videoHeight/k,q=u.width*L;Math.abs(q-u.height)>=2&&($.debug("adjust low stream resolution","".concat(u.width,"x").concat(u.height," -> ").concat(u.width,"x").concat(q)),u.height=q)}m.drawImage(o,0,0,u.width,u.height),R.requestFrame&&R.requestFrame(),f!==A._mediaStreamTrack&&(f=A._mediaStreamTrack,o.srcObject=new MediaStream([f]))},u.stopCapture=$8(()=>u.startCapture&&u.startCapture(),h);const D=R.stop;return R.stop=()=>{D.call(R),o&&(o.remove(),o.srcObject=null,o=null),u&&(u.width=0,u.remove(),u.stopCapture&&u.stopCapture(),u.startCapture=void 0,u.stopCapture=void 0,u=null),$.debug("clean low stream renderer")},R}var cU,pZ,R_,_T,$_,oO,K4,HN,_R,j4,lR;td([KR,_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],gR.prototype,"establish",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],gR.prototype,"connect",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,String]),_o("design:returntype",lc)],gR.prototype,"receive",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,String]),_o("design:returntype",lc)],gR.prototype,"mockReceive",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],gR.prototype,"stopReceiving",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],gR.prototype,"restartICE",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],gR.prototype,"close",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],gR.prototype,"updateEncoderConfig",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],gR.prototype,"updateSendParameters",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[z_,String]),_o("design:returntype",lc)],gR.prototype,"replaceTrack",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],gR.prototype,"muteLocal",null),td([KR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],gR.prototype,"unmuteLocal",null),function(A){A[A.HEIGHT=2033]="HEIGHT",A[A.FRAME_RATE=2034]="FRAME_RATE",A[A.WIDTH=2035]="WIDTH"}(cU||(cU={})),function(A){A[A.HEIGHT=2072]="HEIGHT",A[A.FRAME_RATE=2074]="FRAME_RATE",A[A.WIDTH=2076]="WIDTH"}(pZ||(pZ={})),function(A){A[A.FRAME_RATE=2002]="FRAME_RATE",A[A.WIDTH=2003]="WIDTH",A[A.HEIGHT=2004]="HEIGHT",A[A.PACKAGE_LOST=2005]="PACKAGE_LOST",A[A.AVG_ENCODE=2007]="AVG_ENCODE",A[A.NACKS=2009]="NACKS",A[A.PLIS=2010]="PLIS",A[A.FIRS=2011]="FIRS",A[A.BITRATE=2012]="BITRATE",A[A.PACKAGE_RATE=2031]="PACKAGE_RATE",A[A.ADAPTATION=2032]="ADAPTATION",A[A.ACTUAL_ENCODED=2060]="ACTUAL_ENCODED",A[A.BANDWIDTH=2061]="BANDWIDTH",A[A.RETRANSMIT=2062]="RETRANSMIT",A[A.TARGET_ENCODED=2064]="TARGET_ENCODED",A[A.TRANSMIT=2066]="TRANSMIT",A[A.FREEZE=2082]="FREEZE",A[A.DISABLED=2095]="DISABLED",A[A.PLAYER_STATUS=2128]="PLAYER_STATUS",A[A.QP_SUM=2143]="QP_SUM"}(R_||(R_={})),function(A){A[A.BITRATE=2069]="BITRATE",A[A.PACKAGE_LOST=2070]="PACKAGE_LOST",A[A.PACKAGE_RATE=2071]="PACKAGE_RATE",A[A.HEIGHT=2073]="HEIGHT",A[A.FRAME_RATE=2075]="FRAME_RATE",A[A.WIDTH=2077]="WIDTH"}(_T||(_T={})),function(A){A[A.JITTER=-1]="JITTER",A[A.PACKAGE_LOST=2014]="PACKAGE_LOST",A[A.WIDTH=2018]="WIDTH",A[A.HEIGHT=2019]="HEIGHT",A[A.FRAME_RATE=2020]="FRAME_RATE",A[A.JITTER_BUFFER=2023]="JITTER_BUFFER",A[A.CURRENT_DELAY=2024]="CURRENT_DELAY",A[A.NACKS=2026]="NACKS",A[A.PLIS=2027]="PLIS",A[A.FIRS=2028]="FIRS",A[A.BITRATE=2029]="BITRATE",A[A.PACKAGE_RATE=2078]="PACKAGE_RATE",A[A.FREEZE=2084]="FREEZE",A[A.DISABLED=2101]="DISABLED",A[A.PLAYER_STATUS=2129]="PLAYER_STATUS",A[A.QP_SUM=2144]="QP_SUM",A[A.I_FRAME_DELAY=2149]="I_FRAME_DELAY"}($_||($_={})),function(A){A[A.FRAME_RATE_DECODE=2021]="FRAME_RATE_DECODE",A[A.FRAME_RATE_RENDER=2022]="FRAME_RATE_RENDER",A[A.FREEZE_TIME=2109]="FREEZE_TIME",A[A.FREEZE_TIME_RENDER=2147]="FREEZE_TIME_RENDER"}(oO||(oO={})),function(A){A[A.PCM_LEVEL=2104]="PCM_LEVEL"}(K4||(K4={})),function(A){A[A.PACKAGE_LOST=-1]="PACKAGE_LOST",A[A.LEVEL=2038]="LEVEL",A[A.BITRATE=2039]="BITRATE",A[A.PACKAGE_RATE=2040]="PACKAGE_RATE",A[A.AEC_RETURN_LOSS=2041]="AEC_RETURN_LOSS",A[A.AEC_RETURN_LOSS_ENH=2042]="AEC_RETURN_LOSS_ENH",A[A.FREEZE=2081]="FREEZE",A[A.DISABLED=2096]="DISABLED"}(HN||(HN={})),function(A){A[A.BITRATE=2044]="BITRATE",A[A.PACKAGE_LOST=2045]="PACKAGE_LOST",A[A.PACKAGE_RATE=2046]="PACKAGE_RATE",A[A.CURRENT_DELAY=2047]="CURRENT_DELAY",A[A.JITTER_BUFFER=2054]="JITTER_BUFFER",A[A.JITTER=2055]="JITTER",A[A.FREEZE=2083]="FREEZE",A[A.DISABLED=2102]="DISABLED",A[A.PCM_LEVEL=2105]="PCM_LEVEL",A[A.PLAYER_STATUS=2130]="PLAYER_STATUS",A[A.CONCEALED_SAMPLES=2148]="CONCEALED_SAMPLES"}(_R||(_R={})),function(A){A[A.FREEZE_TIME=-1]="FREEZE_TIME",A[A.LEVEL=2043]="LEVEL"}(j4||(j4={})),function(A){A[A.RTT=2006]="RTT",A[A.CONN_TYPE=801]="CONN_TYPE"}(lR||(lR={}));const YN=1e3,c1=3;function WQ(A,r,o){o!=null&&Number.isFinite(o)&&(A[r]=Math.round(Math.max(0,o)))}function fZ(A){const r={[lR.CONN_TYPE]:0,[lR.RTT]:A.rtt};switch(A.selectedCandidatePair.localCandidate.candidateType){case"relay":{const o=A.selectedCandidatePair.localCandidate.relayProtocol;o==="udp"&&(r[lR.CONN_TYPE]=1),o==="tcp"&&(r[lR.CONN_TYPE]=3),o==="tls"&&(r[lR.CONN_TYPE]=4);break}case"srflx":r[lR.CONN_TYPE]=2}return r}class BZ extends x0{constructor(r){super(),j(this,"store",void 0),j(this,"uploadWRTCStatsTimer",void 0),j(this,"uploadOutboundDenoiserStatsTimer",void 0),j(this,"uploadExtStatsTimer",void 0),j(this,"uploadExtUsageStatsTimer",void 0),j(this,"uploadInboundExtStatsTimer",void 0),j(this,"requestStats",void 0),j(this,"requestTransportStats",void 0),j(this,"requestLocalMedia",void 0),j(this,"requestRemoteMedia",void 0),j(this,"requestAllTracks",void 0),j(this,"requestVideoIsReady",void 0),j(this,"requestUploadStats",void 0),j(this,"requestUpload",void 0),j(this,"uploadOutboundStarted",!1),j(this,"uploadInboundStarted",!1),j(this,"uploadTransportStarted",!1),j(this,"uploadExtensionUsageStarted",!1),j(this,"lastRecvStats",void 0),j(this,"lastSendStats",void 0),j(this,"lastFullRecvStats",void 0),j(this,"lastFullSendStats",void 0),j(this,"needUploadRenderFreezeTime",!0),this.store=r}uploadWRTCStats(r){if(!this.requestStats||!this.requestUploadStats)return;let o,u;if(this.uploadTransportStarted&&(o=this.requestStats(),this.store.useP2P&&(u=this.requestStats(!0))),!o&&this.uploadOutboundStarted&&(o=this.requestStats()),!u&&this.uploadInboundStarted&&(u=this.requestStats(!0)),o||u){const h={};if(this.uploadTransportStarted&&o){const f=this.getTransportStats(o,u,r);f&&(h.misc=[f])}if(this.uploadOutboundStarted&&o){const f=this.getOutboundStats(o,r?this.lastSendStats:this.lastFullSendStats,r);f&&(h.outbound=[f])}if(this.uploadInboundStarted&&u){const f=this.getInboundStats(u,r?this.lastRecvStats:this.lastFullRecvStats,r);f&&(h.inbound=f)}this.requestUploadStats(h)}this.lastRecvStats=u,this.lastSendStats=o,r||(this.lastFullRecvStats=u,this.lastFullSendStats=o)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let r=1;this.uploadWRTCStatsTimer=window.setInterval(()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(r!==c1),++r===c1+1&&(r=1)},YN)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(r,o,u){if(!this.requestStats)return;if(u)return r.rtt==null?void 0:{addition:{[lR.RTT]:r.rtt,[lR.CONN_TYPE]:void 0}};const h=fZ(r);if(this.store.useP2P){if(o){const f=fZ(o);h[lR.CONN_TYPE]+=f[lR.CONN_TYPE]<<3}h[lR.CONN_TYPE]+=110}else h[lR.CONN_TYPE]+=100;return{addition:h}}getOutboundStats(r,o,u){if(!this.requestUploadStats||!this.requestLocalMedia)return;const h=this.requestLocalMedia();if(!h||h.length===0)return;let f,m,v;return h.forEach(R=>{let[D,{track:k,ssrcs:L}]=R;switch(D){case _d.LocalVideoLowTrack:case _d.LocalVideoTrack:if(D===_d.LocalVideoTrack){const q=function(_n,_i,Aa,Ea,Qa){const Vc=_i.videoSend.find(kd=>kd.ssrc===_n);if(!Vc)return;const Fa={},{sentFrame:Va,inputFrame:_c}=Vc;if(_c&&Va){const kd=_c.frameRate,_h=Va.frameRate;Fa[R_.FREEZE]=function(RQ,jQ){let w0=!0;return w0=!(RQ<=5)&&(RQ<=10?jQ<3:RQ<=20?jQ<4:jQ<5),w0}(kd,_h)?1:0}if(WQ(Fa,R_.QP_SUM,Vc.qpSumPerFrame),Qa)return Fa;switch(Va&&(WQ(Fa,R_.HEIGHT,Va.height),WQ(Fa,R_.WIDTH,Va.width),WQ(Fa,R_.FRAME_RATE,Va.frameRate)),Fa[R_.DISABLED]=Ea._originMediaStreamTrack&&!Ea._originMediaStreamTrack.enabled||Ea._mediaStreamTrack&&!Ea._mediaStreamTrack.enabled?1:0,Vc.adaptionChangeReason){case"none":Fa[R_.ADAPTATION]=0;break;case"cpu":Fa[R_.ADAPTATION]=1;break;case"bandwidth":Fa[R_.ADAPTATION]=2;break;case"other":Fa[R_.ADAPTATION]=3}Fa[R_.PLAYER_STATUS]=z8[Ea._player?Ea._player.videoElementStatus:"uninit"],WQ(Fa,R_.NACKS,Vc.nacksCount),WQ(Fa,R_.PLIS,Vc.plisCount),WQ(Fa,R_.FIRS,Vc.firsCount),WQ(Fa,R_.AVG_ENCODE,Vc.avgEncodeMs);const ec=Aa&&Aa.videoSend.find(kd=>kd.ssrc===_n);if(ec){let kd=Qa?YN:YN*c1;ec.timestamp&&Vc.timestamp&&(kd=Vc.timestamp-ec.timestamp),ec.packets!=null&&Vc.packets!=null&&WQ(Fa,R_.PACKAGE_RATE,1e3*(Vc.packets-ec.packets)/kd),Vc.packetsLost!=null&&ec.packetsLost!=null&&WQ(Fa,R_.PACKAGE_LOST,Vc.packetsLost-ec.packetsLost),ec.bytes!=null&&Vc.bytes!=null&&WQ(Fa,R_.BITRATE,8*(Vc.bytes-ec.bytes)/kd)}return Fa}(L[0].ssrcId,r,o,k,u),z=u?null:function(_n,_i,Aa){const Ea=_i.videoSend.find(ec=>ec.ssrc===_n);if(!Ea)return null;const Qa={},Vc=Ea.inputFrame,Fa=Vc&&Vc.height||Aa&&Aa._videoHeight||0,Va=Vc&&Vc.width||Aa&&Aa._videoWidth||0,_c=Vc&&Vc.frameRate||0;return WQ(Qa,cU.HEIGHT,Fa),WQ(Qa,cU.WIDTH,Va),WQ(Qa,cU.FRAME_RATE,_c),Qa}(L[0].ssrcId,r,k),_s=u?null:function(_n){const _i={};return WQ(_i,R_.RETRANSMIT,_n.bitrate.retransmit),WQ(_i,R_.TARGET_ENCODED,_n.bitrate.targetEncoded),WQ(_i,R_.ACTUAL_ENCODED,_n.bitrate.actualEncoded),WQ(_i,R_.TRANSMIT,_n.bitrate.transmit),WQ(_i,R_.BANDWIDTH,_n.sendBandwidth),_i}(r);m=Object.assign({},q,z,_s)}else v=u?void 0:function(q,z,_s){const _n=z.videoSend.find(Ea=>Ea.ssrc===q);if(!_n)return;const _i={},Aa=_n.sentFrame;if(Aa&&(WQ(_i,_T.HEIGHT,Aa.height),WQ(_i,_T.WIDTH,Aa.width),WQ(_i,_T.FRAME_RATE,Aa.frameRate)),_s){const Ea=_s.videoSend.find(Qa=>Qa.ssrc===q);if(Ea){let Qa=YN*c1;Ea.timestamp&&_n.timestamp&&(Qa=_n.timestamp-Ea.timestamp),Ea.packets!=null&&_n.packets!=null&&WQ(_i,_T.PACKAGE_RATE,1e3*(_n.packets-Ea.packets)/Qa),_n.packetsLost!=null&&Ea.packetsLost!=null&&WQ(_i,_T.PACKAGE_LOST,_n.packetsLost-Ea.packetsLost),Ea.bytes!=null&&_n.bytes!=null&&WQ(_i,_T.BITRATE,8*(_n.bytes-Ea.bytes)/Qa)}}return _i}(L[0].ssrcId,r,o);break;case _d.LocalAudioTrack:f=u?void 0:function(q,z,_s,_n){const _i=z.audioSend.find(Fa=>Fa.ssrc===q);if(!_i)return;const Aa={};Aa[HN.DISABLED]=_n._originMediaStreamTrack&&!_n._originMediaStreamTrack.enabled||_n._mediaStreamTrack&&!_n._mediaStreamTrack.enabled?1:0;const Ea=_n._source.getAccurateVolumeLevel(),Qa=_i.inputLevel;WQ(Aa,HN.LEVEL,100*(Qa??Ea)),WQ(Aa,K4.PCM_LEVEL,100*Ea),WQ(Aa,HN.AEC_RETURN_LOSS,_i.aecReturnLoss),WQ(Aa,HN.AEC_RETURN_LOSS_ENH,_i.aecReturnLossEnhancement),Aa[HN.FREEZE]=0;const Vc=_s&&_s.audioSend.find(Fa=>Fa.ssrc===q);if(Vc){let Fa=YN*c1;Vc.timestamp&&_i.timestamp&&(Fa=_i.timestamp-Vc.timestamp),Vc.bytes!=null&&_i.bytes!=null&&WQ(Aa,HN.BITRATE,8*(_i.bytes-Vc.bytes)/Fa),Vc.packets!=null&&_i.packets!=null&&WQ(Aa,HN.PACKAGE_RATE,1e3*(_i.packets-Vc.packets)/Fa)}return Aa}(L[0].ssrcId,r,o,k)}}),{high:m,low:v,audio:f}}getInboundStats(r,o,u){if(!this.requestRemoteMedia)return;const h=this.requestRemoteMedia()||[],f=[];return h.forEach(m=>{let[v,R]=m;const D={peer:v.uid};if(R.has(sQ.VIDEO)&&v.videoTrack){const k=v._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(v._videoSSRC)||!1,L=v.videoTrack?function(q,z,_s,_n,_i,Aa,Ea){const Qa=z.videoRecv.find(kd=>kd.ssrc===q);if(!Qa)return;const Vc={},{receivedFrame:Fa,outputFrame:Va,decodeFrameRate:_c}=Qa,ec=_s&&_s.videoRecv.find(kd=>kd.ssrc===q);if(Vc[$_.FREEZE]=_i&&uU.isRemoteVideoFreeze(_n,Qa,ec)?1:0,WQ(Vc,oO.FRAME_RATE_DECODE,_c),WQ(Vc,$_.QP_SUM,Qa.qpSumPerFrame),Qa.framesRateFirefox&&WQ(Vc,$_.FRAME_RATE,Qa.framesRateFirefox),Fa&&WQ(Vc,$_.FRAME_RATE,Fa.frameRate),ec){const kd=z.timestamp-_s.timestamp||(Ea?YN:c1*YN);Qa.packetsLost!=null&&ec.packetsLost!=null&&WQ(Vc,$_.PACKAGE_LOST,Qa.packetsLost-ec.packetsLost),ec.bytes!=null&&Qa.bytes!=null&&WQ(Vc,$_.BITRATE,8*(Qa.bytes-ec.bytes)/kd),ec.packets!=null&&Qa.packets!=null&&WQ(Vc,$_.PACKAGE_RATE,1e3*(Qa.packets-ec.packets)/kd)}if(Ea)return Vc;if(Fa?(WQ(Vc,$_.HEIGHT,Fa.height),WQ(Vc,$_.WIDTH,Fa.width)):_n&&(WQ(Vc,$_.HEIGHT,_n._videoHeight||0),WQ(Vc,$_.WIDTH,_n._videoWidth||0)),Va&&WQ(Vc,oO.FRAME_RATE_RENDER,Va.frameRate),WQ(Vc,$_.JITTER_BUFFER,Qa.jitterBufferMs),WQ(Vc,$_.CURRENT_DELAY,Qa.currentDelayMs),WQ(Vc,$_.FIRS,Qa.firsCount),WQ(Vc,$_.NACKS,Qa.nacksCount),WQ(Vc,$_.PLIS,Qa.plisCount),_n){Vc[$_.DISABLED]=_n._originMediaStreamTrack.enabled&&_n._mediaStreamTrack.enabled?0:1;const kd=_n._player;if(kd){const{freezeTimeCounterList:_h,renderFreezeAccTime:RQ}=kd;if(_h&&_h.length>0&&WQ(Vc,oO.FREEZE_TIME,_h.splice(0,1)[0]),Aa&&PN.visibility==="visible"){const jQ=Math.min(6e3,RQ);kd.renderFreezeAccTime=Math.max(0,RQ-jQ),WQ(Vc,oO.FREEZE_TIME_RENDER,jQ)}}}if(Vc[$_.PLAYER_STATUS]=z8[_n._player?_n._player.videoElementStatus:"uninit"],ec&&Qa.totalInterFrameDelay!==void 0&&Qa.totalSquaredInterFrameDelay!==void 0&&ec.totalInterFrameDelay!==void 0&&ec.totalSquaredInterFrameDelay!==void 0){const kd=Qa.totalInterFrameDelay-ec.totalInterFrameDelay,_h=Qa.totalSquaredInterFrameDelay-ec.totalSquaredInterFrameDelay,RQ=Qa.framesDecodeCount-ec.framesDecodeCount,jQ=kd/RQ*1e3,w0=Math.round(1e3*Math.sqrt((_h-Math.pow(kd,2)/RQ)/RQ));!isNaN(w0)&&jQ+w0>Math.max(3*jQ,jQ+150)&&(Vc[$_.I_FRAME_DELAY]=w0)}return Vc}(v._videoSSRC,r,o,v.videoTrack,k===!0,this.needUploadRenderFreezeTime,u):void 0;L&&(D.video=L)}if(R.has(sQ.AUDIO)&&v.audioTrack){const k=v.audioTrack?function(L,q,z,_s,_n){const _i=q.audioRecv.find(kd=>kd.ssrc===L);if(!_i)return;const Aa={},Ea=z&&z.audioRecv.find(kd=>kd.ssrc===L),{receivedFrames:Qa,droppedFrames:Vc}=_i;var Fa,Va;if(WQ(Aa,_R.JITTER,_i.jitterMs),Qa!=null&&Vc!=null&&(Aa[_R.FREEZE]=(Va=Vc,(Fa=Qa)===0||100*Va/Fa>20?1:0)),Ea){const kd=q.timestamp-z.timestamp||(_n?YN:YN*c1);_i.packets!=null&&Ea.packets!=null&&WQ(Aa,_R.PACKAGE_RATE,1e3*(_i.packets-Ea.packets)/kd),Ea.bytes!=null&&_i.bytes!=null&&WQ(Aa,_R.BITRATE,8*(_i.bytes-Ea.bytes)/kd),_i.packetsLost!=null&&Ea.packetsLost!=null&&WQ(Aa,_R.PACKAGE_LOST,_i.packetsLost-Ea.packetsLost)}if(_n)return Aa;const _c=_s._source.getAccurateVolumeLevel(),ec=_i.outputLevel;if(WQ(Aa,j4.LEVEL,100*(ec??_c)),WQ(Aa,_R.PCM_LEVEL,100*_c),_s&&(Aa[_R.DISABLED]=_s._originMediaStreamTrack.enabled&&_s._mediaStreamTrack.enabled?0:1),WQ(Aa,_R.JITTER_BUFFER,_i.jitterBufferMs),WQ(Aa,_R.CURRENT_DELAY,_i.jitterBufferMs),Aa[_R.PLAYER_STATUS]=z8[NS.getPlayerState(_s.getTrackId())],Ea){const kd=_i.concealedSamples-Ea.concealedSamples;kd>0&&WQ(Aa,_R.CONCEALED_SAMPLES,kd)}return Aa}(v._audioSSRC,r,o,v.audioTrack,u):void 0;k&&(D.audio=k)}(D.video||D.audio)&&f.push(D)}),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,f}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval(()=>{if(!this.requestAllTracks||!this.requestUpload)return;const r=(this.requestAllTracks()||[]).find(o=>o instanceof e1);if(r&&r._external.getDenoiserStats){const o=r._external.getDenoiserStats();o&&this.requestUpload(LN.DENOISER_STATS,o)}},2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval(()=>{!this.requestAllTracks||!this.requestUpload||this.requestAllTracks().forEach(r=>{r.getProcessorStats().forEach(o=>{this.requestUpload&&this.requestUpload(o.type,o.stats)})})},2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval(()=>{!this.requestUpload||!this.requestRemoteMedia||(this.requestRemoteMedia()||[]).forEach(r=>{let[o,u]=r;u.has(sQ.VIDEO)&&o.videoTrack&&o.videoTrack.getProcessorStats().forEach(h=>{this.requestUpload&&this.requestUpload(h.type,h.stats)}),u.has(sQ.AUDIO)&&o.audioTrack&&o.audioTrack.getProcessorStats().forEach(h=>{this.requestUpload&&this.requestUpload(h.type,h.stats)})})},2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const r=new Map;this.uploadExtUsageStatsTimer=window.setInterval(async()=>{const o=Date.now(),u={connectionInterval:la("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3,details:[],lts:o};let h=[];const f=this.requestAllTracks&&this.requestAllTracks()||[];for(const D of f)!D.muted&&D.enabled&&(h=h.concat(await D.getProcessorUsage()));const m=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[D,k]of m)k.has(sQ.VIDEO)&&D.videoTrack&&(h=h.concat(await D.videoTrack.getProcessorUsage())),k.has(sQ.AUDIO)&&D.audioTrack&&(h=h.concat(await D.audioTrack.getProcessorUsage()));if(h.length===0)return;u.details=function(D,k){const L={};for(const{id:_n,value:_i,level:Aa,direction:Ea}of D){var q;const Qa=(q=k.get(_n))!==null&&q!==void 0?q:0,Vc=_i===2?Qa+la("EXTENSION_USAGE_UPLOAD_INTERVAL")/1e3:Qa;var z,_s;k.set(_n,Vc),L[_n]?(_i===2&&(L[_n].value=_i),Aa>L[_n].level&&(L[_n].level=Aa),Ea==="remote"&&(L[_n].remoteUidCount+=1),L[_n].totalTs=(z=k.get(_n))!==null&&z!==void 0?z:0):L[_n]={value:_i,level:Aa,remoteUidCount:Ea==="local"?0:1,totalTs:(_s=k.get(_n))!==null&&_s!==void 0?_s:0}}return Object.keys(L).map(_n=>{const{level:_i,value:Aa,totalTs:Ea}=L[_n];return{id:_n,level:_i,value:Aa,totalTs:Ea}})}(h,r);const v=Date.now(),R=v>o?v:o+1;this.requestUpload&&this.requestUpload(LN.EXTENSION_USAGE_STATS,{usageStats:u,sendTs:R})},la("EXTENSION_USAGE_UPLOAD_INTERVAL"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class F_{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(r,o){j(this,"uid",void 0),j(this,"_uintid",void 0),j(this,"_trust_in_room_",!0),j(this,"_trust_audio_enabled_state_",!0),j(this,"_trust_video_enabled_state_",!0),j(this,"_trust_audio_mute_state_",!0),j(this,"_trust_video_mute_state_",!0),j(this,"_audio_muted_",!1),j(this,"_video_muted_",!1),j(this,"_audio_enabled_",!0),j(this,"_video_enabled_",!0),j(this,"_audio_added_",!1),j(this,"_video_added_",!1),j(this,"_is_pre_created",!1),j(this,"_video_pre_subscribed",!1),j(this,"_audio_pre_subscribed",!1),j(this,"_trust_video_stream_added_state_",!0),j(this,"_trust_audio_stream_added_state_",!0),j(this,"_audioTrack",void 0),j(this,"_videoTrack",void 0),j(this,"_dataChannels",[]),j(this,"_audioSSRC",void 0),j(this,"_videoSSRC",void 0),j(this,"_audioOrtc",void 0),j(this,"_videoOrtc",void 0),j(this,"_cname",void 0),j(this,"_rtxSsrcId",void 0),j(this,"_videoMid",void 0),j(this,"_audioMid",void 0),this.uid=r,this._uintid=o}}var vR;function gge(A,r){var o;let u;switch(r){case _d.LocalAudioTrack:u=a0.Audio;break;case _d.LocalVideoTrack:u=AQ(o=A._hints).call(o,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:u=a0.Low}return u}function QZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function i3(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?QZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):QZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}(function(A){A.SEND_ONLY="SEND_ONLY",A.RECEIVE_ONLY="RECEIVE_ONLY"})(vR||(vR={}));class m_ extends x0{get state(){return this._state}set state(r){const o=this._state;this._state=r,this.emit(mQ.StateChange,o,this._state)}constructor(r,o){super(),j(this,"store",void 0),j(this,"statsUploader",void 0),j(this,"sendConnection",void 0),j(this,"recvConnection",void 0),j(this,"localTrackMap",new Map),j(this,"remoteUserMap",new Map),j(this,"localDataChannels",[]),j(this,"pendingLocalTracks",[]),j(this,"pendingRemoteTracks",[]),j(this,"statsCollector",void 0),j(this,"dtlsFailedCount",0),j(this,"sendMutex",new T_("P2PChannel2-send-mutex")),j(this,"recvMutex",new T_("P2PChannel2-recv-mutex")),j(this,"_state",d0.Disconnected),j(this,"_restartStates",["disconnected","failed"]),j(this,"reconnectInterval",void 0),j(this,"uploadUnplinkStarted",!1),j(this,"uploadDownlinkStarted",!1),j(this,"uplinkStateUploadInterval",void 0),j(this,"downlinkStatsUploadInterval",void 0),j(this,"handleMuteLocalTrack",async(u,h,f)=>{const m=await this.sendMutex.lock("Locking from P2PChannel2.handleMuteLocalTrack");try{if(!this.sendConnection||this.state!==d0.Connected)return void f(new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established."));const D=this.filterTobeMutedTracks(u);if(D.length===0)return void h();const k=D.find(_s=>_s[0]==="videoLowTrack");k&&k[1].track._originMediaStreamTrack.stop(),await this.sendConnection.muteLocal(D.map(_s=>{let[,{id:_n}]=_s;return _n}));let L=!1;var v,R;u.trackMediaType==="video"?L=!((v=this.localTrackMap.get(_d.LocalAudioTrack))===null||v===void 0||!v.track._muted):L=((R=this.localTrackMap.get(_d.LocalVideoTrack))===null||R===void 0?void 0:R.id)===void 0;const q=this.createMuteMessage(D);await m0(this,mQ.RequestMuteLocal,q);const z=u.trackMediaType==="video"?AN.MUTE_LOCAL_VIDEO:AN.MUTE_LOCAL_AUDIO;await m0(this,mQ.RequestP2PMuteLocal,{action:z,message:q,isMuteAll:L}),h()}catch(D){f(D)}finally{m()}}),j(this,"handleUnmuteLocalTrack",async(u,h,f)=>{const m=await this.sendMutex.lock("Locking from P2PChannel2.handleUnmuteLocalTrack");try{if(!this.sendConnection||this.state!==d0.Connected)return void f(new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established."));const v=this.filterTobeUnmutedTracks(u);if(v.length===0)return void h();await this.sendConnection.unmuteLocal(v.map(k=>{let[,{id:L}]=k;return L}));const R=this.createUnmuteMessage(v),D=u.trackMediaType==="video"?AN.UNMUTE_LOCAL_VIDEO:AN.UNMUTE_LOCAL_AUDIO;await m0(this,mQ.RequestP2PMuteLocal,{action:D,message:R}),h()}catch(v){f(v)}finally{m()}}),j(this,"handleUpdateVideoEncoder",async(u,h,f)=>{const m=await this.sendMutex.lock("Locking from P2PChannel2.handleSetVideoEncoder");try{const v=this.localTrackMap.get(_d.LocalVideoTrack);if(!this.sendConnection||!v||v.track!==u||this.state!==d0.Connected)return void h();const{id:R,track:D}=v;R&&(await this.sendConnection.updateSendParameters(R,D),await this.sendConnection.updateEncoderConfig(R,D),this.emit(mQ.UpdateVideoEncoder,D)),h()}catch(v){f(v)}finally{m()}}),j(this,"handleSetOptimizationMode",async(u,h,f)=>{const m=await this.sendMutex.lock("Locking from P2PChannel2.handleSetOptimizationMode");try{const v=this.localTrackMap.get(_d.LocalVideoTrack);if(!this.sendConnection||!v||v.track!==u||this.state!==d0.Connected)return;const{id:R,track:D}=v;R&&await this.sendConnection.updateSendParameters(R,D),h()}catch(v){f(v)}finally{m()}}),j(this,"handleReplaceTrack",async(u,h,f,m)=>{let v;$.debug("[".concat(this.store.clientId,"] P2PChannel2 handleReplaceTrack for [track-id-").concat(u.getTrackId(),"]")),typeof m=="boolean"&&m||(v=await this.sendMutex.lock("From P2PChannel2.handleReplaceTrack"));try{var R;const k=Array.from(this.localTrackMap.entries()).find(L=>{let[,{track:q}]=L;return u===q});if(!this.sendConnection||!k||k[1].id===void 0||this.state!==d0.Connected)return void h();if(await((R=this.sendConnection)===null||R===void 0?void 0:R.replaceTrack(u,k[1].id)),k[0]===_d.LocalVideoTrack&&f0().supportDualStreamEncoding){const L=this.localTrackMap.get(_d.LocalVideoLowTrack);if(L){const q=u._mediaStreamTrack.clone();L.track._originMediaStreamTrack.stop(),L.track._mediaStreamTrack=q,L.track._originMediaStreamTrack=q,await new lc((z,_s)=>{this.handleReplaceTrack(L.track,z,_s,!0)})}}h()}catch(k){f(k)}finally{var D;(D=v)===null||D===void 0||D()}}),j(this,"handleGetLocalVideoStats",u=>{u(this.statsCollector.getLocalVideoTrackStats())}),j(this,"handleGetLocalAudioStats",u=>{u(this.statsCollector.getLocalAudioTrackStats())}),j(this,"handleGetRemoteVideoStats",u=>this.statsCollector.getRemoteVideoTrackStats(u.uid)[u.uid]),j(this,"handleGetRemoteAudioStats",u=>this.statsCollector.getRemoteAudioTrackStats(u.uid)[u.uid]),this.store=r,this.statsCollector=o,this.statsCollector.addP2PChannel(this),this.statsUploader=new BZ(r),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval(()=>{[this.sendConnection,this.recvConnection].forEach(u=>{u&&(u.iceConnectionState!=="disconnected"&&u.iceConnectionState!=="failed"||this.handleDisconnect(u.direction))})},la("ICE_RESTART_INTERVAL"))}async startP2PConnection(r,o){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support startP2PConnection.")}async connect(r,o,u,h,f,m){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support connect.")}async startP2P(r,o){let u;try{if(o){this.recvConnection&&($.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset recvConnection.")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),u=await this.recvMutex.lock("From P2PChannel.startP2P"),this.recvConnection=new gR(r,this.store,iS.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const h=await this.recvConnection.establish(o);return{iceParameters:h.iceParameters,dtlsParameters:h.dtlsParameters,sdp:h.sdp}}{this.state=d0.New,this.sendConnection&&($.warning("[".concat(this.store.clientId,"] P2PChannel.startP2P reset sendConnection.")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),u=await this.sendMutex.lock("From P2PChannel.startP2P"),this.sendConnection=new gR(r,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const h=await this.sendConnection.establish();return{iceParameters:h.iceParameters,dtlsParameters:h.dtlsParameters,sdp:h.sdp}}}finally{u&&u()}}async p2pConnect(r){if(!this.sendConnection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .");this.store.peerConnectionStart(),await this.sendConnection.connect(r),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=d0.Connected}async addRemoteCandidate(r,o){if(o===iS.RECEIVE_ONLY){if(!this.sendConnection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.sendConnection.addRemoteCandidate(r)}else{if(!this.recvConnection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .");await this.recvConnection.addRemoteCandidate(r)}}publish(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.sendMutex.lock("From P2PChannel.publish"));try{if(!h.sendConnection||h.state!==d0.Connected){h.throwIfTrackTypeNotMatch(r);const k=r.filter(L=>h.pendingLocalTracks.indexOf(L)===-1);return void(h.pendingLocalTracks=h.pendingLocalTracks.concat(k))}h.store.pubId=h.store.pubId+1,Z_.markPublishStart(h.store.clientId,h.store.pubId);const m=h.filterTobePublishedTracks(r,o,u);if(m.length===0)return void(yield KQ(h.tryToUnmuteAudio(r)));m.forEach(k=>{let{track:L,type:q}=k;const z=Date.now();h.store.publish(L.getTrackId(),q===_d.LocalAudioTrack?"audio":"video",z)}),h.bindLocalTrackEvents(m);const v=yield KQ(h.sendConnection.send(m.map(k=>{let{track:L}=k;return L}),h.store.codec,h.store.audioCodec)),R=(yield KQ(v.next())).value,D=h.createGatewayPublishMessage(m,R);try{yield D}catch(k){throw v.throw(k),(k==null?void 0:k.code)===ea.WS_ABORT&&m.forEach(L=>{let{track:q}=L;h.pendingLocalTracks.indexOf(q)===-1&&h.pendingLocalTracks.push(q)}),h.unbindLocalTrackEvents(m),k}yield KQ(v.next()),m.forEach(k=>{let{type:L}=k;h.statsCollector.addLocalStats(L)}),h.statsUploader.startUploadOutboundStats(),h.assignLocalTracks(m,R),m.forEach(k=>{let{track:L,type:q}=k;const z=Date.now();h.store.publish(L.getTrackId(),q===_d.LocalAudioTrack?"audio":"video",void 0,z)}),h.startUploadUplinkState()}finally{f()}})()}async unpublish(r){if(!this.sendConnection||this.state!==d0.Connected)return void(r.length===0?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter(f=>!AQ(r).call(r,f)));const o=this.filterTobeUnpublishedTracks(r);if(o.length===0)return;const u=o.find(f=>f[0]==="videoLowTrack");u&&u[1].track.close();const h=this.createGatewayUnpublishMessage(o);if(await this.sendConnection.stopSending(o.map(f=>{let[,{id:m}]=f;return m})),this.withdrawLocalTracks(o),this.unbindLocalTrackEvents(o.map(f=>{let[m,{track:v}]=f;return{type:m,track:v}})),o.forEach(f=>{let[m]=f;this.statsCollector.removeLocalStats(m)}),this.localTrackMap.size===0&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===d0.Connected)return u&&u[1].track.close(),h;r.forEach(f=>{const m=this.pendingLocalTracks.indexOf(f);m!==-1&&this.pendingLocalTracks.splice(m,1)})}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const r=()=>{const o=[],u=[];Array.from(this.localTrackMap.entries()).forEach(h=>{let[f,{track:m,ssrcs:v}]=h;const R={stream_type:gge(m,f),ssrcs:v};m._muted||!m._enabled?o.push(R):u.push(R)}),o.length>0&&o.forEach(h=>{m0(this,mQ.RequestMuteLocal,[h])}),u.length>0&&u.forEach(h=>{m0(this,mQ.RequestUnmuteLocal,[h])})};r(),this.uplinkStateUploadInterval=window.setInterval(()=>{r()},3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(r){return jS(function*(){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support publishLowStream.")})()}async republish(){this.pendingLocalTracks.length>0&&($.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await o_(this,mQ.RequestRePublish,this.pendingLocalTracks),this.emit(mQ.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support unpublishLowStream.")}async subscribe(r,o,u,h){var f;if(!this.recvConnection)throw new _g(ea.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");if((f=this.remoteUserMap.get(r))!==null&&f!==void 0&&f.has(o))return;const{track:m,mid:v,transceiver:R}=await this.recvConnection.receive(o,[{ssrcId:u}],String(r.uid),h);o===sQ.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(m):(r._audioTrack=new xR(m,r.uid,r._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),R&&r._audioTrack._updateRtpTransceiver(R),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoSSRC=u,r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(m):(r._videoTrack=new uN(m,r.uid,r._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),R&&r._videoTrack._updateRtpTransceiver(R),this.bindRemoteTrackEvents(r,r._videoTrack));const D=this.remoteUserMap.get(r);D?D.set(o,v):this.remoteUserMap.set(r,new Map([[o,v]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const k=this.pendingRemoteTracks.findIndex(L=>{let{user:q,kind:z}=L;return q.uid===r.uid&&o===z});k!==-1&&(this.pendingRemoteTracks.splice(k,1),this.emit(mQ.MediaReconnectEnd,r.uid))}async mockSubscribe(r,o,u,h){if(!this.recvConnection)throw new _g(ea.INVALID_OPERATION,"Cannot subscribe remote user when recvConnection disconnected.");await this.recvConnection.mockReceive(o,[{ssrcId:u}],String(r.uid),h)}async unsubscribe(r,o,u){const h=this.pendingRemoteTracks.filter(m=>{let{user:v,kind:R}=m;return o!==void 0?v.uid===r.uid&&o===R:v.uid===r.uid});if(h.forEach(m=>{const v=this.pendingRemoteTracks.indexOf(m);this.pendingRemoteTracks.splice(v,1)}),this.recvConnection||u||h.forEach(m=>{let{kind:v}=m;var R;if(v===sQ.AUDIO)(R=r._audioTrack)===null||R===void 0||R._destroy(),r._audioTrack=void 0;else if(v===sQ.VIDEO){var D;(D=r._videoTrack)===null||D===void 0||D._destroy(),r._videoTrack=void 0}}),!this.recvConnection)return;const f=this.filterTobeUnSubscribedTracks(r,o);f.length!==0&&(await this.recvConnection.stopReceiving(f.map(m=>{let[,{id:v}]=m;return v})),this.withdrawRemoteTracks(f),this.remoteUserMap.size===0&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),f.forEach(m=>{let[v,{kind:R}]=m;var D,k;if(R===sQ.VIDEO&&v._videoSSRC&&((D=this.recvConnection)===null||D===void 0||D.setStatsRemoteVideoIsReady(v._videoSSRC,!1)),R===sQ.VIDEO)this.unbindRemoteTrackEvents(v._videoTrack),u||((k=v._videoTrack)===null||k===void 0||k._destroy(),v._videoTrack=void 0);else if(R===sQ.AUDIO){var L;this.unbindRemoteTrackEvents(v._audioTrack),!u&&((L=v._audioTrack)===null||L===void 0||L._destroy(),v._audioTrack=void 0)}}),f.forEach(m=>{let[,{kind:v}]=m;m0(this,mQ.RequestP2PMuteRemote,v)}))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const r=()=>Array.from(this.remoteUserMap.entries()).forEach(o=>{let[,u]=o;[sQ.VIDEO,sQ.AUDIO].forEach(h=>{u.has(h)?m0(this,mQ.RequestP2PUnmuteRemote,h):m0(this,mQ.RequestP2PMuteRemote,h)})});r(),this.downlinkStatsUploadInterval=window.setInterval(()=>{r()},3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(r){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support massSubscribe.")}async massSubscribeNoLock(r){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support massSubscribeNoLock.")}async massUnsubscribe(r){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support massUnsubscribe.")}async massUnsubscribeNoLock(r){throw new _g(ea.NOT_SUPPORTED,"p2p mode does not support massUnsubscribeNoLock.")}async muteRemote(r,o){if(!this.recvConnection)return;const u=this.remoteUserMap.get(r);if(!u)return void $.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(r.uid,"."));if(!u.get(o))return void $.warning("[".concat(this.store.clientId,"] P2PChannel2.muteRemote has no remote user ").concat(r.uid," media type ").concat(o,"."));const h=o===sQ.VIDEO?r._videoSSRC:r._audioSSRC;h!==void 0&&this.recvConnection.setStatsRemoteVideoIsReady(h,!1)}async unmuteRemote(r,o){return this.unmuteRemoteNoLock(r,o)}async unmuteRemoteNoLock(r,o){if(!this.recvConnection)return;const u=this.remoteUserMap.get(r);if(!u)return void $.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(r.uid,"."));u.get(o)||$.warning("[".concat(this.store.clientId,"] P2PChannel2.unmuteRemote has no remote user ").concat(r.uid," media type ").concat(o,"."))}getAllTracks(r){const o=this.localTrackMap.get(_d.LocalAudioTrack);if((o==null?void 0:o.track)instanceof a_){const u=o.track;return Array.from(this.localTrackMap.entries()).filter(h=>{let[f]=h;return f!==_d.LocalAudioTrack}).filter(h=>{let[f]=h;return!(r&&f===_d.LocalVideoLowTrack)}).map(h=>{let[,{track:f}]=h;return f}).concat(u.trackList)}return Array.from(this.localTrackMap.entries()).filter(u=>{let[h]=u;return!(r&&h===_d.LocalVideoLowTrack)}).map(u=>{let[,{track:h}]=u;return h})}reportPublishEvent(r,o,u,h,f){if(r){const v=this.localTrackMap.get(_d.LocalAudioTrack),R=h?this.localTrackMap.get(_d.LocalVideoLowTrack):this.localTrackMap.get(_d.LocalVideoTrack);cQ.publish(this.store.sessionId,{eventElapse:Z_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:r,ec:o,audioName:v==null?void 0:v.track.getTrackLabel(),videoName:R==null?void 0:R.track.getTrackLabel(),screenshare:(R==null?void 0:R.track._hints.indexOf(R0.SCREEN_TRACK))!==-1,audio:!!v,video:!!R,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:f})}else{var m;u||(u=[]);const v=u.find(D=>D instanceof u0),R=h?(m=this.localTrackMap.get(_d.LocalVideoTrack))===null||m===void 0?void 0:m.track:u.find(D=>D instanceof HQ);cQ.publish(this.store.sessionId,{eventElapse:Z_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:r,ec:o,audioName:v==null?void 0:v.getTrackLabel(),videoName:R==null?void 0:R.getTrackLabel(),screenshare:(R==null?void 0:R._hints.indexOf(R0.SCREEN_TRACK))!==-1,audio:!!v,video:!!R,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:f})}}reportSubscribeEvent(r,o,u,h){const f=h===sQ.VIDEO?u._videoSSRC:u._audioSSRC;f&&cQ.subscribe(this.store.sessionId,{succ:r,ec:o,video:h===sQ.VIDEO,audio:h===sQ.AUDIO,peerid:u.uid,subscribeRequestid:h===sQ.VIDEO?u._videoSSRC:u._audioSSRC,p2pid:this.store.p2pId,eventElapse:Z_.measureFromSubscribeStart(this.store.clientId,f)})}reset(){$.debug("[".concat(this.store.clientId,"] P2PChannel2.reset")),this.sendMutex=new T_("P2PChannel2-send-mutex"),this.sendMutex=new T_("P2PChannel2-recv-mutex"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const r=this.localTrackMap.get(_d.LocalAudioTrack);if((r==null?void 0:r.track)instanceof a_){if(r.track.trackList.length>0){const o=r.track;r.track.trackList.forEach(u=>{o.removeAudioTrack(u)})}r.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=d0.Disconnected}getStats(r){var o,u;return r?(u=this.recvConnection)===null||u===void 0?void 0:u.getStats():(o=this.sendConnection)===null||o===void 0?void 0:o.getStats()}getRemoteVideoIsReady(r){var o;return((o=this.recvConnection)===null||o===void 0?void 0:o.getRemoteVideoIsReady(r))||!1}getLocalAudioVolume(){const r=this.localTrackMap.get(_d.LocalAudioTrack);if(r)return r.track.getVolumeLevel()}getLocalVideoSize(){const r=this.localTrackMap.get(_d.LocalVideoTrack);if(r)return{width:r.track._videoWidth||0,height:r.track._videoHeight||0}}getEncoderConfig(r){const o=this.localTrackMap.get(r);return o&&o.track instanceof HQ||o&&o.track instanceof u0?o.track._encoderConfig:void 0}getLocalMedia(r){return this.localTrackMap.get(r)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(r,o){if(!r)return this.remoteUserMap.size>0;const u=this.remoteUserMap.get(r);return!!u&&(!o||u.has(o))}async hasRemoteMediaWithLock(r,o){if(!r)return this.remoteUserMap.size>0;const u=this.remoteUserMap.get(r);return!!u&&(!o||u.has(o))}getRemoteMedia(r){var o;const u=Array.from($S(o=this.remoteUserMap).call(o)).find(h=>h.uid===r);return u?{audioTrack:u.audioTrack,audioSSRC:u._audioSSRC,videoTrack:u.videoTrack,videoSSRC:u._videoSSRC}:{}}getAudioLevels(){let r=Array.from(this.remoteUserMap.entries()).map(u=>{let[h]=u;return{uid:h.uid,level:h.audioTrack?100*h.audioTrack._source.getAccurateVolumeLevel():0}});const o=this.localTrackMap.get(_d.LocalAudioTrack);return o&&r.push({level:100*o.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),r=yO(r).call(r,(u,h)=>u.level-h.level),r}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&($.debug("[".concat(this.store.clientId,"] P2PChannel2.disconnectForReconnect closing P2PConnection")),this.state=d0.Reconnecting,la("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o]=r;var u;o._videoTrack&&o._videoTrack._player&&((u=o._videoTrack._player.getVideoElement())===null||u===void 0||u.pause(),o._videoTrack._player.isKeepLastFrame=!0,o._videoTrack._originMediaStreamTrack.stop())}),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(r=>{var o;let[u,{track:h}]=r;switch(u){case _d.LocalVideoTrack:AQ(o=h._hints).call(o,R0.LOW_STREAM)?h.close():this.pendingLocalTracks.push(h);break;case _d.LocalAudioTrack:h instanceof a_?this.pendingLocalTracks=this.pendingLocalTracks.concat(h.trackList):this.pendingLocalTracks.push(h);case _d.LocalVideoLowTrack:}}),this.emit(mQ.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o,u]=r;Array.from($S(u).call(u)).forEach(h=>{this.setPendingRemoteMedia(o,h)}),this.emit(mQ.MediaReconnectStart,o.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),$.debug("[".concat(this.store.clientId,"] P2PChannel2 disconnected, waiting to reconnect.")))}hasPendingRemoteMedia(r,o){for(const u of this.pendingRemoteTracks){const{user:h,kind:f}=u;if((r instanceof F_?r.uid:r)===h.uid&&o===f)return!0}return!1}setPendingRemoteMedia(r,o){this.hasPendingRemoteMedia(r,o)||this.pendingRemoteTracks.push({user:r,kind:o})}async restartICE(r,o){let u,h;if(r===iS.SEND_ONLY){if(!this.sendConnection)throw new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.");u=await this.sendMutex.lock("From P2PChannel.restartICE"),h=this.sendConnection}else{if(!this.recvConnection)throw new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.");u=await this.recvMutex.lock("From P2PChannel.restartICE"),h=this.recvConnection}try{if(o){const f=await h.restartICE(o);return h.isInRestartIce=!1,f}{const f=await h.restartICE();if(f){const m=await o_(this,mQ.RequestP2PRestartICE,{direction:iS.RECEIVE_ONLY,iceParameter:f});await h.restartICE(m),h.isInRestartIce=!1}}}finally{u()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const r=this.sendConnection.getStats(),o=this.localTrackMap.get(_d.LocalVideoTrack),u=this.localTrackMap.get(_d.LocalAudioTrack),h=r.videoSend.find(_s=>{var _n;return _s.ssrc===(o==null||(_n=o.ssrcs)===null||_n===void 0?void 0:_n[0].ssrcId)}),f=r.audioSend.find(_s=>{var _n;return _s.ssrc===(u==null||(_n=u.ssrcs)===null||_n===void 0?void 0:_n[0].ssrcId)});if(!h||!f)return 1;const m=FS(this,mQ.NeedSignalRTT),v=h?h.rttMs:void 0,R=f?f.rttMs:void 0,D=v&&R?(v+R)/2:v||R,k=(D&&m?(D+m)/2:D||m)||0,L=100*r.sendPacketLossRate*.7/50+.3*k/1500,q=L<.17?1:L<.36?2:L<.59?3:L<.1?4:5,z=o==null?void 0:o.track;if(z&&z._encoderConfig&&z._hints.indexOf(R0.SCREEN_TRACK)===-1){const _s=z._encoderConfig.bitrateMax,_n=r.bitrate.actualEncoded;if(_s&&_n){const _i=(1e3*_s-_n)/(1e3*_s);return GW[_i<.15?0:_i<.3?1:_i<.45?2:_i<.6?3:4][q]}}return q}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const r=this.recvConnection.getStats();let o=0;return Array.from(this.remoteUserMap.entries()).forEach(u=>{let[h]=u;const f=h._audioSSRC,m=h._videoSSRC,v=r.audioRecv.find(_n=>_n.ssrc===f),R=r.videoRecv.find(_n=>_n.ssrc===m);if(!v&&!R)return void(o+=1);const D=FS(this,mQ.NeedSignalRTT),k=r.rtt,L=(k&&D?(k+D)/2:k||D)||0,q=v?v.jitterMs:void 0,z=r.recvPacketLossRate;let _s=.7*z*100/50+.3*L/1500;q&&(_s=.6*z*100/50+.2*L/1500+.2*q/400),o+=_s<.1?1:_s<.17?2:_s<.36?3:_s<.59?4:5}),this.remoteUserMap.size>0?Math.round(o/this.remoteUserMap.size):o}async muteLocalTrack(r){return new lc((o,u)=>{this.handleMuteLocalTrack(r,o,u)})}filterTobePublishedTracks(r,o,u){const h=[],f=f0(),m=this.getAllTracks();r=L1(r=r.filter(D=>m.indexOf(D)===-1));let v=!1,R=!1;for(const D of r){if(D instanceof HQ&&(this.localTrackMap.has(_d.LocalVideoTrack)||v?new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(h.push({track:D,type:_d.LocalVideoTrack}),v=!0),o)){const k=this.getLowVideoTrack(D,u);h.push({track:k,type:_d.LocalVideoLowTrack})}if(D instanceof u0){const k=this.localTrackMap.get(_d.LocalAudioTrack);if(k){if(!(k.track instanceof a_))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(D._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");k.track.addAudioTrack(D),this.bindLocalAudioTrackEvents(D,!0)}else if(R){const L=h.find(q=>{let{type:z}=q;return z===_d.LocalAudioTrack});if(!(L.track instanceof a_))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(D._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");L.track.addAudioTrack(D)}else{if(!f.webAudioMediaStreamDest||D instanceof a_||D._bypassWebAudio)h.push({track:D,type:_d.LocalAudioTrack});else{const L=new a_;L.addAudioTrack(D),h.push({track:L,type:_d.LocalAudioTrack})}R=!0}}}return h}filterTobeUnpublishedTracks(r){const o=[],u=this.getAllTracks();r=L1(r=r.filter(h=>u.indexOf(h)!==-1));for(const h of r){if(h instanceof u0){const f=this.localTrackMap.get(_d.LocalAudioTrack);if(!f)continue;f.track instanceof a_?(f.track.removeAudioTrack(h),this.unbindLocalAudioTrackEvents(h),f.track.trackList.length===0&&(o.push([_d.LocalAudioTrack,f]),f.track.close())):o.push([_d.LocalAudioTrack,f])}if(h instanceof HQ){const f=this.localTrackMap.get(_d.LocalVideoTrack);if(!f)continue;o.push([_d.LocalVideoTrack,f]);const m=this.localTrackMap.get(_d.LocalVideoLowTrack);m&&o.push([_d.LocalVideoLowTrack,m])}}return o}bindLocalTrackEvents(r){r.forEach(o=>{let{track:u,type:h}=o;switch(h){case _d.LocalVideoTrack:u.addListener(rQ.GET_STATS,this.handleGetLocalVideoStats),u.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.addListener(rQ.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),u.addListener(rQ.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),u.addListener(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),u.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _d.LocalAudioTrack:this.bindLocalAudioTrackEvents(u);case _d.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(r,o){r instanceof a_?r.trackList.forEach(u=>{u.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.addListener(rQ.GET_STATS,this.handleGetLocalAudioStats),u.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(r.addListener(rQ.GET_STATS,this.handleGetLocalAudioStats),r.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),r.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),r.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),r.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),o||r.addListener(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(r){r||(r=Array.from(this.localTrackMap.entries()).map(o=>{let[u,{track:h}]=o;return{track:h,type:u}})),r.forEach(o=>{let{track:u,type:h}=o;switch(h){case _d.LocalVideoTrack:u.off(rQ.GET_STATS,this.handleGetLocalVideoStats),u.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.off(rQ.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),u.off(rQ.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),u.off(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),u.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _d.LocalAudioTrack:this.unbindLocalAudioTrackEvents(u);case _d.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(r){r instanceof a_?r.trackList.forEach(o=>{o.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.off(rQ.GET_STATS,this.handleGetLocalAudioStats),o.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(r.off(rQ.GET_STATS,this.handleGetLocalAudioStats),r.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),r.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),r.off(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),r.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),r.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(r,o){o instanceof uN&&o.addListener(rQ.GET_STATS,u=>{u(this.handleGetRemoteVideoStats(r))}),o instanceof xR&&o.addListener(rQ.GET_STATS,u=>{u(this.handleGetRemoteAudioStats(r))})}unbindRemoteTrackEvents(r){r&&r.removeAllListeners(rQ.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o,u]=r;u.has(sQ.AUDIO)&&this.unbindRemoteTrackEvents(o._audioTrack),u.has(sQ.VIDEO)&&this.unbindRemoteTrackEvents(o._videoTrack)})}createGatewayPublishMessage(r,o){return r.map((u,h)=>{var f;let m,{track:v,type:R}=u;switch(R){case _d.LocalAudioTrack:m=a0.Audio;break;case _d.LocalVideoTrack:m=AQ(f=v._hints).call(f,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:m=a0.Low}return{kind:R===_d.LocalAudioTrack?sQ.AUDIO:sQ.VIDEO,stream_type:m,mid:o[h].id,ssrcs:o[h].localSSRC,isMuted:v.muted||!v.enabled}})}createGatewayUnpublishMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}assignLocalTracks(r,o){r.forEach((u,h)=>{let{track:f,type:m}=u;this.localTrackMap.set(m,{track:f,id:o[h].id,ssrcs:o[h].localSSRC})})}withdrawLocalTracks(r){r.forEach(o=>{let[u]=o;this.localTrackMap.delete(u)})}bindConnectionEvents(r){r.onConnectionStateChange=async o=>{var u;$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: ").concat(r.name,".onConnectionStateChange(").concat(o,")")),this.emit(mQ.PeerConnectionStateChange,o),o!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),o==="connected"&&(r.isInRestartIce=!1),AQ(u=this._restartStates).call(u,o)&&!r.isInRestartIce&&(o==="disconnected"&&await N_(800),r.iceConnectionState!=="disconnected"&&r.iceConnectionState!=="failed"||this.handleDisconnect(r.direction))},r.onICEConnectionStateChange=o=>{o!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(o,")")),cQ.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:o,tag:G0.TRACER}).onSuccess(),this.emit(mQ.IceConnectionStateChange,o)},r.onICETransportStateChange=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(o,")"))},r.onDTLSTransportStateChange=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(o,")"))},r.onDTLSTransportError=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(o,")"))},r.onFirstAudioDecoded=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(m=>m._audioSSRC===o);var f;h&&(this.store.subscribe(h.uid,"audio",void 0,void 0,void 0,Date.now()),(f=h.audioTrack)===null||f===void 0||f.emit(zT.FIRST_FRAME_DECODED),cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_AUDIO_DECODE,k0.FIRST_AUDIO_DECODE,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId}))},r.onFirstAudioReceived=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(f=>f._audioSSRC===o);h&&cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_AUDIO_RECEIVED,k0.FIRST_AUDIO_RECEIVED,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId})},r.onFirstVideoDecoded=(o,u,h)=>{this.reportVideoFirstFrameDecoded(o,u,h)},r.onFirstVideoReceived=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(f=>f._videoSSRC===o);h&&cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_VIDEO_RECEIVED,k0.FIRST_VIDEO_RECEIVED,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId})},r.onSelectedLocalCandidateChanged=(o,u)=>{const h=o.candidateType==="relay",f=u.candidateType==="relay";u.candidateType!=="unknown"&&h===f||this.emit(mQ.ConnectionTypeChange,h),$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(dT(u))," -> ").concat(JSON.stringify(dT(o)),")"))},r.onSelectedRemoteCandidateChanged=(o,u)=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(dT(u))," -> ").concat(JSON.stringify(dT(o)),")"))},r.onFirstVideoDecodedTimeout=o=>{this.reportVideoFirstFrameDecoded(o,void 0,void 0,!0)},r.onLocalCandidate=o=>{this.emit(mQ.LocalCandidate,{candidate:o,direction:r.direction})}}unbindConnectionEvents(r){r.onConnectionStateChange=void 0,r.onICEConnectionStateChange=void 0,r.onICETransportStateChange=void 0,r.onDTLSTransportStateChange=void 0,r.onDTLSTransportError=void 0,r.onFirstAudioDecoded=void 0,r.onFirstAudioReceived=void 0,r.onFirstVideoDecoded=void 0,r.onFirstVideoReceived=void 0,r.onSelectedLocalCandidateChanged=void 0,r.onSelectedRemoteCandidateChanged=void 0,r.onFirstVideoDecodedTimeout=void 0,r.onLocalCandidate=void 0}async handleDisconnect(r){const o=r===iS.SEND_ONLY?this.sendConnection:this.recvConnection;o&&!o.isInRestartIce&&(o.isInRestartIce=!0,$.debug("[".concat(this.store.clientId,"] [P2PChannel-").concat(o.name,"] start use restartICE")),r===iS.SEND_ONLY?this.restartICE(r):o_(this,mQ.RequestP2PRestartICE,{direction:iS.SEND_ONLY}))}filterTobeMutedTracks(r){const o=[];if(this.getAllTracks().indexOf(r)===-1)return o;const u=this.localTrackMap.get(_d.LocalAudioTrack);if(r instanceof u0&&(u==null?void 0:u.track)instanceof a_)return u.track.isActive||o.push([_d.LocalAudioTrack,u]),o;const h=Array.from(this.localTrackMap.entries()).find(f=>{let[,{track:m}]=f;return r===m});if(h&&(o.push(h),h[0]===_d.LocalVideoTrack)){const f=this.localTrackMap.get(_d.LocalVideoLowTrack);f&&o.push([_d.LocalVideoLowTrack,f])}return o}filterTobeUnmutedTracks(r){const o=[],u=this.localTrackMap.get(_d.LocalAudioTrack);if(r instanceof u0&&(u==null?void 0:u.track)instanceof a_)return u.track.isActive&&o.push([_d.LocalAudioTrack,u]),o;const h=Array.from(this.localTrackMap.entries()).find(f=>{let[,{track:m}]=f;return r===m});if(h)if(h[0]===_d.LocalVideoTrack){o.push(h);const f=this.localTrackMap.get(_d.LocalVideoLowTrack);f&&o.push([_d.LocalVideoLowTrack,f])}else o.push(h);return o}createMuteMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}createUnmuteMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}filterTobeUnSubscribedTracks(r,o){const u=[],h=this.remoteUserMap.get(r);if(!h)return u;if(o){const f=h.get(o);if(!f)return u;u.push([r,{kind:o,id:f}])}else Array.from(h.entries()).forEach(f=>{let[m,v]=f;u.push([r,{kind:m,id:v}])});return u}createUnsubscribeMessage(r){const o=[];return r.forEach(u=>{let[h,{kind:f,id:m}]=u;switch(f){case sQ.VIDEO:return void(h._videoSSRC&&o.push({stream_type:sQ.VIDEO,ssrcId:h._videoSSRC}));case sQ.AUDIO:return void(h._audioSSRC&&o.push({stream_type:sQ.AUDIO,ssrcId:h._audioSSRC}))}}),o}withdrawRemoteTracks(r){r.forEach(o=>{let[u,{kind:h}]=o;const f=this.remoteUserMap.get(u);f&&(f.delete(h),Array.from(f.entries()).length===0&&this.remoteUserMap.delete(u))})}async updateBitrateLimit(r){const o=this.localTrackMap.get(_d.LocalVideoTrack),u=this.localTrackMap.get(_d.LocalVideoLowTrack);o&&await o.track.setBitrateLimit(r.uplink),u&&r.low_stream_uplink&&await u.track.setBitrateLimit({max_bitrate:r.low_stream_uplink.bitrate,min_bitrate:r.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const r=this.sendConnection.peerConnectionState,o=this.recvConnection.peerConnectionState;return r!=="connected"&&o!=="connected"}return!0}async tryToUnmuteAudio(r){for(let o=0;o<r.length;o++)if(r[o]instanceof u0){const u=this.filterTobeUnmutedTracks(r[o]);if(u.length===0)continue;const h=this.createUnmuteMessage(u);return void await m0(this,mQ.RequestUnmuteLocal,h)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=r=>this.getStats(r),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter(r=>{let[,{ssrcs:o}]=r;return!!o}),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=r=>{var o;return!((o=this.recvConnection)===null||o===void 0||!o.getRemoteVideoIsReady(r))},this.statsUploader.requestUpload=(r,o)=>this.emit(mQ.RequestUpload,r,o),this.statsUploader.requestUploadStats=r=>this.emit(mQ.RequestUploadStats,r),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await N_(lP(this.dtlsFailedCount,s_)),this.emit(mQ.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(_d.LocalVideoTrack)||this.pendingLocalTracks.some(r=>r instanceof HQ)}throwIfTrackTypeNotMatch(r){if(r.filter(o=>o instanceof HQ).length>1)throw new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(r.filter(o=>o instanceof u0).length>1&&(r.some(o=>o instanceof u0&&o._bypassWebAudio)||!f0().webAudioMediaStreamDest))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const o of r){if(o instanceof HQ&&this.pendingLocalTracks.some(u=>u instanceof HQ))throw new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(o instanceof u0&&this.pendingLocalTracks.some(u=>u instanceof u0)&&(!f0().webAudioMediaStreamDest||o._bypassWebAudio||this.pendingLocalTracks.some(u=>u instanceof u0&&u._bypassWebAudio)))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(r,o){const u=!la("DISABLE_DUAL_STREAM_USE_ENCODING")&&f0().supportDualStreamEncoding,h=i3(i3({},{width:160,height:120,framerate:15,bitrate:50}),o);let f;f=u?r._mediaStreamTrack.clone():F4(r,h);const m=y0(8,"track-low-"),v=new HQ(f,i3(i3({},u&&{scaleResolutionDownBy:M8(h,r)}),{},{frameRate:h.framerate,bitrateMax:h.bitrate,bitrateMin:h.bitrate}),void 0,void 0,m);return v.on(q1.TRANSCEIVER_UPDATED,R=>{r._updateRtpTransceiver(R,ET.LOW_STREAM)}),v._hints.push(R0.LOW_STREAM),r.addListener(rQ.NEED_CLOSE,()=>{v.close()}),v}async globalLock(){return this.recvMutex.lock("From P2PChannel2.globalLock")}reportVideoFirstFrameDecoded(r,o,u,h){var f;const m=Array.from($S(f=this.remoteUserMap).call(f)).find(v=>v._videoSSRC===r);if(m){h||this.store.subscribe(m.uid,"video",void 0,void 0,void 0,void 0,Date.now());const v=this.store.keyMetrics,R=v.subscribe.find(D=>D.userId===m.uid&&D.type==="video");cQ.firstRemoteVideoDecode(this.store.sessionId,f_.FIRST_VIDEO_DECODE,k0.FIRST_VIDEO_DECODE,{peer:m._uintid,videowidth:o,videoheight:u,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,r),subscribeRequestid:r,p2pid:this.store.p2pId,apEnd:v.requestAPEnd||0,apStart:v.requestAPStart||0,joinGwEnd:v.joinGatewayEnd||0,joinGwStart:v.joinGatewayStart||0,pcEnd:v.peerConnectionEnd||0,pcStart:v.peerConnectionStart||0,subscriberEnd:(R==null?void 0:R.subscribeEnd)||0,subscriberStart:(R==null?void 0:R.subscribeStart)||0,videoAddNotify:(R==null?void 0:R.streamAdded)||0,state:h?1:0})}}async remoteMediaSsrcChanged(r,o,u){if(!this.recvConnection)return!1;const h=this.remoteUserMap.get(r);if(!h)return!1;const f=h.get(o);if(!f)return!1;const m=await this.recvConnection.getRemoteSSRC(f);return m!==void 0&&m!==u}resetConnection(r){$.debug("[".concat(this.store.clientId,"] [P2PChannel2] reset connection to ").concat(r)),this.state===d0.Connected?($.debug("[".concat(this.store.clientId,"] [P2PChannel2] fallback to websocket but P2PChannel2 state still connected, disconnect first")),this.disconnectForReconnect()):(this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0))}async publishDataChannel(r){throw new _g(ea.NOT_SUPPORTED)}async unpublishDataChannel(r){throw new _g(ea.NOT_SUPPORTED)}async subscribeDataChannel(r,o){throw new _g(ea.NOT_SUPPORTED)}async unsubscribeDataChannel(r,o){throw new _g(ea.NOT_SUPPORTED)}hasPendingRemoteDataChannel(r,o){throw new _g(ea.NOT_SUPPORTED)}setPendingRemoteDataChannel(r,o){throw new _g(ea.NOT_SUPPORTED)}async preConnect(r,o,u,h,f,m){throw new _g(ea.NOT_SUPPORTED)}getEstablishParams(){throw new _g(ea.NOT_SUPPORTED)}async reSubscribe(r){throw new _g(ea.NOT_SUPPORTED)}async updateVideoStreamParameter(r,o){throw new _g(ea.NOT_SUPPORTED)}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(r=>{let[o,{track:u}]=r;o===_d.LocalVideoLowTrack?u._updateRtpTransceiver(void 0,ET.LOW_STREAM):u._updateRtpTransceiver(void 0)})}}function Eb(A){return function(r,o,u){const h=r[o];if(typeof h!="function")throw new Error("Cannot use mutex on object property.");return u.value=async function(){for(var f=arguments.length,m=new Array(f),v=0;v<f;v++)m[v]=arguments[v];switch(A){case vR.SEND_ONLY:{const R=await this.sendMutex.lock("From P2PChannel2.".concat(o));try{return await h.apply(this,m)}finally{R()}}case vR.RECEIVE_ONLY:{const R=await this.recvMutex.lock("From P2PChannel2.".concat(o));try{return await h.apply(this,m)}finally{R()}}default:{const R=await this.sendMutex.lock("From P2PChannel2.".concat(o)),D=await this.recvMutex.lock("From P2PChannel2.".concat(o));try{return await h.apply(this,m)}finally{R(),D()}}}},u}}function mZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function u1(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?mZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):mZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}td([Eb(vR.SEND_ONLY),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],m_.prototype,"p2pConnect",null),td([Eb(vR.SEND_ONLY),_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],m_.prototype,"unpublish",null),td([Eb(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],m_.prototype,"unpublishLowStream",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String,Number,String]),_o("design:returntype",lc)],m_.prototype,"subscribe",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String,Number,String]),_o("design:returntype",lc)],m_.prototype,"mockSubscribe",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String,Boolean]),_o("design:returntype",lc)],m_.prototype,"unsubscribe",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],m_.prototype,"muteRemote",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],m_.prototype,"unmuteRemote",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],m_.prototype,"hasRemoteMediaWithLock",null),td([Eb(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],m_.prototype,"disconnectForReconnect",null),td([Eb(vR.RECEIVE_ONLY),_o("design:type",Function),_o("design:paramtypes",[F_,String,Number]),_o("design:returntype",lc)],m_.prototype,"remoteMediaSsrcChanged",null);class uU{constructor(r){j(this,"store",void 0),j(this,"onStatsException",void 0),j(this,"onUploadPublishDuration",void 0),j(this,"onStatsChanged",void 0),j(this,"localStats",new Map),j(this,"remoteStats",new Map),j(this,"updateStatsInterval",void 0),j(this,"trafficStats",void 0),j(this,"trafficStatsPeerList",[]),j(this,"uplinkStats",void 0),j(this,"exceptionMonitor",void 0),j(this,"p2pChannel",void 0),j(this,"scalabilityMode",y8.L1T1),j(this,"updateStats",()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))}),this.store=r,this.updateStatsInterval=window.setInterval(this.updateStats,1e3),this.exceptionMonitor=new Jue,this.exceptionMonitor.on("exception",(o,u,h)=>{this.onStatsException&&this.onStatsException(o,u,h)})}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(_d.LocalAudioTrack)||u1({},W8)}getLocalVideoTrackStats(){return this.localStats.get(_d.LocalVideoTrack)||u1({},X8)}getRemoteAudioTrackStats(r){const o=(f,m)=>{if(!this.trafficStats)return m;const v=this.trafficStats.peer_delay.find(R=>R.peer_uid===f);return v&&(m.publishDuration=v.B_ppad+(Date.now()-this.trafficStats.timestamp)),m},u={};if(r){var h;const f=(h=this.remoteStats.get(r))===null||h===void 0?void 0:h.audioStats;f&&(u[r]=o(r,f))}else Array.from(this.remoteStats.entries()).forEach(f=>{let[m,{audioStats:v}]=f;v&&(u[m]=o(m,v))});return u}getRemoteNetworkQualityStats(r){const o={};if(r){var u;const h=(u=this.remoteStats.get(r))===null||u===void 0?void 0:u.networkStats;h&&(o[r]=h)}else Array.from(this.remoteStats.entries()).forEach(h=>{let[f,{networkStats:m}]=h;m&&(o[f]=m)});return o}getRemoteVideoTrackStats(r){const o=(f,m)=>{if(!this.trafficStats)return m;const v=this.trafficStats.peer_delay.find(R=>R.peer_uid===f);return v&&(m.publishDuration=v.B_ppvd+(Date.now()-this.trafficStats.timestamp)),m},u={};if(r){var h;const f=(h=this.remoteStats.get(r))===null||h===void 0?void 0:h.videoStats;f&&(u[r]=o(r,f))}else Array.from(this.remoteStats.entries()).forEach(f=>{let[m,{videoStats:v}]=f;v&&(u[m]=o(m,v))});return u}getRTCStats(){let r=0,o=0,u=0,h=0;const f=this.localStats.get(_d.LocalAudioTrack);f&&(r+=f.sendBytes,o+=f.sendBitrate);const m=this.localStats.get(_d.LocalVideoTrack);m&&(r+=m.sendBytes,o+=m.sendBitrate);const v=this.localStats.get(_d.LocalVideoLowTrack);v&&(r+=v.sendBytes,o+=v.sendBitrate),this.remoteStats.forEach(D=>{let{audioStats:k,videoStats:L}=D;k&&(u+=k.receiveBytes,h+=k.receiveBitrate),L&&(u+=L.receiveBytes,h+=L.receiveBitrate)});let R=1;return this.trafficStats&&(R+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:R,SendBitrate:o,SendBytes:r,RecvBytes:u,RecvBitrate:h,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(r){this.localStats.set(r,void 0)}removeLocalStats(r){r?this.localStats.delete(r):this.localStats.clear()}addRemoteStats(r){this.remoteStats.set(r,{})}removeRemoteStats(r){r?this.remoteStats.delete(r):this.remoteStats.clear()}addP2PChannel(r){this.p2pChannel=r}updateTrafficStats(r){r.peer_delay=r.peer_delay.filter(o=>o.B_ppad!==void 0||o.B_ppvd!==void 0),r.peer_delay.filter(o=>this.trafficStatsPeerList.indexOf(o.peer_uid)===-1).forEach(o=>{var u;const h=(u=this.p2pChannel)===null||u===void 0?void 0:u.getRemoteMedia(o.peer_uid),f=h!=null&&h.videoSSRC?Z_.measureFromSubscribeStart(this.store.clientId,h.videoSSRC):0,m=h!=null&&h.audioSSRC?Z_.measureFromSubscribeStart(this.store.clientId,h.audioSSRC):0;o.B_ppad!==void 0&&o.B_ppvd!==void 0&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(o.peer_uid,o.B_ppad,o.B_ppvd,f>m?f:m),this.trafficStatsPeerList.push(o.peer_uid))}),this.trafficStats=r}updateUplinkStats(r){this.uplinkStats&&this.uplinkStats.B_fir!==r.B_fir&&$.debug("[".concat(this.store.clientId,"]: Period fir changes to ").concat(r.B_fir)),this.uplinkStats=r}static isRemoteVideoFreeze(r,o,u){if(!r)return!1;const h=!!u&&o.framesDecodeFreezeTime>u.framesDecodeFreezeTime,f=!u||o.framesDecodeCount>u.framesDecodeCount;return h||!f}static isRemoteAudioFreeze(r){return!!r&&r._isFreeze()}isLocalVideoFreeze(r){return!(!r.inputFrame||!r.sentFrame)&&r.inputFrame.frameRate>5&&r.sentFrame.frameRate<3}updateLocalStats(r){Array.from(this.localStats.entries()).forEach(o=>{let[u,h]=o;switch(u){case _d.LocalVideoTrack:case _d.LocalVideoLowTrack:{const m=h,v=u1({},X8),R=r.getStats(),D=r.getLocalMedia(u);if(R){const k=R.videoSend.find(L=>L.ssrc===(D==null?void 0:D.ssrcs[0].ssrcId));if(k){const L=r.getLocalVideoSize(),q=r.getEncoderConfig(_d.LocalVideoTrack);k.codec!=="H264"&&k.codec!=="H265"&&k.codec!=="VP8"&&k.codec!=="VP9"&&k.codec!=="AV1X"&&k.codec!=="AV1"||(v.codecType=k.codec),v.sendBytes=k.bytes,v.sendBitrate=m?8*Math.max(0,v.sendBytes-m.sendBytes):0,k.inputFrame?(v.captureFrameRate=k.inputFrame.frameRate,v.captureResolutionHeight=k.inputFrame.height,v.captureResolutionWidth=k.inputFrame.width):L&&(v.captureResolutionWidth=L.width,v.captureResolutionHeight=L.height),k.sentFrame?(v.sendFrameRate=k.sentFrame.frameRate,v.sendResolutionHeight=k.sentFrame.height,v.sendResolutionWidth=k.sentFrame.width):L&&(v.sendResolutionWidth=L.width,v.sendResolutionHeight=L.height),k.avgEncodeMs&&(v.encodeDelay=k.avgEncodeMs),q&&q.bitrateMax&&(v.targetSendBitrate=1e3*q.bitrateMax),v.sendPackets=k.packets,v.sendPacketsLost=k.packetsLost,v.sendJitterMs=k.jitterMs,v.sendRttMs=k.rttMs,v.totalDuration=m?m.totalDuration+1:1,v.totalFreezeTime=m?m.totalFreezeTime:0,this.isLocalVideoFreeze(k)&&(v.totalFreezeTime+=1),k.scalabilityMode&&this.scalabilityMode!==k.scalabilityMode&&($.debug("[".concat(this.store.clientId,"]: The scalabilityMode of the video sending stream is ").concat(k.scalabilityMode)),this.scalabilityMode=k.scalabilityMode)}this.trafficStats&&(v.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var f;this.localStats.set(u,v),((m==null?void 0:m.sendResolutionWidth)!==v.sendResolutionWidth||(m==null?void 0:m.sendResolutionHeight)!==v.sendResolutionHeight)&&((f=this.onStatsChanged)===null||f===void 0||f.call(this,"resolution",{width:v.sendResolutionWidth,height:v.sendResolutionHeight})),v&&D&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,D.track,v);break}case _d.LocalAudioTrack:{const m=h,v=u1({},W8),R=r.getStats(),D=r.getLocalMedia(u);if(R){const k=R.audioSend.find(L=>L.ssrc===(D==null?void 0:D.ssrcs[0].ssrcId));if(k){if(k.codec!=="opus"&&k.codec!=="aac"&&k.codec!=="PCMU"&&k.codec!=="PCMA"&&k.codec!=="G722"||(v.codecType=k.codec),k.inputLevel)v.sendVolumeLevel=Math.round(32767*k.inputLevel);else{const L=r.getLocalAudioVolume();L&&(v.sendVolumeLevel=Math.round(32767*L))}v.sendBytes=k.bytes,v.sendPackets=k.packets,v.sendPacketsLost=k.packetsLost,v.sendJitterMs=k.jitterMs,v.sendRttMs=k.rttMs,v.sendBitrate=m?8*Math.max(0,v.sendBytes-m.sendBytes):0}}this.trafficStats&&(v.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(_d.LocalAudioTrack,v),v&&D&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,D.track,v);break}}})}updateRemoteStats(r){Array.from(this.remoteStats.entries()).forEach(o=>{var u,h;let[f,{videoStats:m,audioStats:v,videoPcStats:R}]=o;const D=v,k=m,L=R,q=u1({},w7),z=u1({},b7),_s=u1({},Dce),{audioTrack:_n,videoTrack:_i,audioSSRC:Aa,videoSSRC:Ea}=r.getRemoteMedia(f);let Qa;Qa=r instanceof m_?r.getStats(!0):r.getStats();const Vc=(u=Qa)===null||u===void 0?void 0:u.audioRecv.find(_c=>_c.ssrc===Aa),Fa=(h=Qa)===null||h===void 0?void 0:h.videoRecv.find(_c=>_c.ssrc===Ea),Va=this.trafficStats&&this.trafficStats.peer_delay.find(_c=>_c.peer_uid===f);if(Vc&&(Vc.codec!=="opus"&&Vc.codec!=="aac"&&Vc.codec!=="PCMU"&&Vc.codec!=="PCMA"&&Vc.codec!=="G722"||(q.codecType=Vc.codec),Vc.outputLevel?q.receiveLevel=Math.round(32767*Vc.outputLevel):_n&&(q.receiveLevel=Math.round(32767*_n.getVolumeLevel())),q.receiveBytes=Vc.bytes,q.receivePackets=Vc.packets,q.receivePacketsLost=Vc.packetsLost,q.packetLossRate=q.receivePacketsLost/(q.receivePackets+q.receivePacketsLost),q.receiveBitrate=D?8*Math.max(0,q.receiveBytes-D.receiveBytes):0,q.totalDuration=D?D.totalDuration+1:1,q.totalFreezeTime=D?D.totalFreezeTime:0,q.freezeRate=q.totalFreezeTime/q.totalDuration,q.receiveDelay=Vc.jitterBufferMs,q.totalDuration>10&&uU.isRemoteAudioFreeze(_n)&&(q.totalFreezeTime+=1)),Fa){Fa.codec!=="H264"&&Fa.codec!=="H265"&&Fa.codec!=="VP8"&&Fa.codec!=="VP9"&&Fa.codec!=="AV1X"&&Fa.codec!=="AV1"||(z.codecType=Fa.codec),z.receiveBytes=Fa.bytes,z.receiveBitrate=k?8*Math.max(0,z.receiveBytes-k.receiveBytes):0,z.decodeFrameRate=Fa.decodeFrameRate<0?0:Fa.decodeFrameRate,z.renderFrameRate=Fa.decodeFrameRate<0?0:Fa.decodeFrameRate,Fa.outputFrame&&(z.renderFrameRate=Fa.outputFrame.frameRate),Fa.receivedFrame?(z.receiveFrameRate=Fa.receivedFrame.frameRate,z.receiveResolutionHeight=Fa.receivedFrame.height,z.receiveResolutionWidth=Fa.receivedFrame.width):_i&&(z.receiveResolutionHeight=_i._videoHeight||0,z.receiveResolutionWidth=_i._videoWidth||0),Fa.framesRateFirefox!==void 0&&(z.receiveFrameRate=Math.round(Fa.framesRateFirefox)),z.receivePackets=Fa.packets,z.receivePacketsLost=Fa.packetsLost,z.packetLossRate=z.receivePacketsLost/(z.receivePackets+z.receivePacketsLost),z.totalDuration=k?k.totalDuration+1:1,z.totalFreezeTime=k?k.totalFreezeTime:0,z.receiveDelay=Fa.jitterBufferMs||0;const _c=!!Ea&&r.getRemoteVideoIsReady(Ea);_i&&_c&&uU.isRemoteVideoFreeze(_i,Fa,L)&&(z.totalFreezeTime+=1),z.freezeRate=z.totalFreezeTime/z.totalDuration}Va&&(q.end2EndDelay=Va.B_ad,z.end2EndDelay=Va.B_vd,q.transportDelay=Va.B_ed,z.transportDelay=Va.B_ed,q.currentPacketLossRate=Va.B_ealr4/100,z.currentPacketLossRate=Va.B_evlr4/100,_s.uplinkNetworkQuality=Va.B_punq?Va.B_punq:0,_s.downlinkNetworkQuality=Va.B_pdnq?Va.B_pdnq:0),this.remoteStats.set(f,{audioStats:q,videoStats:z,videoPcStats:Fa,networkStats:_s}),_n&&this.exceptionMonitor.setRemoteAudioStats(_n,q),_i&&this.exceptionMonitor.setRemoteVideoStats(_i,z)})}}function yZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function gU(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?yZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):yZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class lge extends x0{constructor(r,o,u,h){super(),j(this,"spec",void 0),j(this,"token",void 0),j(this,"websocket",void 0),j(this,"pingpongTimer",void 0),j(this,"reconnectMode","retry"),j(this,"serviceMode",void 0),j(this,"reqId",0),j(this,"commandReqId",0),j(this,"handleWebSocketOpen",()=>{this.reconnectMode="retry",this.startPingPong()}),j(this,"handleWebSocketMessage",f=>{if(!f.data)return;const m=JSON.parse(f.data);m.requestId?this.emit("@".concat(m.requestId,"-").concat(m.sid),m):this.serviceMode===B_.INJECT?this.emit(kR.INJECT_STREAM_STATUS,m):(cQ.workerEvent(this.spec.sid,{actionType:"status",serverCode:m.code,workerType:this.serviceMode===B_.TRANSCODE?1:2}),this.emit(kR.PUBLISH_STREAM_STATUS,m))}),this.spec=o,this.token=r,this.serviceMode=h,this.websocket=new KO("live-streaming",u),this.websocket.on(vQ.CONNECTED,this.handleWebSocketOpen),this.websocket.on(vQ.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(vQ.REQUEST_NEW_URLS,(f,m)=>{o_(this,kR.REQUEST_NEW_ADDRESS).then(f).catch(m)}),this.websocket.on(vQ.RECONNECTING,()=>{this.websocket.reconnectMode=this.reconnectMode})}init(r){return this.websocket.init(r)}async request(r,o,u,h){this.reqId+=1,r==="request"&&(this.commandReqId+=1);const f=this.commandReqId,m=this.reqId;if(!m||!this.websocket)throw new Oa(ea.UNEXPECTED_ERROR);const v=gU({command:r,sdkVersion:pR==="4.20.0"?"0.0.1":pR,seq:m,requestId:m,allocate:u,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},o);if(this.websocket.state==="closed")throw new Oa(ea.WS_DISCONNECT);const R=()=>new lc((q,z)=>{this.websocket.once(vQ.CLOSED,()=>z(new Oa(ea.WS_ABORT))),this.websocket.once(vQ.CONNECTED,q)});this.websocket.state!=="connected"&&await R(),v.clientRequest&&(v.clientRequest.workerToken=this.token);const D=new lc((q,z)=>{const _s=()=>{z(new Oa(ea.WS_ABORT))};this.websocket.once(vQ.RECONNECTING,_s),this.websocket.once(vQ.CLOSED,_s),this.once("@".concat(m,"-").concat(this.spec.sid),_n=>{q(_n)})});h&&cQ.workerEvent(this.spec.sid,gU(gU({},h),{},{requestId:f,actionType:"request",payload:JSON.stringify(o.clientRequest),serverCode:0,code:0}));const k=Date.now();this.websocket.sendMessage(v);let L=null;try{L=await D}catch(q){if(this.websocket.state==="closed")throw q;return await R(),await this.request(r,o,u)}return h&&cQ.workerEvent(this.spec.sid,gU(gU({},h),{},{requestId:f,actionType:"response",payload:JSON.stringify(L.serverResponse),serverCode:L.code,success:L.code===200,responseTime:Date.now()-k})),L.code!==200&&this.handleResponseError(L),L}tryNextAddress(){this.reconnectMode="tryNext",this.websocket.reconnect("tryNext")}close(){const r=pR==="4.20.0"?"0.0.1":pR;this.reqId+=1,this.websocket.state==="connected"?(this.websocket.sendMessage({command:"request",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:r,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:"DestroyWorker"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(r){switch(r.code){case t_.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void $.warning("live stream response already exists stream");case t_.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case t_.LIVE_STREAM_RESPONSE_BAD_STREAM:case t_.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Oa(ea.LIVE_STREAMING_INVALID_ARGUMENT,"",{code:r.code}).throw();case t_.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(r.serverResponse.command==="UnpublishStream"||r.serverResponse.command==="UninjectStream")return;throw new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case t_.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Oa(ea.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,"",{code:r.code}).throw();case t_.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const o=new Oa(ea.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(kR.WARNING,o,r.serverResponse.url)}case t_.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const o=new Oa(ea.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(kR.WARNING,o,r.serverResponse.url)}case t_.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream response wm worker not exist",{retry:!0});case t_.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Oa(ea.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,"",{code:r.code}).throw();case t_.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const o=new Oa(ea.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(kR.WARNING,o,r.serverResponse.url)}case t_.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:r.code}).throw();case t_.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"live stream resource limit",{retry:!0,changeAddress:!0});case t_.LIVE_STREAM_RESPONSE_WORKER_LOST:case t_.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(r.serverResponse.command==="UnpublishStream"||r.serverResponse.command==="UninjectStream")return;throw new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case t_.ERROR_FAIL_SEND_MESSAGE:if(r.serverResponse.command==="UnpublishStream"||r.serverResponse.command==="UninjectStream")return;if(r.serverResponse.command==="UpdateTranscoding"||r.serverResponse.command==="ControlStream")return new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{code:r.code}).throw();throw new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"error fail send message",{retry:!0,changeAddress:!0});case t_.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Oa(ea.LIVE_STREAMING_CDN_ERROR,"",{code:r.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(()=>{this.websocket.state==="connected"&&this.request("ping",{}).catch(uP)},6e3)}}function _Z(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function _S(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?_Z(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):_Z(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class dge extends x0{constructor(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s_,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s_;super(),j(this,"onLiveStreamWarning",void 0),j(this,"onLiveStreamError",void 0),j(this,"onInjectStatusChange",void 0),j(this,"spec",void 0),j(this,"retryTimeout",1e4),j(this,"connection",void 0),j(this,"httpRetryConfig",void 0),j(this,"wsRetryConfig",void 0),j(this,"streamingTasks",new Map),j(this,"isStartingStreamingTask",!1),j(this,"taskMutex",new T_("live-streaming")),j(this,"cancelToken",RS.CancelToken.source()),j(this,"transcodingConfig",void 0),j(this,"injectConfig",_S({},Vae)),j(this,"injectLoopTimes",0),j(this,"uapResponse",void 0),j(this,"lastTaskId",1),j(this,"statusError",new Map),this.spec=r,this.httpRetryConfig=u,this.wsRetryConfig=o}async setTranscodingConfig(r){const o=_S(_S({},Jae),r);o.videoCodecProfile!==66&&o.videoCodecProfile!==77&&o.videoCodecProfile!==100&&($.debug("[".concat(this.spec.clientId,"] set transcoding config, fix video codec profile: ").concat(o.videoCodecProfile," -> 100")),o.videoCodecProfile=100),o.transcodingUsers||(o.transcodingUsers=o.userConfigs),o.transcodingUsers&&(o.transcodingUsers=o.transcodingUsers.map(m=>_S(_S(_S({},Yae),m),{},{zOrder:m.zOrder?m.zOrder+1:1}))),function(m){P0(m.width)||h0(m.width,"config.width",0,1e4),P0(m.height)||h0(m.height,"config.height",0,1e4),P0(m.videoBitrate)||h0(m.videoBitrate,"config.videoBitrate",1,1e6),P0(m.videoFrameRate)||h0(m.videoFrameRate,"config.videoFrameRate"),P0(m.lowLatency)||rT(m.lowLatency,"config.lowLatency"),P0(m.audioSampleRate)||p_(m.audioSampleRate,"config.audioSampleRate",[32e3,44100,48e3]),P0(m.audioBitrate)||h0(m.audioBitrate,"config.audioBitrate",1,128),P0(m.audioChannels)||p_(m.audioChannels,"config.audioChannels",[1,2,3,4,5]),P0(m.videoGop)||h0(m.videoGop,"config.videoGop"),P0(m.videoCodecProfile)||p_(m.videoCodecProfile,"config.videoCodecProfile",[66,77,100]),P0(m.userCount)||h0(m.userCount,"config.userCount",0,17),P0(m.backgroundColor)||h0(m.backgroundColor,"config.backgroundColor",0,16777215),P0(m.userConfigExtraInfo)||W_(m.userConfigExtraInfo,"config.userConfigExtraInfo",0,4096,!1),m.transcodingUsers&&!P0(m.transcodingUsers)&&(NN(m.transcodingUsers,"config.transcodingUsers"),m.transcodingUsers.forEach((v,R)=>{S8(v.uid),P0(v.x)||h0(v.x,"transcodingUser[".concat(R,"].x"),0,1e4),P0(v.y)||h0(v.y,"transcodingUser[".concat(R,"].y"),0,1e4),P0(v.width)||h0(v.width,"transcodingUser[".concat(R,"].width"),0,1e4),P0(v.height)||h0(v.height,"transcodingUser[".concat(R,"].height"),0,1e4),P0(v.zOrder)||h0(v.zOrder-1,"transcodingUser[".concat(R,"].zOrder"),0,100),P0(v.alpha)||h0(v.alpha,"transcodingUser[".concat(R,"].alpha"),0,1,!1)})),P0(m.watermark)||w8(m.watermark,"watermark"),P0(m.backgroundImage)||w8(m.backgroundImage,"backgroundImage"),m.images&&!P0(m.images)&&(NN(m.images,"config.images"),m.images.forEach((v,R)=>{w8(v,"images[".concat(R,"]"))}))}(o);const u=[];o.images&&u.push(...o.images.map(m=>_S(_S(_S({},R8),m),{},{zOrder:255}))),o.backgroundImage&&(u.push(_S(_S(_S({},R8),o.backgroundImage),{},{zOrder:0})),delete o.backgroundImage),o.watermark&&(u.push(_S(_S(_S({},R8),o.watermark),{},{zOrder:255})),delete o.watermark),o.images=u,o.transcodingUsers&&(o.userConfigs=o.transcodingUsers.map(m=>_S({},m)),o.userCount=o.transcodingUsers.length,delete o.transcodingUsers);const h=(o.userConfigs||[]).map(m=>typeof m.uid=="number"?lc.resolve(m.uid):m7(m.uid,this.spec,this.cancelToken.token,this.httpRetryConfig));if((await lc.all(h)).forEach((m,v)=>{o.userConfigs&&o.userConfigs[v]&&(o.userConfigs[v].uid=m)}),this.transcodingConfig=o,this.connection)try{var f;const m=await this.connection.request("request",{clientRequest:{command:"UpdateTranscoding",transcodingConfig:this.transcodingConfig}},!1,{command:"UpdateTranscoding",workerType:1,requestByUser:!0,tid:Array.from(zR(f=this.streamingTasks).call(f)).map(v=>v.taskId).join("#")});$.debug("[".concat(this.spec.clientId,"] update live transcoding config success, code: ").concat(m.code,", config:"),JSON.stringify(this.transcodingConfig))}catch(m){if(!m.data||!m.data.retry)throw m;m.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach(v=>{$.warning("[".concat(this.spec.clientId,"] live streaming receive error"),m.toString(),"try to republish",v.url),this.startLiveStreamingTask(v.url,v.mode,m).then(()=>{$.debug("[".concat(this.spec.clientId,"] live streaming republish ").concat(v.url," success"))}).catch(R=>{$.error("[".concat(this.spec.clientId,"] live streaming republish failed"),v.url,R.toString()),this.onLiveStreamError&&this.onLiveStreamError(v.url,R)})})}}setInjectStreamConfig(r,o){this.injectConfig=Object.assign({},this.injectConfig,r),this.injectLoopTimes=o}async startLiveStreamingTask(r,o,u){var h;if(Array.from(zR(h=this.streamingTasks).call(h)).find(R=>R.mode===B_.INJECT)&&o===B_.INJECT)return new Oa(ea.LIVE_STREAMING_TASK_CONFLICT,"inject stream over limit").throw();if(!this.transcodingConfig&&o===B_.TRANSCODE)throw new Oa(ea.INVALID_OPERATION,"[LiveStreaming] no transcoding config found, can not start transcoding streaming task");let f={command:"PublishStream",ts:Date.now(),url:r,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};$.debug("[".concat(this.spec.clientId,"] start live streaming ").concat(r,", mode: ").concat(o));const m=await this.taskMutex.lock();if(!this.connection&&u)return void m();if(this.streamingTasks.get(r)&&!u)return m(),new Oa(ea.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(o))}catch(R){throw m(),R}switch(o){case B_.TRANSCODE:f.transcodingConfig=_S({},this.transcodingConfig);break;case B_.RAW:break;case B_.INJECT:f={cname:this.spec.cname,command:"InjectStream",sid:this.spec.sid,transcodingConfig:this.injectConfig,ts:Date.now(),url:r,loopTimes:this.injectLoopTimes}}this.uapResponse&&this.uapResponse.vid&&(f.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const v=this.lastTaskId++;try{const R=new lc((k,L)=>{N_(this.retryTimeout).then(()=>{if(u)return L(u);const q=this.statusError.get(r);return q?(this.statusError.delete(r),L(q)):void 0})}),D=await lc.race([this.connection.request("request",{clientRequest:f},!0,{url:r,command:"PublishStream",workerType:o===B_.TRANSCODE?1:2,requestByUser:!u,tid:v.toString()}),R]);this.isStartingStreamingTask=!1,$.debug("[".concat(this.spec.clientId,"] live streaming started, code: ").concat(D.code)),this.streamingTasks.set(r,{clientRequest:f,mode:o,url:r,taskId:v}),m()}catch(R){if(m(),this.isStartingStreamingTask=!1,!R.data||!R.data.retry||u)throw R;return R.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(r,o,R)):await this.startLiveStreamingTask(r,o,R)}}stopLiveStreamingTask(r){return new lc((o,u)=>{const h=this.streamingTasks.get(r);if(!h||!this.connection)return new Oa(ea.UNEXPECTED_ERROR,"can not find streaming task to stop").throw();const f=h.mode;h.abortTask=()=>{$.debug("[".concat(this.spec.clientId,"] stop live streaming success(worker exception)")),this.streamingTasks.delete(r),o()},this.connection.request("request",{clientRequest:{command:f===B_.INJECT?"UninjectStream":"UnpublishStream",url:h.url}},!1,{url:r,command:"UnPublishStream",workerType:f===B_.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then(m=>{$.debug("[".concat(this.spec.clientId,"] stop live streaming success, code: ").concat(m.code)),this.streamingTasks.delete(r),this.streamingTasks.size===0&&f!==B_.INJECT&&(this.connection&&this.connection.close(),this.connection=void 0),o(),f===B_.INJECT&&this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_STOP_SUCCESS,this.spec.uid,r)}).catch(u)})}async controlInjectStream(r,o,u,h){const f=this.streamingTasks.get(r);if(!f||!this.connection||f.mode!==B_.INJECT)throw new Oa(ea.INVALID_OPERATION,"can not find inject stream task to control");return(await this.connection.request("request",{clientRequest:{command:"ControlStream",url:r,control:o,audioVolume:u,position:h}})).serverResponse}resetAllTask(){var r;const o=Array.from(zR(r=this.streamingTasks).call(r));this.terminate();for(const u of o)this.startLiveStreamingTask(u.url,u.mode).catch(h=>{this.onLiveStreamError&&this.onLiveStreamError(u.url,h)})}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=RS.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(r){if(this.connection)throw new Oa(ea.UNEXPECTED_ERROR,"live streaming connection has already connected");const o=await o_(this,j1.REQUEST_WORKER_MANAGER_LIST,r);return this.uapResponse=o,this.connection=new lge(o.workerToken,this.spec,this.wsRetryConfig,r),this.connection.on(kR.WARNING,(u,h)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(h,u)),this.connection.on(kR.PUBLISH_STREAM_STATUS,u=>this.handlePublishStreamServer(u)),this.connection.on(kR.INJECT_STREAM_STATUS,u=>this.handleInjectStreamServerStatus(u)),this.connection.on(kR.REQUEST_NEW_ADDRESS,(u,h)=>{if(!this.connection)return h(new Oa(ea.UNEXPECTED_ERROR,"can not get new live streaming address list"));o_(this,j1.REQUEST_WORKER_MANAGER_LIST,r).then(f=>{this.uapResponse=f,u(f.addressList)}).catch(h)}),await this.connection.init(o.addressList),this.connection}handlePublishStreamServer(r){const o=r.serverStatus&&r.serverStatus.url||"empty_url",u=this.streamingTasks.get(o),h=r.reason;switch(r.code){case t_.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case t_.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const m=new Oa(ea.LIVE_STREAMING_CDN_ERROR,"",{code:r.code});if(u)return $.error(m.toString()),this.onLiveStreamError&&this.onLiveStreamError(o,m);if(!this.isStartingStreamingTask)return;this.statusError.set(o,m)}case t_.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const m=new Oa(ea.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,h);return this.onLiveStreamWarning&&this.onLiveStreamWarning(o,m)}case t_.LIVE_STREAM_RESPONSE_WORKER_LOST:case t_.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var f;if(!this.connection)return;this.connection.tryNextAddress();const m=Array.from(zR(f=this.streamingTasks).call(f));for(const v of m)v.abortTask?v.abortTask():($.warning("[".concat(this.spec.clientId,"] publish stream status code"),r.code,"try to republish",v.url),this.startLiveStreamingTask(v.url,v.mode,new Oa(ea.LIVE_STREAMING_INTERNAL_SERVER_ERROR,"",{code:r.code})).then(()=>{$.debug("[".concat(this.spec.clientId,"] republish live stream success"),v.url)}).catch(R=>{$.error(R.toString()),this.onLiveStreamError&&this.onLiveStreamError(v.url,R)}));return}}}handleInjectStreamServerStatus(r){const o=Number(r.uid),u=r.serverStatus&&r.serverStatus.url;switch(r.code){case 200:return void(this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_START_SUCCESS,o,u));case 451:return this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_START_ALREADY_EXISTS,o,u),void this.streamingTasks.delete(u);case 453:return this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_START_UNAUTHORIZED,o,u),void this.streamingTasks.delete(u);case 470:return this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_BROKEN,o,u),void this.streamingTasks.delete(u);case 499:return this.onInjectStatusChange&&this.onInjectStatusChange(aT.INJECT_STREAM_STATUS_START_TIMEOUT,o,u),void this.streamingTasks.delete(u);default:return void $.debug("inject stream server status",r)}}hasUrl(r){return this.streamingTasks.has(r)}}class o3{constructor(){j(this,"destChannelMediaInfos",new Map),j(this,"srcChannelMediaInfo",void 0)}setSrcChannelInfo(r){jW(r),this.srcChannelMediaInfo=r}addDestChannelInfo(r){jW(r),this.destChannelMediaInfos.set(r.channelName,r)}removeDestChannelInfo(r){v8(r),this.destChannelMediaInfos.delete(r)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function vZ(A){if(!(A instanceof o3))return new Oa(ea.INVALID_PARAMS,"Config should be instance of [ChannelMediaRelayConfiguration]").throw();const r=A.getSrcChannelMediaInfo(),o=A.getDestChannelMediaInfo();if(!r)return new Oa(ea.INVALID_PARAMS,"srcChannelMediaInfo should not be empty").throw();if(o.size===0)return new Oa(ea.INVALID_PARAMS,"destChannelMediaInfo should not be empty").throw()}class Ege extends x0{constructor(r,o,u){super(),j(this,"ws",void 0),j(this,"requestId",1),j(this,"heartBeatTimer",void 0),j(this,"joinInfo",void 0),j(this,"clientId",void 0),j(this,"onOpen",()=>{this.emit("open"),this.startHeartBeatCheck()}),j(this,"onClose",h=>{this.emit("close"),this.dispose()}),j(this,"onMessage",h=>{const f=JSON.parse(h.data);if(!f||f.command!=="serverResponse"||!f.requestId)return f&&f.command==="serverStatus"&&f.serverStatus&&f.serverStatus.command?(this.emit("status",f.serverStatus),void this.emit(f.serverStatus.command,f.serverStatus)):void 0;this.emit("req_".concat(f.requestId),f)}),this.joinInfo=r,this.clientId=o,this.ws=new KO("cross-channel-".concat(this.clientId),u),this.ws.on(vQ.RECONNECTING,()=>{this.ws.reconnectMode="retry",this.emit("reconnecting")}),this.ws.on(vQ.CONNECTED,this.onOpen),this.ws.on(vQ.ON_MESSAGE,this.onMessage),this.ws.on(vQ.CLOSED,this.onClose)}isConnect(){return this.ws.state==="connected"}sendMessage(r){const o=this.requestId++;return r.requestId=o,r.seq=o,this.ws.sendMessage(r),o}waitStatus(r){return new lc((o,u)=>{const h=window.setTimeout(()=>{u(new Oa(ea.TIMEOUT,"wait status timeout, status: ".concat(r)))},5e3);this.once(r,f=>{window.clearTimeout(h),f.state&&f.state!==0?u(new Oa(ea.CROSS_CHANNEL_WAIT_STATUS_ERROR,"wait status error, status: ".concat(r))):o(void 0)}),this.once("dispose",()=>{window.clearTimeout(h),u(new Oa(ea.WS_ABORT))})})}async request(r){if(this.ws.state==="closed")throw new Oa(ea.WS_DISCONNECT);const o=()=>new lc((m,v)=>{this.ws.once(vQ.CLOSED,()=>v(new Oa(ea.WS_ABORT))),this.ws.once(vQ.CONNECTED,m)});this.ws.state!=="connected"&&await o();const u=this.sendMessage(r),h=new lc((m,v)=>{const R=()=>{v(new Oa(ea.WS_ABORT))};this.ws.once(vQ.RECONNECTING,R),this.ws.once(vQ.CLOSED,R),this.once("req_".concat(u),m),N_(3e3).then(()=>{this.removeAllListeners("req_".concat(u)),this.ws.off(vQ.RECONNECTING,R),this.ws.off(vQ.CLOSED,R),v(new Oa(ea.TIMEOUT,"cross channel ws request timeout"))})}),f=await h;if(!f||f.code!==200)throw new Oa(ea.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,"response: ".concat(JSON.stringify(f)));return f}async connect(r){this.ws.removeAllListeners(vQ.REQUEST_NEW_URLS),this.ws.on(vQ.REQUEST_NEW_URLS,o=>{o(r)}),await this.ws.init(r)}dispose(){this.clearHeartBeatCheck(),this.emit("dispose"),this.removeAllListeners(),this.ws.close()}sendPing(r){const o=this.requestId++;return r.requestId=o,this.ws.sendMessage(r),o}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval(()=>{this.sendPing({command:"ping",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})},3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class Ige extends x0{set state(r){r!==this._state&&(r!==fS.RELAY_STATE_FAILURE&&(this.errorCode=cT.RELAY_OK),this.emit("state",r,this.errorCode),this._state=r)}get state(){return this._state}constructor(r,o,u,h,f){super(),j(this,"joinInfo",void 0),j(this,"sid",void 0),j(this,"clientId",void 0),j(this,"cancelToken",RS.CancelToken.source()),j(this,"workerToken",void 0),j(this,"requestId",0),j(this,"signal",void 0),j(this,"prevChannelMediaConfig",void 0),j(this,"httpRetryConfig",void 0),j(this,"_resolution",void 0),j(this,"_state",fS.RELAY_STATE_IDLE),j(this,"errorCode",cT.RELAY_OK),j(this,"onStatus",m=>{$.debug("[".concat(this.clientId,"] ChannelMediaStatus: ").concat(JSON.stringify(m))),m&&m.command&&(m.command==="onAudioPacketReceived"&&this.emit("event",ZR.PACKET_RECEIVED_AUDIO_FROM_SRC),m.command==="onVideoPacketReceived"&&this.emit("event",ZR.PACKET_RECEIVED_VIDEO_FROM_SRC),m.command==="onSrcTokenPrivilegeDidExpire"&&(this.errorCode=cT.SRC_TOKEN_EXPIRED,this.state=fS.RELAY_STATE_FAILURE),m.command==="onDestTokenPrivilegeDidExpire"&&(this.errorCode=cT.DEST_TOKEN_EXPIRED,this.state=fS.RELAY_STATE_FAILURE))}),j(this,"onReconnect",async()=>{$.debug("[".concat(this.clientId,"] ChannelMediaSocket disconnect, reconnecting")),this.emit("event",ZR.NETWORK_DISCONNECTED),this.state=fS.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch(m=>{this.state!==fS.RELAY_STATE_IDLE&&($.error("auto restart channel media relay failed",m.toString()),this.errorCode=cT.SERVER_CONNECTION_LOST,this.state=fS.RELAY_STATE_FAILURE)})}),this.joinInfo=r,this.clientId=o,this.sid=Z6(),this.signal=new Ege(this.joinInfo,this.clientId,u),this.httpRetryConfig=h,this._resolution=f}async startChannelMediaRelay(r){if(this.state!==fS.RELAY_STATE_IDLE)throw new Oa(ea.INVALID_OPERATION);this.state=fS.RELAY_STATE_CONNECTING,await this.connect(),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: connect success"));try{await this.sendStartRelayMessage(r)}catch(o){throw o.data&&o.data.serverResponse&&o.data.serverResponse.command==="SetSourceChannel"?new Oa(ea.CROSS_CHANNEL_FAILED_JOIN_SRC):o.data&&o.data.serverResponse&&o.serverResponse.command==="SetDestChannelStatus"?new Oa(ea.CROSS_CHANNEL_FAILED_JOIN_DEST):o.data&&o.data.serverResponse&&o.serverResponse.command==="StartPacketTransfer"?new Oa(ea.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST):o}this.prevChannelMediaConfig=r}async updateChannelMediaRelay(r){if(this.state!==fS.RELAY_STATE_RUNNING)throw new Oa(ea.INVALID_OPERATION);await this.sendUpdateMessage(r),this.prevChannelMediaConfig=r}async setVideoProfile(r){if(this._resolution=r,this.state!==fS.RELAY_STATE_RUNNING)throw new Oa(ea.INVALID_OPERATION);const o=this.genMessage(oS.SetVideoProfile);await this.signal.request(o),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: setVideoProfile success"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),$.debug("[".concat(this.clientId,"] stopChannelMediaRelay: send stop message success")),this.state=fS.RELAY_STATE_IDLE,this.dispose()}dispose(){$.debug("[".concat(this.clientId,"] disposeChannelMediaRelay")),this.cancelToken.cancel(),this.cancelToken=RS.CancelToken.source(),this.state=fS.RELAY_STATE_IDLE,this.emit("dispose"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const r=await yce(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=r.workerToken,await this.signal.connect(r.addressList),this.emit("event",ZR.NETWORK_CONNECTED),this.signal.on("status",this.onStatus),this.signal.on("reconnecting",this.onReconnect)}async sendStartRelayMessage(r){const o=this.genMessage(oS.StopPacketTransfer);await this.signal.request(o),await this.signal.waitStatus("Normal Quit"),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: StopPacketTransfer success"));const u=this.genMessage(oS.SetSdkProfile,r);await this.signal.request(u),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSdkProfile success"));const h=this.genMessage(oS.SetSourceChannel,r);await this.signal.request(h),await this.signal.waitStatus("SetSourceChannelStatus"),this.emit("event",ZR.PACKET_JOINED_SRC_CHANNEL),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceChannel success"));const f=this.genMessage(oS.SetSourceUserId,r);await this.signal.request(f),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetSourceUserId success"));const m=this.genMessage(oS.SetDestChannel,r);await this.signal.request(m),await this.signal.waitStatus("SetDestChannelStatus"),this.emit("event",ZR.PACKET_JOINED_DEST_CHANNEL),$.debug("[".concat(this.clientId,"] startChannelMediaRelay: SetDestChannel success"));const v=this.genMessage(oS.StartPacketTransfer,r);await this.signal.request(v),this.emit("event",ZR.PACKET_SENT_TO_DEST_CHANNEL),this.state=fS.RELAY_STATE_RUNNING,$.debug("[".concat(this.clientId,"] startChannelMediaRelay: StartPacketTransfer success")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(r){const o=this.genMessage(oS.UpdateDestChannel,r);await this.signal.request(o),this.emit("event",ZR.PACKET_UPDATE_DEST_CHANNEL),$.debug("[".concat(this.clientId,"] sendUpdateMessage: UpdateDestChannel success"))}async sendStopRelayMessage(){const r=this.genMessage(oS.StopPacketTransfer);await this.signal.request(r),$.debug("[".concat(this.clientId,"] sendStopRelayMessage: StopPacketTransfer success"))}genMessage(r,o){const u=[],h=[],f=[];this.requestId+=1;const m={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:pR,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};m.sdkVersion==="4.20.0"&&(m.sdkVersion="0.0.1");let v=null,R=null;switch(r){case oS.SetSdkProfile:return m.clientRequest={command:"SetSdkProfile",type:"multi_channel"},m;case oS.SetSourceChannel:if(R=o&&o.getSrcChannelMediaInfo(),!R)throw new Oa(ea.UNEXPECTED_ERROR,"can not find source config");return m.clientRequest={command:"SetSourceChannel",uid:"0",channelName:R.channelName,token:R.token||this.joinInfo.appId},m;case oS.SetSourceUserId:if(R=o&&o.getSrcChannelMediaInfo(),!R)throw new Oa(ea.UNEXPECTED_ERROR,"can not find source config");return m.clientRequest={command:"SetSourceUserId",uid:R.uid+""},m;case oS.SetDestChannel:if(v=o&&o.getDestChannelMediaInfo(),!v)throw new Oa(ea.UNEXPECTED_ERROR,"can not find dest config");return v.forEach(D=>{u.push(D.channelName),h.push(D.uid+""),f.push(D.token||this.joinInfo.appId)}),m.clientRequest={command:"SetDestChannel",channelName:u,uid:h,token:f},m;case oS.StartPacketTransfer:return m.clientRequest={command:"StartPacketTransfer"},m;case oS.Reconnect:return m.clientRequest={command:"Reconnect"},m;case oS.StopPacketTransfer:return m.clientRequest={command:"StopPacketTransfer"},m;case oS.UpdateDestChannel:if(v=o&&o.getDestChannelMediaInfo(),!v)throw new Oa(ea.UNEXPECTED_ERROR,"can not find dest config");return v.forEach(D=>{u.push(D.channelName),h.push(D.uid+""),f.push(D.token||this.joinInfo.appId)}),m.clientRequest={command:"UpdateDestChannel",channelName:u,uid:h,token:f},m;case oS.SetVideoProfile:m.clientRequest={command:"SetVideoProfile",width:this._resolution.width,height:this._resolution.height}}return m}}function A3(A){var r={},o=!1;function u(h,f){return o=!0,{done:!1,value:new N4(f=new T4(function(m){m(A[h](f))}),1)}}return r[v1!==void 0&&qV||"@@iterator"]=function(){return this},r.next=function(h){return o?(o=!1,h):u("next",h)},typeof A.throw=="function"&&(r.throw=function(h){if(o)throw o=!1,h;return u("throw",h)}),typeof A.return=="function"&&(r.return=function(h){return o?(o=!1,h):u("return",h)}),r}var SZ=s(zX);function RZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function wZ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?RZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):RZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function bZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function DZ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?bZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):bZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class L_ extends SP{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map(r=>r.rtpMap&&r.rtpMap.encodingName.toLowerCase()||"").filter(r=>{var o;return AQ(o=Object.keys(AT)).call(o,r)}))]}constructor(r,o){super(r,o),j(this,"store",void 0),j(this,"peerConnection",void 0),j(this,"remoteSDP",void 0),j(this,"initialOffer",void 0),j(this,"statsFilter",void 0),j(this,"useRTX",!1),j(this,"localCapabilities",void 0),j(this,"localCandidateCount",0),j(this,"allCandidatesReceived",!1),j(this,"establishPromise",void 0),j(this,"mutex",new T_("P2PConnection-mutex")),this.store=o,this.peerConnection=new RTCPeerConnection(L_.resolvePCConfiguration(r),{optional:[{googDscp:!0}]}),this.statsFilter=t3(this.peerConnection,la("STATS_UPDATE_INTERVAL"),void 0,Q0()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const r=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!r.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const o=_w(r.sdp),u=sU(r.sdp,{filterRTX:!this.useRTX,filterVideoFec:la("FILTER_VIDEO_FEC"),filterAudioFec:la("FILTER_AUDIO_FEC"),filterAudioCodec:["opus"]});return this.localCapabilities=u,this.initialOffer=r,DZ(DZ({},o),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:u},offerSDP:r.sdp})}catch(r){throw new _g(ea.GET_LOCAL_CONNECTION_PARAMS_FAILED,r.toString())}}async connect(r,o,u,h,f,m){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{constructor(R){j(this,"sessionDesc",void 0),j(this,"localCapabilities",void 0),j(this,"rtpCapabilities",void 0),j(this,"candidates",void 0),j(this,"iceParameters",void 0),j(this,"dtlsParameters",void 0),j(this,"setup",void 0),j(this,"currentMidIndex",void 0),j(this,"cname",void 0),R=S0(R);const{remoteIceParameters:D,remoteDtlsParameters:k,candidates:L,remoteRTPCapabilities:q,remoteSetup:z,localCapabilities:_s,sdkCodec:_n,cname:_i}=R,Aa=U0.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE audio video
a=msid-semantic: WMS
a=ice-lite
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:audio
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendrecv
a=rtcp-mux
a=rtcp-rsize
a=mid:video
`);this.rtpCapabilities=q,this.candidates=L,this.iceParameters=D,this.dtlsParameters=k,this.setup=z,this.localCapabilities=_s,this.cname=_i;for(let Ea=0;Ea<Aa.mediaDescriptions.length;Ea++){const Qa=Aa.mediaDescriptions[Ea];if(Qa.attributes.iceUfrag=D.iceUfrag,Qa.attributes.icePwd=D.icePwd,Qa.attributes.fingerprints=k.fingerprints,Qa.attributes.candidates=L,Qa.attributes.setup=z,Qa.media.mediaType==="video"){Qa.media.fmts=q.videoCodecs.map(Fa=>Fa.payloadType.toString(10));let Vc=q.videoCodecs.filter(Fa=>{var Va,_c;return(Va=Fa.rtpMap)===null||Va===void 0?void 0:AQ(_c=Va.encodingName.toLowerCase()).call(_c,_n)});Vc.length===0&&(Vc=q.videoCodecs),Qa.attributes.payloads=Vc,Qa.attributes.extmaps=q.videoExtensions}Qa.media.mediaType==="audio"&&(Qa.media.fmts=q.audioCodecs.map(Vc=>Vc.payloadType.toString(10)),Qa.attributes.payloads=q.audioCodecs,Qa.attributes.extmaps=q.audioExtensions),Aa.mediaDescriptions[Ea]=this.mungMediaDesc(Qa)}this.sessionDesc=Aa,this.currentMidIndex=Aa.mediaDescriptions.length-1}toString(){return U0.print(this.sessionDesc)}send(R,D,k){const{ssrcs:L,ssrcGroups:q}=TS(D,this.cname),z=this.sessionDesc.mediaDescriptions.find(_i=>R===sQ.VIDEO?_i.media.mediaType==="video":_i.media.mediaType==="audio"),_s=L[0].attributes.label,_n=L[0].attributes.mslabel;return z.attributes.ssrcs=z.attributes.ssrcs.concat(L),z.attributes.ssrcGroups=z.attributes.ssrcGroups.concat(q),{id:_s,mslabel:_n}}batchSend(R){return R.map(D=>{let{kind:k,ssrcMsg:L}=D;return this.send(k,L,void 0)})}stopSending(R){this.sessionDesc.mediaDescriptions.forEach(D=>{const k=[],L=[],q=[];D.attributes.ssrcs.forEach(z=>{AQ(R).call(R,z.attributes.label||"")?q.push(z):k.push(z)}),D.attributes.ssrcGroups.forEach(z=>{var _s;AQ(_s=q.map(_n=>_n.ssrcId)).call(_s,z.ssrcIds[0])||L.push(z)}),D.attributes.ssrcs=k,D.attributes.ssrcGroups=L})}mute(R){const D=this.sessionDesc.mediaDescriptions.find(k=>k.attributes.mid===R);if(!D)throw new Error("mediaDescription not found with ".concat(R," in remote SDP when calling RemoteSDP.mute."));D.attributes.direction="inactive"}unmute(R){const D=this.sessionDesc.mediaDescriptions.find(k=>k.attributes.mid===R);if(!D)throw new Error("mediaDescription not found with ".concat(R," in remote SDP when calling RemoteSDP.unmute."));D.attributes.direction="sendonly"}receive(R,D,k){R.forEach((L,q)=>{const z=L._mediaStreamTrack,_s=this.sessionDesc.mediaDescriptions.findIndex(_i=>_i.attributes.mid===z.kind),_n=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[_s],L);this.sessionDesc.mediaDescriptions[_s]=_n})}stopReceiving(R){}updateCandidates(R){R===X_.TCP?this.candidates.forEach(D=>{this.candidates.findIndex(k=>k.transport==="tcp"&&k.connectionAddress===D.connectionAddress&&k.port===D.port)===-1&&this.candidates.push(wZ(wZ({},D),{},{foundation:"tcpcandidate",priority:Number(D.priority)-1+"",transport:"tcp",port:Number(D.port)+90+""}))}):this.candidates=this.candidates.filter(D=>D.transport!=="tcp");for(const D of this.sessionDesc.mediaDescriptions)D.attributes.candidates=this.candidates}restartICE(R){R=S0(R),this.iceParameters=R,this.sessionDesc.mediaDescriptions.forEach(D=>{D.attributes.iceUfrag=R.iceUfrag,D.attributes.icePwd=R.icePwd})}predictReceivingMids(R){const D=[];for(let k=0;k<R;k++)D.push((this.currentMidIndex+k+1).toString(10));return D}mungRecvMediaDsec(R,D){const k=S0(R);return mT(k,D),r3(k,D),k}updateRecvMedia(R,D){const k=this.sessionDesc.mediaDescriptions.findIndex(L=>L.attributes.mid===R);if(k!==-1){const L=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[k],D);this.sessionDesc.mediaDescriptions[k]=L}}bumpMid(R){this.currentMidIndex+=R}updateTrackLabel(R,D,k){const L=this.sessionDesc.mediaDescriptions.find(z=>R===sQ.VIDEO?z.attributes.mid==="video":z.attributes.mid==="audio");if(L){const z=L.attributes.ssrcs.find(_s=>_s.attributes.label===D);var q;z&&(z.attributes.label=k,(q=z.attributes.msid)===null||q===void 0||q.replace(D,k))}}mungMediaDesc(R){const D=S0(R);return n3(D),function(k){const L=k.attributes.extmaps.find(q=>q.extensionName==="http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01");L&&k.attributes.extmaps.splice(k.attributes.extmaps.indexOf(L),1),k.attributes.payloads.forEach(q=>{const z=q.rtcpFeedbacks.findIndex(_s=>_s.type==="transport-cc");z!==-1&&q.rtcpFeedbacks.splice(z,1)})}(D),D}getSSRC(R){for(const D of this.sessionDesc.mediaDescriptions)for(const k of D.attributes.ssrcs)if(k.attributes.label===R)return[k]}}({remoteIceParameters:r,remoteDtlsParameters:o,candidates:u,remoteRTPCapabilities:h.send,remoteSetup:f,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec,cname:m});const v=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:"answer",sdp:v})}catch(v){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(v.toString()))}}async updateRemoteRTPCapabilities(r,o){throw new _g(ea.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}send(r,o){var u=this;return jS(function*(){const h=yield KQ(u.mutex.lock());try{if(!u.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const f=r.map(q=>u.peerConnection.addTrack(q._mediaStreamTrack)),m=yield KQ(u.peerConnection.createOffer()),v=U0.parse(m.sdp),R=r.map(q=>{const z=q._mediaStreamTrack,_s=v.mediaDescriptions.find(_n=>_n.attributes.mid===z.kind);if(!_s)throw new Error("Cannot extract ssrc from mediaDescription.");return function(_n,_i,Aa){const Ea=_n.attributes.ssrcs.filter(Vc=>Vc.attributes.label===_i),Qa=_n.attributes.ssrcGroups;if(Ea.length===0)throw new Error("Cannot extract ssrc from plan-b SDP.");if(Qa&&Ea.length>1){const Vc=Qa.find(Fa=>Fa.ssrcIds.indexOf(Ea[0].ssrcId)!==-1);return Vc?[{ssrcId:Vc.ssrcIds[0],rtx:Aa?Vc.ssrcIds[1]:void 0}]:[{ssrcId:Ea[0].ssrcId}]}return[{ssrcId:Ea[0].ssrcId}]}(_s,z.id,u.useRTX)});let D;try{D=yield R}catch(q){throw f.forEach(z=>{uS()&&z.replaceTrack(null),u.peerConnection.removeTrack(z)}),q}const k=u.mungSendOfferSDP(m.sdp,r);u.remoteSDP.receive(r,o,D);const L=u.remoteSDP.toString();return yield KQ(u.peerConnection.setLocalDescription({type:"offer",sdp:k})),yield KQ(u.applySendEncodings(f,r)),yield KQ(u.peerConnection.setRemoteDescription({type:"answer",sdp:L})),r.map((q,z)=>{const _s=q._mediaStreamTrack.id;return{localSSRC:R[z],id:_s}})}catch(f){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(f.toString()))}finally{h()}})()}async stopSending(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const o=this.peerConnection.getSenders().filter(f=>{var m;return r.indexOf(((m=f.track)===null||m===void 0?void 0:m.id)||"")!==-1});if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");o.map(f=>{uS()&&f.replaceTrack(null),this.peerConnection.removeTrack(f)});const u=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(u),this.remoteSDP.stopReceiving(r);const h=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:h})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(o.toString()))}}async receive(r,o,u,h){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(r," before remoteSDP created."));const{id:f,mslabel:m}=this.remoteSDP.send(r,o,h),v=new lc((k,L)=>{const q=setTimeout(()=>{L(new Error("Cannot receive track, id: ".concat(f)))},1e4),z=_s=>{const _n=o0();if((_n.name==="Safari"&&Number(_n.version)===11||gS())&&_s.track.id!==f&&_s.streams[0].id===m){var _i;const Aa=_s.streams[0].getTracks()[0];return(_i=this.remoteSDP)===null||_i===void 0||_i.updateTrackLabel(r,f,_s.track.id),this.peerConnection.removeEventListener("track",z),clearTimeout(q),void k(Aa)}if(_s.track.id===f)return this.peerConnection.removeEventListener("track",z),clearTimeout(q),void k(_s.track)};this.peerConnection.addEventListener("track",z)}),R=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:R});const D=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(D),{track:await v,id:f}}catch(f){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(f.toString()))}}async stopReceiving(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(r);const o=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const u=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(u)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async muteRemote(r){}async unmuteRemote(r){}async muteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getSenders().filter(u=>{var h;return r.indexOf(((h=u.track)===null||h===void 0?void 0:h.id)||"")!==-1});if(o.length!==r.length)throw new Error("sender' length doesn't match mids' length.");o.map(u=>{if(uS()&&u.track)u.track.enabled=!1;else{const h=u.getParameters();h.encodings.forEach(f=>f.active=!1),u.setParameters(h)}})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getSenders().filter(f=>{var m;return r.indexOf(((m=f.track)===null||m===void 0?void 0:m.id)||"")!==-1});if(o.length!==r.length)throw new Error("Senders' length doesn't match mids' length.");o.map(async f=>{if(uS()&&f.track)f.track.enabled=!0;else{const m=f.getParameters();m.encodings.forEach(v=>v.active=!0),await f.setParameters(m)}});const u=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(u);const h=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"answer",sdp:h})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}restartICE(r){var o=this;return jS(function*(){const u=yield KQ(o.mutex.lock("From P2PConnection.restartICE"));try{if(!o.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(f0().supportPCSetConfiguration){const R=o.peerConnection.getConfiguration(),D=r===X_.RELAY?"relay":"all";R.iceTransportPolicy!==D&&($.debug("[".concat(o.store.clientId,"] restartICE change iceTransportPolicy from [").concat(R.iceTransportPolicy,"] to [").concat(D,"]")),R.iceTransportPolicy=D,o.peerConnection.setConfiguration(R))}else if(r===X_.RELAY)return;r!==X_.RELAY&&o.remoteSDP.updateCandidates(r);const h=yield KQ(o.peerConnection.createOffer({iceRestart:!0}));if(!h.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const f=_w(h.sdp),{remoteIceParameters:m}=yield f.iceParameters;o.remoteSDP.restartICE(m);const v=o.remoteSDP.toString();yield KQ(o.peerConnection.setLocalDescription(h)),yield KQ(o.peerConnection.setRemoteDescription({type:"answer",sdp:v}))}catch(h){$.warning("[".concat(o.store.clientId,"] restart ICE failed, abort operation"),h)}finally{u()}})()}close(){var r;this.peerConnection.close(),(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(r){return this.statsFilter.getVideoIsReady(r)}async updateEncoderConfig(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const u=await this.peerConnection.createOffer(),h=this.mungSendOfferSDP(u.sdp,[o]);this.remoteSDP.updateRecvMedia(o._mediaStreamTrack.kind,o);const f=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:"offer",sdp:h}),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(u){throw new _g(ea.EXCHANGE_SDP_FAILED,u.toString())}}async updateSendParameters(r,o){const u=this.peerConnection.getSenders().filter(h=>{var f;return((f=h.track)===null||f===void 0?void 0:f.id)===r});u.length===1&&await this.applySendEncodings(u,[o])}setStatsRemoteVideoIsReady(r,o){this.statsFilter.setVideoIsReady2(r,o)}async replaceTrack(r,o){const u=this.peerConnection.getSenders().find(h=>{var f;return((f=h.track)===null||f===void 0?void 0:f.id)===o});u&&await u.replaceTrack(r._mediaStreamTrack)}createDataChannels(r,o){throw new _g(ea.NOT_SUPPORTED,"Planb mode does not support createDataChannels.")}stopDataChannels(r){throw new _g(ea.NOT_SUPPORTED,"Planb mode does not support stopDataChannels.")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var r;(r=this.onICEConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var r;(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=r=>{r.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,$.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,$.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},la("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(r){const o={iceServers:[],sdpSemantics:"plan-b"};return r.iceServers?o.iceServers=r.iceServers:r.turnServer&&r.turnServer.mode!=="off"&&(O1(r.turnServer.servers)?o.iceServers=r.turnServer.servers:(o.iceServers&&o.iceServers.push(...L_.turnServerConfigToIceServers(r.turnServer.servers)),la("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&r.turnServer.serversFromGateway&&o.iceServers.push(...L_.turnServerConfigToIceServers(r.turnServer.serversFromGateway)),r.turnServer.servers.concat(r.turnServer.serversFromGateway||[]).forEach(u=>{u.forceturn&&(o.iceTransportPolicy="relay")}))),o}static turnServerConfigToIceServers(r){const o=[];return r.forEach(u=>{u.security?u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turns:".concat(u.turnServerURL,":").concat(u.tcpport,"?transport=tcp")}):(u.udpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.udpport,"?transport=udp")}),u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.tcpport,"?transport=tcp")}))}),o}async updateRtpSenderEncodings(r,o){var u;if(o||(o=this.peerConnection.getSenders().find(D=>{var k;return((k=D.track)===null||k===void 0?void 0:k.id)===r._mediaStreamTrack.id})),!o)return $.warn("[".concat(r.getTrackId(),"] no rtpSender found}"));if(!f0().supportSetRtpSenderParameters)return $.warn("Browser not support set rtp-sender parameters");const h={},f={};if(r instanceof HQ)switch(r._optimizationMode){case"motion":h.degradationPreference="maintain-framerate";break;case"detail":h.degradationPreference="maintain-resolution";break;default:h.degradationPreference="balanced"}if(la("DSCP_TYPE")&&nT()){var m;const D=la("DSCP_TYPE");AQ(m=["very-low","low","medium","high"]).call(m,D)&&(f.networkPriority=D)}const v=o.getParameters(),R=(u=v.encodings)===null||u===void 0?void 0:u[0];R&&Object.assign(R,f),Object.assign(v,h),$.debug("[".concat(r.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(v.encodings))),await o.setParameters(v)}async applySendEncodings(r,o){try{if(!f0().supportSetRtpSenderParameters||r.length!==o.length)return;for(let u=0;u<r.length;u++){const h=r[u],f=o[u];h&&f&&await this.updateRtpSenderEncodings(f,h)}}catch{$.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(r,o){const u=U0.parse(r);return o.forEach((h,f)=>{const m=h._mediaStreamTrack,v=u.mediaDescriptions.find(R=>R.attributes.mid===m.kind);v&&mT(v,h)}),U0.print(u)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=r=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoReceived=r=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstAudioDecoded=r=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoDecoded=(r,o,u)=>{var h;(h=this.onFirstVideoDecoded)===null||h===void 0||h.call(this,r,o,u)},this.statsFilter.onSelectedLocalCandidateChanged=(r,o)=>{var u;(u=this.onSelectedLocalCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(r,o)=>{var u;(u=this.onSelectedRemoteCandidateChanged)===null||u===void 0||u.call(this,r,o)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const o=this.remoteSDP.batchSend(r).map((f,m)=>{let{id:v,mslabel:R}=f;const{kind:D}=r[m];return new lc((k,L)=>{const q=setTimeout(()=>{L(new Error("Cannot receive track, id: ".concat(v)))},1e4),z=_s=>{const _n=o0();if(_n.name==="Safari"&&Number(_n.version)===11&&_s.track.id!==v&&_s.streams[0].id===R){var _i;const Aa=_s.streams[0].getTracks()[0];return(_i=this.remoteSDP)===null||_i===void 0||_i.updateTrackLabel(D,v,_s.track.id),this.peerConnection.removeEventListener("track",z),clearTimeout(q),void k({track:Aa,id:v})}if(_s.track.id===v)return this.peerConnection.removeEventListener("track",z),clearTimeout(q),void k({track:_s.track,id:v})};this.peerConnection.addEventListener("track",z)})}),u=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:u});const h=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(h),await lc.all(o)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async getRemoteSSRC(r){if(!this.remoteSDP)return;const o=this.remoteSDP.getSSRC(r);return o==null?void 0:o[0].ssrcId}setConfiguration(r){if(f0().supportPCSetConfiguration){const o=L_.resolvePCConfiguration(r);this.peerConnection.setConfiguration(o)}}}function SR(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("Locking from P2PConnection.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function NZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function vT(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?NZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):NZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}td([SR,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],L_.prototype,"connect",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],L_.prototype,"stopSending",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,Object]),_o("design:returntype",lc)],L_.prototype,"receive",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],L_.prototype,"stopReceiving",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],L_.prototype,"muteRemote",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],L_.prototype,"unmuteRemote",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],L_.prototype,"muteLocal",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],L_.prototype,"unmuteLocal",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],L_.prototype,"close",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],L_.prototype,"updateEncoderConfig",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],L_.prototype,"updateSendParameters",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[z_,String]),_o("design:returntype",lc)],L_.prototype,"replaceTrack",null),td([SR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],L_.prototype,"getRemoteSSRC",null);const lU="9",TZ=4e4;function kZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function AO(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?kZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):kZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class W0 extends SP{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var r,o;return(r=(o=this.peerConnection.getReceivers()[0])===null||o===void 0||(o=o.transport)===null||o===void 0?void 0:o.state)!==null&&r!==void 0?r:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map(r=>r.rtpMap&&r.rtpMap.encodingName.toLowerCase()||"").filter(r=>{var o;return AQ(o=Object.keys(AT)).call(o,r)}))]}constructor(r,o){super(r,o),j(this,"store",void 0),j(this,"peerConnection",void 0),j(this,"remoteSDP",void 0),j(this,"initialOffer",void 0),j(this,"transportEventReceiver",void 0),j(this,"statsFilter",void 0),j(this,"useXR",la("USE_XR")),j(this,"localCapabilities",void 0),j(this,"remoteCodecs",void 0),j(this,"localCandidateCount",0),j(this,"allCandidatesReceived",!1),j(this,"dataStreamChannelMap",new Map),j(this,"establishPromise",void 0),j(this,"mutex",new T_("P2PConnection-mutex")),this.store=o,this.peerConnection=new RTCPeerConnection(W0.resolvePCConfiguration(r),{optional:[{googDscp:!0}]}),this.statsFilter=t3(this.peerConnection,la("STATS_UPDATE_INTERVAL"),void 0,Q0()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async updateRemoteRTPCapabilities(r,o){if(this.remoteCodecs=o,!this.remoteSDP)return void $.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(o));if(this.remoteSDP.updateRemoteCodec(r,o,this.store.codec)){const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(u);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}else $.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.")}async establish(){try{this.peerConnection.addTransceiver("video",{direction:"recvonly"}),this.peerConnection.addTransceiver("audio",{direction:"recvonly"});const r=await this.peerConnection.createOffer();if(!r.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const o=_w(r.sdp),u=await G4({filterRTX:!la("USE_PUB_RTX")&&!la("USE_SUB_RTX"),filterVideoFec:la("FILTER_VIDEO_FEC"),filterAudioFec:la("FILTER_AUDIO_FEC"),filterVideoCodec:la("FILTER_VIDEO_CODEC")},{useXR:this.useXR});return this.localCapabilities=iO(u),this.initialOffer=r,AO(AO({},o),{},{rtpCapabilities:u,offerSDP:r.sdp})}catch(r){throw new _g(ea.GET_LOCAL_CONNECTION_PARAMS_FAILED,r.toString())}}async connect(r,o,u,h,f,m){try{if(!this.initialOffer)throw new Error("Cannot establish P2PConnection without initial offer.");this.remoteSDP=new class{get localCapabilities(){return S0(this._localCapabilities)}get rtpCapabilities(){return S0(this._rtpCapabilities)}get candidates(){return S0(this._candidates)}get iceParameters(){return S0(this._iceParameters)}get dtlsParameters(){return S0(this._dtlsParameters)}constructor(z){j(this,"sessionDesc",void 0),j(this,"_localCapabilities",void 0),j(this,"_rtpCapabilities",void 0),j(this,"_candidates",void 0),j(this,"_iceParameters",void 0),j(this,"_dtlsParameters",void 0),j(this,"setup",void 0),j(this,"currentMidIndex",void 0),j(this,"cname",void 0),j(this,"firefoxSsrcMidMap",new Map),z=S0(z);const{remoteIceParameters:_s,remoteDtlsParameters:_n,candidates:_i,remoteRTPCapabilities:Aa,remoteSetup:Ea,localCapabilities:Qa,cname:Vc}=z,Fa=U0.parse(`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0 1
a=msid-semantic: WMS
a=ice-lite
m=video 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:0
m=audio 9 UDP/TLS/RTP/SAVPF 0
c=IN IP4 127.0.0.1
a=rtcp:9 IN IP4 0.0.0.0
a=sendonly
a=rtcp-mux
a=rtcp-rsize
a=mid:1
`);this._rtpCapabilities=Aa,this._candidates=_i,this._iceParameters=_s,this._dtlsParameters=_n,this._localCapabilities=Qa,this.setup=Ea,this.cname=Vc;const Va=this.rtpCapabilities.send;for(const _c of Fa.mediaDescriptions){if(_c.attributes.iceUfrag=_s.iceUfrag,_c.attributes.icePwd=_s.icePwd,_c.attributes.fingerprints=_n.fingerprints,_c.attributes.candidates=_i,_c.attributes.setup=Ea,_c.media.mediaType==="video"&&(_c.media.fmts=Va.videoCodecs.map(ec=>ec.payloadType.toString(10)),_c.attributes.payloads=Va.videoCodecs,_c.attributes.extmaps=Va.videoExtensions,la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:ec,ssrcGroups:kd}=TS([{ssrcId:TZ,rtx:la("USE_SUB_RTX")?40001:void 0}],this.cname);_c.attributes.ssrcs=ec,_c.attributes.ssrcGroups=kd}if(_c.media.mediaType==="audio"&&(_c.media.fmts=Va.audioCodecs.map(ec=>ec.payloadType.toString(10)),_c.attributes.payloads=Va.audioCodecs,_c.attributes.extmaps=Va.audioExtensions,nb(_c),la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:ec,ssrcGroups:kd}=TS([{ssrcId:2e4}],this.cname);_c.attributes.ssrcs=ec,_c.attributes.ssrcGroups=kd}}this.sessionDesc=Fa,this.currentMidIndex=Fa.mediaDescriptions.length-1}preloadRemoteMedia(){const z=la("PRELOAD_MEDIA_COUNT");this.rtpCapabilities;const _s=this.candidates,_n=this.dtlsParameters,_i=this.iceParameters,Aa=this.rtpCapabilities.send;for(let Ea=1;Ea<z;Ea++){const Qa=2*Ea+2e4,Vc=2*Ea+TZ,{ssrcs:Fa,ssrcGroups:Va}=TS([{ssrcId:Qa}],this.cname),{ssrcs:_c,ssrcGroups:ec}=TS([{ssrcId:Vc,rtx:la("USE_SUB_RTX")?Vc+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:lU,protos:["UDP","TLS","RTP","SAVPF"],fmts:Aa.videoCodecs.map(kd=>kd.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:_i.iceUfrag,icePwd:_i.icePwd,unrecognized:[],candidates:_s,extmaps:Aa.videoExtensions,fingerprints:_n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:_c,ssrcGroups:ec,rtcpFeedbackWildcards:[],payloads:Aa.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*Ea)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:lU,protos:["UDP","TLS","RTP","SAVPF"],fmts:Aa.audioCodecs.map(kd=>kd.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:_i.iceUfrag,icePwd:_i.icePwd,unrecognized:[],candidates:_s,extmaps:Aa.audioExtensions,fingerprints:_n.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:Fa,ssrcGroups:Va,rtcpFeedbackWildcards:[],payloads:Aa.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*Ea+1)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return U0.print(this.sessionDesc)}send(z,_s,_n,_i){const{ssrcs:Aa,ssrcGroups:Ea}=TS(_s,this.cname,la("SYNC_GROUP")?_n:void 0),Qa=this.findPreloadMediaDesc(Aa);if(Qa){if(Q0()&&this.firefoxSsrcMidMap.set(Aa[0].ssrcId,Qa.attributes.mid),_i&&(_i.twcc||_i.remb)){const Vc=this.sessionDesc.mediaDescriptions.indexOf(Qa);return this.sessionDesc.mediaDescriptions[Vc]=this.mungSendMediaDesc(Qa,_i),{mid:Qa.attributes.mid,needExchangeSDP:!0}}return{mid:Qa.attributes.mid,needExchangeSDP:!1}}{const Vc=this.findAvailableMediaIndex(z,Aa);let Fa;return Vc===-1||Vc===1&&(uS()||E9())||Vc===0&&la("USE_SUB_RTX")||I9()?(Fa=this.createOrRecycleSendMedia(z,Aa,Ea,"sendonly",_i),this.updateBundleMids()):(Fa=S0(this.sessionDesc.mediaDescriptions[Vc]),Fa.attributes.direction="sendonly",Fa.attributes.ssrcs=Aa,Fa.attributes.ssrcGroups=Ea,this.sessionDesc.mediaDescriptions[Vc]=this.mungSendMediaDesc(Fa,_i)),Q0()&&this.firefoxSsrcMidMap.set(Aa[0].ssrcId,Fa.attributes.mid),{mid:Fa.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:z,needExchangeSDP:_s}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:z.attributes.mid,needExchangeSDP:_s}}batchSend(z){const _s=z.map(Aa=>{let{kind:Ea,ssrcMsg:Qa,mslabel:Vc}=Aa;return this.send(Ea,Qa,Vc)}),_n=[];let _i=!1;return _s.forEach(Aa=>{let{mid:Ea,needExchangeSDP:Qa}=Aa;Qa&&(_i=!0),_n.push(Ea)}),{mids:_n,needExchangeSDP:_i}}stopSending(z){const _s=this.sessionDesc.mediaDescriptions.filter(_n=>_n.attributes.mid&&z.indexOf(_n.attributes.mid)!==-1);if(_s.length!==z.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");_s.forEach(_n=>{_n.attributes.mid==="0"||Q0()||I9()?_n.attributes.ssrcs=[]:(_n.attributes.ssrcs=[],_n.attributes.direction="inactive",_n.media.port="0")}),this.updateBundleMids()}mute(z){const _s=this.sessionDesc.mediaDescriptions.find(_n=>_n.attributes.mid===z);if(!_s)throw new Error("mediaDescription not found with ".concat(z," in remote SDP when calling RemoteSDP.mute."));_s.attributes.direction="inactive"}unmute(z){const _s=this.sessionDesc.mediaDescriptions.find(_n=>_n.attributes.mid===z);if(!_s)throw new Error("mediaDescription not found with ".concat(z," in remote SDP when calling RemoteSDP.unmute."));_s.attributes.direction="sendonly"}muteRemote(z){const _s=this.sessionDesc.mediaDescriptions.filter(_n=>AQ(z).call(z,_n.attributes.mid||""));if(_s.length!==z.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");_s.forEach(_n=>{_n.attributes.direction="inactive"})}unmuteRemote(z){const _s=this.sessionDesc.mediaDescriptions.filter(_n=>AQ(z).call(z,_n.attributes.mid||""));if(_s.length!==z.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");_s.forEach(_n=>{_n.attributes.direction="recvonly"})}receive(z,_s,_n,_i){z.forEach((Aa,Ea)=>{this.createOrRecycleRecvMedia(Aa,[],"recvonly",_s,_n,_i[Ea])}),this.updateBundleMids()}stopReceiving(z){const _s=this.sessionDesc.mediaDescriptions.filter(_n=>z.indexOf(_n.attributes.mid)!==-1);if(_s.length!==z.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");_s.forEach(_n=>{_n.media.port="0",_n.attributes.direction="inactive"}),this.updateBundleMids()}updateCandidates(z){const _s=this._candidates.filter(_n=>_n.transport==="udp");if(z===X_.TCP){if(_s.length===0)return;if(la("TCP_CANDIDATE_ONLY")){const _n=this._candidates.filter(_i=>_i.transport==="tcp");_s.forEach(_i=>{_n.findIndex(Aa=>Aa.connectionAddress===_i.connectionAddress)===-1&&_n.push(vT(vT({},_i),{},{foundation:"tcpcandidate",priority:Number(_i.priority)-1+"",transport:"tcp",port:Number(_i.port)+90+""}))}),this._candidates=_n}else{const _n=[];_s.forEach(_i=>{_n.push(vT(vT({},_i),{},{foundation:"tcpcandidate",priority:Number(_i.priority)-1+"",transport:"tcp",port:Number(_i.port)+90+""}))}),this._candidates=[..._s,..._n]}}else if(z===X_.RELAY){if(_s.length!==0)return;{const _n=this._candidates.filter(_i=>_i.transport==="tcp");_n.forEach(_i=>{_s.push(vT(vT({},_i),{},{foundation:"udpcandidate",priority:Number(_i.priority)+1+"",transport:"udp",port:Number(_i.port)-90+""}))}),this._candidates=[..._s,..._n]}}else _s.length===0?(this._candidates.filter(_n=>_n.transport==="tcp").forEach(_n=>{_s.push(vT(vT({},_n),{},{foundation:"udpcandidate",priority:Number(_n.priority)+1+"",transport:"udp",port:Number(_n.port)-90+""}))}),this._candidates=_s):this._candidates=this._candidates.filter(_n=>_n.transport!=="tcp");for(const _n of this.sessionDesc.mediaDescriptions)_n.attributes.candidates=this.candidates}restartICE(z){z=S0(z),this._iceParameters=z,this.sessionDesc.mediaDescriptions.forEach(_s=>{_s.attributes.iceUfrag=z.iceUfrag,_s.attributes.icePwd=z.icePwd})}predictReceivingMids(z){const _s=[];for(let _n=0;_n<z;_n++)_s.push((this.currentMidIndex+_n+1).toString(10));return _s}findAvailableMediaIndex(z,_s){return this.sessionDesc.mediaDescriptions.findIndex(_n=>{const _i=_n.media.mediaType===z&&_n.media.port!=="0"&&(_n.attributes.direction==="sendonly"||_n.attributes.direction==="sendrecv")&&_n.attributes.ssrcs.length===0;if(Q0()){if(_i){const Aa=this.firefoxSsrcMidMap.get(_s[0].ssrcId);return!(Aa||_n.attributes.mid!=="0"&&_n.attributes.mid!=="1")||!(!Aa||Aa!==_n.attributes.mid)}return!1}return _i})}createOrRecycleDataChannel(){for(const _n of this.sessionDesc.mediaDescriptions)if(_n.media.mediaType==="application")return{mediaDesc:_n,needExchangeSDP:!1};this.currentMidIndex+=1;const z="".concat(this.currentMidIndex),_s={media:{mediaType:"application",port:lU,protos:["UDP","DTLS","SCTP"],fmts:["webrtc-datachannel"]},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,mid:"".concat(z),sctpPort:"5000"}};return this.sessionDesc.mediaDescriptions.push(_s),{mediaDesc:_s,needExchangeSDP:!0}}createOrRecycleRecvMedia(z,_s,_n,_i,Aa,Ea){const Qa=z._mediaStreamTrack.kind,Vc=this.rtpCapabilities.recv,Fa=a1(Qa,Vc,this.localCapabilities.send,Qa===sQ.VIDEO?_i:Aa),Va=Qa===sQ.VIDEO?Vc.videoExtensions:Vc.audioExtensions;this.currentMidIndex+=1;const _c="".concat(this.currentMidIndex);let ec={media:{mediaType:Qa,port:lU,protos:["UDP","TLS","RTP","SAVPF"],fmts:Fa.map(_h=>_h.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:Va,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:_s,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:Fa,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:_n,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(_c)}};ec=this.mungRecvMediaDsec(ec,z,Ea);const kd=this.findFirstClosedMedia(Qa);if(kd){const _h=this.sessionDesc.mediaDescriptions.indexOf(kd);this.sessionDesc.mediaDescriptions[_h]=ec}else this.sessionDesc.mediaDescriptions.push(ec);return ec}updateRemoteCodec(z,_s,_n){const _i=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(ec=>ec.rtpMap&&ec.rtpMap.encodingName.toLowerCase()||"").filter(ec=>{var kd;return AQ(kd=Object.keys(AT)).call(kd,ec)}))],Aa=new Set(_s);if(_i.every(ec=>Aa.has(ec)))return $.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(_s)),!1;const Ea=this._rtpCapabilities.recv.videoCodecs.filter(ec=>_s.some(kd=>{var _h;return AQ(_h=ec.rtpMap&&ec.rtpMap.encodingName.toLowerCase()||"").call(_h,kd)}));if(Ea.length===0)return $.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(_i," codecs: ").concat(_s)),!1;const Qa=[...new Set(Ea.map(ec=>ec.rtpMap&&ec.rtpMap.encodingName.toLowerCase()||""))];let Vc;if($.debug("updateRemoteCodec, from ".concat(_i," to ").concat(Qa)),z.length===0)Vc=this.sessionDesc.mediaDescriptions.filter(ec=>ec.media.mediaType==="video"&&ec.attributes.direction==="recvonly");else if(Vc=this.sessionDesc.mediaDescriptions.filter(ec=>ec.attributes.mid&&AQ(z).call(z,ec.attributes.mid)&&ec.attributes.direction==="recvonly"),Vc.length!==z.length)return $.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(z,", codecs: ").concat(_s)),!1;this._rtpCapabilities.recv.videoCodecs=Ea;const Fa=this.localCapabilities.send,Va=this.rtpCapabilities.recv,_c=a1(sQ.VIDEO,Va,Fa,_n);return Vc.forEach(ec=>{const kd=_c.map(_h=>_h.payloadType.toString(10));$.debug("updateRemoteCodec mid: ".concat(ec.attributes.mid,", from ").concat(ec.attributes.payloads," to ").concat(_c)),ec.attributes.payloads=_c,ec.media.fmts=kd}),!0}createOrRecycleSendMedia(z,_s,_n,_i,Aa){const Ea=this.rtpCapabilities.send,Qa=z===sQ.VIDEO?Ea.videoCodecs:Ea.audioCodecs,Vc=z===sQ.VIDEO?Ea.videoExtensions:Ea.audioExtensions;this.currentMidIndex+=1;const Fa="".concat(this.currentMidIndex);let Va={media:{mediaType:z,port:lU,protos:["UDP","TLS","RTP","SAVPF"],fmts:Qa.map(ec=>ec.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:Vc,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:_s,ssrcGroups:_n,rtcpFeedbackWildcards:[],payloads:Qa,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:_i,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(Fa)}};Va=this.mungSendMediaDesc(Va,Aa);const _c=this.findFirstClosedMedia(z);if(_c){const ec=this.sessionDesc.mediaDescriptions.indexOf(_c);this.sessionDesc.mediaDescriptions[ec]=Va}else this.sessionDesc.mediaDescriptions.push(Va);return Va}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(z=>z.media.port!=="0").map(z=>z.attributes.mid)}mungRecvMediaDsec(z,_s,_n){const _i=S0(z);return n3(_i),mT(_i,_s),r3(_i,_s),U4(_i),rO(_i,_n,this.localCapabilities.send),_i}mungSendMediaDesc(z,_s){const _n=S0(z);return rO(_n,_s,this.localCapabilities.recv),nb(_n),_n}updateRecvMedia(z,_s){const _n=this.sessionDesc.mediaDescriptions.findIndex(_i=>_i.attributes.mid===z);if(_n!==-1){const _i=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[_n],_s);this.sessionDesc.mediaDescriptions[_n]=_i}}bumpMid(z){this.currentMidIndex+=z}findFirstClosedMedia(z){return this.sessionDesc.mediaDescriptions.find(_s=>Q0()?_s.media.port==="0"&&_s.media.mediaType===z:_s.media.port==="0")}findPreloadMediaDesc(z){return this.sessionDesc.mediaDescriptions.find(_s=>{var _n;return((_n=_s.attributes)===null||_n===void 0||(_n=_n.ssrcs[0])===null||_n===void 0?void 0:_n.ssrcId)===z[0].ssrcId})}getSSRC(z){var _s;return(_s=this.sessionDesc.mediaDescriptions.find(_n=>_n.attributes.mid===z))===null||_s===void 0?void 0:_s.attributes.ssrcs}}({remoteIceParameters:r,remoteDtlsParameters:o,candidates:u,remoteRTPCapabilities:h,remoteSetup:f,localCapabilities:this.localCapabilities,cname:m}),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const v=this.remoteSDP.toString(),R=U0.parse(this.initialOffer.sdp),D=R.mediaDescriptions.find(z=>z.media.mediaType==="audio");D&&nb(D),this.useXR&&aU(R);const k=U0.print(R),L=this.logSDPExchange(k||"","offer","local","connect");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:"offer",sdp:k}),L==null||L(v),await this.peerConnection.setRemoteDescription({type:"answer",sdp:v});const q=this.peerConnection.getTransceivers()[0];if(q!=null&&q.receiver&&this.tryBindTransportEvents(q.receiver),la("PRELOAD_MEDIA_COUNT")>0){this.remoteSDP.preloadRemoteMedia();const z=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:z});const _s=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(_s)}}catch(v){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.connect failed; ".concat(v.toString()))}}send(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.mutex.lock("From P2PConnection.send"));try{if(!h.remoteSDP)throw new Error("Cannot call P2PConnection.send before remote SDP created");const m=[];r.forEach(_n=>{const _i=h.peerConnection.addTransceiver(_n._mediaStreamTrack,{direction:"sendonly"});m.push(_i),_n._updateRtpTransceiver(_i)}),Q0()&&la("SIMULCAST")===!0&&(yield KQ(h.applySimulcastForFirefox(m,r)));const v=yield KQ(h.peerConnection.createOffer()),R=h.remoteSDP.predictReceivingMids(r.length),D=h.mungSendOfferSDP(v.sdp,r,R),k=U0.parse(D),L=R.map(_n=>{const _i=k.mediaDescriptions.find(Aa=>Aa.attributes.mid===_n);if(!_i)throw new Error("Cannot extract ssrc from mediaDescription.");return x4(_i,la("USE_PUB_RTX"))});let q;try{q=yield L}catch(_n){q=[],h.remoteSDP.receive(r,o,u,q);const _i=h.remoteSDP.toString();throw yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:D})),yield KQ(h.peerConnection.setRemoteDescription({type:"answer",sdp:_i})),yield KQ(h.stopSending(R,!0)),_n}h.remoteSDP.receive(r,o,u,q);const z=h.remoteSDP.toString(),_s=h.logSDPExchange(D,"offer","local","send");return yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:D})),yield KQ(h.applySimulcastEncodings(m,r)),yield KQ(h.applySendEncodings(m,r)),_s==null||_s(z),yield KQ(h.peerConnection.setRemoteDescription({type:"answer",sdp:z})),m.map((_n,_i)=>{const Aa=R[_i];return{localSSRC:L[_i],id:Aa,transceiver:_n}})}catch(m){throw m instanceof _g?m:new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.send failed; ".concat(m.toString()))}finally{f()}})()}async createDataChannels(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.createDataChannels before remote SDP created");let u=this.dataStreamChannelMap.get(r);u&&u.readyState==="open"?$.debug("[P2PConnection] Channels are already available and can be reused directly."):(u=this.peerConnection.createDataChannel("datastream-channel",{ordered:!1,maxRetransmits:la("DATASTREAM_MAX_RETRANSMITS")}),u.binaryType="arraybuffer",this.dataStreamChannelMap.set(r,u)),o.forEach(f=>{f._updateOriginDataChannel(u)});const{needExchangeSDP:h}=this.remoteSDP.sendDataChannel();if(h){const f=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:f});const m=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(m),$.debug("[P2PConnection] createDataChannels by exchanging SDP.")}else $.debug("[P2PConnection] createDataChannels no need to exchange SDP.");return}catch(u){throw u instanceof _g?u:new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.createDataChannels failed; ".concat(u.toString()))}}async stopDataChannels(r){try{const o=this.dataStreamChannelMap.get(r);return o==null||o.close(),void this.dataStreamChannelMap.delete(r)}catch(o){throw o instanceof _g?o:new _g(ea.DATACHANNEL_FAILED,"P2PConnection.stopDataChannels failed; ".concat(o.toString()))}}async stopSending(r,o){const u=o?void 0:await this.mutex.lock("From P2PConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopSending before remote SDP created");const h=this.peerConnection.getTransceivers().filter(R=>r.indexOf(R.mid)!==-1);if(h.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.");h.map(R=>{var D;R.direction="inactive",(D=R.stop)===null||D===void 0||D.call(R)});const f=await this.peerConnection.createOffer(),m=this.logSDPExchange(f.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(f),this.remoteSDP.stopReceiving(r);const v=this.remoteSDP.toString();m==null||m(v),await this.peerConnection.setRemoteDescription({type:"answer",sdp:v})}catch(h){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.stopSending failed; ".concat(h.toString()))}finally{u&&u()}}async receive(r,o,u,h){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.receive ".concat(r," before remoteSDP created."));const{mid:f,needExchangeSDP:m}=this.remoteSDP.send(r,o,u,h);if(m){const R=this.remoteSDP.toString(),D=this.logSDPExchange(R,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:R});const k=await this.peerConnection.createAnswer(),L=this.mungReceiveAnswerSDP(k.sdp,f,r);D==null||D(L||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:L}),$.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," by exchanging SDP."))}else $.debug("[".concat(this.store.clientId,"] [P2PConnection] receive ").concat(r," no need to exchange SDP."));const v=this.peerConnection.getTransceivers().find(R=>R.mid===f);if(!v)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:v.receiver.track,id:f,transceiver:v}}catch(f){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(f.toString()))}}async batchReceive(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.batchReceive before remoteSDP created.");const{mids:o,needExchangeSDP:u}=this.remoteSDP.batchSend(r);if(u){const h=this.remoteSDP.toString(),f=this.logSDPExchange(h,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:h});const m=await this.peerConnection.createAnswer();f==null||f(m.sdp||""),await this.peerConnection.setLocalDescription(m),$.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive by exchanging SDP."))}else $.debug("[".concat(this.store.clientId,"] [P2PConnection] batchReceive no need to exchange SDP."));return o.map(h=>{const f=this.peerConnection.getTransceivers().find(m=>m.mid===h);if(!f)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:f.receiver.track,id:h,transceiver:f}})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection stopReceiving failed; ".concat(o.toString()))}}async muteRemote(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteRemote mid=".concat(r," before remote SDP created."));this.remoteSDP.mute(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.muteRemote failed; ".concat(o.toString()))}}async unmuteRemote(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteRemote mid=".concat(r," before remote SDP created."));this.remoteSDP.unmute(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteRemote failed; ".concat(o.toString()))}}async muteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(m=>{m.direction="inactive"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.muteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(async(m,v)=>{m.direction="sendonly"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.unmuteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new _g(ea.EXCHANGE_SDP_FAILED,"P2PConnection.unmuteLocal failed; ".concat(o.toString()))}}restartICE(r){var o=this;return jS(function*(){const u=yield KQ(o.mutex.lock("From P2PConnection.restartICE"));try{if(!o.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(f0().supportPCSetConfiguration){const D=o.peerConnection.getConfiguration(),k=r===X_.RELAY?"relay":"all";D.iceTransportPolicy!==k&&($.debug("[".concat(o.store.clientId,"] restartICE change iceTransportPolicy from [").concat(D.iceTransportPolicy,"] to [").concat(k,"]")),D.iceTransportPolicy=k,o.peerConnection.setConfiguration(D))}else if(r===X_.RELAY)return;o.remoteSDP.updateCandidates(r);const h=yield KQ(o.peerConnection.createOffer({iceRestart:!0}));if(!h.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const f=_w(h.sdp),{remoteIceParameters:m}=yield f.iceParameters;o.remoteSDP.restartICE(m);const v=o.remoteSDP.toString(),R=o.logSDPExchange(h.sdp||"","offer","local","restartICE");o.store.descriptionStart(),yield KQ(o.peerConnection.setLocalDescription(h)),R==null||R(v),yield KQ(o.peerConnection.setRemoteDescription({type:"answer",sdp:v}))}catch(h){$.warning("[".concat(o.store.clientId,"] restart ICE failed, abort operation"),h)}finally{u()}})()}close(){var r;this.peerConnection.close(),(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,"closed"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(r){return this.statsFilter.getVideoIsReady(r)}async updateEncoderConfig(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call P2PConnection.updateEncoderConfig before remote SDP created.");const u=await this.peerConnection.createOffer(),h=this.mungSendOfferSDP(u.sdp,[o],[r]);this.remoteSDP.updateRecvMedia(r,o);const f=this.remoteSDP.toString(),m=this.logSDPExchange(h,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:h}),m==null||m(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(u){throw new _g(ea.EXCHANGE_SDP_FAILED,u.toString())}}async updateSendParameters(r,o){const u=this.peerConnection.getTransceivers().filter(h=>h.mid===r);u.length===1&&(this.isVP8Simulcast(o)?Q0()||await this.applySimulcastEncodings(u,[o]):await this.applySendEncodings(u,[o]))}setStatsRemoteVideoIsReady(r,o){this.statsFilter.setVideoIsReady2(r,o)}async replaceTrack(r,o){const u=this.peerConnection.getTransceivers().find(h=>h.mid===o);u&&await u.sender.replaceTrack(r._mediaStreamTrack)}async getSelectedCandidatePair(){const r=this.peerConnection.getReceivers();if(r.length>0&&r[0].transport&&r[0].transport.iceTransport&&r[0].transport.iceTransport.getSelectedCandidatePair&&r[0].transport.iceTransport.getSelectedCandidatePair()){const o=r[0].transport.iceTransport,{local:u,remote:h}=o.getSelectedCandidatePair();return{local:AO(AO({},pN),{},{candidateType:u.type,protocol:u.protocol,address:u.address,port:u.port}),remote:AO(AO({},pN),{},{candidateType:h.type,protocol:h.protocol,address:h.address,port:h.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var r;(r=this.onICEConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var r;(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=r=>{r.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,$.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,$.debug("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},la("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(r){const o={iceServers:[]};return r.iceServers?o.iceServers=r.iceServers:r.turnServer&&r.turnServer.mode!=="off"&&(O1(r.turnServer.servers)?o.iceServers=r.turnServer.servers:(o.iceServers&&o.iceServers.push(...W0.turnServerConfigToIceServers(r.turnServer.servers)),la("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&r.turnServer.serversFromGateway&&o.iceServers.push(...W0.turnServerConfigToIceServers(r.turnServer.serversFromGateway)),la("FORCE_TURN_TCP")?o.iceTransportPolicy="relay":r.turnServer.servers.concat(r.turnServer.serversFromGateway||[]).forEach(u=>{u.forceturn&&(o.iceTransportPolicy="relay")}))),la("ENABLE_ENCODED_TRANSFORM")&&f0().supportWebRTCEncodedTransform&&(o.encodedInsertableStreams=!0),o}static turnServerConfigToIceServers(r){const o=[];return r.forEach(u=>{u.security?u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turns:".concat(lT(u.turnServerURL),":").concat(u.tcpport,"?transport=tcp")}):(u.udpport&&!la("FORCE_TURN_TCP")&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.udpport,"?transport=udp")}),u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.tcpport,"?transport=tcp")}))}),o}tryBindTransportEvents(r){const o=r.transport;if(o){this.transportEventReceiver=r,o.onstatechange=()=>{var h;o!=null&&o.state&&((h=this.onDTLSTransportStateChange)===null||h===void 0||h.call(this,o.state))},o.onerror=h=>{var f;(f=this.onDTLSTransportError)===null||f===void 0||f.call(this,"error"in h?h.error:h)};const u=o.iceTransport;u&&(u.onstatechange=()=>{const h=o==null?void 0:o.iceTransport.state;var f;h&&((f=this.onICETransportStateChange)===null||f===void 0||f.call(this,h))},u.getSelectedCandidatePair&&(u.onselectedcandidatepairchange=()=>{if(u.getSelectedCandidatePair()){const{local:h,remote:f}=u.getSelectedCandidatePair();$.info("[".concat(this.store.clientId,"] [pc-").concat(this.store.p2pId,"] selectedcandidatepairchange: local ").concat(JSON.stringify({candidateType:h.type,protocol:h.protocol}),", remote ").concat(JSON.stringify({candidateType:f.type,protocol:f.protocol,address:f.address,port:f.port})," )"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(r,o){var u;if(o||(o=this.peerConnection.getSenders().find(k=>k.track===r._mediaStreamTrack)),!o)return $.warn("[".concat(r.getTrackId(),"] no rtpSender found}"));if(this.isVP8Simulcast(r))return $.warn("[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings");if(!f0().supportSetRtpSenderParameters)return $.warn("[updateRtpSenderEncodings] Browser not support set rtp-sender parameters");const h={},f={};switch(r._optimizationMode){case"motion":h.degradationPreference="maintain-framerate";break;case"detail":h.degradationPreference="maintain-resolution";break;default:h.degradationPreference="balanced"}if(r._encoderConfig){var m;const{bitrateMax:k,frameRate:L,scaleResolutionDownBy:q}=r._encoderConfig;k&&(f.maxBitrate=1e3*k),(AQ(m=r._hints).call(m,R0.LOW_STREAM)||r.isUseScaleResolutionDownBy)&&(L&&(f.maxFramerate=iR(L)),q&&q>=1&&(f.scaleResolutionDownBy=q))}if(la("DSCP_TYPE")&&nT()){var v;const k=la("DSCP_TYPE");AQ(v=["very-low","low","medium","high"]).call(v,k)&&(f.networkPriority=k)}const R=o.getParameters(),D=(u=R.encodings)===null||u===void 0?void 0:u[0];Q0()&&!D&&(h.encodings=[f]),D&&Object.assign(D,f),Object.assign(R,h),$.debug("[".concat(r.getTrackId(),"] updateRtpSenderEncodings: ").concat(JSON.stringify(R.encodings))),await o.setParameters(R)}async applySendEncodings(r,o){try{if(!f0().supportSetRtpSenderParameters||r.length!==o.length)return;for(let u=0;u<r.length;u++){const h=r[u],f=o[u];f instanceof HQ&&!this.isVP8Simulcast(f)&&await this.updateRtpSenderEncodings(f,h.sender)}}catch{$.debug("[".concat(this.store.clientId,"] Apply RTPSendEncodings failed."))}}mungSendOfferSDP(r,o,u){const h=U0.parse(r);return o.forEach((f,m)=>{const v=u[m],R=h.mediaDescriptions.find(D=>D.attributes.mid===v);R&&(mT(R,f),P4(R,f,this.store.codec))}),U0.print(h)}mungReceiveAnswerSDP(r,o,u){const h=U0.parse(r),f=h.mediaDescriptions.find(m=>m.attributes.mid===o);return f&&(u===sQ.AUDIO&&f.media.mediaType==="audio"&&nb(f),this.useXR&&aU(h)),U0.print(h)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=r=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoReceived=r=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstAudioDecoded=r=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoDecoded=(r,o,u)=>{var h;(h=this.onFirstVideoDecoded)===null||h===void 0||h.call(this,r,o,u)},this.statsFilter.onSelectedLocalCandidateChanged=(r,o)=>{var u;(u=this.onSelectedLocalCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(r,o)=>{var u;(u=this.onSelectedRemoteCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onFirstVideoDecodedTimeout=r=>{var o;(o=this.onFirstVideoDecodedTimeout)===null||o===void 0||o.call(this,r)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(r,o){if(r.length===o.length)for(let R=0;R<r.length;R++){var u,h,f,m,v;const D=r[R],k=o[R];if(k instanceof HQ&&!AQ(u=k._hints).call(u,R0.LOW_STREAM)&&(h=k._encoderConfig)!==null&&h!==void 0&&h.bitrateMax&&((f=k._encoderConfig)===null||f===void 0?void 0:f.bitrateMax)>200&&(m=k._scalabilityMode)!==null&&m!==void 0&&m.numSpatialLayers&&((v=k._scalabilityMode)===null||v===void 0?void 0:v.numSpatialLayers)>1&&this.store.codec==="vp8"){const L={},q={high:1e3*(k._encoderConfig.bitrateMax-50),medium:5e4};L.encodings=[{rid:"m",active:!0,maxBitrate:q.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:q.high}];const z=D.sender.getParameters();await D.sender.setParameters(Object.assign(z,L))}}}async applySimulcastEncodings(r,o){if(!Q0()&&r.length===o.length)for(let u=0;u<r.length;u++){const h=o[u];if(h instanceof HQ&&this.isVP8Simulcast(h)){const f=r[u],m={},v={high:1e3*(h._encoderConfig.bitrateMax-50),medium:5e4};m.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:v.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:v.medium,scaleResolutionDownBy:4}];const R=f.sender.getParameters();await f.sender.setParameters(Object.assign(R,m))}}}isVP8Simulcast(r){var o,u,h,f,m;return!!(r instanceof HQ&&la("SIMULCAST")&&this.store.codec==="vp8"&&!AQ(o=r._hints).call(o,R0.LOW_STREAM)&&(u=r._encoderConfig)!==null&&u!==void 0&&u.bitrateMax&&((h=r._encoderConfig)===null||h===void 0?void 0:h.bitrateMax)>200&&(f=r._scalabilityMode)!==null&&f!==void 0&&f.numSpatialLayers&&((m=r._scalabilityMode)===null||m===void 0?void 0:m.numSpatialLayers)>1)}logSDPExchange(r,o,u,h){if(la("SDP_LOGGING"))return $.upload("[".concat(this.store.clientId,"] exchanging ").concat(u," ").concat(o," SDP during P2PConnection.").concat(h,`
`),r),o==="offer"?f=>{this.logSDPExchange(f,"answer",u==="local"?"remote":"local",h)}:void 0}async getRemoteSSRC(r){if(!this.remoteSDP)return;const o=this.remoteSDP.getSSRC(r);return o==null?void 0:o[0].ssrcId}setConfiguration(r){if(f0().supportPCSetConfiguration){const o=W0.resolvePCConfiguration(r);this.peerConnection.setConfiguration(o)}}}function HS(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("From P2PConnection.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function OZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function LZ(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?OZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):OZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}td([HS,_o("design:type",Function),_o("design:paramtypes",[Array,Array]),_o("design:returntype",lc)],W0.prototype,"updateRemoteRTPCapabilities",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],W0.prototype,"connect",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Object,Array]),_o("design:returntype",lc)],W0.prototype,"createDataChannels",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,Object]),_o("design:returntype",lc)],W0.prototype,"receive",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],W0.prototype,"batchReceive",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],W0.prototype,"stopReceiving",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],W0.prototype,"muteRemote",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],W0.prototype,"unmuteRemote",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],W0.prototype,"muteLocal",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],W0.prototype,"unmuteLocal",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],W0.prototype,"close",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],W0.prototype,"updateEncoderConfig",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],W0.prototype,"updateSendParameters",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[z_,String]),_o("design:returntype",lc)],W0.prototype,"replaceTrack",null),td([HS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],W0.prototype,"getRemoteSSRC",null);const MZ=`v=0
o=- 0 0 IN IP4 127.0.0.1
s=AgoraGateway
t=0 0
a=group:BUNDLE 0
a=msid-semantic: WMS
a=ice-lite
m=application 9 UDP/DTLS/SCTP webrtc-datachannel
c=IN IP4 127.0.0.1
a=mid:0
`,s3="9",H4=2e4,Y4=4e4;class Cge{get localCapabilities(){return S0(this._localCapabilities)}get rtpCapabilities(){return S0(this._rtpCapabilities)}get candidates(){return S0(this._candidates)}get iceParameters(){return S0(this._iceParameters)}get dtlsParameters(){return S0(this._dtlsParameters)}constructor(r){j(this,"sessionDesc",void 0),j(this,"_localCapabilities",void 0),j(this,"_rtpCapabilities",void 0),j(this,"_candidates",void 0),j(this,"_iceParameters",void 0),j(this,"_dtlsParameters",void 0),j(this,"setup",void 0),j(this,"currentMidIndex",void 0),j(this,"cname",void 0),j(this,"firefoxSsrcMidMap",new Map),r=S0(r);const{remoteIceParameters:o,remoteDtlsParameters:u,candidates:h,remoteRTPCapabilities:f,remoteSetup:m,localCapabilities:v,cname:R}=r,D=U0.parse(MZ);this._rtpCapabilities=f,this._candidates=h,this._iceParameters=o,this._dtlsParameters=u,this._localCapabilities=v,this.setup=m,this.cname=R;const k=this.rtpCapabilities.send;for(const L of D.mediaDescriptions){if(L.attributes.iceUfrag=o.iceUfrag,L.attributes.icePwd=o.icePwd,L.attributes.fingerprints=u.fingerprints,L.attributes.candidates=h,L.attributes.setup=m,L.media.mediaType==="application"&&(L.attributes.sctpPort="5000"),L.media.mediaType==="video"&&(L.media.fmts=k.videoCodecs.map(q=>q.payloadType.toString(10)),L.attributes.payloads=k.videoCodecs,L.attributes.extmaps=k.videoExtensions,la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:q,ssrcGroups:z}=TS([{ssrcId:Y4,rtx:la("USE_SUB_RTX")?40001:void 0}],this.cname);L.attributes.ssrcs=q,L.attributes.ssrcGroups=z}if(L.media.mediaType==="audio"&&(L.media.fmts=k.audioCodecs.map(q=>q.payloadType.toString(10)),L.attributes.payloads=k.audioCodecs,L.attributes.extmaps=k.audioExtensions,nb(L),la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:q,ssrcGroups:z}=TS([{ssrcId:H4}],this.cname);L.attributes.ssrcs=q,L.attributes.ssrcGroups=z}}this.sessionDesc=D,this.currentMidIndex=D.mediaDescriptions.length-1}updateRemoteRTPCapabilities(r){const o=U0.parse(MZ);this._rtpCapabilities=r;const u=this.rtpCapabilities.send;for(const h of o.mediaDescriptions){if(h.attributes.iceUfrag=this._iceParameters.iceUfrag,h.attributes.icePwd=this._iceParameters.icePwd,h.attributes.fingerprints=this._dtlsParameters.fingerprints,h.attributes.candidates=this._candidates,h.attributes.setup=this.setup,h.media.mediaType==="application"&&(h.attributes.sctpPort="5000"),h.media.mediaType==="video"&&(h.media.fmts=u.videoCodecs.map(f=>f.payloadType.toString(10)),h.attributes.payloads=u.videoCodecs,h.attributes.extmaps=u.videoExtensions,la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:f,ssrcGroups:m}=TS([{ssrcId:Y4,rtx:la("USE_SUB_RTX")?40001:void 0}],this.cname);h.attributes.ssrcs=f,h.attributes.ssrcGroups=m}if(h.media.mediaType==="audio"&&(h.media.fmts=u.audioCodecs.map(f=>f.payloadType.toString(10)),h.attributes.payloads=u.audioCodecs,h.attributes.extmaps=u.audioExtensions,la("PRELOAD_MEDIA_COUNT")>0)){const{ssrcs:f,ssrcGroups:m}=TS([{ssrcId:H4}],this.cname);h.attributes.ssrcs=f,h.attributes.ssrcGroups=m}}this.sessionDesc=o,this.currentMidIndex=o.mediaDescriptions.length-1}preloadRemoteMedia(r){this.rtpCapabilities;const o=this.candidates,u=this.dtlsParameters,h=this.iceParameters,f=this.rtpCapabilities.send;for(let m=1;m<r;m++){const v=2*m+H4,R=2*m+Y4,{ssrcs:D,ssrcGroups:k}=TS([{ssrcId:v}],this.cname),{ssrcs:L,ssrcGroups:q}=TS([{ssrcId:R,rtx:la("USE_SUB_RTX")?R+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:"video",port:s3,protos:["UDP","TLS","RTP","SAVPF"],fmts:f.videoCodecs.map(z=>z.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:h.iceUfrag,icePwd:h.icePwd,unrecognized:[],candidates:o,extmaps:f.videoExtensions,fingerprints:u.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:L,ssrcGroups:q,rtcpFeedbackWildcards:[],payloads:f.videoCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*m-1)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:"audio",port:s3,protos:["UDP","TLS","RTP","SAVPF"],fmts:f.audioCodecs.map(z=>z.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:h.iceUfrag,icePwd:h.icePwd,unrecognized:[],candidates:o,extmaps:f.audioExtensions,fingerprints:u.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:D,ssrcGroups:k,rtcpFeedbackWildcards:[],payloads:f.audioCodecs,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:"sendonly",rtcpMux:!0,rtcpRsize:!0,mid:"".concat(2*m)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return U0.print(this.sessionDesc)}send(r,o,u,h){const{ssrcs:f,ssrcGroups:m}=TS(o,this.cname,la("SYNC_GROUP")?u:void 0),v=this.findPreloadMediaDesc(f);if(v){if(Q0()&&this.firefoxSsrcMidMap.set(f[0].ssrcId,v.attributes.mid),h&&(h.twcc||h.remb)){const R=this.sessionDesc.mediaDescriptions.indexOf(v);return this.sessionDesc.mediaDescriptions[R]=this.mungSendMediaDesc(v,h),{mid:v.attributes.mid,needExchangeSDP:!0}}return{mid:v.attributes.mid,needExchangeSDP:!1}}{const R=this.findAvailableMediaIndex(r,f);let D;return R===-1||uS()||gS()||E9()||R===0&&la("USE_SUB_RTX")?(D=this.createOrRecycleSendMedia(r,f,m,"sendonly",h),this.updateBundleMids()):(D=S0(this.sessionDesc.mediaDescriptions[R]),D.attributes.direction="sendonly",D.attributes.ssrcs=f,D.attributes.ssrcGroups=m,this.sessionDesc.mediaDescriptions[R]=this.mungSendMediaDesc(D,h)),Q0()&&this.firefoxSsrcMidMap.set(f[0].ssrcId,D.attributes.mid),{mid:D.attributes.mid,needExchangeSDP:!0}}}batchSend(r){const o=r.map(f=>{let{kind:m,ssrcMsg:v,mslabel:R}=f;return this.send(m,v,R)}),u=[];let h=!1;return o.forEach(f=>{let{mid:m,needExchangeSDP:v}=f;v&&(h=!0),u.push(m)}),{mids:u,needExchangeSDP:h}}stopSending(r){const o=this.sessionDesc.mediaDescriptions.filter(u=>u.attributes.mid&&r.indexOf(u.attributes.mid)!==-1);if(o.length!==r.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.");o.forEach(u=>{u.attributes.mid==="0"||Q0()||uS()||gS()?u.attributes.ssrcs=[]:(u.attributes.ssrcs=[],u.attributes.direction="inactive",u.media.port="0")}),this.updateBundleMids()}mute(r){const o=this.sessionDesc.mediaDescriptions.find(u=>u.attributes.mid===r);if(!o)throw new Error("mediaDescription not found with ".concat(r," in remote SDP when calling RemoteSDP.mute."));o.attributes.direction="inactive"}unmute(r){const o=this.sessionDesc.mediaDescriptions.find(u=>u.attributes.mid===r);if(!o)throw new Error("mediaDescription not found with ".concat(r," in remote SDP when calling RemoteSDP.unmute."));o.attributes.direction="sendonly"}muteRemote(r){const o=this.sessionDesc.mediaDescriptions.filter(u=>AQ(r).call(r,u.attributes.mid||""));if(o.length!==r.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");o.forEach(u=>{u.attributes.direction="inactive"})}unmuteRemote(r){const o=this.sessionDesc.mediaDescriptions.filter(u=>AQ(r).call(r,u.attributes.mid||""));if(o.length!==r.length)throw new Error("mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.");o.forEach(u=>{u.attributes.direction="recvonly"})}receive(r,o,u,h){r.forEach((f,m)=>{this.createOrRecycleRecvMedia(f,[],"recvonly",o,u,h[m])}),this.updateBundleMids()}stopReceiving(r){const o=this.sessionDesc.mediaDescriptions.filter(u=>r.indexOf(u.attributes.mid)!==-1);if(o.length!==r.length)throw new Error("MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.");o.forEach(u=>{u.media.port="0",u.attributes.direction="inactive"}),this.updateBundleMids()}updateCandidates(r){r===X_.TCP?this._candidates.forEach(o=>{this._candidates.findIndex(u=>u.transport==="tcp"&&u.connectionAddress===o.connectionAddress&&u.port===o.port)===-1&&this._candidates.push(LZ(LZ({},o),{},{foundation:"tcpcandidate",priority:Number(o.priority)-1+"",transport:"tcp",port:Number(o.port)+90+""}))}):this._candidates=this._candidates.filter(o=>o.transport!=="tcp");for(const o of this.sessionDesc.mediaDescriptions)o.attributes.candidates=this.candidates}restartICE(r){r=S0(r),this._iceParameters=r,this.sessionDesc.mediaDescriptions.forEach(o=>{o.attributes.iceUfrag=r.iceUfrag,o.attributes.icePwd=r.icePwd})}predictReceivingMids(r){const o=[];for(let u=0;u<r;u++)o.push((this.currentMidIndex+u+1).toString(10));return o}findAvailableMediaIndex(r,o){return this.sessionDesc.mediaDescriptions.findIndex(u=>{const h=u.media.mediaType===r&&u.media.port!=="0"&&(u.attributes.direction==="sendonly"||u.attributes.direction==="sendrecv")&&u.attributes.ssrcs.length===0;if(Q0()){if(h){const f=this.firefoxSsrcMidMap.get(o[0].ssrcId);return!(f||u.attributes.mid!=="0"&&u.attributes.mid!=="1")||!(!f||f!==u.attributes.mid)}return!1}return h})}createOrRecycleRecvMedia(r,o,u,h,f,m){const v=r._mediaStreamTrack.kind,R=this.rtpCapabilities.recv,D=a1(v,R,this.localCapabilities.send,v===sQ.VIDEO?h:f),k=v===sQ.VIDEO?R.videoExtensions:R.audioExtensions;this.currentMidIndex+=1;const L="".concat(this.currentMidIndex);let q={media:{mediaType:v,port:s3,protos:["UDP","TLS","RTP","SAVPF"],fmts:D.map(_s=>_s.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:k,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:D,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:u,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(L)}};q=this.mungRecvMediaDsec(q,r,m);const z=this.findFirstClosedMedia(v);if(z){const _s=this.sessionDesc.mediaDescriptions.indexOf(z);this.sessionDesc.mediaDescriptions[_s]=q}else this.sessionDesc.mediaDescriptions.push(q);return q}updateRemoteCodec(r,o,u){const h=[...new Set(this._rtpCapabilities.recv.videoCodecs.map(q=>q.rtpMap&&q.rtpMap.encodingName.toLowerCase()||"").filter(q=>{var z;return AQ(z=Object.keys(AT)).call(z,q)}))],f=new Set(o);if(h.every(q=>f.has(q)))return $.debug("codecs has not changed, no need to updateRemoteCodec, codecs: ".concat(o)),!1;const m=this._rtpCapabilities.recv.videoCodecs.filter(q=>o.some(z=>{var _s;return AQ(_s=q.rtpMap&&q.rtpMap.encodingName.toLowerCase()||"").call(_s,z)}));if(m.length===0)return $.debug("updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: ".concat(h," codecs: ").concat(o)),!1;const v=[...new Set(m.map(q=>q.rtpMap&&q.rtpMap.encodingName.toLowerCase()||""))];let R;if($.debug("updateRemoteCodec, from ".concat(h," to ").concat(v)),r.length===0)R=this.sessionDesc.mediaDescriptions.filter(q=>q.media.mediaType==="video"&&q.attributes.direction==="recvonly");else if(R=this.sessionDesc.mediaDescriptions.filter(q=>q.attributes.mid&&AQ(r).call(r,q.attributes.mid)&&q.attributes.direction==="recvonly"),R.length!==r.length)return $.debug("updateRemoteCodec failed, because cannot find mids, mids: ".concat(r,", codecs: ").concat(o)),!1;this._rtpCapabilities.recv.videoCodecs=m;const D=this.localCapabilities.send,k=this.rtpCapabilities.recv,L=a1(sQ.VIDEO,k,D,u);return R.forEach(q=>{const z=L.map(_s=>_s.payloadType.toString(10));$.debug("updateRemoteCodec mid: ".concat(q.attributes.mid,", from ").concat(q.attributes.payloads," to ").concat(L)),q.attributes.payloads=L,q.media.fmts=z}),!0}createOrRecycleSendMedia(r,o,u,h,f){const m=this.rtpCapabilities.send,v=r===sQ.VIDEO?m.videoCodecs:m.audioCodecs,R=r===sQ.VIDEO?m.videoExtensions:m.audioExtensions;this.currentMidIndex+=1;const D="".concat(this.currentMidIndex);let k={media:{mediaType:r,port:s3,protos:["UDP","TLS","RTP","SAVPF"],fmts:v.map(q=>q.payloadType.toString(10))},connections:[{nettype:"IN",addrtype:"IP4",address:"127.0.0.1"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:R,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:o,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:v,rtcp:{port:"9",netType:"IN",addressType:"IP4",address:"0.0.0.0"},setup:this.setup,direction:h,rtcpMux:!0,rtcpRsize:!0,mid:"".concat(D)}};k=this.mungSendMediaDesc(k,f);const L=this.findFirstClosedMedia(r);if(L){const q=this.sessionDesc.mediaDescriptions.indexOf(L);this.sessionDesc.mediaDescriptions[q]=k}else this.sessionDesc.mediaDescriptions.push(k);return k}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter(r=>r.media.port!=="0").map(r=>r.attributes.mid)}mungRecvMediaDsec(r,o,u){const h=S0(r);return n3(h),mT(h,o),r3(h,o),U4(h),rO(h,u,this.localCapabilities.send),h}mungSendMediaDesc(r,o){const u=S0(r);return rO(u,o,this.localCapabilities.recv),nb(u),u}updateRecvMedia(r,o){const u=this.sessionDesc.mediaDescriptions.findIndex(h=>h.attributes.mid===r);if(u!==-1){const h=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[u],o);this.sessionDesc.mediaDescriptions[u]=h}}bumpMid(r){this.currentMidIndex+=r}findFirstClosedMedia(r){return this.sessionDesc.mediaDescriptions.find(o=>Q0()?o.media.port==="0"&&o.media.mediaType===r:o.media.port==="0")}findPreloadMediaDesc(r){return this.sessionDesc.mediaDescriptions.find(o=>{var u;return((u=o.attributes)===null||u===void 0||(u=u.ssrcs[0])===null||u===void 0?void 0:u.ssrcId)===r[0].ssrcId})}getSSRC(r){var o;return(o=this.sessionDesc.mediaDescriptions.find(u=>u.attributes.mid===r))===null||o===void 0?void 0:o.attributes.ssrcs}}function xZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function a3(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?xZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):xZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}class _v extends SP{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){let r;return this.localCapabilities&&(r=iO(this.localCapabilities)),[...new Set(r&&r.send.videoCodecs.map(o=>o.rtpMap&&o.rtpMap.encodingName.toLowerCase()||"").filter(o=>{var u;return AQ(u=Object.keys(AT)).call(u,o)}))]}constructor(r,o,u){super(r,o),j(this,"store",void 0),j(this,"peerConnection",void 0),j(this,"remoteSDP",void 0),j(this,"initialOffer",void 0),j(this,"transportEventReceiver",void 0),j(this,"statsFilter",void 0),j(this,"useXR",la("USE_XR")),j(this,"localCapabilities",void 0),j(this,"localCandidateCount",0),j(this,"allCandidatesReceived",!1),j(this,"remoteCodecs",void 0),j(this,"dataStreamChannelMap",new Map),j(this,"establishPromise",void 0),j(this,"mutex",new T_("NVExtentionsConnection-mutex")),j(this,"rtcMedia",void 0),this.store=o,this.peerConnection=u,this.statsFilter=t3(this.peerConnection,la("STATS_UPDATE_INTERVAL"),void 0,Q0()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(r){try{const o=await this.peerConnection.createOffer();if(!o.sdp)throw new Error("Cannot get initialOffer.sdp when trying to establish PeerConnection.");const u=_w(o.sdp),h=await G4({filterRTX:!la("USE_PUB_RTX")&&!la("USE_SUB_RTX"),filterVideoFec:la("FILTER_VIDEO_FEC"),filterAudioFec:la("FILTER_AUDIO_FEC"),filterVideoCodec:la("FILTER_VIDEO_CODEC")},{useXR:this.useXR});return this.localCapabilities=h,this.initialOffer=o,a3(a3({},u),{},{rtpCapabilities:h,offerSDP:o.sdp})}catch(o){throw new Oa(ea.GET_LOCAL_CONNECTION_PARAMS_FAILED,o.toString())}}async connect(r,o,u,h,f,m){try{if(!this.initialOffer)throw new Error("Cannot establish NVConnection without initial offer.");this.remoteSDP=new Cge({remoteIceParameters:r,remoteDtlsParameters:o,candidates:u,remoteRTPCapabilities:h,remoteSetup:f,localCapabilities:iO(this.localCapabilities),cname:m});const v=this.remoteSDP.toString(),R=U0.parse(this.initialOffer.sdp),D=R.mediaDescriptions.find(q=>q.media.mediaType==="audio");D&&nb(D),this.useXR&&aU(R);const k=U0.print(R),L=this.logSDPExchange(k||"","offer","local","connect");await this.peerConnection.setLocalDescription({type:"offer",sdp:k}),L==null||L(v),await this.peerConnection.setRemoteDescription({type:"answer",sdp:v})}catch(v){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NV.connect failed; ".concat(v.toString()))}}async updateRemoteRTPCapabilities(r,o){if(this.remoteCodecs=o,!this.remoteSDP)return void $.debug("[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: ".concat(this.localCodecs,", codecs: ").concat(o));if(this.remoteSDP.updateRemoteCodec(r,o,this.store.codec)){const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(u);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}else $.debug("[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.")}async updateRemoteConnect(r){var o,u,h,f;(o=this.remoteSDP)===null||o===void 0||o.updateRemoteRTPCapabilities(r),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&((f=this.remoteSDP)===null||f===void 0||f.updateRemoteCodec([],this.remoteCodecs,this.store.codec)),(u=this.remoteSDP)===null||u===void 0||u.preloadRemoteMedia(2);const m=(h=this.remoteSDP)===null||h===void 0?void 0:h.toString();await this.peerConnection.setRemoteDescription({type:"offer",sdp:m});const v=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(v),$.debug("[NVExtentionsConnection] updateRemoteRTPCapabilities by exchanging SDP.")}send(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.mutex.lock("From NVExtentionsConnection.send"));try{if(!h.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.send before remote SDP created");const m=[];r.forEach(_n=>{const _i=h.peerConnection.addTransceiver(_n._mediaStreamTrack,{direction:"sendonly"});m.push(_i)}),Q0()&&la("SIMULCAST")===!0&&(yield KQ(h.applySimulcastForFirefox(m,r)));const v=yield KQ(h.peerConnection.createOffer()),R=h.remoteSDP.predictReceivingMids(r.length),D=h.mungSendOfferSDP(v.sdp,r,R),k=U0.parse(D),L=R.map(_n=>{const _i=k.mediaDescriptions.find(Aa=>Aa.attributes.mid===_n);if(!_i)throw new Error("Cannot extract ssrc from mediaDescription.");return x4(_i,la("USE_PUB_RTX"))});let q;try{q=yield L}catch(_n){q=[],h.remoteSDP.receive(r,o,u,q);const _i=h.remoteSDP.toString();throw yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:D})),yield KQ(h.peerConnection.setRemoteDescription({type:"answer",sdp:_i})),yield KQ(h.stopSending(R,!0)),_n}h.remoteSDP.receive(r,o,u,q);const z=h.remoteSDP.toString(),_s=h.logSDPExchange(D,"offer","local","send");return yield KQ(h.peerConnection.setLocalDescription({type:"offer",sdp:D})),yield KQ(h.applySimulcastEncodings(m,r)),yield KQ(h.applySendEncodings(m,r)),_s==null||_s(z),yield KQ(h.peerConnection.setRemoteDescription({type:"answer",sdp:z})),m.map((_n,_i)=>{const Aa=R[_i];return{localSSRC:L[_i],id:Aa,transceiver:_n}})}catch(m){throw m instanceof Oa?m:new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.send failed; ".concat(m.toString()))}finally{f()}})()}async stopSending(r,o){const u=o?void 0:await this.mutex.lock("From NVExtentionsConnection.stopSending");try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopSending before remote SDP created");const h=this.peerConnection.getTransceivers().filter(R=>r.indexOf(R.mid)!==-1);if(h.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length when trying to call NVExtentionsConnection.stopSending.");h.map(R=>{var D;R.direction="inactive",(D=R.stop)===null||D===void 0||D.call(R)});const f=await this.peerConnection.createOffer(),m=this.logSDPExchange(f.sdp||"","offer","local","stopSending");await this.peerConnection.setLocalDescription(f),this.remoteSDP.stopReceiving(r);const v=this.remoteSDP.toString();m==null||m(v),await this.peerConnection.setRemoteDescription({type:"answer",sdp:v})}catch(h){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.stopSending failed; ".concat(h.toString()))}finally{u&&u()}}async createDataChannels(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.createDataChannels before remote SDP created");let u=this.dataStreamChannelMap.get(r);return u&&u.readyState==="open"?$.debug("[P2PConnection] Channels are already available and can be reused directly."):(u=this.peerConnection.createDataChannel("datastream-channel",{ordered:!1,maxRetransmits:la("DATASTREAM_MAX_RETRANSMITS")}),u.binaryType="arraybuffer",this.dataStreamChannelMap.set(r,u)),void o.forEach(h=>{h._updateOriginDataChannel(u)})}catch(u){throw u instanceof Oa?u:new Oa(ea.DATACHANNEL_FAILED,"NVExtentionsConnection.createDataChannels failed; ".concat(u.toString()))}}async stopDataChannels(r){try{const o=this.dataStreamChannelMap.get(r);return o==null||o.close(),void this.dataStreamChannelMap.delete(r)}catch(o){throw o instanceof Oa?o:new Oa(ea.DATACHANNEL_FAILED,"NVExtentionsConnection.stopDataChannels failed; ".concat(o.toString()))}}async receive(r,o,u,h){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.receive ".concat(r," before remoteSDP created."));const{mid:f,needExchangeSDP:m}=this.remoteSDP.send(r,o,u,h);if(m){const R=this.remoteSDP.toString(),D=this.logSDPExchange(R,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:R});const k=await this.peerConnection.createAnswer(),L=this.mungReceiveAnswerSDP(k.sdp,f,r);D==null||D(L||""),await this.peerConnection.setLocalDescription({type:"answer",sdp:L}),$.debug("[NVExtentionsConnection] receive ".concat(r," by exchanging SDP."))}else $.debug("[NVExtentionsConnection] receive ".concat(r," no need to exchange SDP."));const v=this.peerConnection.getTransceivers().find(R=>R.mid===f);if(!v)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:v.receiver.track,id:f}}catch(f){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(f.toString()))}}async batchReceive(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.batchReceive before remoteSDP created.");const{mids:o,needExchangeSDP:u}=this.remoteSDP.batchSend(r);if(u){const h=this.remoteSDP.toString(),f=this.logSDPExchange(h,"offer","remote","receive");await this.peerConnection.setRemoteDescription({type:"offer",sdp:h});const m=await this.peerConnection.createAnswer();f==null||f(m.sdp||""),await this.peerConnection.setLocalDescription(m),$.debug("[NVExtentionsConnection] batchReceive by exchanging SDP.")}else $.debug("[NVExtentionsConnection] batchReceive no need to exchange SDP.");return o.map(h=>{const f=this.peerConnection.getTransceivers().find(m=>m.mid===h);if(!f)throw new Error("Cannot get transceiver after setLocalDescription.");return{track:f.receiver.track,id:h}})}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.receive failed; ".concat(o.toString()))}}async stopReceiving(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.stopReceiving before remote SDP created.");this.remoteSDP.stopSending(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","stopReceiving");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection stopReceiving failed; ".concat(o.toString()))}}async muteRemote(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteRemote mid=".concat(r," before remote SDP created."));this.remoteSDP.mute(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","muteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteRemote failed; ".concat(o.toString()))}}async unmuteRemote(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteRemote mid=".concat(r," before remote SDP created."));this.remoteSDP.unmute(r);const o=this.remoteSDP.toString(),u=this.logSDPExchange(o,"offer","remote","unmuteRemote");await this.peerConnection.setRemoteDescription({type:"offer",sdp:o});const h=await this.peerConnection.createAnswer();u==null||u(h.sdp||""),await this.peerConnection.setLocalDescription(h)}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteRemote failed; ".concat(o.toString()))}}async muteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.muteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(m=>{m.direction="inactive"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","muteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.muteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.muteLocal failed; ".concat(o.toString()))}}async unmuteLocal(r){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.unmuteLocal before remote SDP created.");const o=this.peerConnection.getTransceivers().filter(m=>m.mid&&r.indexOf(m.mid)!==-1);if(o.length!==r.length)throw new Error("Transceivers' length doesn't match mids' length.");o.map(async(m,v)=>{m.direction="sendonly"});const u=await this.peerConnection.createOffer(),h=this.logSDPExchange(u.sdp||"","offer","local","unmuteLocal");await this.peerConnection.setLocalDescription(u),this.remoteSDP.unmuteRemote(r);const f=this.remoteSDP.toString();h==null||h(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(o){throw new Oa(ea.EXCHANGE_SDP_FAILED,"NVExtentionsConnection.unmuteLocal failed; ".concat(o.toString()))}}restartICE(r){var o=this;return jS(function*(){const u=yield KQ(o.mutex.lock("From NVExtentionsConnection.restartICE"));try{if(!o.remoteSDP)throw new Error("Cannot restartICE before remoteSDP created.");if(f0().supportPCSetConfiguration){const D=o.peerConnection.getConfiguration(),k=r===X_.RELAY?"relay":"all";D.iceTransportPolicy!==k&&($.debug("restartICE change iceTransportPolicy from [".concat(D.iceTransportPolicy,"] to [").concat(k,"]")),D.iceTransportPolicy=k,o.peerConnection.setConfiguration(D))}else if(r===X_.RELAY)return;r!==X_.RELAY&&o.remoteSDP.updateCandidates(r);const h=yield KQ(o.peerConnection.createOffer({iceRestart:!0}));if(!h.sdp)throw new Error("Cannot restartICE because restart offer SDP does not exist.");const f=_w(h.sdp),{remoteIceParameters:m}=yield f.iceParameters;o.remoteSDP.restartICE(m);const v=o.remoteSDP.toString(),R=o.logSDPExchange(h.sdp||"","offer","local","restartICE");yield KQ(o.peerConnection.setLocalDescription(h)),R==null||R(v),yield KQ(o.peerConnection.setRemoteDescription({type:"answer",sdp:v}))}catch(h){$.warning("restart ICE failed, abort operation",h)}finally{u()}})()}close(){var r;(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,"closed"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(r){return this.statsFilter.getVideoIsReady(r)}async updateEncoderConfig(r,o){try{if(!this.remoteSDP)throw new Error("Cannot call NVExtentionsConnection.updateEncoderConfig before remote SDP created.");const u=await this.peerConnection.createOffer(),h=this.mungSendOfferSDP(u.sdp,[o],[r]);this.remoteSDP.updateRecvMedia(r,o);const f=this.remoteSDP.toString(),m=this.logSDPExchange(h,"offer","local","updateEncoderConfig");await this.peerConnection.setLocalDescription({type:"offer",sdp:h}),m==null||m(f),await this.peerConnection.setRemoteDescription({type:"answer",sdp:f})}catch(u){throw new Oa(ea.EXCHANGE_SDP_FAILED,u.toString())}}async updateSendParameters(r,o){const u=this.peerConnection.getTransceivers().filter(h=>h.mid===r);u.length===1&&(this.isVP8Simulcast(o)?Q0()||await this.applySimulcastEncodings(u,[o]):await this.applySendEncodings(u,[o]))}setStatsRemoteVideoIsReady(r,o){this.statsFilter.setVideoIsReady2(r,o)}async replaceTrack(r,o){const u=this.peerConnection.getTransceivers().find(h=>h.mid===o);u&&await u.sender.replaceTrack(r._mediaStreamTrack)}getP2PConnectionParams(){var r;if((r=this.peerConnection.currentLocalDescription)===null||r===void 0||!r.sdp||!this.localCapabilities)throw new Error;return a3(a3({},_w(this.peerConnection.currentLocalDescription.sdp)),{},{rtpCapabilities:this.localCapabilities})}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var r;(r=this.onICEConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var r;(r=this.onConnectionStateChange)===null||r===void 0||r.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=r=>{r.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,$.debug("[pc-".concat(this.store.p2pId,"] local candidate count"),this.localCandidateCount))},setTimeout(()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,$.debug("[pc-".concat(this.store.p2pId,"] onicecandidate timeout, local candidate count"),this.localCandidateCount))},la("CANDIDATE_TIMEOUT"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(r){const o={iceServers:[]};return r.iceServers?o.iceServers=r.iceServers:r.turnServer&&r.turnServer.mode!=="off"&&(O1(r.turnServer.servers)?o.iceServers=r.turnServer.servers:(o.iceServers&&o.iceServers.push(..._v.turnServerConfigToIceServers(r.turnServer.servers)),la("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&r.turnServer.serversFromGateway&&o.iceServers.push(..._v.turnServerConfigToIceServers(r.turnServer.serversFromGateway)),la("FORCE_TURN_TCP")?o.iceTransportPolicy="relay":r.turnServer.servers.concat(r.turnServer.serversFromGateway||[]).forEach(u=>{u.forceturn&&(o.iceTransportPolicy="relay")}))),o}static turnServerConfigToIceServers(r){const o=[];return r.forEach(u=>{u.security?u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turns:".concat(lT(u.turnServerURL),":").concat(u.tcpport,"?transport=tcp")}):(u.udpport&&!la("FORCE_TURN_TCP")&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.udpport,"?transport=udp")}),u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.tcpport,"?transport=tcp")}))}),o}async applySendEncodings(r,o){try{if(!f0().supportSetRtpSenderParameters||r.length!==o.length)return;for(let L=0;L<r.length;L++){const q=r[L],z=o[L];if(z&&z instanceof HQ){var u,h,f;if(this.isVP8Simulcast(z))continue;const _s={},_n={};switch(z._optimizationMode){case"motion":_s.degradationPreference="maintain-framerate";break;case"detail":_s.degradationPreference="maintain-resolution";break;default:_s.degradationPreference="balanced"}var m,v,R,D;if((u=z._encoderConfig)!==null&&u!==void 0&&u.bitrateMax&&(_n.maxBitrate=1e3*((m=z._encoderConfig)===null||m===void 0?void 0:m.bitrateMax)),AQ(h=z._hints).call(h,R0.LOW_STREAM)&&((v=z._encoderConfig)!==null&&v!==void 0&&v.frameRate&&(_n.maxFramerate=iR(z._encoderConfig.frameRate)),(R=z._encoderConfig)!==null&&R!==void 0&&R.scaleResolutionDownBy&&((D=z._encoderConfig)===null||D===void 0?void 0:D.scaleResolutionDownBy)>1&&(_n.scaleResolutionDownBy=z._encoderConfig.scaleResolutionDownBy)),la("DSCP_TYPE")&&nT()){var k;const Ea=la("DSCP_TYPE");AQ(k=["very-low","low","medium","high"]).call(k,Ea)&&(_n.networkPriority=Ea)}const _i=q.sender.getParameters(),Aa=(f=_i.encodings)===null||f===void 0?void 0:f[0];Q0()&&!Aa&&(_s.encodings=[_n]),Aa&&Object.assign(Aa,_n),Object.assign(_i,_s),await q.sender.setParameters(_i)}}}catch{$.debug("Apply RTPSendEncodings failed.")}}mungSendOfferSDP(r,o,u){const h=U0.parse(r);return o.forEach((f,m)=>{const v=u[m],R=h.mediaDescriptions.find(D=>D.attributes.mid===v);R&&(mT(R,f),P4(R,f,this.store.codec))}),U0.print(h)}mungReceiveAnswerSDP(r,o,u){const h=U0.parse(r),f=h.mediaDescriptions.find(m=>m.attributes.mid===o);return f&&u===sQ.AUDIO&&f.media.mediaType==="audio"&&nb(f),this.useXR&&aU(h),U0.print(h)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=r=>{var o;(o=this.onFirstAudioReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoReceived=r=>{var o;(o=this.onFirstVideoReceived)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstAudioDecoded=r=>{var o;(o=this.onFirstAudioDecoded)===null||o===void 0||o.call(this,r)},this.statsFilter.onFirstVideoDecoded=(r,o,u)=>{var h;(h=this.onFirstVideoDecoded)===null||h===void 0||h.call(this,r,o,u)},this.statsFilter.onSelectedLocalCandidateChanged=(r,o)=>{var u;(u=this.onSelectedLocalCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onSelectedRemoteCandidateChanged=(r,o)=>{var u;(u=this.onSelectedRemoteCandidateChanged)===null||u===void 0||u.call(this,r,o)},this.statsFilter.onFirstVideoDecodedTimeout=r=>{var o;(o=this.onFirstVideoDecodedTimeout)===null||o===void 0||o.call(this,r)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(r,o){if(r.length===o.length)for(let R=0;R<r.length;R++){var u,h,f,m,v;const D=r[R],k=o[R];if(k instanceof HQ&&!AQ(u=k._hints).call(u,R0.LOW_STREAM)&&(h=k._encoderConfig)!==null&&h!==void 0&&h.bitrateMax&&((f=k._encoderConfig)===null||f===void 0?void 0:f.bitrateMax)>200&&(m=k._scalabilityMode)!==null&&m!==void 0&&m.numSpatialLayers&&((v=k._scalabilityMode)===null||v===void 0?void 0:v.numSpatialLayers)>1&&this.store.codec==="vp8"){const L={},q={high:1e3*(k._encoderConfig.bitrateMax-50),medium:5e4};L.encodings=[{rid:"m",active:!0,maxBitrate:q.medium,scaleResolutionDownBy:4},{rid:"h",active:!0,maxBitrate:q.high}];const z=D.sender.getParameters();await D.sender.setParameters(Object.assign(z,L))}}}async applySimulcastEncodings(r,o){if(!Q0()&&r.length===o.length)for(let u=0;u<r.length;u++){const h=o[u];if(h instanceof HQ&&this.isVP8Simulcast(h)){const f=r[u],m={},v={high:1e3*(h._encoderConfig.bitrateMax-50),medium:5e4};m.encodings=[{active:!0,adaptivePtime:!1,networkPriority:"high",priority:"high",maxBitrate:v.high},{active:!0,adaptivePtime:!1,networkPriority:"low",priority:"low",maxBitrate:v.medium,scaleResolutionDownBy:4}];const R=f.sender.getParameters();await f.sender.setParameters(Object.assign(R,m))}}}isVP8Simulcast(r){var o,u,h,f,m;return!!(r instanceof HQ&&la("SIMULCAST")&&this.store.codec==="vp8"&&!AQ(o=r._hints).call(o,R0.LOW_STREAM)&&(u=r._encoderConfig)!==null&&u!==void 0&&u.bitrateMax&&((h=r._encoderConfig)===null||h===void 0?void 0:h.bitrateMax)>200&&(f=r._scalabilityMode)!==null&&f!==void 0&&f.numSpatialLayers&&((m=r._scalabilityMode)===null||m===void 0?void 0:m.numSpatialLayers)>1)}logSDPExchange(r,o,u,h){if(la("SDP_LOGGING"))return $.upload("exchanging ".concat(u," ").concat(o," SDP during NVExtentionsConnection.").concat(h,`
`),r),o==="offer"?f=>{this.logSDPExchange(f,"answer",u==="local"?"remote":"local",h)}:void 0}async getRemoteSSRC(r){if(!this.remoteSDP)return;const o=this.remoteSDP.getSSRC(r);return o==null?void 0:o[0].ssrcId}setConfiguration(r){if(f0().supportPCSetConfiguration){const o=_v.resolvePCConfiguration(r);this.peerConnection.setConfiguration(o)}}}function kS(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("From NVExtentionsConnection.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function UZ(A){var r,o,u,h=2;for(typeof Symbol<"u"&&(o=SZ,u=Symbol.iterator);h--;){if(o&&(r=A[o])!=null)return r.call(A);if(u&&(r=A[u])!=null)return new c3(r.call(A));o="@@asyncIterator",u="@@iterator"}throw new TypeError("Object is not async iterable")}function c3(A){function r(o){if(Object(o)!==o)return lc.reject(new TypeError(o+" is not an object."));var u=o.done;return lc.resolve(o.value).then(function(h){return{value:h,done:u}})}return c3=function(o){this.s=o,this.n=o.next},c3.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(o){var u=this.s.return;return u===void 0?lc.resolve({value:o,done:!0}):r(u.apply(this.s,arguments))},throw:function(o){var u=this.s.return;return u===void 0?lc.reject(o):r(u.apply(this.s,arguments))}},new c3(A)}td([kS,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],_v.prototype,"connect",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Array,Array]),_o("design:returntype",lc)],_v.prototype,"updateRemoteRTPCapabilities",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],_v.prototype,"updateRemoteConnect",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Object,Array]),_o("design:returntype",lc)],_v.prototype,"createDataChannels",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,Object]),_o("design:returntype",lc)],_v.prototype,"receive",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],_v.prototype,"batchReceive",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],_v.prototype,"stopReceiving",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],_v.prototype,"muteRemote",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],_v.prototype,"unmuteRemote",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],_v.prototype,"muteLocal",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],_v.prototype,"unmuteLocal",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],_v.prototype,"close",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],_v.prototype,"updateEncoderConfig",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],_v.prototype,"updateSendParameters",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[z_,String]),_o("design:returntype",lc)],_v.prototype,"replaceTrack",null),td([kS,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],_v.prototype,"getRemoteSSRC",null);class y_ extends SP{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get localCodecs(){return this._p2pConnection.localCodecs}constructor(r,o){super(r,o),j(this,"store",void 0),j(this,"peerConnection",void 0),j(this,"cname",void 0),j(this,"mutex",new T_("DataChannelConnection-mutex")),j(this,"dataChannel",void 0),j(this,"_p2pConnection",void 0),j(this,"establishPromise",void 0),j(this,"_nvMedia",void 0),this.store=o,this.store.dcId=this.store.dcId+1,this.peerConnection=new RTCPeerConnection(y_.resolvePCConfiguration(r),{optional:[{googDscp:!0}]}),this.dataChannel=this.peerConnection.createDataChannel("agora-signal",{ordered:!1,maxPacketLifeTime:50}),this.dataChannel.binaryType="arraybuffer",this._p2pConnection=new _v(r,o,this.peerConnection),this.bindPCEvents(),this.establishPromise=this._p2pConnection.establishPromise}async establish(){var r;const o=(r=this._nvMedia)===null||r===void 0?void 0:r.getLocalRtpCapabilities();return await this._p2pConnection.establish(o)}getP2PConnectionParams(){return this._p2pConnection.getP2PConnectionParams()}async connect(r,o,u,h,f,m){return this.cname=m,await this._p2pConnection.connect(r,o,u,h,f,m),await new lc((v,R)=>{const D=setTimeout(()=>{this.closeSignal(),R(new Oa(ea.DATACHANNEL_CONNECTION_TIMEOUT,"Datachannel connection timed out, candidates: ".concat(JSON.stringify(u))))},2e3);this.dataChannel.onopen=()=>{if(this.dataChannel.readyState==="open")return clearTimeout(D),void v()},this.dataChannel.onerror=k=>{this.closeSignal(),R(k)}}),{transmitter:this.dataChannel,close:this.closeSignal.bind(this)}}async updateRemoteRTPCapabilities(r,o){return this._p2pConnection.updateRemoteRTPCapabilities(r,o)}send(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.mutex.lock("From DataChannelConnection.send"));try{return yield*A3(UZ(h._p2pConnection.send(r,o,u)))}finally{f()}})()}async stopSending(r,o){return this._p2pConnection.stopSending(r,o)}async createDataChannels(r,o){return this._p2pConnection.createDataChannels(r,o)}async stopDataChannels(r){return this._p2pConnection.stopDataChannels(r)}async receive(r,o,u,h){return this._nvMedia?($.debug("[DataChannelConnection] receive ".concat(r," by DataChannel.")),await this._nvMedia.reveiveByRTCMedia(r,o,this.cname)):($.debug("[DataChannelConnection] receive ".concat(r," by WebRTC.")),await this._p2pConnection.receive(r,o,u,h))}async batchReceive(r){return[...await this._p2pConnection.batchReceive(r)]}async stopReceiving(r){return await this._p2pConnection.stopReceiving(r)}async muteRemote(r){return await this._p2pConnection.muteRemote(r)}async unmuteRemote(r){return await this._p2pConnection.unmuteRemote(r)}async muteLocal(r){return await this._p2pConnection.muteLocal(r)}async unmuteLocal(r){return await this._p2pConnection.unmuteLocal(r)}restartICE(r){var o=this;return jS(function*(){return yield*A3(UZ(o._p2pConnection.restartICE(r)))})()}close(){var r;(r=this._nvMedia)===null||r===void 0||r.close(),this._p2pConnection.close(),this.unbindConnectionEvents(this._p2pConnection)}getStats(){return this._p2pConnection.getStats()}getRemoteVideoIsReady(r){return this._p2pConnection.getRemoteVideoIsReady(r)}updateRemoteConnect(r){var o;(o=this._nvMedia)===null||o===void 0||o.setRemoteRtpCapabilities(r),this._p2pConnection.updateRemoteConnect(r)}async updateEncoderConfig(r,o){return await this._p2pConnection.updateEncoderConfig(r,o)}async updateSendParameters(r,o){return await this._p2pConnection.updateSendParameters(r,o)}setStatsRemoteVideoIsReady(r,o){this._p2pConnection.setStatsRemoteVideoIsReady(r,o)}async replaceTrack(r,o){return await this._p2pConnection.replaceTrack(r,o)}async getRemoteSSRC(r){return this._p2pConnection.getRemoteSSRC(r)}logSDPExchange(r,o,u,h){if(la("SDP_LOGGING"))return $.upload("exchanging ".concat(u," ").concat(o," SDP during DataChannelConnection.").concat(h,`
`),r),o==="offer"?f=>{this.logSDPExchange(f,"answer",u==="local"?"remote":"local",h)}:void 0}static resolvePCConfiguration(r){const o={iceServers:[]};return r.iceServers?o.iceServers=r.iceServers:r.turnServer&&r.turnServer.mode!=="off"&&(O1(r.turnServer.servers)?o.iceServers=r.turnServer.servers:(o.iceServers&&o.iceServers.push(...y_.turnServerConfigToIceServers(r.turnServer.servers)),la("USE_TURN_SERVER_OF_GATEWAY")&&o.iceServers&&r.turnServer.serversFromGateway&&o.iceServers.push(...y_.turnServerConfigToIceServers(r.turnServer.serversFromGateway)),la("FORCE_TURN_TCP")?o.iceTransportPolicy="relay":r.turnServer.servers.concat(r.turnServer.serversFromGateway||[]).forEach(u=>{u.forceturn&&(o.iceTransportPolicy="relay")}))),o}static turnServerConfigToIceServers(r){const o=[];return r.forEach(u=>{u.security?u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turns:".concat(lT(u.turnServerURL),":").concat(u.tcpport,"?transport=tcp")}):(u.udpport&&!la("FORCE_TURN_TCP")&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.udpport,"?transport=udp")}),u.tcpport&&o.push({username:u.username,credential:u.password,credentialType:"password",urls:"turn:".concat(u.turnServerURL,":").concat(u.tcpport,"?transport=tcp")}))}),o}bindPCEvents(){this._p2pConnection.onICEConnectionStateChange=r=>{var o;return(o=this.onICEConnectionStateChange)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onConnectionStateChange=r=>{var o;return(o=this.onConnectionStateChange)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onDTLSTransportStateChange=r=>{var o;return(o=this.onDTLSTransportStateChange)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onDTLSTransportError=r=>{var o;return(o=this.onDTLSTransportError)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onICETransportStateChange=r=>{var o;return(o=this.onICETransportStateChange)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onFirstAudioReceived=r=>{var o;return(o=this.onFirstAudioReceived)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onFirstVideoReceived=r=>{var o;return(o=this.onFirstVideoReceived)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onFirstAudioDecoded=r=>{var o;return(o=this.onFirstAudioDecoded)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onFirstVideoDecoded=(r,o,u)=>{var h;return(h=this.onFirstVideoDecoded)===null||h===void 0?void 0:h.call(this,r,o,u)},this._p2pConnection.onFirstVideoDecodedTimeout=r=>{var o;return(o=this.onFirstVideoDecodedTimeout)===null||o===void 0?void 0:o.call(this,r)},this._p2pConnection.onSelectedLocalCandidateChanged=(r,o)=>{var u;return(u=this.onSelectedLocalCandidateChanged)===null||u===void 0?void 0:u.call(this,r,o)},this._p2pConnection.onSelectedRemoteCandidateChanged=(r,o)=>{var u;return(u=this.onSelectedRemoteCandidateChanged)===null||u===void 0?void 0:u.call(this,r,o)}}closeSignal(){this.dataChannel.close(),this.peerConnection.close()}unbindConnectionEvents(r){r.onConnectionStateChange=void 0,r.onICEConnectionStateChange=void 0,r.onICETransportStateChange=void 0,r.onDTLSTransportStateChange=void 0,r.onDTLSTransportError=void 0,r.onFirstAudioDecoded=void 0,r.onFirstAudioReceived=void 0,r.onFirstVideoDecoded=void 0,r.onFirstVideoReceived=void 0,r.onSelectedLocalCandidateChanged=void 0,r.onSelectedRemoteCandidateChanged=void 0,r.onFirstVideoDecodedTimeout=void 0}setConfiguration(r){this._p2pConnection.setConfiguration(r)}}function dR(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("From DataChannelConnection.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function PZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function ST(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?PZ(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):PZ(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}function GZ(A){var r,o,u,h=2;for(typeof Symbol<"u"&&(o=SZ,u=Symbol.iterator);h--;){if(o&&(r=A[o])!=null)return r.call(A);if(u&&(r=A[u])!=null)return new u3(r.call(A));o="@@asyncIterator",u="@@iterator"}throw new TypeError("Object is not async iterable")}function u3(A){function r(o){if(Object(o)!==o)return lc.reject(new TypeError(o+" is not an object."));var u=o.done;return lc.resolve(o.value).then(function(h){return{value:h,done:u}})}return u3=function(o){this.s=o,this.n=o.next},u3.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(o){var u=this.s.return;return u===void 0?lc.resolve({value:o,done:!0}):r(u.apply(this.s,arguments))},throw:function(o){var u=this.s.return;return u===void 0?lc.reject(o):r(u.apply(this.s,arguments))}},new u3(A)}td([dR,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],y_.prototype,"connect",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[Array,Array]),_o("design:returntype",lc)],y_.prototype,"updateRemoteRTPCapabilities",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[Object,Array]),_o("design:returntype",lc)],y_.prototype,"createDataChannels",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String,Array,String,Object]),_o("design:returntype",lc)],y_.prototype,"receive",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],y_.prototype,"stopReceiving",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],y_.prototype,"muteRemote",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],y_.prototype,"unmuteRemote",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],y_.prototype,"muteLocal",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],y_.prototype,"unmuteLocal",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],y_.prototype,"close",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],y_.prototype,"updateEncoderConfig",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String,z_]),_o("design:returntype",lc)],y_.prototype,"updateSendParameters",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[z_,String]),_o("design:returntype",lc)],y_.prototype,"replaceTrack",null),td([dR,_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],y_.prototype,"getRemoteSSRC",null);class M_ extends x0{get state(){return this._state}set state(r){const o=this._state;this._state=r,this.emit(mQ.StateChange,o,this._state)}constructor(r,o){super(),j(this,"store",void 0),j(this,"statsUploader",void 0),j(this,"connection",void 0),j(this,"localTrackMap",new Map),j(this,"remoteUserMap",new Map),j(this,"localDataChannels",[]),j(this,"remoteDataChannelMap",new Map),j(this,"pendingLocalTracks",[]),j(this,"pendingRemoteTracks",[]),j(this,"pendingLocalDataChannels",[]),j(this,"pendingRemoteDataChannels",[]),j(this,"statsCollector",void 0),j(this,"isPlanB",!1),j(this,"shouldForwardP2PCreation",void 0),j(this,"iceFailedCount",0),j(this,"dtlsFailedCount",0),j(this,"mutex",new T_("P2PChannel-mutex")),j(this,"_state",d0.Disconnected),j(this,"_pcStatsUploadType",la("NEW_ICE_RESTART")?$R.FIRST_CONNECTION:$R.OLD_FIRST_CONNECTION),j(this,"_isInRestartIce",!1),j(this,"_isStartRestartIce",!1),j(this,"_restartStates",["disconnected","failed"]),j(this,"_restartTimer",void 0),j(this,"_isFirstConnected",!0),j(this,"handleMuteLocalTrack",async(u,h,f)=>{const m=await this.mutex.lock("Locking from P2PChannel.handleMuteLocalTrack");try{if(!this.connection||this.state!==d0.Connected)return void f(new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel.handleMuteLocalTrack before connection established."));const v=this.filterTobeMutedTracks(u);if(v.length===0)return void h();const R=v.find(k=>k[0]==="videoLowTrack");R&&R[1].track._originMediaStreamTrack.stop(),await this.connection.muteLocal(v.map(k=>{let[,{id:L}]=k;return L}));const D=this.createMuteMessage(v);await m0(this,mQ.RequestMuteLocal,D),h()}catch(v){f(v)}finally{m()}}),j(this,"handleUnmuteLocalTrack",async(u,h,f)=>{const m=await this.mutex.lock("Locking from P2PChannel.handleUnmuteLocalTrack");try{if(!this.connection||this.state!==d0.Connected)return void f(new _g(ea.INVALID_OPERATION,"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established."));const v=this.filterTobeUnmutedTracks(u);if(v.length===0)return void h();const R=v.find(k=>k[0]==="videoLowTrack");if(R){const k=R[1];if(k.track._originMediaStreamTrack.stop(),!la("DISABLE_DUAL_STREAM_USE_ENCODING")&&f0().supportDualStreamEncoding){const L=u._mediaStreamTrack.clone();k.track._mediaStreamTrack=L,k.track._originMediaStreamTrack=L}else{const L=F4(u,KT(this,mQ.RequestLowStreamParameter));k.track._mediaStreamTrack=L,k.track._originMediaStreamTrack=L}await new lc((L,q)=>{this.handleReplaceTrack(k.track,L,q,!0)})}await this.connection.unmuteLocal(v.map(k=>{let[,{id:L}]=k;return L}));const D=this.createUnmuteMessage(v);await m0(this,mQ.RequestUnmuteLocal,D),h()}catch(v){f(v)}finally{m()}}),j(this,"handleUpdateVideoEncoder",async(u,h,f)=>{const m=await this.mutex.lock("Locking from P2PChannel.handleSetVideoEncoder");try{const v=this.localTrackMap.get(_d.LocalVideoTrack);if(!this.connection||!v||v.track!==u||this.state!==d0.Connected)return void h();const{id:R,track:D}=v;await this.connection.updateSendParameters(R,D),await this.connection.updateEncoderConfig(R,D),this.emit(mQ.UpdateVideoEncoder,D),h()}catch(v){f(v)}finally{m()}}),j(this,"handleSetOptimizationMode",async(u,h,f)=>{const m=await this.mutex.lock("Locking from P2PChannel.handleSetOptimizationMode");try{const v=this.localTrackMap.get(_d.LocalVideoTrack);if(!this.connection||!v||v.track!==u||this.state!==d0.Connected)return;const{id:R,track:D}=v;await this.connection.updateSendParameters(R,D),h()}catch(v){f(v)}finally{m()}}),j(this,"handleReplaceTrack",async(u,h,f,m)=>{let v;$.debug("[".concat(this.store.clientId,"] P2PChannel handleReplaceTrack for [track-id-").concat(u.getTrackId(),"]")),typeof m=="boolean"&&m||(v=await this.mutex.lock("From P2PChannel.handleReplaceTrack"));try{var R;const k=Array.from(this.localTrackMap.entries()).find(L=>{let[,{track:q}]=L;return u===q});if(!this.connection||!k||this.state!==d0.Connected)return void h();if(await((R=this.connection)===null||R===void 0?void 0:R.replaceTrack(u,k[1].id)),this.isPlanB){const L=k[1];L.id=u._mediaStreamTrack.id,this.localTrackMap.set(k[0],L)}if(k[0]===_d.LocalVideoTrack&&!la("DISABLE_DUAL_STREAM_USE_ENCODING")&&f0().supportDualStreamEncoding){const L=this.localTrackMap.get(_d.LocalVideoLowTrack);if(L){const q=u._mediaStreamTrack.clone();L.track._originMediaStreamTrack.stop(),L.track._mediaStreamTrack=q,L.track._originMediaStreamTrack=q,await new lc((z,_s)=>{this.handleReplaceTrack(L.track,z,_s,!0)})}}h()}catch(k){f(k)}finally{var D;(D=v)===null||D===void 0||D()}}),j(this,"handleGetRTCStats",u=>{u(this.statsCollector.getRTCStats())}),j(this,"handleGetLocalVideoStats",u=>{u(this.statsCollector.getLocalVideoTrackStats())}),j(this,"handleGetLocalAudioStats",u=>{u(this.statsCollector.getLocalAudioTrackStats())}),j(this,"handleGetRemoteVideoStats",u=>this.statsCollector.getRemoteVideoTrackStats(u.uid)[u.uid]),j(this,"handleGetRemoteAudioStats",u=>this.statsCollector.getRemoteAudioTrackStats(u.uid)[u.uid]),this.store=r,this.statsCollector=o,this.statsCollector.addP2PChannel(this),this.statsUploader=new BZ(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!f0().supportUnifiedPlan||la("CHROME_FORCE_PLAN_B")&&nT(),this.shouldForwardP2PCreation=la("FORWARD_P2P_CREATION")&&f0().supportPCSetConfiguration&&function(){const u=rP();return u===h_.ANDROID||u===h_.IOS||u===h_.HARMONY_OS}(),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new y_({},this.store):this.isPlanB?new L_({},this.store):new W0({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(r,o){var u;this.state=d0.New;const h=this.shouldForwardP2PCreation&&((u=this.connection)===null||u===void 0?void 0:u.peerConnectionState)==="closed";if(this.shouldForwardP2PCreation&&!h||(h&&this.connection&&($.warning("[".concat(this.store.clientId,"] P2PChannel.startP2PConnection ForwardP2P closed.")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.store.useDataChannel?new y_(r,this.store):this.isPlanB?new L_(r,this.store):new W0(r,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel.startConnection before P2PConnection initialization .");return this._pcStatsUploadType=la("NEW_ICE_RESTART")?$R.FIRST_CONNECTION:$R.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(r),this.connection.establishPromise}async connect(r,o,u,h,f,m){if(!this.connection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.connection instanceof y_?this.connection.updateRemoteConnect(h):(this.store.peerConnectionStart(),await this.connection.connect(r,o,u,h,f,m),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=d0.Connected)}updateRemoteRTPCapabilities(r){const o=Array.from(this.localTrackMap.entries()).filter(f=>{var m;let[v]=f;return AQ(m=[_d.LocalVideoLowTrack,_d.LocalVideoTrack]).call(m,v)}),u=o.map(f=>{let[,{id:m}]=f;return m}),h=o.map(f=>{let[m]=f;return m});if(this.connection instanceof W0){if(cQ.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(h),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(r)}),!AQ(r).call(r,this.store.codec)){const f=["vp8","h264"].find(m=>AQ(r).call(r,m));f&&(this.store.codec=f,$.debug("[".concat(this.store.clientId,"] [").concat(this.store.p2pId," updateRemoteRTPCapabilities] default codec is not available, hence the fallback to ").concat(f,".")))}this.connection.updateRemoteRTPCapabilities(u,r)}}async preConnect(r,o,u,h,f,m){if(!this.connection)throw new _g(ea.UNEXPECTED_ERROR,"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .");this.store.peerConnectionStart();const v=await this.connection.connect(r,o,u,h,f,m);return this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=d0.Connected,v}getEstablishParams(){if(this.connection instanceof y_)return this.connection.getP2PConnectionParams();throw new Error("Only DataChannelConnection needs to obtain establishParams")}async publishDataChannel(r){if(!this.connection){if(this.state===d0.Disconnected)throw new _g(ea.UNEXPECTED_ERROR,"PeerConnection already disconnected.");const u=r.filter(h=>this.pendingLocalDataChannels.findIndex(f=>f.id===h.id)!==-1);return void(this.pendingLocalDataChannels=this.pendingLocalDataChannels.concat(u))}const o=this.filterTobePublishedDataChannels(r);o.length!==0&&(o.forEach(u=>{const h=Date.now();this.store.publish(u.id.toString(),"datachannel",h)}),await this.connection.createDataChannels(this.store.uid,o),o.forEach(u=>{this.localDataChannels.push(u);const h=Date.now();this.store.publish(u.id+"","datachannel",void 0,h)}))}publish(r,o,u){var h=this;return jS(function*(){const f=yield KQ(h.mutex.lock("From P2PChannel.publish"));try{if(!h.connection||h.state!==d0.Connected){if(h.state===d0.Disconnected)throw new _g(ea.UNEXPECTED_ERROR,"PeerConnection already disconnected.");h.throwIfTrackTypeNotMatch(r);const v=r.filter(R=>h.pendingLocalTracks.indexOf(R)===-1);return void(h.pendingLocalTracks=h.pendingLocalTracks.concat(v))}h.store.pubId=h.store.pubId+1,Z_.markPublishStart(h.store.clientId,h.store.pubId);const m=h.filterTobePublishedTracks(r,o,u);if(m.length===0)return void(yield KQ(h.tryToUnmuteAudio(r)));yield*A3(GZ(h.doPublish(h.connection,m)))}finally{f()}})()}doPublish(r,o){var u=this;return jS(function*(){o.forEach(k=>{let{track:L,type:q}=k;const z=Date.now();u.store.publish(L.getTrackId(),q===_d.LocalAudioTrack?"audio":"video",z)}),u.bindLocalTrackEvents(o);const h=yield KQ(r.send(o.map(k=>{let{track:L}=k;return L}),u.store.codec,u.store.audioCodec)),f=(yield KQ(h.next())).value,m=u.createGatewayPublishMessage(o,f);let v;try{v=yield m}catch(k){throw h.throw(k),(k==null?void 0:k.code)===ea.WS_ABORT&&o.forEach(L=>{let{track:q}=L;u.pendingLocalTracks.indexOf(q)===-1&&u.pendingLocalTracks.push(q)}),u.unbindLocalTrackEvents(o),k}const R=u.mapPubResToRemoteConfig(m,v),D=(yield KQ(h.next(R))).value;o.forEach(k=>{let{type:L}=k;u.statsCollector.addLocalStats(L)}),u.assignLocalTracks(o,D),u.statsUploader.startUploadOutboundStats(),o.forEach(k=>{let{track:L,type:q}=k;const z=Date.now();u.store.publish(L.getTrackId(),q===_d.LocalAudioTrack?"audio":"video",void 0,z)})})()}async updateVideoStreamParameter(r,o){const u=this.localTrackMap.get(o);if(!u)return;if(!(u.track instanceof HQ))return $.warn("[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack");if(!(this.connection instanceof W0||this.connection instanceof L_))return $.warn("[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB");const{track:h}=u,f=function(m,v){const R={};return m.height&&m.width&&(R.scaleResolutionDownBy=M8(m,v)),R.maxFramerate=m.framerate?iR(m.framerate):void 0,R.maxBitrate=m.bitrate?1e3*m.bitrate:void 0,R}(r,h);if(h._encoderConfig||(h._encoderConfig={}),o!==_d.LocalVideoLowTrack||!la("DISABLE_DUAL_STREAM_USE_ENCODING")&&f0().supportDualStreamEncoding)f.scaleResolutionDownBy!=null&&(h._encoderConfig.scaleResolutionDownBy=f.scaleResolutionDownBy);else{const m=h._originMediaStreamTrack;if(!m.canvas)return $.warn("[".concat(h.getTrackId(),"] no canvas on track"));(function(v,R){const D=v.canvas;R.width&&(D.width=iR(R.width)),R.height&&(D.height=iR(R.height)),R.framerate&&(D.stopCapture&&D.stopCapture(),D.stopCapture=$8(()=>{!D.startCapture&&D.stopCapture&&D.stopCapture(),D.startCapture&&D.startCapture()},iR(R.framerate)))})(m,r)}f.maxBitrate!=null&&(h._encoderConfig.bitrateMax=f.maxBitrate/1e3),f.maxFramerate!=null&&(h._encoderConfig.frameRate&&typeof h._encoderConfig.frameRate=="object"?h._encoderConfig.frameRate.max=f.maxFramerate:h._encoderConfig.frameRate={max:f.maxFramerate}),$.debug("[".concat(h.getTrackId(),"] LowStreamEncoderConfig: , ").concat(JSON.stringify(h._encoderConfig))),await this.connection.updateRtpSenderEncodings(h)}publishLowStream(r){var o=this;return jS(function*(){if(!o.connection||o.state!==d0.Connected)return;const u=yield KQ(o.mutex.lock("Locking from P2PChannel.publishLowStream"));try{const f=o.localTrackMap.get(_d.LocalVideoTrack);if(!f)throw new _g(ea.UNEXPECTED_ERROR,"Could not find high stream");if(o.localTrackMap.has(_d.LocalVideoLowTrack))throw new _g(ea.UNEXPECTED_ERROR,"[".concat(o.store.clientId,"] Can't publish low stream when stream already publish"));const m=[{track:o.getLowVideoTrack(f.track,r),type:_d.LocalVideoLowTrack}];if(yield*A3(GZ(o.doPublish(o.connection,m))),f.track.muted||!f.track.enabled){var h;const v=(h=o.localTrackMap.get(_d.LocalVideoLowTrack))===null||h===void 0?void 0:h.id;v!==void 0&&(yield KQ(o.connection.muteLocal([v])))}}finally{u()}})()}async republish(){this.pendingLocalTracks.length>0&&($.debug("[".concat(this.store.clientId,"] Emit P2PChannelEvents.RequestRePublish to republish tracks.")),await o_(this,mQ.RequestRePublish,this.pendingLocalTracks),this.emit(mQ.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&($.debug("Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels."),await o_(this,mQ.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(r){for(let o=this.pendingRemoteTracks.length-1;o>=0;o--){const{user:u,kind:h}=this.pendingRemoteTracks[o];(h!==sQ.AUDIO||u._audio_added_&&u._audioSSRC)&&(h!==sQ.VIDEO||u._video_added_&&u._videoSSRC)||this.pendingRemoteTracks.splice(o,1)}if(r)await o_(this,mQ.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:o,kind:u}of this.pendingRemoteTracks)await this.subscribe(o,u,u===sQ.VIDEO?o._videoSSRC:o._audioSSRC);this.pendingRemoteTracks.forEach(o=>{let{user:u}=o;this.emit(mQ.MediaReconnectEnd,u.uid)}),this.pendingRemoteTracks=[]}async unpublish(r){if(!this.connection||this.state!==d0.Connected)return void r.forEach(h=>{const f=this.pendingLocalTracks.indexOf(h);f!==-1&&this.pendingLocalTracks.splice(f,1)});const o=this.filterTobeUnpublishedTracks(r);if(o.length===0)return;const u=o.find(h=>h[0]==="videoLowTrack");return u&&u[1].track.close(),this.doUnpublish(this.connection,o)}async unpublishDataChannel(r){if(!this.connection||this.state!==d0.Connected)return void r.forEach(u=>{const h=this.pendingLocalDataChannels.indexOf(u);h!==-1&&this.pendingLocalDataChannels.splice(h,1)});const o=this.filterTobeUnpublishedDataChannels(r);return o.length!==0?(o.forEach(u=>{const h=this.localDataChannels.indexOf(u);h!==-1&&this.localDataChannels.splice(h,1)}),this.localDataChannels.length===0&&await this.connection.stopDataChannels(this.store.uid),o.map(u=>u.id)):void 0}async unpublishLowStream(){if(!this.connection||this.state!==d0.Connected)return;const r=this.localTrackMap.get(_d.LocalVideoLowTrack);if(!r)return;r.track.close();const o=[[_d.LocalVideoLowTrack,r]];return this.doUnpublish(this.connection,o)}async doUnpublish(r,o){const u=this.createGatewayUnpublishMessage(o);return await r.stopSending(o.map(h=>{let[,{id:f}]=h;return f})),this.withdrawLocalTracks(o),this.unbindLocalTrackEvents(o.map(h=>{let[f,{track:m}]=h;return{type:f,track:m}})),o.forEach(h=>{let[f]=h;this.statsCollector.removeLocalStats(f)}),this.localTrackMap.size===0&&this.statsUploader.stopUploadOutboundStats(),u}async subscribeDataChannel(r,o){if(!this.connection||this.state!==d0.Connected)throw new _g(ea.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");const u=o.filter(h=>{var f;return!((f=this.remoteDataChannelMap.get(r))!==null&&f!==void 0&&f.get(h.id))});if(u.length!==0)return await this.connection.createDataChannels(r.uid,u),u.forEach(h=>{var f;this.remoteDataChannelMap.has(r)?(f=this.remoteDataChannelMap.get(r))===null||f===void 0||f.set(h.id,h):this.remoteDataChannelMap.set(r,new Map([[h.id,h]]));const m=this.pendingRemoteDataChannels.findIndex(v=>{let{user:R,id:D}=v;return R.uid===r.uid&&D===h.id});m!==-1&&this.pendingRemoteDataChannels.splice(m,1)}),u.map(h=>h.id)}async subscribe(r,o,u,h,f){var m;if(!this.connection||this.state!==d0.Connected)throw new _g(ea.INVALID_OPERATION,"Cannot subscribe remote user when peerConnection disconnected.");if((m=this.remoteUserMap.get(r))!==null&&m!==void 0&&m.has(o))return;let v,R,D;if(f){const q=f.find(_s=>{let{stream_type:_n}=_s;return _n===o});if(!q)throw new _g(ea.UNEXPECTED_ERROR,"Cannot subscribe to remote ".concat(o," for user: ").concat(r.uid," because subscribe answer from gateway does not contain stream_type: ").concat(o,"."));const z=await this.connection.receive(o,q.ssrcs,String(r._uintid),q.attributes);this.connection instanceof W0&&(D=z.transceiver),v=z.track,R=z.id}else{const q=await this.connection.receive(o,[{ssrcId:u,rtx:h}],String(r._uintid),void 0);this.connection instanceof W0&&(D=q.transceiver),v=q.track,R=q.id}o===sQ.AUDIO?(r._audioTrack?r._audioTrack._updateOriginMediaStreamTrack(v):(r._audioTrack=new xR(v,r.uid,r._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(r._audioTrack.getTrackId()))),D&&r._audioTrack._updateRtpTransceiver(D),this.bindRemoteTrackEvents(r,r._audioTrack)):(r._videoTrack?r._videoTrack._updateOriginMediaStreamTrack(v):(r._videoTrack=new uN(v,r.uid,r._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(r._videoTrack.getTrackId()))),D&&r._videoTrack._updateRtpTransceiver(D),this.bindRemoteTrackEvents(r,r._videoTrack));const k=this.remoteUserMap.get(r);k?k.set(o,R):this.remoteUserMap.set(r,new Map([[o,R]])),this.statsCollector.addRemoteStats(r.uid),this.statsUploader.startUploadInboundStats();const L=this.pendingRemoteTracks.findIndex(q=>{let{user:z,kind:_s}=q;return z.uid===r.uid&&o===_s});L!==-1&&(this.pendingRemoteTracks.splice(L,1),this.emit(mQ.MediaReconnectEnd,r.uid))}async massSubscribe(r){return this.massSubscribeNoLock(r)}async massSubscribeNoLock(r){if(!this.connection||this.state!==d0.Connected)throw new _g(ea.INVALID_OPERATION,"Cannot subscribeAll remote users when peerConnection disconnected.");r=r.filter(u=>{var h;let{user:f,mediaType:m}=u;return!((h=this.remoteUserMap.get(f))!==null&&h!==void 0&&h.has(m))});const o=await this.connection.batchReceive(r.map(u=>{let{user:h,mediaType:f,ssrcId:m,rtxSsrcId:v}=u;return{kind:f,ssrcMsg:[{ssrcId:m,rtx:v}],mslabel:String(h._uintid)}}));r.forEach((u,h)=>{let{user:f,mediaType:m}=u;const{track:v,id:R,transceiver:D}=o[h];m===sQ.AUDIO?(f._audioTrack?f._audioTrack._updateOriginMediaStreamTrack(v):(f._audioTrack=new xR(v,f.uid,f._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote audio track: ").concat(f._audioTrack.getTrackId()))),D&&f._audioTrack._updateRtpTransceiver(D),this.bindRemoteTrackEvents(f,f._audioTrack)):(f._videoTrack?f._videoTrack._updateOriginMediaStreamTrack(v):(f._videoTrack=new uN(v,f.uid,f._uintid,this.store),$.info("[".concat(this.store.clientId,"] [").concat(this.store.p2pId,"] create remote video track: ").concat(f._videoTrack.getTrackId()))),D&&f._videoTrack._updateRtpTransceiver(D),this.bindRemoteTrackEvents(f,f._videoTrack));const k=this.remoteUserMap.get(f);k?k.set(m,R):this.remoteUserMap.set(f,new Map([[m,R]])),this.statsCollector.addRemoteStats(f.uid),this.statsUploader.startUploadInboundStats();const L=this.pendingRemoteTracks.findIndex(q=>{let{user:z,kind:_s}=q;return z.uid===f.uid&&m===_s});L!==-1&&(this.pendingRemoteTracks.splice(L,1),this.emit(mQ.MediaReconnectEnd,f.uid))})}async unsubscribe(r,o,u){const h=this.pendingRemoteTracks.filter(v=>{let{user:R,kind:D}=v;return o!==void 0?R.uid===r.uid&&o===D:R.uid===r.uid});if(h.forEach(v=>{const R=this.pendingRemoteTracks.indexOf(v);this.pendingRemoteTracks.splice(R,1)}),this.connection&&this.state===d0.Connected||u||h.forEach(v=>{let{kind:R}=v;var D;if(R===sQ.AUDIO)(D=r._audioTrack)===null||D===void 0||D._destroy(),r._audioTrack=void 0;else if(R===sQ.VIDEO){var k;(k=r._videoTrack)===null||k===void 0||k._destroy(),r._videoTrack=void 0}}),!this.connection||this.state!==d0.Connected)return;const f=this.filterTobeUnSubscribedTracks(r,o);if(f.length===0)return;await this.connection.stopReceiving(f.map(v=>{let[,{id:R}]=v;return R}));const m=this.createUnsubscribeMessage(f);return this.withdrawRemoteTracks(f),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),f.forEach(v=>{let[R,{kind:D}]=v;var k,L;if(D===sQ.VIDEO&&R._videoSSRC&&((k=this.connection)===null||k===void 0||k.setStatsRemoteVideoIsReady(R._videoSSRC,!1)),D===sQ.VIDEO)this.unbindRemoteTrackEvents(R._videoTrack),u||((L=R._videoTrack)===null||L===void 0||L._destroy(),R._videoTrack=void 0);else if(D===sQ.AUDIO){var q;this.unbindRemoteTrackEvents(R._audioTrack),!u&&((q=R._audioTrack)===null||q===void 0||q._destroy(),R._audioTrack=void 0)}}),m}async unsubscribeDataChannel(r,o){if(o.forEach(f=>{const m=this.pendingRemoteDataChannels.findIndex(v=>v.id===f.id);m!==-1&&this.pendingRemoteDataChannels.splice(m,1)}),!this.connection)return;const u=this.filterTobeUnSubscribedDataChannels(r,o);if(u.length===0)return;o.forEach(f=>{f._close()});const h=this.remoteDataChannelMap.get(r);return u.forEach(f=>{h&&h.delete(f.id)}),h&&h.size===0&&(this.remoteDataChannelMap.delete(r),await this.connection.stopDataChannels(r.uid)),u.map(f=>f.id)}async massUnsubscribe(r){return this.massUnsubscribeNoLock(r)}async massUnsubscribeNoLock(r){let o=[];for(const{user:f,mediaType:m}of r){const v=this.pendingRemoteTracks.filter(R=>{let{user:D,kind:k}=R;return m!==void 0?D.uid===f.uid&&m===k:D.uid===f.uid});v.forEach(R=>{const D=this.pendingRemoteTracks.indexOf(R);this.pendingRemoteTracks.splice(D,1)}),o=o.concat(v)}if(!this.connection||this.state!==d0.Connected)return void o.forEach(f=>{let{user:m,kind:v}=f;var R;if(v===sQ.AUDIO)(R=m._audioTrack)===null||R===void 0||R._destroy(),m._audioTrack=void 0;else if(v===sQ.VIDEO){var D;(D=m._videoTrack)===null||D===void 0||D._destroy(),m._videoTrack=void 0}});const u=YT(r).call(r,(f,m)=>{let{user:v,mediaType:R}=m;const D=this.filterTobeUnSubscribedTracks(v,R);return f.concat(D)},[]);if(u.length===0)return;await this.connection.stopReceiving(u.map(f=>{let[,{id:m}]=f;return m}));const h=this.createUnsubscribeAllMessage(u);return this.withdrawRemoteTracks(u),this.remoteUserMap.size===0&&this.statsUploader.stopUploadInboundStats(),u.forEach(f=>{let[m,{kind:v}]=f;var R,D;if(v===sQ.VIDEO&&m._videoSSRC&&((R=this.connection)===null||R===void 0||R.setStatsRemoteVideoIsReady(m._videoSSRC,!1)),v===sQ.VIDEO)this.unbindRemoteTrackEvents(m._videoTrack),(D=m._videoTrack)===null||D===void 0||D._destroy(),m._videoTrack=void 0;else if(v===sQ.AUDIO){var k;this.unbindRemoteTrackEvents(m._audioTrack),(k=m._audioTrack)===null||k===void 0||k._destroy(),m._audioTrack=void 0}}),h}async muteRemote(r,o){if(!this.connection)return;const u=this.remoteUserMap.get(r);if(!u)return void $.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(r.uid,"."));if(!u.get(o))return void $.warning("[".concat(this.store.clientId,"] P2PChannel.muteRemote has no remote user ").concat(r.uid," media type ").concat(o,"."));const h=o===sQ.VIDEO?r._videoSSRC:r._audioSSRC;h!==void 0&&this.connection.setStatsRemoteVideoIsReady(h,!1)}async unmuteRemote(r,o){return this.unmuteRemoteNoLock(r,o)}async unmuteRemoteNoLock(r,o){if(!this.connection)return;const u=this.remoteUserMap.get(r);if(!u)return void $.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(r.uid,"."));u.get(o)||$.warning("[".concat(this.store.clientId,"] P2PChannel.unmuteRemote has no remote user ").concat(r.uid," media type ").concat(o,"."))}getAllTracks(r){const o=this.localTrackMap.get(_d.LocalAudioTrack);if((o==null?void 0:o.track)instanceof a_){const u=o.track;return Array.from(this.localTrackMap.entries()).filter(h=>{let[f]=h;return f!==_d.LocalAudioTrack}).filter(h=>{let[f]=h;return!(r&&f===_d.LocalVideoLowTrack)}).map(h=>{let[,{track:f}]=h;return f}).concat(u.trackList)}return Array.from(this.localTrackMap.entries()).filter(u=>{let[h]=u;return!(r&&h===_d.LocalVideoLowTrack)}).map(u=>{let[,{track:h}]=u;return h})}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(r,o,u,h,f){if(r){const v=this.localTrackMap.get(_d.LocalAudioTrack),R=h?this.localTrackMap.get(_d.LocalVideoLowTrack):this.localTrackMap.get(_d.LocalVideoTrack);cQ.publish(this.store.sessionId,{eventElapse:Z_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:r,ec:o,audioName:v==null?void 0:v.track.getTrackLabel(),videoName:R==null?void 0:R.track.getTrackLabel(),screenshare:(R==null?void 0:R.track._hints.indexOf(R0.SCREEN_TRACK))!==-1,audio:!!v,video:!!R,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:f})}else{var m;u||(u=[]);const v=u.find(D=>D instanceof u0),R=h?(m=this.localTrackMap.get(_d.LocalVideoTrack))===null||m===void 0?void 0:m.track:u.find(D=>D instanceof HQ);cQ.publish(this.store.sessionId,{eventElapse:Z_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:r,ec:o,audioName:v==null?void 0:v.getTrackLabel(),videoName:R==null?void 0:R.getTrackLabel(),screenshare:(R==null?void 0:R._hints.indexOf(R0.SCREEN_TRACK))!==-1,audio:!!v,video:!!R,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:f})}}reportSubscribeEvent(r,o,u,h){const f=h===sQ.VIDEO?u._videoSSRC:u._audioSSRC;f&&cQ.subscribe(this.store.sessionId,{succ:r,ec:o,video:h===sQ.VIDEO,audio:h===sQ.AUDIO,peerid:u.uid,subscribeRequestid:h===sQ.VIDEO?u._videoSSRC:u._audioSSRC,p2pid:this.store.p2pId,eventElapse:Z_.measureFromSubscribeStart(this.store.clientId,f)})}reset(){$.debug("[".concat(this.store.clientId,"] P2PChannel.reset")),this.mutex=new T_("P2PChannel-mutex"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new y_({},this.store):this.isPlanB?new L_({},this.store):new W0({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const r=this.localTrackMap.get(_d.LocalAudioTrack);if((r==null?void 0:r.track)instanceof a_){if(r.track.trackList.length>0){const o=r.track;r.track.trackList.forEach(u=>{o.removeAudioTrack(u)})}r.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=d0.Disconnected}getStats(){var r;return(r=this.connection)===null||r===void 0?void 0:r.getStats()}getRemoteVideoIsReady(r){var o;return((o=this.connection)===null||o===void 0?void 0:o.getRemoteVideoIsReady(r))||!1}getLocalAudioVolume(){const r=this.localTrackMap.get(_d.LocalAudioTrack);if(r)return r.track.getVolumeLevel()}getLocalVideoSize(){const r=this.localTrackMap.get(_d.LocalVideoTrack);if(r)return{width:r.track._videoWidth||0,height:r.track._videoHeight||0}}getEncoderConfig(r){const o=this.localTrackMap.get(r);return o&&o.track instanceof HQ||o&&o.track instanceof u0?o.track._encoderConfig:void 0}getLocalMedia(r){return this.localTrackMap.get(r)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(r,o){if(!r)return this.remoteUserMap.size>0;const u=this.remoteUserMap.get(r);return!!u&&(!o||u.has(o))}async hasRemoteMediaWithLock(r,o){if(!r)return this.remoteUserMap.size>0;const u=this.remoteUserMap.get(r);return!!u&&(!o||u.has(o))}getRemoteMedia(r){var o;const u=Array.from($S(o=this.remoteUserMap).call(o)).find(h=>h.uid===r);return u?{audioTrack:u.audioTrack,audioSSRC:u._audioSSRC,videoTrack:u.videoTrack,videoSSRC:u._videoSSRC}:{}}getAudioLevels(){let r=Array.from(this.remoteUserMap.entries()).map(u=>{let[h]=u;return{uid:h.uid,level:h.audioTrack?100*h.audioTrack._source.getAccurateVolumeLevel():0}});const o=this.localTrackMap.get(_d.LocalAudioTrack);return o&&r.push({level:100*o.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),r=yO(r).call(r,(u,h)=>u.level-h.level),r}async disconnectForReconnect(){this.connection&&($.debug("[".concat(this.store.clientId,"] P2PChannel.disconnectForReconnect closing P2PConnection")),this.state=d0.Reconnecting,la("KEEP_LAST_FRAME")&&this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o]=r;var u;o._videoTrack&&o._videoTrack._player&&((u=o._videoTrack._player.getVideoElement())===null||u===void 0||u.pause(),o._videoTrack._player.isKeepLastFrame=!0,o._videoTrack._originMediaStreamTrack.stop())}),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.store.useDataChannel?new y_({},this.store):this.isPlanB?new L_({},this.store):new W0({},this.store),this.bindConnectionEvents(this.connection)),this.localTrackMap.size!==0&&(Array.from(this.localTrackMap.entries()).forEach(r=>{var o;let[u,{track:h}]=r;switch(u){case _d.LocalVideoTrack:AQ(o=h._hints).call(o,R0.LOW_STREAM)?h.close():this.pendingLocalTracks.push(h);break;case _d.LocalAudioTrack:h instanceof a_?this.pendingLocalTracks=this.pendingLocalTracks.concat(h.trackList):this.pendingLocalTracks.push(h);case _d.LocalVideoLowTrack:}}),this.emit(mQ.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),this.remoteUserMap.size!==0&&Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o,u]=r;Array.from($S(u).call(u)).forEach(h=>{this.setPendingRemoteMedia(o,h)}),this.emit(mQ.MediaReconnectStart,o.uid)}),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.localDataChannels.length!==0&&(this.localDataChannels.forEach(r=>{this.pendingLocalDataChannels.push(r)}),this.localDataChannels.length=0),this.remoteDataChannelMap.size!==0&&(Array.from(this.remoteDataChannelMap.entries()).forEach(r=>{let[o,u]=r;Array.from($S(u).call(u)).forEach(h=>{this.setPendingRemoteDataChannel(o,h)})}),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),$.debug("[".concat(this.store.clientId,"] P2PChannel disconnected, waiting to reconnect.")))}hasPendingRemoteDataChannel(r,o){for(const u of this.pendingRemoteDataChannels){const{user:h,id:f}=u;if((r instanceof F_?r.uid:r)===h.uid&&f===o)return!0}return!1}setPendingRemoteDataChannel(r,o){this.hasPendingRemoteDataChannel(r,o)||this.pendingRemoteDataChannels.push({user:r,id:o})}hasPendingRemoteMedia(r,o){for(const u of this.pendingRemoteTracks){const{user:h,kind:f}=u;if((r instanceof F_?r.uid:r)===h.uid&&o===f)return!0}return!1}setPendingRemoteMedia(r,o){this.hasPendingRemoteMedia(r,o)||this.pendingRemoteTracks.push({user:r,kind:o})}restartICE(r){var o=this;return jS(function*(){if(!o.connection||o.state!==d0.Connected||o.connection instanceof y_)return;const u=yield KQ(o.mutex.lock("From P2PChannel.restartICE"));let h;try{h=yield KQ(o.connection.restartICE(r));const m=yield KQ(h.next());if(m.done)return;const v=m.value,R=yield v;switch(o.reportPCDisconnectedOrFailed(r),r){case X_.TCP:o._pcStatsUploadType=$R.TCP_RESTART;break;case X_.RELAY:o._pcStatsUploadType=$R.RELAY_RESTART;break;default:o._pcStatsUploadType=$R.OLD_RESTART}o._isInRestartIce=!0,h.next(R)}catch(m){var f;(f=h)===null||f===void 0||f.throw(m)}finally{u()}})()}getUplinkNetworkQuality(){if(!this.connection)return 0;const r=this.connection.getStats(),o=this.localTrackMap.get(_d.LocalVideoTrack),u=this.localTrackMap.get(_d.LocalAudioTrack),h=r.videoSend.find(_s=>_s.ssrc===(o==null?void 0:o.ssrcs[0].ssrcId)),f=r.audioSend.find(_s=>_s.ssrc===(u==null?void 0:u.ssrcs[0].ssrcId));if(!h||!f)return 1;const m=FS(this,mQ.NeedSignalRTT),v=h?h.rttMs:void 0,R=f?f.rttMs:void 0,D=v&&R?(v+R)/2:v||R,k=(D&&m?(D+m)/2:D||m)||0,L=100*r.sendPacketLossRate*.7/50+.3*k/1500,q=L<.17?1:L<.36?2:L<.59?3:L<.1?4:5,z=o==null?void 0:o.track;if(z&&z._encoderConfig&&z._hints.indexOf(R0.SCREEN_TRACK)===-1){const _s=z._encoderConfig.bitrateMax,_n=r.bitrate.actualEncoded;if(_s&&_n){const _i=(1e3*_s-_n)/(1e3*_s);return GW[_i<.15?0:_i<.3?1:_i<.45?2:_i<.6?3:4][q]}}return q}getDownlinkNetworkQuality(){if(!this.connection)return 0;const r=this.connection.getStats();let o=0;return Array.from(this.remoteUserMap.entries()).forEach(u=>{let[h]=u;const f=h._audioSSRC,m=h._videoSSRC,v=r.audioRecv.find(_n=>_n.ssrc===f),R=r.videoRecv.find(_n=>_n.ssrc===m);if(!v&&!R)return void(o+=1);const D=FS(this,mQ.NeedSignalRTT),k=r.rtt,L=(k&&D?(k+D)/2:k||D)||0,q=v?v.jitterMs:void 0,z=r.recvPacketLossRate;let _s=.7*z*100/50+.3*L/1500;q&&(_s=.6*z*100/50+.2*L/1500+.2*q/400),o+=_s<.1?1:_s<.17?2:_s<.36?3:_s<.59?4:5}),this.remoteUserMap.size>0?Math.round(o/this.remoteUserMap.size):o}async muteLocalTrack(r){return new lc((o,u)=>{this.handleMuteLocalTrack(r,o,u)})}filterTobePublishedTracks(r,o,u){const h=[],f=f0(),m=this.getAllTracks();r=L1(r=r.filter(D=>m.indexOf(D)===-1));let v=!1,R=!1;for(const D of r){if(D instanceof HQ&&(this.localTrackMap.has(_d.LocalVideoTrack)||v?new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(h.push({track:D,type:_d.LocalVideoTrack}),v=!0),o)){const k=this.getLowVideoTrack(D,u);h.push({track:k,type:_d.LocalVideoLowTrack})}if(D instanceof u0){const k=this.localTrackMap.get(_d.LocalAudioTrack);if(k){if(!(k.track instanceof a_))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(D._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");k.track.addAudioTrack(D),this.bindLocalAudioTrackEvents(D,!0)}else if(R){const L=h.find(q=>{let{type:z}=q;return z===_d.LocalAudioTrack});if(!(L.track instanceof a_))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing");if(D._bypassWebAudio)throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio");L.track.addAudioTrack(D)}else{if(!f.webAudioMediaStreamDest||D instanceof a_||D._bypassWebAudio)h.push({track:D,type:_d.LocalAudioTrack});else{const L=new a_;L.addAudioTrack(D),h.push({track:L,type:_d.LocalAudioTrack})}R=!0}}}return h}filterTobeUnpublishedTracks(r){const o=[],u=this.getAllTracks();r=L1(r=r.filter(h=>u.indexOf(h)!==-1));for(const h of r){if(h instanceof u0){const f=this.localTrackMap.get(_d.LocalAudioTrack);if(!f)continue;f.track instanceof a_?(f.track.removeAudioTrack(h),this.unbindLocalAudioTrackEvents(h),f.track.trackList.length===0&&(o.push([_d.LocalAudioTrack,f]),f.track.close())):o.push([_d.LocalAudioTrack,f])}if(h instanceof HQ){const f=this.localTrackMap.get(_d.LocalVideoTrack);if(!f)continue;o.push([_d.LocalVideoTrack,f]);const m=this.localTrackMap.get(_d.LocalVideoLowTrack);m&&o.push([_d.LocalVideoLowTrack,m])}}return o}filterTobePublishedDataChannels(r){return r=(r=L1(r)).filter(o=>this.localDataChannels.findIndex(u=>u.id===o.id)===-1)}filterTobeUnpublishedDataChannels(r){return r=(r=(r=L1(r)).filter(o=>this.localDataChannels.indexOf(o)!==-1)).filter(o=>o._originDataChannel)}bindLocalTrackEvents(r){r.forEach(o=>{let{track:u,type:h}=o;switch(h){case _d.LocalVideoTrack:u.addListener(rQ.GET_STATS,this.handleGetLocalVideoStats),u.addListener(rQ.GET_RTC_STATS,this.handleGetRTCStats),u.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.addListener(rQ.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),u.addListener(rQ.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),u.addListener(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),u.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _d.LocalAudioTrack:this.bindLocalAudioTrackEvents(u);case _d.LocalVideoLowTrack:}})}bindLocalAudioTrackEvents(r,o){r instanceof a_?r.trackList.forEach(u=>{u.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.addListener(rQ.GET_STATS,this.handleGetLocalAudioStats),u.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(r.addListener(rQ.GET_STATS,this.handleGetLocalAudioStats),r.addListener(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),r.addListener(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),r.addListener(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),r.addListener(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),o||r.addListener(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(r){r||(r=Array.from(this.localTrackMap.entries()).map(o=>{let[u,{track:h}]=o;return{track:h,type:u}})),r.forEach(o=>{let{track:u,type:h}=o;switch(h){case _d.LocalVideoTrack:u.off(rQ.GET_STATS,this.handleGetLocalVideoStats),u.off(rQ.GET_RTC_STATS,this.handleGetRTCStats),u.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),u.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),u.off(rQ.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),u.off(rQ.SET_OPTIMIZATION_MODE,this.handleSetOptimizationMode),u.off(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),u.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),u.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case _d.LocalAudioTrack:this.unbindLocalAudioTrackEvents(u);case _d.LocalVideoLowTrack:}})}unbindLocalAudioTrackEvents(r){r instanceof a_?r.trackList.forEach(o=>{o.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),o.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),o.off(rQ.GET_STATS,this.handleGetLocalAudioStats),o.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),o.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)}):(r.off(rQ.GET_STATS,this.handleGetLocalAudioStats),r.off(rQ.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),r.off(rQ.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),r.off(rQ.NEED_REPLACE_TRACK,this.handleReplaceTrack),r.off(rQ.NEED_MUTE_TRACK,this.handleMuteLocalTrack),r.off(rQ.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(r,o){o instanceof uN&&o.addListener(rQ.GET_STATS,u=>{u(this.handleGetRemoteVideoStats(r))}),o instanceof xR&&o.addListener(rQ.GET_STATS,u=>{u(this.handleGetRemoteAudioStats(r))})}unbindRemoteTrackEvents(r){r&&r.removeAllListeners(rQ.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach(r=>{let[o,u]=r;u.has(sQ.AUDIO)&&this.unbindRemoteTrackEvents(o._audioTrack),u.has(sQ.VIDEO)&&this.unbindRemoteTrackEvents(o._videoTrack)})}createGatewayPublishMessage(r,o){return r.map((u,h)=>{var f;let m,v,{track:R,type:D}=u;switch(D){case _d.LocalAudioTrack:m=a0.Audio,v={dtx:R instanceof e1&&R._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case _d.LocalVideoTrack:m=AQ(f=R._hints).call(f,R0.SCREEN_TRACK)?a0.Screen:a0.High,v=ST(ST({},s7(R)),{},{codec:this.store.codec});break;case _d.LocalVideoLowTrack:m=a0.Low,v=ST(ST({},s7(R)),{},{codec:this.store.codec})}return{stream_type:m,attributes:v,ssrcs:o[h]}})}createGatewayUnpublishMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}assignLocalTracks(r,o){r.forEach((u,h)=>{let{track:f,type:m}=u;this.localTrackMap.set(m,{track:f,id:o[h].id,ssrcs:o[h].localSSRC})})}withdrawLocalTracks(r){r.forEach(o=>{let[u]=o;this.localTrackMap.delete(u)})}bindConnectionEvents(r){r.onConnectionStateChange=async o=>{if($.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onConnectionStateChange(").concat(o,")")),this.emit(mQ.PeerConnectionStateChange,o),o!=="connected"||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),o==="connected"&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),la("NEW_ICE_RESTART")){var u;if(AQ(u=this._restartStates).call(u,o)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const h=v=>{(r.iceConnectionState==="disconnected"||r.iceConnectionState==="checking"||r.iceConnectionState==="failed")&&($.debug("[".concat(this.store.clientId,"] [P2PChannel] start use restartICE, type is ").concat(v)),FS(this,mQ.QueryClientConnectionState)==="CONNECTED"&&this.emit(mQ.RequestRestartICE,v))},f=()=>{r.iceConnectionState!=="disconnected"&&r.iceConnectionState!=="checking"&&r.iceConnectionState!=="failed"||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),$.debug("[".concat(this.store.clientId,"] P2PConnection disconnected timeout, force reconnect")),setTimeout(()=>this.emit(mQ.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},m=la("ICE_RESTART_INTERVAL");return void(this._restartTimer=window.setTimeout(()=>{if(la("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&f0().supportPCSetConfiguration)h(X_.RELAY),this._restartTimer=window.setTimeout(f,m);else if(Q0())h(X_.UDP),this._restartTimer=window.setTimeout(f,4e3);else{if(h(X_.TCP),f0().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout(()=>{h(X_.RELAY),this._restartTimer=window.setTimeout(f,m)},m));this._restartTimer=window.setTimeout(f,m)}},800))}}else{if(o==="disconnected"&&r.iceConnectionState==="disconnected")return setTimeout(()=>{r.iceConnectionState==="disconnected"&&la("ICE_RESTART")&&FS(this,mQ.QueryClientConnectionState)==="CONNECTED"&&this.emit(mQ.RequestRestartICE)},800),void setTimeout(()=>{r.peerConnectionState==="disconnected"&&($.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection disconnected timeout 4000ms, force reconnect")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout(()=>this.emit(mQ.P2PLost),0),this.iceFailedCount+=1,this.requestReconnect())},4e3);o==="failed"&&($.debug("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection state failed, force reconnect")),this.reportPCDisconnectedOrFailed(),setTimeout(()=>this.emit(mQ.P2PLost),0),this.iceFailedCount+=1,await this.requestReconnect())}},r.onICEConnectionStateChange=o=>{o!=="connected"||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICEConnectionStateChange(").concat(o,")")),cQ.reportApiInvoke(this.store.sessionId,{name:"ICEConnectionStateChange",options:o,tag:G0.TRACER}).onSuccess(),this.emit(mQ.IceConnectionStateChange,o)},r.onICETransportStateChange=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onICETransportStateChange(").concat(o,")"))},r.onDTLSTransportStateChange=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportStateChange(").concat(o,")"))},r.onDTLSTransportError=o=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.onDTLSTransportError(").concat(o,")"))},r.onFirstAudioDecoded=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(m=>m._audioSSRC===o);var f;h&&(this.store.subscribe(h.uid,"audio",void 0,void 0,void 0,Date.now()),(f=h.audioTrack)===null||f===void 0||f.emit(zT.FIRST_FRAME_DECODED),cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_AUDIO_DECODE,k0.FIRST_AUDIO_DECODE,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId}))},r.onFirstAudioReceived=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(f=>f._audioSSRC===o);h&&cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_AUDIO_RECEIVED,k0.FIRST_AUDIO_RECEIVED,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId})},r.onFirstVideoDecoded=(o,u,h)=>{this.reportVideoFirstFrameDecoded(o,u,h)},r.onFirstVideoReceived=o=>{var u;const h=Array.from($S(u=this.remoteUserMap).call(u)).find(f=>f._videoSSRC===o);h&&cQ.firstRemoteFrame(this.store.sessionId,f_.FIRST_VIDEO_RECEIVED,k0.FIRST_VIDEO_RECEIVED,{peer:h._uintid,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,o),subscribeRequestid:o,p2pid:this.store.p2pId})},r.onSelectedLocalCandidateChanged=(o,u)=>{const h=o.candidateType==="relay",f=u.candidateType==="relay";u.candidateType!=="unknown"&&h===f||this.emit(mQ.ConnectionTypeChange,h),$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedLocalCandidateChanged(").concat(JSON.stringify(dT(u))," -> ").concat(JSON.stringify(dT(o)),")"))},r.onSelectedRemoteCandidateChanged=(o,u)=>{$.info("[".concat(this.store.clientId,"] [p2pId: ").concat(this.store.p2pId,"]: P2PConnection.SelectedRemoteCandidateChanged(").concat(JSON.stringify(dT(u))," -> ").concat(JSON.stringify(dT(o)),")"))},r.onFirstVideoDecodedTimeout=o=>{this.reportVideoFirstFrameDecoded(o,void 0,void 0,!0)}}unbindConnectionEvents(r){r.onConnectionStateChange=void 0,r.onICEConnectionStateChange=void 0,r.onICETransportStateChange=void 0,r.onDTLSTransportStateChange=void 0,r.onDTLSTransportError=void 0,r.onFirstAudioDecoded=void 0,r.onFirstAudioReceived=void 0,r.onFirstVideoDecoded=void 0,r.onFirstVideoReceived=void 0,r.onSelectedLocalCandidateChanged=void 0,r.onSelectedRemoteCandidateChanged=void 0,r.onFirstVideoDecodedTimeout=void 0}filterTobeMutedTracks(r){const o=[];if(this.getAllTracks().indexOf(r)===-1)return o;const u=this.localTrackMap.get(_d.LocalAudioTrack);if(r instanceof u0&&(u==null?void 0:u.track)instanceof a_)return u.track.isActive||o.push([_d.LocalAudioTrack,u]),o;const h=Array.from(this.localTrackMap.entries()).find(f=>{let[,{track:m}]=f;return r===m});if(h&&(o.push(h),h[0]===_d.LocalVideoTrack)){const f=this.localTrackMap.get(_d.LocalVideoLowTrack);f&&o.push([_d.LocalVideoLowTrack,f])}return o}filterTobeUnmutedTracks(r){const o=[],u=this.localTrackMap.get(_d.LocalAudioTrack);if(r instanceof u0&&(u==null?void 0:u.track)instanceof a_)return u.track.isActive&&o.push([_d.LocalAudioTrack,u]),o;const h=Array.from(this.localTrackMap.entries()).find(f=>{let[,{track:m}]=f;return r===m});if(h)if(h[0]===_d.LocalVideoTrack){o.push(h);const f=this.localTrackMap.get(_d.LocalVideoLowTrack);f&&o.push([_d.LocalVideoLowTrack,f])}else o.push(h);return o}createMuteMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}createUnmuteMessage(r){return r.map(o=>{var u;let h,[f,{track:m,ssrcs:v,id:R}]=o;switch(f){case _d.LocalAudioTrack:h=a0.Audio;break;case _d.LocalVideoTrack:h=AQ(u=m._hints).call(u,R0.SCREEN_TRACK)?a0.Screen:a0.High;break;case _d.LocalVideoLowTrack:h=a0.Low}return{stream_type:h,ssrcs:v,mid:R}})}filterTobeUnSubscribedTracks(r,o){const u=[],h=this.remoteUserMap.get(r);if(!h)return u;if(o){const f=h.get(o);if(!f)return u;u.push([r,{kind:o,id:f}])}else Array.from(h.entries()).forEach(f=>{let[m,v]=f;u.push([r,{kind:m,id:v}])});return u}filterTobeUnSubscribedDataChannels(r,o){const u=[];return o.forEach(h=>{var f;(f=this.remoteDataChannelMap.get(r))!==null&&f!==void 0&&f.has(h.id)&&u.push(h)}),u}createUnsubscribeMessage(r){const o=[];return r.forEach(u=>{let[h,{kind:f,id:m}]=u;switch(f){case sQ.VIDEO:return void(h._videoSSRC&&o.push({stream_type:sQ.VIDEO,ssrcId:h._videoSSRC}));case sQ.AUDIO:return void(h._audioSSRC&&o.push({stream_type:sQ.AUDIO,ssrcId:h._audioSSRC}))}}),o}createUnsubscribeAllMessage(r){const o=new Map;return r.forEach(u=>{let[h,{kind:f}]=u;if(o.has(h)){let m=o.get(h);f===sQ.VIDEO?m|=d_.Video:m|=d_.Audio,o.set(h,m)}else f===sQ.VIDEO?o.set(h,d_.Video):o.set(h,d_.Audio)}),{users:Array.from(o.entries()).map(u=>{let[h,f]=u;return{stream_id:h.uid,stream_type:f}})}}withdrawRemoteTracks(r){r.forEach(o=>{let[u,{kind:h}]=o;const f=this.remoteUserMap.get(u);f&&(f.delete(h),Array.from(f.entries()).length===0&&this.remoteUserMap.delete(u))})}async updateBitrateLimit(r){const o=this.localTrackMap.get(_d.LocalVideoTrack),u=this.localTrackMap.get(_d.LocalVideoLowTrack);o&&await o.track.setBitrateLimit(r.uplink),u&&r.low_stream_uplink&&await u.track.setBitrateLimit({max_bitrate:r.low_stream_uplink.bitrate,min_bitrate:r.low_stream_uplink.bitrate||0})}isP2PDisconnected(){return this.connection?this.connection.peerConnectionState!=="connected":!0}mapPubResToRemoteConfig(r,o){return r.map((u,h)=>{var f;let{stream_type:m}=u;return(f=o.find(v=>{let{stream_type:R}=v;return m===R}))===null||f===void 0?void 0:f.attributes})}async tryToUnmuteAudio(r){for(let u=0;u<r.length;u++)if(r[u]instanceof u0){var o;const h=this.filterTobeUnmutedTracks(r[u]);if(h.length===0)continue;await((o=this.connection)===null||o===void 0?void 0:o.unmuteLocal(h.map(m=>{let[,{id:v}]=m;return v})));const f=this.createUnmuteMessage(h);return void await m0(this,mQ.RequestUnmuteLocal,f)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=r=>{var o;return!((o=this.connection)===null||o===void 0||!o.getRemoteVideoIsReady(r))},this.statsUploader.requestUpload=(r,o)=>this.emit(mQ.RequestUpload,r,o),this.statsUploader.requestUploadStats=r=>this.emit(mQ.RequestUploadStats,r),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await N_(lP(this.dtlsFailedCount,s_)),this.emit(mQ.RequestReconnect)}async reconnectP2P(){const r=Array.from(this.localTrackMap.entries()),o=this.createGatewayUnpublishMessage(r);Array.from(this.remoteUserMap.entries()),o.length>0&&await o_(this,mQ.RequestUnpublishForReconnectPC,o),this.disconnectForReconnect(),this.emit(mQ.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(_d.LocalVideoTrack)||this.pendingLocalTracks.some(r=>r instanceof HQ)}throwIfTrackTypeNotMatch(r){if(r.filter(o=>o instanceof HQ).length>1)throw new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(r.filter(o=>o instanceof u0).length>1&&(r.some(o=>o instanceof u0&&o._bypassWebAudio)||!f0().webAudioMediaStreamDest))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode");for(const o of r){if(o instanceof HQ&&this.pendingLocalTracks.some(u=>u instanceof HQ))throw new _g(ea.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(o instanceof u0&&this.pendingLocalTracks.some(u=>u instanceof u0)&&(!f0().webAudioMediaStreamDest||o._bypassWebAudio||this.pendingLocalTracks.some(u=>u instanceof u0&&u._bypassWebAudio)))throw new _g(ea.NOT_SUPPORTED,"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode")}}getLowVideoTrack(r,o){const u=!la("DISABLE_DUAL_STREAM_USE_ENCODING")&&f0().supportDualStreamEncoding,h=ST(ST({},{width:160,height:120,framerate:15,bitrate:50}),o);let f;f=u?r._mediaStreamTrack.clone():F4(r,h);const m=y0(8,"track-low-"),v=new HQ(f,ST(ST({},u&&{scaleResolutionDownBy:M8(h,r)}),{},{frameRate:h.framerate,bitrateMax:h.bitrate,bitrateMin:h.bitrate}),void 0,void 0,m);return v.on(q1.TRANSCEIVER_UPDATED,R=>{r._updateRtpTransceiver(R,ET.LOW_STREAM)}),v._hints.push(R0.LOW_STREAM),r.addListener(rQ.NEED_CLOSE,()=>{v.close()}),v}async globalLock(){return this.mutex.lock("From P2PChannel.globalLock")}async reportPCStats(r,o,u){let h=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(this.connection&&this.connection instanceof W0){var f,m,v,R;const D=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:k,dtlsTransportState:L,peerConnectionState:q}=this.connection,{local:z,remote:_s}=await this.connection.getSelectedCandidatePair();cQ.pcStats(this.store.sessionId,{startTime:D,eventElapse:r-D||0,iceconnectionsate:k,dtlsstate:L,connectionstate:q,intSucc:o?1:2,error:h,selectedLocalCandidateProtocol:(f=z==null?void 0:z.protocol)!==null&&f!==void 0?f:"",selectedLocalCandidateType:(m=z.candidateType)!==null&&m!==void 0?m:"",selectedLocalCandidateAddress:"".concat(z.address,":").concat(z.port),selectedRemoteCandidateProtocol:(v=_s.protocol)!==null&&v!==void 0?v:"",selectedRemoteCandidateType:(R=_s.candidateType)!==null&&R!==void 0?R:"",selectedRemoteCandidateAddress:"".concat(_s.address,":").concat(_s.port),restartCnt:u})}}reportVideoFirstFrameDecoded(r,o,u,h){var f;const m=Array.from($S(f=this.remoteUserMap).call(f)).find(v=>v._videoSSRC===r);if(m){h||this.store.subscribe(m.uid,"video",void 0,void 0,void 0,void 0,Date.now());const v=this.store.keyMetrics,R=v.subscribe.find(D=>D.userId===m.uid&&D.type==="video");cQ.firstRemoteVideoDecode(this.store.sessionId,f_.FIRST_VIDEO_DECODE,k0.FIRST_VIDEO_DECODE,{peer:m._uintid,videowidth:o,videoheight:u,subscribeElapse:Z_.measureFromSubscribeStart(this.store.clientId,r),subscribeRequestid:r,p2pid:this.store.p2pId,apEnd:v.requestAPEnd||0,apStart:v.requestAPStart||0,joinGwEnd:v.joinGatewayEnd||0,joinGwStart:v.joinGatewayStart||0,pcEnd:v.peerConnectionEnd||0,pcStart:v.peerConnectionStart||0,subscriberEnd:(R==null?void 0:R.subscribeEnd)||0,subscriberStart:(R==null?void 0:R.subscribeStart)||0,videoAddNotify:(R==null?void 0:R.streamAdded)||0,state:h?1:0})}}async remoteMediaSsrcChanged(r,o,u){if(!this.connection)return!1;const h=this.remoteUserMap.get(r);if(!h)return!1;const f=h.get(o);if(!f)return!1;const m=await this.connection.getRemoteSSRC(f);return m!==void 0&&m!==u}resetConnection(r){$.debug("[".concat(this.store.clientId,"] [P2PChannel] reset connection to ").concat(r)),this.state===d0.Connected?($.debug("[".concat(this.store.clientId,"] [P2PChannel] fallback to websocket but P2PChannel state still connected, disconnect first")),this.disconnectForReconnect()):(this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=r===_P.datachannel?new y_({},this.store):this.isPlanB?new L_({},this.store):new W0({},this.store),this.bindConnectionEvents(this.connection)))}unbindRtpTransceiver(){this.localTrackMap.size!==0&&Array.from(this.localTrackMap.entries()).forEach(r=>{let[o,{track:u}]=r;o===_d.LocalVideoLowTrack?u._updateRtpTransceiver(void 0,ET.LOW_STREAM):u._updateRtpTransceiver(void 0)})}reportPCDisconnectedOrFailed(r){this.connection&&this.connection instanceof W0&&(this.connection.iceConnectionState!=="disconnected"&&this.connection.iceConnectionState!=="checking"&&this.connection.iceConnectionState!=="failed"||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===$R.TCP_RESTART&&r===X_.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,$R.DISCONNECTED_OR_FAILED)))}}function cS(A,r,o){const u=A[r];if(typeof u!="function")throw new Error("Cannot use mutex on object property.");return o.value=async function(){const h=this.mutex,f=await h.lock("From P2PChannel.".concat(r));try{for(var m=arguments.length,v=new Array(m),R=0;R<m;R++)v[R]=arguments[R];return await u.apply(this,v)}finally{f()}},o}function hge(A){let r=jZ();return function(o,u){let h=o.appId;h!==void 0&&(l0(u,10),BN(u,h));let f=o.cid;f!==void 0&&(l0(u,16),l0(u,f));let m=o.cname;m!==void 0&&(l0(u,26),BN(u,m));let v=o.deviceId;v!==void 0&&(l0(u,34),BN(u,v));let R=o.elapse;R!==void 0&&(l0(u,40),RT(u,R));let D=o.fileSize;D!==void 0&&(l0(u,48),RT(u,sO(D)));let k=o.height;k!==void 0&&(l0(u,56),RT(u,sO(k)));let L=o.jpg;L!==void 0&&(l0(u,66),l0(u,L.length),function(YS,ud){let _f=aO(YS,ud.length);YS.bytes.set(ud,_f)}(u,L));let q=o.networkType;q!==void 0&&(l0(u,72),RT(u,sO(q)));let z=o.osType;z!==void 0&&(l0(u,80),RT(u,sO(z)));let _s=o.requestId;_s!==void 0&&(l0(u,90),BN(u,_s));let _n=o.sdkVersion;_n!==void 0&&(l0(u,98),BN(u,_n));let _i=o.sequence;_i!==void 0&&(l0(u,104),RT(u,sO(_i)));let Aa=o.sid;Aa!==void 0&&(l0(u,114),BN(u,Aa));let Ea=o.timestamp;Ea!==void 0&&(l0(u,120),RT(u,Ea));let Qa=o.uid;Qa!==void 0&&(l0(u,128),l0(u,Qa));let Vc=o.vid;Vc!==void 0&&(l0(u,136),l0(u,Vc));let Fa=o.width;Fa!==void 0&&(l0(u,144),RT(u,sO(Fa)));let Va=o.service;Va!==void 0&&(l0(u,152),l0(u,Va));let _c=o.callbackData;_c!==void 0&&(l0(u,162),BN(u,_c));let ec=o.jpgEncryption;ec!==void 0&&(l0(u,168),l0(u,ec));let kd=o.requestType;kd!==void 0&&(l0(u,176),l0(u,kd));let _h=o.scorePorn;_h!==void 0&&(l0(u,185),X4(u,_h));let RQ=o.scoreSexy;RQ!==void 0&&(l0(u,193),X4(u,RQ));let jQ=o.scoreNeutral;jQ!==void 0&&(l0(u,201),X4(u,jQ));let w0=o.scene;w0!==void 0&&(l0(u,208),l0(u,w0));let E_=o.ossFilePrefix;E_!==void 0&&(l0(u,218),BN(u,E_));let O0=o.serviceVendor;if(O0!==void 0)for(let YS of O0){l0(u,226);let ud=jZ();Bge(YS,ud),l0(u,ud.limit),_ge(u,ud),yge(ud)}}(A,r),function(o){let u=o.bytes,h=o.limit;return u.length===h?u:u.subarray(0,h)}(r)}function pge(A){return function(o){let u={};e:for(;!HZ(o);){let h=QN(o);switch(h>>>3){case 0:break e;case 1:u.code=QN(o);break;case 2:u.msg=YZ(o,QN(o));break;case 3:{let f=Qge(o);u.data=fge(o),o.limit=f;break}default:FZ(o,7&h)}}return u}({bytes:r=A,offset:0,limit:r.length});var r}function fge(A){let r={};e:for(;!HZ(A);){let o=QN(A);switch(o>>>3){case 0:break e;case 1:r.requestId=YZ(A,QN(A));break;case 2:r.requestType=QN(A)>>>0;break;case 3:r.scorePorn=W4(A);break;case 4:r.scoreSexy=W4(A);break;case 5:r.scoreNeutral=W4(A);break;case 6:r.requestScene=QN(A)>>>0;break;case 7:r.scene=QN(A)>>>0;break;default:FZ(A,7&o)}}return r}function Bge(A,r){let o=A.service;o!==void 0&&(l0(r,8),l0(r,o));let u=A.vendor;u!==void 0&&(l0(r,16),l0(r,u));let h=A.token;h!==void 0&&(l0(r,26),BN(r,h));let f=A.callbackUrl;f!==void 0&&(l0(r,34),BN(r,f))}function Qge(A){let r=QN(A),o=A.limit;return A.limit=A.offset+r,o}function FZ(A,r){switch(r){case 0:for(;128&JZ(A););break;case 2:V4(A,QN(A));break;case 5:V4(A,4);break;case 1:V4(A,8);break;default:throw new Error("Unimplemented type: "+r)}}td([cS,_o("design:type",Function),_o("design:paramtypes",[Object,Boolean]),_o("design:returntype",lc)],M_.prototype,"startP2PConnection",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],M_.prototype,"connect",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",void 0)],M_.prototype,"updateRemoteRTPCapabilities",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Object,Object,Array,Object,String,String]),_o("design:returntype",lc)],M_.prototype,"preConnect",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],M_.prototype,"publishDataChannel",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],M_.prototype,"unpublish",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],M_.prototype,"unpublishDataChannel",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],M_.prototype,"unpublishLowStream",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,Array]),_o("design:returntype",lc)],M_.prototype,"subscribeDataChannel",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String,Number,Number,Array]),_o("design:returntype",lc)],M_.prototype,"subscribe",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],M_.prototype,"massSubscribe",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String,Boolean]),_o("design:returntype",lc)],M_.prototype,"unsubscribe",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,Array]),_o("design:returntype",lc)],M_.prototype,"unsubscribeDataChannel",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],M_.prototype,"massUnsubscribe",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],M_.prototype,"muteRemote",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],M_.prototype,"unmuteRemote",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String]),_o("design:returntype",lc)],M_.prototype,"hasRemoteMediaWithLock",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],M_.prototype,"disconnectForReconnect",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],M_.prototype,"updateBitrateLimit",null),td([cS,_o("design:type",Function),_o("design:paramtypes",[F_,String,Number]),_o("design:returntype",lc)],M_.prototype,"remoteMediaSsrcChanged",null);let mge=new Float32Array(1);new Uint8Array(mge.buffer);let J4=new Float64Array(1),OS=new Uint8Array(J4.buffer);function sO(A){return{low:A|=0,high:A>>31,unsigned:A>=0}}let KZ=[];function jZ(){const A=KZ.pop();return A?(A.offset=A.limit=0,A):{bytes:new Uint8Array(64),offset:0,limit:0}}function yge(A){KZ.push(A)}function V4(A,r){if(A.offset+r>A.limit)throw new Error("Skip past limit");A.offset+=r}function HZ(A){return A.offset>=A.limit}function aO(A,r){let o=A.bytes,u=A.offset,h=A.limit,f=u+r;if(f>o.length){let m=new Uint8Array(2*f);m.set(o),A.bytes=m}return A.offset=f,f>h&&(A.limit=f),u}function q4(A,r){let o=A.offset;if(o+r>A.limit)throw new Error("Read past limit");return A.offset+=r,o}function YZ(A,r){let o=q4(A,r),u=String.fromCharCode,h=A.bytes,f="",m="";for(let v=0;v<r;v++){let R,D,k,L,q=h[v+o];128&q?(224&q)==192?v+1>=r?m+=f:(R=h[v+o+1],(192&R)!=128?m+=f:(L=(31&q)<<6|63&R,L<128?m+=f:(m+=u(L),v++))):(240&q)==224?v+2>=r?m+=f:(R=h[v+o+1],D=h[v+o+2],(49344&(R|D<<8))!=32896?m+=f:(L=(15&q)<<12|(63&R)<<6|63&D,L<2048||L>=55296&&L<=57343?m+=f:(m+=u(L),v+=2))):(248&q)==240?v+3>=r?m+=f:(R=h[v+o+1],D=h[v+o+2],k=h[v+o+3],(12632256&(R|D<<8|k<<16))!=8421504?m+=f:(L=(7&q)<<18|(63&R)<<12|(63&D)<<6|63&k,L<65536||L>1114111?m+=f:(L-=65536,m+=u(55296+(L>>10),56320+(1023&L)),v+=3))):m+=f:m+=u(q)}return m}function BN(A,r){let o=r.length,u=0;for(let m=0;m<o;m++){let v=r.charCodeAt(m);v>=55296&&v<=56319&&m+1<o&&(v=(v<<10)+r.charCodeAt(++m)-56613888),u+=v<128?1:v<2048?2:v<65536?3:4}l0(A,u);let h=aO(A,u),f=A.bytes;for(let m=0;m<o;m++){let v=r.charCodeAt(m);v>=55296&&v<=56319&&m+1<o&&(v=(v<<10)+r.charCodeAt(++m)-56613888),v<128?f[h++]=v:(v<2048?f[h++]=v>>6&31|192:(v<65536?f[h++]=v>>12&15|224:(f[h++]=v>>18&7|240,f[h++]=v>>12&63|128),f[h++]=v>>6&63|128),f[h++]=63&v|128)}}function _ge(A,r){let o=aO(A,r.limit),u=A.bytes,h=r.bytes;for(let f=0,m=r.limit;f<m;f++)u[f+o]=h[f]}function JZ(A){return A.bytes[q4(A,1)]}function VZ(A,r){let o=aO(A,1);A.bytes[o]=r}function W4(A){let r=q4(A,8),o=A.bytes;return OS[0]=o[r++],OS[1]=o[r++],OS[2]=o[r++],OS[3]=o[r++],OS[4]=o[r++],OS[5]=o[r++],OS[6]=o[r++],OS[7]=o[r++],J4[0]}function X4(A,r){let o=aO(A,8),u=A.bytes;J4[0]=r,u[o++]=OS[0],u[o++]=OS[1],u[o++]=OS[2],u[o++]=OS[3],u[o++]=OS[4],u[o++]=OS[5],u[o++]=OS[6],u[o++]=OS[7]}function QN(A){let r,o=0,u=0;do r=JZ(A),o<32&&(u|=(127&r)<<o),o+=7;while(128&r);return u}function l0(A,r){for(r>>>=0;r>=128;)VZ(A,127&r|128),r>>>=7;VZ(A,r)}function RT(A,r){let o=r.low>>>0,u=(r.low>>>28|r.high<<4)>>>0,h=r.high>>>24,f=h===0?u===0?o<16384?o<128?1:2:o<1<<21?3:4:u<16384?u<128?5:6:u<1<<21?7:8:h<128?9:10,m=aO(A,f),v=A.bytes;switch(f){case 10:v[m+9]=h>>>7&1;case 9:v[m+8]=f!==9?128|h:127&h;case 8:v[m+7]=f!==8?u>>>21|128:u>>>21&127;case 7:v[m+6]=f!==7?u>>>14|128:u>>>14&127;case 6:v[m+5]=f!==6?u>>>7|128:u>>>7&127;case 5:v[m+4]=f!==5?128|u:127&u;case 4:v[m+3]=f!==4?o>>>21|128:o>>>21&127;case 3:v[m+2]=f!==3?o>>>14|128:o>>>14&127;case 2:v[m+1]=f!==2?o>>>7|128:o>>>7&127;case 1:v[m]=f!==1?128|o:127&o}}function qZ(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}const vge=new Map([["moderation",1],["supervise",2]]);class g3 extends x0{get connectionState(){return this._connectionState}set connectionState(r){if(this._connectionState===r)return;const o=this._connectionState;this._connectionState=r,this.emit(Q_.CONNECTION_STATE_CHANGE,o,r)}get inspectType(){return this._inspectType}set inspectType(r){var o;this._inspectMode=YT(o=r.map(u=>vge.get(u)||0)).call(o,(u,h)=>u+h),this._inspectType=r}get quality(){return this._quality}set quality(r){this._quality=r>1?1:r<.1?.1:r,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this.qualityRatio},6e4))}constructor(r){super(),j(this,"name","AgoraRTCVideoContentInspect"),j(this,"_connectionState",nR.CONNECTING),j(this,"_innerConnectionState",void 0),j(this,"sequence",0),j(this,"inspectStartTime",void 0),j(this,"workerManagerConnection",void 0),j(this,"workerConnection",void 0),j(this,"workerMessageLengthLimit",void 0),j(this,"inspectIntervalMinimum",void 0),j(this,"qualityRatio",void 0),j(this,"_connectInfo",void 0),j(this,"_cancelTokenSource",RS.CancelToken.source()),j(this,"_retryConfig",void 0),j(this,"wmSequence",0),j(this,"inspectInterval",void 0),j(this,"inspectTimer",null),j(this,"ossFilePrefix",void 0),j(this,"extraInfo",void 0),j(this,"_inspectType",void 0),j(this,"_inspectMode",void 0),j(this,"_quality",1),j(this,"qualityTimer",null),j(this,"_inspectId",void 0),j(this,"_needWorkUrlOnly",!1),j(this,"inspectImage",()=>{if(this.connectionState!==nR.CONNECTED)throw new Oa(ea.OPERATION_ABORTED,"content inspect service connection status is ".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval(()=>{this.connectionState===nR.CONNECTED?this.requestToInspectImage():$.debug("[".concat(this._inspectId,"] Inspect State is not connected , "),this.connectionState)},this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()}),this._inspectId=y0(5,"inspect-"),this.workerMessageLengthLimit=la("VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT"),this.inspectIntervalMinimum=la("VIDEO_INSPECT_INTERVAL_MINIMUM"),this.qualityRatio=la("VIDEO_INSPECT_QUALITY_RATIO"),this.inspectInterval=r.interval,this.ossFilePrefix=r.ossFilePrefix,this.extraInfo=r.extraInfo,this.inspectType=r.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new KO("worker-manager-"+this._inspectId,s_),this.on(Q_.STATE_CHANGE,(o,u)=>{this._innerConnectionState=o,$.debug("[".concat(this._inspectId,"] Inspect operation :").concat(rR[o]," ").concat(u||""))}),this.handleWorkerManagerEvents(),this.workerConnection=new KO("worker-"+this._inspectId,s_),this.handleWorkerEvents()}async init(r,o){this.emit(Q_.STATE_CHANGE,rR.CONNECT_AP),this._connectInfo=r;const u=this._cancelTokenSource.token;return this._retryConfig=o,new lc((h,f)=>{this.on(Q_.CONNECTION_STATE_CHANGE,(m,v)=>{v===nR.CONNECTED&&h()}),this.requestAP(r,u,o).then(m=>{this.connectWorkerManager(m)}).catch(m=>{f(m)})})}async requestAP(r,o,u){const h=la("WEBCS_DOMAIN").map(v=>"https://".concat(v,"/api/v1")),f=await function(v,R,D,k){let{appId:L,areaCode:q,cname:z,sid:_s,token:_n,uid:_i}=R;H1++;const Aa="image_moderation_api",Ea={service_name:Aa,json_body:JSON.stringify({appId:L,areaCode:q,cname:z,command:"allocateEdge",requestId:H1,seq:H1,sid:_s,token:_n,ts:Date.now(),uid:_i+""})};let Qa,Vc,Fa=v[0];return XR(async()=>{Qa=Date.now();const Va=await xN(Fa,{data:Ea,cancelToken:D,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(Vc=Date.now()-Qa,Va.code!==0){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"image inspect ap error, code"+Va.code,{retry:!0,responseTime:Vc});throw $.error(_h.toString()),_h}const _c=JSON.parse(Va.json_body);if(_c.code!==200){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"image inspect ap error, code: ".concat(_c.code,", reason: ").concat(_c.reason),{code:_c.code,responseTime:Vc});throw $.error(_h.toString()),_h}if(!_c.servers||!Array.isArray(_c.servers)||_c.servers.length===0){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"image inspect ap empty server",{code:_c.code,responseTime:Vc});throw $.error(_h.toString()),_h}const ec=la("VIDEO_INSPECT_WORKER_MANAGER_HOST"),kd=la("VIDEO_INSPECT_WORKER_MANAGER_PORT");return{addressList:_c.servers.map(_h=>{let{address:RQ,wss:jQ}=_h;if(RQ&&jQ)return"wss://".concat(RQ.replace(/\./g,"-"),".").concat(ec,":").concat(kd||jQ)}).filter(_h=>!!_h),workerToken:_c.workerToken,vid:_c.vid,responseTime:Vc}},(Va,_c)=>(cQ.apworkerEvent(_s,{success:!0,sc:200,serviceName:Aa,responseDetail:JSON.stringify(Va.addressList),firstSuccess:_c===0,responseTime:Vc,serverIp:v[_c%v.length]}),!1),(Va,_c)=>(cQ.apworkerEvent(_s,{success:!1,sc:Va.data&&Va.data.code||200,serviceName:Aa,responseTime:Vc,serverIp:v[_c%v.length]}),!!(Va.code!==ea.OPERATION_ABORTED&&Va.code!==ea.UNEXPECTED_RESPONSE||Va.data&&Va.data.retry)&&(Fa=v[(_c+1)%v.length],!0)),k)}(h,r,o,u);this.emit(Q_.STATE_CHANGE,rR.AP_CONNECTED);const{addressList:m}=f;return this.wmSequence++,m}async connectWorkerManager(r){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._needWorkUrlOnly=o,this.emit(Q_.STATE_CHANGE,rR.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(r,1e4)}async connectWorker(r){await this.workerConnection.init([r])}handleWorkerManagerEvents(){this.workerManagerConnection.on(vQ.CONNECTED,async()=>{this.emit(Q_.STATE_CHANGE,rR.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+"",sdkVersion:"4.20.0",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:"join"}},!0)}),this.workerManagerConnection.on(vQ.CLOSED,()=>{this._innerConnectionState<rR.GET_WORKER_MANAGER_RESPONSE&&$.debug("[".concat(this._inspectId,"] Inspect worker manager is closed before connecting worker"))}),this.workerManagerConnection.on(vQ.FAILED,()=>{this._innerConnectionState<rR.GET_WORKER_MANAGER_RESPONSE&&$.debug("[".concat(this._inspectId,"] Connecting inspect worker manager is failed before connecting worker"))}),this.workerManagerConnection.on(vQ.RECONNECTING,()=>{this._innerConnectionState<rR.GET_WORKER_MANAGER_RESPONSE&&$.debug("[".concat(this._inspectId,"] Inspect worker manager is reconnecting before connecting worker"))}),this.workerManagerConnection.on(vQ.ON_MESSAGE,async r=>{this.emit(Q_.STATE_CHANGE,rR.GET_WORKER_MANAGER_RESPONSE);const o=this.workerManagerConnection.url;this.workerManagerConnection.close();const u=JSON.parse(r.data);if(u.code!==200)throw $.error("[".concat(this._inspectId,"] Unexpected code ").concat(u.code," from worker manager")),new Oa(ea.UNEXPECTED_RESPONSE,"response code of worker is unexpected",u);if(!(u.serverResponse&&u.serverResponse.portWss&&o))throw $.error("[".concat(this._inspectId,"] Unexpected content from worker manager : ").concat(JSON.stringify(u))),new Oa(ea.UNEXPECTED_RESPONSE,"response content of worker is unexpected",u);{const h=la("VIDEO_INSPECT_WORKER_PORT")||u.serverResponse.portWss,f=o.replace(/:\d+\/?$/,":".concat(h));this.emit(Q_.STATE_CHANGE,rR.CONNECT_WORKER,f),this._needWorkUrlOnly?this.emit(Q_.REQUEST_NEW_WORKER_URL,f):await this.connectWorker(f)}}),this.workerManagerConnection.on(vQ.WILL_RECONNECT,(r,o,u)=>{u(r)}),this.workerManagerConnection.on(vQ.REQUEST_NEW_URLS,(r,o)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(r).catch(o)})}handleWorkerEvents(){this.workerConnection.on(vQ.CONNECTED,async()=>{this.emit(Q_.STATE_CHANGE,rR.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=nR.CONNECTED}),this.workerConnection.on(vQ.ON_MESSAGE,async r=>{if(r.data instanceof ArrayBuffer){const u=pge(new Uint8Array(r.data));if(la("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")&&$.debug("[".concat(this._inspectId,"] Response message for worker of inspect content "),JSON.stringify(u)),u.code===200){if(Array.isArray(this.inspectType)&&this.inspectType.length===1&&this.inspectType[0]==="supervise")return void this.emit(Q_.INSPECT_RESULT,void 0,void 0);if(u.data&&u.data.scorePorn&&u.data.scoreSexy&&u.data.scoreNeutral){var o;const h={porn:u.data.scorePorn,sexy:u.data.scoreSexy,neutral:u.data.scoreNeutral},f=YT(o=Object.keys(h)).call(o,(v,R)=>h[v]>h[R]?v:R,"porn"),m=Object.keys(h).find(v=>v===f);this.emit(Q_.INSPECT_RESULT,m)}else this.emit(Q_.INSPECT_RESULT,void 0,new Oa(ea.UNEXPECTED_RESPONSE,u.code+"","There is an unexpected data on message"))}else this.emit(Q_.INSPECT_RESULT,void 0,new Oa(ea.UNEXPECTED_RESPONSE,u.code+"",u.msg))}else $.error("[".concat(this._inspectId,"] Unexpected message type from worker")),this.emit(Q_.INSPECT_RESULT,void 0,new Oa(ea.UNEXPECTED_RESPONSE,"invalid worker message type"))}),this.workerConnection.on(vQ.CLOSED,()=>{this.connectionState=nR.CLOSED}),this.workerConnection.on(vQ.FAILED,()=>{this.connectionState=nR.CLOSED}),this.workerConnection.on(vQ.RECONNECTING,()=>{this.connectionState=this.connectionState===nR.CONNECTED?nR.RECONNECTING:nR.CONNECTING}),this.workerConnection.on(vQ.WILL_RECONNECT,(r,o,u)=>{r==="recover"&&u(r),u("tryNext")}),this.workerConnection.on(vQ.REQUEST_NEW_URLS,(r,o)=>{this.workerManagerConnection.close(),this.once(Q_.REQUEST_NEW_WORKER_URL,u=>{r([u])}),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(u=>{this.connectWorkerManager(u,!0)}).catch(u=>{o(u)})})}static intToLong(r){return{low:r|=0,high:r>>31,unsigned:r>=0}}async requestToInspectImage(){this.sequence++;const r=FS(this,Q_.CLIENT_LOCAL_VIDEO_TRACK),o={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(r){if(!r.isPlaying)return void this.emit(Q_.INSPECT_RESULT,void 0,new Oa(ea.INVALID_OPERATION,"Only the track being played can be inspected"));const u=await this.generateRequestData(r,o);this.workerConnection.sendMessage(u,!0,!0)}else this.emit(Q_.INSPECT_RESULT,void 0,new Oa(ea.INVALID_OPERATION,"Only the track being published can be inspected"))}async generateRequestData(r,o){let{appId:u,cname:h,cid:f,vid:m,sid:v,uid:R}=o;const D=Date.now(),k=await r.getCurrentFrameImage("image/jpeg",this.quality),L=await rX(k,u,h),q=this.sequence+"-"+f+"-"+R+"-"+D+"-"+y0(12,""),z={appId:u,cid:f,cname:h,deviceId:"",elapse:g3.intToLong(Number(D-this.inspectStartTime)),fileSize:L.byteLength,jpgEncryption:2,height:k.height,width:k.width,jpg:L,networkType:6,osType:7,requestId:q,sdkVersion:"4.20.0",sequence:this.sequence,sid:v,timestamp:g3.intToLong(D),uid:R,vid:m,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};this.extraInfo===void 0&&delete z.callbackData,this.ossFilePrefix===void 0&&delete z.ossFilePrefix;const _s=hge(z);if(_s.byteLength<this.workerMessageLengthLimit){if(la("SHOW_VIDEO_INSPECT_WORKER_MESSAGE")){const _n=function(_i){for(var Aa=1;Aa<arguments.length;Aa++){var Ea=arguments[Aa]!=null?arguments[Aa]:{};Aa%2?qZ(Object(Ea),!0).forEach(function(Qa){j(_i,Qa,Ea[Qa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_i,Object.getOwnPropertyDescriptors(Ea)):qZ(Object(Ea)).forEach(function(Qa){Object.defineProperty(_i,Qa,Object.getOwnPropertyDescriptor(Ea,Qa))})}return _i}({},z);delete _n.jpg,$.debug("[".concat(this._inspectId,"] Request message for worker of inspect content "),JSON.stringify(_n))}return _s}{const _n=this.quality*this.qualityRatio;return this.quality=_n,await this.generateRequestData(r,{appId:u,cname:h,cid:f,vid:m,sid:v,uid:R})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=RS.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=nR.CLOSED,this.emit(Q_.STATE_CHANGE,rR.CLOSED)}}function Sge(A){let r=function(){const o=bge.pop();return o?(o.offset=o.limit=0,o):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(o,u){let h=o.appId;h!==void 0&&(n_(u,10),wT(u,h));let f=o.cid;f!==void 0&&(n_(u,16),n_(u,f));let m=o.cname;m!==void 0&&(n_(u,26),wT(u,m));let v=o.deviceId;v!==void 0&&(n_(u,34),wT(u,v));let R=o.elapse;R!==void 0&&(n_(u,40),bT(u,R));let D=o.fileSize;D!==void 0&&(n_(u,48),bT(u,cO(D)));let k=o.height;k!==void 0&&(n_(u,56),bT(u,cO(k)));let L=o.jpg;L!==void 0&&(n_(u,66),n_(u,L.length),XZ(u,L));let q=o.networkType;q!==void 0&&(n_(u,72),bT(u,cO(q)));let z=o.osType;z!==void 0&&(n_(u,80),bT(u,cO(z)));let _s=o.requestId;_s!==void 0&&(n_(u,90),wT(u,_s));let _n=o.sdkVersion;_n!==void 0&&(n_(u,98),wT(u,_n));let _i=o.sequence;_i!==void 0&&(n_(u,104),bT(u,cO(_i)));let Aa=o.sid;Aa!==void 0&&(n_(u,114),wT(u,Aa));let Ea=o.timestamp;Ea!==void 0&&(n_(u,120),bT(u,Ea));let Qa=o.uid;Qa!==void 0&&(n_(u,128),n_(u,Qa));let Vc=o.vid;Vc!==void 0&&(n_(u,136),n_(u,Vc));let Fa=o.width;Fa!==void 0&&(n_(u,144),bT(u,cO(Fa)));let Va=o.service;Va!==void 0&&(n_(u,152),n_(u,Va));let _c=o.callbackData;_c!==void 0&&(n_(u,162),n_(u,_c.length),XZ(u,_c));let ec=o.ticket;ec!==void 0&&(n_(u,170),wT(u,ec));let kd=o.vendorConfigs;kd!==void 0&&(n_(u,178),wT(u,kd))}(A,r),function(o){let u=o.bytes,h=o.limit;return u.length===h?u:u.subarray(0,h)}(r)}function Rge(A){return function(o){let u={};e:for(;!Dge(o);){let h=dU(o);switch(h>>>3){case 0:break e;case 1:u.code=dU(o);break;case 2:u.msg=zZ(o,dU(o));break;case 3:u.requestId=zZ(o,dU(o));break;case 4:u.timestamp=Nge(o,!1);break;default:wge(o,7&h)}}return u}({bytes:r=A,offset:0,limit:r.length});var r}function wge(A,r){switch(r){case 0:for(;128&jR(A););break;case 2:z4(A,dU(A));break;case 5:z4(A,4);break;case 1:z4(A,8);break;default:throw new Error("Unimplemented type: "+r)}}function cO(A){return{low:A|=0,high:A>>31,unsigned:A>=0}}let bge=[];function z4(A,r){if(A.offset+r>A.limit)throw new Error("Skip past limit");A.offset+=r}function Dge(A){return A.offset>=A.limit}function l3(A,r){let o=A.bytes,u=A.offset,h=A.limit,f=u+r;if(f>o.length){let m=new Uint8Array(2*f);m.set(o),A.bytes=m}return A.offset=f,f>h&&(A.limit=f),u}function WZ(A,r){let o=A.offset;if(o+r>A.limit)throw new Error("Read past limit");return A.offset+=r,o}function XZ(A,r){let o=l3(A,r.length);A.bytes.set(r,o)}function zZ(A,r){let o=WZ(A,r),u=String.fromCharCode,h=A.bytes,f="",m="";for(let v=0;v<r;v++){let R,D,k,L,q=h[v+o];128&q?(224&q)==192?v+1>=r?m+=f:(R=h[v+o+1],(192&R)!=128?m+=f:(L=(31&q)<<6|63&R,L<128?m+=f:(m+=u(L),v++))):(240&q)==224?v+2>=r?m+=f:(R=h[v+o+1],D=h[v+o+2],(49344&(R|D<<8))!=32896?m+=f:(L=(15&q)<<12|(63&R)<<6|63&D,L<2048||L>=55296&&L<=57343?m+=f:(m+=u(L),v+=2))):(248&q)==240?v+3>=r?m+=f:(R=h[v+o+1],D=h[v+o+2],k=h[v+o+3],(12632256&(R|D<<8|k<<16))!=8421504?m+=f:(L=(7&q)<<18|(63&R)<<12|(63&D)<<6|63&k,L<65536||L>1114111?m+=f:(L-=65536,m+=u(55296+(L>>10),56320+(1023&L)),v+=3))):m+=f:m+=u(q)}return m}function wT(A,r){let o=r.length,u=0;for(let m=0;m<o;m++){let v=r.charCodeAt(m);v>=55296&&v<=56319&&m+1<o&&(v=(v<<10)+r.charCodeAt(++m)-56613888),u+=v<128?1:v<2048?2:v<65536?3:4}n_(A,u);let h=l3(A,u),f=A.bytes;for(let m=0;m<o;m++){let v=r.charCodeAt(m);v>=55296&&v<=56319&&m+1<o&&(v=(v<<10)+r.charCodeAt(++m)-56613888),v<128?f[h++]=v:(v<2048?f[h++]=v>>6&31|192:(v<65536?f[h++]=v>>12&15|224:(f[h++]=v>>18&7|240,f[h++]=v>>12&63|128),f[h++]=v>>6&63|128),f[h++]=63&v|128)}}function jR(A){return A.bytes[WZ(A,1)]}function ZZ(A,r){let o=l3(A,1);A.bytes[o]=r}function dU(A){let r,o=0,u=0;do r=jR(A),o<32&&(u|=(127&r)<<o),o+=7;while(128&r);return u}function n_(A,r){for(r>>>=0;r>=128;)ZZ(A,127&r|128),r>>>=7;ZZ(A,r)}function Nge(A,r){let o,u=0,h=0,f=0;return o=jR(A),u=127&o,128&o&&(o=jR(A),u|=(127&o)<<7,128&o&&(o=jR(A),u|=(127&o)<<14,128&o&&(o=jR(A),u|=(127&o)<<21,128&o&&(o=jR(A),h=127&o,128&o&&(o=jR(A),h|=(127&o)<<7,128&o&&(o=jR(A),h|=(127&o)<<14,128&o&&(o=jR(A),h|=(127&o)<<21,128&o&&(o=jR(A),f=127&o,128&o&&(o=jR(A),f|=(127&o)<<7))))))))),{low:u|h<<28,high:h>>>4|f<<24,unsigned:r}}function bT(A,r){let o=r.low>>>0,u=(r.low>>>28|r.high<<4)>>>0,h=r.high>>>24,f=h===0?u===0?o<16384?o<128?1:2:o<1<<21?3:4:u<16384?u<128?5:6:u<1<<21?7:8:h<128?9:10,m=l3(A,f),v=A.bytes;switch(f){case 10:v[m+9]=h>>>7&1;case 9:v[m+8]=f!==9?128|h:127&h;case 8:v[m+7]=f!==8?u>>>21|128:u>>>21&127;case 7:v[m+6]=f!==7?u>>>14|128:u>>>14&127;case 6:v[m+5]=f!==6?u>>>7|128:u>>>7&127;case 5:v[m+4]=f!==5?128|u:127&u;case 4:v[m+3]=f!==4?o>>>21|128:o>>>21&127;case 3:v[m+2]=f!==3?o>>>14|128:o>>>14&127;case 2:v[m+1]=f!==2?o>>>7|128:o>>>7&127;case 1:v[m]=f!==1?128|o:127&o}}const $Z={},e$={},d3=4294967296,Tge=d3*d3,t$=Tge/2;r$(0,!0);const n$=r$(0),kge=EU(0,-2147483648,!1),Oge=EU(-1,2147483647,!1);function r$(A,r){let o,u,h;return r?(h=0<=(A>>>=0)&&A<256)&&(u=e$[A],u)?u:(o=EU(A,0,!0),h&&(e$[A]=o),o):(h=-128<=(A|=0)&&A<128)&&(u=$Z[A],u)?u:(o=EU(A,A<0?-1:0,!1),h&&($Z[A]=o),o)}function EU(A,r,o){return{low:0|A,high:0|r,unsigned:!!o}}function Lge(A,r){if(isNaN(A))return n$;{if(A<=-t$)return kge;if(A+1>=t$)return Oge}return A<0?n$:EU(A%d3|0,A/d3|0,r)}function i$(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}class Z4 extends x0{get connectionState(){return this._connectionState}set connectionState(r){if(this._connectionState===r)return;const o=this._connectionState;this._connectionState=r,this.emit(BR.CONNECTION_STATE_CHANGE,r,o)}get quality(){return this._quality}set quality(r){this._quality=r>1?1:r<.1?.1:r,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout(()=>{this.quality=this._quality/this._qualityRatio},6e4))}constructor(r){var o;super(),j(this,"name","AgoraRTCImageModeration"),j(this,"_connectionState",KS.CONNECTING),j(this,"_sequence",0),j(this,"_moderationStartTime",void 0),j(this,"_workerConnection",void 0),j(this,"_workerMessageLengthLimit",void 0),j(this,"_qualityRatio",void 0),j(this,"_connectInfo",void 0),j(this,"_cancelTokenSource",RS.CancelToken.source()),j(this,"_retryConfig",void 0),j(this,"_moderationInterval",void 0),j(this,"_moderationTimer",null),j(this,"_moderationMode",1),j(this,"_quality",1),j(this,"_qualityTimer",null),j(this,"_ticket",void 0),j(this,"_moderationIntervalMinimum",void 0),j(this,"_uploadFailedNum",0),j(this,"_uploadNum",0),j(this,"_uploadTimer",null),j(this,"_extraInfo",void 0),j(this,"_vendor",""),j(this,"_encoder",new TextEncoder),j(this,"_moderationId",void 0),j(this,"inspectImage",()=>{if(this.connectionState!==KS.CONNECTED)throw new Oa(ea.OPERATION_ABORTED,"image moderation service connection status is ".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval(()=>{this.connectionState===KS.CONNECTED?this.requestToInspectImage():$.debug("[".concat(this._moderationId,"] Moderation State is not connected , "),this.connectionState)},this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()}),this._moderationId=y0(5,"image-moderation-"),this._workerMessageLengthLimit=la("IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT"),this._moderationIntervalMinimum=la("IMAGE_MODERATION_INTERVAL_MINIMUM"),this._moderationInterval=(o=r.interval)!==null&&o!==void 0?o:1e3,r.extraInfo&&(this._extraInfo=this._encoder.encode(r.extraInfo)),r.vendor&&(this._vendor=r.vendor),this._qualityRatio=la("IMAGE_MODERATION_QUALITY_RATIO"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new KO("worker-"+this._moderationId,s_),this.on(BR.STATE_CHANGE,(u,h)=>{$.debug("[".concat(this._moderationId,"] Moderation operation :").concat(uT[u]," ").concat(h||""))}),this.handleWorkerEvents()}async init(r,o){this.emit(BR.STATE_CHANGE,uT.CONNECT_AP),this._connectInfo=r;const u=this._cancelTokenSource.token;return this._retryConfig=o,new lc((h,f)=>{this.on(BR.CONNECTION_STATE_CHANGE,(m,v)=>{m===KS.CONNECTED&&h()}),this.requestAP(r,u,o).then(m=>{this.connectWorker(m)}).catch(m=>{f(m)})})}updateConfig(r){var o;this._moderationInterval=(o=r.interval)!==null&&o!==void 0?o:1e3,r.extraInfo&&(this._extraInfo=this._encoder.encode(r.extraInfo)),r.vendor&&(this._vendor=r.vendor),$.debug("[".concat(this._moderationId,"] updateConfig: ").concat(JSON.stringify(r))),this.connectionState===KS.CONNECTED&&this.inspectImage()}async requestAP(r,o,u){const h=la("WEBCS_DOMAIN").map(R=>"https://".concat(R,"/api/v1")),f=await function(R,D,k,L){let{appId:q,areaCode:z,cname:_s,sid:_n,token:_i,uid:Aa}=D;H1++;const Ea="moderation_plugin",Qa={service_name:Ea,json_body:JSON.stringify({appId:q,areaCode:z,cname:_s,command:"allocateEdge",requestId:H1,seq:H1,sid:_n,appToken:_i,ts:Date.now(),uid:Aa+""})};let Vc,Fa,Va=R[0];return XR(async()=>{Vc=Date.now();const _c=await xN(Va,{data:Qa,cancelToken:k,headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61"},params:{action:"wrtc_gateway"}});if(Fa=Date.now()-Vc,_c.code!==0){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"moderation plugin ap error, code"+_c.code,{retry:!0,responseTime:Fa});throw $.error(_h.toString()),_h}const ec=JSON.parse(_c.json_body);if(ec.code!==200){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"moderation plugin ap error, code: ".concat(ec.code,", reason: ").concat(ec.reason),{code:ec.code,responseTime:Fa});throw $.error(_h.toString()),_h}if(!ec.servers||!Array.isArray(ec.servers)||ec.servers.length===0){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"moderation plugin ap empty server",{code:ec.code,responseTime:Fa});throw $.error(_h.toString()),_h}if(!ec.servers.some(_h=>!!_h.wss)){const _h=new Oa(ea.UNEXPECTED_RESPONSE,"moderation plugin ap empty port",{code:ec.code,responseTime:Fa});throw $.error(_h.toString()),_h}const kd=la("IMAGE_MODERATION_WORKER_HOST");return{addressList:ec.servers.map(_h=>{let{address:RQ,wss:jQ}=_h;if(RQ&&jQ)return"wss://".concat(RQ.replace(/\./g,"-"),".").concat(kd,":").concat(jQ,"/moderation")}).filter(_h=>!!_h),workerToken:ec.workerToken,vid:ec.vid,ticket:ec.appTicket,responseTime:Fa}},(_c,ec)=>(cQ.apworkerEvent(_n,{success:!0,sc:200,serviceName:Ea,responseDetail:JSON.stringify(_c.addressList),firstSuccess:ec===0,responseTime:Fa,serverIp:R[ec%R.length]}),!1),(_c,ec)=>(cQ.apworkerEvent(_n,{success:!1,sc:_c.data&&_c.data.code||200,serviceName:Ea,responseTime:Fa,serverIp:R[ec%R.length]}),!!(_c.code!==ea.OPERATION_ABORTED&&_c.code!==ea.UNEXPECTED_RESPONSE||_c.data&&_c.data.retry)&&(Va=R[(ec+1)%R.length],!0)),L)}(h,r,o,u);this.emit(BR.STATE_CHANGE,uT.AP_CONNECTED);const{addressList:m,ticket:v}=f;return this._ticket=v,m}async connectWorker(r){this.emit(BR.STATE_CHANGE,uT.CONNECT_WORKER),await this._workerConnection.init(r,1e4)}handleWorkerEvents(){this._workerConnection.on(vQ.CONNECTED,async()=>{this.emit(BR.STATE_CHANGE,uT.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=KS.CONNECTED}),this._workerConnection.on(vQ.CLOSED,()=>{this.connectionState=KS.CLOSED}),this._workerConnection.on(vQ.FAILED,()=>{this.connectionState=KS.CLOSED}),this._workerConnection.on(vQ.RECONNECTING,()=>{this.connectionState=this.connectionState===KS.CONNECTED?KS.RECONNECTING:KS.CONNECTING}),this._workerConnection.on(vQ.ON_MESSAGE,async r=>{if(r.data instanceof ArrayBuffer){const o=Rge(new Uint8Array(r.data));la("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&$.debug("[".concat(this._moderationId,"] Response message for worker of image moderation "),JSON.stringify(o)),this._uploadNum++,o.code===void 0||o.code===0||(this._uploadFailedNum++,$.error("[".concat(this._moderationId,"] Error response from worke, code is ").concat(o.code,", msg is ").concat(o.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout(()=>{cQ.reportApiInvoke(this._connectInfo.sid||null,{name:l_.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,o.code],tag:G0.TRACER}).onError(new Oa(ea.IMAGE_MODERATION_UPLOAD_FAILED,o.msg)),this._uploadTimer=null},la("IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL"))))}else $.error("[".concat(this._moderationId,"] Unexpected message type from worker"))}),this._workerConnection.on(vQ.WILL_RECONNECT,(r,o,u)=>{r==="recover"&&u(r),u("tryNext")}),this._workerConnection.on(vQ.REQUEST_NEW_URLS,(r,o)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(r).catch(o)})}static intToLong(r){return{low:r|=0,high:r>>31,unsigned:r>=0}}async requestToInspectImage(){const r=FS(this,BR.CLIENT_LOCAL_VIDEO_TRACK),o={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(r){if(!r.isPlaying)return void(la("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&$.debug("Only the track being played can be inspected"));this._sequence++;const u=await this.generateRequestData(r,o);this._workerConnection.sendMessage(u,!0,!0)}else la("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")&&$.debug("Only the track being published can be inspected")}async generateRequestData(r,o){let{appId:u,cname:h,cid:f,vid:m,sid:v,uid:R}=o;const D=Date.now(),k=await r.getCurrentFrameImage("image/jpeg",this.quality),L=await rX(k,u,h),q=this._sequence+"-"+f+"-"+R+"-"+D+"-"+y0(12,""),z={appId:u,cid:f,cname:h,deviceId:"",elapse:Z4.intToLong(Number(D-this._moderationStartTime)),fileSize:k.buffer.byteLength,height:k.height,width:k.width,jpg:L,networkType:6,osType:7,requestId:q,sdkVersion:"4.20.0",sequence:this._sequence,sid:v,timestamp:Lge(D),uid:R,vid:m,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};this._extraInfo===void 0&&delete z.callbackData;const _s=Sge(z);if(_s.byteLength<this._workerMessageLengthLimit){if(la("SHOW_IMAGE_MODERATION_WORKER_MESSAGE")){const _n=function(_i){for(var Aa=1;Aa<arguments.length;Aa++){var Ea=arguments[Aa]!=null?arguments[Aa]:{};Aa%2?i$(Object(Ea),!0).forEach(function(Qa){j(_i,Qa,Ea[Qa])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_i,Object.getOwnPropertyDescriptors(Ea)):i$(Object(Ea)).forEach(function(Qa){Object.defineProperty(_i,Qa,Object.getOwnPropertyDescriptor(Ea,Qa))})}return _i}({},z);delete _n.jpg,$.debug("[".concat(this._moderationId,"] Request message for worker of image moderation service: "),JSON.stringify(_n))}return _s}{const _n=this.quality*this._qualityRatio;return this.quality=_n,await this.generateRequestData(r,{appId:u,cname:h,cid:f,vid:m,sid:v,uid:R})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=RS.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=KS.CLOSED,this.emit(BR.STATE_CHANGE,uT.CLOSED)}}function o$(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function A$(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?o$(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):o$(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}const Mge=Date.now(),xge=20,$4=new Map,E3=new Map;async function s$(A){const r=$4.get(A),o=Array.isArray(r)&&r[r.length-1],u=E3.get(A);if(!o)return void(u.isSyncing=!1);const h={uid:o.uid,payload:cP(o.payload)};u.firstRecvTs===0&&(u.firstRecvTs=o.recvTs,u.firstSendTs=o.sendTs);const f=o.sendTs-u.firstSendTs,m=f-(Date.now()-u.firstRecvTs);m>0&&(u.firstRecvTs=Date.now()-f);let v=o.mediaDelay+m;v<=0?(r.pop(),a$(o.context,h),v=0):v=Math.min(v,xge),setTimeout(()=>r.length&&s$(A),v)}function a$(A,r){A.safeEmit(ZQ.STREAM_MESSAGE,r.uid,r.payload),A.onStreamMessage&&A.onStreamMessage(r)}function Uge(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=arguments.length>2?arguments[2]:void 0;if(!A.syncWithAudio)return a$(o,{uid:A.uid,payload:cP(A.payload)});const u="".concat(o.id,"-").concat(A.uid),h=$4.get(u)||[],f=h.findIndex(D=>A.sendTs>=D.sendTs),m=A$(A$({},A),{},{context:o,mediaDelay:r,recvTs:Date.now()});f===-1?h.push(m):h.splice(f,0,m),$4.set(u,h);let v=!1;var R;E3.has(u)?v=!((R=E3.get(u))===null||R===void 0||!R.isSyncing):E3.set(u,{isSyncing:v,firstRecvTs:0,firstSendTs:0}),v||s$(u)}const Pge=o0().name;function Gge(){return!function(A,r,o){const u=o0();if(u.os!==h_.IOS||!u.osVersion)return!1;const h=u.osVersion.split(".");return Number(h[0])<A}(16)&&!function(A,r,o){const u=o0();if(u.name!==c0.SAFARI||!u.osVersion)return!1;const h=u.version.split(".");return Number(h[0])<A}(16)}function c$(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function JN(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?c$(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):c$(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}T_.setLogger($);class I0 extends x0{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var r;return((r=this._config)===null||r===void 0?void 0:r.role)||"audience"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||"opus"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return"Client"}constructor(r){let o;if(super(),j(this,"store",void 0),j(this,"_uid",void 0),j(this,"_channelName",void 0),j(this,"_uintUid",void 0),j(this,"_users",[]),j(this,"_config",void 0),j(this,"_clientId",void 0),j(this,"_appId",void 0),j(this,"_sessionId",null),j(this,"_key",void 0),j(this,"_rtmConfig",{}),j(this,"_joinInfo",void 0),j(this,"_gateway",void 0),j(this,"_statsCollector",void 0),j(this,"_configDistribute",void 0),j(this,"_leaveMutex",new T_("client-leave")),j(this,"_publishMutex",new T_("client-publish")),j(this,"_renewTokenMutex",new T_("client-renewtoken")),j(this,"_subscribeMutex",new T_("client-subscribe")),j(this,"_encryptionMode","none"),j(this,"_encryptionSecret",null),j(this,"_encryptionSalt",null),j(this,"_proxyServer",void 0),j(this,"_turnServer",{servers:[],mode:"auto"}),j(this,"_cloudProxyServerMode","disabled"),j(this,"_isDualStreamEnabled",!1),j(this,"_defaultStreamFallbackType",void 0),j(this,"_lowStreamParameter",void 0),j(this,"_streamFallbackTypeCacheMap",new Map),j(this,"_remoteStreamTypeCacheMap",new Map),j(this,"_axiosCancelSource",RS.CancelToken.source()),j(this,"_audioVolumeIndicationInterval",void 0),j(this,"_networkQualityInterval",void 0),j(this,"_userOfflineTimeout",void 0),j(this,"_streamRemovedTimeout",void 0),j(this,"_injectStreamingClient",void 0),j(this,"_liveTranscodeStreamingClient",void 0),j(this,"_liveRawStreamingClient",void 0),j(this,"_channelMediaRelayClient",void 0),j(this,"_networkQualitySensitivity","normal"),j(this,"_p2pChannel",void 0),j(this,"_useLocalAccessPoint",!1),j(this,"_setLocalAPVersion",void 0),j(this,"_joinAndNotLeaveYet",!1),j(this,"_numberOfJoinCount",0),j(this,"_remoteDefaultVideoStreamType",void 0),j(this,"_inspect",void 0),j(this,"_moderation",void 0),j(this,"_license",void 0),j(this,"_pendingPublishedUsers",[]),j(this,"ntpAlignErrorCount",0),j(this,"remoteInboundOffset",0),j(this,"_handleLocalTrackEnable",(u,h,f)=>{this.publish(u,!1).then(h).catch(f)}),j(this,"_handleLocalTrackDisable",(u,h,f)=>{this.unpublish(u).then(h).catch(f)}),j(this,"_handleUserOnline",u=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(u.uid,this.channelName))return void $.debug("[".concat(u.uid,"] will be ignored in local"));this.isStringUID&&typeof u.uid!="string"&&$.error("[".concat(this._clientId,"] StringUID is Mixed with UintUID"));const h=this._users.find(f=>f.uid===u.uid);if(h)h._trust_in_room_=!0,h._is_pre_created&&(h._is_pre_created=!1,this.safeEmit(ZQ.USER_JOINED,h));else{const f=new F_(u.uid,u.uint_id||u.uid);this._users.push(f),$.debug("[".concat(this._clientId,"] user online"),u.uid),this.safeEmit(ZQ.USER_JOINED,f)}}),j(this,"_handleUserOffline",u=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(u.uid,this.channelName))return;const h=this._users.find(f=>f.uid===u.uid);h&&(this._handleRemoveStream(u),this._handleRemoveDataChannels(u),h._audio_pre_subscribed||h._video_pre_subscribed?h._is_pre_created=!0:sP(this._users,h),this._remoteStreamTypeCacheMap.delete(h.uid),this._streamFallbackTypeCacheMap.delete(h.uid),$.debug("[".concat(this._clientId,"] user offline"),u.uid,"reason:",u.reason),this.safeEmit(ZQ.USER_LEAVED,h,u.reason))}),j(this,"_handleAddAudioOrVideoStream",(u,h,f,m,v,R,D)=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(h,this.channelName))return;const k=this._users.find(q=>q.uid===h);if(!k)return void $.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));$.debug("[".concat(this._clientId,"] stream added with uid ").concat(h,", type ").concat(u)),this.store.subscribe(k.uid,u,void 0,void 0,void 0,Date.now());const L=u==="audio"?k.hasAudio:k.hasVideo;k._uintid||(k._uintid=v||h),u==="audio"?k._trust_audio_stream_added_state_=!0:k._trust_video_stream_added_state_=!0,u==="audio"?(k._audio_added_=!0,f!==void 0&&(k._audioSSRC=f),m!==void 0&&(k._cname=m),R&&(k._audioOrtc=R)):(k._video_added_=!0,f!==void 0&&(k._videoSSRC=f),m!==void 0&&(k._cname=m),D!==void 0&&(k._rtxSsrcId=D),R&&(k._videoOrtc=R)),(u==="audio"?k.hasAudio:k.hasVideo)&&!L&&($.info("[".concat(this._clientId,"] remote user ").concat(k.uid," published ").concat(u)),this.safeEmit(ZQ.USER_PUBLISHED,k,u)),u==="video"?cQ.onGatewayStream(this._sessionId,f_.ON_ADD_VIDEO_STREAM,k0.ON_ADD_VIDEO_STREAM,{peer:v||h,ssrc:k._videoSSRC}):cQ.onGatewayStream(this._sessionId,f_.ON_ADD_AUDIO_STREAM,k0.ON_ADD_AUDIO_STREAM,{peer:v||h,ssrc:k._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(k,u,f).then(q=>{if(q&&($.debug("[".concat(this._clientId,"] resubscribe ").concat(u," for user ").concat(k.uid," after rejoin because SSRC id changed.")),this._p2pChannel instanceof M_))return this._p2pChannel.unsubscribe(k,u,!0).then(()=>this._subscribe(k,u,!0).catch(z=>{$.error("[".concat(this._clientId,"] resubscribe error"),z.toString())}))}),this._p2pChannel.hasPendingRemoteMedia(k,u)&&($.debug("[".concat(this._clientId,"] resubscribe ").concat(u," for user ").concat(k.uid," after reconnect.")),this._subscribe(k,u,!0).catch(q=>{$.error("[".concat(this._clientId,"] resubscribe error"),q.toString())}))}),j(this,"_handleRemoveStream",u=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(u.uid,this.channelName))return;const h=this._users.find(m=>m.uid===u.uid);if(!h)return void $.warning("[".concat(this._clientId,"] can not find target user!(on_remove_stream)"));$.debug("[".concat(this._clientId,"] stream removed with uid ").concat(u.uid));let f=()=>{};h.hasAudio&&h.hasVideo?f=()=>{$.info("[".concat(this._clientId,"] remote user ").concat(h.uid," unpublished audio track")),this.safeEmit(ZQ.USER_UNPUBLISHED,h,"audio"),$.info("[".concat(this._clientId,"] remote user ").concat(h.uid," unpublished video track")),this.safeEmit(ZQ.USER_UNPUBLISHED,h,"video")}:h.hasVideo?f=()=>{$.info("[".concat(this._clientId,"] remote user ").concat(h.uid," unpublished video track")),this.safeEmit(ZQ.USER_UNPUBLISHED,h,"video")}:h.hasAudio&&(f=()=>{$.info("[".concat(this._clientId,"] remote user ").concat(h.uid," unpublished audio track")),this.safeEmit(ZQ.USER_UNPUBLISHED,h,"audio")}),h._video_pre_subscribed||h._audio_pre_subscribed||(h._trust_audio_stream_added_state_=!0,h._trust_video_stream_added_state_=!0,h._audio_added_=!1,h._video_added_=!1,this._p2pChannel instanceof M_&&this._p2pChannel.unsubscribe(h).then(m=>{if(m)return this._gateway.unsubscribe(m,h.uid)}),h._audioSSRC=void 0,h._videoSSRC=void 0,h._audioOrtc=void 0,h._videoOrtc=void 0,h._rtxSsrcId=void 0),cQ.onGatewayStream(this._sessionId,f_.ON_REMOVE_STREAM,k0.ON_REMOVE_STREAM,{peer:u.uint_id||u.uid}),f()}),j(this,"_handleSetStreamLocalEnable",(u,h,f)=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(h,this.channelName))return;const m=this._users.find(D=>D.uid===h);if(!m)return void $.error("[".concat(this._clientId,"] can not find target user!(disable_local)"));$.debug("[".concat(this._clientId,"] local ").concat(u," ").concat(f?"enabled":"disabled"," with uid ").concat(h));const v=u==="audio"?m.hasAudio:m.hasVideo;if(u==="audio"){m._trust_audio_enabled_state_=!0;const D=m._audio_enabled_;if(m._audio_enabled_=f,m._audio_enabled_===D)return;{const k=m._audio_enabled_?"enable-local-audio":"disable-local-audio";$.debug("[".concat(this._clientId,"] user-info-updated, uid: ").concat(h,", msg: ").concat(k)),this.safeEmit(ZQ.USER_INFO_UPDATED,h,k)}}else{m._trust_video_enabled_state_=!0;const D=m._video_enabled_;if(m._video_enabled_=f,m._video_enabled_===D)return;{const k=m._video_enabled_?"enable-local-video":"disable-local-video";$.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(h,", msg: ").concat(k)),this.safeEmit(ZQ.USER_INFO_UPDATED,h,k)}}const R=u==="audio"?m.hasAudio:m.hasVideo;return v!==R?!v&&R?($.info("[".concat(this._clientId,"] remote user ").concat(h," published ").concat(u)),void this.safeEmit(ZQ.USER_PUBLISHED,m,u)):(u==="video"&&m._videoTrack&&m._videoTrack._destroy(),u==="audio"&&m._audioTrack,this._p2pChannel.muteRemote(m,u),$.info("[".concat(this._clientId,"] remote user ").concat(h," unpublished ").concat(u)),void this.safeEmit(ZQ.USER_UNPUBLISHED,m,u)):void 0}),j(this,"_handleMuteStream",(u,h,f)=>{if(la("BLOCK_LOCAL_CLIENT")&&VT(u,this.channelName))return;$.debug("[".concat(this._clientId,"] receive mute message"),u,h,f);const m=this._users.find(D=>D.uid===u);if(!m)return void $.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(u));const v=h==="audio"?m.hasAudio:m.hasVideo;if(h==="audio"){m._trust_audio_mute_state_=!0;const D=m._audio_muted_;if(m._audio_muted_=f,m._audio_muted_===D)return;{const k=m._audio_muted_?"mute-audio":"unmute-audio";$.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(u,", msg: ").concat(k)),this.safeEmit(ZQ.USER_INFO_UPDATED,u,k)}}else{m._trust_video_mute_state_=!0;const D=m._video_muted_;if(m._video_muted_=f,m._video_muted_===D)return;{const k=m._video_muted_?"mute-video":"unmute-video";$.debug("[".concat(this._clientId,"] user-info-update, uid: ").concat(u,", msg: ").concat(k)),this.safeEmit(ZQ.USER_INFO_UPDATED,u,k)}}const R=h==="audio"?m.hasAudio:m.hasVideo;if(v!==R){if(!v&&R)return(h==="audio"?m._audioSSRC:m._videoSSRC)?($.info("[".concat(this._clientId,"] remote user ").concat(u," published ").concat(h)),void this.safeEmit(ZQ.USER_PUBLISHED,m,h)):void $.warning("[".concat(this._clientId,"] remote user ").concat(u," receive ").concat(h," unmute message  before add stream message, ").concat(h," SSRC doesn't exist yet."));h==="video"&&m._videoTrack&&!m._video_pre_subscribed&&m._videoTrack._destroy(),h==="audio"&&m._audioTrack,this._p2pChannel.muteRemote(m,h),$.info("[".concat(this._clientId,"] remote user ").concat(u," unpublished ").concat(h)),this.safeEmit(ZQ.USER_UNPUBLISHED,m,h)}}),j(this,"_handleP2PLost",async u=>{$.debug("[".concat(this._clientId,"] receive p2p lost"),u),parseInt(u.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():$.warning("[".concat(this._clientId,"] P2PLost stream not found"),u)}),j(this,"_handleTokenWillExpire",()=>{$.debug("[".concat(this._clientId,"] received message onTokenPrivilegeWillExpire")),this.safeEmit(ZQ.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)}),j(this,"_handleBeforeUnload",u=>{u.type==="beforeunload"&&u.returnValue!==void 0&&u.returnValue!==""||(this.leave(),$.info("[".concat(this._clientId,"] auto leave onbeforeunload or pagehide")))}),j(this,"_handleUpdateNetworkQuality",()=>{if(this._networkQualitySensitivity==="normal")return;if(navigator&&navigator.onLine!==void 0&&!navigator.onLine)return void this.safeEmit(ZQ.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const u={downlinkNetworkQuality:0,uplinkNetworkQuality:0};u.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),u.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(ZQ.NETWORK_QUALITY,u)}),j(this,"_handleP2PAddAudioOrVideoStream",(u,h,f,m)=>{const v=this._users.find(D=>D.uid===h);if(!v)return void $.error("[".concat(this._clientId,"] can not find target user!(on_add_stream)"));$.debug("[".concat(this._clientId,"] stream added with uid ").concat(h,", type ").concat(u)),this.store.subscribe(v.uid,u,void 0,void 0,void 0,Date.now());const R=u==="audio"?v.hasAudio:v.hasVideo;u==="audio"?v._trust_audio_stream_added_state_=!0:v._trust_video_stream_added_state_=!0,u==="audio"?(v._audio_added_=!0,f!==void 0&&(v._audioSSRC=f),m!==void 0&&(v._audioMid=m)):(v._video_added_=!0,f!==void 0&&(v._videoSSRC=f),m!==void 0&&(v._videoMid=m)),(u==="audio"?v.hasAudio:v.hasVideo)&&!R&&($.info("[".concat(this._clientId,"] remote user ").concat(v.uid," published ").concat(u)),this.safeEmit(ZQ.USER_PUBLISHED,v,u)),this._p2pChannel.hasPendingRemoteMedia(v,u)&&($.debug("[".concat(this._clientId,"] resubscribe ").concat(u," for user ").concat(v.uid," after reconnect.")),this._subscribe(v,u,!0).catch(D=>{$.error("[".concat(this._clientId,"] resubscribe error"),D.toString())}))}),this._config=r,this._clientId=y0(5,"client-"),this.store=new Oae(r.codec,r.audioCodec,r.mode,this._clientId),this.store.clientCreated(),r.proxyServer&&this.setProxyServer(r.proxyServer,!0),r.turnServer&&this.setTurnServer(r.turnServer,!0),$.info("[".concat(this._clientId,"] Initializing AgoraRTC client v").concat(pR," build: ").concat(Q8,", mode: ").concat(this.mode,", codec: ").concat(this.codec)),r.clientRoleOptions)try{R9(r.clientRoleOptions),o=Object.assign({},r.clientRoleOptions)}catch(u){$.warning("[".concat(this._clientId,"] ").concat(u.toString()))}this._statsCollector=new uU(this.store),this._statsCollector.onStatsException=(u,h,f)=>{$.debug("[".concat(this._clientId,"] receive exception msg, code: ").concat(u,", msg: ").concat(h,", uid: ").concat(f)),this.safeEmit(ZQ.EXCEPTION,{code:u,msg:h,uid:f})},this._statsCollector.onUploadPublishDuration=(u,h,f,m)=>{const v=this._users.find(R=>R.uid===u);v&&cQ.peerPublishStatus(this._sessionId,{subscribeElapse:m,audioPublishDuration:h,videoPublishDuration:f,peer:v._uintid})},this.store.useDataChannel=f0().supportDataChannel&&la("SIGNAL_CHANNEL"),this.store.useP2P=r.mode==="p2p",this._gateway=new Cce(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:r.websocketRetryConfig||s_,httpRetryConfig:r.httpRetryConfig||s_,forceWaitGatewayResponse:r.forceWaitGatewayResponse===void 0||r.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:r.role,clientRoleOptions:o}),this._configDistribute=new vce,this.store.useP2P?(this._p2pChannel=new m_(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new M_(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(r,o,u,h,f){let m=!(arguments.length>5&&arguments[5]!==void 0)||arguments[5],v=arguments.length>6&&arguments[6]!==void 0&&arguments[6];p0("JOIN_GATEWAY_USE_443PORT_ONLY",m),p0("JOIN_GATEWAY_USE_DUAL_DOMAIN",v);const R=this._gateway.signal.websocket;return R instanceof FO&&(R.use443PortOnly=m,R.tryDoubleDomain=v),async function(D,k,L){tP.get(D)||tP.set(D,[]),nP.get(D)||nP.set(D,k),tN.get(D)||tN.set(D,0);const q=tP.get(D),z=nP.get(D);if(!q||!z)throw new Error("concurrent: deferQueue or maxConcurrency is null");if(tN.get(D)===z){const Ea=TO();q.push(Ea),await Ea.promise}tN.set(D,tN.get(D)+1);for(var _s=arguments.length,_n=new Array(_s>3?_s-3:0),_i=3;_i<_s;_i++)_n[_i-3]=arguments[_i];const Aa=await L(..._n);return tN.set(D,tN.get(D)-1),tN.get(D)===z-1&&q.length>0&&(q[0].resolve(),q.shift()),tN.get(D)===0&&(tP.set(D,[]),nP.set(D,0),tN.set(D,0)),Aa}("client.join",la("JOIN_MAX_CONCURRENCY"),this.join.bind(this),r,o,u,h,f)}async join(r,o,u,h,f){const m=++this._numberOfJoinCount;this.store.joinStart(),h&&(this.store.uid=h);const v=kae(),R=NW()?window.isSecureContext:"Browser Not Support";(!NW()&&!v||!window.isSecureContext)&&$.warning("The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser");const D=Z6();this.connectionState==="DISCONNECTED"&&(this.store.avoidJoinStart=Math.round(Date.now()),$.debug("[".concat(this._clientId,"] set avoidJoinStart to ").concat(this.store.avoidJoinStart)));const k=cQ.reportApiInvoke(D,{name:l_.JOIN,options:[r,o,u,h],states:{isHttps:v,isSecureContext:R},tag:G0.TRACER});cQ.setAppId(r);try{if(!u&&u!==null)throw new Oa(ea.INVALID_PARAMS,"Invalid token: ".concat(u,". If you don not use token, set it to null"));u&&W_(u,"token",1,2047),W_(r,"appid",1,2047),v8(o),h&&S8(h),f&&W_(f,"optionalInfo",1,2047)}catch(_n){throw k.onError(_n),_n}if($.info("[".concat(this._clientId,"] start join channel ").concat(o,", join number: ").concat(m)),this._leaveMutex.isLocked&&($.debug("[".concat(this._clientId,"] join: waiting leave operation")),(await this._leaveMutex.lock())(),$.debug("[".concat(this._clientId,"] join: continue"))),this._joinAndNotLeaveYet=!0,this.connectionState!=="DISCONNECTED"){const _n=new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Client already in connecting/connected state"));throw k.onError(_n),_n}this._sessionId||(this._sessionId=D,this.store.sessionId=this._sessionId),this._gateway.state="CONNECTING";const L=JN(JN({},this._rtmConfig),{},{clientId:this._clientId,appId:r,sid:this._sessionId,cname:o,uid:typeof h!="string"?h:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:u||r,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:f,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint},this._remoteDefaultVideoStreamType!==void 0&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(L.setLocalAPVersion=this._setLocalAPVersion),typeof h=="string"&&(L.stringUid=h,this._uintUid?(L.uid=this._uintUid,this._uintUid=void 0):L.uid=0),this._encryptionMode!=="none"&&this._encryptionSecret){if(L.aesmode=this._encryptionMode,L.aespassword=await Kse(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this._encryptionSalt&&(L.aessalt=this._encryptionSalt)}this._startSession(this._sessionId,{channel:o,appId:r,stringUid:L.stringUid});const q=this._sessionId;setTimeout(()=>{this.connectionState==="CONNECTING"&&q===this._sessionId&&cQ.joinChannelTimeout(this._sessionId,5)},5e3);try{var z;let _n;const _i=L.cloudProxyServer;if(AQ(z=["proxy3","proxy4","proxy5"]).call(z,_i)){const Fa=la("PROXY_SERVER_TYPE3");Array.isArray(Fa)?L.proxyServer=Fa[0]:L.proxyServer=Fa}if(cQ.setProxyServer(L.proxyServer),$.setProxyServer(L.proxyServer),this.store.requestAPStart(),L.stringUid&&!L.uid){let Fa;[Fa,_n]=await lc.all([m7(L.stringUid,L,this._axiosCancelSource.token,this._config.httpRetryConfig||s_,this.store),Q7(L,this._axiosCancelSource.token,this._config.httpRetryConfig||s_,!0,this.store)]),$.debug("[".concat(this._clientId,"] getUserAccount Success ").concat(L.stringUid," => ").concat(Fa)),L.uid=Fa,_n.gatewayInfo.uid=Fa,_n.gatewayInfo.res.uid=Fa}else _n=await Q7(L,this._axiosCancelSource.token,this._config.httpRetryConfig||s_,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));this.store.requestAPEnd(),setTimeout(()=>{this._configDistribute.startGetConfigDistribute(L,this._axiosCancelSource.token),this._configDistribute.on(GO.UPDATE_BITRATE_LIMIT,Fa=>{this._p2pChannel.updateBitrateLimit(Fa)})},0),this._key=u||r;const Aa=_n.gatewayInfo,Ea=L.uid?L.uid:Aa.uid;this._joinInfo=JN(JN({},L),{},{cid:Aa.cid,uid:Ea,vid:Aa.vid,apResponse:Aa.res,uni_lbs_ip:Aa.uni_lbs_ip,gatewayAddrs:Aa.gatewayAddrs}),this.store.intUid=Ea;const Qa=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Client already left"));k.onSuccess(Qa),this._appId=r,this._channelName=L.cname,this._uid=Qa,this.store.uid=Qa,setTimeout(()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(uS()?"beforeunload":"pagehide",this._handleBeforeUnload)},0);const Vc=L.stringUid?"string uid: ".concat(L.stringUid,",uid: ").concat(L.uid):"uid: ".concat(this._uid);return $.info("[".concat(this._clientId,"] Joining channel success: channel: ").concat(o,",").concat(Vc)),setTimeout(()=>{$.startUpload()},5e3),this.store.joinEnd(),_s=this,AQ(sT).call(sT,_s)||sT.push(_s),Qa}catch(_n){const _i=Array.isArray(_n)?_n[0]:_n;throw _i&&_i.code===ea.OPERATION_ABORTED?$.warning("[".concat(this._clientId,"] join number: ").concat(m,", Joining channel failed, rollback"),_i):$.error("[".concat(this._clientId,"] join number: ").concat(m,", Joining channel failed, rollback"),_i),_i.code!==ea.OPERATION_ABORTED&&this._numberOfJoinCount===m&&(this._gateway.state="DISCONNECTED",this._reset()),k.onError(_i),_i}var _s}_joinGateway(){if(!this._joinInfo||!this._key)throw new Oa(ea.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(this._joinInfo.cloudProxyServer!=="disabled"||this._joinInfo.proxyServer||!la("JOIN_WITH_FALLBACK_SIGNAL_PROXY"))).then(r=>r).catch(r=>{if(r.code===ea.INIT_WEBSOCKET_TIMEOUT)return this._gateway.leave(!0,zQ.FALLBACK),r;if(r.code===ea.INIT_DATACHANNEL_TIMEOUT)return this._gateway.leave(!0,zQ.FALLBACK),r;throw r}).then(r=>{if(r instanceof Oa){if(r.code===ea.INIT_WEBSOCKET_TIMEOUT){if($.info("[".concat(this._clientId,"] join timeout, fallback to proxy")),!this._joinInfo||!this._key)throw new Oa(ea.INVALID_OPERATION);this._joinInfo.cloudProxyServer="fallback",this._cloudProxyServerMode="fallback",this.store.cloudProxyServerMode="fallback";const o=la("PROXY_SERVER_TYPE3");if(Array.isArray(o))if(this._joinInfo.apUrl){const h=/^https?:\/\/(.+?)(\/.*)?$/.exec(this._joinInfo.apUrl)[1].split("."),f=h.slice(h.length-2).join(".");o.forEach(m=>{this._joinInfo&&AQ(m).call(m,f)&&(this._joinInfo.proxyServer=m)}),this._joinInfo.proxyServer||(this._joinInfo.proxyServer=o[0])}else this._joinInfo.proxyServer=o[0];else this._joinInfo.proxyServer=o;const u=la("LOG_UPLOAD_SERVER").match(/.+:(\d{1,5})$/);return u&&u[1]&&u[1]!=="443"&&$.setProxyServer(this._joinInfo.proxyServer),la("STATS_COLLECTOR_PORT").toString()!=="443"&&cQ.setProxyServer(this._joinInfo.proxyServer),cQ.reportApiInvoke(this._sessionId,{name:l_.JOIN_FALLBACK_TO_PROXY,options:[this._joinInfo.proxyServer],tag:G0.TRACER}).onSuccess(),this.safeEmit(ZQ.JOIN_FALLBACK_TO_PROXY,this._joinInfo.proxyServer),la("JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE")&&this._joinInfo.turnServer.servers.forEach(h=>{"forceturn"in h&&(h.forceturn=!0)}),this._gateway.join(this._joinInfo,this._key)}if($.info("[".concat(this._clientId,"] join by datachannel timeout, fallback to websocket")),!this._joinInfo||!this._key)throw new Oa(ea.INVALID_OPERATION);return cQ.reportApiInvoke(this._sessionId,{name:l_.DATACHANNEL_FAILBACK,options:[this.store.clientId],tag:G0.TRACER}).onSuccess(),this._joinGateway()}return r}).then(r=>r)}async leave(){$.info("[".concat(this._clientId,"] Leaving channel")),window.removeEventListener(uS()?"beforeunload":"pagehide",this._handleBeforeUnload),this._reset(),function(o){const u=sT.indexOf(o);u!==-1&&sT.splice(u,1)}(this);const r=await this._leaveMutex.lock();if(this.connectionState==="DISCONNECTED")return $.info("[".concat(this._clientId,"] Leaving channel repeated, success")),void r();await this._gateway.leave(this.connectionState!=="CONNECTED"),$.info("[".concat(this._clientId,"] Leaving channel success")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),r()}async publish(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!Array.isArray(r)){if(!(r instanceof z_))return this._publishDataChannel(r);r=[r]}if(r.length===0)throw new Oa(ea.INVALID_PARAMS,"param list is empty");const u=r;if(this._gateway.role==="audience")throw new Oa(ea.INVALID_OPERATION,"audience can not publish stream");for(const f of u){if(!(f instanceof z_))throw new Oa(ea.INVALID_PARAMS,"parameter is not local track");if(!f._enabled&&o)throw new Oa(ea.TRACK_IS_DISABLED,"can not publish a disabled track: ".concat(f.getTrackId()))}$.info("[".concat(this._clientId,"] Publishing tracks, id ").concat(u.map(f=>"".concat(f.getTrackId()," "))));const h=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),o&&u.forEach(f=>{const m=this._configDistribute.getBitrateLimit();f instanceof HQ&&m&&f.setBitrateLimit(m.uplink)});try{await this._publishHighStream(u),$.info("[".concat(this._clientId,"] Publish success, id ").concat(u.map(f=>"".concat(f.getTrackId()," "))))}catch(f){throw $.error("[".concat(this._clientId,"] publish error"),f.toString()),f}finally{h()}}async _publishDataChannel(r){h0(r.id,"id",0,65535,!0),rT(r.ordered,"ordered"),W_(r.metadata,"metadata",0,512),$.info("[".concat(this._clientId,"] Publishing datachannels, id ").concat(r.id));const o=await this._publishMutex.lock();try{if(this._p2pChannel.getAllDataChannels().findIndex(h=>h.id===r.id)!==-1)throw new Oa(ea.INVALID_PARAMS,"Invalid id: ".concat(r.id,". If you want to republish the datachannel, unpublish first"));if(!this._joinInfo||this._uid===void 0)throw new Oa(ea.INVALID_OPERATION,"Can't publish datachannel, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish datachannel in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&la("FORCE_TURN")&&!la("TURN_ENABLE_TCP")&&!la("TURN_ENABLE_UDP"))throw new Oa(ea.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");const u=new WX(r);await this._p2pChannel.publishDataChannel([u]);try{const h={streamId:r.id,ordered:r.ordered,maxRetransmits:la("DATASTREAM_MAX_RETRANSMITS"),metadata:r.metadata,channelId:u._originDataChannelId};await this._gateway.publishDataChannel(this._uid,h,!0)}catch(h){if(h.code!==ea.DISCONNECT_P2P)throw h}return await u._waitTillOpen(),$.info("[".concat(this._clientId,"] Publish dataChannels success, id ").concat(u.id)),u}catch(u){throw $.error("[".concat(this._clientId,"] publish datachannels error"),u.toString()),u}finally{o()}}async unpublish(r){if(!this._joinInfo||this._uid===void 0)throw new Oa(ea.INVALID_OPERATION,"Can't unpublish stream, haven't joined yet!");let o=[];if(r)if(Array.isArray(r))o=r;else{if(!(r instanceof z_))return this._unpublishDataChannel([r]);o=[r]}else this.store.useP2P||await this._unpublishDataChannel(),o=this._p2pChannel.getAllTracks(!0);$.info("[".concat(this._clientId,"] Unpublish tracks, tracks ").concat(o.map(h=>"".concat(h.getTrackId()," "))," "));const u=await this._publishMutex.lock();try{if(this._p2pChannel instanceof m_){const h=await this._p2pChannel.unpublish(o);h&&await this._gateway.sendExtensionMessage(H0.UNPUBLISH,{unpubMsg:h},!0)}else{const h=await this._p2pChannel.unpublish(o);h&&await this._gateway.unpublish(h,this._uid),$.info("[".concat(this._clientId,"] Unpublish success,tracks ").concat(o.map(f=>"".concat(f.getTrackId()))))}}catch(h){throw $.error("[".concat(this._clientId,"] unpublish error"),h.toString()),h}finally{u&&u()}}async _unpublishDataChannel(r){r!==void 0&&r.length!==0||(r=this._p2pChannel.getAllDataChannels()),$.info("[".concat(this._clientId,"] Unpublish datachannels, datachannels ").concat(r.map(u=>"".concat(u.id," "))," "));const o=await this._publishMutex.lock();try{const u=await this._p2pChannel.unpublishDataChannel(r);u&&await this._gateway.unpublishDataChannel(u),$.info("[".concat(this._clientId,"] Unpublish dataChannel success,dataChannel ").concat(r.map(h=>"".concat(h.id))))}catch(u){throw $.error("[".concat(this._clientId,"] unpublish dataChannel error"),u.toString()),u}finally{o&&o()}}async subscribe(r,o,u){return o==="datachannel"?this._subscribeDataChannel(r,u):this._subscribe(r,o)}async presubscribe(r,o){if(p_(o,"mediaType",["audio","video"]),this._p2pChannel instanceof m_)throw new Oa(ea.INVALID_OPERATION,"can't presub at p2p mode");if(!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"can't presub when not join");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can't presub in ".concat(this.connectionState," state"));const u=o===sQ.AUDIO,h=o===sQ.VIDEO,f=await this._subscribeMutex.lock();try{const{ssrcId:m,ortc:v,rtxSsrcId:R,cname:D,uint_id:k}=await this._gateway.presubscribe(r,o,!0);if(m==null)throw new Oa(ea.UNEXPECTED_RESPONSE,"no ssrc id");let L=this._users.find(z=>z.uid===r);L||(L=new F_(r,k||r),L._is_pre_created=!0,this._users.push(L)),D&&(L._cname=D),L._uintid||(L._uintid=k||r),u&&(L._audioSSRC=m,L._audio_pre_subscribed=!0,v&&(L._audioOrtc=v)),h&&(L._videoSSRC=m,L._video_pre_subscribed=!0,v&&(L._videoOrtc=v),R!=null&&(L._rtxSsrcId=R)),$.info("[".concat(this._clientId,"] presub succeed ssrc: ").concat(m)),await this._p2pChannel.subscribe(L,o,m,R,v);const q=u?L._audioTrack:L._videoTrack;if(!q)throw new Oa(ea.UNEXPECTED_ERROR,"can not find remote track in user");return u&&(L._trust_audio_stream_added_state_=!0,L._audio_added_=!0),h&&(L._trust_video_stream_added_state_=!0,L._video_added_=!0),q}catch(m){throw $.error("[".concat(this._clientId,"] presub user ").concat(r," error"),m),m}finally{f()}}async _subscribeDataChannel(r,o){var u;if(h0(o,"channelId",0,65535,!0),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't subscribe datachannel, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"Can't subscribe datachannel in ".concat(this.connectionState," state"));if(!this._users.find(v=>v===r))throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", this user is not in the channel")),new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");if(!r.hasAudio&&!r.hasVideo&&r._dataChannels.length===0)throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", user is not published")),new Oa(ea.INVALID_REMOTE_USER,"user is not published");const h=(u=r._dataChannels)===null||u===void 0?void 0:u.find(v=>v.id===o);if(!h)throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid," with mediaType datachannel, remote datachannel is not published")),new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);const f=await this._subscribeMutex.lock();$.info("[".concat(this._clientId,"] subscribe user ").concat(r.uid,", mediaType: datachannel"));try{const v=await this._p2pChannel.subscribeDataChannel(r,[h]);if(v&&AQ(v).call(v,h.id))try{var m;if(!h._originDataChannelId)throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid," with mediaType datachannel, cannot get RTCDatachannel")),new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);const R={id:h.id,datachannelId:h._originDataChannelId,ordered:h.ordered,maxRetransmits:h.maxRetransmits,metadata:(m=h.metadata)!==null&&m!==void 0?m:""};await this._gateway.subscribeDataChannel(r.uid,R,!0)}catch(R){if((R==null?void 0:R.code)!==ea.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(r,[h]),R;await this._p2pChannel.unsubscribeDataChannel(r,[h]),this._p2pChannel.setPendingRemoteDataChannel(r,h.id)}return await h._waitTillOpen(),$.info("[".concat(this._clientId,"] subscribe success user ").concat(r.uid,", mediaType: datachannel")),h}finally{f()}}async _p2pSubscribe(r,o,u){if(p_(o,"mediaType",["audio","video"]),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(f=>f===r)){const f=new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", this user is not in the channel")),f}if(!r.hasAudio&&!r.hasVideo){const f=new Oa(ea.INVALID_REMOTE_USER,"user is not published");throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", user is not published")),f}if(!u&&(o==="audio"&&!r.hasAudio||o==="video"&&!r.hasVideo)){const f=new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid," with mediaType ").concat(o,", remote track is not published")),f}const h=await this._subscribeMutex.lock();$.info("[".concat(this._clientId,"] subscribe user ").concat(r.uid,", mediaType: ").concat(o));try{if(await this._p2pChannel.hasRemoteMediaWithLock(r,o))await this._p2pChannel.unmuteRemote(r,o);else try{const m=o==="audio"?r._audioSSRC:r._videoSSRC,v=o==="audio"?r._audioMid:r._videoMid;this.store.subscribe(r.uid,o,Date.now()),this._p2pChannel instanceof m_&&await this._p2pChannel.subscribe(r,o,m,v)}catch(m){throw m}$.info("[".concat(this._clientId,"] subscribe success user ").concat(r.uid,", mediaType: ").concat(o)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(r.uid,this._defaultStreamFallbackType).catch(m=>{$.warning("[".concat(this._clientId,"] auto set fallback failed"),m)});const f=o==="audio"?r._audioTrack:r._videoTrack;if(!f)throw new Oa(ea.UNEXPECTED_ERROR,"can not find remote track in user object");return f}catch(f){throw $.error("[".concat(this._clientId,"] subscribe user ").concat(r.uid," error"),f),f}finally{h()}}async _subscribe(r,o,u){if(this._p2pChannel instanceof m_)return this._p2pSubscribe(r,o);if(p_(o,"mediaType",["audio","video"]),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));if(!this._users.find(D=>D===r)){const D=new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", this user is not in the channel")),D}if(!r.hasAudio&&!r.hasVideo){const D=new Oa(ea.INVALID_REMOTE_USER,"user is not published");throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid,", user is not published")),D}if(!(u||(o!=="audio"||r.hasAudio&&r._audioSSRC!==void 0)&&(o!=="video"||r.hasVideo&&r._videoSSRC!==void 0))){const D=new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);throw $.error("[".concat(this._clientId,"] can not subscribe ").concat(r.uid," with mediaType ").concat(o,", remote track is not published")),D}let h=o==="audio"?r._audioSSRC:r._videoSSRC,f=o==="audio"?r._audioOrtc:r._videoOrtc,m=o==="video"?r._rtxSsrcId:void 0,v={stream_type:o==="audio"?sQ.AUDIO:sQ.VIDEO,ssrcId:h};const R=await this._subscribeMutex.lock();$.info("[".concat(this._clientId,"] subscribe user ").concat(r.uid,", mediaType: ").concat(o));try{if(await this._p2pChannel.hasRemoteMediaWithLock(r,o))await this._p2pChannel.unmuteRemote(r,o);else try{const k=o==="audio"?r._audioSSRC:r._videoSSRC;k!==void 0&&k!==h&&(h=k,f=o==="audio"?r._audioOrtc:r._videoOrtc,m=o==="video"?r._rtxSsrcId:void 0,v={stream_type:o==="audio"?sQ.AUDIO:sQ.VIDEO,ssrcId:h}),Z_.markSubscribeStart(this.store.clientId,h),this.store.subscribe(r.uid,o,Date.now()),await this._p2pChannel.subscribe(r,o,h,m,f);try{await this._gateway.subscribe(r.uid,v,!0)}catch(L){if((L==null?void 0:L.code)!==ea.WS_ABORT)throw await this._p2pChannel.unsubscribe(r,o),L;await this._p2pChannel.unsubscribe(r,o,!0),this._p2pChannel.setPendingRemoteMedia(r,o)}this.store.subscribe(r.uid,o,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,r,o)}catch(k){throw this._p2pChannel.reportSubscribeEvent(!1,k==null?void 0:k.code,r,o),k}$.info("[".concat(this._clientId,"] subscribe success user ").concat(r.uid,", mediaType: ").concat(o)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(r.uid,this._defaultStreamFallbackType).catch(k=>{$.warning("[".concat(this._clientId,"] auto set fallback failed"),k)});const D=o==="audio"?r._audioTrack:r._videoTrack;if(!D)throw new Oa(ea.UNEXPECTED_ERROR,"can not find remote track in user object");return D}catch(D){throw $.error("[".concat(this._clientId,"] subscribe user ").concat(r.uid," error"),D),D}finally{R()}}async massSubscribe(r){if(NN(r,"subscribeList"),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream, not joined");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"Can't subscribe stream in ".concat(this.connectionState," state"));const o=Date.now(),u=new Map,h=await this._subscribeMutex.lock();$.info("[".concat(this._clientId,"]start massSubscribe user ").concat(r.map(R=>{let{user:D,mediaType:k}=R;return"user: ".concat(D==null?void 0:D.uid,", mediaType: ").concat(k)}).join("; ")));const f=(r=[...r]).map(R=>{let{user:D,mediaType:k}=R;return{user:D,mediaType:k}}),m=await this._p2pChannel.globalLock();try{var v;for(let D=r.length-1;D>=0;D--){const k=r[D],{user:L,mediaType:q}=k;if(p_(q,"mediaType",["audio","video"]),!L){const _n=new Oa(ea.INVALID_PARAMS,"user property does not exist in subscribeList item");throw $.error("[".concat(this._clientId,"] user property does not exist in subscribeList item")),_n}if(!this._users.find(_n=>_n===L)){const _n=new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");$.error("[".concat(this._clientId,"] can not massSubscribe ").concat(L.uid,", this user is not in the channel")),f[D].error=_n,r.splice(D,1);continue}if(q==="audio"&&(!L.hasAudio||L._audioSSRC===void 0)||q==="video"&&(!L.hasVideo||L._videoSSRC===void 0)){const _n=new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);$.error("[".concat(this._clientId,"] can not subscribe ").concat(L.uid," with mediaType ").concat(q,", remote user is not published")),f[D].error=_n,r.splice(D,1);continue}const z=d_.Video|d_.LwoVideo,_s=u.get(L);if(_s){if(q==="video"?_s&z:_s&d_.Audio){r.splice(D,1),$.warning("[".concat(this._clientId,"] repeat massSubscribe user:").concat(L.uid,", mediaType:").concat(q," twice"));continue}u.set(L,_s|(q==="video"?z:d_.Audio))}else u.set(L,q==="video"?z:d_.Audio)}for(let D=r.length-1;D>=0;D--){const k=r[D],{user:L,mediaType:q}=k,z=d_.Video|d_.LwoVideo;if(this._p2pChannel.hasRemoteMedia(L,q)){await this._p2pChannel.unmuteRemoteNoLock(L,q);const _s=u.get(L);u.set(L,q==="video"?_s^z:_s^d_.Audio),r.splice(D,1)}}this.store.massSubscribe(r.map(D=>({userId:D.user.uid,type:D.mediaType})),o);const R=YT(v=Array.from(u.entries())).call(v,(D,k)=>{let[L,q]=k;if(q===0)return D;const z={stream_id:L.uid,stream_type:q};return q&d_.Audio&&(z.audio_ssrc=L._audioSSRC),q&d_.Video&&(z.video_ssrc=L._videoSSRC),D.push(z),D},[]);try{r.length>0&&await this._p2pChannel.massSubscribeNoLock(r.map(k=>{let{user:L,mediaType:q}=k;return{user:L,mediaType:q,ssrcId:q===sQ.VIDEO?L._videoSSRC:L._audioSSRC,rtxSsrcId:q===sQ.VIDEO?L._rtxSsrcId:void 0}}));const D=new Map;if(R.length>0){const k=await this._gateway.subscribeAll(R,!0);((k==null?void 0:k.users)||[]).forEach(L=>{let{stream_id:q,video_error_code:z,audio_error_code:_s,error_code:_n}=L;(z||_s||_n)&&D.set(q,{video_error_code:z,audio_error_code:_s,error_code:_n})})}if(Array.from(D.entries()).length>0){const k=Array.from(D.entries()).map(L=>{let q,[z,_s]=L;return _s.error_code||_s.video_error_code&&_s.audio_error_code?q=void 0:_s.video_error_code?q=sQ.VIDEO:_s.audio_error_code&&(q=sQ.AUDIO),{user:this.remoteUsers.find(_n=>_n.uid===z),mediaType:q}});await this._p2pChannel.massUnsubscribeNoLock(k)}for(const k of f){const L=D.get(k.user.uid);if(L){const q=L.error_code||k.mediaType==="audio"&&L.audio_error_code||k.mediaType==="video"&&L.video_error_code;if(q){const z=WT(q);$.error("user:".concat(k.user.uid," mediaType:").concat(k.mediaType," has massSubscribe error ").concat(z.desc)),k.error=new Oa(ea.SUBSCRIBE_FAILED,"code ".concat(q,": ").concat(z.desc))}}k.error||(k.mediaType==="video"?k.track=k.user.videoTrack:k.track=k.user.audioTrack)}return this.store.massSubscribe(f.filter(k=>!k.error).map(k=>({userId:k.user.uid,type:k.mediaType})),void 0,Date.now()),f.forEach(k=>{var L;cQ.subscribe(this.store.sessionId,{succ:!!k.error,ec:((L=k.error)===null||L===void 0?void 0:L.code)||null,video:k.mediaType===sQ.VIDEO,audio:k.mediaType===sQ.AUDIO,peerid:k.user.uid,subscribeRequestid:k.mediaType===sQ.VIDEO?k.user._videoSSRC:k.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-o)},!0)}),$.info("[".concat(this._clientId,"] massSubscribe success ").concat(r.map(k=>{let{user:L,mediaType:q}=k;return"user: ".concat(L==null?void 0:L.uid,", mediaType: ").concat(q)}).join("; "))),f}catch(D){throw await this._p2pChannel.massUnsubscribeNoLock(r),D}}finally{m(),h()}}async unsubscribe(r,o,u){if(o||this.store.useP2P){if(o==="datachannel")return this._unsubscribeDataChannel(r,u)}else await this._unsubscribeDataChannel(r,u);if(o&&p_(o,"mediaType",["audio","video"]),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't unsubscribe stream, haven't joined yet!");if(!this._users.find(f=>f===r)){const f=new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");throw $.error("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),f}$.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(r.uid,", mediaType: ").concat(o));const h=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof m_)await this._p2pChannel.unsubscribe(r,o);else{const f=await this._p2pChannel.unsubscribe(r,o);f&&await this._gateway.unsubscribe(f,r.uid),o&&o!=="audio"||(r._audio_pre_subscribed=!1),o&&o!=="video"||(r._video_pre_subscribed=!1),r._is_pre_created&&sP(this._users,r),$.info("[".concat(this._clientId,"] unsubscribe success uid: ").concat(r.uid,", mediaType: ").concat(o))}}catch(f){if(f.code===ea.DISCONNECT_P2P)return void $.warning("disconnecting p2p, abort unsubscribe request.");throw $.error("[".concat(this._clientId,"] unsubscribe user ").concat(r.uid," error"),f.toString()),f}finally{h()}}async _unsubscribeDataChannel(r,o){if(o&&h0(o,"id",0,65535,!0),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't unsubscribe datachannel, haven't joined yet!");if(!this._users.find(h=>h===r)){const h=new Oa(ea.INVALID_REMOTE_USER,"user is not in the channel");throw $.error("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid,", user is not in the channel")),h}let u;if(typeof o=="number"){const h=r._dataChannels.find(f=>f.id===o);h&&(u=[h])}else u=r._dataChannels;if(u===void 0){const h=new Oa(ea.REMOTE_USER_IS_NOT_PUBLISHED);throw $.error("[".concat(this._clientId,"] can not unsubscribe ").concat(r.uid," with channelId ").concat(o,", remote datachannel is not published")),h}$.info("[".concat(this._clientId,"] unsubscribe uid: ").concat(r.uid,", mediaType: datachannel, ids: ").concat(u.map(h=>h.id)));try{const h=await this._p2pChannel.unsubscribeDataChannel(r,u);h&&await this._gateway.unsubscribeDataChannel(h,r.uid),$.info("[".concat(this._clientId,"] unsubscribe datachannel success uid: ").concat(r.uid,", mediaType: datachannel, ids: ").concat(h))}catch(h){if(h.code===ea.DISCONNECT_P2P)return void $.warning("disconnecting p2p, abort unsubscribe request.");throw $.error("[".concat(this._clientId,"] unsubscribe user ").concat(r.uid," error"),h.toString()),h}}async massUnsubscribe(r){if(NN(r,"unsubscribeList"),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't unsubscribeAll stream, haven't joined yet!");$.info("[".concat(this._clientId,"] start massUnsubscribe ").concat(r.map(u=>{let{user:h,mediaType:f}=u;return"user: ".concat(h==null?void 0:h.uid,", mediaType: ").concat(f,";")}).join())),r=[...r];const o=new Map;for(let u=r.length-1;u>=0;u--){const{user:h,mediaType:f}=r[u];if(!h){const v=new Oa(ea.INVALID_PARAMS,"user property does not exist in unsubscribeList item");throw $.error("[".concat(this._clientId,"] user property does not exist in unsubscribeList item")),v}if(p_(f,"mediaType",["video","audio",void 0]),!this._users.find(v=>v===h)){$.warning("[".concat(this._clientId,"] can not unsubscribe ").concat(h.uid,", user is not in the channel")),r.splice(u,1);continue}const m=d_.Video|d_.LwoVideo;if(o.has(h)){const v=o.get(h);let R;switch(f){case"video":R=v&m;break;case"audio":R=v&d_.Audio;break;default:R=v&(d_.Audio|m)}if(R){$.warning("[".concat(this._clientId,"] repeat massUnsubscribe user:").concat(h.uid,",mediaType:").concat(f," twice.")),r.splice(u,1);continue}f?f==="audio"?o.set(h,v|d_.Audio):f==="video"&&o.set(h,v|m):o.set(h,v|d_.Audio|m)}else f?f==="audio"?o.set(h,d_.Audio):f==="video"&&o.set(h,m):o.set(h,d_.Audio|m)}try{const u=await this._p2pChannel.massUnsubscribe(r);u&&await this._gateway.massUnsubscribe(u),$.info("[".concat(this._clientId,"] massUnsubscribe success ").concat(r.map(h=>{let{user:f,mediaType:m}=h;return"user: ".concat(f==null?void 0:f.uid,", mediaType: ").concat(m,";")}).join()))}catch(u){if(u.code===ea.DISCONNECT_P2P)return void $.warning("[".concat(this._clientId,"] disconnecting p2p, abort unsubscribe request."));throw $.error("[".concat(this._clientId,"] massUnsubscribe error"),u.toString()),u}}async setLowStreamParameter(r){(function(u){if(!u)throw new _g(ea.INVALID_PARAMS);P0(u.width)||q6(u.width,"streamParameter.width"),P0(u.height)||q6(u.height,"streamParameter.height"),P0(u.framerate)||q6(u.framerate,"streamParameter.framerate"),P0(u.bitrate)||h0(u.bitrate,"streamParameter.bitrate")})(r),(!r.width&&r.height||r.width&&!r.height)&&$.warning("[".concat(this._clientId,"] The width and height parameters take effect only when both are set")),$.info("[".concat(this._clientId,"] set low stream parameter to"),JSON.stringify(r));const o=this._configDistribute.getLowStreamConfigDistribute();if(o&&o.bitrate&&r.bitrate&&o.bitrate<r.bitrate&&(r.bitrate=o.bitrate),this._lowStreamParameter=r,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(r,_d.LocalVideoLowTrack)}async enableDualStream(){if(!f0().supportDualStream)throw cQ.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Oa(ea.NOT_SUPPORTED,"Your browser is not support dual stream");if(this._isDualStreamEnabled)throw new Oa(ea.INVALID_OPERATION,"Dual stream is already enabled");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(r){throw cQ.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),r}this._isDualStreamEnabled=!0,cQ.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),$.info("[".concat(this._clientId,"] enable dual stream"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this._p2pChannel.getLocalMedia(_d.LocalVideoLowTrack))try{const r=await this._p2pChannel.unpublishLowStream();r&&await this._gateway.unpublish(r,this._joinInfo.stringUid||this._joinInfo.uid)}catch(r){throw cQ.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),r}this._isDualStreamEnabled=!1,cQ.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),$.info("[".concat(this._clientId,"] disable dual stream"))}}async setClientRole(r,o){if(function(u){p_(u,"role",["audience","host"])}(r),o&&R9(o),this.mode==="rtc"||this.mode==="p2p")throw $.warning("[".concat(this._clientId,"]").concat(this.mode," mode can not use setClientRole")),new Oa(ea.INVALID_OPERATION,"".concat(this.mode," mode can not use setClientRole"));if(o&&o.level&&r==="host")throw new Oa(ea.INVALID_OPERATION,"host mode can not set audience latency level");if(r==="audience"&&this._p2pChannel.hasLocalMedia())throw new Oa(ea.INVALID_OPERATION,"can not set client role to audience when publishing stream");await this._gateway.setClientRole(r,o),this._config.role=r,$.info("[".concat(this._clientId,"] set client role to ").concat(r,", level: ").concat(o&&o.level))}getRemoteInboundOffset(){var r;const o=(r=this._p2pChannel.getStats())===null||r===void 0?void 0:r.audioSend[0];if(!o||!o.timestamp)return 0;const u=o.timestamp-Date.now();return Math.abs(u)>1e3+o.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?u:0}getNtpWallTimeInMs(){return document.visibilityState==="visible"&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(r,o){if(W_(r,"proxyServer"),!o){if(this.connectionState!=="DISCONNECTED")throw new Oa(ea.INVALID_OPERATION,"Set proxy server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new Oa(ea.INVALID_OPERATION,"You have already set the proxy")}this._proxyServer=r,cQ.setProxyServer(this._proxyServer),$.setProxyServer(this._proxyServer),$.info("[".concat(this._clientId,"] Set proxy server ").concat(o?"by initialize call":""," success."))}setTurnServer(r,o){if(Array.isArray(r)||(r=[r]),!o){if(this.connectionState!=="DISCONNECTED")throw new Oa(ea.INVALID_OPERATION,"Set turn server before join channel");if(this._cloudProxyServerMode!=="disabled"||this._useLocalAccessPoint)throw new Oa(ea.INVALID_OPERATION,"You have already set the proxy")}if(O1(r))return this._turnServer={servers:r,mode:"original-manual"},void $.info("[".concat(this._clientId,"] Set original turnserver ").concat(o?"by initialize call":""," success: ").concat(r.map(u=>u.urls).join(","),"."));r.forEach(u=>S9(u)),this._turnServer={servers:r,mode:"manual"},$.info("[".concat(this._clientId,"] Set turnserver ").concat(o?"by initialize call":""," success."))}setLicense(r){if(this.connectionState!=="DISCONNECTED")throw new Oa(ea.INVALID_OPERATION,"you should set license before join channel");if(W_(r,"license",32,32),!/^[A-Za-z\d]+$/.test(r))throw new Oa(ea.INVALID_PARAMS,"license should only contains characters from A-Z a-z 0-9");this._license=r,$.info("[".concat(this._clientId,"] set license success"),r)}startProxyServer(r){if(this.connectionState!=="DISCONNECTED")throw new Oa(ea.INVALID_OPERATION,"Start proxy server before join channel");if(this._proxyServer||this._turnServer.mode==="manual"||this._useLocalAccessPoint)throw new Oa(ea.INVALID_OPERATION,"You have already set the proxy");const o=[3,4,5];let u;switch(r===void 0&&(r=3),r){case 1:case 2:throw new Oa(ea.NOT_SUPPORTED,"proxy mode 1/2 has been deprecated and not supported.");case 3:u="proxy3";break;case 4:u="proxy4";break;case 5:u="proxy5";break;default:throw new Oa(ea.INVALID_PARAMS,"proxy server mode must be ".concat(o.join("|")))}this._cloudProxyServerMode=u,this.store.cloudProxyServerMode=u,$.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode)}stopProxyServer(){if(this.connectionState!=="DISCONNECTED")throw new Oa(ea.INVALID_OPERATION,"Stop proxy server after leave channel");cQ.setProxyServer(),$.setProxyServer(),this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled",$.info("[".concat(this._clientId,"] set cloud proxy server mode to"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:"auto",servers:[]}}setLocalAccessPointsV2(r){if(!r.accessPoints)throw new Oa(ea.INVALID_PARAMS,"accessPoints is required.");NN(r.accessPoints.serverList,"accessPoints.serverList"),W_(r.accessPoints.domain,"accessPoints.domain");const o=(z,_s)=>{h0(z,_s,0,65535,!0)};let u=443;if(r.accessPoints.port&&(o(r.accessPoints.port,"accessPoints.port"),u=r.accessPoints.port),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new Oa(ea.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");la("CLOSE_AFB_FOR_LOCAL_AP")&&(p0("JOIN_WITH_FALLBACK_SIGNAL_PROXY",!1),p0("JOIN_WITH_FALLBACK_MEDIA_PROXY",!1));const h=/^((\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.){3}(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/,f=r.accessPoints.domain,m=r.accessPoints.serverList.map(z=>h.test(z)?"".concat(z.replace(/\./g,"-"),".").concat(f):z),v=m.map(z=>"".concat(z,":").concat(u));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,p0("WEBCS_DOMAIN",v),p0("WEBCS_DOMAIN_BACKUP_LIST",v),p0("GATEWAY_DOMAINS",[f]),r.report&&r.report.hostname&&Array.isArray(r.report.hostname)&&r.report.hostname.length?(NN(r.report.hostname,"report.hostname"),p0("EVENT_REPORT_DOMAIN",r.report.hostname[0]),p0("EVENT_REPORT_BACKUP_DOMAIN",r.report.hostname[1]||r.report.hostname[0])):(p0("EVENT_REPORT_DOMAIN",m[0]),p0("EVENT_REPORT_BACKUP_DOMAIN",m[1]||m[0]));let R=6443;r.report&&r.report.port&&(o(r.report.port,"report.port"),R=r.report.port),p0("STATS_COLLECTOR_PORT",R),r.report?p0("ENABLE_EVENT_REPORT",!0):p0("ENABLE_EVENT_REPORT",!1);let D="";r.log&&r.log.hostname&&Array.isArray(r.log.hostname)&&r.log.hostname.length?(NN(r.log.hostname,"log.hostname"),D=r.log.hostname[0]):D=m[0];let k=6444;r.log&&r.log.port&&(o(r.log.port,"log.port"),k=r.log.port),p0("LOG_UPLOAD_SERVER","".concat(D,":").concat(k));let L=[];r.cds&&r.cds.hostname&&Array.isArray(r.cds.hostname)&&r.cds.hostname.length?(NN(r.cds.hostname,"cds.hostname"),L=r.cds.hostname):L=m;let q=443;r.cds&&r.cds.port&&(o(r.cds.port,"cds.port"),q=r.cds.port),p0("CDS_AP",L.map(z=>"".concat(z,":").concat(q))),r.cds?p0("ENABLE_CONFIG_DISTRIBUTE",!0):p0("ENABLE_CONFIG_DISTRIBUTE",!1),$.info("set local access point v2 success")}setLocalAccessPoints(r,o){if(NN(r,"serverList"),W_(o,"domain"),this._proxyServer||this._cloudProxyServerMode!=="disabled")throw new Oa(ea.INVALID_OPERATION,"set local access point failed, You have already set the cloud proxy");const u=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;r=r.map(h=>u.test(h)?"".concat(h.replace(/\./g,"-"),".").concat(o):h),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,p0("WEBCS_DOMAIN",r),p0("WEBCS_DOMAIN_BACKUP_LIST",r),p0("GATEWAY_DOMAINS",[o]),p0("EVENT_REPORT_DOMAIN",r[0]),p0("EVENT_REPORT_BACKUP_DOMAIN",r[1]||r[0]),p0("LOG_UPLOAD_SERVER","".concat(r[0],":6444")),$.info("[".concat(this._clientId,"] set local access point success"))}async setRemoteDefaultVideoStreamType(r){if(p_(r,"streamType",[0,1]),this._remoteDefaultVideoStreamType=r,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(r),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(o){throw $.error("[".concat(this._clientId,"] set default remote video stream type error"),o.toString()),o}else $.debug("[".concat(this._clientId,"] haven't joined yet, cache remoteDefaultVideoStreamType ").concat(r))}async setRemoteVideoStreamType(r,o){p_(o,"streamType",[0,1]);try{await this._gateway.setRemoteVideoStreamType(r,o),setTimeout(()=>{const u=this._users.find(h=>h.uid===r);u&&u.videoTrack&&u.videoTrack.updateMediaStreamTrackResolution()},2e3)}catch(u){throw $.error("[".concat(this._clientId,"] set remote video stream type error"),u.toString()),u}$.info("[".concat(this._clientId,"] set remote ").concat(r," video stream type to ").concat(o)),this._remoteStreamTypeCacheMap.set(r,o)}async setStreamFallbackOption(r,o){p_(o,"fallbackType",[0,1,2]);try{await this._gateway.setStreamFallbackOption(r,o)}catch(u){throw $.error("[".concat(this._clientId,"] set stream fallback option"),u.toString()),u}$.info("[".concat(this._clientId,"] set remote ").concat(r," stream fallback type to ").concat(o)),this._streamFallbackTypeCacheMap.set(r,o)}setEncryptionConfig(r,o,u){(function(f){p_(f,"encryptionMode",["aes-128-xts","aes-256-xts","aes-128-ecb","sm4-128-ecb","aes-128-gcm","aes-256-gcm","aes-128-gcm2","aes-256-gcm2","none"])})(r),W_(o,"secret");const h=["aes-128-gcm2","aes-256-gcm2"];if(AQ(h).call(h,r)){if(!u||!(u instanceof Uint8Array&&u.length===32))throw new Oa(ea.INVALID_PARAMS,"salt must be an Uint8Array and exactly equal to 32 bytes")}else if(u)throw new Oa(ea.INVALID_PARAMS,"current encrypt mode does not need salt");new RegExp(`^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'"|{}\\[\\]])(?=.{8,})`).test(o)||$.warning(`The secret is not strong:
      The secret must contain at least 1 lowercase alphabetical character,
      The secret must contain at least 1 uppercase alphabetical character,
      The secret must contain at least 1 numeric character,
      The secret must contain at least one special character,
      The secret must be eight characters or longer.
      `),this._encryptionMode=r,this._encryptionSecret=o,u&&(this._encryptionSalt=M1(u))}async renewToken(r){if(W_(r,"token",1,2047),!this._key||!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"renewToken should not be called before user join");const o=this._key;this._key=r,this._joinInfo&&(this._joinInfo.token=r);const u=await this._renewTokenMutex.lock();try{if(la("USE_NEW_TOKEN")){$.debug("[".concat(this._clientId,"] start renew token with ticket from unilbs"));const h=await _ce(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||s_);$.debug("[".concat(this._clientId,"] get ticket from unilbs success")),await this._gateway.renewToken({token:r,ticket:h})}else $.debug("[".concat(this._clientId,"] start renew token without ticket")),await this._gateway.renewToken({token:r});$.debug("[".concat(this._clientId,"] renewToken success"))}catch(h){throw this._key=o,this._joinInfo.token=o,$.error("[".concat(this._clientId,"] renewToken failed"),h.toString()),h}finally{u()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?$.warning("you have already enabled audio volume indicator!"):this._audioVolumeIndicationInterval=window.setInterval(()=>{const r=this._p2pChannel.getAudioLevels();this.safeEmit(ZQ.VOLUME_INDICATOR,r)},la("AUDIO_VOLUME_INDICATION_INTERVAL")||2e3)}getRTCStats(){const r=this._statsCollector.getRTCStats(),o=this._gateway.getInChannelInfo();return r.Duration=Math.round(o.duration/1e3),r}async startLiveStreaming(r,o){if(!o){if(this.codec!=="h264")throw new Oa(ea.LIVE_STREAMING_INVALID_RAW_STREAM,"raw streaming is only support h264");if(!this._p2pChannel.hasLocalMedia())throw new Oa(ea.LIVE_STREAMING_INVALID_RAW_STREAM,"can not find stream to raw streaming")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(r)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(r))throw new Oa(ea.LIVE_STREAMING_TASK_CONFLICT);const u=o?B_.TRANSCODE:B_.RAW;return this._createLiveStreamingClient(u).startLiveStreamingTask(r,u)}setLiveTranscoding(r){return this._createLiveStreamingClient(B_.TRANSCODE).setTranscodingConfig(r)}async stopLiveStreaming(r){const o=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter(u=>u&&u.hasUrl(r));if(!o.length)throw new Oa(ea.INVALID_PARAMS,"can not find live streaming url to stop");await lc.all(o.map(u=>u&&u.stopLiveStreamingTask(r)))}async addInjectStreamUrl(r,o){if(!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"can not addInjectStreamUrl, no joininfo");const u=this._createLiveStreamingClient(B_.INJECT);u.setInjectStreamConfig(o,0),await u.startLiveStreamingTask(r,B_.INJECT)}async removeInjectStreamUrl(){var r;const o=this._createLiveStreamingClient(B_.INJECT),u=Array.from(zR(r=o.streamingTasks).call(r)).find(h=>h.mode===B_.INJECT);if(!this._joinInfo||!u)throw new Oa(ea.INVALID_OPERATION,"can remove addInjectStreamUrl, no joininfo or inject task");await o.stopLiveStreamingTask(u.url)}async startChannelMediaRelay(r){vZ(r),await this._createChannelMediaRelayClient().startChannelMediaRelay(r)}async updateChannelMediaRelay(r){vZ(r),await this._createChannelMediaRelayClient().updateChannelMediaRelay(r)}async stopChannelMediaRelay(){await this._createChannelMediaRelayClient().stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}sendStreamMessage(r){let o=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];if(!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"can not send data stream, not joined");if((typeof r=="string"||r instanceof Uint8Array)&&(r={payload:r}),typeof r.payload=="string"){const u=new TextEncoder;r.payload=u.encode(r.payload)}if(new Blob([r.payload]).size>1024)throw new Oa(ea.INVALID_PARAMS,"stream message out of range.");return this._gateway.signal.request(EQ.DATA_STREAM,{payload:M1(r.payload),syncWithAudio:r.syncWithAudio,sendTs:Date.now()-Mge},!o)}sendMetadata(r){if(!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"can not send metadata, not joined");if(new Blob([r]).size>1024)throw new Oa(ea.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(EQ.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:M1(r)})}async sendCustomReportMessage(r){if(Array.isArray(r)||(r=[r]),r.forEach(Mae),!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"can not send custom report, not joined");await cQ.sendCustomReportMessage(this._joinInfo.sid,r)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(r,o){p_(o.spatialLayer,"spatialLayer",[0,1,2,3]),p_(o.temporalLayer,"temporalLayer",[0,1,2,3]);try{await this._gateway.pickSVCLayer(r,o)}catch(u){throw $.error("[".concat(this._clientId,"] pick SVC layer failed"),u.toString()),u}}async setRTMConfig(r){const{apRTM:o=!1,rtmFlag:u}=r;if(rT(o,"apRTM"),h0(u,"rtmFlag",0),this._rtmConfig.apRTM=o,this._rtmConfig.rtmFlag=u,$.debug("[".concat(this._clientId,"] setRTMconfig ").concat(JSON.stringify(r)," in ").concat(this.connectionState," state")),(this.connectionState==="CONNECTED"||this.connectionState==="RECONNECTING")&&this._joinInfo)return this._joinInfo.apRTM=o,this._joinInfo.rtmFlag=u,this._gateway.setRTM2Flag(u)}_reset(){if($.debug("[".concat(this._clientId,"] reset client")),this._axiosCancelSource.cancel(),this._axiosCancelSource=RS.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode="none",this._encryptionSecret=null,this._encryptionSalt=null,this._pendingPublishedUsers=[],this._users.forEach(r=>{r._audioTrack&&r._audioTrack._destroy(),r._videoTrack&&r._videoTrack._destroy(),r._dataChannels&&(r._dataChannels.forEach(o=>o._close()),r._dataChannels.length=0)}),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),this._cloudProxyServerMode==="fallback"&&(this._cloudProxyServerMode="disabled",this.store.cloudProxyServerMode="disabled"),this._p2pChannel.reset(),this._publishMutex=new T_("client-publish"),this._subscribeMutex=new T_("client-subscribe"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._injectStreamingClient&&(this._injectStreamingClient.terminate(),this._injectStreamingClient.removeAllListeners(),this._injectStreamingClient=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch{}if(this._moderation)try{this.setImageModeration(!1)}catch{}}_startSession(r,o){var u;const h=r||Z6();r?$.debug("[".concat(this._clientId,"] new Session ").concat(h)):$.debug("[".concat(this._clientId,"] renewSession ").concat(this._sessionId," => ").concat(h));const f=r?"":this._sessionId||"";this._sessionId=h,this.store.sessionId=h;const m={lts:new Date().getTime(),mode:this.mode,stringUid:(o==null?void 0:o.stringUid)||((u=this._joinInfo)===null||u===void 0?void 0:u.stringUid),channelProfile:this.mode==="live"?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:f,clientRole:this.role==="audience"?2:1};o?cQ.sessionInit(this._sessionId,JN({cname:o.channel,appid:o.appId},m)):this._joinInfo?cQ.sessionInit(this._sessionId,JN({cname:this._joinInfo.cname,appid:this._joinInfo.appId},m)):this._gateway.joinInfo&&cQ.sessionInit(this._sessionId,JN({cname:this._gateway.joinInfo.cname,appid:this._gateway.joinInfo.appId},m)),this._joinInfo&&(this._joinInfo.sid=h),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=h)}async _publishHighStream(r){if(!this._joinInfo||this._uid===void 0)throw new Oa(ea.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));if(this._turnServer.mode==="auto"&&la("FORCE_TURN")&&!la("TURN_ENABLE_TCP")&&!la("TURN_ENABLE_UDP"))throw new Oa(ea.UNEXPECTED_ERROR,"force TURN With No TURN Configuration");$.debug("[".concat(this._clientId,"] publish high stream"));try{const u=await this._p2pChannel.publish(r,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof m_){const h=(await u.next()).value;if(h){try{await this._gateway.sendExtensionMessage(H0.PUBLISH,h,!0)}catch(f){throw u.throw(f),f}await u.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const h=(await u.next()).value;if(h){var o;let f;try{f=await this._gateway.publish(this._uid,h,!0)}catch(m){if(m.code!==ea.DISCONNECT_P2P)throw u.throw(m),m}await u.next(((o=f)===null||o===void 0?void 0:o.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const f of r)f instanceof HQ&&f._encoderConfig&&this._gateway.setVideoProfile(f._encoderConfig),!f.muted&&f.enabled||await this._p2pChannel.muteLocalTrack(f)}}catch(u){if(this._p2pChannel.reportPublishEvent(!1,u==null?void 0:u.code,r),(u==null?void 0:u.code)===ea.WS_ABORT)return;throw u}}async _publishLowStream(){if(!this._joinInfo||this._uid===void 0)throw new Oa(ea.INVALID_OPERATION,"Can't publish stream, haven't joined yet!");if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING")throw new Oa(ea.INVALID_OPERATION,"can not publish stream in ".concat(this.connectionState," state"));$.debug("[".concat(this._clientId,"] publish low stream"));const r=this._configDistribute.getLowStreamConfigDistribute();r&&r.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&r.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=r.bitrate));try{const u=await this._p2pChannel.publishLowStream(this._lowStreamParameter),h=(await u.next()).value;if(h){var o;let f;try{f=await this._gateway.publish(this._uid,h,!0)}catch(m){if(m.code!==ea.DISCONNECT_P2P)throw u.throw(m),m}u.next(((o=f)===null||o===void 0?void 0:o.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(u){if(this._p2pChannel.reportPublishEvent(!1,u==null?void 0:u.code,void 0,!0),(u==null?void 0:u.code)===ea.WS_ABORT)return;throw u}}_createLiveStreamingClient(r){if(!this._joinInfo||!this._appId)return new Oa(ea.INVALID_OPERATION,"can not create live streaming client, please join channel first").throw();const o=()=>new dge(this._joinInfo,this._config.websocketRetryConfig||s_,this._config.httpRetryConfig||s_),u=h=>{h.onLiveStreamError=(f,m)=>{cQ.reportApiInvoke(this._sessionId,{name:l_.ON_LIVE_STREAM_ERROR,options:[f,m],tag:G0.TRACER}).onSuccess(),this.safeEmit(ZQ.LIVE_STREAMING_ERROR,f,m)},h.onLiveStreamWarning=(f,m)=>{cQ.reportApiInvoke(this._sessionId,{name:l_.ON_LIVE_STREAM_WARNING,options:[f,m],tag:G0.TRACER}).onSuccess(),this.safeEmit(ZQ.LIVE_STREAMING_WARNING,f,m)},h.on(j1.REQUEST_WORKER_MANAGER_LIST,(f,m,v)=>{if(!this._joinInfo)return v(new Oa(ea.INVALID_OPERATION,"can not find join info to get worker manager"));_7(f,this._joinInfo,this._axiosCancelSource.token,s_).then(m).catch(v)})};switch(r){case B_.RAW:return this._liveRawStreamingClient||(this._liveRawStreamingClient=o(),u(this._liveRawStreamingClient)),this._liveRawStreamingClient;case B_.TRANSCODE:return this._liveTranscodeStreamingClient||(this._liveTranscodeStreamingClient=o(),u(this._liveTranscodeStreamingClient)),this._liveTranscodeStreamingClient;case B_.INJECT:return this._injectStreamingClient||(this._injectStreamingClient=o(),this._injectStreamingClient.on(j1.REQUEST_WORKER_MANAGER_LIST,(h,f,m)=>{if(!this._joinInfo)return m(new Oa(ea.INVALID_OPERATION,"can not find join info to get worker manager"));_7(h,this._joinInfo,this._axiosCancelSource.token,s_).then(f).catch(m)}),this._injectStreamingClient.onInjectStatusChange=(h,f,m)=>{this.safeEmit(ZQ.INJECT_STREAM_STATUS,h,f,m)}),this._injectStreamingClient}}_createChannelMediaRelayClient(){if(!this._joinInfo)return new Oa(ea.INVALID_OPERATION,"can not create channel media relay client, please join channel first").throw();if(!this._channelMediaRelayClient){const{sendResolutionWidth:r,sendResolutionHeight:o}=this.getLocalVideoStats(),u={width:r,height:o};this._channelMediaRelayClient=new Ige(this._joinInfo,this._clientId,this._config.websocketRetryConfig||s_,this._config.httpRetryConfig||s_,u),this._channelMediaRelayClient.on("state",h=>{h===fS.RELAY_STATE_FAILURE&&this._channelMediaRelayClient&&this._channelMediaRelayClient.dispose(),this.safeEmit(ZQ.CHANNEL_MEDIA_RELAY_STATE,h)}),this._channelMediaRelayClient.on("event",h=>{this.safeEmit(ZQ.CHANNEL_MEDIA_RELAY_EVENT,h)}),this._statsCollector.onStatsChanged=(h,f)=>{var m;h==="resolution"&&((m=this._channelMediaRelayClient)===null||m===void 0||m.setVideoProfile(f))}}return this._channelMediaRelayClient}_handleUpdateDataChannel(r,o){const{added:u,deleted:h}=r,f=[];Array.isArray(u)&&u.length>0&&u.forEach(m=>{const{uid:v,stream_id:R,ordered:D,max_retrans_times:k,metadata:L}=m,q=this._users.find(z=>z._uintid===v);if(!q)return void $.error("[".concat(this._clientId,"] can not find target user!(on_add_data_channel)"));if($.debug("[".concat(this._clientId,"] data_channel added with uid ").concat(v)),AQ(f).call(f,q)||f.push(q),q._uintid||(q._uintid=v),q._dataChannels.findIndex(z=>z.id===m.stream_id)===-1){const z={id:R,ordered:!!D,maxRetransmits:k,metadata:L},_s=new Yue(z);q._dataChannels.push(_s),$.info("[".concat(this._clientId,"] remote user ").concat(q.uid," published datachannel")),o||this.safeEmit(ZQ.USER_PUBLISHED,q,"datachannel",z)}this._p2pChannel.hasPendingRemoteDataChannel(q,m.stream_id)&&($.debug("[".concat(this._clientId,"] resubscribe datachannel for user ").concat(q.uid," after reconnect.")),this._subscribeDataChannel(q,m.stream_id).catch(z=>{$.error("[".concat(this._clientId,"] resubscribe datachannel error"),z.toString())}))}),o&&(this.safeEmit(ZQ.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(h)&&h.length>0&&h.forEach(m=>{const{uid:v,stream_id:R}=m,D=this._users.find(L=>L._uintid===v);if(!D)return void $.error("[".concat(this._clientId,"] can not find target user!(on_delete_data_channel)"));const k=D._dataChannels.find(L=>L.id===m.stream_id);k&&($.debug("[".concat(this._clientId,"] data_stream delete with uid ").concat(v)),this._p2pChannel.unsubscribeDataChannel(D,[k]).then(L=>{if(D._dataChannels=D._dataChannels.filter(q=>q!==k),L)return this._gateway.unsubscribeDataChannel(L,D.uid)}),$.info("[".concat(this._clientId,"] remote user ").concat(v," unpublished datachannel ,id:").concat(k.id)),this.safeEmit(ZQ.USER_UNPUBLISHED,D,"datachannel",k._config))})}_handleRemoveDataChannels(r){const o=this._users.find(u=>u.uid===r.uid);if(o){if(o._dataChannels!==void 0&&o._dataChannels.length>0){$.debug("[".concat(this._clientId,"] datachannel removed with uid ").concat(r.uid));const u=()=>{$.info("[".concat(this._clientId,"] remote user ").concat(o.uid," unpublished datachannel")),o._dataChannels.forEach(h=>{this.safeEmit(ZQ.USER_UNPUBLISHED,o,"datachannel",h._config)})};this._p2pChannel.unsubscribeDataChannel(o,o._dataChannels).then(h=>{if(h)return this._gateway.unsubscribeDataChannel(h,o.uid)}),u()}}else $.warning("[".concat(this._clientId,"] can not find target user!(on_remove_datachannel)"))}_handleGatewayEvents(){this._gateway.on(j0.DISCONNECT_P2P,async()=>{await this._p2pChannel.disconnectForReconnect()}),this._gateway.on(j0.CONNECTION_STATE_CHANGE,(r,o,u)=>{var h;if(u===zQ.FALLBACK)return;const f=()=>{this.safeEmit(ZQ.CONNECTION_STATE_CHANGE,r,o,u)};if(cQ.reportApiInvoke(this._sessionId||((h=this._gateway.joinInfo)===null||h===void 0?void 0:h.sid)||null,{name:l_.CONNECTION_STATE_CHANGE,options:[r,o,u],tag:G0.TRACER}).onSuccess(JSON.stringify({cur:r,prev:o,reason:u})),$.info("[".concat(this._clientId,"] connection state change: ").concat(o," -> ").concat(r)),r==="DISCONNECTED")return this._reset(),void f();if(r==="RECONNECTING")this._users.forEach(v=>{v._trust_in_room_=!1,v._trust_audio_enabled_state_=!1,v._trust_video_enabled_state_=!1,v._trust_audio_mute_state_=!1,v._trust_video_mute_state_=!1,v._trust_audio_stream_added_state_=!1,v._trust_video_stream_added_state_=!1,v._is_pre_created||(v._audio_pre_subscribed||(v._audioSSRC=void 0,v._audioOrtc=void 0),v._video_pre_subscribed||(v._videoSSRC=void 0,v._videoOrtc=void 0,v._rtxSsrcId=void 0),v._cname=void 0)}),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(r==="CONNECTED"){var m;this._streamFallbackTypeCacheMap.forEach((v,R)=>{this._gateway.setStreamFallbackOption(R,v).catch(D=>{$.warning("[".concat(this._clientId,"] auto set stream fallback option failed"),D)})}),this._remoteStreamTypeCacheMap.forEach((v,R)=>{this._gateway.setRemoteVideoStreamType(R,v).catch(D=>{$.warning("[".concat(this._clientId,"] auto set remote stream type failed"),D)})}),this._remoteDefaultVideoStreamType!==void 0&&((m=this._joinInfo)===null||m===void 0?void 0:m.defaultVideoStream)===void 0&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then(()=>{$.debug("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway connected"))}).catch(v=>{$.error("[".concat(this._clientId,"] setRemoteDefaultVideoStreamType after gateway failed, ").concat(v))}),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._userOfflineTimeout=void 0,this._users.filter(v=>!v._trust_in_room_).forEach(v=>{$.debug("[".concat(this._clientId,"] user offline timeout, emit user offline ").concat(v.uid)),this._handleUserOffline({uid:v.uid})}))},3e3),this._streamRemovedTimeout=window.setTimeout(()=>{this.connectionState==="CONNECTED"&&(this._streamRemovedTimeout=void 0,this._users.forEach(v=>{v._trust_audio_mute_state_||($.debug("[".concat(this._clientId,"] auto dispatch audio unmute event ").concat(v.uid)),this._handleMuteStream(v.uid,sQ.AUDIO,!1)),v._trust_video_mute_state_||($.debug("[".concat(this._clientId,"] auto dispatch video unmute event ").concat(v.uid)),this._handleMuteStream(v.uid,sQ.VIDEO,!1)),v._trust_audio_enabled_state_||($.debug("[".concat(this._clientId,"] auto dispatch enable local audio ").concat(v.uid)),this._handleSetStreamLocalEnable("audio",v.uid,!0)),v._trust_video_enabled_state_||($.debug("[".concat(this._clientId,"] auto dispatch enable local video ").concat(v.uid)),this._handleSetStreamLocalEnable("video",v.uid,!0)),v._trust_video_stream_added_state_||($.debug("[".concat(this._clientId,"] auto dispatch reset video stream added ").concat(v.uid)),this._handleResetAddStream(v,"video")),v._trust_audio_stream_added_state_||($.debug("[".concat(this._clientId,"] auto dispatch reset audio stream added ").concat(v.uid)),this._handleResetAddStream(v,"audio")),v._video_added_||v._audio_added_||($.debug("[".concat(this._clientId,"] auto dispatch stream remove ").concat(v.uid)),this._handleRemoveStream({uid:v.uid,uint_id:v._uintid}))}))},1e3))}f()}),this._gateway.on(j0.REQUEST_NEW_GATEWAY_LIST,(r,o)=>{if(!this._joinInfo)return o(new Oa(ea.UNEXPECTED_ERROR,"can not recover, no join info"));H8(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||s_,this.store).then(u=>{this._joinInfo&&(this._joinInfo.apResponse=u.gatewayInfo.res,this._joinInfo.gatewayAddrs=u.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=u.gatewayInfo.uni_lbs_ip);const h=[];u.gatewayInfo.gatewayAddrs.forEach(f=>{let{address:m}=f;const[v,R]=m.split(":");this._joinInfo&&this._joinInfo.proxyServer?h.push({proxy:this._joinInfo.proxyServer,host:v,port:R}):h.push({host:v,port:R})}),r(h)}).catch(o)}),this._gateway.on(j0.NETWORK_QUALITY,r=>{this._networkQualitySensitivity==="normal"&&this.safeEmit(ZQ.NETWORK_QUALITY,r)}),this._gateway.on(j0.STREAM_TYPE_CHANGE,(r,o)=>{this.safeEmit(ZQ.STREAM_TYPE_CHANGED,r,o),cQ.reportApiInvoke(this._sessionId,{name:l_.STREAM_TYPE_CHANGE,options:[r,o],tag:G0.TRACER}).onSuccess(JSON.stringify({uid:r,streamType:o}))}),this._gateway.on(j0.IS_P2P_DISCONNECTED,r=>{this._p2pChannel.isP2PDisconnected()?r(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?r(!1):r(!0)}),this._gateway.on(j0.NEED_RENEW_SESSION,()=>{this._startSession()}),this._gateway.on(j0.REQUEST_P2P_CONNECTION_PARAMS,async(r,o,u)=>{try{o(await this._p2pChannel.startP2PConnection(r))}catch(h){u(h)}}),this._gateway.on(j0.JOIN_RESPONSE,(r,o)=>{if(this.store.useP2P)return;const{dtlsParameters:u,iceParameters:h,candidates:f,rtpCapabilities:m,setup:v,cname:R}=EZ(r.ortc,o);this._p2pChannel.connect(h,u,f,m,v,R)}),this._gateway.on(j0.REQUEST_DC_CONNECTION_PARAMS,r=>{r(this._p2pChannel.getEstablishParams())}),this._gateway.on(j0.RESET_SIGNAL,r=>{this._p2pChannel.resetConnection(r),this._handleGatewaySignalEvents()}),this._gateway.on(j0.DATACHANNEL_FAILBACK,()=>{this._joinGateway()}),this._gateway.on(j0.DATACHANNEL_PRECONNECT,async(r,o,u,h)=>{var f,m,v,R,D,k;await this._p2pChannel.startP2PConnection({turnServer:(f=this._joinInfo)===null||f===void 0?void 0:f.turnServer},!0);const L=function(q,z){let _s;return z&&z.ip&&typeof z.port=="number"?(_s=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:z.ip,port:z.port.toString(),type:"host",extension:{}}],$.debug("Using remote candidate from AP ".concat(z.ip,":").concat(z.port)),z.ip6&&(_s.push({foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:z.ip6,port:z.port.toString(),type:"host",extension:{}}),$.debug("Using IPV6 remote candidate from AP ".concat(z.ip6,":").concat(z.port)))):_s=[{foundation:"udpcandidate",componentId:"1",transport:"udp",priority:"2103266323",connectionAddress:q.ip,port:q.port.toString(),type:"host",extension:{}}],_s}(r,o);return this._p2pChannel.preConnect({iceUfrag:"".concat((m=this._joinInfo)===null||m===void 0?void 0:m.apResponse.cid,"_").concat((v=this._joinInfo)===null||v===void 0?void 0:v.apResponse.cert),icePwd:"".concat((R=this._joinInfo)===null||R===void 0?void 0:R.apResponse.cid,"_").concat((D=this._joinInfo)===null||D===void 0?void 0:D.apResponse.cert)},{fingerprints:[{hashFunction:"sha-256",fingerprint:(k=la("FINGERPRINT"))!==null&&k!==void 0?k:r.fingerprint}]},L,{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},"active","o/i14u9pJrxRKAsu").then(u).catch(h)})}_handleGatewaySignalEvents(){this._gateway.signal.on(wQ.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(wQ.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(wQ.ON_ADD_AUDIO_STREAM,r=>this._handleAddAudioOrVideoStream("audio",r.uid,r.ssrcId,r.cname,r.uint_id,r.ortc)),this._gateway.signal.on(wQ.ON_ADD_VIDEO_STREAM,r=>this._handleAddAudioOrVideoStream("video",r.uid,r.ssrcId,r.cname,r.uint_id,r.ortc,r.rtxSsrcId)),this._gateway.signal.on(wQ.ON_REMOTE_DATASTREAM_UPDATE,r=>{this._handleUpdateDataChannel(r)}),this._gateway.signal.on(wQ.ON_REMOTE_FULL_DATASTREAM_INFO,r=>{this._handleUpdateDataChannel({added:r.datastreams,deleted:[]},!0)}),this._gateway.signal.on(wQ.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(wQ.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(wQ.MUTE_AUDIO,r=>this._handleMuteStream(r.uid,sQ.AUDIO,!0)),this._gateway.signal.on(wQ.UNMUTE_AUDIO,r=>this._handleMuteStream(r.uid,sQ.AUDIO,!1)),this._gateway.signal.on(wQ.MUTE_VIDEO,r=>this._handleMuteStream(r.uid,sQ.VIDEO,!0)),this._gateway.signal.on(wQ.UNMUTE_VIDEO,r=>this._handleMuteStream(r.uid,sQ.VIDEO,!1)),this._gateway.signal.on(wQ.RECEIVE_METADATA,r=>{const o=cP(r.metadata);this.safeEmit(ZQ.RECEIVE_METADATA,r.uid,o)}),this._gateway.signal.on(wQ.ON_DATA_STREAM,async r=>{if(!r)return;let o=0;if(r.ordered||r.syncWithAudio){const u=this._p2pChannel.getStats(),h=this.remoteUsers.find(m=>m.uid===r.uid),f=u==null?void 0:u.audioRecv.find(m=>m.ssrc===(h==null?void 0:h._audioSSRC));o=f==null?void 0:f.jitterBufferMs}o==null&&(o=0),Uge(r,o,{id:this._clientId,onStreamMessage:typeof this.onStreamMessage=="function"?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})}),this._gateway.signal.on(wQ.ON_CRYPT_ERROR,()=>{MO(()=>{$.warning("[".concat(this._clientId,"] on crypt error")),this.safeEmit(ZQ.CRYPT_ERROR)},this._sessionId)}),this._gateway.signal.on(wQ.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(wQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE,()=>{$.warning("[".concat(this._clientId,"] received message onTokenPrivilegeDidExpire, please get new token and join again")),this._gateway.leave(!0,zQ.TOKEN_EXPIRE),this.safeEmit(ZQ.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()}),this._gateway.signal.on(wQ.ON_STREAM_FALLBACK_UPDATE,r=>{$.debug("[".concat(this._clientId,"] stream fallback peerId: ").concat(r.stream_id,", attr: ").concat(r.stream_type)),this.safeEmit(ZQ.STREAM_FALLBACK,r.stream_id,r.stream_type===1?"fallback":"recover")}),this._gateway.signal.on(wQ.ON_PUBLISH_STREAM,r=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:r.proxy})),$.info("[".concat(this._clientId,"] on publish stream, ").concat(JSON.stringify(r))))}),this._gateway.signal.on(wQ.ENABLE_LOCAL_VIDEO,r=>{this._handleSetStreamLocalEnable("video",r.uid,!0)}),this._gateway.signal.on(wQ.DISABLE_LOCAL_VIDEO,r=>{this._handleSetStreamLocalEnable("video",r.uid,!1)}),this._gateway.signal.on(nQ.REQUEST_TIMEOUT,(r,o)=>{if(this._joinInfo)switch(r){case EQ.PUBLISH:{if(!o)return;const f=o.ortc;if(f){var u,h;const m=f.some(D=>{let{stream_type:k}=D;return k===a0.Audio}),v=f.some(D=>{let{stream_type:k}=D;return k!==a0.Audio}),R=f.some(D=>{let{stream_type:k}=D;return k===a0.Screen||k===a0.ScreenLow});o.state==="offer"&&cQ.publish(this._joinInfo.sid,{eventElapse:Z_.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:ea.TIMEOUT,audio:m,video:v,p2pid:o.p2p_id,publishRequestid:this.store.pubId,screenshare:R,audioName:m?(u=f.find(D=>{let{stream_type:k}=D;return k===a0.Audio}))===null||u===void 0||(u=u.ssrcs[0])===null||u===void 0?void 0:u.ssrcId.toString():void 0,videoName:v?(h=f.find(D=>{let{stream_type:k}=D;return k!==a0.Audio}))===null||h===void 0||(h=h.ssrcs[0])===null||h===void 0?void 0:h.ssrcId.toString():void 0})}break}case EQ.SUBSCRIBE:o&&cQ.subscribe(this._joinInfo.sid,{succ:!1,ec:ea.TIMEOUT,audio:o.stream_type===sQ.AUDIO,video:o.stream_type===sQ.VIDEO,peerid:o.stream_id,subscribeRequestid:o.ssrcId,p2pid:this.store.p2pId,eventElapse:Z_.measureFromSubscribeStart(this.store.clientId,o.ssrcId)})}}),this._gateway.signal.on(wQ.ON_P2P_OK,r=>{this.uid,this._uid}),this._gateway.signal.on(wQ.ON_PUBLISHED_USER_LIST,r=>{if(r==null||!r.users)return;la("BLOCK_LOCAL_CLIENT")&&(r.users=r.users.filter(h=>!VT(h.string_id||h.stream_id,this.channelName)));const o=[],u=[];for(const h of r.users){let f=this._users.find(L=>L._uintid===h.stream_id);f?f._trust_in_room_=!0:(f=new F_(h.string_id||h.stream_id,h.stream_id),this._users.push(f),this.getListeners(ZQ.PUBLISHED_USER_LIST).length===0&&($.debug("[".concat(this._clientId,"] user online"),h.stream_id),this.safeEmit(ZQ.USER_JOINED,f)));const m=d_.Audio&h.stream_type,v=(d_.Video|d_.LwoVideo)&h.stream_type,R=(65280&h.stream_type)!=0,D=m&&f.hasAudio,k=v&&f.hasVideo;v&&(f._trust_video_stream_added_state_=!0,f._video_added_=!0,f._videoSSRC=h.video_ssrc,f._rtxSsrcId=h.video_rtx),m&&(f._trust_audio_stream_added_state_=!0,f._audio_added_=!0,f._audioSSRC=h.audio_ssrc),m&&!D&&this.getListeners(ZQ.PUBLISHED_USER_LIST).length===0&&($.info("[".concat(this._clientId,"] remote user ").concat(f.uid," published audio")),this.safeEmit(ZQ.USER_PUBLISHED,f,"audio")),v&&!k&&this.getListeners(ZQ.PUBLISHED_USER_LIST).length===0&&($.info("[".concat(this._clientId,"] remote user ").concat(f.uid," published video")),this.safeEmit(ZQ.USER_PUBLISHED,f,"video")),(m&&!D||v&&!k||R)&&o.push(f),v&&this._p2pChannel.hasPendingRemoteMedia(f,"video")&&u.push({user:f,mediaType:"video"}),m&&this._p2pChannel.hasPendingRemoteMedia(f,"audio")&&u.push({user:f,mediaType:"audio"})}u.length>0&&($.debug("[".concat(this._clientId,"] RE massSubscribe after reconnect ").concat(u.map(h=>"user: ".concat(h.user.uid,", mediaType: ").concat(h.mediaType)).join("; ")," ")),this.massSubscribe(u).catch(h=>{$.error("[".concat(this._clientId,"] mass resubscribe error"),h.toString())})),this.getListeners(ZQ.PUBLISHED_USER_LIST).length>0?la("ENABLE_DATASTREAM_2")?this._pendingPublishedUsers=o:($.info("[".concat(this._clientId,"] client emit user-list event, users: ").concat(o.map(h=>h.uid).join(", "))),this.safeEmit(ZQ.PUBLISHED_USER_LIST,o)):$.info("[".concat(this._clientId,"] client not emit user-list event case there is no user-list listener, users: ").concat(o.map(h=>h.uid).join(", ")))}),this._gateway.signal.on(wQ.ON_RTP_CAPABILITY_CHANGE,r=>{const{video_codec:o}=r;this._p2pChannel instanceof M_&&this._p2pChannel.updateRemoteRTPCapabilities(o.map(u=>u.toLowerCase()).filter(u=>{var h;return AQ(h=Object.keys(AT)).call(h,u)}))})}_handleP2PEvents(){this._gateway.signal.on(wQ.ON_USER_OFFLINE,()=>{this._p2pChannel.disconnectForReconnect()}),this._gateway.signal.on(H0.PUBLISH,(r,o,u)=>{const{uid:h}=r;r.forEach(f=>{const{kind:m,ssrcs:v,mid:R,isMuted:D}=f;this._handleP2PAddAudioOrVideoStream(m,h,v[0].ssrcId,R);const k=this._users.find(L=>L.uid===h);return k&&this._p2pChannel instanceof m_?this._p2pChannel.mockSubscribe(k,m,v[0].ssrcId,R).then(()=>{o()}).catch(u):o(),this._handleMuteStream(h,m,!!D)})}),this._gateway.signal.on(H0.CALL,async(r,o,u)=>{if(this._p2pChannel instanceof m_)try{var h;o(await this._p2pChannel.startP2P({turnServer:(h=this._joinInfo)===null||h===void 0?void 0:h.turnServer},r))}catch(f){u(f)}}),this._gateway.signal.on(nQ.P2P_CONNECTION,async r=>{this._p2pChannel instanceof m_&&await this._p2pChannel.p2pConnect(r)}),this._gateway.signal.on(H0.UNPUBLISH,async(r,o,u)=>{if(this._p2pChannel instanceof m_){const{unpubMsg:h,uid:f}=r,m=this._users.find(v=>v.uid===f);if(!m)return $.warning("[".concat(this._clientId,"] can not find remote user, ignore mute event, uid: ").concat(f)),void o();try{h.forEach(async v=>{let{stream_type:R}=v;const D=R===a0.Audio?sQ.AUDIO:sQ.VIDEO;await this._p2pChannel.unsubscribe(m,D),this._handleMuteStream(f,D,!0)}),o()}catch(v){u(v)}}}),this._gateway.signal.on(H0.CONTROL,async(r,o)=>{const{action:u}=r;switch(u){case AN.MUTE_LOCAL_VIDEO:this._handleMuteStream(o,sQ.VIDEO,!0);break;case AN.MUTE_LOCAL_AUDIO:this._handleMuteStream(o,sQ.AUDIO,!0);break;case AN.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream("video",o),this._handleMuteStream(o,sQ.VIDEO,!1);break;case AN.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream("audio",o),this._handleMuteStream(o,sQ.AUDIO,!1)}}),this._gateway.signal.on(H0.RESTART_ICE,async(r,o,u)=>{if(this._p2pChannel instanceof m_)try{const{direction:h,iceParameter:f}=r;h!==iS.SEND_ONLY||f?o(await this._p2pChannel.restartICE(h,f)):(this._p2pChannel.handleDisconnect(h),o())}catch(h){u(h)}}),this._gateway.signal.on(H0.CANDIDATE,r=>{if(this._p2pChannel instanceof m_){const{candidate:o,direction:u}=r;this._p2pChannel.addRemoteCandidate(o,u)}}),this._p2pChannel.on(mQ.RequestP2PRestartICE,async(r,o,u)=>{try{const{direction:h}=r;o(await this._gateway.sendExtensionMessage(H0.RESTART_ICE,r,h===iS.SEND_ONLY))}catch(h){u(h)}}),this._p2pChannel.on(mQ.LocalCandidate,r=>{this._gateway.sendExtensionMessage(H0.CANDIDATE,JSON.stringify(r),!0)}),this._p2pChannel.on(mQ.RequestP2PMuteLocal,async(r,o,u)=>{try{await this._gateway.sendExtensionMessage(H0.CONTROL,r,!0),o()}catch(h){u(h)}}),this._p2pChannel.on(mQ.RequestP2PUnmuteRemote,async(r,o,u)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(r,this._joinInfo.stringUid||this._joinInfo.uid),o()}catch(h){h.code===ea.DISCONNECT_P2P?o():u(h)}else o()}),this._p2pChannel.on(mQ.RequestP2PMuteRemote,async(r,o,u)=>{if(this._joinInfo)try{await this._gateway.muteRemote(r,this._joinInfo.stringUid||this._joinInfo.uid),o()}catch(h){h.code===ea.DISCONNECT_P2P?o():u(h)}else o()}),this._p2pChannel.on(mQ.StateChange,(r,o)=>{o===d0.Connected&&this._p2pChannel.republish()})}_handleP2PChannelEvents(){this._p2pChannel.on(mQ.RequestMuteLocal,async(r,o,u)=>{if(this._joinInfo)try{await this._gateway.muteLocal(r,this._joinInfo.stringUid||this._joinInfo.uid),o()}catch(h){h.code===ea.DISCONNECT_P2P?o():u(h)}else o()}),this._p2pChannel.on(mQ.RequestUnmuteLocal,async(r,o,u)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(r,this._joinInfo.stringUid||this._joinInfo.uid),o()}catch(h){h.code===ea.DISCONNECT_P2P?o():u(h)}else o()}),this._p2pChannel.on(mQ.RequestRePublish,(r,o,u)=>{this.publish(r,!1).then(o).catch(u)}),this._p2pChannel.on(mQ.RequestRePublishDataChannel,(r,o,u)=>{lc.all(r.map(async h=>{await this._p2pChannel.publishDataChannel([h]);const f={streamId:h.id,ordered:h.ordered,maxRetransmits:h.maxRetransmits,metadata:h.metadata,channelId:h._originDataChannelId};try{await this._gateway.publishDataChannel(this._uid,f,!0)}catch(m){if(m.code!==ea.DISCONNECT_P2P)throw m}})).then(o).catch(u)}),this._p2pChannel.on(mQ.RequestReSubscribe,async(r,o,u)=>{try{for(const{user:h,kind:f}of r)f===sQ.VIDEO?await this.subscribe(h,"video"):await this.subscribe(h,"audio");o()}catch(h){u(h)}}),this._p2pChannel.on(mQ.RequestUpload,(r,o)=>{this._gateway.upload(r,o)}),this._p2pChannel.on(mQ.RequestUploadStats,r=>{this._gateway.uploadWRTCStats(r)}),this._p2pChannel.on(mQ.MediaReconnectStart,r=>{this.safeEmit(ZQ.MEDIA_RECONNECT_START,r)}),this._p2pChannel.on(mQ.MediaReconnectEnd,r=>{this.safeEmit(ZQ.MEDIA_RECONNECT_END,r)}),this._p2pChannel.on(mQ.NeedSignalRTT,r=>{r(this._gateway.getSignalRTT())}),this._p2pChannel.on(mQ.RequestRestartICE,async r=>{if(this._p2pChannel instanceof m_)return;const o=await this._p2pChannel.restartICE(r),u=await o.next();if(u.done)return;const h=u.value;let f;try{f=await this._gateway.restartICE({iceParameters:h})}catch(v){return void o.throw(v)}const{iceParameters:m}=function(v){const R=v.iceParameters;return{iceParameters:{iceUfrag:R.iceUfrag,icePwd:R.icePwd}}}(f);await o.next({remoteIceParameters:m})}),this._p2pChannel.on(mQ.RequestReconnect,async()=>{this._gateway.reconnect()}),this._p2pChannel.on(mQ.RequestReconnectPC,async()=>{var r;const{iceParameters:o,dtlsParameters:u,rtpCapabilities:h}=await this._p2pChannel.startP2PConnection({turnServer:(r=this._joinInfo)===null||r===void 0?void 0:r.turnServer}),{gatewayEstablishParams:f,gatewayAddress:m}=await this._gateway.reconnectPC({iceParameters:o,dtlsParameters:u,rtpCapabilities:h}),{dtlsParameters:v,iceParameters:R,candidates:D,rtpCapabilities:k,setup:L,cname:q}=EZ(f,m);await this._p2pChannel.connect(R,v,D,k,L,q),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()}),this._p2pChannel.on(mQ.RequestUnpublishForReconnectPC,async(r,o,u)=>{this._joinInfo&&this._uid!==void 0?(await this._gateway.unpublish(r,this._uid),o()):u()}),this._p2pChannel.on(mQ.P2PLost,()=>{this.safeEmit(ZQ.P2P_LOST,this.store.uid)}),this._p2pChannel.on(mQ.UpdateVideoEncoder,r=>{r._encoderConfig&&this._gateway.setVideoProfile(r._encoderConfig)}),this._p2pChannel.on(mQ.ConnectionTypeChange,r=>{this.safeEmit(ZQ.IS_USING_CLOUD_PROXY,r)}),this._p2pChannel.on(mQ.RequestLowStreamParameter,r=>{r(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})}),this._p2pChannel.on(mQ.QueryClientConnectionState,r=>{r(this.connectionState)})}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(r){if(this.connectionState!=="CONNECTED"||!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Client did not join channel"));if(this._inspect)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] Inspect content service already in connecting/connected state"));if(!r)throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig is necessary"));if(!r.inspectType||!Array.isArray(r.inspectType))throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.inspectType is necessary and is an instance of Array."));{const o=[...new Set(r.inspectType)];o.forEach(u=>{var h;if(!AQ(h=["supervise","moderation"]).call(h,u))throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] ").concat(u," is not a valid inspect type."))}),r.inspectType=o}if(r&&r.extraInfo&&r.extraInfo.length>1024)throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] inspectConfig.extraInfo length cannot exceed 1024 bytes"));try{const o=new g3(r);this._inspect=o,this.handleVideoInspectEvents(this._inspect),await o.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},s_)}catch(o){throw Array.isArray(o)?o[0]:o}}async disableContentInspect(){if(!this._inspect)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] inspectVideoContent not started"));try{this._inspect.close(),this._inspect=void 0}catch(r){throw Array.isArray(r)?r[0]:r}}async setImageModeration(r,o){if(rT(r,"enabled"),r){if(!o)throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] config is necessary"));if(h0(o.interval,"interval",1e3,1/0),o&&o.extraInfo&&o.extraInfo.length>1024)throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] config.extraInfo length cannot exceed 1024 bytes"));if(o&&o.vendor&&o.vendor.length>1024)throw new Oa(ea.INVALID_PARAMS,"[".concat(this._clientId,"] config.vendor length cannot exceed 1024 bytes"));if(this.connectionState!=="CONNECTED"||!this._joinInfo)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,'] can not enable image moderation, not joined"'));try{if(this._moderation)return void this._moderation.updateConfig(o);const u=new Z4(o);this._moderation=u,this.handleImageModerationEvents(this._moderation),await u.init({appId:this._joinInfo.appId,areaCode:"",cname:this._joinInfo.cname,sid:this._joinInfo.sid,token:this._joinInfo.token,uid:this._joinInfo.uid,cid:this._joinInfo.cid,vid:this._joinInfo.vid?Number(this._joinInfo.vid):0},s_)}catch(u){throw Array.isArray(u)?u[0]:u}}else{if(!this._moderation)throw new Oa(ea.INVALID_OPERATION,"[".concat(this._clientId,"] image moderation not started"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(u){throw Array.isArray(u)?u[0]:u}}}setP2PTransport(r){if(function(o){p_(o,"transport",["default","auto","relay","sd-rtn"])}(r),this.mode!=="p2p")throw new Oa(ea.INVALID_OPERATION,"only p2p mode can set p2pTransport");this.store.p2pTransport=r,$.info("[".concat(this._clientId,"] set client p2pTransport to ").concat(r))}handleImageModerationEvents(r){r.on(BR.CONNECTION_STATE_CHANGE,(o,u)=>{if(this.safeEmit(ZQ.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,o,u),o===KS.CONNECTED){if(this.connectionState!=="CONNECTED")throw this.setImageModeration(!1),new Oa(ea.OPERATION_ABORTED,"Image moderation was cancelled because it left the channel");r.inspectImage()}}),r.on(BR.CLIENT_LOCAL_VIDEO_TRACK,o=>{o(this.localTracks.filter(u=>u.trackMediaType==="video")[0])})}handleVideoInspectEvents(r){r.on(Q_.CONNECTION_STATE_CHANGE,(o,u)=>{if(this.safeEmit(ZQ.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,o,u),u===nR.CONNECTED){if(this.connectionState!=="CONNECTED")return void this.safeEmit(ZQ.CONTENT_INSPECT_ERROR,new Oa(ea.OPERATION_ABORTED,"Content inspect was cancelled because it left the channel"));r.inspectImage()}}),r.on(Q_.INSPECT_RESULT,(o,u)=>{var h;if((u==null?void 0:u.code)===ea.INVALID_OPERATION&&this.connectionState==="DISCONNECTED")return $.debug("Stop inspect content because that has left channel"),this==null||(h=this._inspect)===null||h===void 0||h.close(),void(this._inspect=void 0);this.safeEmit(ZQ.CONTENT_INSPECT_RESULT,o,u)}),r.on(Q_.CLIENT_LOCAL_VIDEO_TRACK,o=>{o(this.localTracks.filter(u=>u.trackMediaType==="video")[0])})}getJoinChannelServiceRecords(){return $.debug("getJoinChannelServiceRecords"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(r){rT(r,"enabled"),p0("ENABLE_PUBLISH_AUDIO_FILTER",r),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(r)}_handleResetAddStream(r,o){switch(o){case"audio":r._audio_added_=!1,r._trust_audio_stream_added_state_=!0;break;case"video":r._video_added_=!1,r._trust_video_stream_added_state_=!0}}}td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"leave",null),td([QQ({argsMap:(A,r)=>{if(!Array.isArray(r)){if(!(r instanceof z_))return[r];r=[r]}return r.map(o=>o?Object(o).toString():"null")}}),_o("design:type",Function),_o("design:paramtypes",[Object,Boolean]),_o("design:returntype",lc)],I0.prototype,"publish",null),td([QQ({argsMap:(A,r)=>(r||(r=[]),r instanceof WX?[r.getChannelId()]:(Array.isArray(r)||(r=[r]),r.map(o=>o.getTrackId())))}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"unpublish",null),td([QQ({argsMap:(A,r,o,u)=>[r.uid,o,u]}),_o("design:type",Function),_o("design:paramtypes",[F_,String,Number]),_o("design:returntype",lc)],I0.prototype,"subscribe",null),td([QQ({argsMap:(A,r,o)=>[r,o]}),_o("design:type",Function),_o("design:paramtypes",[Object,String]),_o("design:returntype",lc)],I0.prototype,"presubscribe",null),td([QQ({argsMap:(A,r)=>r.map(o=>{let{user:u,mediaType:h}=o;return[u==null?void 0:u.uid,h]})}),_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],I0.prototype,"massSubscribe",null),td([QQ({argsMap:(A,r,o,u)=>[r.uid,o,u]}),_o("design:type",Function),_o("design:paramtypes",[F_,String,Number]),_o("design:returntype",lc)],I0.prototype,"unsubscribe",null),td([QQ({argsMap:(A,r)=>r.map(o=>{let{user:u,mediaType:h}=o;return{uid:u==null?void 0:u.uid,mediaType:h}})}),_o("design:type",Function),_o("design:paramtypes",[Array]),_o("design:returntype",lc)],I0.prototype,"massUnsubscribe",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"setLowStreamParameter",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"enableDualStream",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"disableDualStream",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String,Object]),_o("design:returntype",lc)],I0.prototype,"setClientRole",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String,Boolean]),_o("design:returntype",void 0)],I0.prototype,"setProxyServer",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object,Boolean]),_o("design:returntype",void 0)],I0.prototype,"setTurnServer",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",void 0)],I0.prototype,"setLicense",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",void 0)],I0.prototype,"startProxyServer",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],I0.prototype,"stopProxyServer",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",void 0)],I0.prototype,"setLocalAccessPointsV2",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Array,String]),_o("design:returntype",void 0)],I0.prototype,"setLocalAccessPoints",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Number]),_o("design:returntype",lc)],I0.prototype,"setRemoteDefaultVideoStreamType",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object,Number]),_o("design:returntype",lc)],I0.prototype,"setRemoteVideoStreamType",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object,Number]),_o("design:returntype",lc)],I0.prototype,"setStreamFallbackOption",null),td([QQ({argsMap:(A,r)=>[r]}),_o("design:type",Function),_o("design:paramtypes",[String,String,Uint8Array]),_o("design:returntype",void 0)],I0.prototype,"setEncryptionConfig",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],I0.prototype,"renewToken",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",void 0)],I0.prototype,"enableAudioVolumeIndicator",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String,Boolean]),_o("design:returntype",lc)],I0.prototype,"startLiveStreaming",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"setLiveTranscoding",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",lc)],I0.prototype,"stopLiveStreaming",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String,Object]),_o("design:returntype",lc)],I0.prototype,"addInjectStreamUrl",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"removeInjectStreamUrl",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[o3]),_o("design:returntype",lc)],I0.prototype,"startChannelMediaRelay",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[o3]),_o("design:returntype",lc)],I0.prototype,"updateChannelMediaRelay",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"stopChannelMediaRelay",null),td([QQ({argsMap:(A,r)=>(Array.isArray(r)||(r=[r]),[JSON.stringify(r)])}),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"sendCustomReportMessage",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object,Object]),_o("design:returntype",lc)],I0.prototype,"pickSVCLayer",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"setRTMConfig",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Object]),_o("design:returntype",lc)],I0.prototype,"enableContentInspect",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",lc)],I0.prototype,"disableContentInspect",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Boolean,Object]),_o("design:returntype",lc)],I0.prototype,"setImageModeration",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[String]),_o("design:returntype",void 0)],I0.prototype,"setP2PTransport",null),td([QQ({reportResult:!0}),_o("design:type",Function),_o("design:paramtypes",[]),_o("design:returntype",Array)],I0.prototype,"getJoinChannelServiceRecords",null),td([QQ(),_o("design:type",Function),_o("design:paramtypes",[Boolean]),_o("design:returntype",lc)],I0.prototype,"setPublishAudioFilterEnabled",null);class IU{constructor(r,o){j(this,"id",0),j(this,"element",void 0),j(this,"peerPair",void 0),j(this,"context",void 0),j(this,"audioPlayerElement",void 0),j(this,"audioTrack",void 0),IU.count+=1,this.id=IU.count,this.element=r,this.context=o}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=r=>{const o=document.createElement("audio");o.srcObject=new MediaStream([r.track]),o.play(),this.audioPlayerElement=o}}async switchSdp(){if(!this.peerPair)return;const r=async(u,h)=>{const f=h==="offer"?await u.createOffer():await u.createAnswer();return await u.setLocalDescription(f),u.iceGatheringState==="complete"?u.localDescription:new lc(m=>{u.onicegatheringstatechange=()=>{u.iceGatheringState==="complete"&&m(u.localDescription)}})},o=async(u,h)=>await u.setRemoteDescription(h);try{const u=await r(this.peerPair[0],"offer");await o(this.peerPair[1],u);const h=await r(this.peerPair[1],"answer");await o(this.peerPair[0],h)}catch(u){throw new Oa(ea.LOCAL_AEC_ERROR,u.toString()).print()}}async getTracksFromMediaElement(r){if(this.audioTrack)return this.audioTrack;let o;try{r instanceof HTMLVideoElement&&(r.captureStream?r.captureStream():r.mozCaptureStream()),o=this.context.createMediaStreamDestination(),this.context.createMediaElementSource(r).connect(o)}catch(h){throw new Oa(ea.LOCAL_AEC_ERROR,h.toString()).print()}if(!o)throw new Oa(ea.LOCAL_AEC_ERROR,"no dest node when local aec").print();const u=o.stream.getAudioTracks()[0];return this.audioTrack=u,u}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const r=this.element,o=await this.getTracksFromMediaElement(r);this.peerPair&&this.peerPair[0].addTrack(o),await this.switchSdp()}close(){$.debug("close echo cancellation unit, id is",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach(r=>{r.close()}),this.peerPair=void 0,this.audioPlayerElement=void 0}}j(IU,"count",0);const Fge=window.AudioContext||window.webkitAudioContext;class u${constructor(){j(this,"units",[]),j(this,"context",void 0)}processExternalMediaAEC(r){if(!this._doesEnvironmentNeedAEC())return $.debug("the system does not need to process local aec"),-1;this.context||(this.context=new Fge);let o=this.units.find(u=>u&&u.getElement()===r);return o||(o=new IU(r,this.context),this.units.push(o)),o.startEchoCancellation(),$.debug("start processing local audio echo cancellation, id is",o.id),o.id}_doesEnvironmentNeedAEC(){return o0().name!==c0.SAFARI}}td([QQ({report:cQ}),_o("design:type",Function),_o("design:paramtypes",[HTMLAudioElement]),_o("design:returntype",Number)],u$.prototype,"processExternalMediaAEC",null);const Kge=new u$;function g$(A,r){var o=Object.keys(A);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(A);r&&(u=u.filter(function(h){return Object.getOwnPropertyDescriptor(A,h).enumerable})),o.push.apply(o,u)}return o}function l$(A){for(var r=1;r<arguments.length;r++){var o=arguments[r]!=null?arguments[r]:{};r%2?g$(Object(o),!0).forEach(function(u){j(A,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(o)):g$(Object(o)).forEach(function(u){Object.defineProperty(A,u,Object.getOwnPropertyDescriptor(o,u))})}return A}const _H=window||document;function d$(A){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!_H)return;const o=c_._cspEventHandlerPointer;if(o&&r)return void console.error(o,r);const u=h=>{if(!(h&&h.blockedURI&&(c_.onSecurityPolicyViolation||c_.getListeners(OR.SECURITY_POLICY_VIOLATION).length>0)))return;const f=h.blockedURI;la("CSP_DETECTED_HOSTNAME_LIST").some(m=>AQ(f).call(f,m))&&(c_.onSecurityPolicyViolation&&typeof c_.onSecurityPolicyViolation=="function"&&c_.onSecurityPolicyViolation(h),c_.getListeners(OR.SECURITY_POLICY_VIOLATION).length>0&&c_.safeEmit(OR.SECURITY_POLICY_VIOLATION,h))};o&&_H.removeEventListener("securitypolicyviolation",o),(r||A&&typeof A=="function"||c_.getListeners(OR.SECURITY_POLICY_VIOLATION).length>0)&&_H.addEventListener("securitypolicyviolation",u),c_._cspEventHandlerPointer=u}p0("PROCESS_ID","process-".concat(y0(8,""),"-").concat(y0(4,""),"-").concat(y0(4,""),"-").concat(y0(4,""),"-").concat(y0(12,""))),function(){let A;try{A=window.localStorage.getItem("websdk_ng_global_parameter")}catch(r){return void $.error("Error loading sdk config",r.message)}if(A)try{const r=JSON.parse(window.atob(A)),o=Date.now();$.debug("Loading global parameters from cache",r),Object.keys(r).forEach(u=>{if(Object.prototype.hasOwnProperty.call(hS,u)){const{value:h,expires:f}=r[u];if(f&&f<=o)return;oT[u]=h,hS[u]=h}})}catch(r){$.error("Error loading mutableParamsCache: ".concat(A),r.message)}}(),Array.isArray(oT.AREAS)&&oT.AREAS.length>0&&G8(oT.AREAS,!0);const E$=(A,r,o)=>{$.debug("setParameter key:".concat(A,", value:").concat(JSON.stringify(r))),p0(A,r,o)},c_=function(A){const r=new x0,o=A,u={getListeners:r.getListeners.bind(r),on:(h,f)=>(function(m,v){m===OR.SECURITY_POLICY_VIOLATION&&d$(v,!0)}(h,f),r.on.bind(r)(h,f)),addListener:r.addListener.bind(r),once:r.once.bind(r),off:r.off.bind(r),removeAllListeners:r.removeAllListeners.bind(r),emit:r.emit.bind(r),safeEmit:r.safeEmit.bind(r)};return l$(l$({},o),u)}({__TRACK_LIST__:V1,VERSION:pR,BUILD:Q8,ESM_BUNDLER:!1,ESM:!1,UMD:!0,DEV:!1,setParameter:E$,getParameter:la,getSupportedCodec:async function(){let A={audio:[],video:[]};try{let r=new RTCPeerConnection;r.addTransceiver("video",{direction:"recvonly"}),r.addTransceiver("audio",{direction:"recvonly"});const o=(await r.createOffer()).sdp;if(!o)return A;r.close(),r=null,A=function(u){const h={video:[],audio:[]};return u.match(/ VP8/i)&&h.video.push("VP8"),u.match(/ VP9/i)&&h.video.push("VP9"),u.match(/ AV1/i)&&h.video.push("AV1"),u.match(/ H264/i)&&h.video.push("H264"),u.match(/ H265/i)&&h.video.push("H265"),u.match(/ opus/i)&&h.audio.push("OPUS"),u.match(/ PCMU/i)&&h.audio.push("PCMU"),u.match(/ PCMA/i)&&h.audio.push("PCMA"),u.match(/ G722/i)&&h.audio.push("G722"),h}(o)}catch(r){throw new Oa(ea.CREATE_OFFER_FAILED,r.toString&&r.toString()).print()}return A},checkSystemRequirements:function(){const A=cQ.reportApiInvoke(null,{name:l_.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:G0.TRACER});let r=!1;try{const f=window.RTCPeerConnection,m=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,v=window.WebSocket;r=!!(f&&m&&v)}catch(f){return $.error("check system requirement failed: ",f),!1}let o=!1;const u=o0();u.name===c0.CHROME&&Number(u.version)>=58&&(!Fse()||Gse())&&(o=!0),u.name===c0.FIREFOX&&Number(u.version)>=56&&(o=!0),u.name===c0.OPERA&&Number(u.version)>=45&&(o=!0),u.name===c0.SAFARI&&Number(u.version)>=11&&(o=!0),(h9()||o0().name===c0.QQ)&&(o=!0),$.debug("checkSystemRequirements, api:",r,"browser",o);const h=r&&o;return A.onSuccess(h),h},getDevices:function(A){return sR.enumerateDevices(!0,!0,A)},getMicrophones:function(A){return sR.getRecordingDevices(A)},getCameras:function(A){return sR.getCamerasDevices(A)},getElectronScreenSources:x7,getPlaybackDevices:function(A){return sR.getSpeakers(A)},createClient:function(){var A;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{codec:"vp8",audioCodec:"opus",mode:"rtc"};const o=cQ.reportApiInvoke(null,{name:l_.CREATE_CLIENT,options:[r],tag:G0.TRACER});try{(function(u){p_(u.codec,"config.codec",["vp8","vp9","av1","h264","h265"]),p_(u.mode,"config.mode",["rtc","live","p2p"]),u.audioCodec!==void 0&&p_(u.audioCodec,"config.audioCodec",["opus","pcmu","pcma","g722"]),u.proxyServer!==void 0&&W_(u.proxyServer,"config.proxyServer",1,1e4),u.turnServer!==void 0&&S9(u.turnServer),u.httpRetryConfig!==void 0&&v9(u.httpRetryConfig),u.websocketRetryConfig!==void 0&&v9(u.websocketRetryConfig)})(r)}catch(u){throw o.onError(u),u}return Gge()||(r.codec==="vp9"&&(r.codec="vp8",$.debug("browser not support vp9, force use vp8")),p0("UNSUPPORTED_VIDEO_CODEC",["vp9"])),r.audioCodec===void 0&&(r.audioCodec="opus"),o.onSuccess(),new I0(JN(JN({forceWaitGatewayResponse:!0},r),{},{role:AQ(A=["rtc","p2p"]).call(A,r.mode)?"host":r.role||"audience"}))},createCameraVideoTrack:async function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_CAM_VIDEO_TRACK,options:[KP({},A)]}),o=FP(A),u=y0(8,"track-cam-");let h=null;const f=A.encoderConfig==="720p_auto";$.info("start create camera video track with config",JSON.stringify(A),"trackId",u);try{h=(await AR({video:o},u)).getVideoTracks()[0]||null}catch(v){throw r.onError(v),v}if(!h){const v=new _g(ea.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(v),v.throw($)}A.optimizationMode&&a4(u,h,A,sN(A.encoderConfig));const m=new hT(h,A,o,A.scalabiltyMode?OP(A.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},A.optimizationMode,u);return f&&m.startMonitorStats(),r.onSuccess(m.getTrackId()),$.info("create camera video success, trackId:",u),m},createCustomVideoTrack:function(A){const r=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_CUSTOM_VIDEO_TRACK,options:[A]}),o=new HQ(A.mediaStreamTrack,{width:A.width,height:A.height,frameRate:A.frameRate,bitrateMax:A.bitrateMax,bitrateMin:A.bitrateMin},A.scalabiltyMode?OP(A.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},A.optimizationMode,y0(8,"track-cus-"),[R0.CUSTOM_TRACK]);return r.onSuccess(o.getTrackId()),$.info("create custom video track success with config",A,"trackId",o.getTrackId()),o},createScreenVideoTrack:async function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"disable";const o=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_SCREEN_VIDEO_TRACK,options:[KP({},A),r]}),u=A.encoderConfig==="720p_auto";A.encoderConfig?typeof A.encoderConfig=="string"||A.encoderConfig.width&&A.encoderConfig.height||(A.encoderConfig.width={max:1920},A.encoderConfig.height={max:1080}):A.encoderConfig="1080p_2";const h=function(L){const q={};L.screenSourceType&&(q.mediaSource=L.screenSourceType),L.extensionId&&kO()&&(q.extensionId=L.extensionId);const{displaySurface:z,selfBrowserSurface:_s,surfaceSwitching:_n,systemAudio:_i}=L;(J6(107)||l9(107)||d9(93))&&(z&&(p_(z,"displaySurface",["browser","window","monitor"]),q.displaySurface=z),_s?(p_(_s,"selfBrowserSurface",["exclude","include"]),q.selfBrowserSurface=_s):q.selfBrowserSurface="include",_n&&(p_(_n,"surfaceSwitching",["exclude","include"]),q.surfaceSwitching=_n)),(J6(105)||l9(105)||d9(91))&&_i&&(p_(_i,"systemAudio",["exclude","include"]),q.systemAudio=_i),L.electronScreenSourceId&&(q.sourceId=L.electronScreenSourceId);const Aa=L.encoderConfig?J8(L.encoderConfig):null;return q.mandatory={chromeMediaSource:"desktop",maxWidth:Aa?Aa.width:void 0,maxHeight:Aa?Aa.height:void 0},Aa&&(Aa.frameRate&&(typeof Aa.frameRate=="number"?(q.mandatory.maxFrameRate=Aa.frameRate,q.mandatory.minFrameRate=Aa.frameRate):(q.mandatory.maxFrameRate=Aa.frameRate.max||Aa.frameRate.ideal||Aa.frameRate.exact||void 0,q.mandatory.minFrameRate=Aa.frameRate.min||Aa.frameRate.ideal||Aa.frameRate.exact||void 0),q.frameRate=Aa.frameRate),Aa.width&&(q.width=Aa.width),Aa.height&&(q.height=Aa.height)),q}(A),f=y0(8,"track-scr-v-");let m=null,v=null;const R=f0();if(!R.supportShareAudio&&r==="enable"){const L=new _g(ea.NOT_SUPPORTED,"your browser or platform is not support share-screen with audio");return o.onError(L),L.throw($)}$.info("start create screen video track with config",A,"withAudio",r,"trackId",f);try{const L=await AR({screen:h,screenAudio:r==="auto"?R.supportShareAudio:r==="enable"},f);m=L.getVideoTracks()[0]||null,v=L.getAudioTracks()[0]||null}catch(L){throw o.onError(L),L}if(!m){const L=new _g(ea.UNEXPECTED_ERROR,"can not find track in media stream");return o.onError(L),L.throw($)}if(!v&&r==="enable"){m&&m.stop();const L=new _g(ea.SHARE_AUDIO_NOT_ALLOWED);return o.onError(L),L.throw($)}A.optimizationMode||(A.optimizationMode="detail"),A.optimizationMode&&(a4(f,m,A,A.encoderConfig&&J8(A.encoderConfig)||void 0),A.encoderConfig&&typeof A.encoderConfig!="string"&&(A.encoderConfig.bitrateMin=A.encoderConfig.bitrateMax));const D=new HQ(m,A.encoderConfig?J8(A.encoderConfig):{},A.scalabiltyMode?OP(A.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},A.optimizationMode,f,[R0.SCREEN_TRACK]);if(u&&D.startMonitorStats(),!v)return o.onSuccess(D.getTrackId()),$.info("create screen video track success","video:",D.getTrackId()),D;const k=new u0(v,void 0,y0(8,"track-scr-a-"),!1,!0);return o.onSuccess([D.getTrackId(),k.getTrackId()]),$.info("create screen video track success","video:",D.getTrackId(),"audio:",k.getTrackId()),[D,k]},createMicrophoneAndCameraTracks:async function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_MIC_AND_CAM_TRACKS,options:[A,r]}),u=r.encoderConfig==="720p_auto",h=FP(r),f=W7(A),m=y0(8,"track-mic-"),v=y0(8,"track-cam-");let R=null,D=null;$.info("start create camera video track(".concat(v,") and microphone audio track(").concat(m,") with config, audio: ").concat(JSON.stringify(A),", video: ").concat(JSON.stringify(r)));try{const q=await AR({audio:f,video:h},"".concat(m,"-").concat(v));R=q.getAudioTracks()[0],D=q.getVideoTracks()[0]}catch(q){throw o.onError(q),q}if(!R||!D){const q=new _g(ea.UNEXPECTED_ERROR,"can not find tracks in media stream");return o.onError(q),q.throw($)}r.optimizationMode&&a4(v,D,r,sN(r.encoderConfig));const k=new e1(R,A,f,m),L=new hT(D,r,h,r.scalabiltyMode?OP(r.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},r.optimizationMode,v);return u&&L.startMonitorStats(),o.onSuccess([k.getTrackId(),L.getTrackId()]),$.info("create camera video track(".concat(v,") and microphone audio track(").concat(m,") success")),[k,L]},createMicrophoneAudioTrack:async function(){let A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_MIC_AUDIO_TRACK,options:[A]}),o=W7(A),u=y0(8,"track-mic-");let h=null;$.info("start create microphone audio track with config",JSON.stringify(A),"trackId",u);try{h=(await AR({audio:o},u)).getAudioTracks()[0]||null}catch(m){throw r.onError(m),m}if(!h){const m=new _g(ea.UNEXPECTED_ERROR,"can not find track in media stream");return r.onError(m),m.throw($)}const f=new e1(h,A,o,u);return r.onSuccess(f.getTrackId()),$.info("create microphone audio track success, trackId:",u),f},createCustomAudioTrack:function(A){const r=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_CUSTOM_AUDIO_TRACK,options:[A]}),o=new u0(A.mediaStreamTrack,A.encoderConfig?LP(A.encoderConfig):{},y0(8,"track-cus-"),!1,!0);return $.info("create custom audio track success with config",A,"trackId",o.getTrackId()),r.onSuccess(o.getTrackId()),o},createBufferSourceAudioTrack:async function(A){var r;const{cacheOnlineFile:o,encoderConfig:u}=A;let{source:h}=A;const f={source:h instanceof AudioBuffer?"AudioBuffer":h instanceof File?(r=File.name)!==null&&r!==void 0?r:"File":h,cacheOnlineFile:o,encoderConfig:u},m=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CREATE_BUFFER_AUDIO_TRACK,options:[f]});if(la("DISABLE_WEBAUDIO"))throw new _g(ea.NOT_SUPPORTED,"can not create BufferSourceAudioTrack when WebAudio disabled");const v=y0(8,"track-buf-");$.info("start create buffer source audio track with config",JSON.stringify(f),"trackId",v);const R=h;if(!(h instanceof AudioBuffer))try{h=await Uce(h,o)}catch(L){return m.onError(L),L.throw($)}const D=new xce(h),k=new CT(R,D,u?LP(u):{},v);return $.info("create buffer source audio track success, trackId:",v),m.onSuccess(k.getTrackId()),k},setAppType:function(A){if($.debug("setAppType: ".concat(A)),!(Number.isInteger(A)&&A>=0))throw $.debug("Invalid appType"),new Oa(ea.INVALID_PARAMS,"invalid app type",A);p0("APP_TYPE",Math.floor(A))},setLogLevel:function(A){$.setLogLevel(A)},enableLogUpload:function(){la("USE_NEW_LOG")?p0("UPLOAD_LOG",!0):$.enableLogUpload()},disableLogUpload:function(){la("USE_NEW_LOG")?p0("UPLOAD_LOG",!1):$.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new o3},checkAudioTrackIsActive:async function(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const o=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[r]});if(!(A instanceof u0||A instanceof xR)){const R=new Oa(ea.INVALID_TRACK,"the parameter is not a audio track");return o.onError(R),R.throw()}r&&r<1e3&&(r=1e3);const u=A instanceof u0?A.getTrackLabel():"remote_track",h=A.getVolumeLevel();let f=h,m=h;const v=Date.now();return new lc(R=>{const D=setInterval(()=>{const k=A.getVolumeLevel();f=k>f?k:f,m=k<m?k:m;const L=f-m>1e-4,q=Date.now()-v;if(L||q>r){clearInterval(D);const z=L,_s={duration:q,deviceLabel:u,maxVolumeLevel:f,result:z};$.info("[track-".concat(A.getTrackId(),"] check audio track active completed. ").concat(JSON.stringify(_s))),o.onSuccess(_s),R(z)}},200)})},checkVideoTrackIsActive:async function(A){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5e3;const o=cQ.reportApiInvoke(null,{tag:G0.TRACER,name:l_.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[r]});if(!(A instanceof HQ||A instanceof uN)){const L=new Oa(ea.INVALID_TRACK,"the parameter is not a video track");return o.onError(L),L.throw()}r&&r<1e3&&(r=1e3);const u=A instanceof HQ?A.getTrackLabel():"remote_track",h=A.getMediaStreamTrack(!0),f=document.createElement("video");f.style.width="1px",f.style.height="1px",f.setAttribute("muted",""),f.muted=!0,f.setAttribute("playsinline",""),f.controls=!1,(uS()||iP())&&(f.style.opacity="0.01",f.style.position="fixed",f.style.left="0",f.style.top="0",document.body.appendChild(f)),f.srcObject=new MediaStream([h]),f.play();const m=document.createElement("canvas");m.width=160,m.height=120;let v=0,R=0;try{const L=Date.now();v=await function(q,z,_s,_n){let _i,Aa=0,Ea=null;return new lc((Qa,Vc)=>{function Fa(){Aa>_n&&_i&&(_i(),Qa(Aa));const Va=_s.getContext("2d");if(!Va){const kd=new Oa(ea.UNEXPECTED_ERROR,"can not get canvas 2d context.");return $.error(kd.toString()),void Vc(kd)}Va.drawImage(q,0,0,160,120);const _c=Va.getImageData(0,0,_s.width,_s.height),ec=Math.floor(_c.data.length/3);if(Ea){for(let kd=0;kd<ec;kd+=3)if(_c.data[kd]!==Ea[kd])return Aa+=1,void(Ea=_c.data);Ea=_c.data}else Ea=_c.data}setTimeout(()=>{_i&&(_i(),Qa(Aa))},z),_i=$8(()=>{Fa()},30)})}(f,r,m,4),R=Date.now()-L}catch(L){throw o.onError(L),L}Pge===c0.SAFARI&&(f.pause(),f.remove()),f.srcObject=null;const D=v>4,k={duration:R,changedPicNum:v,deviceLabel:u,result:D};return $.info("[track-".concat(A.getTrackId(),"] check video track active completed. ").concat(JSON.stringify(k))),o.onSuccess(k),D},setArea:G8,audioElementPlayCenter:NS,resumeAudioContext:function(){NS.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(A){Kge.processExternalMediaAEC(A)},registerExtensions:function(A){const r=la("PLUGIN_INFO")||[];A.forEach(o=>{"name"in o&&!AQ(r).call(r,o.name)&&r.push(o.name);const u=o;u.__registered__=!0,u.logger.hookLog=$.extLog,u.reporter.hookApiInvoke=cQ.extApiInvoke,u.parameters&&Object.keys(u.parameters).forEach(h=>{u.parameters[h]=la(h)})}),E$("PLUGIN_INFO",r)},ChannelMediaRelayError:cT,ChannelMediaRelayEvent:ZR,ChannelMediaRelayState:fS,RemoteStreamFallbackType:q8,RemoteStreamType:V8,ConnectionDisconnectedReason:zQ,AudienceLatencyLevelType:z6,AREAS:r0});return Object.defineProperties(c_,{onAudioAutoplayFailed:{get:()=>aR.onAudioAutoplayFailed,set:A=>{aR.onAudioAutoplayFailed=A}},onAutoplayFailed:{get:()=>aR.onAutoplayFailed,set:A=>{aR.onAutoplayFailed=A}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>c_._onSecurityPolicyViolation,set(A){c_._onSecurityPolicyViolation=A,d$(A)}},__CLIENT_LIST__:{get:()=>la("SHOW_GLOBAL_CLIENT_LIST")?sT:[]}}),sR.on(UN.CAMERA_DEVICE_CHANGED,A=>{$.info("camera device changed",JSON.stringify(A)),c_.onCameraChanged&&c_.onCameraChanged(A),c_.safeEmit(OR.CAMERA_CHANGED,A)}),sR.on(UN.RECORDING_DEVICE_CHANGED,A=>{$.info("microphone device changed",JSON.stringify(A)),c_.onMicrophoneChanged&&c_.onMicrophoneChanged(A),c_.safeEmit(OR.MICROPHONE_CHANGED,A)}),sR.on(UN.PLAYOUT_DEVICE_CHANGED,A=>{$.debug("playout device changed",JSON.stringify(A)),c_.onPlaybackDeviceChanged&&c_.onPlaybackDeviceChanged(A),c_.safeEmit(OR.PLAYBACK_DEVICE_CHANGED,A)}),NS.onAutoplayFailed=()=>{$.info("detect audio element autoplay failed"),aR.onAudioAutoplayFailed&&aR.onAudioAutoplayFailed()},E0.on("autoplay-failed",()=>{$.info("detect webaudio autoplay failed"),aR.onAudioAutoplayFailed&&aR.onAudioAutoplayFailed(),c_.safeEmit(OR.AUTOPLAY_FAILED)}),E0.on(S_.STATE_CHANGE,(A,r)=>{$.info("audio context state changed: ".concat(r," => ").concat(A)),c_.onAudioContextStateChanged&&c_.onAudioContextStateChanged(A,r),c_.safeEmit(OR.AUDIO_CONTEXT_STATE_CHANGED,A,r)}),A_.on(TN.NETWORK_STATE_CHANGE,(A,r)=>{$.info("[network-indicator] network state changed, ".concat(r," => ").concat(A))}),window&&(window.__ARTC__=c_),c_})})(AgoraRTC_NProduction);var AgoraRTC_NProductionExports=AgoraRTC_NProduction.exports;const AgoraRTC=getDefaultExportFromCjs(AgoraRTC_NProductionExports);class AGEventEmitter{constructor(){vS(this,"_eventMap",new Map)}once(e,n){const i=(...s)=>{this.off(e,i),n(...s)};return this.on(e,i),this}on(e,n){const i=this._eventMap.get(e)??[];return i.push(n),this._eventMap.set(e,i),this}off(e,n){const i=this._eventMap.get(e);return i&&this._eventMap.set(e,i.filter(s=>s!==n)),this}removeAllEventListeners(){this._eventMap.clear()}emit(e,...n){const i=this._eventMap.get(e)??[];for(const s of i)try{s&&s(...n)}catch(g){const l=g,C=l.stack||l.message;console.error(`[event] handling event ${e.toString()} fail: ${C}`)}return this}}var indexLight={exports:{}},indexMinimal={},minimal={},aspromise=asPromise$1;function asPromise$1(t,e){for(var n=new Array(arguments.length-1),i=0,s=2,g=!0;s<arguments.length;)n[i++]=arguments[s++];return new Promise(function(C,p){n[i]=function(Q){if(g)if(g=!1,Q)p(Q);else{for(var y=new Array(arguments.length-1),_=0;_<y.length;)y[_++]=arguments[_];C.apply(null,y)}};try{t.apply(e||null,n)}catch(B){g&&(g=!1,p(B))}})}var base64$1={};(function(t){var e=t;e.length=function(C){var p=C.length;if(!p)return 0;for(var B=0;--p%4>1&&C.charAt(p)==="=";)++B;return Math.ceil(C.length*3)/4-B};for(var n=new Array(64),i=new Array(123),s=0;s<64;)i[n[s]=s<26?s+65:s<52?s+71:s<62?s-4:s-59|43]=s++;e.encode=function(C,p,B){for(var Q=null,y=[],_=0,S=0,w;p<B;){var O=C[p++];switch(S){case 0:y[_++]=n[O>>2],w=(O&3)<<4,S=1;break;case 1:y[_++]=n[w|O>>4],w=(O&15)<<2,S=2;break;case 2:y[_++]=n[w|O>>6],y[_++]=n[O&63],S=0;break}_>8191&&((Q||(Q=[])).push(String.fromCharCode.apply(String,y)),_=0)}return S&&(y[_++]=n[w],y[_++]=61,S===1&&(y[_++]=61)),Q?(_&&Q.push(String.fromCharCode.apply(String,y.slice(0,_))),Q.join("")):String.fromCharCode.apply(String,y.slice(0,_))};var g="invalid encoding";e.decode=function(C,p,B){for(var Q=B,y=0,_,S=0;S<C.length;){var w=C.charCodeAt(S++);if(w===61&&y>1)break;if((w=i[w])===void 0)throw Error(g);switch(y){case 0:_=w,y=1;break;case 1:p[B++]=_<<2|(w&48)>>4,_=w,y=2;break;case 2:p[B++]=(_&15)<<4|(w&60)>>2,_=w,y=3;break;case 3:p[B++]=(_&3)<<6|w,y=0;break}}if(y===1)throw Error(g);return B-Q},e.test=function(C){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(C)}})(base64$1);var eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,n,i){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:n,ctx:i||this}),this};EventEmitter.prototype.off=function(e,n){if(e===void 0)this._listeners={};else if(n===void 0)this._listeners[e]=[];else for(var i=this._listeners[e],s=0;s<i.length;)i[s].fn===n?i.splice(s,1):++s;return this};EventEmitter.prototype.emit=function(e){var n=this._listeners[e];if(n){for(var i=[],s=1;s<arguments.length;)i.push(arguments[s++]);for(s=0;s<n.length;)n[s].fn.apply(n[s++].ctx,i)}return this};var float=factory(factory);function factory(t){return typeof Float32Array<"u"?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),i=n[3]===128;function s(p,B,Q){e[0]=p,B[Q]=n[0],B[Q+1]=n[1],B[Q+2]=n[2],B[Q+3]=n[3]}function g(p,B,Q){e[0]=p,B[Q]=n[3],B[Q+1]=n[2],B[Q+2]=n[1],B[Q+3]=n[0]}t.writeFloatLE=i?s:g,t.writeFloatBE=i?g:s;function l(p,B){return n[0]=p[B],n[1]=p[B+1],n[2]=p[B+2],n[3]=p[B+3],e[0]}function C(p,B){return n[3]=p[B],n[2]=p[B+1],n[1]=p[B+2],n[0]=p[B+3],e[0]}t.readFloatLE=i?l:C,t.readFloatBE=i?C:l}():function(){function e(i,s,g,l){var C=s<0?1:0;if(C&&(s=-s),s===0)i(1/s>0?0:2147483648,g,l);else if(isNaN(s))i(2143289344,g,l);else if(s>34028234663852886e22)i((C<<31|2139095040)>>>0,g,l);else if(s<11754943508222875e-54)i((C<<31|Math.round(s/1401298464324817e-60))>>>0,g,l);else{var p=Math.floor(Math.log(s)/Math.LN2),B=Math.round(s*Math.pow(2,-p)*8388608)&8388607;i((C<<31|p+127<<23|B)>>>0,g,l)}}t.writeFloatLE=e.bind(null,writeUintLE),t.writeFloatBE=e.bind(null,writeUintBE);function n(i,s,g){var l=i(s,g),C=(l>>31)*2+1,p=l>>>23&255,B=l&8388607;return p===255?B?NaN:C*(1/0):p===0?C*1401298464324817e-60*B:C*Math.pow(2,p-150)*(B+8388608)}t.readFloatLE=n.bind(null,readUintLE),t.readFloatBE=n.bind(null,readUintBE)}(),typeof Float64Array<"u"?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),i=n[7]===128;function s(p,B,Q){e[0]=p,B[Q]=n[0],B[Q+1]=n[1],B[Q+2]=n[2],B[Q+3]=n[3],B[Q+4]=n[4],B[Q+5]=n[5],B[Q+6]=n[6],B[Q+7]=n[7]}function g(p,B,Q){e[0]=p,B[Q]=n[7],B[Q+1]=n[6],B[Q+2]=n[5],B[Q+3]=n[4],B[Q+4]=n[3],B[Q+5]=n[2],B[Q+6]=n[1],B[Q+7]=n[0]}t.writeDoubleLE=i?s:g,t.writeDoubleBE=i?g:s;function l(p,B){return n[0]=p[B],n[1]=p[B+1],n[2]=p[B+2],n[3]=p[B+3],n[4]=p[B+4],n[5]=p[B+5],n[6]=p[B+6],n[7]=p[B+7],e[0]}function C(p,B){return n[7]=p[B],n[6]=p[B+1],n[5]=p[B+2],n[4]=p[B+3],n[3]=p[B+4],n[2]=p[B+5],n[1]=p[B+6],n[0]=p[B+7],e[0]}t.readDoubleLE=i?l:C,t.readDoubleBE=i?C:l}():function(){function e(i,s,g,l,C,p){var B=l<0?1:0;if(B&&(l=-l),l===0)i(0,C,p+s),i(1/l>0?0:2147483648,C,p+g);else if(isNaN(l))i(0,C,p+s),i(2146959360,C,p+g);else if(l>17976931348623157e292)i(0,C,p+s),i((B<<31|2146435072)>>>0,C,p+g);else{var Q;if(l<22250738585072014e-324)Q=l/5e-324,i(Q>>>0,C,p+s),i((B<<31|Q/4294967296)>>>0,C,p+g);else{var y=Math.floor(Math.log(l)/Math.LN2);y===1024&&(y=1023),Q=l*Math.pow(2,-y),i(Q*4503599627370496>>>0,C,p+s),i((B<<31|y+1023<<20|Q*1048576&1048575)>>>0,C,p+g)}}}t.writeDoubleLE=e.bind(null,writeUintLE,0,4),t.writeDoubleBE=e.bind(null,writeUintBE,4,0);function n(i,s,g,l,C){var p=i(l,C+s),B=i(l,C+g),Q=(B>>31)*2+1,y=B>>>20&2047,_=4294967296*(B&1048575)+p;return y===2047?_?NaN:Q*(1/0):y===0?Q*5e-324*_:Q*Math.pow(2,y-1075)*(_+4503599627370496)}t.readDoubleLE=n.bind(null,readUintLE,0,4),t.readDoubleBE=n.bind(null,readUintBE,4,0)}(),t}function writeUintLE(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function writeUintBE(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=t&255}function readUintLE(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function readUintBE(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}var inquire_1=inquire$1;function inquire$1(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}var utf8$2={};(function(t){var e=t;e.length=function(i){for(var s=0,g=0,l=0;l<i.length;++l)g=i.charCodeAt(l),g<128?s+=1:g<2048?s+=2:(g&64512)===55296&&(i.charCodeAt(l+1)&64512)===56320?(++l,s+=4):s+=3;return s},e.read=function(i,s,g){var l=g-s;if(l<1)return"";for(var C=null,p=[],B=0,Q;s<g;)Q=i[s++],Q<128?p[B++]=Q:Q>191&&Q<224?p[B++]=(Q&31)<<6|i[s++]&63:Q>239&&Q<365?(Q=((Q&7)<<18|(i[s++]&63)<<12|(i[s++]&63)<<6|i[s++]&63)-65536,p[B++]=55296+(Q>>10),p[B++]=56320+(Q&1023)):p[B++]=(Q&15)<<12|(i[s++]&63)<<6|i[s++]&63,B>8191&&((C||(C=[])).push(String.fromCharCode.apply(String,p)),B=0);return C?(B&&C.push(String.fromCharCode.apply(String,p.slice(0,B))),C.join("")):String.fromCharCode.apply(String,p.slice(0,B))},e.write=function(i,s,g){for(var l=g,C,p,B=0;B<i.length;++B)C=i.charCodeAt(B),C<128?s[g++]=C:C<2048?(s[g++]=C>>6|192,s[g++]=C&63|128):(C&64512)===55296&&((p=i.charCodeAt(B+1))&64512)===56320?(C=65536+((C&1023)<<10)+(p&1023),++B,s[g++]=C>>18|240,s[g++]=C>>12&63|128,s[g++]=C>>6&63|128,s[g++]=C&63|128):(s[g++]=C>>12|224,s[g++]=C>>6&63|128,s[g++]=C&63|128);return g-l}})(utf8$2);var pool_1=pool;function pool(t,e,n){var i=n||8192,s=i>>>1,g=null,l=i;return function(p){if(p<1||p>s)return t(p);l+p>i&&(g=t(i),l=0);var B=e.call(g,l,l+=p);return l&7&&(l=(l|7)+1),B}}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=e;var t=requireMinimal();function e(g,l){this.lo=g>>>0,this.hi=l>>>0}var n=e.zero=new e(0,0);n.toNumber=function(){return 0},n.zzEncode=n.zzDecode=function(){return this},n.length=function(){return 1};var i=e.zeroHash="\0\0\0\0\0\0\0\0";e.fromNumber=function(l){if(l===0)return n;var C=l<0;C&&(l=-l);var p=l>>>0,B=(l-p)/4294967296>>>0;return C&&(B=~B>>>0,p=~p>>>0,++p>4294967295&&(p=0,++B>4294967295&&(B=0))),new e(p,B)},e.from=function(l){if(typeof l=="number")return e.fromNumber(l);if(t.isString(l))if(t.Long)l=t.Long.fromString(l);else return e.fromNumber(parseInt(l,10));return l.low||l.high?new e(l.low>>>0,l.high>>>0):n},e.prototype.toNumber=function(l){if(!l&&this.hi>>>31){var C=~this.lo+1>>>0,p=~this.hi>>>0;return C||(p=p+1>>>0),-(C+p*4294967296)}return this.lo+this.hi*4294967296},e.prototype.toLong=function(l){return t.Long?new t.Long(this.lo|0,this.hi|0,!!l):{low:this.lo|0,high:this.hi|0,unsigned:!!l}};var s=String.prototype.charCodeAt;return e.fromHash=function(l){return l===i?n:new e((s.call(l,0)|s.call(l,1)<<8|s.call(l,2)<<16|s.call(l,3)<<24)>>>0,(s.call(l,4)|s.call(l,5)<<8|s.call(l,6)<<16|s.call(l,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var l=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^l)>>>0,this.lo=(this.lo<<1^l)>>>0,this},e.prototype.zzDecode=function(){var l=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^l)>>>0,this.hi=(this.hi>>>1^l)>>>0,this},e.prototype.length=function(){var l=this.lo,C=(this.lo>>>28|this.hi<<4)>>>0,p=this.hi>>>24;return p===0?C===0?l<16384?l<128?1:2:l<2097152?3:4:C<16384?C<128?5:6:C<2097152?7:8:p<128?9:10},longbits}var hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,function(t){var e=t;e.asPromise=aspromise,e.base64=base64$1,e.EventEmitter=eventemitter,e.float=float,e.inquire=inquire_1,e.utf8=utf8$2,e.pool=pool_1,e.LongBits=requireLongbits(),e.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),e.global=e.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||commonjsGlobal,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g},e.isString=function(g){return typeof g=="string"||g instanceof String},e.isObject=function(g){return g&&typeof g=="object"},e.isset=e.isSet=function(g,l){var C=g[l];return C!=null&&g.hasOwnProperty(l)?typeof C!="object"||(Array.isArray(C)?C.length:Object.keys(C).length)>0:!1},e.Buffer=function(){try{var s=e.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(g){return typeof g=="number"?e.Buffer?e._Buffer_allocUnsafe(g):new e.Array(g):e.Buffer?e._Buffer_from(g):typeof Uint8Array>"u"?g:new Uint8Array(g)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(g){return g?e.LongBits.from(g).toHash():e.LongBits.zeroHash},e.longFromHash=function(g,l){var C=e.LongBits.fromHash(g);return e.Long?e.Long.fromBits(C.lo,C.hi,l):C.toNumber(!!l)};function n(s,g,l){for(var C=Object.keys(g),p=0;p<C.length;++p)(s[C[p]]===void 0||!l)&&(s[C[p]]=g[C[p]]);return s}e.merge=n,e.lcFirst=function(g){return g.charAt(0).toLowerCase()+g.substring(1)};function i(s){function g(l,C){if(!(this instanceof g))return new g(l,C);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,g):Object.defineProperty(this,"stack",{value:new Error().stack||""}),C&&n(this,C)}return g.prototype=Object.create(Error.prototype,{constructor:{value:g,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return s},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),g}e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(g){for(var l={},C=0;C<g.length;++C)l[g[C]]=1;return function(){for(var p=Object.keys(this),B=p.length-1;B>-1;--B)if(l[p[B]]===1&&this[p[B]]!==void 0&&this[p[B]]!==null)return p[B]}},e.oneOfSetter=function(g){return function(l){for(var C=0;C<g.length;++C)g[C]!==l&&delete this[g[C]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var s=e.Buffer;if(!s){e._Buffer_from=e._Buffer_allocUnsafe=null;return}e._Buffer_from=s.from!==Uint8Array.from&&s.from||function(l,C){return new s(l,C)},e._Buffer_allocUnsafe=s.allocUnsafe||function(l){return new s(l)}}}(minimal)),minimal}var writer=Writer$1,util$6=requireMinimal(),BufferWriter$1,LongBits$1=util$6.LongBits,base64=util$6.base64,utf8$1=util$6.utf8;function Op(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function noop(){}function State(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function Writer$1(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var create$1=function t(){return util$6.Buffer?function(){return(Writer$1.create=function(){return new BufferWriter$1})()}:function(){return new Writer$1}};Writer$1.create=create$1();Writer$1.alloc=function t(e){return new util$6.Array(e)};util$6.Array!==Array&&(Writer$1.alloc=util$6.pool(Writer$1.alloc,util$6.Array.prototype.subarray));Writer$1.prototype._push=function t(e,n,i){return this.tail=this.tail.next=new Op(e,n,i),this.len+=n,this};function writeByte(t,e,n){e[n]=t&255}function writeVarint32(t,e,n){for(;t>127;)e[n++]=t&127|128,t>>>=7;e[n]=t}function VarintOp(t,e){this.len=t,this.next=void 0,this.val=e}VarintOp.prototype=Object.create(Op.prototype);VarintOp.prototype.fn=writeVarint32;Writer$1.prototype.uint32=function t(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e=e>>>0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this};Writer$1.prototype.int32=function t(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)};Writer$1.prototype.sint32=function t(e){return this.uint32((e<<1^e>>31)>>>0)};function writeVarint64(t,e,n){for(;t.hi;)e[n++]=t.lo&127|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=t.lo&127|128,t.lo=t.lo>>>7;e[n++]=t.lo}Writer$1.prototype.uint64=function t(e){var n=LongBits$1.from(e);return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.int64=Writer$1.prototype.uint64;Writer$1.prototype.sint64=function t(e){var n=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,n.length(),n)};Writer$1.prototype.bool=function t(e){return this._push(writeByte,1,e?1:0)};function writeFixed32(t,e,n){e[n]=t&255,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}Writer$1.prototype.fixed32=function t(e){return this._push(writeFixed32,4,e>>>0)};Writer$1.prototype.sfixed32=Writer$1.prototype.fixed32;Writer$1.prototype.fixed64=function t(e){var n=LongBits$1.from(e);return this._push(writeFixed32,4,n.lo)._push(writeFixed32,4,n.hi)};Writer$1.prototype.sfixed64=Writer$1.prototype.fixed64;Writer$1.prototype.float=function t(e){return this._push(util$6.float.writeFloatLE,4,e)};Writer$1.prototype.double=function t(e){return this._push(util$6.float.writeDoubleLE,8,e)};var writeBytes=util$6.Array.prototype.set?function t(e,n,i){n.set(e,i)}:function t(e,n,i){for(var s=0;s<e.length;++s)n[i+s]=e[s]};Writer$1.prototype.bytes=function t(e){var n=e.length>>>0;if(!n)return this._push(writeByte,1,0);if(util$6.isString(e)){var i=Writer$1.alloc(n=base64.length(e));base64.decode(e,i,0),e=i}return this.uint32(n)._push(writeBytes,n,e)};Writer$1.prototype.string=function t(e){var n=utf8$1.length(e);return n?this.uint32(n)._push(utf8$1.write,n,e):this._push(writeByte,1,0)};Writer$1.prototype.fork=function t(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this};Writer$1.prototype.reset=function t(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this};Writer$1.prototype.ldelim=function t(){var e=this.head,n=this.tail,i=this.len;return this.reset().uint32(i),i&&(this.tail.next=e.next,this.tail=n,this.len+=i),this};Writer$1.prototype.finish=function t(){for(var e=this.head.next,n=this.constructor.alloc(this.len),i=0;e;)e.fn(e.val,n,i),i+=e.len,e=e.next;return n};Writer$1._configure=function(t){BufferWriter$1=t,Writer$1.create=create$1(),BufferWriter$1._configure()};var writer_buffer=BufferWriter,Writer=writer;(BufferWriter.prototype=Object.create(Writer.prototype)).constructor=BufferWriter;var util$5=requireMinimal();function BufferWriter(){Writer.call(this)}BufferWriter._configure=function(){BufferWriter.alloc=util$5._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=util$5.Buffer&&util$5.Buffer.prototype instanceof Uint8Array&&util$5.Buffer.prototype.set.name==="set"?function(e,n,i){n.set(e,i)}:function(e,n,i){if(e.copy)e.copy(n,i,0,e.length);else for(var s=0;s<e.length;)n[i++]=e[s++]}};BufferWriter.prototype.bytes=function t(e){util$5.isString(e)&&(e=util$5._Buffer_from(e,"base64"));var n=e.length>>>0;return this.uint32(n),n&&this._push(BufferWriter.writeBytesBuffer,n,e),this};function writeStringBuffer(t,e,n){t.length<40?util$5.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}BufferWriter.prototype.string=function t(e){var n=util$5.Buffer.byteLength(e);return this.uint32(n),n&&this._push(writeStringBuffer,n,e),this};BufferWriter._configure();var reader=Reader$1,util$4=requireMinimal(),BufferReader$1,LongBits=util$4.LongBits,utf8=util$4.utf8;function indexOutOfRange(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function Reader$1(t){this.buf=t,this.pos=0,this.len=t.length}var create_array=typeof Uint8Array<"u"?function t(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")}:function t(e){if(Array.isArray(e))return new Reader$1(e);throw Error("illegal buffer")},create=function t(){return util$4.Buffer?function(n){return(Reader$1.create=function(s){return util$4.Buffer.isBuffer(s)?new BufferReader$1(s):create_array(s)})(n)}:create_array};Reader$1.create=create();Reader$1.prototype._slice=util$4.Array.prototype.subarray||util$4.Array.prototype.slice;Reader$1.prototype.uint32=function t(){var e=4294967295;return function(){if(e=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(e=(e|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(e=(e|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return e;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return e}}();Reader$1.prototype.int32=function t(){return this.uint32()|0};Reader$1.prototype.sint32=function t(){var e=this.uint32();return e>>>1^-(e&1)|0};function readLongVarint(){var t=new LongBits(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw indexOutOfRange(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}Reader$1.prototype.bool=function t(){return this.uint32()!==0};function readFixed32_end(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}Reader$1.prototype.fixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)};Reader$1.prototype.sfixed32=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)|0};function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader$1.prototype.float=function t(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=util$4.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e};Reader$1.prototype.double=function t(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=util$4.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e};Reader$1.prototype.bytes=function t(){var e=this.uint32(),n=this.pos,i=this.pos+e;if(i>this.len)throw indexOutOfRange(this,e);if(this.pos+=e,Array.isArray(this.buf))return this.buf.slice(n,i);if(n===i){var s=util$4.Buffer;return s?s.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,n,i)};Reader$1.prototype.string=function t(){var e=this.bytes();return utf8.read(e,0,e.length)};Reader$1.prototype.skip=function t(e){if(typeof e=="number"){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do if(this.pos>=this.len)throw indexOutOfRange(this);while(this.buf[this.pos++]&128);return this};Reader$1.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this};Reader$1._configure=function(t){BufferReader$1=t,Reader$1.create=create(),BufferReader$1._configure();var e=util$4.Long?"toLong":"toNumber";util$4.merge(Reader$1.prototype,{int64:function(){return readLongVarint.call(this)[e](!1)},uint64:function(){return readLongVarint.call(this)[e](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[e](!1)},fixed64:function(){return readFixed64.call(this)[e](!0)},sfixed64:function(){return readFixed64.call(this)[e](!1)}})};var reader_buffer=BufferReader,Reader=reader;(BufferReader.prototype=Object.create(Reader.prototype)).constructor=BufferReader;var util$3=requireMinimal();function BufferReader(t){Reader.call(this,t)}BufferReader._configure=function(){util$3.Buffer&&(BufferReader.prototype._slice=util$3.Buffer.prototype.slice)};BufferReader.prototype.string=function t(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))};BufferReader._configure();var rpc={},service$1=Service,util$2=requireMinimal();(Service.prototype=Object.create(util$2.EventEmitter.prototype)).constructor=Service;function Service(t,e,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");util$2.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!n}Service.prototype.rpcCall=function t(e,n,i,s,g){if(!s)throw TypeError("request must be specified");var l=this;if(!g)return util$2.asPromise(t,l,e,n,i,s);if(!l.rpcImpl){setTimeout(function(){g(Error("already ended"))},0);return}try{return l.rpcImpl(e,n[l.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(p,B){if(p)return l.emit("error",p,e),g(p);if(B===null){l.end(!0);return}if(!(B instanceof i))try{B=i[l.responseDelimited?"decodeDelimited":"decode"](B)}catch(Q){return l.emit("error",Q,e),g(Q)}return l.emit("data",B,e),g(null,B)})}catch(C){l.emit("error",C,e),setTimeout(function(){g(C)},0);return}};Service.prototype.end=function t(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};(function(t){var e=t;e.Service=service$1})(rpc);var roots={};(function(t){var e=t;e.build="minimal",e.Writer=writer,e.BufferWriter=writer_buffer,e.Reader=reader,e.BufferReader=reader_buffer,e.util=requireMinimal(),e.rpc=rpc,e.roots=roots,e.configure=n;function n(){e.util._configure(),e.Writer._configure(e.BufferWriter),e.Reader._configure(e.BufferReader)}n()})(indexMinimal);var util$1={exports:{}},codegen_1=codegen;function codegen(t,e){typeof t=="string"&&(e=t,t=void 0);var n=[];function i(g){if(typeof g!="string"){var l=s();if(codegen.verbose&&console.log("codegen: "+l),l="return "+l,g){for(var C=Object.keys(g),p=new Array(C.length+1),B=new Array(C.length),Q=0;Q<C.length;)p[Q]=C[Q],B[Q]=g[C[Q++]];return p[Q]=l,Function.apply(null,p).apply(null,B)}return Function(l)()}for(var y=new Array(arguments.length-1),_=0;_<y.length;)y[_]=arguments[++_];if(_=0,g=g.replace(/%([%dfijs])/g,function(w,O){var P=y[_++];switch(O){case"d":case"f":return String(Number(P));case"i":return String(Math.floor(P));case"j":return JSON.stringify(P);case"s":return String(P)}return"%"}),_!==y.length)throw Error("parameter count mismatch");return n.push(g),i}function s(g){return"function "+(g||e||"")+"("+(t&&t.join(",")||"")+`){
  `+n.join(`
  `)+`
}`}return i.toString=s,i}codegen.verbose=!1;var fetch_1=fetch$1,asPromise=aspromise,inquire=inquire_1,fs=inquire("fs");function fetch$1(t,e,n){return typeof e=="function"?(n=e,e={}):e||(e={}),n?!e.xhr&&fs&&fs.readFile?fs.readFile(t,function(s,g){return s&&typeof XMLHttpRequest<"u"?fetch$1.xhr(t,e,n):s?n(s):n(null,e.binary?g:g.toString("utf8"))}):fetch$1.xhr(t,e,n):asPromise(fetch$1,this,t,e)}fetch$1.xhr=function t(e,n,i){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(s.readyState===4){if(s.status!==0&&s.status!==200)return i(Error("status "+s.status));if(n.binary){var l=s.response;if(!l){l=[];for(var C=0;C<s.responseText.length;++C)l.push(s.responseText.charCodeAt(C)&255)}return i(null,typeof Uint8Array<"u"?new Uint8Array(l):l)}return i(null,s.responseText)}},n.binary&&("overrideMimeType"in s&&s.overrideMimeType("text/plain; charset=x-user-defined"),s.responseType="arraybuffer"),s.open("GET",e),s.send()};var path={};(function(t){var e=t,n=e.isAbsolute=function(g){return/^(?:\/|\w+:)/.test(g)},i=e.normalize=function(g){g=g.replace(/\\/g,"/").replace(/\/{2,}/g,"/");var l=g.split("/"),C=n(g),p="";C&&(p=l.shift()+"/");for(var B=0;B<l.length;)l[B]===".."?B>0&&l[B-1]!==".."?l.splice(--B,2):C?l.splice(B,1):++B:l[B]==="."?l.splice(B,1):++B;return p+l.join("/")};e.resolve=function(g,l,C){return C||(l=i(l)),n(l)?l:(C||(g=i(g)),(g=g.replace(/(?:\/|^)[^/]+$/,"")).length?i(g+"/"+l):l)}})(path);var types={},hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,function(t){var e=t,n=requireUtil(),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function s(g,l){var C=0,p={};for(l|=0;C<g.length;)p[i[C+l]]=g[C++];return p}e.basic=s([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),e.defaults=s([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),e.long=s([0,0,0,1,1],7),e.mapKey=s([0,0,0,5,5,0,0,0,1,1,0,2],2),e.packed=s([1,5,0,0,0,5,5,0,0,0,1,1,0])}(types)),types}var field,hasRequiredField;function requireField(){if(hasRequiredField)return field;hasRequiredField=1,field=l;var t=requireObject();((l.prototype=Object.create(t.prototype)).constructor=l).className="Field";var e=require_enum(),n=requireTypes(),i=requireUtil(),s,g=/^required|optional|repeated$/;l.fromJSON=function(p,B){return new l(p,B.id,B.type,B.rule,B.extend,B.options,B.comment)};function l(C,p,B,Q,y,_,S){if(i.isObject(Q)?(S=y,_=Q,Q=y=void 0):i.isObject(y)&&(S=_,_=y,y=void 0),t.call(this,C,_),!i.isInteger(p)||p<0)throw TypeError("id must be a non-negative integer");if(!i.isString(B))throw TypeError("type must be a string");if(Q!==void 0&&!g.test(Q=Q.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(y!==void 0&&!i.isString(y))throw TypeError("extend must be a string");Q==="proto3_optional"&&(Q="optional"),this.rule=Q&&Q!=="optional"?Q:void 0,this.type=B,this.id=p,this.extend=y||void 0,this.required=Q==="required",this.optional=!this.required,this.repeated=Q==="repeated",this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=i.Long?n.long[B]!==void 0:!1,this.bytes=B==="bytes",this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=S}return Object.defineProperty(l.prototype,"packed",{get:function(){return this._packed===null&&(this._packed=this.getOption("packed")!==!1),this._packed}}),l.prototype.setOption=function(p,B,Q){return p==="packed"&&(this._packed=null),t.prototype.setOption.call(this,p,B,Q)},l.prototype.toJSON=function(p){var B=p?!!p.keepComments:!1;return i.toObject(["rule",this.rule!=="optional"&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",B?this.comment:void 0])},l.prototype.resolve=function(){if(this.resolved)return this;if((this.typeDefault=n.defaults[this.type])===void 0?(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof s?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]):this.options&&this.options.proto3_optional&&(this.typeDefault=null),this.options&&this.options.default!=null&&(this.typeDefault=this.options.default,this.resolvedType instanceof e&&typeof this.typeDefault=="string"&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&((this.options.packed===!0||this.options.packed!==void 0&&this.resolvedType&&!(this.resolvedType instanceof e))&&delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=i.Long.fromNumber(this.typeDefault,this.type.charAt(0)==="u"),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&typeof this.typeDefault=="string"){var p;i.base64.test(this.typeDefault)?i.base64.decode(this.typeDefault,p=i.newBuffer(i.base64.length(this.typeDefault)),0):i.utf8.write(this.typeDefault,p=i.newBuffer(i.utf8.length(this.typeDefault)),0),this.typeDefault=p}return this.map?this.defaultValue=i.emptyObject:this.repeated?this.defaultValue=i.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof s&&(this.parent.ctor.prototype[this.name]=this.defaultValue),t.prototype.resolve.call(this)},l.d=function(p,B,Q,y){return typeof B=="function"?B=i.decorateType(B).name:B&&typeof B=="object"&&(B=i.decorateEnum(B).name),function(S,w){i.decorateType(S.constructor).add(new l(w,p,B,Q,{default:y}))}},l._configure=function(p){s=p},field}var oneof,hasRequiredOneof;function requireOneof(){if(hasRequiredOneof)return oneof;hasRequiredOneof=1,oneof=i;var t=requireObject();((i.prototype=Object.create(t.prototype)).constructor=i).className="OneOf";var e=requireField(),n=requireUtil();function i(g,l,C,p){if(Array.isArray(l)||(C=l,l=void 0),t.call(this,g,C),!(l===void 0||Array.isArray(l)))throw TypeError("fieldNames must be an Array");this.oneof=l||[],this.fieldsArray=[],this.comment=p}i.fromJSON=function(l,C){return new i(l,C.oneof,C.options,C.comment)},i.prototype.toJSON=function(l){var C=l?!!l.keepComments:!1;return n.toObject(["options",this.options,"oneof",this.oneof,"comment",C?this.comment:void 0])};function s(g){if(g.parent)for(var l=0;l<g.fieldsArray.length;++l)g.fieldsArray[l].parent||g.parent.add(g.fieldsArray[l])}return i.prototype.add=function(l){if(!(l instanceof e))throw TypeError("field must be a Field");return l.parent&&l.parent!==this.parent&&l.parent.remove(l),this.oneof.push(l.name),this.fieldsArray.push(l),l.partOf=this,s(this),this},i.prototype.remove=function(l){if(!(l instanceof e))throw TypeError("field must be a Field");var C=this.fieldsArray.indexOf(l);if(C<0)throw Error(l+" is not a member of "+this);return this.fieldsArray.splice(C,1),C=this.oneof.indexOf(l.name),C>-1&&this.oneof.splice(C,1),l.partOf=null,this},i.prototype.onAdd=function(l){t.prototype.onAdd.call(this,l);for(var C=this,p=0;p<this.oneof.length;++p){var B=l.get(this.oneof[p]);B&&!B.partOf&&(B.partOf=C,C.fieldsArray.push(B))}s(this)},i.prototype.onRemove=function(l){for(var C=0,p;C<this.fieldsArray.length;++C)(p=this.fieldsArray[C]).parent&&p.parent.remove(p);t.prototype.onRemove.call(this,l)},i.d=function(){for(var l=new Array(arguments.length),C=0;C<arguments.length;)l[C]=arguments[C++];return function(B,Q){n.decorateType(B.constructor).add(new i(Q,l)),Object.defineProperty(B,Q,{get:n.oneOfGetter(l),set:n.oneOfSetter(l)})}},oneof}var namespace,hasRequiredNamespace;function requireNamespace(){if(hasRequiredNamespace)return namespace;hasRequiredNamespace=1,namespace=p;var t=requireObject();((p.prototype=Object.create(t.prototype)).constructor=p).className="Namespace";var e=requireField(),n=requireUtil(),i=requireOneof(),s,g,l;p.fromJSON=function(y,_){return new p(y,_.options).addJSON(_.nested)};function C(Q,y){if(Q&&Q.length){for(var _={},S=0;S<Q.length;++S)_[Q[S].name]=Q[S].toJSON(y);return _}}p.arrayToJSON=C,p.isReservedId=function(y,_){if(y){for(var S=0;S<y.length;++S)if(typeof y[S]!="string"&&y[S][0]<=_&&y[S][1]>_)return!0}return!1},p.isReservedName=function(y,_){if(y){for(var S=0;S<y.length;++S)if(y[S]===_)return!0}return!1};function p(Q,y){t.call(this,Q,y),this.nested=void 0,this._nestedArray=null}function B(Q){return Q._nestedArray=null,Q}return Object.defineProperty(p.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=n.toArray(this.nested))}}),p.prototype.toJSON=function(y){return n.toObject(["options",this.options,"nested",C(this.nestedArray,y)])},p.prototype.addJSON=function(y){var _=this;if(y)for(var S=Object.keys(y),w=0,O;w<S.length;++w)O=y[S[w]],_.add((O.fields!==void 0?s.fromJSON:O.values!==void 0?l.fromJSON:O.methods!==void 0?g.fromJSON:O.id!==void 0?e.fromJSON:p.fromJSON)(S[w],O));return this},p.prototype.get=function(y){return this.nested&&this.nested[y]||null},p.prototype.getEnum=function(y){if(this.nested&&this.nested[y]instanceof l)return this.nested[y].values;throw Error("no such enum: "+y)},p.prototype.add=function(y){if(!(y instanceof e&&y.extend!==void 0||y instanceof s||y instanceof i||y instanceof l||y instanceof g||y instanceof p))throw TypeError("object must be a valid nested object");if(!this.nested)this.nested={};else{var _=this.get(y.name);if(_)if(_ instanceof p&&y instanceof p&&!(_ instanceof s||_ instanceof g)){for(var S=_.nestedArray,w=0;w<S.length;++w)y.add(S[w]);this.remove(_),this.nested||(this.nested={}),y.setOptions(_.options,!0)}else throw Error("duplicate name '"+y.name+"' in "+this)}return this.nested[y.name]=y,y.onAdd(this),B(this)},p.prototype.remove=function(y){if(!(y instanceof t))throw TypeError("object must be a ReflectionObject");if(y.parent!==this)throw Error(y+" is not a member of "+this);return delete this.nested[y.name],Object.keys(this.nested).length||(this.nested=void 0),y.onRemove(this),B(this)},p.prototype.define=function(y,_){if(n.isString(y))y=y.split(".");else if(!Array.isArray(y))throw TypeError("illegal path");if(y&&y.length&&y[0]==="")throw Error("path must be relative");for(var S=this;y.length>0;){var w=y.shift();if(S.nested&&S.nested[w]){if(S=S.nested[w],!(S instanceof p))throw Error("path conflicts with non-namespace objects")}else S.add(S=new p(w))}return _&&S.addJSON(_),S},p.prototype.resolveAll=function(){for(var y=this.nestedArray,_=0;_<y.length;)y[_]instanceof p?y[_++].resolveAll():y[_++].resolve();return this.resolve()},p.prototype.lookup=function(y,_,S){if(typeof _=="boolean"?(S=_,_=void 0):_&&!Array.isArray(_)&&(_=[_]),n.isString(y)&&y.length){if(y===".")return this.root;y=y.split(".")}else if(!y.length)return this;if(y[0]==="")return this.root.lookup(y.slice(1),_);var w=this.get(y[0]);if(w){if(y.length===1){if(!_||_.indexOf(w.constructor)>-1)return w}else if(w instanceof p&&(w=w.lookup(y.slice(1),_,!0)))return w}else for(var O=0;O<this.nestedArray.length;++O)if(this._nestedArray[O]instanceof p&&(w=this._nestedArray[O].lookup(y,_,!0)))return w;return this.parent===null||S?null:this.parent.lookup(y,_)},p.prototype.lookupType=function(y){var _=this.lookup(y,[s]);if(!_)throw Error("no such type: "+y);return _},p.prototype.lookupEnum=function(y){var _=this.lookup(y,[l]);if(!_)throw Error("no such Enum '"+y+"' in "+this);return _},p.prototype.lookupTypeOrEnum=function(y){var _=this.lookup(y,[s,l]);if(!_)throw Error("no such Type or Enum '"+y+"' in "+this);return _},p.prototype.lookupService=function(y){var _=this.lookup(y,[g]);if(!_)throw Error("no such Service '"+y+"' in "+this);return _},p._configure=function(Q,y,_){s=Q,g=y,l=_},namespace}var mapfield,hasRequiredMapfield;function requireMapfield(){if(hasRequiredMapfield)return mapfield;hasRequiredMapfield=1,mapfield=i;var t=requireField();((i.prototype=Object.create(t.prototype)).constructor=i).className="MapField";var e=requireTypes(),n=requireUtil();function i(s,g,l,C,p,B){if(t.call(this,s,g,C,void 0,void 0,p,B),!n.isString(l))throw TypeError("keyType must be a string");this.keyType=l,this.resolvedKeyType=null,this.map=!0}return i.fromJSON=function(g,l){return new i(g,l.id,l.keyType,l.type,l.options,l.comment)},i.prototype.toJSON=function(g){var l=g?!!g.keepComments:!1;return n.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",l?this.comment:void 0])},i.prototype.resolve=function(){if(this.resolved)return this;if(e.mapKey[this.keyType]===void 0)throw Error("invalid key type: "+this.keyType);return t.prototype.resolve.call(this)},i.d=function(g,l,C){return typeof C=="function"?C=n.decorateType(C).name:C&&typeof C=="object"&&(C=n.decorateEnum(C).name),function(B,Q){n.decorateType(B.constructor).add(new i(Q,g,l,C))}},mapfield}var method,hasRequiredMethod;function requireMethod(){if(hasRequiredMethod)return method;hasRequiredMethod=1,method=n;var t=requireObject();((n.prototype=Object.create(t.prototype)).constructor=n).className="Method";var e=requireUtil();function n(i,s,g,l,C,p,B,Q,y){if(e.isObject(C)?(B=C,C=p=void 0):e.isObject(p)&&(B=p,p=void 0),!(s===void 0||e.isString(s)))throw TypeError("type must be a string");if(!e.isString(g))throw TypeError("requestType must be a string");if(!e.isString(l))throw TypeError("responseType must be a string");t.call(this,i,B),this.type=s||"rpc",this.requestType=g,this.requestStream=C?!0:void 0,this.responseType=l,this.responseStream=p?!0:void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=Q,this.parsedOptions=y}return n.fromJSON=function(s,g){return new n(s,g.type,g.requestType,g.responseType,g.requestStream,g.responseStream,g.options,g.comment,g.parsedOptions)},n.prototype.toJSON=function(s){var g=s?!!s.keepComments:!1;return e.toObject(["type",this.type!=="rpc"&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",g?this.comment:void 0,"parsedOptions",this.parsedOptions])},n.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),t.prototype.resolve.call(this))},method}var service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=s;var t=requireNamespace();((s.prototype=Object.create(t.prototype)).constructor=s).className="Service";var e=requireMethod(),n=requireUtil(),i=rpc;function s(l,C){t.call(this,l,C),this.methods={},this._methodsArray=null}s.fromJSON=function(C,p){var B=new s(C,p.options);if(p.methods)for(var Q=Object.keys(p.methods),y=0;y<Q.length;++y)B.add(e.fromJSON(Q[y],p.methods[Q[y]]));return p.nested&&B.addJSON(p.nested),B.comment=p.comment,B},s.prototype.toJSON=function(C){var p=t.prototype.toJSON.call(this,C),B=C?!!C.keepComments:!1;return n.toObject(["options",p&&p.options||void 0,"methods",t.arrayToJSON(this.methodsArray,C)||{},"nested",p&&p.nested||void 0,"comment",B?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=n.toArray(this.methods))}});function g(l){return l._methodsArray=null,l}return s.prototype.get=function(C){return this.methods[C]||t.prototype.get.call(this,C)},s.prototype.resolveAll=function(){for(var C=this.methodsArray,p=0;p<C.length;++p)C[p].resolve();return t.prototype.resolve.call(this)},s.prototype.add=function(C){if(this.get(C.name))throw Error("duplicate name '"+C.name+"' in "+this);return C instanceof e?(this.methods[C.name]=C,C.parent=this,g(this)):t.prototype.add.call(this,C)},s.prototype.remove=function(C){if(C instanceof e){if(this.methods[C.name]!==C)throw Error(C+" is not a member of "+this);return delete this.methods[C.name],C.parent=null,g(this)}return t.prototype.remove.call(this,C)},s.prototype.create=function(C,p,B){for(var Q=new i.Service(C,p,B),y=0,_;y<this.methodsArray.length;++y){var S=n.lcFirst((_=this._methodsArray[y]).resolve().name).replace(/[^$\w_]/g,"");Q[S]=n.codegen(["r","c"],n.isReserved(S)?S+"_":S)("return this.rpcCall(m,q,s,r,c)")({m:_,q:_.resolvedRequestType.ctor,s:_.resolvedResponseType.ctor})}return Q},service}var message=Message,util=requireMinimal();function Message(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)this[e[n]]=t[e[n]]}Message.create=function t(e){return this.$type.create(e)};Message.encode=function t(e,n){return this.$type.encode(e,n)};Message.encodeDelimited=function t(e,n){return this.$type.encodeDelimited(e,n)};Message.decode=function t(e){return this.$type.decode(e)};Message.decodeDelimited=function t(e){return this.$type.decodeDelimited(e)};Message.verify=function t(e){return this.$type.verify(e)};Message.fromObject=function t(e){return this.$type.fromObject(e)};Message.toObject=function t(e,n){return this.$type.toObject(e,n)};Message.prototype.toJSON=function t(){return this.$type.toObject(this,util.toJSONOptions)};var decoder_1,hasRequiredDecoder;function requireDecoder(){if(hasRequiredDecoder)return decoder_1;hasRequiredDecoder=1,decoder_1=s;var t=require_enum(),e=requireTypes(),n=requireUtil();function i(g){return"missing required '"+g.name+"'"}function s(g){var l=n.codegen(["r","l"],g.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(g.fieldsArray.filter(function(_){return _.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");g.group&&l("if((t&7)===4)")("break"),l("switch(t>>>3){");for(var C=0;C<g.fieldsArray.length;++C){var p=g._fieldsArray[C].resolve(),B=p.resolvedType instanceof t?"int32":p.type,Q="m"+n.safeProp(p.name);l("case %i: {",p.id),p.map?(l("if(%s===util.emptyObject)",Q)("%s={}",Q)("var c2 = r.uint32()+r.pos"),e.defaults[p.keyType]!==void 0?l("k=%j",e.defaults[p.keyType]):l("k=null"),e.defaults[B]!==void 0?l("value=%j",e.defaults[B]):l("value=null"),l("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",p.keyType)("case 2:"),e.basic[B]===void 0?l("value=types[%i].decode(r,r.uint32())",C):l("value=r.%s()",B),l("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),e.long[p.keyType]!==void 0?l('%s[typeof k==="object"?util.longToHash(k):k]=value',Q):l("%s[k]=value",Q)):p.repeated?(l("if(!(%s&&%s.length))",Q,Q)("%s=[]",Q),e.packed[B]!==void 0&&l("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",Q,B)("}else"),e.basic[B]===void 0?l(p.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",Q,C):l("%s.push(r.%s())",Q,B)):e.basic[B]===void 0?l(p.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",Q,C):l("%s=r.%s()",Q,B),l("break")("}")}for(l("default:")("r.skipType(t&7)")("break")("}")("}"),C=0;C<g._fieldsArray.length;++C){var y=g._fieldsArray[C];y.required&&l("if(!m.hasOwnProperty(%j))",y.name)("throw util.ProtocolError(%j,{instance:m})",i(y))}return l("return m")}return decoder_1}var verifier_1,hasRequiredVerifier;function requireVerifier(){if(hasRequiredVerifier)return verifier_1;hasRequiredVerifier=1,verifier_1=g;var t=require_enum(),e=requireUtil();function n(l,C){return l.name+": "+C+(l.repeated&&C!=="array"?"[]":l.map&&C!=="object"?"{k:"+l.keyType+"}":"")+" expected"}function i(l,C,p,B){if(C.resolvedType)if(C.resolvedType instanceof t){l("switch(%s){",B)("default:")("return%j",n(C,"enum value"));for(var Q=Object.keys(C.resolvedType.values),y=0;y<Q.length;++y)l("case %i:",C.resolvedType.values[Q[y]]);l("break")("}")}else l("{")("var e=types[%i].verify(%s);",p,B)("if(e)")("return%j+e",C.name+".")("}");else switch(C.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":l("if(!util.isInteger(%s))",B)("return%j",n(C,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":l("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",B,B,B,B)("return%j",n(C,"integer|Long"));break;case"float":case"double":l('if(typeof %s!=="number")',B)("return%j",n(C,"number"));break;case"bool":l('if(typeof %s!=="boolean")',B)("return%j",n(C,"boolean"));break;case"string":l("if(!util.isString(%s))",B)("return%j",n(C,"string"));break;case"bytes":l('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',B,B,B)("return%j",n(C,"buffer"));break}return l}function s(l,C,p){switch(C.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":l("if(!util.key32Re.test(%s))",p)("return%j",n(C,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":l("if(!util.key64Re.test(%s))",p)("return%j",n(C,"integer|Long key"));break;case"bool":l("if(!util.key2Re.test(%s))",p)("return%j",n(C,"boolean key"));break}return l}function g(l){var C=e.codegen(["m"],l.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),p=l.oneofsArray,B={};p.length&&C("var p={}");for(var Q=0;Q<l.fieldsArray.length;++Q){var y=l._fieldsArray[Q].resolve(),_="m"+e.safeProp(y.name);if(y.optional&&C("if(%s!=null&&m.hasOwnProperty(%j)){",_,y.name),y.map)C("if(!util.isObject(%s))",_)("return%j",n(y,"object"))("var k=Object.keys(%s)",_)("for(var i=0;i<k.length;++i){"),s(C,y,"k[i]"),i(C,y,Q,_+"[k[i]]")("}");else if(y.repeated)C("if(!Array.isArray(%s))",_)("return%j",n(y,"array"))("for(var i=0;i<%s.length;++i){",_),i(C,y,Q,_+"[i]")("}");else{if(y.partOf){var S=e.safeProp(y.partOf.name);B[y.partOf.name]===1&&C("if(p%s===1)",S)("return%j",y.partOf.name+": multiple values"),B[y.partOf.name]=1,C("p%s=1",S)}i(C,y,Q,_)}y.optional&&C("}")}return C("return null")}return verifier_1}var converter={},hasRequiredConverter;function requireConverter(){return hasRequiredConverter||(hasRequiredConverter=1,function(t){var e=t,n=require_enum(),i=requireUtil();function s(l,C,p,B){var Q=!1;if(C.resolvedType)if(C.resolvedType instanceof n){l("switch(d%s){",B);for(var y=C.resolvedType.values,_=Object.keys(y),S=0;S<_.length;++S)y[_[S]]===C.typeDefault&&!Q&&(l("default:")('if(typeof(d%s)==="number"){m%s=d%s;break}',B,B,B),C.repeated||l("break"),Q=!0),l("case%j:",_[S])("case %i:",y[_[S]])("m%s=%j",B,y[_[S]])("break");l("}")}else l('if(typeof d%s!=="object")',B)("throw TypeError(%j)",C.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",B,p,B);else{var w=!1;switch(C.type){case"double":case"float":l("m%s=Number(d%s)",B,B);break;case"uint32":case"fixed32":l("m%s=d%s>>>0",B,B);break;case"int32":case"sint32":case"sfixed32":l("m%s=d%s|0",B,B);break;case"uint64":w=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":l("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",B,B,w)('else if(typeof d%s==="string")',B)("m%s=parseInt(d%s,10)",B,B)('else if(typeof d%s==="number")',B)("m%s=d%s",B,B)('else if(typeof d%s==="object")',B)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",B,B,B,w?"true":"");break;case"bytes":l('if(typeof d%s==="string")',B)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",B,B,B)("else if(d%s.length >= 0)",B)("m%s=d%s",B,B);break;case"string":l("m%s=String(d%s)",B,B);break;case"bool":l("m%s=Boolean(d%s)",B,B);break}}return l}e.fromObject=function(C){var p=C.fieldsArray,B=i.codegen(["d"],C.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!p.length)return B("return new this.ctor");B("var m=new this.ctor");for(var Q=0;Q<p.length;++Q){var y=p[Q].resolve(),_=i.safeProp(y.name);y.map?(B("if(d%s){",_)('if(typeof d%s!=="object")',_)("throw TypeError(%j)",y.fullName+": object expected")("m%s={}",_)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",_),s(B,y,Q,_+"[ks[i]]")("}")("}")):y.repeated?(B("if(d%s){",_)("if(!Array.isArray(d%s))",_)("throw TypeError(%j)",y.fullName+": array expected")("m%s=[]",_)("for(var i=0;i<d%s.length;++i){",_),s(B,y,Q,_+"[i]")("}")("}")):(y.resolvedType instanceof n||B("if(d%s!=null){",_),s(B,y,Q,_),y.resolvedType instanceof n||B("}"))}return B("return m")};function g(l,C,p,B){if(C.resolvedType)C.resolvedType instanceof n?l("d%s=o.enums===String?(types[%i].values[m%s]===undefined?m%s:types[%i].values[m%s]):m%s",B,p,B,B,p,B,B):l("d%s=types[%i].toObject(m%s,o)",B,p,B);else{var Q=!1;switch(C.type){case"double":case"float":l("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",B,B,B,B);break;case"uint64":Q=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":l('if(typeof m%s==="number")',B)("d%s=o.longs===String?String(m%s):m%s",B,B,B)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",B,B,B,B,Q?"true":"",B);break;case"bytes":l("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",B,B,B,B,B);break;default:l("d%s=m%s",B,B);break}}return l}e.toObject=function(C){var p=C.fieldsArray.slice().sort(i.compareFieldsById);if(!p.length)return i.codegen()("return {}");for(var B=i.codegen(["m","o"],C.name+"$toObject")("if(!o)")("o={}")("var d={}"),Q=[],y=[],_=[],S=0;S<p.length;++S)p[S].partOf||(p[S].resolve().repeated?Q:p[S].map?y:_).push(p[S]);if(Q.length){for(B("if(o.arrays||o.defaults){"),S=0;S<Q.length;++S)B("d%s=[]",i.safeProp(Q[S].name));B("}")}if(y.length){for(B("if(o.objects||o.defaults){"),S=0;S<y.length;++S)B("d%s={}",i.safeProp(y[S].name));B("}")}if(_.length){for(B("if(o.defaults){"),S=0;S<_.length;++S){var w=_[S],O=i.safeProp(w.name);if(w.resolvedType instanceof n)B("d%s=o.enums===String?%j:%j",O,w.resolvedType.valuesById[w.typeDefault],w.typeDefault);else if(w.long)B("if(util.Long){")("var n=new util.Long(%i,%i,%j)",w.typeDefault.low,w.typeDefault.high,w.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",O)("}else")("d%s=o.longs===String?%j:%i",O,w.typeDefault.toString(),w.typeDefault.toNumber());else if(w.bytes){var P="["+Array.prototype.slice.call(w.typeDefault).join(",")+"]";B("if(o.bytes===String)d%s=%j",O,String.fromCharCode.apply(String,w.typeDefault))("else{")("d%s=%s",O,P)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",O,O)("}")}else B("d%s=%j",O,w.typeDefault)}B("}")}var K=!1;for(S=0;S<p.length;++S){var w=p[S],M=C._fieldsArray.indexOf(w),O=i.safeProp(w.name);w.map?(K||(K=!0,B("var ks2")),B("if(m%s&&(ks2=Object.keys(m%s)).length){",O,O)("d%s={}",O)("for(var j=0;j<ks2.length;++j){"),g(B,w,M,O+"[ks2[j]]")("}")):w.repeated?(B("if(m%s&&m%s.length){",O,O)("d%s=[]",O)("for(var j=0;j<m%s.length;++j){",O),g(B,w,M,O+"[j]")("}")):(B("if(m%s!=null&&m.hasOwnProperty(%j)){",O,w.name),g(B,w,M,O),w.partOf&&B("if(o.oneofs)")("d%s=%j",i.safeProp(w.partOf.name),w.name)),B("}")}return B("return d")}}(converter)),converter}var wrappers={};(function(t){var e=t,n=message;e[".google.protobuf.Any"]={fromObject:function(i){if(i&&i["@type"]){var s=i["@type"].substring(i["@type"].lastIndexOf("/")+1),g=this.lookup(s);if(g){var l=i["@type"].charAt(0)==="."?i["@type"].slice(1):i["@type"];return l.indexOf("/")===-1&&(l="/"+l),this.create({type_url:l,value:g.encode(g.fromObject(i)).finish()})}}return this.fromObject(i)},toObject:function(i,s){var g="type.googleapis.com/",l="",C="";if(s&&s.json&&i.type_url&&i.value){C=i.type_url.substring(i.type_url.lastIndexOf("/")+1),l=i.type_url.substring(0,i.type_url.lastIndexOf("/")+1);var p=this.lookup(C);p&&(i=p.decode(i.value))}if(!(i instanceof this.ctor)&&i instanceof n){var B=i.$type.toObject(i,s),Q=i.$type.fullName[0]==="."?i.$type.fullName.slice(1):i.$type.fullName;return l===""&&(l=g),C=l+Q,B["@type"]=C,B}return this.toObject(i,s)}}})(wrappers);var type,hasRequiredType;function requireType(){if(hasRequiredType)return type;hasRequiredType=1,type=O;var t=requireNamespace();((O.prototype=Object.create(t.prototype)).constructor=O).className="Type";var e=require_enum(),n=requireOneof(),i=requireField(),s=requireMapfield(),g=requireService(),l=message,C=reader,p=writer,B=requireUtil(),Q=requireEncoder(),y=requireDecoder(),_=requireVerifier(),S=requireConverter(),w=wrappers;function O(K,M){t.call(this,K,M),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}Object.defineProperties(O.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var K=Object.keys(this.fields),M=0;M<K.length;++M){var U=this.fields[K[M]],F=U.id;if(this._fieldsById[F])throw Error("duplicate id "+F+" in "+this);this._fieldsById[F]=U}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=B.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=B.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=O.generateConstructor(this)())},set:function(K){var M=K.prototype;M instanceof l||((K.prototype=new l).constructor=K,B.merge(K.prototype,M)),K.$type=K.prototype.$type=this,B.merge(K,l,!0),this._ctor=K;for(var U=0;U<this.fieldsArray.length;++U)this._fieldsArray[U].resolve();var F={};for(U=0;U<this.oneofsArray.length;++U)F[this._oneofsArray[U].resolve().name]={get:B.oneOfGetter(this._oneofsArray[U].oneof),set:B.oneOfSetter(this._oneofsArray[U].oneof)};U&&Object.defineProperties(K.prototype,F)}}}),O.generateConstructor=function(M){for(var U=B.codegen(["p"],M.name),F=0,W;F<M.fieldsArray.length;++F)(W=M._fieldsArray[F]).map?U("this%s={}",B.safeProp(W.name)):W.repeated&&U("this%s=[]",B.safeProp(W.name));return U("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")};function P(K){return K._fieldsById=K._fieldsArray=K._oneofsArray=null,delete K.encode,delete K.decode,delete K.verify,K}return O.fromJSON=function(M,U){var F=new O(M,U.options);F.extensions=U.extensions,F.reserved=U.reserved;for(var W=Object.keys(U.fields),ae=0;ae<W.length;++ae)F.add((typeof U.fields[W[ae]].keyType<"u"?s.fromJSON:i.fromJSON)(W[ae],U.fields[W[ae]]));if(U.oneofs)for(W=Object.keys(U.oneofs),ae=0;ae<W.length;++ae)F.add(n.fromJSON(W[ae],U.oneofs[W[ae]]));if(U.nested)for(W=Object.keys(U.nested),ae=0;ae<W.length;++ae){var _r=U.nested[W[ae]];F.add((_r.id!==void 0?i.fromJSON:_r.fields!==void 0?O.fromJSON:_r.values!==void 0?e.fromJSON:_r.methods!==void 0?g.fromJSON:t.fromJSON)(W[ae],_r))}return U.extensions&&U.extensions.length&&(F.extensions=U.extensions),U.reserved&&U.reserved.length&&(F.reserved=U.reserved),U.group&&(F.group=!0),U.comment&&(F.comment=U.comment),F},O.prototype.toJSON=function(M){var U=t.prototype.toJSON.call(this,M),F=M?!!M.keepComments:!1;return B.toObject(["options",U&&U.options||void 0,"oneofs",t.arrayToJSON(this.oneofsArray,M),"fields",t.arrayToJSON(this.fieldsArray.filter(function(W){return!W.declaringField}),M)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",U&&U.nested||void 0,"comment",F?this.comment:void 0])},O.prototype.resolveAll=function(){for(var M=this.fieldsArray,U=0;U<M.length;)M[U++].resolve();var F=this.oneofsArray;for(U=0;U<F.length;)F[U++].resolve();return t.prototype.resolveAll.call(this)},O.prototype.get=function(M){return this.fields[M]||this.oneofs&&this.oneofs[M]||this.nested&&this.nested[M]||null},O.prototype.add=function(M){if(this.get(M.name))throw Error("duplicate name '"+M.name+"' in "+this);if(M instanceof i&&M.extend===void 0){if(this._fieldsById?this._fieldsById[M.id]:this.fieldsById[M.id])throw Error("duplicate id "+M.id+" in "+this);if(this.isReservedId(M.id))throw Error("id "+M.id+" is reserved in "+this);if(this.isReservedName(M.name))throw Error("name '"+M.name+"' is reserved in "+this);return M.parent&&M.parent.remove(M),this.fields[M.name]=M,M.message=this,M.onAdd(this),P(this)}return M instanceof n?(this.oneofs||(this.oneofs={}),this.oneofs[M.name]=M,M.onAdd(this),P(this)):t.prototype.add.call(this,M)},O.prototype.remove=function(M){if(M instanceof i&&M.extend===void 0){if(!this.fields||this.fields[M.name]!==M)throw Error(M+" is not a member of "+this);return delete this.fields[M.name],M.parent=null,M.onRemove(this),P(this)}if(M instanceof n){if(!this.oneofs||this.oneofs[M.name]!==M)throw Error(M+" is not a member of "+this);return delete this.oneofs[M.name],M.parent=null,M.onRemove(this),P(this)}return t.prototype.remove.call(this,M)},O.prototype.isReservedId=function(M){return t.isReservedId(this.reserved,M)},O.prototype.isReservedName=function(M){return t.isReservedName(this.reserved,M)},O.prototype.create=function(M){return new this.ctor(M)},O.prototype.setup=function(){for(var M=this.fullName,U=[],F=0;F<this.fieldsArray.length;++F)U.push(this._fieldsArray[F].resolve().resolvedType);this.encode=Q(this)({Writer:p,types:U,util:B}),this.decode=y(this)({Reader:C,types:U,util:B}),this.verify=_(this)({types:U,util:B}),this.fromObject=S.fromObject(this)({types:U,util:B}),this.toObject=S.toObject(this)({types:U,util:B});var W=w[M];if(W){var ae=Object.create(this);ae.fromObject=this.fromObject,this.fromObject=W.fromObject.bind(ae),ae.toObject=this.toObject,this.toObject=W.toObject.bind(ae)}return this},O.prototype.encode=function(M,U){return this.setup().encode(M,U)},O.prototype.encodeDelimited=function(M,U){return this.encode(M,U&&U.len?U.fork():U).ldelim()},O.prototype.decode=function(M,U){return this.setup().decode(M,U)},O.prototype.decodeDelimited=function(M){return M instanceof C||(M=C.create(M)),this.decode(M,M.uint32())},O.prototype.verify=function(M){return this.setup().verify(M)},O.prototype.fromObject=function(M){return this.setup().fromObject(M)},O.prototype.toObject=function(M,U){return this.setup().toObject(M,U)},O.d=function(M){return function(F){B.decorateType(F,M)}},type}var root$2,hasRequiredRoot;function requireRoot(){if(hasRequiredRoot)return root$2;hasRequiredRoot=1,root$2=p;var t=requireNamespace();((p.prototype=Object.create(t.prototype)).constructor=p).className="Root";var e=requireField(),n=require_enum(),i=requireOneof(),s=requireUtil(),g,l,C;function p(_){t.call(this,"",_),this.deferred=[],this.files=[]}p.fromJSON=function(S,w){return w||(w=new p),S.options&&w.setOptions(S.options),w.addJSON(S.nested)},p.prototype.resolvePath=s.path.resolve,p.prototype.fetch=s.fetch;function B(){}p.prototype.load=function _(S,w,O){typeof w=="function"&&(O=w,w=void 0);var P=this;if(!O)return s.asPromise(_,P,S,w);var K=O===B;function M(_A,na){if(O){if(K)throw _A;var oa=O;O=null,oa(_A,na)}}function U(_A){var na=_A.lastIndexOf("google/protobuf/");if(na>-1){var oa=_A.substring(na);if(oa in C)return oa}return null}function F(_A,na){try{if(s.isString(na)&&na.charAt(0)==="{"&&(na=JSON.parse(na)),!s.isString(na))P.setOptions(na.options).addJSON(na.nested);else{l.filename=_A;var oa=l(na,P,w),ha,fa=0;if(oa.imports)for(;fa<oa.imports.length;++fa)(ha=U(oa.imports[fa])||P.resolvePath(_A,oa.imports[fa]))&&W(ha);if(oa.weakImports)for(fa=0;fa<oa.weakImports.length;++fa)(ha=U(oa.weakImports[fa])||P.resolvePath(_A,oa.weakImports[fa]))&&W(ha,!0)}}catch(Da){M(Da)}!K&&!ae&&M(null,P)}function W(_A,na){if(_A=U(_A)||_A,!(P.files.indexOf(_A)>-1)){if(P.files.push(_A),_A in C){K?F(_A,C[_A]):(++ae,setTimeout(function(){--ae,F(_A,C[_A])}));return}if(K){var oa;try{oa=s.fs.readFileSync(_A).toString("utf8")}catch(ha){na||M(ha);return}F(_A,oa)}else++ae,P.fetch(_A,function(ha,fa){if(--ae,!!O){if(ha){na?ae||M(null,P):M(ha);return}F(_A,fa)}})}}var ae=0;s.isString(S)&&(S=[S]);for(var _r=0,_t;_r<S.length;++_r)(_t=P.resolvePath("",S[_r]))&&W(_t);if(K)return P;ae||M(null,P)},p.prototype.loadSync=function(S,w){if(!s.isNode)throw Error("not supported");return this.load(S,w,B)},p.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(S){return"'extend "+S.extend+"' in "+S.parent.fullName}).join(", "));return t.prototype.resolveAll.call(this)};var Q=/^[A-Z]/;function y(_,S){var w=S.parent.lookup(S.extend);if(w){var O=new e(S.fullName,S.id,S.type,S.rule,void 0,S.options);return w.get(O.name)||(O.declaringField=S,S.extensionField=O,w.add(O)),!0}return!1}return p.prototype._handleAdd=function(S){if(S instanceof e)S.extend!==void 0&&!S.extensionField&&(y(this,S)||this.deferred.push(S));else if(S instanceof n)Q.test(S.name)&&(S.parent[S.name]=S.values);else if(!(S instanceof i)){if(S instanceof g)for(var w=0;w<this.deferred.length;)y(this,this.deferred[w])?this.deferred.splice(w,1):++w;for(var O=0;O<S.nestedArray.length;++O)this._handleAdd(S._nestedArray[O]);Q.test(S.name)&&(S.parent[S.name]=S)}},p.prototype._handleRemove=function(S){if(S instanceof e){if(S.extend!==void 0)if(S.extensionField)S.extensionField.parent.remove(S.extensionField),S.extensionField=null;else{var w=this.deferred.indexOf(S);w>-1&&this.deferred.splice(w,1)}}else if(S instanceof n)Q.test(S.name)&&delete S.parent[S.name];else if(S instanceof t){for(var O=0;O<S.nestedArray.length;++O)this._handleRemove(S._nestedArray[O]);Q.test(S.name)&&delete S.parent[S.name]}},p._configure=function(_,S,w){g=_,l=S,C=w},root$2}var hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util$1.exports;hasRequiredUtil=1;var t=util$1.exports=requireMinimal(),e=roots,n,i;t.codegen=codegen_1,t.fetch=fetch_1,t.path=path,t.fs=t.inquire("fs"),t.toArray=function(B){if(B){for(var Q=Object.keys(B),y=new Array(Q.length),_=0;_<Q.length;)y[_]=B[Q[_++]];return y}return[]},t.toObject=function(B){for(var Q={},y=0;y<B.length;){var _=B[y++],S=B[y++];S!==void 0&&(Q[_]=S)}return Q};var s=/\\/g,g=/"/g;t.isReserved=function(B){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(B)},t.safeProp=function(B){return!/^[$\w_]+$/.test(B)||t.isReserved(B)?'["'+B.replace(s,"\\\\").replace(g,'\\"')+'"]':"."+B},t.ucFirst=function(B){return B.charAt(0).toUpperCase()+B.substring(1)};var l=/_([a-z])/g;t.camelCase=function(B){return B.substring(0,1)+B.substring(1).replace(l,function(Q,y){return y.toUpperCase()})},t.compareFieldsById=function(B,Q){return B.id-Q.id},t.decorateType=function(B,Q){if(B.$type)return Q&&B.$type.name!==Q&&(t.decorateRoot.remove(B.$type),B.$type.name=Q,t.decorateRoot.add(B.$type)),B.$type;n||(n=requireType());var y=new n(Q||B.name);return t.decorateRoot.add(y),y.ctor=B,Object.defineProperty(B,"$type",{value:y,enumerable:!1}),Object.defineProperty(B.prototype,"$type",{value:y,enumerable:!1}),y};var C=0;return t.decorateEnum=function(B){if(B.$type)return B.$type;i||(i=require_enum());var Q=new i("Enum"+C++,B);return t.decorateRoot.add(Q),Object.defineProperty(B,"$type",{value:Q,enumerable:!1}),Q},t.setProperty=function(B,Q,y){function _(S,w,O){var P=w.shift();if(P==="__proto__"||P==="prototype")return S;if(w.length>0)S[P]=_(S[P]||{},w,O);else{var K=S[P];K&&(O=[].concat(K).concat(O)),S[P]=O}return S}if(typeof B!="object")throw TypeError("dst must be an object");if(!Q)throw TypeError("path must be specified");return Q=Q.split("."),_(B,Q,y)},Object.defineProperty(t,"decorateRoot",{get:function(){return e.decorated||(e.decorated=new(requireRoot()))}}),util$1.exports}var object,hasRequiredObject;function requireObject(){if(hasRequiredObject)return object;hasRequiredObject=1,object=n,n.className="ReflectionObject";var t=requireUtil(),e;function n(i,s){if(!t.isString(i))throw TypeError("name must be a string");if(s&&!t.isObject(s))throw TypeError("options must be an object");this.options=s,this.parsedOptions=null,this.name=i,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}return Object.defineProperties(n.prototype,{root:{get:function(){for(var i=this;i.parent!==null;)i=i.parent;return i}},fullName:{get:function(){for(var i=[this.name],s=this.parent;s;)i.unshift(s.name),s=s.parent;return i.join(".")}}}),n.prototype.toJSON=function(){throw Error()},n.prototype.onAdd=function(s){this.parent&&this.parent!==s&&this.parent.remove(this),this.parent=s,this.resolved=!1;var g=s.root;g instanceof e&&g._handleAdd(this)},n.prototype.onRemove=function(s){var g=s.root;g instanceof e&&g._handleRemove(this),this.parent=null,this.resolved=!1},n.prototype.resolve=function(){return this.resolved?this:(this.root instanceof e&&(this.resolved=!0),this)},n.prototype.getOption=function(s){if(this.options)return this.options[s]},n.prototype.setOption=function(s,g,l){return(!l||!this.options||this.options[s]===void 0)&&((this.options||(this.options={}))[s]=g),this},n.prototype.setParsedOption=function(s,g,l){this.parsedOptions||(this.parsedOptions=[]);var C=this.parsedOptions;if(l){var p=C.find(function(y){return Object.prototype.hasOwnProperty.call(y,s)});if(p){var B=p[s];t.setProperty(B,l,g)}else p={},p[s]=t.setProperty({},l,g),C.push(p)}else{var Q={};Q[s]=g,C.push(Q)}return this},n.prototype.setOptions=function(s,g){if(s)for(var l=Object.keys(s),C=0;C<l.length;++C)this.setOption(l[C],s[l[C]],g);return this},n.prototype.toString=function(){var s=this.constructor.className,g=this.fullName;return g.length?s+" "+g:s},n._configure=function(i){e=i},object}var _enum,hasRequired_enum;function require_enum(){if(hasRequired_enum)return _enum;hasRequired_enum=1,_enum=i;var t=requireObject();((i.prototype=Object.create(t.prototype)).constructor=i).className="Enum";var e=requireNamespace(),n=requireUtil();function i(s,g,l,C,p,B){if(t.call(this,s,l),g&&typeof g!="object")throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=C,this.comments=p||{},this.valuesOptions=B,this.reserved=void 0,g)for(var Q=Object.keys(g),y=0;y<Q.length;++y)typeof g[Q[y]]=="number"&&(this.valuesById[this.values[Q[y]]=g[Q[y]]]=Q[y])}return i.fromJSON=function(g,l){var C=new i(g,l.values,l.options,l.comment,l.comments);return C.reserved=l.reserved,C},i.prototype.toJSON=function(g){var l=g?!!g.keepComments:!1;return n.toObject(["options",this.options,"valuesOptions",this.valuesOptions,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",l?this.comment:void 0,"comments",l?this.comments:void 0])},i.prototype.add=function(g,l,C,p){if(!n.isString(g))throw TypeError("name must be a string");if(!n.isInteger(l))throw TypeError("id must be an integer");if(this.values[g]!==void 0)throw Error("duplicate name '"+g+"' in "+this);if(this.isReservedId(l))throw Error("id "+l+" is reserved in "+this);if(this.isReservedName(g))throw Error("name '"+g+"' is reserved in "+this);if(this.valuesById[l]!==void 0){if(!(this.options&&this.options.allow_alias))throw Error("duplicate id "+l+" in "+this);this.values[g]=l}else this.valuesById[this.values[g]=l]=g;return p&&(this.valuesOptions===void 0&&(this.valuesOptions={}),this.valuesOptions[g]=p||null),this.comments[g]=C||null,this},i.prototype.remove=function(g){if(!n.isString(g))throw TypeError("name must be a string");var l=this.values[g];if(l==null)throw Error("name '"+g+"' does not exist in "+this);return delete this.valuesById[l],delete this.values[g],delete this.comments[g],this.valuesOptions&&delete this.valuesOptions[g],this},i.prototype.isReservedId=function(g){return e.isReservedId(this.reserved,g)},i.prototype.isReservedName=function(g){return e.isReservedName(this.reserved,g)},_enum}var encoder_1,hasRequiredEncoder;function requireEncoder(){if(hasRequiredEncoder)return encoder_1;hasRequiredEncoder=1,encoder_1=s;var t=require_enum(),e=requireTypes(),n=requireUtil();function i(g,l,C,p){return l.resolvedType.group?g("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",C,p,(l.id<<3|3)>>>0,(l.id<<3|4)>>>0):g("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",C,p,(l.id<<3|2)>>>0)}function s(g){for(var l=n.codegen(["m","w"],g.name+"$encode")("if(!w)")("w=Writer.create()"),C,p,B=g.fieldsArray.slice().sort(n.compareFieldsById),C=0;C<B.length;++C){var Q=B[C].resolve(),y=g._fieldsArray.indexOf(Q),_=Q.resolvedType instanceof t?"int32":Q.type,S=e.basic[_];p="m"+n.safeProp(Q.name),Q.map?(l("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",p,Q.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",p)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(Q.id<<3|2)>>>0,8|e.mapKey[Q.keyType],Q.keyType),S===void 0?l("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",y,p):l(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|S,_,p),l("}")("}")):Q.repeated?(l("if(%s!=null&&%s.length){",p,p),Q.packed&&e.packed[_]!==void 0?l("w.uint32(%i).fork()",(Q.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",p)("w.%s(%s[i])",_,p)("w.ldelim()"):(l("for(var i=0;i<%s.length;++i)",p),S===void 0?i(l,Q,y,p+"[i]"):l("w.uint32(%i).%s(%s[i])",(Q.id<<3|S)>>>0,_,p)),l("}")):(Q.optional&&l("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",p,Q.name),S===void 0?i(l,Q,y,p):l("w.uint32(%i).%s(%s)",(Q.id<<3|S)>>>0,_,p))}return l("return w")}return encoder_1}var protobuf=indexLight.exports=indexMinimal;protobuf.build="light";function load(t,e,n){return typeof e=="function"?(n=e,e=new protobuf.Root):e||(e=new protobuf.Root),e.load(t,n)}protobuf.load=load;function loadSync(t,e){return e||(e=new protobuf.Root),e.loadSync(t)}protobuf.loadSync=loadSync;protobuf.encoder=requireEncoder();protobuf.decoder=requireDecoder();protobuf.verifier=requireVerifier();protobuf.converter=requireConverter();protobuf.ReflectionObject=requireObject();protobuf.Namespace=requireNamespace();protobuf.Root=requireRoot();protobuf.Enum=require_enum();protobuf.Type=requireType();protobuf.Field=requireField();protobuf.OneOf=requireOneof();protobuf.MapField=requireMapfield();protobuf.Service=requireService();protobuf.Method=requireMethod();protobuf.Message=message;protobuf.wrappers=wrappers;protobuf.types=requireTypes();protobuf.util=requireUtil();protobuf.ReflectionObject._configure(protobuf.Root);protobuf.Namespace._configure(protobuf.Type,protobuf.Service,protobuf.Enum);protobuf.Root._configure(protobuf.Type);protobuf.Field._configure(protobuf.Type);var indexLightExports=indexLight.exports,light=indexLightExports;const $root=(light.roots.default||(light.roots.default=new light.Root)).addJSON({Agora:{nested:{SpeechToText:{options:{objc_class_prefix:"Stt",csharp_namespace:"AgoraSTTSample.Protobuf",java_package:"io.agora.rtc.speech2text",java_outer_classname:"AgoraSpeech2TextProtobuffer"},nested:{Text:{fields:{vendor:{type:"int32",id:1},version:{type:"int32",id:2},seqnum:{type:"int32",id:3},uid:{type:"uint32",id:4},flag:{type:"int32",id:5},time:{type:"int64",id:6},lang:{type:"int32",id:7},starttime:{type:"int32",id:8},offtime:{type:"int32",id:9},words:{rule:"repeated",type:"Word",id:10},endOfSegment:{type:"bool",id:11},durationMs:{type:"int32",id:12},dataType:{type:"string",id:13},trans:{rule:"repeated",type:"Translation",id:14},culture:{type:"string",id:15},textTs:{type:"int64",id:16}}},Word:{fields:{text:{type:"string",id:1},startMs:{type:"int32",id:2},durationMs:{type:"int32",id:3},isFinal:{type:"bool",id:4},confidence:{type:"double",id:5}}},Translation:{fields:{isFinal:{type:"bool",id:1},lang:{type:"string",id:2},texts:{rule:"repeated",type:"string",id:3}}}}}}}});class Parser extends AGEventEmitter{constructor(){super()}praseData(e){const n=$root.Agora.SpeechToText.lookup("Text").decode(e);if(!n)return console.warn("Prase data failed.");console.log("[test] textstream praseData",n),this.emit("textstreamReceived",n)}}const parser=new Parser,appId$1="245209a8c18e4091b9579ec6f323bdbc";class RtcManager extends AGEventEmitter{constructor(){super();vS(this,"_joined");vS(this,"client");vS(this,"localTracks");this._joined=!1,this.localTracks={},this.client=AgoraRTC.createClient({mode:"rtc",codec:"vp8"}),this._listenRtcEvents(),this._listenParserStreamEvent()}async join({channel:n,userId:i}){var s;if(!this._joined){const g=await apiGetAgoraToken({channel:n,uid:i});await((s=this.client)==null?void 0:s.join(appId$1,n,g,i)),this._joined=!0}}async createTracks(){const n=await AgoraRTC.createMicrophoneAndCameraTracks();this.localTracks.audioTrack=n[0],this.localTracks.videoTrack=n[1],this.emit("localUserChanged",this.localTracks)}async publish(){if(this.localTracks.videoTrack&&this.localTracks.audioTrack)await this.client.publish([this.localTracks.videoTrack,this.localTracks.audioTrack]);else{const n="videoTrack or audioTrack is undefined";throw new Error(n)}}async destroy(){var n,i,s,g,l;(i=(n=this.localTracks)==null?void 0:n.audioTrack)==null||i.close(),(g=(s=this.localTracks)==null?void 0:s.videoTrack)==null||g.close(),this._joined&&await((l=this.client)==null?void 0:l.leave()),this._resetData()}_listenRtcEvents(){this.client.on("network-quality",n=>{this.emit("networkQuality",n)}),this.client.on("user-published",async(n,i)=>{await this.client.subscribe(n,i),i==="audio"&&this._playAudio(n.audioTrack),this.emit("remoteUserChanged",{userId:n.uid,audioTrack:n.audioTrack,videoTrack:n.videoTrack})}),this.client.on("user-unpublished",async(n,i)=>{await this.client.unsubscribe(n,i),this.emit("remoteUserChanged",{userId:n.uid,audioTrack:n.audioTrack,videoTrack:n.videoTrack})}),this.client.on("stream-message",(n,i)=>{parser.praseData(i)})}_playAudio(n){n&&!n.isPlaying&&n.play()}_listenParserStreamEvent(){parser.on("textstreamReceived",n=>{this.emit("textstreamReceived",n)})}_resetData(){this.localTracks={},this._joined=!1}}class SttManager extends AGEventEmitter{constructor(n){super();vS(this,"option");vS(this,"userId","");vS(this,"channel","");vS(this,"rtmManager");vS(this,"_init",!1);const{rtmManager:i}=n;this.rtmManager=i}get hasInit(){return this._init}setOption(n){this.option=n}removeOption(){this.option=void 0}async init({userId:n,channel:i,userName:s}){this.userId=n,this.channel=i,await this.rtmManager.join({userId:n+"",userName:s,channel:i}),this._init=!0}async startTranscription(n){if(!this.hasInit)throw new Error("please init first");const{languages:i}=n;if(i.length){await this.rtmManager.acquireLock();try{const g=(await apiSTTAcquireToken({channel:this.channel,uid:this.userId})).tokenName,l=await apiSTTStartTranscription({uid:this.userId,channel:this.channel,languages:n.languages,token:g}),{taskId:C}=l;this.setOption({token:g,taskId:C}),await Promise.all([this.rtmManager.updateLanguages(i),this.rtmManager.updateSttData({status:"start",taskId:C,token:g,startTime:Date.now(),duration:EXPERIENCE_DURATION})])}catch(s){throw await this.rtmManager.releaseLock(),s}await this.rtmManager.releaseLock()}}async stopTranscription(){if(!this.hasInit)throw new Error("please init first");const{taskId:n,token:i}=this.option||{};if(!n)throw new Error("taskId is not found");if(!i)throw new Error("token is not found");await this.rtmManager.acquireLock();try{await apiSTTStopTranscription({taskId:n,token:i,uid:this.userId,channel:this.channel}),await this.rtmManager.updateSttData({status:"end"})}catch(s){throw await this.rtmManager.releaseLock(),s}await this.rtmManager.releaseLock()}async queryTranscription(){const{taskId:n,token:i}=this.option||{};if(!n)throw new Error("taskId is not found");if(!i)throw new Error("token is not found");return await apiSTTQueryTranscription({taskId:n,token:i,uid:this.userId,channel:this.channel})}async updateTranscription(n){const{data:i,updateMaskList:s}=n,{taskId:g,token:l}=this.option||{};if(!g)throw new Error("taskId is not found");if(!l)throw new Error("token is not found");return await apiSTTUpdateTranscription({taskId:g,token:l,uid:this.userId,channel:this.channel,data:i,updateMaskList:s})}async extendDuration({startTime:n,duration:i}){const s={};n&&(s.startTime=n),i&&(s.duration=i),await this.rtmManager.updateSttData(s)}async destroy(){await this.rtmManager.destroy(),this.option=void 0,this.userId="",this.channel="",this._init=!1}}var agoraRtm={exports:{}};agoraRtm.exports;(function(module,exports){var define_process_env_default={};/*
	 @preserve
	 AgoraRTM Web SDK 2.1.9 - commit: v2.1.9-0-g612079de
	 Copyright (C) 2018-2024 Agora Lab.
	 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
	 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
	 *****************************************************************************
	  Copyright (c) Microsoft Corporation.

	  Permission to use, copy, modify, and/or distribute this software for any
	  purpose with or without fee is hereby granted.

	  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	  PERFORMANCE OF THIS SOFTWARE.
	*****************************************************************************/(function(t,e){module.exports=e(AgoraRTC_NProductionExports)})(commonjsGlobal,function(be){function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function lb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(i){E(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Ia(t){return(Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Np(t,e,n,i,s,g,l){try{var C=t[g](l),p=C.value}catch(B){return void n(B)}C.done?e(p):Promise.resolve(p).then(i,s)}function wa(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){function g(p){Np(C,i,s,g,l,"next",p)}function l(p){Np(C,i,s,g,l,"throw",p)}var C=t.apply(e,n);g(void 0)})}}function Xa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Op(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Db(t,e,n){return e&&Op(t.prototype,e),n&&Op(t,n),t}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rb(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Eh(t,e)}function Af(t){return(Af=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Eh(t,e){return(Eh=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n})(t,e)}function Pp(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nl(t,e,n){return(nl=Pp()?Reflect.construct:function(i,s,g){var l=[null];return l.push.apply(l,s),i=new(Function.bind.apply(i,l)),g&&Eh(i,g.prototype),i}).apply(null,arguments)}function Fh(t){var e=typeof Map=="function"?new Map:void 0;return(Fh=function(n){function i(){return nl(n,arguments,Af(this).constructor)}if(n===null||Function.toString.call(n).indexOf("[native code]")===-1)return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Eh(i,n)})(t)}function Qp(t,e){if(t==null)return{};if(t==null)var n={};else{n={};var i,s=Object.keys(t);for(i=0;i<s.length;i++){var g=s[i];0<=e.indexOf(g)||(n[g]=t[g])}}if(Object.getOwnPropertySymbols)for(i=Object.getOwnPropertySymbols(t),g=0;g<i.length;g++)s=i[g],0<=e.indexOf(s)||Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s]);return n}function J(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sb(t){var e=Pp();return function(){var n=Af(t);if(e){var i=Af(this).constructor;n=Reflect.construct(n,arguments,i)}else n=n.apply(this,arguments);return n=!n||typeof n!="object"&&typeof n!="function"?J(this):n}}function ol(t,e,n){return(ol=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(i,s,g){for(;!Object.prototype.hasOwnProperty.call(i,s)&&(i=Af(i))!==null;);if(i)return(s=Object.getOwnPropertyDescriptor(i,s)).get?s.get.call(g):s.value})(t,e,n||t)}function vc(t,e){var n=Array.isArray(t)?t:void 0;if(!n)if((n=t&&(typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"]))==null)n=void 0;else{var i,s=[],g=!0,l=!1;try{for(n=n.call(t);!(g=(i=n.next()).done)&&(s.push(i.value),!e||s.length!==e);g=!0);}catch(p){l=!0;var C=p}finally{try{g||n.return==null||n.return()}finally{if(l)throw C}}n=s}if(!(t=n||Rp(t,e)))throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return t}function ta(t){var e=Array.isArray(t)?pl(t):void 0;if(e||(e=typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null?Array.from(t):void 0),!(t=e||Rp(t)))throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return t}function Rp(t,e){if(t){if(typeof t=="string")return pl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pl(t,e)}}function pl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function ab(t,e,n,i,s){var g={};return Object.keys(i).forEach(function(l){g[l]=i[l]}),g.enumerable=!!g.enumerable,g.configurable=!!g.configurable,("value"in g||g.initializer)&&(g.writable=!0),g=n.slice().reverse().reduce(function(l,C){return C(t,e,l)||l},g),s&&g.initializer!==void 0&&(g.value=g.initializer?g.initializer.call(s):void 0,g.initializer=void 0),g.initializer===void 0&&(Object.defineProperty(t,e,g),g=null),g}function Sp(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),e}function Ua(t){var e={exports:{}};return t(e,e.exports),e.exports}function Tp(t,e){var n=typeof e=="number"?e:e!==void 0&&typeof e!="string"?e.code:void 0;return e=typeof e!="number"&&typeof e!="string"&&e!==void 0&&e.serverCode!==void 0?e.serverCode:void 0,n="".concat(n!==void 0?"Error Code ".concat(n):"").concat(e!==void 0?", server Code ".concat(e):""),t=typeof t=="string"&&t?ng(t):Array.isArray(t)&&typeof t[0]=="string"&&t[0]?ng(ql.apply(void 0,[t[0]].concat(ta(t.slice(1))))):"","".concat(n===""?"":"".concat(n," - ")).concat(t)}function Re(t){return Object.prototype.toString.call(t).slice(8,-1)}function rl(t){return Re(t)==="Object"&&t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Up(t){var e;return(e=Re(t)==="Boolean"||Re(t)==="Null"||Re(t)==="Undefined")||(e=Re(t)==="Number"&&!isNaN(t)),e||Re(t)==="String"||Re(t)==="Symbol"}function og(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Bf(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function pg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function qg(t){this.size=(this.__data__=new dj(t)).size}function Gh(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ej;++e<n;)this.add(t[e])}function rg(t,e,n,i,s){if(t===e)e=!0;else if(t==null||e==null||!ce(t)&&!ce(e))e=t!=t&&e!=e;else e:{var g=Dc(t),l=Dc(e),C=g?"[object Array]":Hh(t),p=l?"[object Array]":Hh(e),B=(C=C=="[object Arguments]"?"[object Object]":C)=="[object Object]";if(l=(p=p=="[object Arguments]"?"[object Object]":p)=="[object Object]",(p=C==p)&&Ih(t)){if(!Ih(e)){e=!1;break e}g=!0,B=!1}if(p&&!B)s||(s=new sg),e=g||sl(t)?Vp(t,e,n,i,rg,s):Fy(t,e,C,n,i,rg,s);else{if(!(1&n)&&(g=B&&Wp.call(t,"__wrapped__"),C=l&&Wp.call(e,"__wrapped__"),g||C)){t=g?t.value():t,e=C?e.value():e,s||(s=new sg),e=rg(t,e,n,i,s);break e}if(p)t:if(s||(s=new sg),g=1&n,C=tl(t),l=C.length,p=tl(e).length,l==p||g){for(p=l;p--;){var Q=C[p];if(!(g?Q in e:Gy.call(e,Q))){e=!1;break t}}if(B=s.get(t),Q=s.get(e),B&&Q)e=B==e&&Q==t;else{B=!0,s.set(t,e),s.set(e,t);for(var y=g;++p<l;){var _=t[Q=C[p]],S=e[Q];if(i)var w=g?i(S,_,Q,e,t,s):i(_,S,Q,t,e,s);if(w===void 0?_!==S&&!rg(_,S,n,i,s):!w){B=!1;break}y||(y=Q=="constructor")}B&&!y&&(n=t.constructor)!=(i=e.constructor)&&"constructor"in t&&"constructor"in e&&!(typeof n=="function"&&n instanceof n&&typeof i=="function"&&i instanceof i)&&(B=!1),s.delete(t),s.delete(e),e=B}}else e=!1;else e=!1}}return e}function ul(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function i(){var s=arguments,g=e?e.apply(this,s):s[0],l=i.cache;return l.has(g)?l.get(g):(s=t.apply(this,s),i.cache=l.set(g,s)||l,s)};return n.cache=new(ul.Cache||ej),n}function vl(t){if(typeof t=="string")return t;if(Dc(t))return Cf(t,vl)+"";if(tg(t))return Xp?Xp.call(t):"";var e=t+"";return e=="0"&&1/t==-Hy?"-0":e}function wl(t,e,n,i,s){var g=-1,l=t.length;for(n||(n=Iy),s||(s=[]);++g<l;){var C=t[g];n(C)?xl(s,C):s[s.length]=C}return s}function de(t,e,n,i,s,g){var l,C=1&e,p=2&e,B=4&e;if(n&&(l=s?n(t,i,s,g):n(t)),l!==void 0)return l;if(!Ic(t))return t;if(i=Dc(t)){if(l=Jy(t),!C)return yl(t,l)}else{var Q=Hh(t),y=Q=="[object Function]"||Q=="[object GeneratorFunction]";if(Ih(t))return Yp(t,C);if(Q=="[object Object]"||Q=="[object Arguments]"||y&&!s){if(l=p||y?{}:Zp(t),!C)return p?Ky(t,Ly(l,t)):My(t,Ny(l,t))}else{if(!Mb[Q])return s?t:{};l=Oy(t,Q,C)}}if(g||(g=new sg),s=g.get(t))return s;g.set(t,l),Py(t)?t.forEach(function(S){l.add(de(S,e,n,S,t,g))}):Qy(t)&&t.forEach(function(S,w){l.set(w,de(S,e,n,w,t,g))}),p=B?p?zl:tl:p?Jh:Df;var _=i?void 0:p(t);return Ry(_||t,function(S,w){_&&(S=t[w=S]),Al(l,w,de(S,e,n,w,t,g))}),l}function $p(t,e,n,i,s){t!==e&&aq(e,function(g,l){if(s||(s=new sg),Ic(g)){g=s;var C=Bl(t,l),p=Bl(e,l),B=g.get(p);if(B)Cl(t,l,B);else{var Q=(B=i?i(C,p,l+"",t,e,g):void 0)===void 0;if(Q){var y=Dc(p),_=!y&&Ih(p),S=!y&&!_&&sl(p);B=p,y||_||S?Dc(C)?B=C:ce(C)&&Ef(C)?B=yl(C):_?(Q=!1,B=Yp(p,!0)):S?(Q=!1,B=bq(p,!0)):B=[]:cq(p)||Kh(p)?(B=C,Kh(C)?B=ug(C,Jh(C)):Ic(C)&&!Dl(C)||(B=Zp(p))):Q=!1}Q&&(g.set(p,B),$p(B,p,n,i,g),g.delete(p)),Cl(t,l,B)}}else(C=i?i(Bl(t,l),g,l+"",t,e,s):void 0)===void 0&&(C=g),Cl(t,l,C)},Jh)}function Tb(t,e,n){this.low=0|t,this.high=0|e,this.unsigned=!!n}function Wc(t){return(t&&t.__isLong__)===!0}function Ff(t,e){var n;if(e){if((e=0<=(t>>>=0)&&256>t)&&(n=dq[t]))return n;n=Nb(t,0>(0|t)?-1:0,!0),e&&(dq[t]=n)}else{if((e=-128<=(t|=0)&&128>t)&&(n=eq[t]))return n;n=Nb(t,0>t?-1:0,!1),e&&(eq[t]=n)}return n}function wd(t,e){if(isNaN(t))return e?Gf:xd;if(e){if(0>t)return Gf;if(t>=fq)return gq}else{if(t<=-hq)return Xc;if(t+1>=hq)return iq}return 0>t?wd(-t,e).neg():Nb(t%4294967296|0,t/4294967296|0,e)}function Nb(t,e,n){return new Tb(t,e,n)}function El(t,e,n){if(t.length===0)throw Error("empty string");if(t==="NaN"||t==="Infinity"||t==="+Infinity"||t==="-Infinity")return xd;if(typeof e=="number"?(n=e,e=!1):e=!!e,2>(n=n||10)||36<n)throw RangeError("radix");var i;if(0<(i=t.indexOf("-")))throw Error("interior hyphen");if(i===0)return El(t.substring(1),e,n).neg();i=wd(fj(n,8));for(var s=xd,g=0;g<t.length;g+=8){var l=Math.min(8,t.length-g),C=parseInt(t.substring(g,g+l),n);8>l?(l=wd(fj(n,l)),s=s.mul(l).add(wd(C))):s=(s=s.mul(i)).add(wd(C))}return s.unsigned=e,s}function Ld(t,e){return typeof t=="number"?wd(t,e):typeof t=="string"?El(t,e):Nb(t.low,t.high,typeof e=="boolean"?e:t.unsigned)}function vg(t,e){x.cipher.registerAlgorithm(t,function(){return new x.aes.Algorithm(t,e)})}function jq(){Fl=!0,kq=[0,1,2,4,8,16,32,64,128,27,54];for(var t=Array(256),e=0;128>e;++e)t[e]=e<<1,t[e+128]=e+128<<1^283;for(Oc=Array(256),Gl=Array(256),Hf=Array(4),Md=Array(4),e=0;4>e;++e)Hf[e]=Array(256),Md[e]=Array(256);var n=0,i=0;for(e=0;256>e;++e){var s=i^i<<1^i<<2^i<<3^i<<4;s=s>>8^255&s^99,Oc[n]=s,Gl[s]=n;var g=t[s],l=t[n],C=t[l],p=t[C];g^=g<<24^s<<16^s<<8^s,C=(l^C^p)<<24^(n^p)<<16^(n^C^p)<<8^n^l^p;for(var B=0;4>B;++B)Hf[B][n]=g,Md[B][s]=C,g=g<<24|g>>>8,C=C<<24|C>>>8;n===0?n=i=1:(n=l^t[t[t[l^p]]],i^=t[t[i]])}}function lq(t,e){for(var n,i=1,s=(t=t.slice(0)).length,g=wg*(s+6+1),l=s;l<g;++l)n=t[l-1],l%s==0?(n=Oc[n>>>16&255]<<24^Oc[n>>>8&255]<<16^Oc[255&n]<<8^Oc[n>>>24]^kq[i]<<24,i++):6<s&&l%s==4&&(n=Oc[n>>>24]<<24^Oc[n>>>16&255]<<16^Oc[n>>>8&255]<<8^Oc[255&n]),t[l]=t[l-s]^n;if(e){n=Md[0],i=Md[1],s=Md[2];var C=Md[3],p=t.slice(0);l=0;for(var B=(g=t.length)-wg;l<g;l+=wg,B-=wg)if(l===0||l===g-wg)p[l]=t[B],p[l+1]=t[B+3],p[l+2]=t[B+2],p[l+3]=t[B+1];else for(var Q=0;Q<wg;++Q)e=t[B+Q],p[l+(3&-Q)]=n[Oc[e>>>24]]^i[Oc[e>>>16&255]]^s[Oc[e>>>8&255]]^C[Oc[255&e]];t=p}return t}function Hl(t,e,n,i){var s=t.length/4-1;if(i)var g=Md[0],l=Md[1],C=Md[2],p=Md[3],B=Gl;else g=Hf[0],l=Hf[1],C=Hf[2],p=Hf[3],B=Oc;var Q=e[0]^t[0],y=e[i?3:1]^t[1],_=e[2]^t[2];e=e[i?1:3]^t[3];for(var S=3,w=1;w<s;++w){var O=g[Q>>>24]^l[y>>>16&255]^C[_>>>8&255]^p[255&e]^t[++S],P=g[y>>>24]^l[_>>>16&255]^C[e>>>8&255]^p[255&Q]^t[++S],K=g[_>>>24]^l[e>>>16&255]^C[Q>>>8&255]^p[255&y]^t[++S];e=g[e>>>24]^l[Q>>>16&255]^C[y>>>8&255]^p[255&_]^t[++S],Q=O,y=P,_=K}n[0]=B[Q>>>24]<<24^B[y>>>16&255]<<16^B[_>>>8&255]<<8^B[255&e]^t[++S],n[i?3:1]=B[y>>>24]<<24^B[_>>>16&255]<<16^B[e>>>8&255]<<8^B[255&Q]^t[++S],n[2]=B[_>>>24]<<24^B[e>>>16&255]<<16^B[Q>>>8&255]<<8^B[255&y]^t[++S],n[i?1:3]=B[e>>>24]<<24^B[Q>>>16&255]<<16^B[y>>>8&255]<<8^B[255&_]^t[++S]}function gj(t){var e="AES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=t.decrypt?x.cipher.createDecipher(e,t.key):x.cipher.createCipher(e,t.key),i=n.start;return n.start=function(s,g){var l=null;g instanceof x.util.ByteBuffer&&(l=g,g={}),(g=g||{}).output=l,g.iv=s,i.call(n,g)},n}function ee(t,e){x.cipher.registerAlgorithm(t,function(){return new x.des.Algorithm(t,e)})}function mq(t,e,n,i){var s=t.length===32?3:9;i=s===3?i?[30,-2,-2]:[0,32,2]:i?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var g=e[0],l=e[1];g^=(e=252645135&(g>>>4^l))<<4,g^=(e=65535&(g>>>16^(l^=e)))<<16,g^=e=858993459&((l^=e)>>>2^g),g^=e=16711935&((l^=e<<2)>>>8^g),g=(g^=(e=1431655765&(g>>>1^(l^=e<<8)))<<1)<<1|g>>>31,l=(l^=e)<<1|l>>>31;for(var C=0;C<s;C+=3){for(var p=i[C+1],B=i[C+2],Q=i[C];Q!=p;Q+=B){var y=l^t[Q],_=(l>>>4|l<<28)^t[Q+1];e=g,g=l,l=e^(Sy[y>>>24&63]|Ty[y>>>16&63]|Uy[y>>>8&63]|Vy[63&y]|Wy[_>>>24&63]|Xy[_>>>16&63]|Yy[_>>>8&63]|Zy[63&_])}e=g,g=l,l=e}g=g>>>1|g<<31,g^=(e=1431655765&(g>>>1^(l=l>>>1|l<<31)))<<1,g^=e=16711935&((l^=e)>>>8^g),g^=e=858993459&((l^=e<<8)>>>2^g),e=252645135&((g^=(e=65535&(g>>>16^(l^=e<<2)))<<16)>>>4^(l^=e)),n[0]=g^e<<4,n[1]=l^e}function hj(t){var e="DES-"+((t=t||{}).mode||"CBC").toUpperCase(),n=t.decrypt?x.cipher.createDecipher(e,t.key):x.cipher.createCipher(e,t.key),i=n.start;return n.start=function(s,g){var l=null;g instanceof x.util.ByteBuffer&&(l=g,g={}),(g=g||{}).output=l,g.iv=s,i.call(n,g)},n}function qa(t,e,n){this.data=[],t!=null&&(typeof t=="number"?this.fromNumber(t,e,n):e==null&&typeof t!="string"?this.fromString(t,256):this.fromString(t,e))}function ub(){return new qa(null)}function $y(t,e,n,i,s,g){for(;0<=--g;){var l=e*this.data[t++]+n.data[i]+s;s=Math.floor(l/67108864),n.data[i++]=67108863&l}return s}function az(t,e,n,i,s,g){var l=32767&e;for(e>>=15;0<=--g;){var C=32767&this.data[t],p=this.data[t++]>>15,B=e*C+p*l;s=((C=l*C+((32767&B)<<15)+n.data[i]+(1073741823&s))>>>30)+(B>>>15)+e*p+(s>>>30),n.data[i++]=1073741823&C}return s}function nq(t,e,n,i,s,g){var l=16383&e;for(e>>=14;0<=--g;){var C=16383&this.data[t],p=this.data[t++]>>14,B=e*C+p*l;s=((C=l*C+((16383&B)<<14)+n.data[i]+s)>>28)+(B>>14)+e*p,n.data[i++]=268435455&C}return s}function oq(t,e){return(t=ij[t.charCodeAt(e)])==null?-1:t}function Se(t){var e=ub();return e.fromInt(t),e}function jj(t){var e,n=1;return(e=t>>>16)!=0&&(t=e,n+=16),(e=t>>8)!=0&&(t=e,n+=8),(e=t>>4)!=0&&(t=e,n+=4),(e=t>>2)!=0&&(t=e,n+=2),t>>1&&(n+=1),n}function If(t){this.m=t}function Jf(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function bz(t,e){return t&e}function Il(t,e){return t|e}function pq(t,e){return t^e}function qq(t,e){return t&~e}function Lh(){}function rq(t){return t}function xg(t){this.r2=ub(),this.q3=ub(),qa.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function cz(){return{nextBytes:function(t){for(var e=0;e<t.length;++e)t[e]=Math.floor(256*Math.random())}}}function sq(t,e,n){var i=x.util.createBuffer();if(e=Math.ceil(e.n.bitLength()/8),t.length>e-11)throw(i=Error("Message is too long for PKCS#1 v1.5 padding.")).length=t.length,i.max=e-11,i;if(i.putByte(0),i.putByte(n),e=e-3-t.length,n===0||n===1){n=n===0?0:255;for(var s=0;s<e;++s)i.putByte(n)}else for(;0<e;){var g=0,l=x.random.getBytes(e);for(s=0;s<e;++s)(n=l.charCodeAt(s))===0?++g:i.putByte(n);e=g}return i.putByte(0),i.putBytes(t),i}function kj(t,e,n,i){e=Math.ceil(e.n.bitLength()/8);var s=(t=x.util.createBuffer(t)).getByte(),g=t.getByte();if(s!==0||n&&g!==0&&g!==1||!n&&g!=2||n&&g===0&&i===void 0)throw Error("Encryption block is invalid.");if(n=0,g===0){for(n=e-3-i,i=0;i<n;++i)if(t.getByte()!==0)throw Error("Encryption block is invalid.")}else if(g===1)for(n=0;1<t.length();){if(t.getByte()!==255){--t.read;break}++n}else if(g===2)for(n=0;1<t.length();){if(t.getByte()===0){--t.read;break}++n}if(t.getByte()!==0||n!==e-3-t.length())throw Error("Encryption block is invalid.");return t.getBytes()}function dz(t,e,n){function i(){s(t.pBits,function(C,p){return C?n(C):(t.p=p,t.q!==null?g(C,t.q):void s(t.qBits,g))})}function s(C,p){x.prime.generateProbablePrime(C,l,p)}function g(C,p){if(C)return n(C);t.q=p,0>t.p.compareTo(t.q)&&(C=t.p,t.p=t.q,t.q=C),t.p.subtract(vb.ONE).gcd(t.e).compareTo(vb.ONE)!==0?(t.p=null,i()):t.q.subtract(vb.ONE).gcd(t.e).compareTo(vb.ONE)!==0?(t.q=null,s(t.qBits,g)):(t.p1=t.p.subtract(vb.ONE),t.q1=t.q.subtract(vb.ONE),t.phi=t.p1.multiply(t.q1),t.phi.gcd(t.e).compareTo(vb.ONE)!==0?(t.p=t.q=null,i()):(t.n=t.p.multiply(t.q),t.n.bitLength()!==t.bits?(t.q=null,s(t.qBits,g)):(C=t.e.modInverse(t.phi),t.keys={privateKey:Ya.rsa.setPrivateKey(t.n,t.e,C,t.p,t.q,C.mod(t.p1),C.mod(t.q1),t.q.modInverse(t.p)),publicKey:Ya.rsa.setPublicKey(t.n,t.e)},n(null,t.keys))))}typeof e=="function"&&(n=e,e={});var l={algorithm:{name:(e=e||{}).algorithm||"PRIMEINC",options:{workers:e.workers||2,workLoad:e.workLoad||100,workerScript:e.workerScript}}};"prng"in e&&(l.prng=e.prng),i()}function fe(t){return"8"<=(t=t.toString(16))[0]&&(t="00"+t),1<(t=x.util.hexToBytes(t)).length&&(t.charCodeAt(0)===0&&!(128&t.charCodeAt(1))||t.charCodeAt(0)===255&&(128&t.charCodeAt(1))==128)?t.substr(1):t}function ez(t){return 100>=t?27:150>=t?18:200>=t?15:250>=t?12:300>=t?9:350>=t?8:400>=t?7:500>=t?6:600>=t?5:800>=t?4:1250>=t?3:2}function tq(t){return yd.globalScope!==void 0&&Ia(yd.globalScope.crypto)==="object"&&Ia(yd.globalScope.crypto.subtle)==="object"&&typeof yd.globalScope.crypto.subtle[t]=="function"}function uq(t){return yd.globalScope!==void 0&&Ia(yd.globalScope.msCrypto)==="object"&&Ia(yd.globalScope.msCrypto.subtle)==="object"&&typeof yd.globalScope.msCrypto.subtle[t]=="function"}function vq(t){t=x.util.hexToBytes(t.toString(16));for(var e=new Uint8Array(t.length),n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e}function wq(t,e){return t.start().update(e).digest().getBytes()}function xq(t){if(t){var e=bb.oids[ka.derToOid(t)];if(!e)throw(e=Error("Unsupported PRF OID.")).oid=t,e.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],e}else e="hmacWithSHA1";return yq(e)}function yq(t){var e=x.md;switch(t){case"hmacWithSHA224":e=x.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":t=t.substr(8).toLowerCase();break;default:throw(e=Error("Unsupported PRF algorithm.")).algorithm=t,e.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],e}if(!e||!(t in e))throw Error("Unknown hash algorithm: "+t);return e[t].create()}function ve(t){var e=t.message;if(e instanceof Uint8Array||e instanceof Yc)return e;var n=t.encoding;if(e===void 0){if(!t.md)throw new TypeError('"options.message" or "options.md" not specified.');e=t.md.digest().getBytes(),n="binary"}if(typeof e=="string"&&!n)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if(typeof e=="string"){if(typeof Buffer<"u")return Buffer.from(e,n);e=new Jl(e,n)}else if(!(e instanceof Jl))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(t=new Yc(e.length()),n=0;n<t.length;++n)t[n]=e.at(n);return t}function Mh(t,e){var n=x.md.sha512.create();if(t=new Jl(t),n.update(t.getBytes(e),"binary"),e=n.digest().getBytes(),typeof Buffer<"u")return Buffer.from(e,"binary");for(n=new Yc(mb.constants.HASH_BYTE_LENGTH),t=0;64>t;++t)n[t]=e.charCodeAt(t);return n}function zq(t,e){var n,i;for(n=63;32<=n;--n){var s=0,g=n-32;for(i=n-12;g<i;++g)e[g]+=s-16*e[n]*Kl[g-(n-32)],s=e[g]+128>>8,e[g]-=256*s;e[g]+=s,e[n]=0}for(g=s=0;32>g;++g)e[g]+=s-(e[31]>>4)*Kl[g],s=e[g]>>8,e[g]&=255;for(g=0;32>g;++g)e[g]-=s*Kl[g];for(n=0;32>n;++n)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function Ll(t){for(var e=new Float64Array(64),n=0;64>n;++n)e[n]=t[n],t[n]=0;zq(t,e)}function Ml(t,e){var n=Ta(),i=Ta(),s=Ta(),g=Ta(),l=Ta(),C=Ta(),p=Ta(),B=Ta(),Q=Ta();yg(n,t[1],t[0]),yg(Q,e[1],e[0]),wb(n,n,Q),zg(i,t[0],t[1]),zg(Q,e[0],e[1]),wb(i,i,Q),wb(s,t[3],e[3]),wb(s,s,fz),wb(g,t[2],e[2]),zg(g,g,g),yg(l,i,n),yg(C,g,s),zg(p,g,s),zg(B,i,n),wb(t[0],l,C),wb(t[1],B,p),wb(t[2],p,C),wb(t[3],l,B)}function Nl(t,e){var n,i=Ta(),s=Ta(),g=Ta(),l=e[2],C=Ta();for(n=0;16>n;++n)C[n]=l[n];for(n=253;0<=n;--n)wb(C,C,C),n!==2&&n!==4&&wb(C,C,l);for(n=0;16>n;++n)g[n]=C[n];wb(i,e[0],g),wb(s,e[1],g),lj(t,s),t[31]^=Aq(i)<<7}function lj(t,e){var n,i=Ta(),s=Ta();for(n=0;16>n;++n)s[n]=e[n];for(Ol(s),Ol(s),Ol(s),e=0;2>e;++e){for(i[0]=s[0]-65517,n=1;15>n;++n)i[n]=s[n]-65535-(i[n-1]>>16&1),i[n-1]&=65535;i[15]=s[15]-32767-(i[14]>>16&1),n=i[15]>>16&1,i[14]&=65535,Pl(s,i,1-n)}for(n=0;16>n;n++)t[2*n]=255&s[n],t[2*n+1]=s[n]>>8}function Bq(t,e){var n=new Yc(32),i=new Yc(32);return lj(n,t),lj(i,e),Cq(n,0,i,0)}function Cq(t,e,n,i){var s,g=0;for(s=0;32>s;++s)g|=t[e+s]^n[i+s];return(1&g-1>>>8)-1}function Aq(t){var e=new Yc(32);return lj(e,t),1&e[0]}function Dq(t,e,n){var i;for(Te(t[0],Ql),Te(t[1],mj),Te(t[2],mj),Te(t[3],Ql),i=255;0<=i;--i){for(var s=n[i/8|0]>>(7&i)&1,g=t,l=e,C=s,p=0;4>p;++p)Pl(g[p],l[p],C);for(Ml(e,t),Ml(t,t),g=t,l=e,C=0;4>C;++C)Pl(g[C],l[C],s)}}function Rl(t,e){var n=[Ta(),Ta(),Ta(),Ta()];Te(n[0],Eq),Te(n[1],Fq),Te(n[2],mj),wb(n[3],Eq,Fq),Dq(t,n,e)}function Te(t,e){var n;for(n=0;16>n;n++)t[n]=0|e[n]}function Ol(t){var e,n=1;for(e=0;16>e;++e){var i=t[e]+n+65535;n=Math.floor(i/65536),t[e]=i-65536*n}t[0]+=n-1+37*(n-1)}function Pl(t,e,n){for(var i=~(n-1),s=0;16>s;++s)n=i&(t[s]^e[s]),t[s]^=n,e[s]^=n}function Ta(t){var e,n=new Float64Array(16);if(t)for(e=0;e<t.length;++e)n[e]=t[e];return n}function zg(t,e,n){for(var i=0;16>i;++i)t[i]=e[i]+n[i]}function yg(t,e,n){for(var i=0;16>i;++i)t[i]=e[i]-n[i]}function wb(t,e,n){var i=n[0],s=n[1],g=n[2],l=n[3],C=n[4],p=n[5],B=n[6],Q=n[7],y=n[8],_=n[9],S=n[10],w=n[11],O=n[12],P=n[13],K=n[14],M=n[15],U=(n=e[0])*i,F=n*s,W=n*g,ae=n*l,_r=n*C,_t=n*p,_A=n*B,na=n*Q,oa=n*y,ha=n*_,fa=n*S,Da=n*w,ga=n*O,ma=n*P,Ra=n*K,$a=n*M;F+=(n=e[1])*i,W+=n*s,ae+=n*g,_r+=n*l,_t+=n*C,_A+=n*p,na+=n*B,oa+=n*Q,ha+=n*y,fa+=n*_,Da+=n*S,ga+=n*w,ma+=n*O,Ra+=n*P,$a+=n*K;var Ka=n*M;W+=(n=e[2])*i,ae+=n*s,_r+=n*g,_t+=n*l,_A+=n*C,na+=n*p,oa+=n*B,ha+=n*Q,fa+=n*y,Da+=n*_,ga+=n*S,ma+=n*w,Ra+=n*O,$a+=n*P,Ka+=n*K;var _u=n*M;ae+=(n=e[3])*i,_r+=n*s,_t+=n*g,_A+=n*l,na+=n*C,oa+=n*p,ha+=n*B,fa+=n*Q,Da+=n*y,ga+=n*_,ma+=n*S,Ra+=n*w,$a+=n*O,Ka+=n*P,_u+=n*K;var Uc=n*M;_r+=(n=e[4])*i,_t+=n*s,_A+=n*g,na+=n*l,oa+=n*C,ha+=n*p,fa+=n*B,Da+=n*Q,ga+=n*y,ma+=n*_,Ra+=n*S,$a+=n*w,Ka+=n*O,_u+=n*P,Uc+=n*K;var _E=n*M;_t+=(n=e[5])*i,_A+=n*s,na+=n*g,oa+=n*l,ha+=n*C,fa+=n*p,Da+=n*B,ga+=n*Q,ma+=n*y,Ra+=n*_,$a+=n*S,Ka+=n*w,_u+=n*O,Uc+=n*P,_E+=n*K;var Bh=n*M;_A+=(n=e[6])*i,na+=n*s,oa+=n*g,ha+=n*l,fa+=n*C,Da+=n*p,ga+=n*B,ma+=n*Q,Ra+=n*y,$a+=n*_,Ka+=n*S,_u+=n*w,Uc+=n*O,_E+=n*P,Bh+=n*K;var _I=n*M;na+=(n=e[7])*i,oa+=n*s,ha+=n*g,fa+=n*l,Da+=n*C,ga+=n*p,ma+=n*B,Ra+=n*Q,$a+=n*y,Ka+=n*_,_u+=n*S,Uc+=n*w,_E+=n*O,Bh+=n*P,_I+=n*K;var zf=n*M;oa+=(n=e[8])*i,ha+=n*s,fa+=n*g,Da+=n*l,ga+=n*C,ma+=n*p,Ra+=n*B,$a+=n*Q,Ka+=n*y,_u+=n*_,Uc+=n*S,_E+=n*w,Bh+=n*O,_I+=n*P,zf+=n*K;var oQ=n*M;ha+=(n=e[9])*i,fa+=n*s,Da+=n*g,ga+=n*l,ma+=n*C,Ra+=n*p,$a+=n*B,Ka+=n*Q,_u+=n*y,Uc+=n*_,_E+=n*S,Bh+=n*w,_I+=n*O,zf+=n*P,oQ+=n*K;var gQ=n*M;fa+=(n=e[10])*i,Da+=n*s,ga+=n*g,ma+=n*l,Ra+=n*C,$a+=n*p,Ka+=n*B,_u+=n*Q,Uc+=n*y,_E+=n*_,Bh+=n*S,_I+=n*w,zf+=n*O,oQ+=n*P,gQ+=n*K;var yQ=n*M;Da+=(n=e[11])*i,ga+=n*s,ma+=n*g,Ra+=n*l,$a+=n*C,Ka+=n*p,_u+=n*B,Uc+=n*Q,_E+=n*y,Bh+=n*_,_I+=n*S,zf+=n*w,oQ+=n*O,gQ+=n*P,yQ+=n*K;var NQ=n*M;ga+=(n=e[12])*i,ma+=n*s,Ra+=n*g,$a+=n*l,Ka+=n*C,_u+=n*p,Uc+=n*B,_E+=n*Q,Bh+=n*y,_I+=n*_,zf+=n*S,oQ+=n*w,gQ+=n*O,yQ+=n*P,NQ+=n*K;var uQ=n*M;ma+=(n=e[13])*i,Ra+=n*s,$a+=n*g,Ka+=n*l,_u+=n*C,Uc+=n*p,_E+=n*B,Bh+=n*Q,_I+=n*y,zf+=n*_,oQ+=n*S,gQ+=n*w,yQ+=n*O,NQ+=n*P,uQ+=n*K;var _B=n*M;Ra+=(n=e[14])*i,$a+=n*s,Ka+=n*g,_u+=n*l,Uc+=n*C,_E+=n*p,Bh+=n*B,_I+=n*Q,zf+=n*y,oQ+=n*_,gQ+=n*S,yQ+=n*w,NQ+=n*O,uQ+=n*P,_B+=n*K;var IQ=n*M;$a+=(n=e[15])*i,F+=38*(_u+n*g),W+=38*(Uc+n*l),ae+=38*(_E+n*C),_r+=38*(Bh+n*p),_t+=38*(_I+n*B),_A+=38*(zf+n*Q),na+=38*(oQ+n*y),oa+=38*(gQ+n*_),ha+=38*(yQ+n*S),fa+=38*(NQ+n*w),Da+=38*(uQ+n*O),ga+=38*(_B+n*P),ma+=38*(IQ+n*K),Ra+=38*n*M,U=(n=U+38*(Ka+n*s)+1+65535)-65536*(e=Math.floor(n/65536)),F=(n=F+e+65535)-65536*(e=Math.floor(n/65536)),W=(n=W+e+65535)-65536*(e=Math.floor(n/65536)),ae=(n=ae+e+65535)-65536*(e=Math.floor(n/65536)),_r=(n=_r+e+65535)-65536*(e=Math.floor(n/65536)),_t=(n=_t+e+65535)-65536*(e=Math.floor(n/65536)),_A=(n=_A+e+65535)-65536*(e=Math.floor(n/65536)),na=(n=na+e+65535)-65536*(e=Math.floor(n/65536)),oa=(n=oa+e+65535)-65536*(e=Math.floor(n/65536)),ha=(n=ha+e+65535)-65536*(e=Math.floor(n/65536)),fa=(n=fa+e+65535)-65536*(e=Math.floor(n/65536)),Da=(n=Da+e+65535)-65536*(e=Math.floor(n/65536)),ga=(n=ga+e+65535)-65536*(e=Math.floor(n/65536)),ma=(n=ma+e+65535)-65536*(e=Math.floor(n/65536)),Ra=(n=Ra+e+65535)-65536*(e=Math.floor(n/65536)),$a=(n=$a+e+65535)-65536*(e=Math.floor(n/65536)),U=(n=(U+=e-1+37*(e-1))+1+65535)-65536*(e=Math.floor(n/65536)),F=(n=F+e+65535)-65536*(e=Math.floor(n/65536)),W=(n=W+e+65535)-65536*(e=Math.floor(n/65536)),ae=(n=ae+e+65535)-65536*(e=Math.floor(n/65536)),_r=(n=_r+e+65535)-65536*(e=Math.floor(n/65536)),_t=(n=_t+e+65535)-65536*(e=Math.floor(n/65536)),_A=(n=_A+e+65535)-65536*(e=Math.floor(n/65536)),na=(n=na+e+65535)-65536*(e=Math.floor(n/65536)),oa=(n=oa+e+65535)-65536*(e=Math.floor(n/65536)),ha=(n=ha+e+65535)-65536*(e=Math.floor(n/65536)),fa=(n=fa+e+65535)-65536*(e=Math.floor(n/65536)),Da=(n=Da+e+65535)-65536*(e=Math.floor(n/65536)),ga=(n=ga+e+65535)-65536*(e=Math.floor(n/65536)),ma=(n=ma+e+65535)-65536*(e=Math.floor(n/65536)),Ra=(n=Ra+e+65535)-65536*(e=Math.floor(n/65536)),n=$a+e+65535,e=Math.floor(n/65536),t[0]=U+(e-1+37*(e-1)),t[1]=F,t[2]=W,t[3]=ae,t[4]=_r,t[5]=_t,t[6]=_A,t[7]=na,t[8]=oa,t[9]=ha,t[10]=fa,t[11]=Da,t[12]=ga,t[13]=ma,t[14]=Ra,t[15]=n-65536*e}function Gq(t,e,n,i){t.generate=function(s,g){for(var l=new x.util.ByteBuffer,C=Math.ceil(g/i)+n,p=new x.util.ByteBuffer,B=n;B<C;++B){p.putInt32(B),e.start(),e.update(s+p.getBytes());var Q=e.digest();l.putBytes(Q.getBytes(i))}return l.truncate(l.length()-g),l.getBytes()}}function Ag(t,e){return Math.floor(Math.random()*(Math.floor(e)-Math.ceil(t)+1))+t}function nj(){var t=Ag(0,4294967295),e=Ag(1,4294967295);return new T(t,e,!0)}function qc(t){return t.toString().padEnd(32,"0")}function Hq(t,e){return t=t.split(".").map(function(n){return Number(n)}),e=e.split(".").map(function(n){return Number(n)}),Math.sqrt(1e3*Math.pow(t[0]-e[0],2)+100*Math.pow(t[1]-e[1],2)+10*Math.pow(t[2]-e[2],2)+1*Math.pow(t[3]-e[3],2))}function Iq(t){return t.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?t.toNumber():t.toString()}function Bg(t,e){e="".concat(t).concat(e||"");var n=Jq.get(e)||1;return Jq.set(e,n+1),"".concat(t).concat(n)}function gz(t,e){return Sl.apply(this,arguments)}function Sl(){return(Sl=wa(Z.mark(function t(e,n){return Z.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!n||!n.aborted){i.next=2;break}return i.abrupt("return");case 2:return i.abrupt("return",new Promise(function(s){setTimeout(s,e),n==null||n.addEventListener("abort",s)}));case 3:case"end":return i.stop()}},t)}))).apply(this,arguments)}function Kf(t,e,n){return Tl.apply(this,arguments)}function Tl(){return(Tl=wa(Z.mark(function t(e,n,i){var s,g,l,C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da;return Z.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:if(s=n.body,g=n.headers,l=g===void 0?{}:g,C=n.timeout,p=C===void 0?1e4:C,B=n.signal,Q=n.withCredentials,y=Q!==void 0&&Q,navigator.onLine!==!1){ga.next=3;break}throw Error("network is offline, not permit send request: url(".concat(e,")"));case 3:if(_=ra.rtm,S=(i||{}).useBinaryResponse,w=S!==void 0&&S,(O=new XMLHttpRequest).open("POST",e,!0),O.responseType=w?"arraybuffer":"text",O.withCredentials=y,O.timeout=p,P=s instanceof FormData,K=s instanceof Uint8Array,!(1<(M=Object.keys(l).filter(function(ma){return ma.toLowerCase()==="content-type"})).length)){ga.next=17;break}throw new RangeError("multiple content-type");case 17:M.length===0&&(K?l["Content-Type"]="application/octet-stream":P||(l["Content-Type"]="application/json"));case 18:if("setRequestHeader"in O){ga.next=49;break}return O.abort(),ga.next=22,fetch(e,{body:P||K?s:JSON.stringify(s),cache:"no-cache",credentials:y?"include":"same-origin",headers:l,method:"POST",mode:"cors",referrer:"no-referrer",signal:B});case 22:if(U=ga.sent,!(200<=(F=U.status)&&300>F||F===304)){ga.next=34;break}if(!w){ga.next=30;break}return ga.next=28,U.arrayBuffer();case 28:return W=ga.sent,ga.abrupt("return",{status:F,responseData:W});case 30:return ga.next=32,U.text();case 32:return ae=ga.sent,ga.abrupt("return",{status:F,responseText:ae});case 34:return _r=new ja(_,["Post XHR failure, status %d",F]),ga.prev=35,ga.next=38,U.text();case 38:throw _t=ga.sent,_r.statusCode=F,_r.message=_t||"Request failed, status ".concat(F),_r;case 44:throw ga.prev=44,ga.t0=ga.catch(35),_r.statusCode=F,_r.message="Request failed, status ".concat(F),_r;case 49:if(Object.keys(l).length!==0)for(_A=0,na=Object.entries(l);_A<na.length;_A++)oa=vc(na[_A],2),ha=oa[0],fa=oa[1],O.setRequestHeader(ha,fa);return B!==void 0&&(Da=function ma(){O.abort(),B.removeEventListener("abort",ma)},B.addEventListener("abort",Da)),P||K?O.send(s):O.send(JSON.stringify(s)),ga.abrupt("return",new Promise(function(ma,Ra){var $a=function(){try{Ra(new DOMException("The request aborted.","AbortError"))}catch{var Ka=Error("The request aborted.");Ka.name="AbortError",Ra(Ka)}};O.onload=function(){var Ka=O.status;if(Ka===0)$a();else if(200<=Ka&&300>Ka||Ka===304)ma(w?{status:Ka,responseData:O.response}:{status:Ka,responseText:O.responseText});else{var _u=new ja(_,["Post XHR failure, status %d",Ka]);_u.statusCode=Ka,_u.message=O.response||"Request failed, status ".concat(O.status),Ra(_u)}},O.ontimeout=function(Ka){Ra(new we(_,["XHR request timed out after %d ms",p],{originalError:Ka}))},O.onerror=function(){O.status===0&&$a();var Ka=new ja(_,["Post XHR failure, status %d",O.status]);Ka.statusCode=O.status,Ka.message=O.response||"Request failed, status ".concat(O.status),Ra(Ka)},O.onabort=function(){$a()}}));case 53:case"end":return ga.stop()}},t,null,[[35,44]])}))).apply(this,arguments)}function hz(t,e){var n=ra.publish,i=V(e);if(e=i.code,i=i.reason,!rl(t))throw new Ja(n,[i],e);if(t.messageType===void 0)if(t.rawMessage instanceof Uint8Array){if(t.messageType="RAW",t.text!==void 0)throw new Ja(n,[i],e)}else{if(typeof t.text!="string")throw new Ja(n,[i],e);if(t.messageType="TEXT",t.rawMessage!==void 0)throw new Ja(n,[i],e)}}function Kq(t){return Ul.apply(this,arguments)}function Ul(){return(Ul=wa(Z.mark(function t(e){var n,i,s,g,l,C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae;return Z.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:if(n=e.message,i=e.peerId,s=e.session,g=e.diff,l=e.customType,C=e.toPeer,p=ra.publish,s!==void 0){_r.next=5;break}throw B=V(G.RTM_ERROR_NOT_LOGIN),Q=B.code,y=B.reason,new cb(p,[y],Q);case 5:if(_=C?n.messageType==="TEXT"?Cb.P2pSMsgNoOfflineFlag:Cb.P2pRMsgNoOfflineFlag:n.messageType==="TEXT"?Cb.ChannelSMsg:Cb.ChannelRMsg,S=Date.now(),w=s.messageSentTimes.length-1,!((O=s.messageSentTimes[w])&&O+3e3<S)){_r.next=13;break}s.messageSentTimes=[S],_r.next=27;break;case 13:P=w;case 14:if(!(0<=P)){_r.next=26;break}if(!(s.messageSentTimes[P]+3e3<S)){_r.next=18;break}return s.messageSentTimes=s.messageSentTimes.slice(P+1,w+1),_r.abrupt("break",26);case 18:if(!(180<=w-P+1)){_r.next=23;break}throw s.emit("messageCount",{messageCategory:_,type:"common",key:"sentcount"}),s.emit("messageCount",{messageCategory:_,type:"common",key:"toooftencount"}),K=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT),M=K.code,U=K.reason,new Zc(p,[U],M);case 23:P--,_r.next=14;break;case 26:s.messageSentTimes.push(S);case 27:_r.t0=n.messageType,_r.next=_r.t0==="TEXT"?30:_r.t0==="RAW"?31:33;break;case 30:return _r.abrupt("return",s.sendTextMessage(n.text,i,C,1e4-g,l));case 31:return n.description===void 0&&(n.description=""),_r.abrupt("return",s.sendRawMessage(n.rawMessage,n.description,i,C,1e4-g,l));case 33:throw s.emit("messageCount",{messageCategory:_,type:"common",key:"sentcount"}),s.emit("messageCount",{messageCategory:_,type:"common",key:"invalidmessagecount"}),F=V(G.RTM_ERROR_CHANNEL_INVALID_MESSAGE),W=F.code,ae=F.reason,new Ja(p,[ae],W);case 37:case"end":return _r.stop()}},t)}))).apply(this,arguments)}function iz(t){var e=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],n=t.replace(/(https?:\/\/)?(www.)?/i,"");return e||(n=n.split(".").slice(t.length-2).join(".")),n.indexOf("/")!==-1?n.split("/")[0]:n}function Ca(t){if(typeof t!="string")return"[Sensitive Info]";var e=Math.floor(.7*t.length),n=t.length;return Lq(t,e,n,"*".repeat(n-e))}function Mq(t){if(typeof t!="string")return"[Sensitive Info]";var e=t.length;if(2>=e)return t;var n=e/3,i="*".repeat((e=e/3*2)-n);return t.substring(0,n)+i+t.substring(e)}function Nq(t,e,n){function i(s){if(t===void 0)return t;if(Up(s))return s;if(Array.isArray(s))return s.map(i);var g={},l=0;for(s=oj(s);l<s.length;l++){var C=vc(s[l],2),p=C[0];if(typeof(C=typeof(C=C[1])=="number"?C.toString():C)=="string"&&n.includes(p)){g[p]=typeof C=="string"?Mq(C):"[Sensitive Info]";break}e.includes(p)?g[p]="[Hidden Info]":g[p]=C==null?C:n.includes(p)?"[Sensitive Info]":i(C)}return g}return Array.isArray(t)?t.map(i):i(t)}function Oq(t){return Object.getOwnPropertyNames(t).forEach(function(e){Ia(e=t[e])=="object"&&e!==null&&Oq(e)}),Object.freeze(t)}function jz(t){return new TextDecoder("utf-8").decode(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}function kz(){for(var t=0,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];for(e=0;e<n.length;e++)t+=n[e].length;for(t=new Uint8Array(t),i=e=0;i<n.length;i++){var s=n[i];t.set(s,e),e+=s.length}return t}function Cg(t,e,n){var i=t.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(t=i==null?void 0:i[1],i=i==null?void 0:i[2]){var s;for(i=i.substr(1).split("&"),s=0;s<i.length;s++)if(i[s].split("=")[0]==e){i[s]=e+"="+encodeURIComponent(n);break}return s==i.length&&i.push(e+"="+encodeURIComponent(n)),t+"?"+i.join("&")}return t+"?"+e+"="+encodeURIComponent(n)}function Lq(t,e,n,i){return typeof t!="string"?"[Sensitive Info]":t.substring(0,e)+i+t.substring(n)}function Ue(t){return typeof t=="string"&&t.length!==0&&t!=="false"&&t!=="null"&&t!=="undefined"}function Lf(t){return"".concat("*l*").concat(t)}function mc(t,e){return e==="STREAM"?"".concat("*s*").concat(t):t}function $c(t){return t.startsWith("*s*")?{channelName:t.slice(3),channelType:"STREAM"}:{channelName:t,channelType:"MESSAGE"}}function Vl(t,e,n,i){var s=(t=typeof t=="string"?new TextEncoder().encode(t):t).length+15&-16;for(s>t.byteLength&&(s=new Uint8Array(s-t.byteLength),t=new Uint8Array([].concat(ta(t),ta(s)))),t=Nd.util.createBuffer(t),(e=Nd.cipher.createCipher("AES-GCM",Nd.util.createBuffer(e.slice(0,i)))).start({iv:n}),e.update(t),e.finish(),n=e.output.getBytes()+e.mode.tag.getBytes(),e=[],i=0;i<n.length;i++)e.push(n.charCodeAt(i));return new Uint8Array(e)}function pj(t,e,n,i){var s=Nd.util.createBuffer(t),g=Nd.util.createBuffer(t);for(t=Nd.util.createBuffer(s.getBytes(s.length()).slice(-16)),s=g.getBytes(g.length()).slice(0,s.getBytes().length-16),(e=Nd.cipher.createDecipher("AES-GCM",Nd.util.createBuffer(e.slice(0,i)))).start({iv:n,tag:t,tagLength:128}),e.update(Nd.util.createBuffer(s)),e.finish(),n=e.output.data,e=[],i=0;i<n.length;i++)e.push(n.charCodeAt(i));return new Uint8Array(e)}function V(t){return{code:t,reason:lz[t]}}function mz(t){t=t.substring(3),t=atob(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return t=nz(e),(t=new oz(t.buffer)).getString(),t.getString()}function pz(t){var e=t.areas,n=t.excludedArea;if(e.length===1&&e[0]===pa.GLOBAL&&n===pa.CHINA)return Nh([pa.OVERSEA]);if(e.includes(pa.GLOBAL)){if(t=qj(rj).filter(function(g){return g!==pa.GLOBAL&&g!==pa.OVERSEA}),n in Oh){e=Oh[n];var i=[].concat(ta(e??[]),[n]);return Nh(t.filter(function(g){return!i.includes(g)}))}if(Pq(n)){var s=qz(n);return Nh(t.filter(function(g){return g!==n&&g!==s}))}}if(Pq(n)||n in Oh)return Nh(e);throw new Ja("setArea","Invalid excludedArea area config")}function Qq(t){(Rq||t)&&(Sq.abort(),t&&(Sq=new AbortController),Rq=t)}function yb(){yb.init.call(this)}function sj(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+Ia(t))}function Tq(t,e,n,i){sj(n);var s=t._events;if(s===void 0)s=t._events=Object.create(null),t._eventsCount=0;else{s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events);var g=s[e]}return g===void 0?(s[e]=n,++t._eventsCount):(typeof g=="function"?g=s[e]=i?[n,g]:[g,n]:i?g.unshift(n):g.push(n),0<(n=t._maxListeners===void 0?yb.defaultMaxListeners:t._maxListeners)&&g.length>n&&!g.warned&&(g.warned=!0,(n=Error("Possible EventEmitter memory leak detected. "+g.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=t,n.type=e,n.count=g.length,console&&console.warn&&console.warn(n))),t}function rz(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Uq(t,e,n){return t={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},(e=rz.bind(t)).listener=n,t.wrapFn=e}function Vq(t,e,n){if((t=t._events)===void 0)return[];if((e=t[e])===void 0)return[];if(typeof e=="function")return n?[e.listener||e]:[e];if(n)for(n=Array(e.length),t=0;t<n.length;++t)n[t]=e[t].listener||e[t];else n=Wq(e,e.length);return n}function Xq(t){var e=this._events;if(e!==void 0){if(typeof(t=e[t])=="function")return 1;if(t!==void 0)return t.length}return 0}function Wq(t,e){for(var n=Array(e),i=0;i<e;++i)n[i]=t[i];return n}function sz(t,e,n){typeof t.on=="function"&&Yq(t,"error",e,n)}function Yq(t,e,n,i){if(typeof t.on=="function")i.once?t.once(e,n):t.on(e,n);else{if(typeof t.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+Ia(t));t.addEventListener(e,function s(g){i.once&&t.removeEventListener(e,s),n(g)})}}function Zq(t){var e=[];return function n(i){if(i===null||Ia(i)!=="object")return i;if(e.indexOf(i)!==-1)return"[Circular]";if(e.push(i),typeof i.toJSON=="function")try{var s=n(i.toJSON());return e.pop(),s}catch(g){return"[Throws: "+(g?g.message:"?")+"]"}return Array.isArray(i)?(s=i.map(n),e.pop(),s):(s=Object.keys(i).reduce(function(g,l){e:{if(tz.call(i,l))try{var C=i[l];break e}catch(p){C="[Throws: "+(p?p.message:"?")+"]";break e}C=i[l]}return g[l]=n(C),g},{}),e.pop(),s)}(t)}function uz(t){if(!(100<(t=String(t)).length)&&(t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t))){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return e*vz;case"weeks":case"week":case"w":return e*wz;case"days":case"day":case"d":return 864e5*e;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*e;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e}}}function tj(t,e,n,i){return Math.round(t/n)+" "+i+(e>=1.5*n?"s":"")}function xz(t){uj=xa.__global_unique_id__=(xa.__global_unique_id__||0)+1;var e=new Wl({processId:"process-".concat(t),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v2.1.9-0-g612079de"),uploadRequest:Xl,PrivateConfig:{}});return Ph.set(t,e),uj}function db(t,e,n){n===void 0&&(n=Object.getOwnPropertyDescriptor(t,e));var i=n.value;return n.value=function(){for(var s=this,g=arguments.length,l=Array(g),C=0;C<g;C++)l[C]=arguments[C];this.invokeTracker.apply(this,["%s: ".concat(0<l.length?"%s with args: ".concat(l.map(function(){return"%o"})):"%s"),this.name,e].concat(ta(l.map(Dg))));try{var p=i.apply(this,l)}catch(Q){throw this.logError.apply(this,["".concat(Q.code!==void 0?"Error Code ".concat(Q.code,": "):"","%s failed").concat(0<l.length?" with args: ".concat(l.map(function(){return"%o"})):""),e].concat(ta(l.map(Dg)))),Q.originalError&&this.logError(Q.originalError),this.errorTracker(Q),Q}var B=Date.now();return wa(Z.mark(function Q(){var y,_;return Z.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.prev=0,S.next=3,p;case 3:y=S.sent,S.next=12;break;case 6:return S.prev=6,S.t0=S.catch(0),s.logError.apply(s,["".concat(S.t0.code!==void 0?"Error Code ".concat(S.t0.code,": "):"","%s failed").concat(0<l.length?" with args: ".concat(l.map(function(){return"%o"})):""),e].concat(ta(l.map(Dg)))),S.t0.originalError&&s.logError(S.t0.originalError),s.errorTracker(S.t0),S.abrupt("return");case 12:y!==p?y===void 0?s.resultTracker("%s promise resolves after %dms",e,Date.now()-B):s.resultTracker("%s promise resolves after %dms, result is %o",e,Date.now()-B,Dg(y)):Re(y)!=="Object"||rl(y)?s.resultTracker("%s result is %o",e,Dg(y)):s.resultTracker("%s result is %s",e,y.name||((_=y.constructor)===null||_===void 0?void 0:_.name));case 13:case"end":return S.stop()}},Q,null,[[0,6]])}))(),p},n}function Eg(t,e){var n=V(G.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME),i=n.code;if(n=n.reason,!(typeof t=="string"&&0<t.length&&$q(t)))throw new Ja(e,[n],i);if(t.length===0||16<new Blob([t??""]).size)throw new Ja(e,[n],i)}function Fb(t){return typeof t=="string"&&/^[a-zA-Z0-9 !#\$%&\(\)\+,\-:;<=>\?@\[\]\^_`\{\|\}~]{1,64}$/.test(t)}function $q(t){return typeof t=="string"&&/^[abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 !*#$%&()+,-:;<=>?@\[\]\^_`{\|}~\u4e00-\u9fff]+$/.test(t)}function Yl(t){return t=Number(t),Number.isInteger(t)&&0<=t}function ar(t){try{var e=t.split(".").map(function(i){return Number(i)})}catch{return!1}if(e.length!==4||e[0]===0)return!1;for(t=0;t<e.length;t++){var n=e[t];if(!Number.isInteger(n)||0>n||255<n)return!1}return!0}function Fg(t,e){var n=e.items,i=e.maxMetaDataCount,s=e.maxMetaValueSize,g=e.majorRevision;if(e=e.type,!Array.isArray(n))throw s=V(G.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM),new Ja(t,[s.reason],s.code);var l=n.map(function(B){return[B.getKey(),B.getValue()]});if(l.length>i)throw s=V(G.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION),new Zc(t,[s.reason],s.code);if(l.length===0)throw s=V(G.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM),new Ja(t,[s.reason],s.code);if(typeof g!="number"||-1>g||g%1!=0)throw s=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[s.reason],s.code);if(n.map(function(B){if(-1>(B==null?void 0:B.getRevision()))throw B=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[B.reason],B.code)}),(e==="Update"||e==="Delete")&&g===0)throw s=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[s.reason],s.code);if((e==="Update"||e==="Delete")&&n.map(function(B){return B.getRevision()}).includes(0))throw s=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[s.reason],s.code);for(n=0;n<l.length;n++){i=(g=vc(l[n],2))[0],g=g[1];var C=new Blob([i??""]).size,p=new Blob([g??""]).size;if(C===0||(i==null?void 0:i[0])==="_"||typeof i!="string")throw s=V(G.RTM_ERROR_STORAGE_INVALID_KEY),new Ja(t,[s.reason],s.code);if(32<C)throw s=V(G.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW),new Ja(t,[s.reason],s.code);if(e!=="Delete"&&typeof g!="string")throw s=V(G.RTM_ERROR_STORAGE_INVALID_VALUE),new Ja(t,[s.reason],s.code);if(e!=="Delete"&&p>s)throw s=V(G.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new Zc(t,[s.reason],s.code)}}function Gg(t,e){if(16384<new Blob([e??""]).size)throw e=V(G.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW),new Zc(t,[e.reason],e.code)}function br(t,e){if(-1>e)throw e=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[e.reason],e.code);if(e%1!=0)throw e=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[e.reason],e.code);if(e===0)throw e=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(t,[e.reason],e.code)}function yz(t,e){for(var n in t){var i,s=new Blob([(i=t[n])!==null&&i!==void 0?i:""]).size;if(cr(n,e),16384<s)throw t=V(G.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW),new Zc(e,[t.reason],t.code)}}function cr(t,e){var n=new Blob([t??""]).size;if(32<n)throw t=V(G.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW),new Ja(e,[t.reason],t.code);if(n===0||!$q(t)||(t==null?void 0:t[0])==="_")throw t=V(G.RTM_ERROR_PRESENCE_INVALID_STATE_KEY),new Ja(e,[t.reason],t.code)}function Qh(t){return t.length!==0&&t[0]!=="_"}function zz(t,e){if(typeof t=="string"&&!t)throw t=V(G.RTM_ERROR_CHANNEL_INVALID_MESSAGE),new Ja(e,[t.reason],t.code);if(32768<(typeof t=="string"?new Blob([t??""]).size:t.byteLength))throw t=V(G.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),new Ja(e,[t.reason],t.code)}function dr(t,e){if(32<(t=new Blob([t])).size)throw t=V(G.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW),new Ja(e,[t.reason],t.code);if(t.size===0)throw t=V(G.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE),new Ja(e,[t.reason],t.code)}function Zl(t,e,n,i){function s(){var C=V(G.RTM_ERROR_INCONSISTENT_APPID);throw new Ja(n,[C.reason],C.code)}var g=t==null?void 0:t.slice(0,3);try{var l=g==="006"?t.slice(3,35):g!=="007"||mz(t);typeof l=="string"&&l!==e&&(i("appId from token is '".concat(l,"', not match the appId of config.")),s())}catch(C){i(C),s()}}function ad(t,e){if(e!=="MESSAGE"&&e!=="STREAM")throw e=V(G.RTM_ERROR_INVALID_CHANNEL_TYPE),new Ja(t,[e.reason],e.code)}function $l(t,e,n,i){return new(n||(n=Promise))(function(s,g){function l(B){try{p(i.next(B))}catch(Q){g(Q)}}function C(B){try{p(i.throw(B))}catch(Q){g(Q)}}function p(B){B.done?s(B.value):function(Q){return Q instanceof n?Q:new n(function(y){y(Q)})}(B.value).then(l,C)}p((i=i.apply(t,[])).next())})}function am(t,e){function n(p){return function(B){return function(Q){if(i)throw new TypeError("Generator is already executing.");for(;C;)try{if(i=1,s&&(g=2&Q[0]?s.return:Q[0]?s.throw||((g=s.return)&&g.call(s),0):s.next)&&!(g=g.call(s,Q[1])).done)return g;switch(s=0,g&&(Q=[2&Q[0],g.value]),Q[0]){case 0:case 1:g=Q;break;case 4:return C.label++,{value:Q[1],done:!1};case 5:C.label++,s=Q[1],Q=[0];continue;case 7:Q=C.ops.pop(),C.trys.pop();continue;default:if(g=C.trys,!((g=0<g.length&&g[g.length-1])||Q[0]!==6&&Q[0]!==2)){C=0;continue}if(Q[0]===3&&(!g||Q[1]>g[0]&&Q[1]<g[3]))C.label=Q[1];else if(Q[0]===6&&C.label<g[1])C.label=g[1],g=Q;else{if(!(g&&C.label<g[2])){g[2]&&C.ops.pop(),C.trys.pop();continue}C.label=g[2],C.ops.push(Q)}}Q=e.call(t,C)}catch(y){Q=[6,y],s=0}finally{i=g=0}if(5&Q[0])throw Q[1];return{value:Q[0]?Q[1]:void 0,done:!0}}([p,B])}}var i,s,g,l,C={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return l={next:n(0),throw:n(1),return:n(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l}function vj(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;t=n.call(t);var i,s=[];try{for(;(e===void 0||0<e--)&&!(i=t.next()).done;)s.push(i.value)}catch(l){var g={error:l}}finally{try{i&&!i.done&&(n=t.return)&&n.call(t)}finally{if(g)throw g.error}}return s}function Mf(t,e,n){if(arguments.length===2)for(var i,s=0,g=e.length;s<g;s++)!i&&s in e||(i||(i=Array.prototype.slice.call(e,0,s)),i[s]=e[s]);return t.concat(i||Array.prototype.slice.call(e))}function wj(){this._listeners={}}function er(t){return typeof Float32Array<"u"?function(){function e(p,B,Q){g[0]=p,B[Q]=l[0],B[Q+1]=l[1],B[Q+2]=l[2],B[Q+3]=l[3]}function n(p,B,Q){g[0]=p,B[Q]=l[3],B[Q+1]=l[2],B[Q+2]=l[1],B[Q+3]=l[0]}function i(p,B){return l[0]=p[B],l[1]=p[B+1],l[2]=p[B+2],l[3]=p[B+3],g[0]}function s(p,B){return l[3]=p[B],l[2]=p[B+1],l[1]=p[B+2],l[0]=p[B+3],g[0]}var g=new Float32Array([-0]),l=new Uint8Array(g.buffer),C=l[3]===128;t.writeFloatLE=C?e:n,t.writeFloatBE=C?n:e,t.readFloatLE=C?i:s,t.readFloatBE=C?s:i}():function(){function e(i,s,g,l){var C=0>s?1:0;if(C&&(s=-s),s===0)i(0<1/s?0:2147483648,g,l);else if(isNaN(s))i(2143289344,g,l);else if(34028234663852886e22<s)i((C<<31|2139095040)>>>0,g,l);else if(11754943508222875e-54>s)i((C<<31|Math.round(s/1401298464324817e-60))>>>0,g,l);else{var p=Math.floor(Math.log(s)/Math.LN2);i((C<<31|p+127<<23|8388607&Math.round(s*Math.pow(2,-p)*8388608))>>>0,g,l)}}function n(i,s,g){return g=i(s,g),i=2*(g>>31)+1,s=g>>>23&255,g&=8388607,s===255?g?NaN:1/0*i:s===0?1401298464324817e-60*i*g:i*Math.pow(2,s-150)*(g+8388608)}t.writeFloatLE=e.bind(null,fr),t.writeFloatBE=e.bind(null,gr),t.readFloatLE=n.bind(null,hr),t.readFloatBE=n.bind(null,ir)}(),typeof Float64Array<"u"?function(){function e(p,B,Q){g[0]=p,B[Q]=l[0],B[Q+1]=l[1],B[Q+2]=l[2],B[Q+3]=l[3],B[Q+4]=l[4],B[Q+5]=l[5],B[Q+6]=l[6],B[Q+7]=l[7]}function n(p,B,Q){g[0]=p,B[Q]=l[7],B[Q+1]=l[6],B[Q+2]=l[5],B[Q+3]=l[4],B[Q+4]=l[3],B[Q+5]=l[2],B[Q+6]=l[1],B[Q+7]=l[0]}function i(p,B){return l[0]=p[B],l[1]=p[B+1],l[2]=p[B+2],l[3]=p[B+3],l[4]=p[B+4],l[5]=p[B+5],l[6]=p[B+6],l[7]=p[B+7],g[0]}function s(p,B){return l[7]=p[B],l[6]=p[B+1],l[5]=p[B+2],l[4]=p[B+3],l[3]=p[B+4],l[2]=p[B+5],l[1]=p[B+6],l[0]=p[B+7],g[0]}var g=new Float64Array([-0]),l=new Uint8Array(g.buffer),C=l[7]===128;t.writeDoubleLE=C?e:n,t.writeDoubleBE=C?n:e,t.readDoubleLE=C?i:s,t.readDoubleBE=C?s:i}():function(){function e(i,s,g,l,C,p){var B=0>l?1:0;if(B&&(l=-l),l===0)i(0,C,p+s),i(0<1/l?0:2147483648,C,p+g);else if(isNaN(l))i(0,C,p+s),i(2146959360,C,p+g);else if(17976931348623157e292<l)i(0,C,p+s),i((B<<31|2146435072)>>>0,C,p+g);else if(22250738585072014e-324>l)i((l/=5e-324)>>>0,C,p+s),i((B<<31|l/4294967296)>>>0,C,p+g);else{var Q=Math.floor(Math.log(l)/Math.LN2);Q===1024&&(Q=1023),i(4503599627370496*(l*=Math.pow(2,-Q))>>>0,C,p+s),i((B<<31|Q+1023<<20|1048576*l&1048575)>>>0,C,p+g)}}function n(i,s,g,l,C){return s=i(l,C+s),l=i(l,C+g),i=2*(l>>31)+1,s=4294967296*(1048575&l)+s,(g=l>>>20&2047)===2047?s?NaN:1/0*i:g===0?5e-324*i*s:i*Math.pow(2,g-1075)*(s+4503599627370496)}t.writeDoubleLE=e.bind(null,fr,0,4),t.writeDoubleBE=e.bind(null,gr,4,0),t.readDoubleLE=n.bind(null,hr,0,4),t.readDoubleBE=n.bind(null,ir,4,0)}(),t}function fr(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function gr(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function hr(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function ir(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function wc(t,e){this.lo=t>>>0,this.hi=e>>>0}function Rh(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function bm(){}function Az(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function xb(){this.len=0,this.tail=this.head=new Rh(bm,0,0),this.states=null}function cm(t,e,n){e[n]=255&t}function dm(t,e){this.len=t,this.next=void 0,this.val=e}function em(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)e[n++]=127&t.lo|128,t.lo>>>=7;e[n++]=t.lo}function fm(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function ge(){gm.call(this)}function Bz(t,e,n){40>t.length?eb.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}function Od(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function hc(t){this.buf=t,this.pos=0,this.len=t.length}function hm(){var t=new jr(0,0),e=0;if(!(4<this.len-this.pos)){for(;3>e;++e){if(this.pos>=this.len)throw Od(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,128>this.buf[this.pos++])return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;4>e;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,128>this.buf[this.pos++])return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return t;if(e=0,4<this.len-this.pos){for(;5>e;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,128>this.buf[this.pos++])return t}else for(;5>e;++e){if(this.pos>=this.len)throw Od(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,128>this.buf[this.pos++])return t}throw Error("invalid varint encoding")}function xj(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function kr(){if(this.pos+8>this.len)throw Od(this,8);return new jr(xj(this.buf,this.pos+=4),xj(this.buf,this.pos+=4))}function Nf(t){im.call(this,t)}function Sh(t,e,n){if(typeof t!="function")throw TypeError("rpcImpl must be a function");eb.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=!!e,this.responseDelimited=!!n}function Of(t){t||(t={});var e=t.ua;if(e||typeof navigator>"u"||(e=navigator.userAgent),e&&e.headers&&typeof e.headers["user-agent"]=="string"&&(e=e.headers["user-agent"]),typeof e!="string")return!1;var n=Cz.test(e)&&!Dz.test(e)||!!t.tablet&&Ez.test(e);return!n&&t.tablet&&t.featureDetect&&navigator&&1<navigator.maxTouchPoints&&e.indexOf("Macintosh")!==-1&&e.indexOf("Safari")!==-1&&(n=!0),n}function lr(t,e){var n,i,s,g;return Z.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:n=Fz(t)([mr,mr,function(C,p){return p}])[2],i=0;case 2:if(!(i<e.length)){l.next=17;break}if(s=e[i],!((g=n(jm,s))instanceof km)){l.next=11;break}if((g=Gz(g.deref()))===jm){l.next=10;break}return l.next=10,g;case 10:return l.abrupt("return");case 11:if(g===jm){l.next=14;break}return l.next=14,g;case 14:i++,l.next=2;break;case 17:case"end":return l.stop()}},Hz)}function yj(t,e){return e!=null&&typeof e[Symbol.iterator]=="function"?lr(yj(t),e):function(n){var i=n[2];return Iz(n,function(s,g){return i(s,t(g))})}}function nr(t){return t.reduce(function(e,n){return e.concat(n instanceof zj.UnsubscriptionError?n.errors:n)},[])}function or(t){return t.length===0?Hg.identity:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}function pr(t){if(t||(t=Pd.config.Promise||Promise),!t)throw Error("no Promise impl found");return t}function ac(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(i){return i.pipe(ac(function(s,g){return lm.from(t(s,g)).pipe(mm.map(function(l,C){return e(s,l,g,C)}))},n))}:(typeof e=="number"&&(n=e),function(i){return i.lift(new qr(t,n))})}function he(t,e,n,i){return Th.isFunction(n)&&(i=n,n=void 0),i?he(t,e,n).pipe(mm.map(function(s){return Uh.isArray(s)?i.apply(void 0,s):i(s)})):new fc.Observable(function(s){rr(t,e,function(g){1<arguments.length?s.next(Array.prototype.slice.call(arguments)):s.next(g)},s,n)})}function rr(t,e,n,i,s){if(t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"){t.addEventListener(e,n,s);var g=function(){return t.removeEventListener(e,n,s)}}else if(t&&typeof t.on=="function"&&typeof t.off=="function")t.on(e,n),g=function(){return t.off(e,n)};else if(t&&typeof t.addListener=="function"&&typeof t.removeListener=="function")t.addListener(e,n),g=function(){return t.removeListener(e,n)};else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,C=t.length;l<C;l++)rr(t[l],e,n,i,s)}i.add(g)}function Jz(t){var e=t.subscriber,n=t.counter;t=t.period,e.next(n),this.schedule({subscriber:e,counter:n+1,period:t},t)}function Kz(t){t.subscriber.error(t.error)}function Lz(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(n===-1)return i.complete();t.index=e+1,this.schedule(t,n)}}function Mz(){return new Aj.Subject}function Nz(t){var e,n,i=t.bufferSize,s=i===void 0?Number.POSITIVE_INFINITY:i,g=(i=t.windowTime)===void 0?Number.POSITIVE_INFINITY:i,l=t.refCount,C=t.scheduler,p=0,B=!1,Q=!1;return function(y){if(p++,!e||B){B=!1;var _=(e=new Oz.ReplaySubject(s,g,C)).subscribe(this);n=y.subscribe({next:function(S){e.next(S)},error:function(S){B=!0,e.error(S)},complete:function(){Q=!0,n=void 0,e.complete()}}),Q&&(n=void 0)}else _=e.subscribe(this);this.add(function(){p--,_.unsubscribe(),_=void 0,n&&!Q&&l&&p===0&&(n.unsubscribe(),e=n=void 0)})}}function ic(t,e){return typeof e=="function"?function(n){return n.pipe(ic(function(i,s){return lm.from(t(i,s)).pipe(mm.map(function(g,l){return e(i,g,s,l)}))}))}:function(n){return n.lift(new Pz(t))}}function Qz(){return new sr.EmptyError}function tr(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Rz(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,i=t.subscriber,s=t.scheduler,g=i.openContext();i.closed||(i.add(g.closeAction=s.schedule(ur,n,{subscriber:i,context:g})),this.schedule(t,e))}function ur(t){t.subscriber.closeContext(t.context)}function Sz(t){t.subscriber.clearThrottle()}function gb(t,e){function n(){this.constructor=t}nm(t,e),t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Vh(t){return typeof t=="function"}function Ig(t){setTimeout(function(){throw t},0)}function om(t){return t!==null&&Ia(t)==="object"}function vr(t){return t.reduce(function(e,n){return e.concat(n instanceof Wh?n.errors:n)},[])}function pm(t){for(;t;){var e=t.destination,n=t.isStopped;if(t.closed||n)return!1;t=e&&e instanceof xc?e:null}return!0}function Xh(t){return t}function wr(t){return t.length===0?Xh:t.length===1?t[0]:function(e){return t.reduce(function(n,i){return i(n)},e)}}function xr(t){if(t||(t=zd.Promise||Promise),!t)throw Error("no Promise impl found");return t}function Tz(){return function(t){return t.lift(new Uz(t))}}function qm(t){return t?Vz(t):Jg}function Vz(t){return new hb(function(e){return t.schedule(function(){return e.complete()})})}function Ve(t){return t&&typeof t.schedule=="function"}function rm(t,e){return new hb(function(n){var i=new rc,s=0;return i.add(e.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||i.add(this.schedule()))})),i})}function Yh(t,e){return e?rm(t,e):new hb(yr(t))}function Bj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ve(e=t[t.length-1])?(t.pop(),rm(t,e)):Yh(t)}function zr(t,e){return new hb(e?function(n){return e.schedule(Wz,0,{error:t,subscriber:n})}:function(n){return n.error(t)})}function Wz(t){t.subscriber.error(t.error)}function Ar(t){return t in sm&&(delete sm[t],!0)}function Br(){}function Pf(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Xz(t,e))}}function Cr(t,e,n){if(e){if(!Ve(e))return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return Cr(t,n).apply(void 0,i).pipe(Pf(function(g){return Ad(g)?e.apply(void 0,g):e(g)}))};n=e}return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var g,l=this,C={context:l,subject:g,callbackFunc:t,scheduler:n};return new hb(function(p){if(n)return n.schedule(Yz,0,{args:i,subscriber:p,params:C});if(!g){g=new Zh;try{t.apply(l,i.concat([function(){for(var B=[],Q=0;Q<arguments.length;Q++)B[Q]=arguments[Q];g.next(1>=B.length?B[0]:B),g.complete()}]))}catch(B){pm(g)?g.error(B):console.warn(B)}}return g.subscribe(p)})}}function Yz(t){var e=this,n=t.args,i=t.subscriber,s=t.params;t=s.callbackFunc;var g=s.context,l=s.scheduler,C=s.subject;if(!C){C=s.subject=new Zh,s=function(){for(var p=[],B=0;B<arguments.length;B++)p[B]=arguments[B];e.add(l.schedule(Zz,0,{value:1>=p.length?p[0]:p,subject:C}))};try{t.apply(g,n.concat([s]))}catch(p){C.error(p)}}this.add(C.subscribe(i))}function Zz(t){var e=t.subject;e.next(t.value),e.complete()}function Dr(t,e,n){if(e){if(!Ve(e))return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return Dr(t,n).apply(void 0,i).pipe(Pf(function(g){return Ad(g)?e.apply(void 0,g):e(g)}))};n=e}return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var g={subject:void 0,args:i,callbackFunc:t,scheduler:n,context:this};return new hb(function(l){var C=g.context,p=g.subject;if(n)return n.schedule($z,0,{params:g,subscriber:l,context:C});if(!p){p=g.subject=new Zh;try{t.apply(C,i.concat([function(){for(var B=[],Q=0;Q<arguments.length;Q++)B[Q]=arguments[Q];(Q=B.shift())?p.error(Q):(p.next(1>=B.length?B[0]:B),p.complete())}]))}catch(B){pm(p)?p.error(B):console.warn(B)}}return p.subscribe(l)})}}function $z(t){var e=this,n=t.params,i=t.subscriber;t=t.context;var s=n.callbackFunc,g=n.args,l=n.scheduler,C=n.subject;if(!C){C=n.subject=new Zh,n=function(){for(var p=[],B=0;B<arguments.length;B++)p[B]=arguments[B];(B=p.shift())?e.add(l.schedule(Er,0,{err:B,subject:C})):e.add(l.schedule(aA,0,{value:1>=p.length?p[0]:p,subject:C}))};try{s.apply(t,g.concat([n]))}catch(p){this.add(l.schedule(Er,0,{err:p,subject:C}))}}this.add(C.subscribe(i))}function aA(t){var e=t.subject;e.next(t.value),e.complete()}function Er(t){t.subject.error(t.err)}function Fr(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}function Gr(t,e,n,i,s){if(s===void 0&&(s=new bA(t,n,i)),!s.closed)return e instanceof hb?e.subscribe(s):$h(e)(s)}function cA(t,e){return new hb(function(n){var i=new rc;return i.add(e.schedule(function(){var s=t[Kg]();i.add(s.subscribe({next:function(g){i.add(e.schedule(function(){return n.next(g)}))},error:function(g){i.add(e.schedule(function(){return n.error(g)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}function dA(t,e){return new hb(function(n){var i=new rc;return i.add(e.schedule(function(){return t.then(function(s){i.add(e.schedule(function(){n.next(s),i.add(e.schedule(function(){return n.complete()}))}))},function(s){i.add(e.schedule(function(){return n.error(s)}))})})),i})}function eA(t,e){if(!t)throw Error("Iterable cannot be null");return new hb(function(n){var i,s=new rc;return s.add(function(){i&&typeof i.return=="function"&&i.return()}),s.add(e.schedule(function(){i=t[We](),s.add(e.schedule(function(){if(!n.closed){try{var g=i.next(),l=g.value,C=g.done}catch(p){return void n.error(p)}C?n.complete():(n.next(l),this.schedule())}}))})),s})}function Hr(t,e){if(t!=null){if(t&&typeof t[Kg]=="function")return cA(t,e);if(Fr(t))return dA(t,e);if(Ir(t))return rm(t,e);if(t&&typeof t[We]=="function"||typeof t=="string")return eA(t,e)}throw new TypeError((t!==null&&Ia(t)||t)+" is not observable")}function Lg(t,e){return e?Hr(t,e):t instanceof hb?t:new hb($h(t))}function Jr(t,e){if(!e.closed){if(t instanceof hb)return t.subscribe(e);try{var n=$h(t)(e)}catch(i){e.error(i)}return n}}function tm(t,e,n){return n===void 0&&(n=Number.POSITIVE_INFINITY),typeof e=="function"?function(i){return i.pipe(tm(function(s,g){return Lg(t(s,g)).pipe(Pf(function(l,C){return e(s,l,g,C)}))},n))}:(typeof e=="number"&&(n=e),function(i){return i.lift(new fA(t,n))})}function Kr(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),tm(Xh,t)}function Lr(t){return new hb(function(e){try{var n=t()}catch(i){return void e.error(i)}return(n?Lg(n):qm()).subscribe(e)})}function Cj(t,e){return new hb(function(n){var i=t.length;if(i===0)n.complete();else for(var s=Array(i),g=0,l=0,C=function(B){var Q=Lg(t[B]),y=!1;n.add(Q.subscribe({next:function(_){y||(y=!0,l++),s[B]=_},error:function(_){return n.error(_)},complete:function(){++g!==i&&y||(l===i&&n.next(e?e.reduce(function(_,S,w){return _[S]=s[w],_},{}):s),n.complete())}}))},p=0;p<i;p++)C(p)})}function Mr(t,e,n,i){return Vh(n)&&(i=n,n=void 0),i?Mr(t,e,n).pipe(Pf(function(s){return Ad(s)?i.apply(void 0,s):i(s)})):new hb(function(s){Nr(t,e,function(g){1<arguments.length?s.next(Array.prototype.slice.call(arguments)):s.next(g)},s,n)})}function Nr(t,e,n,i,s){if(t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"){t.addEventListener(e,n,s);var g=function(){return t.removeEventListener(e,n,s)}}else if(t&&typeof t.on=="function"&&typeof t.off=="function")t.on(e,n),g=function(){return t.off(e,n)};else if(t&&typeof t.addListener=="function"&&typeof t.removeListener=="function")t.addListener(e,n),g=function(){return t.removeListener(e,n)};else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var l=0,C=t.length;l<C;l++)Nr(t[l],e,n,i,s)}i.add(g)}function Or(t,e,n){return n?Or(t,e).pipe(Pf(function(i){return Ad(i)?n.apply(void 0,i):n(i)})):new hb(function(i){var s=function(){for(var l=[],C=0;C<arguments.length;C++)l[C]=arguments[C];return i.next(l.length===1?l[0]:l)};try{var g=t(s)}catch(l){return void i.error(l)}if(Vh(e))return function(){return e(s,g)}})}function gA(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(g){return void e.error(g)}else t.needIterate=!0;if(n){var i=void 0;try{i=n(t.state)}catch(g){return void e.error(g)}if(!i)return void e.complete();if(e.closed)return}try{var s=t.resultSelector(t.state)}catch(g){return void e.error(g)}if(!e.closed&&(e.next(s),!e.closed))return this.schedule(t)}}function um(t){return!Ad(t)&&0<=t-parseFloat(t)+1}function hA(t){var e=t.subscriber,n=t.counter;t=t.period,e.next(n),this.schedule({subscriber:e,counter:n+1,period:t},t)}function vm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return Jg;var n=t[0],i=t.slice(1);return t.length===1&&Ad(n)?vm.apply(void 0,n):new hb(function(s){var g=function(){return s.add(vm.apply(void 0,i).subscribe(s))};return Lg(n).subscribe({next:function(l){s.next(l)},error:g,complete:g})})}function iA(t){var e=t.keys,n=t.index,i=t.subscriber,s=t.subscription;if(t=t.obj,!i.closed)if(n<e.length){var g=e[n];i.next([g,t[g]]),s.add(this.schedule({keys:e,index:n+1,subscriber:i,subscription:s,obj:t}))}else i.complete()}function jA(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function Pr(t,e){return function(n){return n.lift(new kA(t,e))}}function lA(t){var e=t.start,n=t.index,i=t.subscriber;n>=t.count?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function mA(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(n===-1)return i.complete();t.index=e+1,this.schedule(t,n)}}function nA(t,e){return tm(t,e,1)}function oA(t,e){e===void 0&&(e=ai);var n=t instanceof Date&&!isNaN(+t)?+t-e.now():Math.abs(t);return function(i){return i.lift(new pA(n,e))}}function qA(t,e){var n=!1;return 2<=arguments.length&&(n=!0),function(i){return i.lift(new rA(t,e,n))}}function sA(t){var e=1,n=wm;(1>=arguments.length?0:arguments.length-1)==1?typeof(1>=arguments.length?void 0:arguments[1])=="number"?e=1>=arguments.length?void 0:arguments[1]:n=1>=arguments.length?void 0:arguments[1]:(1>=arguments.length?0:arguments.length-1)==2&&(e=1>=arguments.length?void 0:arguments[1],n=2>=arguments.length?void 0:arguments[2]);var i=e||1;return function(s){return s.pipe(qA(function(g,l){var C=n.now(),p=C-t;if((g=g.filter(function(y){return y.until>p})).length>=i){var B=g[g.length-1],Q=g[0].until+t*Math.floor(g.length/i);g.push({delay:B.until<C?Q-C:Q-B.until,until:Q,value:l})}else g.push({delay:0,until:C,value:l});return g},[]),Pf(function(g){return g[g.length-1]}),nA(function(g){var l=Bj(g.value);return g.delay?l.pipe(oA(g.delay,n)):l}))}}function Qr(t,e){var n=(e=e===void 0?{protocols:Rr,makeWebSocket:Sr}:e).protocols,i=n===void 0?Rr:n,s=(e=e.makeWebSocket)===void 0?Sr:e;return new hb(function(g){var l,C=new Mg,p=s(t,i),B=!1,Q=!1,y=!1,_=function(S){if(l)throw B=!0,S=Error("Web socket message factory function called more than once"),g.error(S),S;return l=S.subscribe(function(w){p.send(w)}),C};return p.onopen=function(){y=!0,Q?(B=!0,p.close()):g.next(_)},p.onmessage=function(S){C.next(S.data)},p.onerror=function(S){B=!0,g.error(Error(S.message))},p.onclose=function(S){B||(B=!0,Q?(g.complete(),C.complete()):g.error(Error(S.code===1e3?"Normal closure":S.reason)))},function(){Q=!0,l&&l.unsubscribe(),B||(B=!0,y&&p.close())}})}function tA(t,e){var n="".concat(t,"Uri");if(typeof(n=xm[n])!="number"||n===0)throw new TypeError("Got Unknown URI Name");return e=new(t=Tr[t])(e),e=t.encode(e).finish(),new uA({uri:n,data:e})}function Ur(t,e){var n=Ue(Ma("EDGE_DOMAIN_TLD"));return"".concat(t.split(".").join("-"),".edge.").concat(n?Ma("EDGE_DOMAIN_TLD"):e?"sd-rtn.com":"agora.io")}function vA(t,e){return setInterval(function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0;return n=6e4<Date.now()-n,ym(t,e,n)},1e4)}function wA(t,e){return zm.apply(this,arguments)}function zm(){return(zm=wa(Z.mark(function t(e,n){var i;return Z.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i=function(){var g=wa(Z.mark(function l(C){var p,B,Q,y=arguments;return Z.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(3<(B=1<y.length&&y[1]!==void 0?y[1]:0))){_.next=3;break}return _.abrupt("return");case 3:return Q=n?"https://".concat((p=ua==null?void 0:ua.PROXY_NGINX[0])!==null&&p!==void 0?p:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(C,"&p=443&d=events/proto-raws"):"https://".concat(Ma("USE_STAGING_REPORT_DOMAIN")?"183-131-160-209.edge.staging-1-aws.myagoralab.com":C,"/events/proto-raws"),_.next=6,Kf(Q,{body:e,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(function(S){return i(C,B+1)});case 6:case"end":return _.stop()}},l)}));return function(l){return g.apply(this,arguments)}}(),s.prev=1,s.next=4,i((ua==null?void 0:ua.EVENT_REPORT_DOMAIN[0])||Ue(null)&&null||"webcollector-rtm.agora.io");case 4:s.next=10;break;case 6:return s.prev=6,s.t0=s.catch(1),s.next=10,i(ua&&Am(1<(ua==null?void 0:ua.EVENT_REPORT_DOMAIN.length)?ua==null?void 0:ua.EVENT_REPORT_DOMAIN.slice(1):ua==null?void 0:ua.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 10:case"end":return s.stop()}},t,null,[[1,6]])}))).apply(this,arguments)}function ym(t,e){var n=2<arguments.length&&arguments[2]!==void 0&&arguments[2];if(navigator.onLine===!1)return 0;var i="".concat("events-").concat(t);Xe.has(i)||Xe.set(i,[]);var s=Xe.get(i),g=Date.now();if(s.length===0||20>s.length&&!n)return g;for(;0<s.length;){n=s.splice(0,20<s.length?20:s.length),Xe.set(i,s);var l=Math.ceil(Date.now()/1e3);wA(n=Vr.encode({vid:T.fromNumber(Number(t)),sendTs:T.fromNumber(l),payloads:n}).finish(),e)}return g}function Hb(t,e,n,i){return Bm.apply(this,arguments)}function Bm(){return(Bm=wa(Z.mark(function t(e,n,i,s){var g,l,C,p,B;return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:g=Wr[e].encode(n).finish(),l=Xr[e],C={id:T.fromNumber(l),msg:g};var y=p="".concat("events-").concat(s);Xe.has(y)||Xe.set(y,[]),(B=Xe.get(p)).push(C),Xe.set(p,B),20<=B.length&&ym(s,i,!0);case 9:case"end":return Q.stop()}},t)}))).apply(this,arguments)}function Ng(t,e,n){return Cm.apply(this,arguments)}function Cm(){return(Cm=wa(Z.mark(function t(e,n,i){var s,g,l,C=arguments;return Z.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return s=3<C.length&&C[3]!==void 0&&C[3],g=Wr[e].encode(n).finish(),l=function(){var B=wa(Z.mark(function Q(y){var _,S,w,O=arguments;return Z.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(!(3<(S=1<O.length&&O[1]!==void 0?O[1]:0))){P.next=3;break}return P.abrupt("return");case 3:if(w=Cg(w=i?"https://".concat((_=ua==null?void 0:ua.PROXY_NGINX[0])!==null&&_!==void 0?_:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(y,"&p=443&d=events/proto-raw"):"https://".concat(Ma("USE_STAGING_REPORT_DOMAIN")?"183-131-160-209.edge.staging-1-aws.myagoralab.com":y,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),w=Cg(w,"id",Xr[e].toString()),!s){P.next=9;break}return P.next=9,gz(1e4);case 9:return P.next=11,Kf(w,{body:g,timeout:5e3,headers:{"Content-Type":"application/octet-stream"}}).catch(function(K){return l(y,S+1)});case 11:case"end":return P.stop()}},Q)}));return function(Q){return B.apply(this,arguments)}}(),p.prev=3,p.next=6,l((ua==null?void 0:ua.EVENT_REPORT_DOMAIN[0])||Ue(null)&&null||"webcollector-rtm.agora.io");case 6:p.next=12;break;case 8:return p.prev=8,p.t0=p.catch(3),p.next=12,l(ua&&Am(1<(ua==null?void 0:ua.EVENT_REPORT_DOMAIN.length)?ua==null?void 0:ua.EVENT_REPORT_DOMAIN.slice(1):ua==null?void 0:ua.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return p.stop()}},t,null,[[3,8]])}))).apply(this,arguments)}function Ub(t){return t===void 0?T.fromNumber(0):T.fromNumber(Date.now()-t)}function Yr(t,e){var n=this,i=t;if(4<t.toString().length){var s=t.toString().padStart(8,"0");if(t=parseInt(s.slice(0,4),10),s=parseInt(s.slice(4,8),10),t===201)i=s;else if(t===101&&!xA.includes(s))return i=V(G.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES),Na(new ja(this.operation,[i.reason],i.code))}if(t=i.toString(),!Object.keys(Zr).includes(t))return t=(e=V(G.RTM_ERROR_LOGIN_REJECTED)).code,(e=new ja(this.operation,[e.reason+"apCode is ".concat(i,", unexpected code.")],t)).serverCode=i,Na(e);switch(i=Zr[t],console.warn("%s: %s's error type is %s",this.name,e,i),i){case"NO_AUTHORIZED":return e=(t=V(G.RTM_ERROR_LOGIN_NOT_AUTHORIZED)).code,(i=new Dj(this.operation,t.reason+" detail: ".concat(i),e)).serverCode=e,Na(i);case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":case"INVALID_USER_ID":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return e=(t=V(G.RTM_ERROR_LOGIN_REJECTED)).code,(i=new Dj(this.operation,t.reason+" detail: ".concat(i),e)).serverCode=e,Na(i);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return i=(e=V(G.RTM_ERROR_TOKEN_EXPIRED)).code,(e=new Dj(this.operation,e.reason,i)).serverCode=i,Na(e);case"CANNOT_MEET_AREA_DEMAND":(t=yA(e)).forEach(function(l){return n.failedAreas.add(l)}),s=ua===void 0?2:ua.CODES.size;var g=V(G.RTM_ERROR_LOGIN_REJECTED);return e=g.code,g=g.reason,this.failedAreas.size===s?((i=new Ja(this.operation,[g+" detail: ".concat(i)],e)).serverCode=e,Na(i)):Na(new ja(this.operation,[g+"".concat(this.name," ").concat(t.join(", ")," cannot meet requirement")],e));case"INIT_APPID_MISMATCH":return i=(e=V(G.RTM_ERROR_INCONSISTENT_APPID)).code,(e=new ja(this.operation,[e.reason],i)).serverCode=i,Na(e);default:return e=(t=V(G.RTM_ERROR_LOGIN_REJECTED)).code,(i=new ja(this.operation,[t.reason+" detail: ".concat(i)],e)).serverCode=e,Na(i)}}function Ej(t,e){return T.fromValue(t).eq(e)}function Fj(t,e){var n=e===void 0?t.val:e,i=t.isBoolean;e=t.isNumber;var s=t.oneof,g=t.len;if([i,e,s].filter(function(l){return!l}).length!==2)throw new TypeError("invalid field type");if(n!==void 0&&(t=!1,s!==void 0&&(s=Dm(s),zA(s,Ej).length===s.length&&AA(s,function(l){return Ej(n,l)})!==void 0&&(t=!0)),i=i!==void 0&&(n===0||n===1)&&g===1,e=e!==void 0&&n.toString(2).length<=g,!(t||i||e)))throw Error("invalid field value")}function Jc(t){return t===Sa.ErrOK?V(G.RTM_ERROR_OK):t===Sa.ErrTimeout?V(G.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT):t===Sa.ErrNetwork?V(G.RTM_ERROR_PRESENCE_OPERATION_FAILED):V(t)}function ie(t){switch(t){case Ec.kMetadataOk:return V(G.RTM_ERROR_OK);case Ec.kArgumentError:return V(G.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case Ec.kOutdateRevision:return V(G.RTM_ERROR_STORAGE_OUTDATED_REVISION);case Ec.kTimeOutError:return V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return V(G.RTM_ERROR_STORAGE_OPERATION_FAILED)}}function Em(t){switch(t){case Ec.kMetadataOk:case Ec.kDuplicatedOperation:return V(G.RTM_ERROR_OK);case Ec.kArgumentError:return V(G.RTM_ERROR_STORAGE_INVALID_ARGUMENT);case Ec.kTimeOutError:return V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT);default:return V(t)}}function xe(t){switch(t){case Ec.kMetadataOk:case Ec.kDuplicatedOperation:return V(G.RTM_ERROR_OK);case Ec.kOutdateRevision:return V(G.RTM_ERROR_LOCK_ALREADY_EXIST);case Ec.kLockAcquireFailed:return V(G.RTM_ERROR_LOCK_ACQUIRE_FAILED);case Ec.kNoLock:return V(G.RTM_ERROR_LOCK_NOT_EXIST);default:return V(G.RTM_ERROR_LOCK_OPERATION_FAILED)}}function Og(t){switch(t){case yc.NOT_SUPPORTED:case yc.UNEXPECTED_RESPONSE:return V(G.RTM_ERROR_CHANNEL_NOT_AVAILABLE);case yc.INIT_DATACHANNEL_TIMEOUT:case yc.DATACHANNEL_CONNECTION_TIMEOUT:case yc.DATACHANNEL_FAILED:return V(G.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case yc.CAN_NOT_GET_GATEWAY_SERVER:case yc.VOID_GATEWAY_ADDRESS:case yc.MULTI_UNILBS_RESPONSE_ERROR:case yc.INIT_WEBSOCKET_TIMEOUT:case yc.UID_CONFLICT:return V(G.RTM_ERROR_CHANNEL_JOIN_FAILED);default:return{code:t,reason:""}}}function BA(t,e){do bi==2147483647?bi=0:bi++;while(Pg.hasOwnProperty(bi));var n=bi;return Pg[n]={callback:t,parameters:Array.prototype.slice.call(arguments,2)},Fm.postMessage({name:"setInterval",fakeId:n,time:e}),n}function Qg(t,e){e=E({},ye.STATE_REVISION,e!==void 0&&0<=e?e:void 0);for(var n=0;n<t.length;n++){var i=t[n];e[i.getKey()]=i.getValue(),e["".concat(ye.STATE_REVISION_KEY_PREFIX).concat(i.getKey())]=0<=i.getRevision()||i.getRevision()===-2?i.getRevision():void 0}return CA(e,DA(Qf(EA)))}function Gm(t){var e=JSON.parse(t);t={majorRevision:e[ye.STATE_REVISION],items:[]};var n=Hm(e,ye.STATE_REVISION);return e=Object.keys(n).filter(function(i){return i[0]!=="_"}),t.items=e.map(function(i){return new Rf({key:i,value:n[i],revision:n["".concat(ye.STATE_REVISION_KEY_PREFIX).concat(i)],updateTs:n["".concat(ye.STATE_TIMESTAMP_PREFIX).concat(i)],authorUserId:n["".concat(ye.STATE_AUTHOR_PREFIX).concat(i)]})}),t}function Gj(t){return function(){var e=t();if(!e)throw new cb("Client is not logged in. Cannot do the operation");return e}}function $r(t){return function(){var e=t();if(!e)throw new cb("Sync Client not connected, Cannot do the operation.");return e}}function je(t){return t=new Blob([t]).size,BigInt(t)}function Za(t){var e=X._malloc(new Blob([t]).size+1);return X.stringToUTF8(t,e,new Blob([t]).size+1),e}function as(t){var e=X.lengthBytesUTF8(t)+1,n=X._malloc(e);return X.stringToUTF8(t,n,e),X.HEAPU8[n+e-1]=1,n}function ib(t){X._free(t)}function Qd(t){return X.UTF8ToString(t).valueOf()}function Hj(t){return Qd(t=X.getValue(t,"i32"))}var Pc=be&&typeof be=="object"&&"default"in be?be:{default:be},xa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{},Ij=function(t){return t&&t.Math==Math&&t},za=Ij(typeof globalThis=="object"&&globalThis)||Ij(typeof window=="object"&&window)||Ij(typeof self=="object"&&self)||Ij(typeof xa=="object"&&xa)||function(){return this}()||Function("return this")(),Pa=function(t){try{return!!t()}catch{return!0}},ob=!Pa(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),bs={}.propertyIsEnumerable,cs=Object.getOwnPropertyDescriptor,ci=cs&&!bs.call({1:2},1)?function(t){return!!(t=cs(this,t))&&t.enumerable}:bs,ke=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},FA={}.toString,Bd=function(t){return FA.call(t).slice(8,-1)},GA="".split,di=Pa(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return Bd(t)=="String"?GA.call(t,""):Object(t)}:Object,bd=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t},cd=function(t){return di(bd(t))},jb=function(t){return typeof t=="object"?t!==null:typeof t=="function"},le=function(t,e){if(!jb(t))return t;var n,i;if(e&&typeof(n=t.toString)=="function"&&!jb(i=n.call(t))||typeof(n=t.valueOf)=="function"&&!jb(i=n.call(t))||!e&&typeof(n=t.toString)=="function"&&!jb(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},nc=function(t){return Object(bd(t))},HA={}.hasOwnProperty,La=function(t,e){return HA.call(nc(t),e)},Rg=za.document,Jj=jb(Rg)&&jb(Rg.createElement),ds=!ob&&!Pa(function(){return Object.defineProperty(Jj?Rg.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),es=Object.getOwnPropertyDescriptor,Rd=ob?es:function(t,e){if(t=cd(t),e=le(e,!0),ds)try{return es(t,e)}catch{}if(La(t,e))return ke(!ci.call(t,e),t[e])},Ob=function(t){if(!jb(t))throw TypeError(String(t)+" is not an object");return t},fs=Object.defineProperty,jc={f:ob?fs:function(t,e,n){if(Ob(t),e=le(e,!0),Ob(n),ds)try{return fs(t,e,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},kc=ob?function(t,e,n){return jc.f(t,e,ke(1,n))}:function(t,e,n){return t[e]=n,t},Im=function(t,e){try{kc(za,t,e)}catch{za[t]=e}return e},Ye=za["__core-js_shared__"]||Im("__core-js_shared__",{}),IA=Function.toString;typeof Ye.inspectSource!="function"&&(Ye.inspectSource=function(t){return IA.call(t)});var Jm=Ye.inspectSource,gs=za.WeakMap,hs=typeof gs=="function"&&/native code/.test(Jm(gs)),Ze=Ua(function(t){(t.exports=function(e,n){return Ye[e]||(Ye[e]=n!==void 0?n:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),JA=0,KA=Math.random(),Sg=function(t){return"Symbol("+String(t===void 0?"":t)+")_"+(++JA+KA).toString(36)},is=Ze("keys"),Kj=function(t){return is[t]||(is[t]=Sg(t))},Tg={},LA=za.WeakMap;if(hs||Ye.state)var Sf=Ye.state||(Ye.state=new LA),MA=Sf.get,js=Sf.has,NA=Sf.set,Km=function(t,e){if(js.call(Sf,t))throw new TypeError("Object already initialized");return e.facade=t,NA.call(Sf,t,e),e},Lj=function(t){return MA.call(Sf,t)||{}},Lm=function(t){return js.call(Sf,t)};else{var Ug=Kj("state");Tg[Ug]=!0,Km=function(t,e){if(La(t,Ug))throw new TypeError("Object already initialized");return e.facade=t,kc(t,Ug,e),e},Lj=function(t){return La(t,Ug)?t[Ug]:{}},Lm=function(t){return La(t,Ug)}}var Pb={set:Km,get:Lj,has:Lm,enforce:function(t){return Lm(t)?Lj(t):Km(t,{})},getterFor:function(t){return function(e){var n;if(!jb(e)||(n=Lj(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},Vb=Ua(function(t){var e=Pb.get,n=Pb.enforce,i=String(String).split("String");(t.exports=function(s,g,l,C){var p=!!C&&!!C.unsafe,B=!!C&&!!C.enumerable;if(C=!!C&&!!C.noTargetGet,typeof l=="function"){typeof g!="string"||La(l,"name")||kc(l,"name",g);var Q=n(l);Q.source||(Q.source=i.join(typeof g=="string"?g:""))}s===za?B?s[g]=l:Im(g,l):(p?!C&&s[g]&&(B=!0):delete s[g],B?s[g]=l:kc(s,g,l))})(Function.prototype,"toString",function(){return typeof this=="function"&&e(this).source||Jm(this)})}),ks=function(t){return typeof t=="function"?t:void 0},Sd=function(t,e){return 2>arguments.length?ks(za[t])||ks(za[t]):za[t]&&za[t][e]||za[t]&&za[t][e]},OA=Math.ceil,PA=Math.floor,Cd=function(t){return isNaN(t=+t)?0:(0<t?PA:OA)(t)},QA=Math.min,Kb=function(t){return 0<t?QA(Cd(t),9007199254740991):0},RA=Math.max,SA=Math.min,ld=function(t,e){return 0>(t=Cd(t))?RA(t+e,0):SA(t,e)},ls=function(t){return function(e,n,i){e=cd(e);var s=Kb(e.length);if(i=ld(i,s),t&&n!=n){for(;s>i;)if((n=e[i++])!=n)return!0}else for(;s>i;i++)if((t||i in e)&&e[i]===n)return t||i||0;return!t&&-1}},ms=ls(!0),Mm=ls(!1),ns=function(t,e){t=cd(t);var n,i=0,s=[];for(n in t)!La(Tg,n)&&La(t,n)&&s.push(n);for(;e.length>i;)La(t,n=e[i++])&&(~Mm(s,n)||s.push(n));return s},Mj="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),TA=Mj.concat("length","prototype"),Tf={f:Object.getOwnPropertyNames||function(t){return ns(t,TA)}},ei={f:Object.getOwnPropertySymbols},os=Sd("Reflect","ownKeys")||function(t){var e=Tf.f(Ob(t)),n=ei.f;return n?e.concat(n(t)):e},ps=function(t,e){for(var n=os(e),i=jc.f,s=Rd,g=0;g<n.length;g++){var l=n[g];La(t,l)||i(t,l,s(e,l))}},UA=/#|\.prototype\./,me=function(t,e){return(t=VA[WA(t)])==XA||t!=YA&&(typeof e=="function"?Pa(e):!!e)},WA=me.normalize=function(t){return String(t).replace(UA,".").toLowerCase()},VA=me.data={},YA=me.NATIVE="N",XA=me.POLYFILL="P",ZA=Rd,Ha=function(t,e){var n,i,s,g=t.target,l=t.global,C=t.stat;if(i=l?za:C?za[g]||Im(g,{}):(za[g]||{}).prototype)for(s in e){var p=e[s],B=t.noTargetGet?(n=ZA(i,s))&&n.value:i[s];if(!(n=me(l?s:g+(C?".":"#")+s,t.forced))&&B!==void 0){if(typeof p==typeof B)continue;ps(p,B)}(t.sham||B&&B.sham)&&kc(p,"sham",!0);try{Vb(i,s,p,t)}catch{}}},Vg=Sd("navigator","userAgent")||"",qs=za.process,rs=qs&&qs.versions,ss=rs&&rs.v8;if(ss)var $e=ss.split("."),Nm=4>$e[0]?1:$e[0]+$e[1];else Vg&&($e=Vg.match(/Edge\/(\d+)/),(!$e||74<=$e[1])&&($e=Vg.match(/Chrome\/(\d+)/))&&(Nm=$e[1]));var af=Nm&&+Nm,ne=!!Object.getOwnPropertySymbols&&!Pa(function(){return!String(Symbol())||!Symbol.sham&&af&&41>af}),ts=ne&&!Symbol.sham&&typeof Symbol.iterator=="symbol",fi=Ze("wks"),gi=za.Symbol,$A=ts?gi:gi&&gi.withoutSetter||Sg,Bb=function(t){return La(fi,t)&&(ne||typeof fi[t]=="string")||(ne&&La(gi,t)?fi[t]=gi[t]:fi[t]=$A("Symbol."+t)),fi[t]},ze=Object.keys||function(t){return ns(t,Mj)},us=ob?Object.defineProperties:function(t,e){Ob(t);for(var n,i=ze(e),s=i.length,g=0;s>g;)jc.f(t,n=i[g++],e[n]);return t},Om=Sd("document","documentElement"),vs=Kj("IE_PROTO"),Pm=function(){},Qm,Nj=function(){try{Qm=document.domain&&new ActiveXObject("htmlfile")}catch{}if(Qm){var t=Qm;t.write("<script><\/script>"),t.close(),t=t.parentWindow.Object}else(t=Jj?Rg.createElement("iframe"):{}).style.display="none",Om.appendChild(t),t.src="javascript:",(t=t.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),t=t.F;for(Nj=t,t=Mj.length;t--;)delete Nj.prototype[Mj[t]];return Nj()};Tg[vs]=!0;var Td=Object.create||function(t,e){if(t!==null){Pm.prototype=Ob(t);var n=new Pm;Pm.prototype=null,n[vs]=t}else n=Nj();return e===void 0?n:us(n,e)},Rm=Bb("unscopables"),Sm=Array.prototype;Sm[Rm]==null&&jc.f(Sm,Rm,{configurable:!0,value:Td(null)});var Wg=function(t){Sm[Rm][t]=!0};Ha({target:"Array",proto:!0},{includes:function(t){return ms(this,t,1<arguments.length?arguments[1]:void 0)}}),Wg("includes");var aB=Bb("match"),Tm=function(t){var e;return jb(t)&&((e=t[aB])!==void 0?!!e:Bd(t)=="RegExp")},Um=function(t){if(Tm(t))throw TypeError("The method doesn't accept regular expressions");return t},bB=Bb("match"),Vm=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[bB]=!1,"/./"[t](e)}catch{}}return!1};Ha({target:"String",proto:!0,forced:!Vm("includes")},{includes:function(t){return!!~String(bd(this)).indexOf(Um(t),1<arguments.length?arguments[1]:void 0)}});var bf=Array.isArray||function(t){return Bd(t)=="Array"},oe=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t},cf=function(t,e,n){if(oe(t),e===void 0)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,s){return t.call(e,i,s)};case 3:return function(i,s,g){return t.call(e,i,s,g)}}return function(){return t.apply(e,arguments)}},ws=function(t,e,n,i,s,g,l,C){var p=0;for(l=!!l&&cf(l,C,3);p<i;){if(p in n){if(C=l?l(n[p],p,e):n[p],0<g&&bf(C))s=ws(t,e,C,Kb(C.length),s,g-1)-1;else{if(9007199254740991<=s)throw TypeError("Exceed the acceptable array length");t[s]=C}s++}p++}return s},cB=ws,dB=Bb("species"),Oj=function(t,e){if(bf(t)){var n=t.constructor;typeof n!="function"||n!==Array&&!bf(n.prototype)?jb(n)&&(n=n[dB])===null&&(n=void 0):n=void 0}return new(n===void 0?Array:n)(e===0?0:e)};Ha({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=nc(this),n=Kb(e.length),i=Oj(e,0);return i.length=cB(i,e,e,n,0,t===void 0?1:Cd(t)),i}});var eB=ci,xs=function(t){return function(e){e=cd(e);for(var n,i=ze(e),s=i.length,g=0,l=[];s>g;)n=i[g++],ob&&!eB.call(e,n)||l.push(t?[n,e[n]]:e[n]);return l}},fB=xs(!0),gB=xs(!1);Ha({target:"Object",stat:!0},{values:function(t){return gB(t)}});var ys=[].push,df=function(t){var e=t==1,n=t==2,i=t==3,s=t==4,g=t==6,l=t==7,C=t==5||g;return function(p,B,Q,y){var _=nc(p),S=di(_);B=cf(B,Q,3),Q=Kb(S.length);var w,O=0;for(y=y||Oj,p=e?y(p,Q):n||l?y(p,0):void 0;Q>O;O++)if((C||O in S)&&(w=B(y=S[O],O,_),t))if(e)p[O]=w;else if(w)switch(t){case 3:return!0;case 5:return y;case 6:return O;case 2:ys.call(p,y)}else switch(t){case 4:return!1;case 7:ys.call(p,y)}return g?-1:i||s?s:p}},Uf=df(0),zs=df(1),As=df(2),hB=df(3),iB=df(4),Wm=df(5),Xm=df(6),Bs=!0;"find"in[]&&Array(1).find(function(){Bs=!1}),Ha({target:"Array",proto:!0,forced:Bs},{find:function(t){return Wm(this,t,1<arguments.length?arguments[1]:void 0)}}),Wg("find");var Xg=function(t,e){var n=[][t];return!!n&&Pa(function(){n.call(null,e||function(){throw 1},1)})},Ym=[],Cs=Ym.sort,jB=Pa(function(){Ym.sort(void 0)}),kB=Pa(function(){Ym.sort(null)}),lB=Xg("sort");Ha({target:"Array",proto:!0,forced:jB||!kB||!lB},{sort:function(t){return t===void 0?Cs.call(nc(this)):Cs.call(nc(this),oe(t))}});var Ds=[].indexOf,Es=!!Ds&&0>1/[1].indexOf(1,-0),mB=Xg("indexOf");Ha({target:"Array",proto:!0,forced:Es||!mB},{indexOf:function(t){return Es?Ds.apply(this,arguments)||0:Mm(this,t,1<arguments.length?arguments[1]:void 0)}});var Yg={},Fs=!Pa(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Gs=Kj("IE_PROTO"),nB=Object.prototype,pe=Fs?Object.getPrototypeOf:function(t){return t=nc(t),La(t,Gs)?t[Gs]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?nB:null},Zm=Bb("iterator"),Hs=!1,oB=function(){return this},Vf;if([].keys){var Is=[].keys();if("next"in Is){var Js=pe(pe(Is));Js!==Object.prototype&&(Vf=Js)}else Hs=!0}(Vf==null||Pa(function(){var t={};return Vf[Zm].call(t)!==t}))&&(Vf={}),La(Vf,Zm)||kc(Vf,Zm,oB);var Pj=Vf,Qj=Hs,pB=jc.f,Ks=Bb("toStringTag"),Ud=function(t,e,n){t&&!La(t=n?t:t.prototype,Ks)&&pB(t,Ks,{configurable:!0,value:e})},qB=function(){return this},Ls=function(t,e,n){return e+=" Iterator",t.prototype=Td(Pj,{next:ke(1,n)}),Ud(t,e,!1),Yg[e]=qB,t},sc=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={};try{var n=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;n.call(e,[]),t=e instanceof Array}catch{}return function(i,s){if(Ob(i),!jb(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return t?n.call(i,s):i.__proto__=s,i}}():void 0),hi=Bb("iterator"),rB=function(){return this},$m=function(t,e,n,i,s,g,l){Ls(n,e,i),i=function(O){if(O===s&&_)return _;if(!Qj&&O in Q)return Q[O];switch(O){case"keys":case"values":case"entries":return function(){return new n(this,O)}}return function(){return new n(this)}};var C,p=e+" Iterator",B=!1,Q=t.prototype,y=Q[hi]||Q["@@iterator"]||s&&Q[s],_=!Qj&&y||i(s),S=e=="Array"&&Q.entries||y;if(S&&(t=pe(S.call(new t)),Pj!==Object.prototype&&t.next&&(pe(t)!==Pj&&(sc?sc(t,Pj):typeof t[hi]!="function"&&kc(t,hi,rB)),Ud(t,p,!0))),s=="values"&&y&&y.name!=="values"&&(B=!0,_=function(){return y.call(this)}),Q[hi]!==_&&kc(Q,hi,_),Yg[e]=_,s){var w={values:i("values"),keys:g?_:i("keys"),entries:i("entries")};if(l)for(C in w)!Qj&&!B&&C in Q||Vb(Q,C,w[C]);else Ha({target:e,proto:!0,forced:Qj||B},w)}return w},sB=Pb.set,tB=Pb.getterFor("Array Iterator"),ef=$m(Array,"Array",function(t,e){sB(this,{type:"Array Iterator",target:cd(t),index:0,kind:e})},function(){var t=tB(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):n=="keys"?{value:i,done:!1}:n=="values"?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values");Yg.Arguments=Yg.Array,Wg("keys"),Wg("values"),Wg("entries");var uB=Bb("toStringTag"),Ms={};Ms[uB]="z";var an=String(Ms)==="[object z]",vB=Bb("toStringTag"),wB=Bd(function(){return arguments}())=="Arguments",Zg=an?Bd:function(t){var e;if(t===void 0)var n="Undefined";else{if(t===null)var i="Null";else{e:{var s=t=Object(t);try{i=s[vB];break e}catch{}i=void 0}i=typeof(n=i)=="string"?n:wB?Bd(t):(e=Bd(t))=="Object"&&typeof t.callee=="function"?"Arguments":e}n=i}return n},xB=an?{}.toString:function(){return"[object "+Zg(this)+"]"};an||Vb(Object.prototype,"toString",xB,{unsafe:!0});var Ns=!Pa(function(){return Object.isExtensible(Object.preventExtensions({}))}),ii=Ua(function(t){var e=jc.f,n=Sg("meta"),i=0,s=Object.isExtensible||function(){return!0},g=function(C){e(C,n,{value:{objectID:"O"+ ++i,weakData:{}}})},l=t.exports={REQUIRED:!1,fastKey:function(C,p){if(!jb(C))return typeof C=="symbol"?C:(typeof C=="string"?"S":"P")+C;if(!La(C,n)){if(!s(C))return"F";if(!p)return"E";g(C)}return C[n].objectID},getWeakData:function(C,p){if(!La(C,n)){if(!s(C))return!0;if(!p)return!1;g(C)}return C[n].weakData},onFreeze:function(C){return Ns&&l.REQUIRED&&s(C)&&!La(C,n)&&g(C),C}};Tg[n]=!0}),yB=Bb("iterator"),zB=Array.prototype,bn=function(t){return t!==void 0&&(Yg.Array===t||zB[yB]===t)},AB=Bb("iterator"),ji=function(t){if(t!=null)return t[AB]||t["@@iterator"]||Yg[Zg(t)]},cn=function(t){var e=t.return;if(e!==void 0)return Ob(e.call(t)).value},ki=function(t,e){this.stopped=t,this.result=e},li=function(t,e,n){var i,s=!(!n||!n.AS_ENTRIES),g=!(!n||!n.IS_ITERATOR),l=!(!n||!n.INTERRUPTED),C=cf(e,n&&n.that,1+s+l),p=function(Q){return B&&cn(B),new ki(!0,Q)};if(e=function(Q){return s?(Ob(Q),l?C(Q[0],Q[1],p):C(Q[0],Q[1])):l?C(Q,p):C(Q)},g)var B=t;else{if(typeof(g=ji(t))!="function")throw TypeError("Target is not iterable");if(bn(g)){for(g=0,n=Kb(t.length);n>g;g++)if((i=e(t[g]))&&i instanceof ki)return i;return new ki(!1)}B=g.call(t)}for(t=B.next;!(g=t.call(B)).done;){try{i=e(g.value)}catch(Q){throw cn(B),Q}if(typeof i=="object"&&i&&i instanceof ki)return i}return new ki(!1)},Dd=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},Os=Bb("iterator"),Ps=!1;try{var BB=0,Qs={next:function(){return{done:!!BB++}},return:function(){Ps=!0}};Qs[Os]=function(){return this},Array.from(Qs,function(){throw 2})}catch(t){}var Rj=function(t,e){if(!e&&!Ps)return!1;var n=!1;try{(e={})[Os]=function(){return{next:function(){return{done:n=!0}}}},t(e)}catch{}return n},Sj=function(t,e,n){var i,s;return sc&&typeof(i=e.constructor)=="function"&&i!==n&&jb(s=i.prototype)&&s!==n.prototype&&sc(t,s),t},dn=function(t,e,n){var i=t.indexOf("Map")!==-1,s=t.indexOf("Weak")!==-1,g=i?"set":"add",l=za[t],C=l&&l.prototype,p=l,B={},Q=function(P){var K=C[P];Vb(C,P,P=="add"?function(M){return K.call(this,M===0?0:M),this}:P=="delete"?function(M){return!(s&&!jb(M))&&K.call(this,M===0?0:M)}:P=="get"?function(M){return s&&!jb(M)?void 0:K.call(this,M===0?0:M)}:P=="has"?function(M){return!(s&&!jb(M))&&K.call(this,M===0?0:M)}:function(M,U){return K.call(this,M===0?0:M,U),this})};if(me(t,typeof l!="function"||!(s||C.forEach&&!Pa(function(){new l().entries().next()}))))p=n.getConstructor(e,t,i,g),ii.REQUIRED=!0;else if(me(t,!0)){var y=new p,_=y[g](s?{}:-0,1)!=y,S=Pa(function(){y.has(1)}),w=Rj(function(P){new l(P)}),O=!s&&Pa(function(){for(var P=new l,K=5;K--;)P[g](K,K);return!P.has(-0)});w||((p=e(function(P,K){return Dd(P,p,t),P=Sj(new l,P,p),K!=null&&li(K,P[g],{that:P,AS_ENTRIES:i}),P})).prototype=C,C.constructor=p),(S||O)&&(Q("delete"),Q("has"),i&&Q("get")),(O||_)&&Q(g),s&&C.clear&&delete C.clear}return B[t]=p,Ha({global:!0,forced:p!=l},B),Ud(p,t),s||n.setStrong(p,t,i),p},Ae=function(t,e,n){for(var i in e)Vb(t,i,e[i],n);return t},Rs=Bb("species"),mi=function(t){t=Sd(t);var e=jc.f;ob&&t&&!t[Rs]&&e(t,Rs,{configurable:!0,get:function(){return this}})},CB=jc.f,Ss=ii.fastKey,Ts=Pb.set,en=Pb.getterFor,Us={getConstructor:function(t,e,n,i){var s=t(function(p,B){Dd(p,s,e),Ts(p,{type:e,index:Td(null),first:void 0,last:void 0,size:0}),ob||(p.size=0),B!=null&&li(B,p[i],{that:p,AS_ENTRIES:n})}),g=en(e),l=function(p,B,Q){var y,_=g(p),S=C(p,B);return S?S.value=Q:(_.last=S={index:y=Ss(B,!0),key:B,value:Q,previous:B=_.last,next:void 0,removed:!1},_.first||(_.first=S),B&&(B.next=S),ob?_.size++:p.size++,y!=="F"&&(_.index[y]=S)),p},C=function(p,B){p=g(p);var Q=Ss(B);if(Q!=="F")return p.index[Q];for(p=p.first;p;p=p.next)if(p.key==B)return p};return Ae(s.prototype,{clear:function(){for(var p=g(this),B=p.index,Q=p.first;Q;)Q.removed=!0,Q.previous&&(Q.previous=Q.previous.next=void 0),delete B[Q.index],Q=Q.next;p.first=p.last=void 0,ob?p.size=0:this.size=0},delete:function(p){var B=g(this);if(p=C(this,p)){var Q=p.next,y=p.previous;delete B.index[p.index],p.removed=!0,y&&(y.next=Q),Q&&(Q.previous=y),B.first==p&&(B.first=Q),B.last==p&&(B.last=y),ob?B.size--:this.size--}return!!p},forEach:function(p){for(var B,Q=g(this),y=cf(p,1<arguments.length?arguments[1]:void 0,3);B=B?B.next:Q.first;)for(y(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(p){return!!C(this,p)}}),Ae(s.prototype,n?{get:function(p){return(p=C(this,p))&&p.value},set:function(p,B){return l(this,p===0?0:p,B)}}:{add:function(p){return l(this,p=p===0?0:p,p)}}),ob&&CB(s.prototype,"size",{get:function(){return g(this).size}}),s},setStrong:function(t,e,n){var i=e+" Iterator",s=en(e),g=en(i);$m(t,e,function(l,C){Ts(this,{type:i,target:l,state:s(l),kind:C,last:void 0})},function(){for(var l=g(this),C=l.kind,p=l.last;p&&p.removed;)p=p.previous;return l.target&&(l.last=p=p?p.next:l.state.first)?C=="keys"?{value:p.key,done:!1}:C=="values"?{value:p.value,done:!1}:{value:[p.key,p.value],done:!1}:(l.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),mi(e)}};dn("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Us);var Vs=function(t){return function(e,n){e=String(bd(e)),n=Cd(n);var i,s=e.length;if(0>n||n>=s)return t?"":void 0;var g=e.charCodeAt(n);return 55296>g||56319<g||n+1===s||56320>(i=e.charCodeAt(n+1))||57343<i?t?e.charAt(n):g:t?e.slice(n,n+2):i-56320+(g-55296<<10)+65536}},DB=Vs(!1),Ws=Vs(!0),EB=Pb.set,FB=Pb.getterFor("String Iterator");$m(String,"String",function(t){EB(this,{type:"String Iterator",string:String(t),index:0})},function(){var t=FB(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(e=Ws(e,n),t.index+=e.length,{value:e,done:!1})});var fn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},gn=Bb("iterator"),Xs=Bb("toStringTag"),hn=ef.values,Tj;for(Tj in fn){var Ys=za[Tj],Be=Ys&&Ys.prototype;if(Be){if(Be[gn]!==hn)try{kc(Be,gn,hn)}catch{Be[gn]=hn}if(Be[Xs]||kc(Be,Xs,Tj),fn[Tj]){for(var $g in ef)if(Be[$g]!==ef[$g])try{kc(Be,$g,ef[$g])}catch{Be[$g]=ef[$g]}}}}var GB=Bb("species"),ni=function(t){return 51<=af||!Pa(function(){var e=[];return(e.constructor={})[GB]=function(){return{foo:1}},e[t](Boolean).foo!==1})},HB=ni("map");Ha({target:"Array",proto:!0,forced:!HB},{map:function(t){return zs(this,t,1<arguments.length?arguments[1]:void 0)}});var ah=function(t,e,n){(e=le(e))in t?jc.f(t,e,ke(0,n)):t[e]=n},IB=ni("slice"),JB=Bb("species"),KB=[].slice,LB=Math.max;Ha({target:"Array",proto:!0,forced:!IB},{slice:function(t,e){var n=cd(this),i=Kb(n.length);if(t=ld(t,i),e=ld(e===void 0?i:e,i),bf(n)){var s=n.constructor;if(typeof s!="function"||s!==Array&&!bf(s.prototype)?jb(s)&&(s=s[JB])===null&&(s=void 0):s=void 0,s===Array||s===void 0)return KB.call(n,t,e)}for(s=new(s===void 0?Array:s)(LB(e-t,0)),i=0;t<e;t++,i++)t in n&&ah(s,i,n[t]);return s.length=i,s}});var Zs=function(t){return function(e,n,i,s){oe(n),e=nc(e);var g=di(e),l=Kb(e.length),C=t?l-1:0,p=t?-1:1;if(2>i)for(;;){if(C in g){s=g[C],C+=p;break}if(C+=p,t?0>C:l<=C)throw TypeError("Reduce of empty array with no initial value")}for(;t?0<=C:l>C;C+=p)C in g&&(s=n(s,g[C],C,e));return s}},$s=Zs(!1),MB=Zs(!0),Ce=Bd(za.process)=="process",NB=Xg("reduce"),OB=!Ce&&79<af&&83>af;Ha({target:"Array",proto:!0,forced:!NB||OB},{reduce:function(t){return $s(this,t,arguments.length,1<arguments.length?arguments[1]:void 0)}});var Wf=function(t){var e,n=nc(t),i=typeof this=="function"?this:Array,s=arguments.length,g=1<s?arguments[1]:void 0,l=g!==void 0,C=ji(n),p=0;if(l&&(g=cf(g,2<s?arguments[2]:void 0,2)),C==null||i==Array&&bn(C)){var B=Kb(n.length);for(i=new i(B);B>p;p++)C=l?g(n[p],p):n[p],ah(i,p,C)}else for(s=(n=C.call(n)).next,i=new i;!(e=s.call(n)).done;p++){if(l){C=n;var Q=g;e=[e.value,p];try{B=Q(Ob(e)[0],e[1])}catch(y){throw cn(C),y}}else B=e.value;ah(i,p,C=B)}return i.length=p,i},PB=!Rj(function(t){Array.from(t)});Ha({target:"Array",stat:!0,forced:PB},{from:Wf});var at=Bb("isConcatSpreadable"),QB=51<=af||!Pa(function(){var t=[];return t[at]=!1,t.concat()[0]!==t}),RB=ni("concat");Ha({target:"Array",proto:!0,forced:!QB||!RB},{concat:function(t){var e,n=nc(this),i=Oj(n,0),s=0,g=-1;for(e=arguments.length;g<e;g++){var l=g===-1?n:arguments[g],C=l;if(jb(C)){var p=C[at];C=p!==void 0?!!p:bf(C)}else C=!1;if(C){if(9007199254740991<s+(p=Kb(l.length)))throw TypeError("Maximum allowed index exceeded");for(C=0;C<p;C++,s++)C in l&&ah(i,s,l[C])}else{if(9007199254740991<=s)throw TypeError("Maximum allowed index exceeded");ah(i,s++,l)}}return i.length=s,i}});var SB=ni("filter"),ff,d,jn,kn,oi;Ha({target:"Array",proto:!0,forced:!SB},{filter:function(t){return As(this,t,1<arguments.length?arguments[1]:void 0)}}),d=ff||(ff={}),d.UNSUBSCRIBED="UNSUBSCRIBED",d.SUBSCRIBED="SUBSCRIBED",function(t){t.STRING="STRING",t.BINARY="BINARY"}(jn||(jn={})),function(t){t.CN="CN",t.NA="NA",t.EU="EU",t.AS="AS",t.JP="JP",t.IN="IN",t.GLOB="GLOB",t.OC="OC",t.SA="SA",t.AF="AF",t.KR="KR",t.US="US",t.OVS="OVS"}(kn||(kn={})),function(t){t.GLOBAL="GLOBAL",t.INDIA="INDIA",t.JAPAN="JAPAN",t.ASIA="ASIA",t.EUROPE="EUROPE",t.CHINA="CHINA",t.NORTH_AMERICA="NORTH_AMERICA"}(oi||(oi={}));var TB=Object.freeze({__proto__:null,get subscribedState(){return ff},get MessageType(){return jn},get LegacyAreaCode(){return kn},get AreaCode(){return oi}}),UB=jc.f,ln=Function.prototype,VB=ln.toString,WB=/^\s*function ([^ (]*)/;!ob||"name"in ln||UB(ln,"name",{configurable:!0,get:function(){try{return VB.call(this).match(WB)[1]}catch{return""}}});var XB=Pa(function(){ze(1)});Ha({target:"Object",stat:!0,forced:XB},{keys:function(t){return ze(nc(t))}});var Uj=function(){var t=Ob(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Vd=Pa(function(){var t=/a/y;return t.lastIndex=2,t.exec("abcd")!=null}),YB=Pa(function(){var t=/^r/gy;return t.lastIndex=2,t.exec("str")!=null}),Vj=RegExp.prototype.exec,ZB=Ze("native-string-replace",String.prototype.replace),bt=Vj,mn=function(){var t=/a/,e=/b*/g;return Vj.call(t,"a"),Vj.call(e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),ct=Vd||YB,nn=/()??/.exec("")[1]!==void 0;(mn||nn||ct)&&(bt=function(t){var e,n=ct&&this.sticky,i=Uj.call(this),s=this.source,g=0,l=t;if(n){(i=i.replace("y","")).indexOf("g")===-1&&(i+="g"),l=String(t).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&t[this.lastIndex-1]!==`
`)&&(s="(?: "+s+")",l=" "+l,g++);var C=new RegExp("^(?:"+s+")",i)}if(nn&&(C=new RegExp("^"+s+"$(?!\\s)",i)),mn)var p=this.lastIndex;var B=Vj.call(n?C:this,l);return n?B?(B.input=B.input.slice(g),B[0]=B[0].slice(g),B.index=this.lastIndex,this.lastIndex+=B[0].length):this.lastIndex=0:mn&&B&&(this.lastIndex=this.global?B.index+B[0].length:p),nn&&B&&1<B.length&&ZB.call(B[0],C,function(){for(e=1;e<arguments.length-2;e++)arguments[e]===void 0&&(B[e]=void 0)}),B});var pi=bt;Ha({target:"RegExp",proto:!0,forced:/./.exec!==pi},{exec:pi});var $B=Bb("species"),on=RegExp.prototype,aC=!Pa(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),dt="a".replace(/./,"$0")==="$0",et=Bb("replace"),ft=!!/./[et]&&/./[et]("a","$0")==="",bC=!Pa(function(){var t=/(?:)/,e=t.exec;return t.exec=function(){return e.apply(this,arguments)},(t="ab".split(t)).length!==2||t[0]!=="a"||t[1]!=="b"}),pn=function(t,e,n,i){var s=Bb(t),g=!Pa(function(){var B={};return B[s]=function(){return 7},""[t](B)!=7}),l=g&&!Pa(function(){var B=!1,Q=/a/;return t==="split"&&((Q={constructor:{}}).constructor[$B]=function(){return Q},Q.flags="",Q[s]=/./[s]),Q.exec=function(){return B=!0,null},Q[s](""),!B});if(!g||!l||t==="replace"&&(!aC||!dt||ft)||t==="split"&&!bC){var C=/./[s],p=(n=n(s,""[t],function(B,Q,y,_,S){var w=Q.exec;return w===pi||w===on.exec?g&&!S?{done:!0,value:C.call(Q,y,_)}:{done:!0,value:B.call(y,Q,_)}:{done:!1}},{REPLACE_KEEPS_$0:dt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:ft}))[1];Vb(String.prototype,t,n[0]),Vb(on,s,e==2?function(B,Q){return p.call(B,this,Q)}:function(B){return p.call(B,this)})}i&&kc(on[s],"sham",!0)},qn=function(t,e,n){return e+(n?Ws(t,e).length:1)},cC=Math.floor,dC="".replace,eC=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,fC=/\$([$&'`]|\d{1,2})/g,gC=function(t,e,n,i,s,g){var l=n+t.length,C=i.length,p=fC;return s!==void 0&&(s=nc(s),p=eC),dC.call(g,p,function(B,Q){switch(Q.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(l);case"<":B=s[Q.slice(1,-1)];break;default:var y=+Q;if(y===0)return B;if(y>C)return(y=cC(y/10))===0?B:y<=C?i[y-1]===void 0?Q.charAt(1):i[y-1]+Q.charAt(1):B;B=i[y-1]}return B===void 0?"":B})},qi=function(t,e){var n=t.exec;if(typeof n=="function"){if(typeof(t=n.call(t,e))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return t}if(Bd(t)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return pi.call(t,e)},hC=Math.max,iC=Math.min;pn("replace",2,function(t,e,n,i){var s=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=i.REPLACE_KEEPS_$0,l=s?"$":"$0";return[function(C,p){var B=bd(this),Q=C==null?void 0:C[t];return Q!==void 0?Q.call(C,B,p):e.call(String(B),C,p)},function(C,p){if(!s&&g||typeof p=="string"&&p.indexOf(l)===-1){var B=n(e,C,this,p);if(B.done)return B.value}var Q=Ob(C);C=String(this),(B=typeof p=="function")||(p=String(p));var y=Q.global;if(y){var _=Q.unicode;Q.lastIndex=0}for(var S=[];;){var w=qi(Q,C);if(w===null||(S.push(w),!y))break;String(w[0])===""&&(Q.lastIndex=qn(C,Kb(Q.lastIndex),_))}for(_="",y=Q=0;y<S.length;y++){w=S[y];for(var O=String(w[0]),P=hC(iC(Cd(w.index),C.length),0),K=[],M=1;M<w.length;M++){var U=K,F=w[M];U.push.call(U,F===void 0?F:String(F))}w=w.groups,B?(K=[O].concat(K,P,C),w!==void 0&&K.push(w),w=String(p.apply(void 0,K))):w=gC(O,C,P,K,w,p),P>=Q&&(_+=C.slice(Q,P)+w,Q=P+O.length)}return _+C.slice(Q)}]});var jC=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,kC=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,rn=function(t){return function(e){return e=String(bd(e)),1&t&&(e=e.replace(jC,"")),2&t&&(e=e.replace(kC,"")),e}},sn=rn(3),lC=Tf.f,mC=Rd,nC=jc.f,gf=za.Number,Wj=gf.prototype,oC=Bd(Td(Wj))=="Number",gt=function(t){var e,n=le(t,!1);if(typeof n=="string"&&2<n.length){if((t=(n=sn(n)).charCodeAt(0))===43||t===45){if((t=n.charCodeAt(2))===88||t===120)return NaN}else if(t===48){switch(n.charCodeAt(1)){case 66:case 98:t=2;var i=49;break;case 79:case 111:t=8,i=55;break;default:return+n}var s=(n=n.slice(2)).length;for(e=0;e<s;e++){var g=n.charCodeAt(e);if(48>g||g>i)return NaN}return parseInt(n,t)}}return+n};if(me("Number",!gf(" 0o1")||!gf("0b1")||gf("+0x1"))){for(var Xf=function(t){var e=1>arguments.length?0:t,n=this;return n instanceof Xf&&(oC?Pa(function(){Wj.valueOf.call(n)}):Bd(n)!="Number")?Sj(new gf(gt(e)),n,Xf):gt(e)},ht=ob?lC(gf):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),tn=0,Xj;ht.length>tn;tn++)La(gf,Xj=ht[tn])&&!La(Xf,Xj)&&nC(Xf,Xj,mC(gf,Xj));Xf.prototype=Wj,Wj.constructor=Xf,Vb(za,"Number",Xf)}var pC=[].join,qC=di!=Object,rC=Xg("join",",");Ha({target:"Array",proto:!0,forced:qC||!rC},{join:function(t){return pC.call(cd(this),t===void 0?",":t)}});var ql=function(t){var e=/(%?)(%([jds]))/g,n=Array.prototype.slice.call(arguments,1);return n.length&&(t=t.replace(e,function(i,s,g,l){switch(g=n.shift(),l){case"s":g=""+g;break;case"d":g=Number(g);break;case"j":g=JSON.stringify(g)}return s?(n.unshift(g),i):g})),n.length&&(t+=" "+n.join(" ")),""+(t=t.replace(/%{2,2}/g,"%"))},tc=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),sC=Object.defineProperty({TimeoutError:tc},"__esModule",{value:!0}),tC=Rd,it="".endsWith,uC=Math.min,jt=Vm("endsWith"),vC=!jt&&!!function(){var t=tC(String.prototype,"endsWith");return t&&!t.writable}();Ha({target:"String",proto:!0,forced:!vC&&!jt},{endsWith:function(t){var e=String(bd(this));Um(t);var n=1<arguments.length?arguments[1]:void 0,i=Kb(e.length);return n=n===void 0?i:uC(Kb(n),i),i=String(t),it?it.call(e,i,n):e.slice(n-i.length,n)===i}});var ng=function(t){return typeof t=="string"?t.endsWith(".")?t:"".concat(t,"."):t},De=function(t){function e(i,s,g){var l;Xa(this,e);var C=n.call(this,Tp(s,g));return E(J(C),"originalError",void 0),E(J(C),"code",void 0),E(J(C),"serverCode",void 0),E(J(C),"error",void 0),E(J(C),"reason",void 0),E(J(C),"operation",void 0),E(J(C),"errorCode",void 0),typeof g=="number"?C.code=g:typeof g=="string"?C.name=g:g!==void 0&&(g.originalError&&(C.originalError=g.originalError),g.code!==void 0&&(C.code=g.code),g.serverCode!==void 0&&(C.serverCode=g.serverCode)),s=typeof s=="string"&&s?ng(s):Array.isArray(s)&&typeof s[0]=="string"&&s[0]?ng(ql.apply(void 0,[s[0]].concat(ta(s.slice(1))))):"",C.error=!0,C.errorCode=(l=C.code)!==null&&l!==void 0?l:0,C.operation=i??"",C.reason=s,C}rb(e,t);var n=sb(e);return e}(Fh(Error)),Qc=function(t){function e(i,s){return Xa(this,e),E(J(i=n.call(this,Tp(i,s))),"name","RtmInternalError"),E(J(i),"code",void 0),i.code=s,i}rb(e,t);var n=sb(e);return e}(Fh(Error)),ri=function(){return function(t){function e(i){Xa(this,e);var s=Object.keys(i);return n.call(this,i[s[0]],s[0])}rb(e,t);var n=sb(e);return e}(Qc)},Yj=ri(),we=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmTimeoutError"),i}rb(e,t);var n=sb(e);return e}(De),Ja=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmInvalidArgumentError"),i}rb(e,t);var n=sb(e);return e}(De),cb=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmInvalidStatusError"),i}rb(e,t);var n=sb(e);return e}(De),Zc=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmLimitExceededError"),i}rb(e,t);var n=sb(e);return e}(De),md=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmInvokeTooOftenError"),i}rb(e,t);var n=sb(e);return e}(De),ja=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmUnavailableError"),E(J(i),"serverCode",void 0),E(J(i),"statusCode",void 0),i}rb(e,t);var n=sb(e);return e}(De),Dj=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmUnauthenticatedError"),E(J(i),"serverCode",void 0),i}rb(e,t);var n=sb(e);return e}(De),si=function(t){function e(){Xa(this,e);for(var i=arguments.length,s=Array(i),g=0;g<i;g++)s[g]=arguments[g];return E(J(i=n.call.apply(n,[this].concat(s))),"name","RtmUnknownError"),i}rb(e,t);var n=sb(e);return e}(De),Ib=function(t){return t instanceof we||t instanceof tc},tb=function(t){return t instanceof De},Rc=function(t){return t instanceof cb},kt=Tf.f,wC={}.toString,lt=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],un=function(t){if(lt&&wC.call(t)=="[object Window]")try{var e=kt(t)}catch{e=lt.slice()}else e=kt(cd(t));return e},mt={f:Bb},xC=jc.f,Zj=function(t){var e=za.Symbol||(za.Symbol={});La(e,t)||xC(e,t,{value:mt.f(t)})},dd=Kj("hidden"),nt=Bb("toPrimitive"),yC=Pb.set,ot=Pb.getterFor("Symbol"),Ed=Object.prototype,ed=za.Symbol,ti=Sd("JSON","stringify"),pt=Rd,hf=jc.f,qt=un,zC=ci,Ee=Ze("symbols"),ui=Ze("op-symbols"),vn=Ze("string-to-symbol-registry"),wn=Ze("symbol-to-string-registry"),AC=Ze("wks"),xn=za.QObject,yn=!xn||!xn.prototype||!xn.prototype.findChild,zn=ob&&Pa(function(){return Td(hf({},"a",{get:function(){return hf(this,"a",{value:7}).a}})).a!=7})?function(t,e,n){var i=pt(Ed,e);i&&delete Ed[e],hf(t,e,n),i&&t!==Ed&&hf(Ed,e,i)}:hf,An=function(t,e){var n=Ee[t]=Td(ed.prototype);return yC(n,{type:"Symbol",tag:t,description:e}),ob||(n.description=e),n},Bn=ts?function(t){return typeof t=="symbol"}:function(t){return Object(t)instanceof ed},ak=function(t,e,n){return t===Ed&&ak(ui,e,n),Ob(t),e=le(e,!0),Ob(n),La(Ee,e)?(n.enumerable?(La(t,dd)&&t[dd][e]&&(t[dd][e]=!1),n=Td(n,{enumerable:ke(0,!1)})):(La(t,dd)||hf(t,dd,ke(1,{})),t[dd][e]=!0),zn(t,e,n)):hf(t,e,n)},rt=function(t,e){Ob(t);var n=cd(e);return e=ze(n).concat(Cn(n)),Uf(e,function(i){ob&&!Dn.call(n,i)||ak(t,i,n[i])}),t},Dn=function(t){t=le(t,!0);var e=zC.call(this,t);return!(this===Ed&&La(Ee,t)&&!La(ui,t))&&(!(e||!La(this,t)||!La(Ee,t)||La(this,dd)&&this[dd][t])||e)},st=function(t,e){if(t=cd(t),e=le(e,!0),t!==Ed||!La(Ee,e)||La(ui,e)){var n=pt(t,e);return!n||!La(Ee,e)||La(t,dd)&&t[dd][e]||(n.enumerable=!0),n}},tt=function(t){t=qt(cd(t));var e=[];return Uf(t,function(n){La(Ee,n)||La(Tg,n)||e.push(n)}),e},Cn=function(t){var e=t===Ed;t=qt(e?ui:cd(t));var n=[];return Uf(t,function(i){!La(Ee,i)||e&&!La(Ed,i)||n.push(Ee[i])}),n};if(ne||(ed=function(){if(this instanceof ed)throw TypeError("Symbol is not a constructor");var t=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,e=Sg(t),n=function(i){this===Ed&&n.call(ui,i),La(this,dd)&&La(this[dd],e)&&(this[dd][e]=!1),zn(this,e,ke(1,i))};return ob&&yn&&zn(Ed,e,{configurable:!0,set:n}),An(e,t)},Vb(ed.prototype,"toString",function(){return ot(this).tag}),Vb(ed,"withoutSetter",function(t){return An(Sg(t),t)}),ci=Dn,jc.f=ak,Rd=st,Tf.f=un=tt,ei.f=Cn,mt.f=function(t){return An(Bb(t),t)},ob&&(hf(ed.prototype,"description",{configurable:!0,get:function(){return ot(this).description}}),Vb(Ed,"propertyIsEnumerable",Dn,{unsafe:!0}))),Ha({global:!0,wrap:!0,forced:!ne,sham:!ne},{Symbol:ed}),Uf(ze(AC),function(t){Zj(t)}),Ha({target:"Symbol",stat:!0,forced:!ne},{for:function(t){if(t=String(t),La(vn,t))return vn[t];var e=ed(t);return vn[t]=e,wn[e]=t,e},keyFor:function(t){if(!Bn(t))throw TypeError(t+" is not a symbol");if(La(wn,t))return wn[t]},useSetter:function(){yn=!0},useSimple:function(){yn=!1}}),Ha({target:"Object",stat:!0,forced:!ne,sham:!ob},{create:function(t,e){return e===void 0?Td(t):rt(Td(t),e)},defineProperty:ak,defineProperties:rt,getOwnPropertyDescriptor:st}),Ha({target:"Object",stat:!0,forced:!ne},{getOwnPropertyNames:tt,getOwnPropertySymbols:Cn}),Ha({target:"Object",stat:!0,forced:Pa(function(){ei.f(1)})},{getOwnPropertySymbols:function(t){return ei.f(nc(t))}}),ti){var BC=!ne||Pa(function(){var t=ed();return ti([t])!="[null]"||ti({a:t})!="{}"||ti(Object(t))!="{}"});Ha({target:"JSON",stat:!0,forced:BC},{stringify:function(t,e,n){for(var i,s=[t],g=1;arguments.length>g;)s.push(arguments[g++]);if(i=e,(jb(e)||t!==void 0)&&!Bn(t))return bf(e)||(e=function(l,C){if(typeof i=="function"&&(C=i.call(this,l,C)),!Bn(C))return C}),s[1]=e,ti.apply(null,s)}})}ed.prototype[nt]||kc(ed.prototype,nt,ed.prototype.valueOf),Ud(ed,"Symbol"),Tg[dd]=!0;var CC=jc.f,Fe=za.Symbol;if(ob&&typeof Fe=="function"&&(!("description"in Fe.prototype)||Fe().description!==void 0)){var ut={},vi=function(){var t=1>arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),e=this instanceof vi?new Fe(t):t===void 0?Fe():Fe(t);return t===""&&(ut[e]=!0),e};ps(vi,Fe);var En=vi.prototype=Fe.prototype;En.constructor=vi;var DC=En.toString,EC=String(Fe("test"))=="Symbol(test)",FC=/^Symbol\((.*)\)[^)]+$/;CC(En,"description",{configurable:!0,get:function(){var t=jb(this)?this.valueOf():this,e=DC.call(t);return La(ut,t)?"":(t=EC?e.slice(7,-1):e.replace(FC,"$1"))===""?void 0:t}}),Ha({global:!0,forced:!0},{Symbol:vi})}Zj("iterator"),Zj("asyncIterator"),Zj("toStringTag"),Ud(za.JSON,"JSON",!0),Ud(Math,"Math",!0);var GC=Pa(function(){pe(1)});Ha({target:"Object",stat:!0,forced:GC,sham:!Fs},{getPrototypeOf:function(t){return pe(nc(t))}}),Ha({target:"Object",stat:!0},{setPrototypeOf:sc});var Ge=za.Promise,HC=Bb("species"),jf=function(t,e){var n;return(t=Ob(t).constructor)===void 0||(n=Ob(t)[HC])==null?e:oe(n)},vt=/(?:iphone|ipod|ipad).*applewebkit/i.test(Vg),bk=za.location,Fn=za.setImmediate,Gn=za.clearImmediate,IC=za.process,wt=za.MessageChannel,Hn=za.Dispatch,In=0,wi={},Jn=function(t){if(wi.hasOwnProperty(t)){var e=wi[t];delete wi[t],e()}},Kn=function(t){return function(){Jn(t)}},xt=function(t){Jn(t.data)},yt=function(t){za.postMessage(t+"",bk.protocol+"//"+bk.host)};if(!Fn||!Gn)if(Fn=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return wi[++In]=function(){(typeof t=="function"?t:Function(t)).apply(void 0,e)},xi(In),In},Gn=function(t){delete wi[t]},Ce)var xi=function(t){IC.nextTick(Kn(t))};else if(Hn&&Hn.now)xi=function(t){Hn.now(Kn(t))};else if(wt&&!vt){var zt=new wt,At=zt.port2;zt.port1.onmessage=xt,xi=cf(At.postMessage,At,1)}else za.addEventListener&&typeof postMessage=="function"&&!za.importScripts&&bk&&bk.protocol!=="file:"&&!Pa(yt)?(xi=yt,za.addEventListener("message",xt,!1)):xi="onreadystatechange"in(Jj?Rg.createElement("script"):{})?function(t){Om.appendChild(Jj?Rg.createElement("script"):{}).onreadystatechange=function(){Om.removeChild(this),Jn(t)}}:function(t){setTimeout(Kn(t),0)};var ck=Fn,JC=Gn,KC=/web0s(?!.*chrome)/i.test(Vg),Bt=za.MutationObserver||za.WebKitMutationObserver,Ct=za.document,Dt=za.process,dk=za.Promise,Et=Rd(za,"queueMicrotask"),Ft=Et&&Et.value,Yf,yi;if(!Ft){var fk=function(){var t;for(Ce&&(t=Dt.domain)&&t.exit();Yf;){var e=Yf.fn;Yf=Yf.next;try{e()}catch(n){throw Yf?ek():yi=void 0,n}}yi=void 0,t&&t.enter()};if(vt||Ce||KC||!Bt||!Ct)if(dk&&dk.resolve){var Ln=dk.resolve(void 0);Ln.constructor=dk;var LC=Ln.then,ek=function(){LC.call(Ln,fk)}}else ek=Ce?function(){Dt.nextTick(fk)}:function(){ck.call(za,fk)};else{var Gt=!0,Ht=Ct.createTextNode("");new Bt(fk).observe(Ht,{characterData:!0}),ek=function(){Ht.data=Gt=!Gt}}}var It=Ft||function(t){t={fn:t,next:void 0},yi&&(yi.next=t),Yf||(Yf=t,ek()),yi=t},MC=function(t){var e,n;this.promise=new t(function(i,s){if(e!==void 0||n!==void 0)throw TypeError("Bad Promise constructor");e=i,n=s}),this.resolve=oe(e),this.reject=oe(n)},Mn={f:function(t){return new MC(t)}},Nn=function(t,e){return Ob(t),jb(e)&&e.constructor===t?e:((0,(t=Mn.f(t)).resolve)(e),t.promise)},NC=function(t,e){var n=za.console;n&&n.error&&(arguments.length===1?n.error(t):n.error(t,e))},On=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},OC=typeof window=="object",PC=Bb("species"),Jt=Pb.get,QC=Pb.set,RC=Pb.getterFor("Promise"),Zf=Ge&&Ge.prototype,nd=Ge,gk=Zf,Kt=za.TypeError,Pn=za.document,Qn=za.process,bh=Mn.f,SC=bh,TC=!!(Pn&&Pn.createEvent&&za.dispatchEvent),Lt=typeof PromiseRejectionEvent=="function",Mt=!1,zi=me("Promise",function(){var t=Jm(nd)!==String(nd);if(!t&&af===66)return!0;if(51<=af&&/native code/.test(nd))return!1;var e=new nd(function(i){i(1)}),n=function(i){i(function(){},function(){})};return(e.constructor={})[PC]=n,!(Mt=e.then(function(){})instanceof n)||!t&&OC&&!Lt}),UC=zi||!Rj(function(t){nd.all(t).catch(function(){})}),Nt=function(t){var e;return!(!jb(t)||typeof(e=t.then)!="function")&&e},Rn=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;It(function(){for(var i=t.value,s=t.state==1,g=0;n.length>g;){var l,C=n[g++],p=s?C.ok:C.fail,B=C.resolve,Q=C.reject,y=C.domain;try{if(p){if(s||(t.rejection===2&&VC(t),t.rejection=1),p===!0)var _=i;else if(y&&y.enter(),_=p(i),y){y.exit();var S=!0}_===C.promise?Q(Kt("Promise-chain cycle")):(l=Nt(_))?l.call(_,B,Q):B(_)}else Q(i)}catch(w){y&&!S&&y.exit(),Q(w)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&WC(t)})}},Ot=function(t,e,n){var i;if(TC){var s=Pn.createEvent("Event");s.promise=e,s.reason=n,s.initEvent(t,!1,!0),za.dispatchEvent(s)}else s={promise:e,reason:n};!Lt&&(i=za["on"+t])?i(s):t==="unhandledrejection"&&NC("Unhandled promise rejection",n)},WC=function(t){ck.call(za,function(){var e=t.facade,n=t.value;if(t.rejection!==1&&!t.parent){var i=On(function(){Ce?Qn.emit("unhandledRejection",n,e):Ot("unhandledrejection",e,n)});if(t.rejection=Ce||t.rejection!==1&&!t.parent?2:1,i.error)throw i.value}})},VC=function(t){ck.call(za,function(){var e=t.facade;Ce?Qn.emit("rejectionHandled",e):Ot("rejectionhandled",e,t.value)})},ch=function(t,e,n){return function(i){t(e,i,n)}},dh=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,Rn(t,!0))},Sn=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw Kt("Promise can't be resolved itself");var i=Nt(e);i?It(function(){var s={done:!1};try{i.call(e,ch(Sn,s,t),ch(dh,s,t))}catch(g){dh(s,g,t)}}):(t.value=e,t.state=1,Rn(t,!1))}catch(s){dh({done:!1},s,t)}}};if(zi){nd=function(t){Dd(this,nd,"Promise"),oe(t),Tn.call(this);var e=Jt(this);try{t(ch(Sn,e),ch(dh,e))}catch(n){dh(e,n)}},gk=nd.prototype;var Tn=function(t){QC(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};Tn.prototype=Ae(gk,{then:function(t,e){var n=RC(this),i=bh(jf(this,nd));return i.ok=typeof t!="function"||t,i.fail=typeof e=="function"&&e,i.domain=Ce?Qn.domain:void 0,n.parent=!0,n.reactions.push(i),n.state!=0&&Rn(n,!1),i.promise},catch:function(t){return this.then(void 0,t)}});var XC=function(){var t=new Tn,e=Jt(t);this.promise=t,this.resolve=ch(Sn,e),this.reject=ch(dh,e)};if(Mn.f=bh=function(t){return t===nd||t===YC?new XC(t):SC(t)},typeof Ge=="function"&&Zf!==Object.prototype){var ZC=Zf.then;Mt||(Vb(Zf,"then",function(t,e){var n=this;return new nd(function(i,s){ZC.call(n,i,s)}).then(t,e)},{unsafe:!0}),Vb(Zf,"catch",gk.catch,{unsafe:!0}));try{delete Zf.constructor}catch{}sc&&sc(Zf,gk)}}Ha({global:!0,wrap:!0,forced:zi},{Promise:nd}),Ud(nd,"Promise",!1),mi("Promise");var YC=Sd("Promise");Ha({target:"Promise",stat:!0,forced:zi},{reject:function(t){var e=bh(this);return e.reject.call(void 0,t),e.promise}}),Ha({target:"Promise",stat:!0,forced:zi},{resolve:function(t){return Nn(this,t)}}),Ha({target:"Promise",stat:!0,forced:UC},{all:function(t){var e=this,n=bh(e),i=n.resolve,s=n.reject,g=On(function(){var l=oe(e.resolve),C=[],p=0,B=1;li(t,function(Q){var y=p++,_=!1;C.push(void 0),B++,l.call(e,Q).then(function(S){_||(_=!0,C[y]=S,--B||i(C))},s)}),--B||i(C)});return g.error&&s(g.value),n.promise},race:function(t){var e=this,n=bh(e),i=n.reject,s=On(function(){var g=oe(e.resolve);li(t,function(l){g.call(e,l).then(n.resolve,i)})});return s.error&&i(s.value),n.promise}});var Un=Xg("forEach")?[].forEach:function(t){return Uf(this,t,1<arguments.length?arguments[1]:void 0)},Pt;for(Pt in fn){var Qt=za[Pt],hk=Qt&&Qt.prototype;if(hk&&hk.forEach!==Un)try{kc(hk,"forEach",Un)}catch{hk.forEach=Un}}var $C=[].reverse,Rt=[1,2];Ha({target:"Array",proto:!0,forced:String(Rt)===String(Rt.reverse())},{reverse:function(){return bf(this)&&(this.length=this.length),$C.call(this)}});var Z=Ua(function(t){t=function(e){function n(ga,ma,Ra){return Object.defineProperty(ga,ma,{value:Ra,enumerable:!0,configurable:!0,writable:!0}),ga[ma]}function i(ga,ma,Ra,$a){return ma=Object.create((ma&&ma.prototype instanceof g?ma:g).prototype),$a=new w($a||[]),U(ma,"_invoke",{value:Q(ga,Ra,$a)}),ma}function s(ga,ma,Ra){try{return{type:"normal",arg:ga.call(ma,Ra)}}catch($a){return{type:"throw",arg:$a}}}function g(){}function l(){}function C(){}function p(ga){["next","throw","return"].forEach(function(ma){n(ga,ma,function(Ra){return this._invoke(ma,Ra)})})}function B(ga,ma){function Ra(Ka,_u,Uc,_E){if((Ka=s(ga[Ka],ga,_u)).type!=="throw"){var Bh=Ka.arg;return(Ka=Bh.value)&&Ia(Ka)==="object"&&M.call(Ka,"__await")?ma.resolve(Ka.__await).then(function(_I){Ra("next",_I,Uc,_E)},function(_I){Ra("throw",_I,Uc,_E)}):ma.resolve(Ka).then(function(_I){Bh.value=_I,Uc(Bh)},function(_I){return Ra("throw",_I,Uc,_E)})}_E(Ka.arg)}var $a;U(this,"_invoke",{value:function(Ka,_u){function Uc(){return new ma(function(_E,Bh){Ra(Ka,_u,_E,Bh)})}return $a=$a?$a.then(Uc,Uc):Uc()}})}function Q(ga,ma,Ra){var $a=_t;return function(Ka,_u){if($a===na)throw Error("Generator is already running");if($a===oa){if(Ka==="throw")throw _u;return{value:P,done:!0}}for(Ra.method=Ka,Ra.arg=_u;;){if((Ka=Ra.delegate)&&(Ka=y(Ka,Ra))){if(Ka===ha)continue;return Ka}if(Ra.method==="next")Ra.sent=Ra._sent=Ra.arg;else if(Ra.method==="throw"){if($a===_t)throw $a=oa,Ra.arg;Ra.dispatchException(Ra.arg)}else Ra.method==="return"&&Ra.abrupt("return",Ra.arg);if($a=na,(Ka=s(ga,ma,Ra)).type==="normal"){if($a=Ra.done?oa:_A,Ka.arg===ha)continue;return{value:Ka.arg,done:Ra.done}}Ka.type==="throw"&&($a=oa,Ra.method="throw",Ra.arg=Ka.arg)}}}function y(ga,ma){var Ra=ma.method,$a=ga.iterator[Ra];return $a===P?(ma.delegate=null,Ra==="throw"&&ga.iterator.return&&(ma.method="return",ma.arg=P,y(ga,ma),ma.method==="throw")||Ra!=="return"&&(ma.method="throw",ma.arg=new TypeError("The iterator does not provide a '"+Ra+"' method")),ha):(Ra=s($a,ga.iterator,ma.arg)).type==="throw"?(ma.method="throw",ma.arg=Ra.arg,ma.delegate=null,ha):(Ra=Ra.arg)?Ra.done?(ma[ga.resultName]=Ra.value,ma.next=ga.nextLoc,ma.method!=="return"&&(ma.method="next",ma.arg=P),ma.delegate=null,ha):Ra:(ma.method="throw",ma.arg=new TypeError("iterator result is not an object"),ma.delegate=null,ha)}function _(ga){var ma={tryLoc:ga[0]};1 in ga&&(ma.catchLoc=ga[1]),2 in ga&&(ma.finallyLoc=ga[2],ma.afterLoc=ga[3]),this.tryEntries.push(ma)}function S(ga){var ma=ga.completion||{};ma.type="normal",delete ma.arg,ga.completion=ma}function w(ga){this.tryEntries=[{tryLoc:"root"}],ga.forEach(_,this),this.reset(!0)}function O(ga){if(ga||ga===""){var ma=ga[W];if(ma)return ma.call(ga);if(typeof ga.next=="function")return ga;if(!isNaN(ga.length)){var Ra=-1;return(ma=function $a(){for(;++Ra<ga.length;)if(M.call(ga,Ra))return $a.value=ga[Ra],$a.done=!1,$a;return $a.value=P,$a.done=!0,$a}).next=ma}}throw new TypeError(Ia(ga)+" is not iterable")}var P,K=Object.prototype,M=K.hasOwnProperty,U=Object.defineProperty||function(ga,ma,Ra){ga[ma]=Ra.value},F=typeof Symbol=="function"?Symbol:{},W=F.iterator||"@@iterator",ae=F.asyncIterator||"@@asyncIterator",_r=F.toStringTag||"@@toStringTag";try{n({},"")}catch{n=function(ma,Ra,$a){return ma[Ra]=$a}}e.wrap=i;var _t="suspendedStart",_A="suspendedYield",na="executing",oa="completed",ha={};n(F={},W,function(){return this});var fa=Object.getPrototypeOf;(fa=fa&&fa(fa(O([]))))&&fa!==K&&M.call(fa,W)&&(F=fa);var Da=C.prototype=g.prototype=Object.create(F);return l.prototype=C,U(Da,"constructor",{value:C,configurable:!0}),U(C,"constructor",{value:l,configurable:!0}),l.displayName=n(C,_r,"GeneratorFunction"),e.isGeneratorFunction=function(ga){return!!(ga=typeof ga=="function"&&ga.constructor)&&(ga===l||(ga.displayName||ga.name)==="GeneratorFunction")},e.mark=function(ga){return Object.setPrototypeOf?Object.setPrototypeOf(ga,C):(ga.__proto__=C,n(ga,_r,"GeneratorFunction")),ga.prototype=Object.create(Da),ga},e.awrap=function(ga){return{__await:ga}},p(B.prototype),n(B.prototype,ae,function(){return this}),e.AsyncIterator=B,e.async=function(ga,ma,Ra,$a,Ka){Ka===void 0&&(Ka=Promise);var _u=new B(i(ga,ma,Ra,$a),Ka);return e.isGeneratorFunction(ma)?_u:_u.next().then(function(Uc){return Uc.done?Uc.value:_u.next()})},p(Da),n(Da,_r,"Generator"),n(Da,W,function(){return this}),n(Da,"toString",function(){return"[object Generator]"}),e.keys=function(ga){var ma,Ra=Object(ga),$a=[];for(ma in Ra)$a.push(ma);return $a.reverse(),function Ka(){for(;$a.length;){var _u=$a.pop();if(_u in Ra)return Ka.value=_u,Ka.done=!1,Ka}return Ka.done=!0,Ka}},e.values=O,w.prototype={constructor:w,reset:function(ga){if(this.next=this.prev=0,this.sent=this._sent=P,this.done=!1,this.delegate=null,this.method="next",this.arg=P,this.tryEntries.forEach(S),!ga)for(var ma in this)ma.charAt(0)==="t"&&M.call(this,ma)&&!isNaN(+ma.slice(1))&&(this[ma]=P)},stop:function(){this.done=!0;var ga=this.tryEntries[0].completion;if(ga.type==="throw")throw ga.arg;return this.rval},dispatchException:function(ga){function ma(Bh,_I){return _u.type="throw",_u.arg=ga,Ra.next=Bh,_I&&(Ra.method="next",Ra.arg=P),!!_I}if(this.done)throw ga;for(var Ra=this,$a=this.tryEntries.length-1;0<=$a;--$a){var Ka=this.tryEntries[$a],_u=Ka.completion;if(Ka.tryLoc==="root")return ma("end");if(Ka.tryLoc<=this.prev){var Uc=M.call(Ka,"catchLoc"),_E=M.call(Ka,"finallyLoc");if(Uc&&_E){if(this.prev<Ka.catchLoc)return ma(Ka.catchLoc,!0);if(this.prev<Ka.finallyLoc)return ma(Ka.finallyLoc)}else if(Uc){if(this.prev<Ka.catchLoc)return ma(Ka.catchLoc,!0)}else{if(!_E)throw Error("try statement without catch or finally");if(this.prev<Ka.finallyLoc)return ma(Ka.finallyLoc)}}}},abrupt:function(ga,ma){for(var Ra=this.tryEntries.length-1;0<=Ra;--Ra){var $a=this.tryEntries[Ra];if($a.tryLoc<=this.prev&&M.call($a,"finallyLoc")&&this.prev<$a.finallyLoc){var Ka=$a;break}}return Ka&&(ga==="break"||ga==="continue")&&Ka.tryLoc<=ma&&ma<=Ka.finallyLoc&&(Ka=null),(Ra=Ka?Ka.completion:{}).type=ga,Ra.arg=ma,Ka?(this.method="next",this.next=Ka.finallyLoc,ha):this.complete(Ra)},complete:function(ga,ma){if(ga.type==="throw")throw ga.arg;return ga.type==="break"||ga.type==="continue"?this.next=ga.arg:ga.type==="return"?(this.rval=this.arg=ga.arg,this.method="return",this.next="end"):ga.type==="normal"&&ma&&(this.next=ma),ha},finish:function(ga){for(var ma=this.tryEntries.length-1;0<=ma;--ma){var Ra=this.tryEntries[ma];if(Ra.finallyLoc===ga)return this.complete(Ra.completion,Ra.afterLoc),S(Ra),ha}},catch:function(ga){for(var ma=this.tryEntries.length-1;0<=ma;--ma){var Ra=this.tryEntries[ma];if(Ra.tryLoc===ga){if((ga=Ra.completion).type==="throw"){var $a=ga.arg;S(Ra)}return $a}}throw Error("illegal catch attempt")},delegateYield:function(ga,ma,Ra){return this.delegate={iterator:O(ga),resultName:ma,nextLoc:Ra},this.method==="next"&&(this.arg=P),ha}},e}(t.exports);try{regeneratorRuntime=t}catch{(typeof globalThis>"u"?"undefined":Ia(globalThis))==="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}),Ai=function(t){var e=String(bd(this)),n="";if(0>(t=Cd(t))||t==1/0)throw RangeError("Wrong number of repetitions");for(;0<t;(t>>>=1)&&(e+=e))1&t&&(n+=e);return n},aD=Math.ceil,St=function(t){return function(e,n,i){var s=(e=String(bd(e))).length;return i=i===void 0?" ":String(i),(n=Kb(n))<=s||i==""?e:(n-=s,(s=Ai.call(i,aD(n/i.length))).length>n&&(s=s.slice(0,n)),t?e+s:s+e)}},bD=St(!1),cD=St(!0),Tt=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Vg);Ha({target:"String",proto:!0,forced:Tt},{padEnd:function(t){return cD(this,t,1<arguments.length?arguments[1]:void 0)}});var Ut=RegExp.prototype,Vt=Ut.toString,dD=Pa(function(){return Vt.call({source:"a",flags:"b"})!="/a/b"}),eD=Vt.name!="toString";(dD||eD)&&Vb(RegExp.prototype,"toString",function(){var t=Ob(this),e=String(t.source),n=t.flags;return"/"+e+"/"+(t=String(n===void 0&&t instanceof RegExp&&!("flags"in Ut)?Uj.call(t):n))},{unsafe:!0});var fD=[].push,gD=Math.min;pn("split",2,function(t,e,n){var i="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(s,g){var l=String(bd(this));if((g=g===void 0?4294967295:g>>>0)===0)return[];if(s===void 0)return[l];if(!Tm(s))return e.call(l,s,g);var C,p,B,Q=[],y=0;for(s=new RegExp(s.source,(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(s.sticky?"y":"")+"g");(C=pi.call(s,l))&&!((p=s.lastIndex)>y&&(Q.push(l.slice(y,C.index)),1<C.length&&C.index<l.length&&fD.apply(Q,C.slice(1)),B=C[0].length,y=p,Q.length>=g));)s.lastIndex===C.index&&s.lastIndex++;return y===l.length?(B||!s.test(""))&&Q.push(""):Q.push(l.slice(y)),Q.length>g?Q.slice(0,g):Q}:"0".split(void 0,0).length?function(s,g){return s===void 0&&g===0?[]:e.call(this,s,g)}:e;return[function(s,g){var l=bd(this),C=s==null?void 0:s[t];return C!==void 0?C.call(s,l,g):i.call(String(l),s,g)},function(s,g){var l=n(i,s,this,g,i!==e);if(l.done)return l.value;var C=Ob(s);s=String(this);var p=jf(C,RegExp);if(l=C.unicode,C=new p(Vd?"^(?:"+C.source+")":C,(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(Vd?"g":"y")),(g=g===void 0?4294967295:g>>>0)===0)return[];if(s.length===0)return qi(C,s)===null?[s]:[];var B=0,Q=0;for(p=[];Q<s.length;){C.lastIndex=Vd?0:Q;var y,_=qi(C,Vd?s.slice(Q):s);if(_===null||(y=gD(Kb(C.lastIndex+(Vd?Q:0)),s.length))===B)Q=qn(s,Q,l);else{if(p.push(s.slice(B,Q)),p.length===g)return p;for(B=1;B<=_.length-1;B++)if(p.push(_[B]),p.length===g)return p;Q=B=y}}return p.push(s.slice(B)),p}]},Vd),Ha({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),dn("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Us),Ha({target:"Object",stat:!0},{entries:function(t){return fB(t)}});var Wt=typeof ArrayBuffer<"u"&&typeof DataView<"u",eh=function(t){if(t===void 0)return 0;t=Cd(t);var e=Kb(t);if(t!==e)throw RangeError("Wrong length or index");return e},hD=Math.abs,He=Math.pow,iD=Math.floor,jD=Math.log,kD=Math.LN2,Xt=function(t){var e=nc(this),n=Kb(e.length),i=arguments.length,s=ld(1<i?arguments[1]:void 0,n);for(n=(i=2<i?arguments[2]:void 0)===void 0?n:ld(i,n);n>s;)e[s++]=t;return e},lD=Tf.f,mD=jc.f,fh=Pb.get,Yt=Pb.set,Wd=za.ArrayBuffer,od=Wd,Xd=za.DataView,ik=Xd&&Xd.prototype,Zt=Object.prototype,jk=za.RangeError,$t=function(t,e,n){var i,s=Array(n),g=(1<<(n=8*n-e-1))-1,l=g>>1,C=e===23?He(2,-24)-He(2,-77):0,p=0>t||t===0&&0>1/t?1:0,B=0;if((t=hD(t))!=t||t===1/0){t=t!=t?1:0;var Q=g}else Q=iD(jD(t)/kD),1>t*(i=He(2,-Q))&&(Q--,i*=2),2<=(t=1<=Q+l?t+C/i:t+C*He(2,1-l))*i&&(Q++,i/=2),Q+l>=g?(t=0,Q=g):1<=Q+l?(t=(t*i-1)*He(2,e),Q+=l):(t=t*He(2,l-1)*He(2,e),Q=0);for(;8<=e;s[B++]=255&t,t/=256,e-=8);for(Q=Q<<e|t,n+=e;0<n;s[B++]=255&Q,Q/=256,n-=8);return s[--B]|=128*p,s},au=function(t,e){var n=t.length,i=8*n-e-1,s=(1<<i)-1,g=s>>1;i-=7,--n;var l=t[n--],C=127&l;for(l>>=7;0<i;C=256*C+t[n],n--,i-=8);var p=C&(1<<-i)-1;for(C>>=-i,i+=e;0<i;p=256*p+t[n],n--,i-=8);if(C===0)C=1-g;else{if(C===s)return p?NaN:l?-1/0:1/0;p+=He(2,e),C-=g}return(l?-1:1)*p*He(2,C-e)},bu=function(t){return[255&t]},cu=function(t){return[255&t,t>>8&255]},du=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},eu=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},nD=function(t){return $t(t,23,4)},oD=function(t){return $t(t,52,8)},kk=function(t,e){mD(t.prototype,e,{get:function(){return fh(this)[e]}})},kf=function(t,e,n,i){n=eh(n);var s=fh(t);if(n+e>s.byteLength)throw jk("Wrong index");return t=fh(s.buffer).bytes,n+=s.byteOffset,e=t.slice(n,n+e),i?e:e.reverse()},lf=function(t,e,n,i,s,g){n=eh(n);var l=fh(t);if(n+e>l.byteLength)throw jk("Wrong index");for(t=fh(l.buffer).bytes,n+=l.byteOffset,i=i(+s),s=0;s<e;s++)t[n+s]=i[g?s:e-s-1]};if(Wt){if(!Pa(function(){Wd(1)})||!Pa(function(){new Wd(-1)})||Pa(function(){return new Wd,new Wd(1.5),new Wd(NaN),Wd.name!="ArrayBuffer"})){od=function(t){return Dd(this,od),new Wd(eh(t))};for(var pD=od.prototype=Wd.prototype,fu=lD(Wd),gu=0,Vn;fu.length>gu;)(Vn=fu[gu++])in od||kc(od,Vn,Wd[Vn]);pD.constructor=od}sc&&pe(ik)!==Zt&&sc(ik,Zt);var lk=new Xd(new od(2)),hu=ik.setInt8;lk.setInt8(0,2147483648),lk.setInt8(1,2147483649),!lk.getInt8(0)&&lk.getInt8(1)||Ae(ik,{setInt8:function(t,e){hu.call(this,t,e<<24>>24)},setUint8:function(t,e){hu.call(this,t,e<<24>>24)}},{unsafe:!0})}else od=function(t){Dd(this,od,"ArrayBuffer"),t=eh(t),Yt(this,{bytes:Xt.call(Array(t),0),byteLength:t}),ob||(this.byteLength=t)},Xd=function(t,e,n){Dd(this,Xd,"DataView"),Dd(t,od,"DataView");var i=fh(t).byteLength;if(0>(e=Cd(e))||e>i)throw jk("Wrong offset");if(e+(n=n===void 0?i-e:Kb(n))>i)throw jk("Wrong length");Yt(this,{buffer:t,byteLength:n,byteOffset:e}),ob||(this.buffer=t,this.byteLength=n,this.byteOffset=e)},ob&&(kk(od,"byteLength"),kk(Xd,"buffer"),kk(Xd,"byteLength"),kk(Xd,"byteOffset")),Ae(Xd.prototype,{getInt8:function(t){return kf(this,1,t)[0]<<24>>24},getUint8:function(t){return kf(this,1,t)[0]},getInt16:function(t){var e=kf(this,2,t,1<arguments.length?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=kf(this,2,t,1<arguments.length?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return eu(kf(this,4,t,1<arguments.length?arguments[1]:void 0))},getUint32:function(t){return eu(kf(this,4,t,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(t){return au(kf(this,4,t,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(t){return au(kf(this,8,t,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(t,e){lf(this,1,t,bu,e)},setUint8:function(t,e){lf(this,1,t,bu,e)},setInt16:function(t,e){lf(this,2,t,cu,e,2<arguments.length?arguments[2]:void 0)},setUint16:function(t,e){lf(this,2,t,cu,e,2<arguments.length?arguments[2]:void 0)},setInt32:function(t,e){lf(this,4,t,du,e,2<arguments.length?arguments[2]:void 0)},setUint32:function(t,e){lf(this,4,t,du,e,2<arguments.length?arguments[2]:void 0)},setFloat32:function(t,e){lf(this,4,t,nD,e,2<arguments.length?arguments[2]:void 0)},setFloat64:function(t,e){lf(this,8,t,oD,e,2<arguments.length?arguments[2]:void 0)}});Ud(od,"ArrayBuffer"),Ud(Xd,"DataView");var Bi={ArrayBuffer:od,DataView:Xd},Wn=Bi.ArrayBuffer,iu=Bi.DataView,ju=Wn.prototype.slice,qD=Pa(function(){return!new Wn(2).slice(1,void 0).byteLength});Ha({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:qD},{slice:function(t,e){if(ju!==void 0&&e===void 0)return ju.call(Ob(this),t);var n=Ob(this).byteLength;t=ld(t,n),e=ld(e===void 0?n:e,n),n=new(jf(this,Wn))(Kb(e-t));for(var i=new iu(this),s=new iu(n),g=0;t<e;)s.setUint8(g++,i.getUint8(t++));return n}});var rD=jc.f,mk=za.Int8Array,Xn=mk&&mk.prototype,ku=za.Uint8ClampedArray,lu=ku&&ku.prototype,qe=mk&&pe(mk),Yd=Xn&&pe(Xn),mu=Object.prototype,nu=mu.isPrototypeOf,ou=Bb("toStringTag"),Yn=Sg("TYPED_ARRAY_TAG"),Ie=Wt&&!!sc&&Zg(za.opera)!=="Opera",pu=!1,pd,re={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},sD={BigInt64Array:8,BigUint64Array:8},nk=function(t){return!!jb(t)&&(t=Zg(t),La(re,t)||La(sD,t))};for(pd in re)za[pd]||(Ie=!1);if((!Ie||typeof qe!="function"||qe===Function.prototype)&&(qe=function(){throw TypeError("Incorrect invocation")},Ie))for(pd in re)za[pd]&&sc(za[pd],qe);if((!Ie||!Yd||Yd===mu)&&(Yd=qe.prototype,Ie))for(pd in re)za[pd]&&sc(za[pd].prototype,Yd);if(Ie&&pe(lu)!==Yd&&sc(lu,Yd),ob&&!La(Yd,ou))for(pd in pu=!0,rD(Yd,ou,{get:function(){return jb(this)?this[Yn]:void 0}}),re)za[pd]&&kc(za[pd],Yn,pd);var Ci=Ie,qu=pu&&Yn,Wb=function(t){if(nk(t))return t;throw TypeError("Target is not a typed array")},gh=function(t){if(sc){if(nu.call(qe,t))return t}else for(var e in re)if(La(re,pd)){var n=za[e];if(n&&(t===n||nu.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},Qb=function(t,e,n){if(ob){if(n)for(var i in re){var s=za[i];if(s&&La(s.prototype,t))try{delete s.prototype[t]}catch{}}Yd[t]&&!n||Vb(Yd,t,n?e:Ie&&Xn[t]||e)}},ru=function(t,e,n){var i,s;if(ob){if(sc){if(n){for(i in re)if((s=za[i])&&La(s,t))try{delete s[t]}catch{}}if(qe[t]&&!n)return;try{return Vb(qe,t,n?e:Ie&&qe[t]||e)}catch{}}for(i in re)!(s=za[i])||s[t]&&!n||Vb(s,t,e)}},su=qe,Di=Yd,tD=za.ArrayBuffer,$f=za.Int8Array,Zn=!Ci||!Pa(function(){$f(1)})||!Pa(function(){new $f(-1)})||!Rj(function(t){new $f,new $f(null),new $f(1.5),new $f(t)},!0)||Pa(function(){return new $f(new tD(2),1,void 0).length!==1}),ok=function(t,e){if(0>(t=Cd(t)))throw RangeError("The argument can't be less than 0");if(t%e)throw RangeError("Wrong offset");return t},$n=function(t){var e=nc(t),n=arguments.length,i=1<n?arguments[1]:void 0,s=i!==void 0,g=ji(e);if(g!=null&&!bn(g)){var l=g.call(e),C=l.next;for(e=[];!(g=C.call(l)).done;)e.push(g.value)}for(s&&2<n&&(i=cf(i,arguments[2],2)),g=Kb(e.length),l=new(gh(this))(g),n=0;g>n;n++)l[n]=s?i(e[n],n):e[n];return l},mf=Ua(function(t){var e=Tf.f,n=Pb.get,i=Pb.set,s=jc.f,g=Rd,l=Math.round,C=za.RangeError,p=Bi.ArrayBuffer,B=Bi.DataView,Q=function(P,K){var M=0,U=K.length;for(P=new(gh(P))(U);U>M;)P[M]=K[M++];return P},y=function(P,K){s(P,K,{get:function(){return n(this)[K]}})},_=function(P){var K;return P instanceof p||(K=Zg(P))=="ArrayBuffer"||K=="SharedArrayBuffer"},S=function(P,K){return nk(P)&&typeof K!="symbol"&&K in P&&String(+K)==String(K)},w=function(P,K){return S(P,K=le(K,!0))?ke(2,P[K]):g(P,K)},O=function(P,K,M){return!(S(P,K=le(K,!0))&&jb(M)&&La(M,"value"))||La(M,"get")||La(M,"set")||M.configurable||La(M,"writable")&&!M.writable||La(M,"enumerable")&&!M.enumerable?s(P,K,M):(P[K]=M.value,P)};ob?(Ci||(Rd=w,jc.f=O,y(Di,"buffer"),y(Di,"byteOffset"),y(Di,"byteLength"),y(Di,"length")),Ha({target:"Object",stat:!0,forced:!Ci},{getOwnPropertyDescriptor:w,defineProperty:O}),t.exports=function(P,K,M){var U=P.match(/\d+$/)[0]/8,F=P+(M?"Clamped":"")+"Array",W="get"+P,ae="set"+P,_r=za[F],_t=_r;P=_t&&_t.prototype;var _A={},na=function(oa,ha){s(oa,ha,{get:function(){var fa=n(this);return fa.view[W](ha*U+fa.byteOffset,!0)},set:function(fa){var Da=n(this);M&&(fa=0>(fa=l(fa))?0:255<fa?255:255&fa),Da.view[ae](ha*U+Da.byteOffset,fa,!0)},enumerable:!0})};Ci?Zn&&(_t=K(function(oa,ha,fa,Da){return Dd(oa,_t,F),Sj(jb(ha)?_(ha)?Da!==void 0?new _r(ha,ok(fa,U),Da):fa!==void 0?new _r(ha,ok(fa,U)):new _r(ha):nk(ha)?Q(_t,ha):$n.call(_t,ha):new _r(eh(ha)),oa,_t)}),sc&&sc(_t,su),Uf(e(_r),function(oa){oa in _t||kc(_t,oa,_r[oa])}),_t.prototype=P):(_t=K(function(oa,ha,fa,Da){Dd(oa,_t,F);var ga=0,ma=0;if(jb(ha)){if(!_(ha))return nk(ha)?Q(_t,ha):$n.call(_t,ha);var Ra=ha;if(ma=ok(fa,U),ha=ha.byteLength,Da===void 0){if(ha%U||0>(Da=ha-ma))throw C("Wrong length")}else if((Da=Kb(Da)*U)+ma>ha)throw C("Wrong length");ha=Da/U}else ha=eh(ha),Ra=new p(Da=ha*U);for(i(oa,{buffer:Ra,byteOffset:ma,byteLength:Da,length:ha,view:new B(Ra)});ga<ha;)na(oa,ga++)}),sc&&sc(_t,su),P=_t.prototype=Td(Di)),P.constructor!==_t&&kc(P,"constructor",_t),qu&&kc(P,qu,F),_A[F]=_t,Ha({global:!0,forced:_t!=_r,sham:!Ci},_A),"BYTES_PER_ELEMENT"in _t||kc(_t,"BYTES_PER_ELEMENT",U),"BYTES_PER_ELEMENT"in P||kc(P,"BYTES_PER_ELEMENT",U),mi(F)}):t.exports=function(){}});mf("Uint8",function(t){return function(e,n,i){return t(this,e,n,i)}});var uD=Math.min,vD=[].copyWithin||function(t,e){var n=nc(this),i=Kb(n.length),s=ld(t,i),g=ld(e,i),l=2<arguments.length?arguments[2]:void 0;for(i=uD((l===void 0?i:ld(l,i))-g,i-s),l=1,g<s&&s<g+i&&(l=-1,g+=i-1,s+=i-1);0<i--;)g in n?n[s]=n[g]:delete n[s],s+=l,g+=l;return n};Qb("copyWithin",function(t,e){return vD.call(Wb(this),t,e,2<arguments.length?arguments[2]:void 0)}),Qb("every",function(t){return iB(Wb(this),t,1<arguments.length?arguments[1]:void 0)}),Qb("fill",function(t){return Xt.apply(Wb(this),arguments)}),Qb("filter",function(t){var e=As(Wb(this),t,1<arguments.length?arguments[1]:void 0),n=jf(this,this.constructor),i=0,s=e.length;for(n=new(gh(n))(s);s>i;)n[i]=e[i++];return n}),Qb("find",function(t){return Wm(Wb(this),t,1<arguments.length?arguments[1]:void 0)}),Qb("findIndex",function(t){return Xm(Wb(this),t,1<arguments.length?arguments[1]:void 0)}),Qb("forEach",function(t){Uf(Wb(this),t,1<arguments.length?arguments[1]:void 0)}),Qb("includes",function(t){return ms(Wb(this),t,1<arguments.length?arguments[1]:void 0)}),Qb("indexOf",function(t){return Mm(Wb(this),t,1<arguments.length?arguments[1]:void 0)});var tu=Bb("iterator"),uu=za.Uint8Array,wD=ef.values,xD=ef.keys,yD=ef.entries,ao=uu&&uu.prototype[tu],vu=!!ao&&(ao.name=="values"||ao.name==null),wu=function(){return wD.call(Wb(this))};Qb("entries",function(){return yD.call(Wb(this))}),Qb("keys",function(){return xD.call(Wb(this))}),Qb("values",wu,!vu),Qb(tu,wu,!vu);var zD=[].join;Qb("join",function(t){return zD.apply(Wb(this),arguments)});var AD=Math.min,bo=[].lastIndexOf,xu=!!bo&&0>1/[1].lastIndexOf(1,-0),BD=Xg("lastIndexOf"),co=xu||!BD?function(t){if(xu)return bo.apply(this,arguments)||0;var e=cd(this),n=Kb(e.length),i=n-1;for(1<arguments.length&&(i=AD(i,Cd(arguments[1]))),0>i&&(i=n+i);0<=i;i--)if(i in e&&e[i]===t)return i||0;return-1}:bo;Qb("lastIndexOf",function(t){return co.apply(Wb(this),arguments)}),Qb("map",function(t){return zs(Wb(this),t,1<arguments.length?arguments[1]:void 0,function(e,n){return new(gh(jf(e,e.constructor)))(n)})}),Qb("reduce",function(t){return $s(Wb(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)}),Qb("reduceRight",function(t){return MB(Wb(this),t,arguments.length,1<arguments.length?arguments[1]:void 0)});var CD=Math.floor;Qb("reverse",function(){for(var t,e=Wb(this).length,n=CD(e/2),i=0;i<n;)t=this[i],this[i++]=this[--e],this[e]=t;return this});var DD=Pa(function(){new Int8Array(1).set({})});Qb("set",function(t){Wb(this);var e=ok(1<arguments.length?arguments[1]:void 0,1),n=this.length,i=nc(t),s=Kb(i.length),g=0;if(s+e>n)throw RangeError("Wrong length");for(;g<s;)this[e+g]=i[g++]},DD);var ED=[].slice,FD=Pa(function(){new Int8Array(1).slice()});Qb("slice",function(t,e){t=ED.call(Wb(this),t,e);var n=jf(this,this.constructor);e=0;var i=t.length;for(n=new(gh(n))(i);i>e;)n[e]=t[e++];return n},FD),Qb("some",function(t){return hB(Wb(this),t,1<arguments.length?arguments[1]:void 0)});var GD=[].sort;Qb("sort",function(t){return GD.call(Wb(this),t)}),Qb("subarray",function(t,e){var n=Wb(this),i=n.length;return t=ld(t,i),new(jf(n,n.constructor))(n.buffer,n.byteOffset+t*n.BYTES_PER_ELEMENT,Kb((e===void 0?i:ld(e,i))-t))});var pk=za.Int8Array,yu=[].toLocaleString,HD=[].slice,ID=!!pk&&Pa(function(){yu.call(new pk(1))}),JD=Pa(function(){return[1,2].toLocaleString()!=new pk([1,2]).toLocaleString()})||!Pa(function(){pk.prototype.toLocaleString.call([1,2])});Qb("toLocaleString",function(){return yu.apply(ID?HD.call(Wb(this)):Wb(this),arguments)},JD);var zu=za.Uint8Array,KD=zu&&zu.prototype||{},qk=[].toString,LD=[].join;Pa(function(){qk.call({})})&&(qk=function(){return LD.call(this)}),Qb("toString",qk,KD.toString!=qk),Ha({target:"String",proto:!0},{repeat:Ai});var MD=un,ND=Pa(function(){return!Object.getOwnPropertyNames(1)});Ha({target:"Object",stat:!0,forced:ND},{getOwnPropertyNames:MD});var OD=ii.onFreeze,eo=Object.freeze,PD=Pa(function(){eo(1)});Ha({target:"Object",stat:!0,forced:PD,sham:!Ns},{freeze:function(t){return eo&&jb(t)?eo(OD(t)):t}}),pn("match",1,function(t,e,n){return[function(i){var s=bd(this),g=i==null?void 0:i[t];return g!==void 0?g.call(i,s):new RegExp(i)[t](String(s))},function(i){var s=n(e,i,this);if(s.done)return s.value;if(i=Ob(i),s=String(this),!i.global)return qi(i,s);var g=i.unicode;i.lastIndex=0;for(var l,C=[],p=0;(l=qi(i,s))!==null;)l=String(l[0]),C[p]=l,l===""&&(i.lastIndex=qn(s,Kb(i.lastIndex),g)),p++;return p===0?null:C}]});var Au=Bi.ArrayBuffer;Ha({global:!0,forced:za.ArrayBuffer!==Au},{ArrayBuffer:Au}),mi("ArrayBuffer");var QD=Rd,Bu="".startsWith,RD=Math.min,Cu=Vm("startsWith"),SD=!Cu&&!!function(){var t=QD(String.prototype,"startsWith");return t&&!t.writable}();Ha({target:"String",proto:!0,forced:!SD&&!Cu},{startsWith:function(t){var e=String(bd(this));Um(t);var n=Kb(RD(1<arguments.length?arguments[1]:void 0,e.length)),i=String(t);return Bu?Bu.call(e,i,n):e.slice(n,n+i.length)===i}});var Ic=function(t){var e=Ia(t);return t!=null&&(e=="object"||e=="function")},Du=Ia(xa)=="object"&&xa&&xa.Object===Object&&xa,TD=(typeof self>"u"?"undefined":Ia(self))=="object"&&self&&self.Object===Object&&self,fd=Du||TD||Function("return this")(),rk=za.parseInt,UD=/^[+-]?0[Xx]/,Eu=rk(`	
\v\f\r \u2028\u2029\uFEFF08`)!==8||rk(`	
\v\f\r \u2028\u2029\uFEFF0x16`)!==22?function(t,e){return t=sn(String(t)),rk(t,e>>>0||(UD.test(t)?16:10))}:rk;Ha({global:!0,forced:parseInt!=Eu},{parseInt:Eu});var VD=/\s/,WD=/^\s+/,Fd=fd.Symbol,Fu=Object.prototype,XD=Fu.hasOwnProperty,YD=Fu.toString,Ei=Fd?Fd.toStringTag:void 0,ZD=Object.prototype.toString,Gu=Fd?Fd.toStringTag:void 0,ag=function(t){if(t==null)t=t===void 0?"[object Undefined]":"[object Null]";else if(Gu&&Gu in Object(t)){var e=XD.call(t,Ei),n=t[Ei];try{t[Ei]=void 0;var i=!0}catch{}var s=YD.call(t);i&&(e?t[Ei]=n:delete t[Ei]),t=s}else t=ZD.call(t);return t},ce=function(t){return t!=null&&Ia(t)=="object"},tg=function(t){return Ia(t)=="symbol"||ce(t)&&ag(t)=="[object Symbol]"},Hu=NaN,$D=/^[-+]0x[0-9a-f]+$/i,aE=/^0b[01]+$/i,bE=/^0o[0-7]+$/i,cE=parseInt,sk=function(t){if(typeof t=="number")return t;if(tg(t))return Hu;if(Ic(t)&&(t=typeof t.valueOf=="function"?t.valueOf():t,t=Ic(t)?t+"":t),typeof t!="string")return t===0?t:+t;if(t){for(var e=t.slice,n=t.length;n--&&VD.test(t.charAt(n)););t=e.call(t,0,n+1).replace(WD,"")}return(e=aE.test(t))||bE.test(t)?cE(t.slice(2),e?2:8):$D.test(t)?Hu:+t},dE=Math.max,eE=Math.min,fE=function(t,e,n){function i(M){var U=p,F=B;return p=B=void 0,S=M,Q=t.apply(F,U)}function s(M){var U=M-_;return M-=S,_===void 0||U>=e||0>U||O&&M>=K}function g(){var M=fd.Date.now();if(s(M))return l(M);var U=setTimeout,F=M-S;M=e-(M-_),F=O?eE(M,K-F):M,y=U(g,F)}function l(M){return y=void 0,P&&p?i(M):(p=B=void 0,Q)}function C(){var M=fd.Date.now(),U=s(M);if(p=arguments,B=this,_=M,U){if(y===void 0)return S=M=_,y=setTimeout(g,e),w?i(M):Q;if(O)return clearTimeout(y),y=setTimeout(g,e),i(_)}return y===void 0&&(y=setTimeout(g,e)),Q}var p,B,Q,y,_,S=0,w=!1,O=!1,P=!0;if(typeof t!="function")throw new TypeError("Expected a function");if(e=sk(e)||0,Ic(n)){w=!!n.leading;var K=(O="maxWait"in n)?dE(sk(n.maxWait)||0,e):K;P="trailing"in n?!!n.trailing:P}return C.cancel=function(){y!==void 0&&clearTimeout(y),S=0,p=_=B=y=void 0},C.flush=function(){return y===void 0?Q:l(fd.Date.now())},C},gE=function(t,e,n){var i=!0,s=!0;if(typeof t!="function")throw new TypeError("Expected a function");return Ic(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),fE(t,e,{leading:i,maxWait:e,trailing:s})},yl=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e},hE=Math.floor,iE=Math.random,Iu=function(t,e){return t+hE(iE()*(e-t+1))},Ju=function(t,e){var n=-1,i=t.length,s=i-1;for(e=e===void 0?i:e;++n<e;){var g=t[i=Iu(n,s)];t[i]=t[n],t[n]=g}return t.length=e,t},jE=function(t){return Ju(yl(t))},Cf=function(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s},kE=function(t,e){return Cf(e,function(n){return t[n]})},Ku=function(t){return ce(t)&&ag(t)=="[object Arguments]"},Lu=Object.prototype,lE=Lu.hasOwnProperty,mE=Lu.propertyIsEnumerable,Kh=Ku(function(){return arguments}())?Ku:function(t){return ce(t)&&lE.call(t,"callee")&&!mE.call(t,"callee")},Dc=Array.isArray,nE=function(){return!1},Ih=Ua(function(t,e){var n=(e=e&&!e.nodeType&&e)&&t&&!t.nodeType&&t;e=n&&n.exports===e?fd.Buffer:void 0,t.exports=(e?e.isBuffer:void 0)||nE}),oE=/^(?:0|[1-9]\d*)$/,tk=function(t,e){var n=Ia(t);return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&oE.test(t))&&-1<t&&t%1==0&&t<e},fo=function(t){return typeof t=="number"&&-1<t&&t%1==0&&9007199254740991>=t},Xb={};Xb["[object Float32Array]"]=Xb["[object Float64Array]"]=Xb["[object Int8Array]"]=Xb["[object Int16Array]"]=Xb["[object Int32Array]"]=Xb["[object Uint8Array]"]=Xb["[object Uint8ClampedArray]"]=Xb["[object Uint16Array]"]=Xb["[object Uint32Array]"]=!0,Xb["[object Arguments]"]=Xb["[object Array]"]=Xb["[object ArrayBuffer]"]=Xb["[object Boolean]"]=Xb["[object DataView]"]=Xb["[object Date]"]=Xb["[object Error]"]=Xb["[object Function]"]=Xb["[object Map]"]=Xb["[object Number]"]=Xb["[object Object]"]=Xb["[object RegExp]"]=Xb["[object Set]"]=Xb["[object String]"]=Xb["[object WeakMap]"]=!1;var pE=function(t){return ce(t)&&fo(t.length)&&!!Xb[ag(t)]},uk=function(t){return function(e){return t(e)}},hh=Ua(function(t,e){var n=e&&!e.nodeType&&e;n=(e=n&&t&&!t.nodeType&&t)&&e.exports===n&&Du.process;e:{try{var i=e&&e.require&&e.require("util").types;if(i){var s=i;break e}s=n&&n.binding&&n.binding("util");break e}catch{}s=void 0}t.exports=s}),Mu=hh&&hh.isTypedArray,sl=Mu?uk(Mu):pE,qE=Object.prototype.hasOwnProperty,Nu=function(t,e){var n=Dc(t),i=!n&&Kh(t),s=!n&&!i&&Ih(t),g=!n&&!i&&!s&&sl(t);if(n=n||i||s||g){i=t.length;for(var l=String,C=-1,p=Array(i);++C<i;)p[C]=l(C);i=p}else i=[];for(var B in l=i.length,t)!e&&!qE.call(t,B)||n&&(B=="length"||s&&(B=="offset"||B=="parent")||g&&(B=="buffer"||B=="byteLength"||B=="byteOffset")||tk(B,l))||i.push(B);return i},rE=Object.prototype,go=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||rE)},Ou=function(t,e){return function(n){return t(e(n))}},sE=Ou(Object.keys,Object),tE=Object.prototype.hasOwnProperty,Dl=function(t){return!!Ic(t)&&((t=ag(t))=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]")},Ef=function(t){return t!=null&&fo(t.length)&&!Dl(t)},Df=function(t){if(Ef(t))t=Nu(t);else if(go(t)){var e,n=[];for(e in Object(t))tE.call(t,e)&&e!="constructor"&&n.push(e);t=n}else t=sE(t);return t},Dm=function(t){return t==null?[]:kE(t,Df(t))},uE=function(t){return Ju(Dm(t))},gd=function(t){return(Dc(t)?jE:uE)(t)},Pu=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1},vE=ni("splice"),wE=Math.max,xE=Math.min;Ha({target:"Array",proto:!0,forced:!vE},{splice:function(t,e){var n,i,s=nc(this),g=Kb(s.length),l=ld(t,g),C=arguments.length;if(C===0?C=n=0:C===1?(C=0,n=g-l):(C-=2,n=xE(wE(Cd(e),0),g-l)),9007199254740991<g+C-n)throw TypeError("Maximum allowed length exceeded");var p=Oj(s,n);for(i=0;i<n;i++){var B=l+i;B in s&&ah(p,i,s[B])}if(p.length=n,C<n){for(i=l;i<g-n;i++){var Q=i+C;(B=i+n)in s?s[Q]=s[B]:delete s[Q]}for(i=g;i>g-n+C;i--)delete s[i-1]}else if(C>n)for(i=g-n;i>l;i--)Q=i+C-1,(B=i+n-1)in s?s[Q]=s[B]:delete s[Q];for(i=0;i<C;i++)s[i+l]=arguments[i+2];return s.length=g-n+C,p}});var Fi=function(t,e){return t===e||t!=t&&e!=e},vk=function(t,e){for(var n=t.length;n--;)if(Fi(t[n][0],e))return n;return-1},yE=Array.prototype.splice;og.prototype.clear=function(){this.__data__=[],this.size=0},og.prototype.delete=function(t){var e=this.__data__;return!(0>(t=vk(e,t)))&&(t==e.length-1?e.pop():yE.call(e,t,1),--this.size,!0)},og.prototype.get=function(t){var e=this.__data__;return 0>(t=vk(e,t))?void 0:e[t][1]},og.prototype.has=function(t){return-1<vk(this.__data__,t)},og.prototype.set=function(t,e){var n=this.__data__,i=vk(n,t);return 0>i?(++this.size,n.push([t,e])):n[i][1]=e,this};var dj=og,zE=jc.f,AE=Tf.f,BE=Pb.enforce,CE=Bb("match"),se=za.RegExp,ho=se.prototype,Gi=/a/g,io=/a/g,jo=new se(Gi)!==Gi;if(ob&&me("RegExp",!jo||Vd||Pa(function(){return io[CE]=!1,se(Gi)!=Gi||se(io)==io||se(Gi,"i")!="/a/i"}))){for(var Je=function(t,e){var n,i=this instanceof Je,s=Tm(t),g=e===void 0;return!i&&s&&t.constructor===Je&&g||(jo?s&&!g&&(t=t.source):t instanceof Je&&(g&&(e=Uj.call(t)),t=t.source),Vd&&(n=!!e&&-1<e.indexOf("y"))&&(e=e.replace(/y/g,"")),t=Sj(jo?new se(t,e):se(t,e),i?this:ho,Je),Vd&&n&&(BE(t).sticky=!0)),t},DE=function(t){t in Je||zE(Je,t,{configurable:!0,get:function(){return se[t]},set:function(e){se[t]=e}})},Qu=AE(se),Ru=0;Qu.length>Ru;)DE(Qu[Ru++]);ho.constructor=Je,Je.prototype=ho,Vb(za,"RegExp",Je)}mi("RegExp");var ko=fd["__core-js_shared__"],Su=function(){var t=/[^.]+$/.exec(ko&&ko.keys&&ko.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),EE=Function.prototype.toString,bg=function(t){if(t!=null){try{return EE.call(t)}catch{}return t+""}return""},FE=/^\[object .+?Constructor\]$/,GE=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cg=function(t,e){return t=t==null?void 0:t[e],!Ic(t)||Su&&Su in t||!(Dl(t)?GE:FE).test(bg(t))?void 0:t},Hi=cg(fd,"Map"),Ii=cg(Object,"create"),HE=Object.prototype.hasOwnProperty,IE=Object.prototype.hasOwnProperty;Bf.prototype.clear=function(){this.__data__=Ii?Ii(null):{},this.size=0},Bf.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},Bf.prototype.get=function(t){var e=this.__data__;return Ii?(t=e[t])==="__lodash_hash_undefined__"?void 0:t:HE.call(e,t)?e[t]:void 0},Bf.prototype.has=function(t){var e=this.__data__;return Ii?e[t]!==void 0:IE.call(e,t)},Bf.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ii&&e===void 0?"__lodash_hash_undefined__":e,this};var wk=function(t,e){t=t.__data__;var n=Ia(e);return(n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null)?t[typeof e=="string"?"string":"hash"]:t.map};pg.prototype.clear=function(){this.size=0,this.__data__={hash:new Bf,map:new(Hi||dj),string:new Bf}},pg.prototype.delete=function(t){return t=wk(this,t).delete(t),this.size-=t?1:0,t},pg.prototype.get=function(t){return wk(this,t).get(t)},pg.prototype.has=function(t){return wk(this,t).has(t)},pg.prototype.set=function(t,e){var n=wk(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};var ej=pg;qg.prototype.clear=function(){this.__data__=new dj,this.size=0},qg.prototype.delete=function(t){var e=this.__data__;return t=e.delete(t),this.size=e.size,t},qg.prototype.get=function(t){return this.__data__.get(t)},qg.prototype.has=function(t){return this.__data__.has(t)},qg.prototype.set=function(t,e){var n=this.__data__;if(n instanceof dj){var i=n.__data__;if(!Hi||199>i.length)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new ej(i)}return n.set(t,e),this.size=n.size,this};var sg=qg;Gh.prototype.add=Gh.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Gh.prototype.has=function(t){return this.__data__.has(t)};var JE=function(t,e){return t.has(e)},Vp=function(t,e,n,i,s,g){var l=1&n,C=t.length,p=e.length;if(C!=p&&!(l&&p>C))return!1;p=g.get(t);var B=g.get(e);if(p&&B)return p==e&&B==t;p=-1,B=!0;var Q=2&n?new Gh:void 0;for(g.set(t,e),g.set(e,t);++p<C;){var y=t[p],_=e[p];if(i)var S=l?i(_,y,p,e,t,g):i(y,_,p,t,e,g);if(S!==void 0){if(S)continue;B=!1;break}if(Q){if(!Pu(e,function(w,O){if(!Q.has(O)&&(y===w||s(y,w,n,i,g)))return Q.push(O)})){B=!1;break}}else if(y!==_&&!s(y,_,n,i,g)){B=!1;break}}return g.delete(t),g.delete(e),B},xk=fd.Uint8Array,KE=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i,s){n[++e]=[s,i]}),n},lo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n},Tu=Fd?Fd.prototype:void 0,mo=Tu?Tu.valueOf:void 0,Fy=function(t,e,n,i,s,g,l){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!g(new xk(t),new xk(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Fi(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var C=KE;case"[object Set]":if(C||(C=lo),t.size!=e.size&&!(1&i))break;return(n=l.get(t))?n==e:(i|=2,l.set(t,e),e=Vp(C(t),C(e),i,s,g,l),l.delete(t),e);case"[object Symbol]":if(mo)return mo.call(t)==mo.call(e)}return!1},xl=function(t,e){for(var n=-1,i=e.length,s=t.length;++n<i;)t[s+n]=e[n];return t},Uu=function(t,e,n){return e=e(t),Dc(t)?e:xl(e,n(t))},LE=function(t,e){for(var n=-1,i=t==null?0:t.length,s=0,g=[];++n<i;){var l=t[n];e(l,n,t)&&(g[s++]=l)}return g},Vu=function(){return[]},ME=Object.prototype.propertyIsEnumerable,Wu=Object.getOwnPropertySymbols,no=Wu?function(t){return t==null?[]:(t=Object(t),LE(Wu(t),function(e){return ME.call(t,e)}))}:Vu,tl=function(t){return Uu(t,Df,no)},Gy=Object.prototype.hasOwnProperty,oo=cg(fd,"DataView"),po=cg(fd,"Promise"),ih=cg(fd,"Set"),qo=cg(fd,"WeakMap"),NE=bg(oo),OE=bg(Hi),PE=bg(po),QE=bg(ih),RE=bg(qo),dg=ag;(oo&&dg(new oo(new ArrayBuffer(1)))!="[object DataView]"||Hi&&dg(new Hi)!="[object Map]"||po&&dg(po.resolve())!="[object Promise]"||ih&&dg(new ih)!="[object Set]"||qo&&dg(new qo)!="[object WeakMap]")&&(dg=function(t){var e=ag(t);if(t=(t=e=="[object Object]"?t.constructor:void 0)?bg(t):"")switch(t){case NE:return"[object DataView]";case OE:return"[object Map]";case PE:return"[object Promise]";case QE:return"[object Set]";case RE:return"[object WeakMap]"}return e});var Hh=dg,Wp=Object.prototype.hasOwnProperty,SE=function(t,e,n,i){var s=n.length,g=s;if(t==null)return!g;for(t=Object(t);s--;){var l=n[s];if(l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<g;){var C=(l=n[s])[0],p=t[C],B=l[1];if(l[2]){if(p===void 0&&!(C in t))return!1}else{var Q;if(l=new sg,Q===void 0?!rg(B,p,3,i,l):!Q)return!1}}return!0},TE=function(t){for(var e=Df(t),n=e.length;n--;){var i=e[n],s=t[i];e[n]=[i,s,s==s&&!Ic(s)]}return e},Xu=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},UE=function(t){var e=TE(t);return e.length==1&&e[0][2]?Xu(e[0][0],e[0][1]):function(n){return n===t||SE(n,t,e)}},VE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,WE=/^\w*$/,ro=function(t,e){if(Dc(t))return!1;var n=Ia(t);return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!tg(t))||WE.test(t)||!VE.test(t)||e!=null&&t in Object(e)};ul.Cache=ej;var XE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YE=/\\(\\)?/g,ZE=function(t){var e=(t=ul(t,function(n){return e.size===500&&e.clear(),n})).cache;return t}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XE,function(n,i,s,g){e.push(s?g.replace(YE,"$1"):i||n)}),e}),Hy=1/0,Yu=Fd?Fd.prototype:void 0,Xp=Yu?Yu.toString:void 0,jh=function(t,e){return Dc(t)?t:ro(t,e)?[t]:ZE(t==null?"":vl(t))},$E=1/0,kh=function(t){if(typeof t=="string"||tg(t))return t;var e=t+"";return e=="0"&&1/t==-$E?"-0":e},Ji=function(t,e){for(var n=0,i=(e=jh(e,t)).length;t!=null&&n<i;)t=t[kh(e[n++])];return n&&n==i?t:void 0},aF=function(t,e){return ro(t)&&e==e&&!Ic(e)?Xu(kh(t),e):function(n){var i=n==null?void 0:Ji(n,t);if((i=i===void 0?void 0:i)===void 0&&i===e){if(i=n!=null){for(var s=-1,g=(i=jh(i=t,n)).length,l=!1;++s<g;){var C=kh(i[s]);if(!(l=n!=null&&n!=null&&C in Object(n)))break;n=n[C]}l||++s!=g?i=l:i=!!(g=n==null?0:n.length)&&fo(g)&&tk(C,g)&&(Dc(n)||Kh(n))}C=i}else C=rg(e,i,3);return C}},yk=function(t){return t},bF=function(t){return function(e){return e==null?void 0:e[t]}},cF=function(t){return function(e){return Ji(e,t)}},Qf=function(t){return typeof t=="function"?t:t==null?yk:Ia(t)=="object"?Dc(t)?aF(t[0],t[1]):UE(t):ro(t)?bF(kh(t)):cF(t)},aq=function(t,e,n){for(var i=-1,s=Object(t),g=(n=n(t)).length;g--;){var l=n[++i];if(e(s[l],l,s)===!1)break}return t},Zu=function(t,e){return t&&aq(t,e,Df)},$u=function(t,e){return function(n,i){if(n==null)return n;if(!Ef(n))return t(n,i);for(var s=n.length,g=-1,l=Object(n);++g<s&&i(l[g],g,l)!==!1;);return n}}(Zu),dF=function(t,e){var n;return $u(t,function(i,s,g){return!(n=e(i,s,g))}),!!n},zk=function(t,e,n){if(!Ic(n))return!1;var i=Ia(e);return!!(i=="number"?Ef(n)&&tk(e,n.length):i=="string"&&e in n)&&Fi(n[e],t)},lh=function(t,e,n){var i=Dc(t)?Pu:dF;return i(t,Qf(e))},av=Fd?Fd.isConcatSpreadable:void 0,Iy=function(t){return Dc(t)||Kh(t)||!!(av&&t&&t[av])},eF=function(t,e){var n=-1,i=Ef(t)?Array(t.length):[];return $u(t,function(s,g,l){i[++n]=e(s,g,l)}),i},fF=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t},gF=function(t,e,n){e=e.length?Cf(e,function(s){return Dc(s)?function(g){return Ji(g,s.length===1?s[0]:s)}:s}):[yk];var i=-1;return e=Cf(e,uk(Qf)),t=eF(t,function(s,g,l){return{criteria:Cf(e,function(C){return C(s)}),index:++i,value:s}}),fF(t,function(s,g){e:{for(var l=-1,C=s.criteria,p=g.criteria,B=C.length,Q=n.length;++l<B;){t:{var y=C[l],_=p[l];if(y!==_){var S=y!==void 0,w=y===null,O=y==y,P=tg(y),K=_!==void 0,M=_===null,U=_==_,F=tg(_);if(!M&&!F&&!P&&y>_||P&&K&&U&&!M&&!F||w&&K&&U||!S&&U||!O){y=1;break t}if(!w&&!P&&!F&&y<_||F&&S&&O&&!w&&!P||M&&S&&O||!K&&O||!U){y=-1;break t}}y=0}if(y){s=l>=Q?y:y*(n[l]=="desc"?-1:1);break e}}s=s.index-g.index}return s})},hF=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},bv=Math.max,cv=function(t,e,n){return e=bv(e===void 0?t.length-1:e,0),function(){for(var i=arguments,s=-1,g=bv(i.length-e,0),l=Array(g);++s<g;)l[s]=i[e+s];for(s=-1,g=Array(e+1);++s<e;)g[s]=i[s];return g[e]=n(l),hF(t,this,g)}},iF=function(t){return function(){return t}},Ak=function(){try{var t=cg(Object,"defineProperty");return t({},"",{}),t}catch{}}(),jF=Date.now,dv=function(t){var e=0,n=0;return function(){var i=jF(),s=16-(i-n);if(n=i,0<s){if(800<=++e)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ak?function(t,e){return Ak(t,"toString",{configurable:!0,enumerable:!1,value:iF(e),writable:!0})}:yk),ev=function(t,e){return dv(cv(t,e,yk),t+"")},fv=ev(function(t,e){if(t==null)return[];var n=e.length;return 1<n&&zk(t,e[0],e[1])?e=[]:2<n&&zk(e[0],e[1],e[2])&&(e=[e[0]]),gF(t,wl(e),[])}),gv=function(t){var e=t.length;return e?t[Iu(0,e-1)]:void 0},kF=function(t){return gv(Dm(t))},Am=function(t){return(Dc(t)?gv:kF)(t)},lF=Math.max,mF=Math.min,hv=1/0,so=function(t){return t?(t=sk(t))===hv||t===-hv?17976931348623157e292*(0>t?-1:1):t==t?t:0:t===0?t:0},iv=function(t,e,n){return e=so(e),n===void 0?(n=e,e=0):n=so(n),(t=sk(t))>=mF(e,n)&&t<lF(e,n)},jv=function(t){for(var e=-1,n=t==null?0:t.length,i=0,s=[];++e<n;){var g=t[e];g&&(s[i++]=g)}return s},Ry=function(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t},Bk=function(t,e,n){e=="__proto__"&&Ak?Ak(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},nF=Object.prototype.hasOwnProperty,Al=function(t,e,n){var i=t[e];nF.call(t,e)&&Fi(i,n)&&(n!==void 0||e in t)||Bk(t,e,n)},ug=function(t,e,n,i){var s=!n;n||(n={});for(var g=-1,l=e.length;++g<l;){var C=e[g],p=void 0;p===void 0&&(p=t[C]),s?Bk(n,C,p):Al(n,C,p)}return n},Ny=function(t,e){return t&&ug(e,Df(e),t)},oF=Object.prototype.hasOwnProperty,Jh=function(t){if(Ef(t))t=Nu(t,!0);else if(Ic(t)){var e=go(t),n=[];for(i in t)(i!="constructor"||!e&&oF.call(t,i))&&n.push(i);t=n}else{var i=[];if(t!=null)for(e in Object(t))i.push(e);t=i}return t},Ly=function(t,e){return t&&ug(e,Jh(e),t)},Yp=Ua(function(t,e){var n=(e=e&&!e.nodeType&&e)&&t&&!t.nodeType&&t,i=(e=n&&n.exports===e?fd.Buffer:void 0)?e.allocUnsafe:void 0;t.exports=function(s,g){return g?s.slice():(g=s.length,g=i?i(g):new s.constructor(g),s.copy(g),g)}}),My=function(t,e){return ug(t,no(t),e)},to=Ou(Object.getPrototypeOf,Object),kv=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)xl(e,no(t)),t=to(t);return e}:Vu,Ky=function(t,e){return ug(t,kv(t),e)},zl=function(t){return Uu(t,Jh,kv)},pF=Object.prototype.hasOwnProperty,Jy=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&pF.call(t,"index")&&(n.index=t.index,n.input=t.input),n},uo=function(t){var e=new t.constructor(t.byteLength);return new xk(e).set(new xk(t)),e},qF=/\w*$/,lv=Fd?Fd.prototype:void 0,mv=lv?lv.valueOf:void 0,bq=function(t,e){return e=e?uo(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)},Oy=function(t,e,n){var i=t.constructor;switch(e){case"[object ArrayBuffer]":return uo(t);case"[object Boolean]":case"[object Date]":return new i(+t);case"[object DataView]":return e=n?uo(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bq(t,n);case"[object Map]":return new i;case"[object Number]":case"[object String]":return new i(t);case"[object RegExp]":return(e=new t.constructor(t.source,qF.exec(t))).lastIndex=t.lastIndex,e;case"[object Set]":return new i;case"[object Symbol]":return mv?Object(mv.call(t)):{}}},nv=Object.create,rF=function(){function t(){}return function(e){return Ic(e)?nv?nv(e):(t.prototype=e,e=new t,t.prototype=void 0,e):{}}}(),Zp=function(t){return typeof t.constructor!="function"||go(t)?{}:rF(to(t))},sF=function(t){return ce(t)&&Hh(t)=="[object Map]"},ov=hh&&hh.isMap,Qy=ov?uk(ov):sF,tF=function(t){return ce(t)&&Hh(t)=="[object Set]"},pv=hh&&hh.isSet,Py=pv?uk(pv):tF,Mb={};Mb["[object Arguments]"]=Mb["[object Array]"]=Mb["[object ArrayBuffer]"]=Mb["[object DataView]"]=Mb["[object Boolean]"]=Mb["[object Date]"]=Mb["[object Float32Array]"]=Mb["[object Float64Array]"]=Mb["[object Int8Array]"]=Mb["[object Int16Array]"]=Mb["[object Int32Array]"]=Mb["[object Map]"]=Mb["[object Number]"]=Mb["[object Object]"]=Mb["[object RegExp]"]=Mb["[object Set]"]=Mb["[object String]"]=Mb["[object Symbol]"]=Mb["[object Uint8Array]"]=Mb["[object Uint8ClampedArray]"]=Mb["[object Uint16Array]"]=Mb["[object Uint32Array]"]=!0,Mb["[object Error]"]=Mb["[object Function]"]=Mb["[object WeakMap]"]=!1;var uF=function(t,e){var n={};return e=Qf(e),Zu(t,function(i,s,g){Bk(n,s,e(i,s,g))}),n},Cl=function(t,e,n){(n===void 0||Fi(t[e],n))&&(n!==void 0||e in t)||Bk(t,e,n)},qv=Function.prototype.toString,vF=Object.prototype.hasOwnProperty,wF=qv.call(Object),cq=function(t){return!(!ce(t)||ag(t)!="[object Object]")&&((t=to(t))===null||typeof(t=vF.call(t,"constructor")&&t.constructor)=="function"&&t instanceof t&&qv.call(t)==wF)},Bl=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]},xF=function(t){return ev(function(e,n){var i=-1,s=n.length,g=1<s?n[s-1]:void 0,l=2<s?n[2]:void 0;for(g=3<t.length&&typeof g=="function"?(s--,g):void 0,l&&zk(n[0],n[1],l)&&(g=3>s?void 0:g,s=1),e=Object(e);++i<s;)(l=n[i])&&t(e,l,i,g);return e})}(function(t,e,n,i){$p(t,e,n,i)}),yF=function(t,e){if(!(2>(e=jh(e,t)).length)){var n=e,i=0,s=-1,g=-1,l=n.length;for(0>i&&(i=-i>l?0:l+i),0>(s=s>l?l:s)&&(s+=l),l=i>s?0:s-i>>>0,i>>>=0,s=Array(l);++g<l;)s[g]=n[g+i];t=Ji(t,s)}return(n=t==null)||(n=e==null?0:e.length,n=delete t[kh(n?e[n-1]:void 0)]),n},zF=function(t){return cq(t)?void 0:t},AF=function(t){return t!=null&&t.length?wl(t):[]},Hm=function(t){return dv(cv(t,void 0,AF),t+"")}(function(t,e){var n={};if(t==null)return n;var i=!1;e=Cf(e,function(g){return g=jh(g,t),i||(i=1<g.length),g}),ug(t,zl(t),n),i&&(n=de(n,7,zF));for(var s=e.length;s--;)yF(n,e[s]);return n}),BF=/^\s+/,CF=fd.parseInt,EA=function(t){return t===void 0},DA=function(t){if(typeof t!="function")throw new TypeError("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}},DF=function(t,e,n){for(var i=-1,s=e.length,g={};++i<s;){var l=e[i],C=Ji(t,l);if(n(C,l)){var p=g;if(l=jh(l,t),Ic(p))for(var B=-1,Q=(l=jh(l,p)).length,y=Q-1;p!=null&&++B<Q;){var _=kh(l[B]),S=C;if(_==="__proto__"||_==="constructor"||_==="prototype")break;if(B!=y){var w=p[_];(S=void 0)==void 0&&(S=Ic(w)?w:tk(l[B+1])?[]:{})}Al(p,_,S),p=p[_]}}}return g},CA=function(t,e){if(t==null)return{};var n=Cf(zl(t),function(i){return[i]});return e=Qf(e),DF(t,n,function(i,s){return e(i,s[0])})},rv=function(t,e,n,i){var s=t.length;for(n+=-1;++n<s;)if(e(t[n],n,t))return n;return-1},EF=Math.max,AA=function(t,e,n){var i=Object(t);if(!Ef(t)){var s=Qf(e);t=Df(t),e=function(g){return s(i[g],g,i)}}return-1<(e=function(g,l,C){var p=g==null?0:g.length;if(!p)return-1;if(C==null)C=0;else{var B=(C=so(C))%1;C=C==C?B?C-B:C:0}return 0>C&&(C=EF(p+C,0)),rv(g,Qf(l),C)}(t,e,n))?i[s?t[e]:e]:void 0},FF=function(t){return t!=t},GF=function(t,e){var n;if(n=!(t==null||!t.length)){if(e==e)e:{n=-1;for(var i=t.length;++n<i;)if(t[n]===e){t=n;break e}t=-1}else t=rv(t,FF,0);n=-1<t}return n},HF=function(t,e,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(e,t[i]))return!0;return!1},IF=function(){},JF=1/0,KF=ih&&1/lo(new ih([,-0]))[1]==JF?function(t){return new ih(t)}:IF,zA=function(t,e){if(t&&t.length)e:{e=typeof e=="function"?e:void 0;var n=-1,i=GF,s=t.length,g=!0,l=[],C=l;if(e)g=!1,i=HF;else if(200<=s){if(i=KF(t)){t=lo(i);break e}g=!1,i=JE,C=new Gh}else C=l;t:for(;++n<s;){var p=t[n],B=p;if(p=e||p!==0?p:0,g&&B==B){for(var Q=C.length;Q--;)if(C[Q]===B)continue t;l.push(p)}else i(C,B,e)||(C!==l&&C.push(B),l.push(p))}t=l}else t=[];return t};Ha({target:"String",proto:!0,forced:Pa(function(){var t="".sub('"');return t!==t.toLowerCase()||3<t.split('"').length})},{sub:function(){return"<sub>"+String(bd(this))+"</sub>"}});var T=Tb,Gd=null;try{Gd=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(t){}Object.defineProperty(Tb.prototype,"__isLong__",{value:!0}),Tb.isLong=Wc;var eq={},dq={};Tb.fromInt=Ff,Tb.fromNumber=wd,Tb.fromBits=Nb;var fj=Math.pow;Tb.fromString=El,Tb.fromValue=Ld;var fq=18446744073709552e3,hq=fq/2,sv=Ff(16777216),xd=Ff(0);Tb.ZERO=xd;var Gf=Ff(0,!0);Tb.UZERO=Gf;var mh=Ff(1);Tb.ONE=mh;var tv=Ff(1,!0);Tb.UONE=tv;var vo=Ff(-1);Tb.NEG_ONE=vo;var iq=Nb(-1,2147483647,!1);Tb.MAX_VALUE=iq;var gq=Nb(-1,-1,!0);Tb.MAX_UNSIGNED_VALUE=gq;var Xc=Nb(0,-2147483648,!1);Tb.MIN_VALUE=Xc;var Ba=Tb.prototype,Cb;Ba.toInt=function(){return this.unsigned?this.low>>>0:this.low},Ba.toNumber=function(){return this.unsigned?4294967296*(this.high>>>0)+(this.low>>>0):4294967296*this.high+(this.low>>>0)},Ba.toString=function(t){if(2>(t=t||10)||36<t)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Xc)){var e=wd(t),n=this.div(e);return e=n.mul(e).sub(this),n.toString(t)+e.toInt().toString(t)}return"-"+this.neg().toString(t)}n=wd(fj(t,6),this.unsigned),e=this;for(var i="";;){var s=e.div(n),g=(e.sub(s.mul(n)).toInt()>>>0).toString(t);if((e=s).isZero())return g+i;for(;6>g.length;)g="0"+g;i=""+g+i}},Ba.getHighBits=function(){return this.high},Ba.getHighBitsUnsigned=function(){return this.high>>>0},Ba.getLowBits=function(){return this.low},Ba.getLowBitsUnsigned=function(){return this.low>>>0},Ba.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Xc)?64:this.neg().getNumBitsAbs();for(var t=this.high!=0?this.high:this.low,e=31;0<e&&!(t&1<<e);e--);return this.high!=0?e+33:e+1},Ba.isZero=function(){return this.high===0&&this.low===0},Ba.eqz=Ba.isZero,Ba.isNegative=function(){return!this.unsigned&&0>this.high},Ba.isPositive=function(){return this.unsigned||0<=this.high},Ba.isOdd=function(){return(1&this.low)==1},Ba.isEven=function(){return(1&this.low)==0},Ba.equals=function(t){return Wc(t)||(t=Ld(t)),(this.unsigned===t.unsigned||this.high>>>31!=1||t.high>>>31!=1)&&this.high===t.high&&this.low===t.low},Ba.eq=Ba.equals,Ba.notEquals=function(t){return!this.eq(t)},Ba.neq=Ba.notEquals,Ba.ne=Ba.notEquals,Ba.lessThan=function(t){return 0>this.comp(t)},Ba.lt=Ba.lessThan,Ba.lessThanOrEqual=function(t){return 0>=this.comp(t)},Ba.lte=Ba.lessThanOrEqual,Ba.le=Ba.lessThanOrEqual,Ba.greaterThan=function(t){return 0<this.comp(t)},Ba.gt=Ba.greaterThan,Ba.greaterThanOrEqual=function(t){return 0<=this.comp(t)},Ba.gte=Ba.greaterThanOrEqual,Ba.ge=Ba.greaterThanOrEqual,Ba.compare=function(t){if(Wc(t)||(t=Ld(t)),this.eq(t))return 0;var e=this.isNegative(),n=t.isNegative();return e&&!n?-1:!e&&n?1:this.unsigned?t.high>>>0>this.high>>>0||t.high===this.high&&t.low>>>0>this.low>>>0?-1:1:this.sub(t).isNegative()?-1:1},Ba.comp=Ba.compare,Ba.negate=function(){return!this.unsigned&&this.eq(Xc)?Xc:this.not().add(mh)},Ba.neg=Ba.negate,Ba.add=function(t){Wc(t)||(t=Ld(t));var e=this.high>>>16,n=65535&this.high,i=this.low>>>16,s=t.high>>>16,g=65535&t.high,l=t.low>>>16;return i=(l=((t=(65535&this.low)+(65535&t.low))>>>16)+(i+l))>>>16,Nb((65535&l)<<16|65535&t,(e=((i+=n+g)>>>16)+(e+s)&65535)<<16|65535&i,this.unsigned)},Ba.subtract=function(t){return Wc(t)||(t=Ld(t)),this.add(t.neg())},Ba.sub=Ba.subtract,Ba.multiply=function(t){if(this.isZero())return xd;if(Wc(t)||(t=Ld(t)),Gd){var e=Gd.mul(this.low,this.high,t.low,t.high);return Nb(e,Gd.get_high(),this.unsigned)}if(t.isZero())return xd;if(this.eq(Xc))return t.isOdd()?Xc:xd;if(t.eq(Xc))return this.isOdd()?Xc:xd;if(this.isNegative())return t.isNegative()?this.neg().mul(t.neg()):this.neg().mul(t).neg();if(t.isNegative())return this.mul(t.neg()).neg();if(this.lt(sv)&&t.lt(sv))return wd(this.toNumber()*t.toNumber(),this.unsigned);e=this.high>>>16;var n=65535&this.high,i=this.low>>>16,s=65535&this.low,g=t.high>>>16,l=65535&t.high,C=t.low>>>16,p=s*(t=65535&t.low),B=(p>>>16)+i*t,Q=B>>>16;Q+=(B=(65535&B)+s*C)>>>16;var y=(Q+=n*t)>>>16;return Nb((65535&B)<<16|65535&p,(y=(y+=(Q=(65535&Q)+i*C)>>>16)+((Q=(65535&Q)+s*l)>>>16)+(e*t+n*C+i*l+s*g)&65535)<<16|65535&Q,this.unsigned)},Ba.mul=Ba.multiply,Ba.divide=function(t){if(Wc(t)||(t=Ld(t)),t.isZero())throw Error("division by zero");if(Gd)return this.unsigned||this.high!==-2147483648||t.low!==-1||t.high!==-1?Nb(t=(this.unsigned?Gd.div_u:Gd.div_s)(this.low,this.high,t.low,t.high),Gd.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Gf:xd;if(this.unsigned){if(t.unsigned||(t=t.toUnsigned()),t.gt(this))return Gf;if(t.gt(this.shru(1)))return tv;var e=Gf}else{if(this.eq(Xc)){if(t.eq(mh)||t.eq(vo))return Xc;if(t.eq(Xc))return mh;var n=this.shr(1).div(t).shl(1);if(n.eq(xd))return t.isNegative()?mh:vo;var i=this.sub(t.mul(n));return n.add(i.div(t))}if(t.eq(Xc))return this.unsigned?Gf:xd;if(this.isNegative())return t.isNegative()?this.neg().div(t.neg()):this.neg().div(t).neg();if(t.isNegative())return this.div(t.neg()).neg();e=xd}for(i=this;i.gte(t);){n=Math.max(1,Math.floor(i.toNumber()/t.toNumber()));var s=Math.ceil(Math.log(n)/Math.LN2);s=48>=s?1:fj(2,s-48);for(var g=wd(n),l=g.mul(t);l.isNegative()||l.gt(i);)l=(g=wd(n-=s,this.unsigned)).mul(t);g.isZero()&&(g=mh),e=e.add(g),i=i.sub(l)}return e},Ba.div=Ba.divide,Ba.modulo=function(t){return Wc(t)||(t=Ld(t)),Gd?Nb(t=(this.unsigned?Gd.rem_u:Gd.rem_s)(this.low,this.high,t.low,t.high),Gd.get_high(),this.unsigned):this.sub(this.div(t).mul(t))},Ba.mod=Ba.modulo,Ba.rem=Ba.modulo,Ba.not=function(){return Nb(~this.low,~this.high,this.unsigned)},Ba.and=function(t){return Wc(t)||(t=Ld(t)),Nb(this.low&t.low,this.high&t.high,this.unsigned)},Ba.or=function(t){return Wc(t)||(t=Ld(t)),Nb(this.low|t.low,this.high|t.high,this.unsigned)},Ba.xor=function(t){return Wc(t)||(t=Ld(t)),Nb(this.low^t.low,this.high^t.high,this.unsigned)},Ba.shiftLeft=function(t){return Wc(t)&&(t=t.toInt()),(t&=63)==0?this:32>t?Nb(this.low<<t,this.high<<t|this.low>>>32-t,this.unsigned):Nb(0,this.low<<t-32,this.unsigned)},Ba.shl=Ba.shiftLeft,Ba.shiftRight=function(t){return Wc(t)&&(t=t.toInt()),(t&=63)==0?this:32>t?Nb(this.low>>>t|this.high<<32-t,this.high>>t,this.unsigned):Nb(this.high>>t-32,0<=this.high?0:-1,this.unsigned)},Ba.shr=Ba.shiftRight,Ba.shiftRightUnsigned=function(t){if(Wc(t)&&(t=t.toInt()),(t&=63)===0)return this;var e=this.high;return 32>t?Nb(this.low>>>t|e<<32-t,e>>>t,this.unsigned):Nb(t===32?e:e>>>t-32,0,this.unsigned)},Ba.shru=Ba.shiftRightUnsigned,Ba.shr_u=Ba.shiftRightUnsigned,Ba.toSigned=function(){return this.unsigned?Nb(this.low,this.high,!1):this},Ba.toUnsigned=function(){return this.unsigned?this:Nb(this.low,this.high,!0)},Ba.toBytes=function(t){return t?this.toBytesLE():this.toBytesBE()},Ba.toBytesLE=function(){var t=this.high,e=this.low;return[255&e,e>>>8&255,e>>>16&255,e>>>24,255&t,t>>>8&255,t>>>16&255,t>>>24]},Ba.toBytesBE=function(){var t=this.high,e=this.low;return[t>>>24,t>>>16&255,t>>>8&255,255&t,e>>>24,e>>>16&255,e>>>8&255,255&e]},Tb.fromBytes=function(t,e,n){return n?Tb.fromBytesLE(t,e):Tb.fromBytesBE(t,e)},Tb.fromBytesLE=function(t,e){return new Tb(t[0]|t[1]<<8|t[2]<<16|t[3]<<24,t[4]|t[5]<<8|t[6]<<16|t[7]<<24,e)},Tb.fromBytesBE=function(t,e){return new Tb(t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[0]<<24|t[1]<<16|t[2]<<8|t[3],e)},function(t){t[t.ChannelSMsg=1]="ChannelSMsg",t[t.ChannelRMsg=2]="ChannelRMsg",t[t.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",t[t.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",t[t.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",t[t.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",t[t.P2pCallInvitation=7]="P2pCallInvitation",t[t.P2pCallCancellation=8]="P2pCallCancellation",t[t.P2pCallAcceptance=9]="P2pCallAcceptance",t[t.P2pCallRefusal=10]="P2pCallRefusal"}(Cb||(Cb={}));var x={options:{usePureJavaScript:!1}};Ha({global:!0,bind:!0,enumerable:!0,forced:!za.setImmediate||!za.clearImmediate},{setImmediate:ck,clearImmediate:JC}),mf("Uint16",function(t){return function(e,n,i){return t(this,e,n,i)}});var uv=1 .toFixed,vv=Math.floor,nh=function(t,e,n){return e===0?n:e%2==1?nh(t,e-1,n*t):nh(t*t,e/2,n)},oh=function(t,e,n){for(var i=-1;6>++i;)n+=e*t[i],t[i]=n%1e7,n=vv(n/1e7)},wo=function(t,e){for(var n=6,i=0;0<=--n;)i+=t[n],t[n]=vv(i/e),i=i%e*1e7},wv=function(t){for(var e=6,n="";0<=--e;)if(n!==""||e===0||t[e]!==0){var i=String(t[e]);n=n===""?i:n+Ai.call("0",7-i.length)+i}return n},LF=uv&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!Pa(function(){uv.call({})});Ha({target:"Number",proto:!0,forced:LF},{toFixed:function(t){if(typeof this!="number"&&Bd(this)!="Number")throw TypeError("Incorrect invocation");var e=+this,n=[0,0,0,0,0,0],i="",s="0";if(0>(t=Cd(t))||20<t)throw RangeError("Incorrect fraction digits");if(e!=e)return"NaN";if(-1e21>=e||1e21<=e)return String(e);if(0>e&&(i="-",e=-e),1e-21<e){s=0;for(var g=e*nh(2,69,1);4096<=g;)s+=12,g/=4096;for(;2<=g;)s+=1,g/=2;if(e=0>(s-=69)?e*nh(2,-s,1):e/nh(2,s,1),e*=4503599627370496,0<(s=52-s)){for(oh(n,0,e),e=t;7<=e;)oh(n,1e7,0),e-=7;for(oh(n,nh(10,e,1),0),e=s-1;23<=e;)wo(n,8388608),e-=23;wo(n,1<<e),oh(n,1,1),wo(n,2),s=wv(n)}else oh(n,0,e),oh(n,1<<-s,0),s=wv(n)+Ai.call("0",t)}return 0<t?s=i+((n=s.length)<=t?"0."+Ai.call("0",t-n)+s:s.slice(0,n-t)+"."+s.slice(n-t)):s=i+s,s}});var MF=Bb("iterator"),xo=!Pa(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach(function(i,s){e.delete("b"),n+=s+i}),!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[MF]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||n!=="a1c3"||new URL("http://x",void 0).host!=="x"}),ph=Object.assign,xv=Object.defineProperty,Ki=!ph||Pa(function(){if(ob&&ph({b:1},ph(xv({},"a",{enumerable:!0,get:function(){xv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(i){e[i]=i}),ph({},t)[n]!=7||ze(ph({},e)).join("")!="abcdefghijklmnopqrst"})?function(t,e){for(var n=nc(t),i=arguments.length,s=1,g=ei.f,l=ci;i>s;)for(var C,p=di(arguments[s++]),B=g?ze(p).concat(g(p)):ze(p),Q=B.length,y=0;Q>y;)C=B[y++],(!ob||l.call(p,C))&&(n[C]=p[C]);return n}:ph,NF=/[^\0-\u007E]/,OF=/[.\u3002\uFF0E\uFF61]/g,qh=Math.floor,yo=String.fromCharCode,yv=function(t){var e=ji(t);if(typeof e!="function")throw TypeError(String(t)+" is not iterable");return Ob(e.call(t))},zv=Sd("fetch"),zo=Sd("Headers"),PF=Bb("iterator"),Av=Pb.set,qd=Pb.getterFor("URLSearchParams"),QF=Pb.getterFor("URLSearchParamsIterator"),RF=/\+/g,Bv=Array(4),SF=function(t){try{return decodeURIComponent(t)}catch{return t}},Cv=function(t){var e=t.replace(RF," ");t=4;try{return decodeURIComponent(e)}catch{for(;t;){var n=e.replace,i=t--;i=Bv[i-1]||(Bv[i-1]=RegExp("((?:%[\\da-f]{2}){"+i+"})","gi")),e=n.call(e,i,SF)}return e}},Dv=/[!'()~]|%20/g,TF={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ev=function(t){return TF[t]},Fv=function(t,e){if(e){e=e.split("&");for(var n,i=0;i<e.length;)(n=e[i++]).length&&(n=n.split("="),t.push({key:Cv(n.shift()),value:Cv(n.join("="))}))}},UF=function(t){this.entries.length=0,Fv(this.entries,t)},rh=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Ao=Ls(function(t,e){Av(this,{type:"URLSearchParamsIterator",iterator:yv(qd(t).entries),kind:e})},"Iterator",function(){var t=QF(this),e=t.kind,n=(t=t.iterator.next()).value;return t.done||(t.value=e==="keys"?n.key:e==="values"?n.value:[n.key,n.value]),t}),Li=function(){Dd(this,Li,"URLSearchParams");var t,e,n,i=0<arguments.length?arguments[0]:void 0,s=[];if(Av(this,{type:"URLSearchParams",entries:s,updateURL:function(){},updateSearchParams:UF}),i!==void 0)if(jb(i)){var g=ji(i);if(typeof g=="function")for(i=g.call(i),g=i.next;!(t=g.call(i)).done;){var l=(t=yv(Ob(t.value))).next;if((e=l.call(t)).done||(n=l.call(t)).done||!l.call(t).done)throw TypeError("Expected sequence with length 2");s.push({key:e.value+"",value:n.value+""})}else for(t in i)La(i,t)&&s.push({key:t,value:i[t]+""})}else Fv(s,typeof i=="string"?i.charAt(0)==="?"?i.slice(1):i:i+"")},Ck=Li.prototype;Ae(Ck,{append:function(t,e){rh(arguments.length,2);var n=qd(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){rh(arguments.length,1);for(var e=qd(this),n=e.entries,i=t+"",s=0;s<n.length;)n[s].key===i?n.splice(s,1):s++;e.updateURL()},get:function(t){rh(arguments.length,1);for(var e=qd(this).entries,n=t+"",i=0;i<e.length;i++)if(e[i].key===n)return e[i].value;return null},getAll:function(t){rh(arguments.length,1);for(var e=qd(this).entries,n=t+"",i=[],s=0;s<e.length;s++)e[s].key===n&&i.push(e[s].value);return i},has:function(t){rh(arguments.length,1);for(var e=qd(this).entries,n=t+"",i=0;i<e.length;)if(e[i++].key===n)return!0;return!1},set:function(t,e){rh(arguments.length,1);for(var n,i=qd(this),s=i.entries,g=!1,l=t+"",C=e+"",p=0;p<s.length;p++)(n=s[p]).key===l&&(g?s.splice(p--,1):(g=!0,n.value=C));g||s.push({key:l,value:C}),i.updateURL()},sort:function(){var t,e,n=qd(this),i=n.entries,s=i.slice();for(e=i.length=0;e<s.length;e++){var g=s[e];for(t=0;t<e;t++)if(i[t].key>g.key){i.splice(t,0,g);break}t===e&&i.push(g)}n.updateURL()},forEach:function(t){for(var e,n=qd(this).entries,i=cf(t,1<arguments.length?arguments[1]:void 0,3),s=0;s<n.length;)i((e=n[s++]).value,e.key,this)},keys:function(){return new Ao(this,"keys")},values:function(){return new Ao(this,"values")},entries:function(){return new Ao(this,"entries")}},{enumerable:!0}),Vb(Ck,PF,Ck.entries),Vb(Ck,"toString",function(){for(var t,e=qd(this).entries,n=[],i=0;i<e.length;)t=e[i++],n.push(encodeURIComponent(t.key).replace(Dv,Ev)+"="+encodeURIComponent(t.value).replace(Dv,Ev));return n.join("&")},{enumerable:!0}),Ud(Li,"URLSearchParams"),Ha({global:!0,forced:!xo},{URLSearchParams:Li}),xo||typeof zv!="function"||typeof zo!="function"||Ha({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e=[t];if(1<arguments.length){var n=arguments[1];if(jb(n)){var i=n.body;if(Zg(i)==="URLSearchParams"){var s=n.headers?new zo(n.headers):new zo;s.has("content-type")||s.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),n=Td(n,{body:ke(0,String(i)),headers:ke(0,s)})}}e.push(n)}return zv.apply(this,e)}});var Mi=za.URL,VF=Li,WF=Pb.set,bc=Pb.getterFor("URL"),XF=Math.floor,Gv=Math.pow,Hv=/[A-Za-z]/,YF=/[\d+-.A-Za-z]/,Bo=/\d/,ZF=/^(0x|0X)/,$F=/^[0-7]+$/,aG=/^\d+$/,Iv=/^[\dA-Fa-f]+$/,bG=/[\0\t\n\r #%/:?@[\\]]/,cG=/[\0\t\n\r #/:?@[\\]]/,dG=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,eG=/[\t\n\r]/g,Co=function(t,e){var n;if(e.charAt(0)=="["){if(e.charAt(e.length-1)!="]")return"Invalid host";var i=fG(e.slice(1,-1));if(!i)return"Invalid host"}else if(zc(t)){for(i=[],e=e.toLowerCase().replace(OF,".").split("."),n=0;n<e.length;n++){var s=e[n],g=i,l=g.push;if(NF.test(s)){var C=s;s=[];var p=C;C=[];for(var B=0,Q=p.length;B<Q;){var y=p.charCodeAt(B++);if(55296<=y&&56319>=y&&B<Q){var _=p.charCodeAt(B++);(64512&_)==56320?C.push(((1023&y)<<10)+(1023&_)+65536):(C.push(y),B--)}else C.push(y)}B=C.length,Q=128;var S=0,w=72;for(p=0;p<C.length;p++){var O=C[p];128>O&&s.push(yo(O))}for((_=y=s.length)&&s.push("-");_<B;){var P=2147483647;for(p=0;p<C.length;p++)(O=C[p])>=Q&&O<P&&(P=O);var K=_+1;if(P-Q>qh((2147483647-S)/K))throw RangeError("Overflow: input needs wider integers to process");for(S+=(P-Q)*K,Q=P,p=0;p<C.length;p++){if((O=C[p])<Q&&2147483647<++S)throw RangeError("Overflow: input needs wider integers to process");if(O==Q){var M=S;for(O=36;!(M<(P=O<=w?1:O>=w+26?26:O-w));O+=36){var U=36-P,F=s;P+=(M-=P)%U,F.push.call(F,yo(P+22+75*(26>P))),M=qh(M/U)}for(s.push(yo(M+22+75*(26>M))),w=K,O=0,S=_==y?qh(S/700):S>>1,S+=qh(S/w);455<S;O+=36)S=qh(S/35);w=qh(O+36*S/(S+38)),S=0,++_}}++S,++Q}s="xn--"+s.join("")}l.call(g,s)}if(e=i.join("."),bG.test(e)||(i=gG(e))===null)return"Invalid host"}else{if(cG.test(e))return"Invalid host";for(i="",e=Wf(e),n=0;n<e.length;n++)i+=nf(e[n],Dk)}t.host=i},gG=function(t){var e,n=t.split(".");n.length&&n[n.length-1]==""&&n.pop();var i=n.length;if(4<i)return t;var s=[];for(e=0;e<i;e++){var g=n[e];if(g=="")return t;var l=10;if(1<g.length&&g.charAt(0)=="0"&&(l=ZF.test(g)?16:8,g=g.slice(l==8?1:2)),g==="")g=0;else{if(!(l==10?aG:l==8?$F:Iv).test(g))return t;g=parseInt(g,l)}s.push(g)}for(e=0;e<i;e++)if(g=s[e],e==i-1){if(g>=Gv(256,5-i))return null}else if(255<g)return null;for(t=s.pop(),e=0;e<s.length;e++)t+=s[e]*Gv(256,3-e);return t},fG=function(t){var e,n,i=[0,0,0,0,0,0,0,0],s=0,g=null,l=0,C=function(){return t.charAt(l)};if(C()==":"){if(t.charAt(1)!=":")return;l+=2,g=++s}for(;C();){if(s==8)return;if(C()==":"){if(g!==null)return;l++,g=++s}else{for(e=n=0;4>n&&Iv.test(C());)e=16*e+parseInt(C(),16),l++,n++;if(C()=="."){if(n==0||(l-=n,6<s))return;for(e=0;C();){if(n=null,0<e){if(!(C()=="."&&4>e))return;l++}if(!Bo.test(C()))return;for(;Bo.test(C());){var p=parseInt(C(),10);if(n===null)n=p;else{if(n==0)return;n=10*n+p}if(255<n)return;l++}i[s]=256*i[s]+n,++e!=2&&e!=4||s++}if(e!=4)return;break}if(C()==":"){if(l++,!C())return}else if(C())return;i[s++]=e}}if(g!==null)for(C=s-g,s=7;s!=0&&0<C;)e=i[s],i[s--]=i[g+C-1],i[g+--C]=e;else if(s!=8)return;return i},Ni=function(t){var e,n;if(typeof t=="number"){var i=[];for(e=0;4>e;e++)i.unshift(t%256),t=XF(t/256);return i.join(".")}if(typeof t=="object"){i="",e=null;for(var s=1,g=null,l=0,C=0;8>C;C++)t[C]!==0?(l>s&&(e=g,s=l),g=null,l=0):(g===null&&(g=C),++l);for(l>s&&(e=g),s=e,e=0;8>e;e++)n&&t[e]===0||(n&&(n=!1),s===e?(i+=e?":":"::",n=!0):(i+=t[e].toString(16),7>e&&(i+=":")));return"["+i+"]"}return t},Dk={},Jv=Ki({},Dk,{" ":1,'"':1,"<":1,">":1,"`":1}),Kv=Ki({},Jv,{"#":1,"?":1,"{":1,"}":1}),Do=Ki({},Kv,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),nf=function(t,e){var n=DB(t,0);return 32<n&&127>n&&!La(e,t)?t:encodeURIComponent(t)},Ek={ftp:21,file:null,http:80,https:443,ws:80,wss:443},zc=function(t){return La(Ek,t.scheme)},Eo=function(t){return!t.host||t.cannotBeABaseURL||t.scheme=="file"},Oi=function(t,e){var n;return t.length==2&&Hv.test(t.charAt(0))&&((n=t.charAt(1))==":"||!e&&n=="|")},Lv=function(t){var e;return 1<t.length&&Oi(t.slice(0,2))&&(t.length==2||(e=t.charAt(2))==="/"||e==="\\"||e==="?"||e==="#")},Mv=function(t){var e=t.path,n=e.length;!n||t.scheme=="file"&&n==1&&Oi(e[0],!0)||e.pop()},Fo={},Nv={},Go={},Ov={},Pv={},Ho={},Qv={},Rv={},Fk={},Gk={},Io={},Jo={},Ko={},Lo={},Sv={},Mo={},Pi={},te={},Tv={},eg={},Ke={},ue=function(t,e,n,i){var s=n||Fo,g=0,l="",C=!1,p=!1,B=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(dG,"")),e=e.replace(eG,""),e=Wf(e);g<=e.length;){var Q=e[g];switch(s){case Fo:if(!Q||!Hv.test(Q)){if(n)return"Invalid scheme";s=Go;continue}l+=Q.toLowerCase(),s=Nv;break;case Nv:if(Q&&(YF.test(Q)||Q=="+"||Q=="-"||Q=="."))l+=Q.toLowerCase();else{if(Q!=":"){if(n)return"Invalid scheme";l="",s=Go,g=0;continue}if(n&&(zc(t)!=La(Ek,l)||l=="file"&&(t.username!=""||t.password!=""||t.port!==null)||t.scheme=="file"&&!t.host))return;if(t.scheme=l,n)return void(zc(t)&&Ek[t.scheme]==t.port&&(t.port=null));l="",t.scheme=="file"?s=Lo:zc(t)&&i&&i.scheme==t.scheme?s=Ov:zc(t)?s=Rv:e[g+1]=="/"?(s=Pv,g++):(t.cannotBeABaseURL=!0,t.path.push(""),s=Tv)}break;case Go:if(!i||i.cannotBeABaseURL&&Q!="#")return"Invalid scheme";if(i.cannotBeABaseURL&&Q=="#"){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,s=Ke;break}s=i.scheme=="file"?Lo:Ho;continue;case Ov:if(Q!="/"||e[g+1]!="/"){s=Ho;continue}s=Fk,g++;break;case Pv:if(Q=="/"){s=Gk;break}s=te;continue;case Ho:if(t.scheme=i.scheme,Q==null)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if(Q=="/"||Q=="\\"&&zc(t))s=Qv;else if(Q=="?")t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",s=eg;else{if(Q!="#"){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),s=te;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",s=Ke}break;case Qv:if(!zc(t)||Q!="/"&&Q!="\\"){if(Q!="/"){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,s=te;continue}s=Gk}else s=Fk;break;case Rv:if(s=Fk,Q!="/"||l.charAt(g+1)!="/")continue;g++;break;case Fk:if(Q!="/"&&Q!="\\"){s=Gk;continue}break;case Gk:if(Q=="@"){for(C&&(l="%40"+l),C=!0,l=Wf(l),Q=0;Q<l.length;Q++){var y=l[Q];y!=":"||B?(y=nf(y,Do),B?t.password+=y:t.username+=y):B=!0}l=""}else if(Q==null||Q=="/"||Q=="?"||Q=="#"||Q=="\\"&&zc(t)){if(C&&l=="")return"Invalid authority";g-=Wf(l).length+1,l="",s=Io}else l+=Q;break;case Io:case Jo:if(n&&t.scheme=="file"){s=Mo;continue}if(Q!=":"||p){if(Q==null||Q=="/"||Q=="?"||Q=="#"||Q=="\\"&&zc(t)){if(zc(t)&&l=="")return"Invalid host";if(n&&l==""&&(t.username!=""||t.password!=""||t.port!==null))return;if(s=Co(t,l))return s;if(l="",s=Pi,n)return;continue}Q=="["?p=!0:Q=="]"&&(p=!1),l+=Q}else{if(l=="")return"Invalid host";if(s=Co(t,l))return s;if(l="",s=Ko,n==Jo)return}break;case Ko:if(!Bo.test(Q)){if(Q==null||Q=="/"||Q=="?"||Q=="#"||Q=="\\"&&zc(t)||n){if(l!=""){if(65535<(s=parseInt(l,10)))return"Invalid port";t.port=zc(t)&&s===Ek[t.scheme]?null:s,l=""}if(n)return;s=Pi;continue}return"Invalid port"}l+=Q;break;case Lo:if(t.scheme="file",Q=="/"||Q=="\\")s=Sv;else{if(!i||i.scheme!="file"){s=te;continue}if(Q==null)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if(Q=="?")t.host=i.host,t.path=i.path.slice(),t.query="",s=eg;else{if(Q!="#"){Lv(e.slice(g).join(""))||(t.host=i.host,t.path=i.path.slice(),Mv(t)),s=te;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",s=Ke}}break;case Sv:if(Q=="/"||Q=="\\"){s=Mo;break}i&&i.scheme=="file"&&!Lv(e.slice(g).join(""))&&(Oi(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),s=te;continue;case Mo:if(Q==null||Q=="/"||Q=="\\"||Q=="?"||Q=="#"){if(!n&&Oi(l))s=te;else{if(l==""){if(t.host="",n)return}else{if(s=Co(t,l))return s;if(t.host=="localhost"&&(t.host=""),n)return;l=""}s=Pi}continue}l+=Q;break;case Pi:if(zc(t)){if(s=te,Q!="/"&&Q!="\\")continue}else if(n||Q!="?")if(n||Q!="#"){if(Q!=null&&(s=te,Q!="/"))continue}else t.fragment="",s=Ke;else t.query="",s=eg;break;case te:if(Q==null||Q=="/"||Q=="\\"&&zc(t)||!n&&(Q=="?"||Q=="#")){if((y=(y=l).toLowerCase())===".."||y==="%2e."||y===".%2e"||y==="%2e%2e"?(Mv(t),Q=="/"||Q=="\\"&&zc(t)||t.path.push("")):l==="."||l.toLowerCase()==="%2e"?Q=="/"||Q=="\\"&&zc(t)||t.path.push(""):(t.scheme=="file"&&!t.path.length&&Oi(l)&&(t.host&&(t.host=""),l=l.charAt(0)+":"),t.path.push(l)),l="",t.scheme=="file"&&(Q==null||Q=="?"||Q=="#"))for(;1<t.path.length&&t.path[0]==="";)t.path.shift();Q=="?"?(t.query="",s=eg):Q=="#"&&(t.fragment="",s=Ke)}else l+=nf(Q,Kv);break;case Tv:Q=="?"?(t.query="",s=eg):Q=="#"?(t.fragment="",s=Ke):Q!=null&&(t.path[0]+=nf(Q,Dk));break;case eg:n||Q!="#"?Q!=null&&(Q=="'"&&zc(t)?t.query+="%27":t.query=Q=="#"?t.query+"%23":t.query+nf(Q,Dk)):(t.fragment="",s=Ke);break;case Ke:Q!=null&&(t.fragment+=nf(Q,Jv))}g++}},of=function(t){var e=Dd(this,of,"URL"),n=1<arguments.length?arguments[1]:void 0,i=String(t),s=WF(e,{type:"URL"});if(n!==void 0){if(n instanceof of)var g=bc(n);else if(n=ue(g={},String(n)))throw TypeError(n)}if(n=ue(s,i,null,g))throw TypeError(n);var l=s.searchParams=new VF;(i=qd(l)).updateSearchParams(s.query),i.updateURL=function(){s.query=String(l)||null},ob||(e.href=Hk.call(e),e.origin=Uv.call(e),e.protocol=Vv.call(e),e.username=Wv.call(e),e.password=Xv.call(e),e.host=Yv.call(e),e.hostname=Zv.call(e),e.port=$v.call(e),e.pathname=aw.call(e),e.search=bw.call(e),e.searchParams=cw.call(e),e.hash=dw.call(e))},No=of.prototype,Hk=function(){var t=bc(this),e=t.scheme,n=t.username,i=t.password,s=t.host,g=t.port,l=t.path,C=t.query,p=t.fragment,B=e+":";return s!==null?(B+="//",t.username==""&&t.password==""||(B+=n+(i?":"+i:"")+"@"),B+=Ni(s),g!==null&&(B+=":"+g)):e=="file"&&(B+="//"),B+=t.cannotBeABaseURL?l[0]:l.length?"/"+l.join("/"):"",C!==null&&(B+="?"+C),p!==null&&(B+="#"+p),B},Uv=function(){var t=bc(this),e=t.scheme,n=t.port;if(e=="blob")try{return new of(e.path[0]).origin}catch{return"null"}return e!="file"&&zc(t)?e+"://"+Ni(t.host)+(n!==null?":"+n:""):"null"},Vv=function(){return bc(this).scheme+":"},Wv=function(){return bc(this).username},Xv=function(){return bc(this).password},Yv=function(){var t=bc(this),e=t.host;return t=t.port,e===null?"":t===null?Ni(e):Ni(e)+":"+t},Zv=function(){var t=bc(this).host;return t===null?"":Ni(t)},$v=function(){var t=bc(this).port;return t===null?"":String(t)},aw=function(){var t=bc(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},bw=function(){var t=bc(this).query;return t?"?"+t:""},cw=function(){return bc(this).searchParams},dw=function(){var t=bc(this).fragment;return t?"#"+t:""},Hd=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(ob&&us(No,{href:Hd(Hk,function(t){var e=bc(this);if(t=ue(e,String(t)))throw TypeError(t);qd(e.searchParams).updateSearchParams(e.query)}),origin:Hd(Uv),protocol:Hd(Vv,function(t){var e=bc(this);ue(e,String(t)+":",Fo)}),username:Hd(Wv,function(t){var e=bc(this);if(t=Wf(String(t)),!Eo(e)){e.username="";for(var n=0;n<t.length;n++)e.username+=nf(t[n],Do)}}),password:Hd(Xv,function(t){var e=bc(this);if(t=Wf(String(t)),!Eo(e)){e.password="";for(var n=0;n<t.length;n++)e.password+=nf(t[n],Do)}}),host:Hd(Yv,function(t){var e=bc(this);e.cannotBeABaseURL||ue(e,String(t),Io)}),hostname:Hd(Zv,function(t){var e=bc(this);e.cannotBeABaseURL||ue(e,String(t),Jo)}),port:Hd($v,function(t){var e=bc(this);Eo(e)||((t=String(t))==""?e.port=null:ue(e,t,Ko))}),pathname:Hd(aw,function(t){var e=bc(this);e.cannotBeABaseURL||(e.path=[],ue(e,t+"",Pi))}),search:Hd(bw,function(t){var e=bc(this);(t=String(t))==""?e.query=null:(t.charAt(0)=="?"&&(t=t.slice(1)),e.query="",ue(e,t,eg)),qd(e.searchParams).updateSearchParams(e.query)}),searchParams:Hd(cw),hash:Hd(dw,function(t){var e=bc(this);(t=String(t))==""?e.fragment=null:(t.charAt(0)=="#"&&(t=t.slice(1)),e.fragment="",ue(e,t,Ke))})}),Vb(No,"toJSON",function(){return Hk.call(this)},{enumerable:!0}),Vb(No,"toString",function(){return Hk.call(this)},{enumerable:!0}),Mi){var ew=Mi.createObjectURL,fw=Mi.revokeObjectURL;ew&&Vb(of,"createObjectURL",function(t){return ew.apply(Mi,arguments)}),fw&&Vb(of,"revokeObjectURL",function(t){return fw.apply(Mi,arguments)})}Ud(of,"URL"),Ha({global:!0,forced:!xo,sham:!ob},{URL:of});var gw={},hG=function(t,e,n){if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');if(n!==void 0&&typeof n!="number")throw new TypeError('"maxline" must be a number.');var i="";if(t instanceof Uint8Array){var s,g=e.length,l=e.charAt(0),C=[0];for(s=0;s<t.length;++s){for(var p=0,B=t[s];p<C.length;++p)B+=C[p]<<8,C[p]=B%g,B=B/g|0;for(;0<B;)C.push(B%g),B=B/g|0}for(s=0;t[s]===0&&s<t.length-1;++s)i+=l;for(s=C.length-1;0<=s;--s)i+=e[C[s]]}else{for(l=e.length,s=e.charAt(0),g=[0],i=0;i<t.length();++i){for(C=0,p=t.at(i);C<g.length;++C)p+=g[C]<<8,g[C]=p%l,p=p/l|0;for(;0<p;)g.push(p%l),p=p/l|0}for(l="",i=0;t.at(i)===0&&i<t.length()-1;++i)l+=s;for(i=g.length-1;0<=i;--i)l+=e[g[i]];i=l}return n&&(i=i.match(new RegExp(".{1,"+n+"}","g")).join(`\r
`)),i},iG=function(t,e){if(typeof t!="string")throw new TypeError('"input" must be a string.');if(typeof e!="string")throw new TypeError('"alphabet" must be a string.');var n=gw[e];if(!n){n=gw[e]=[];for(var i=0;i<e.length;++i)n[e.charCodeAt(i)]=i}t=t.replace(/\s/g,"");var s=e.length;e=e.charAt(0);var g=[0];for(i=0;i<t.length;i++){var l=n[t.charCodeAt(i)];if(l===void 0)return;for(var C=0;C<g.length;++C)l+=g[C]*s,g[C]=255&l,l>>=8;for(;0<l;)g.push(255&l),l>>=8}for(n=0;t[n]===e&&n<t.length-1;++n)g.push(0);return typeof Buffer<"u"?Buffer.from(g.reverse()):new Uint8Array(g.reverse())};Ua(function(t){function e(_){if(_!==8&&_!==16&&_!==24&&_!==32)throw Error("Only 8, 16, 24, or 32 bits supported: "+_)}function n(_){if(this.data="",this.read=0,typeof _=="string")this.data=_;else if(i.isArrayBuffer(_)||i.isArrayBufferView(_))if(typeof Buffer<"u"&&_ instanceof Buffer)this.data=_.toString("binary");else{_=new Uint8Array(_);try{this.data=String.fromCharCode.apply(null,_)}catch{for(var S=0;S<_.length;++S)this.putByte(_[S])}}else(_ instanceof n||Ia(_)==="object"&&typeof _.data=="string"&&typeof _.read=="number")&&(this.data=_.data,this.read=_.read);this._constructedStringLength=0}var i=t.exports=x.util=x.util||{};(function(){if(typeof process<"u"&&process.nextTick&&!process.browser)i.nextTick=process.nextTick,i.setImmediate=typeof setImmediate=="function"?setImmediate:i.nextTick;else if(typeof setImmediate=="function")i.setImmediate=function(){return setImmediate.apply(void 0,arguments)},i.nextTick=function(K){return setImmediate(K)};else{if(i.setImmediate=function(K){setTimeout(K,0)},typeof window<"u"&&typeof window.postMessage=="function"){var _=[];i.setImmediate=function(K){_.push(K),_.length===1&&window.postMessage("forge.setImmediate","*")},window.addEventListener("message",function(K){K.source===window&&K.data==="forge.setImmediate"&&(K.stopPropagation(),K=_.slice(),_.length=0,K.forEach(function(M){M()}))},!0)}if(typeof MutationObserver<"u"){var S=Date.now(),w=!0,O=document.createElement("div");_=[],new MutationObserver(function(){var K=_.slice();_.length=0,K.forEach(function(M){M()})}).observe(O,{attributes:!0});var P=i.setImmediate;i.setImmediate=function(K){15<Date.now()-S?(S=Date.now(),P(K)):(_.push(K),_.length===1&&O.setAttribute("a",w=!w))}}i.nextTick=i.setImmediate}})(),i.isNodejs=typeof process<"u"&&process.versions&&process.versions.node,t=i.isNodejs?xa:typeof self>"u"?window:self,i.globalScope=t,i.isArray=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"},i.isArrayBuffer=function(_){return typeof ArrayBuffer<"u"&&_ instanceof ArrayBuffer},i.isArrayBufferView=function(_){return _&&i.isArrayBuffer(_.buffer)&&_.byteLength!==void 0},i.ByteBuffer=n,i.ByteStringBuffer=n,i.ByteStringBuffer.prototype._optimizeConstructedString=function(_){this._constructedStringLength+=_,4096<this._constructedStringLength&&(this.data.substr(0,1),this._constructedStringLength=0)},i.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},i.ByteStringBuffer.prototype.isEmpty=function(){return 0>=this.length()},i.ByteStringBuffer.prototype.putByte=function(_){return this.putBytes(String.fromCharCode(_))},i.ByteStringBuffer.prototype.fillWithByte=function(_,S){_=String.fromCharCode(_);for(var w=this.data;0<S;)1&S&&(w+=_),0<(S>>>=1)&&(_+=_);return this.data=w,this._optimizeConstructedString(S),this},i.ByteStringBuffer.prototype.putBytes=function(_){return this.data+=_,this._optimizeConstructedString(_.length),this},i.ByteStringBuffer.prototype.putString=function(_){return this.putBytes(i.encodeUtf8(_))},i.ByteStringBuffer.prototype.putInt16=function(_){return this.putBytes(String.fromCharCode(_>>8&255)+String.fromCharCode(255&_))},i.ByteStringBuffer.prototype.putInt24=function(_){return this.putBytes(String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(255&_))},i.ByteStringBuffer.prototype.putInt32=function(_){return this.putBytes(String.fromCharCode(_>>24&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(255&_))},i.ByteStringBuffer.prototype.putInt16Le=function(_){return this.putBytes(String.fromCharCode(255&_)+String.fromCharCode(_>>8&255))},i.ByteStringBuffer.prototype.putInt24Le=function(_){return this.putBytes(String.fromCharCode(255&_)+String.fromCharCode(_>>8&255)+String.fromCharCode(_>>16&255))},i.ByteStringBuffer.prototype.putInt32Le=function(_){return this.putBytes(String.fromCharCode(255&_)+String.fromCharCode(_>>8&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>24&255))},i.ByteStringBuffer.prototype.putInt=function(_,S){e(S);var w="";do S-=8,w+=String.fromCharCode(_>>S&255);while(0<S);return this.putBytes(w)},i.ByteStringBuffer.prototype.putSignedInt=function(_,S){return 0>_&&(_+=2<<S-1),this.putInt(_,S)},i.ByteStringBuffer.prototype.putBuffer=function(_){return this.putBytes(_.getBytes())},i.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},i.ByteStringBuffer.prototype.getInt16=function(){var _=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,_},i.ByteStringBuffer.prototype.getInt24=function(){var _=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,_},i.ByteStringBuffer.prototype.getInt32=function(){var _=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,_},i.ByteStringBuffer.prototype.getInt16Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,_},i.ByteStringBuffer.prototype.getInt24Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,_},i.ByteStringBuffer.prototype.getInt32Le=function(){var _=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,_},i.ByteStringBuffer.prototype.getInt=function(_){e(_);var S=0;do S=(S<<8)+this.data.charCodeAt(this.read++),_-=8;while(0<_);return S},i.ByteStringBuffer.prototype.getSignedInt=function(_){var S=this.getInt(_);return S>=(_=2<<_-2)&&(S-=_<<1),S},i.ByteStringBuffer.prototype.getBytes=function(_){if(_){_=Math.min(this.length(),_);var S=this.data.slice(this.read,this.read+_);this.read+=_}else _===0?S="":(S=this.read===0?this.data:this.data.slice(this.read),this.clear());return S},i.ByteStringBuffer.prototype.bytes=function(_){return _===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+_)},i.ByteStringBuffer.prototype.at=function(_){return this.data.charCodeAt(this.read+_)},i.ByteStringBuffer.prototype.setAt=function(_,S){return this.data=this.data.substr(0,this.read+_)+String.fromCharCode(S)+this.data.substr(this.read+_+1),this},i.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},i.ByteStringBuffer.prototype.copy=function(){var _=i.createBuffer(this.data);return _.read=this.read,_},i.ByteStringBuffer.prototype.compact=function(){return 0<this.read&&(this.data=this.data.slice(this.read),this.read=0),this},i.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},i.ByteStringBuffer.prototype.truncate=function(_){return _=Math.max(0,this.length()-_),this.data=this.data.substr(this.read,_),this.read=0,this},i.ByteStringBuffer.prototype.toHex=function(){for(var _="",S=this.read;S<this.data.length;++S){var w=this.data.charCodeAt(S);16>w&&(_+="0"),_+=w.toString(16)}return _},i.ByteStringBuffer.prototype.toString=function(){return i.decodeUtf8(this.bytes())},i.DataBuffer=function(_,S){S=S||{},this.read=S.readOffset||0,this.growSize=S.growSize||1024;var w=i.isArrayBuffer(_),O=i.isArrayBufferView(_);w||O?(this.data=w?new DataView(_):new DataView(_.buffer,_.byteOffset,_.byteLength),this.write="writeOffset"in S?S.writeOffset:this.data.byteLength):(this.data=new DataView(new ArrayBuffer(0)),this.write=0,_!=null&&this.putBytes(_),"writeOffset"in S&&(this.write=S.writeOffset))},i.DataBuffer.prototype.length=function(){return this.write-this.read},i.DataBuffer.prototype.isEmpty=function(){return 0>=this.length()},i.DataBuffer.prototype.accommodate=function(_,S){return this.length()>=_||(S=Math.max(S||this.growSize,_),_=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),(S=new Uint8Array(this.length()+S)).set(_),this.data=new DataView(S.buffer)),this},i.DataBuffer.prototype.putByte=function(_){return this.accommodate(1),this.data.setUint8(this.write++,_),this},i.DataBuffer.prototype.fillWithByte=function(_,S){this.accommodate(S);for(var w=0;w<S;++w)this.data.setUint8(_);return this},i.DataBuffer.prototype.putBytes=function(_,S){if(i.isArrayBufferView(_)){_=(S=new Uint8Array(_.buffer,_.byteOffset,_.byteLength)).byteLength-S.byteOffset,this.accommodate(_);var w=new Uint8Array(this.data.buffer,this.write);return w.set(S),this.write+=_,this}if(i.isArrayBuffer(_))return S=new Uint8Array(_),this.accommodate(S.byteLength),(w=new Uint8Array(this.data.buffer)).set(S,this.write),this.write+=S.byteLength,this;if(_ instanceof i.DataBuffer||Ia(_)==="object"&&typeof _.read=="number"&&typeof _.write=="number"&&i.isArrayBufferView(_.data))return S=new Uint8Array(_.data.byteLength,_.read,_.length()),this.accommodate(S.byteLength),(w=new Uint8Array(_.data.byteLength,this.write)).set(S),this.write+=S.byteLength,this;if(_ instanceof i.ByteStringBuffer&&(_=_.data,S="binary"),S=S||"binary",typeof _=="string"){if(S==="hex")return this.accommodate(Math.ceil(_.length/2)),S=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.hex.decode(_,S,this.write),this;if(S==="base64")return this.accommodate(3*Math.ceil(_.length/4)),S=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.base64.decode(_,S,this.write),this;if(S==="utf8"&&(_=i.encodeUtf8(_),S="binary"),S==="binary"||S==="raw")return this.accommodate(_.length),S=new Uint8Array(this.data.buffer,this.write),this.write+=i.binary.raw.decode(S),this;if(S==="utf16")return this.accommodate(2*_.length),S=new Uint16Array(this.data.buffer,this.write),this.write+=i.text.utf16.encode(S),this;throw Error("Invalid encoding: "+S)}throw Error("Invalid parameter: "+_)},i.DataBuffer.prototype.putBuffer=function(_){return this.putBytes(_),_.clear(),this},i.DataBuffer.prototype.putString=function(_){return this.putBytes(_,"utf16")},i.DataBuffer.prototype.putInt16=function(_){return this.accommodate(2),this.data.setInt16(this.write,_),this.write+=2,this},i.DataBuffer.prototype.putInt24=function(_){return this.accommodate(3),this.data.setInt16(this.write,_>>8&65535),this.data.setInt8(this.write,_>>16&255),this.write+=3,this},i.DataBuffer.prototype.putInt32=function(_){return this.accommodate(4),this.data.setInt32(this.write,_),this.write+=4,this},i.DataBuffer.prototype.putInt16Le=function(_){return this.accommodate(2),this.data.setInt16(this.write,_,!0),this.write+=2,this},i.DataBuffer.prototype.putInt24Le=function(_){return this.accommodate(3),this.data.setInt8(this.write,_>>16&255),this.data.setInt16(this.write,_>>8&65535,!0),this.write+=3,this},i.DataBuffer.prototype.putInt32Le=function(_){return this.accommodate(4),this.data.setInt32(this.write,_,!0),this.write+=4,this},i.DataBuffer.prototype.putInt=function(_,S){e(S),this.accommodate(S/8);do S-=8,this.data.setInt8(this.write++,_>>S&255);while(0<S);return this},i.DataBuffer.prototype.putSignedInt=function(_,S){return e(S),this.accommodate(S/8),0>_&&(_+=2<<S-1),this.putInt(_,S)},i.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},i.DataBuffer.prototype.getInt16=function(){var _=this.data.getInt16(this.read);return this.read+=2,_},i.DataBuffer.prototype.getInt24=function(){var _=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,_},i.DataBuffer.prototype.getInt32=function(){var _=this.data.getInt32(this.read);return this.read+=4,_},i.DataBuffer.prototype.getInt16Le=function(){var _=this.data.getInt16(this.read,!0);return this.read+=2,_},i.DataBuffer.prototype.getInt24Le=function(){var _=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,_},i.DataBuffer.prototype.getInt32Le=function(){var _=this.data.getInt32(this.read,!0);return this.read+=4,_},i.DataBuffer.prototype.getInt=function(_){e(_);var S=0;do S=(S<<8)+this.data.getInt8(this.read++),_-=8;while(0<_);return S},i.DataBuffer.prototype.getSignedInt=function(_){var S=this.getInt(_);return S>=(_=2<<_-2)&&(S-=_<<1),S},i.DataBuffer.prototype.getBytes=function(_){if(_){_=Math.min(this.length(),_);var S=this.data.slice(this.read,this.read+_);this.read+=_}else _===0?S="":(S=this.read===0?this.data:this.data.slice(this.read),this.clear());return S},i.DataBuffer.prototype.bytes=function(_){return _===void 0?this.data.slice(this.read):this.data.slice(this.read,this.read+_)},i.DataBuffer.prototype.at=function(_){return this.data.getUint8(this.read+_)},i.DataBuffer.prototype.setAt=function(_,S){return this.data.setUint8(_,S),this},i.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},i.DataBuffer.prototype.copy=function(){return new i.DataBuffer(this)},i.DataBuffer.prototype.compact=function(){if(0<this.read){var _=new Uint8Array(this.data.buffer,this.read),S=new Uint8Array(_.byteLength);S.set(_),this.data=new DataView(S),this.write-=this.read,this.read=0}return this},i.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},i.DataBuffer.prototype.truncate=function(_){return this.write=Math.max(0,this.length()-_),this.read=Math.min(this.read,this.write),this},i.DataBuffer.prototype.toHex=function(){for(var _="",S=this.read;S<this.data.byteLength;++S){var w=this.data.getUint8(S);16>w&&(_+="0"),_+=w.toString(16)}return _},i.DataBuffer.prototype.toString=function(_){var S=new Uint8Array(this.data,this.read,this.length());if((_=_||"utf8")==="binary"||_==="raw")return i.binary.raw.encode(S);if(_==="hex")return i.binary.hex.encode(S);if(_==="base64")return i.binary.base64.encode(S);if(_==="utf8")return i.text.utf8.decode(S);if(_==="utf16")return i.text.utf16.decode(S);throw Error("Invalid encoding: "+_)},i.createBuffer=function(_,S){return _!==void 0&&(S||"raw")==="utf8"&&(_=i.encodeUtf8(_)),new i.ByteBuffer(_)},i.fillString=function(_,S){for(var w="";0<S;)1&S&&(w+=_),0<(S>>>=1)&&(_+=_);return w},i.xorBytes=function(_,S,w){for(var O,P="",K="",M=0,U=0;0<w;--w,++M)O=_.charCodeAt(M)^S.charCodeAt(M),10<=U&&(P+=K,K="",U=0),K+=String.fromCharCode(O),++U;return P+K},i.hexToBytes=function(_){var S="",w=0;for(1&_.length&&(w=1,S+=String.fromCharCode(parseInt(_[0],16)));w<_.length;w+=2)S+=String.fromCharCode(parseInt(_.substr(w,2),16));return S},i.bytesToHex=function(_){return i.createBuffer(_).toHex()},i.int32ToBytes=function(_){return String.fromCharCode(_>>24&255)+String.fromCharCode(_>>16&255)+String.fromCharCode(_>>8&255)+String.fromCharCode(255&_)};var s=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];i.encode64=function(_,S){for(var w,O,P,K="",M="",U=0;U<_.length;)w=_.charCodeAt(U++),O=_.charCodeAt(U++),P=_.charCodeAt(U++),K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(w>>2),K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((3&w)<<4|O>>4),isNaN(O)?K+="==":(K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((15&O)<<2|P>>6),K+=isNaN(P)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(63&P)),S&&K.length>S&&(M+=K.substr(0,S)+`\r
`,K=K.substr(S));return M+K},i.decode64=function(_){_=_.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var S,w,O,P,K="",M=0;M<_.length;)S=s[_.charCodeAt(M++)-43],w=s[_.charCodeAt(M++)-43],O=s[_.charCodeAt(M++)-43],P=s[_.charCodeAt(M++)-43],K+=String.fromCharCode(S<<2|w>>4),O!==64&&(K+=String.fromCharCode((15&w)<<4|O>>2),P!==64&&(K+=String.fromCharCode((3&O)<<6|P)));return K},i.encodeUtf8=function(_){return unescape(encodeURIComponent(_))},i.decodeUtf8=function(_){return decodeURIComponent(escape(_))},i.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:hG,decode:iG}},i.binary.raw.encode=function(_){return String.fromCharCode.apply(null,_)},i.binary.raw.decode=function(_,S,w){var O=S;O||(O=new Uint8Array(_.length));for(var P=w=w||0,K=0;K<_.length;++K)O[P++]=_.charCodeAt(K);return S?P-w:O},i.binary.hex.encode=i.bytesToHex,i.binary.hex.decode=function(_,S,w){var O=S;O||(O=new Uint8Array(Math.ceil(_.length/2)));var P=0,K=w=w||0;for(1&_.length&&(P=1,O[K++]=parseInt(_[0],16));P<_.length;P+=2)O[K++]=parseInt(_.substr(P,2),16);return S?K-w:O},i.binary.base64.encode=function(_,S){for(var w,O,P,K="",M="",U=0;U<_.byteLength;)w=_[U++],O=_[U++],P=_[U++],K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(w>>2),K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((3&w)<<4|O>>4),isNaN(O)?K+="==":(K+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt((15&O)<<2|P>>6),K+=isNaN(P)?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(63&P)),S&&K.length>S&&(M+=K.substr(0,S)+`\r
`,K=K.substr(S));return M+K},i.binary.base64.decode=function(_,S,w){var O=S;O||(O=new Uint8Array(3*Math.ceil(_.length/4))),_=_.replace(/[^A-Za-z0-9\+\/=]/g,"");for(var P,K,M,U,F=0,W=w=w||0;F<_.length;)P=s[_.charCodeAt(F++)-43],K=s[_.charCodeAt(F++)-43],M=s[_.charCodeAt(F++)-43],U=s[_.charCodeAt(F++)-43],O[W++]=P<<2|K>>4,M!==64&&(O[W++]=(15&K)<<4|M>>2,U!==64&&(O[W++]=(3&M)<<6|U));return S?W-w:O.subarray(0,W)},i.binary.base58.encode=function(_,S){return i.binary.baseN.encode(_,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",S)},i.binary.base58.decode=function(_,S){return i.binary.baseN.decode(_,"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",S)},i.text={utf8:{},utf16:{}},i.text.utf8.encode=function(_,S,w){_=i.encodeUtf8(_);var O=S;O||(O=new Uint8Array(_.length));for(var P=w=w||0,K=0;K<_.length;++K)O[P++]=_.charCodeAt(K);return S?P-w:O},i.text.utf8.decode=function(_){return i.decodeUtf8(String.fromCharCode.apply(null,_))},i.text.utf16.encode=function(_,S,w){var O=S;O||(O=new Uint8Array(2*_.length));for(var P=new Uint16Array(O.buffer),K=w=w||0,M=w,U=0;U<_.length;++U)P[M++]=_.charCodeAt(U),K+=2;return S?K-w:O},i.text.utf16.decode=function(_){return String.fromCharCode.apply(null,new Uint16Array(_.buffer))},i.deflate=function(_,S,w){return S=i.decode64(_.deflate(i.encode64(S)).rval),w&&(_=2,32&S.charCodeAt(1)&&(_=6),S=S.substring(_,S.length-4)),S},i.inflate=function(_,S,w){return(_=_.inflate(i.encode64(S)).rval)===null?null:i.decode64(_)};var g=function(_,S,w){if(!_)throw Error("WebStorage not available.");if(w===null?_=_.removeItem(S):(w=i.encode64(JSON.stringify(w)),_=_.setItem(S,w)),_!==void 0&&_.rval!==!0)throw(S=Error(_.error.message)).id=_.error.id,S.name=_.error.name,S},l=function(_,S){if(!_)throw Error("WebStorage not available.");if(S=_.getItem(S),_.init)if(S.rval===null){if(S.error)throw(_=Error(S.error.message)).id=S.error.id,_.name=S.error.name,_;S=null}else S=S.rval;return S!==null&&(S=JSON.parse(i.decode64(S))),S},C=function(_,S,w,O){var P=l(_,S);P===null&&(P={}),P[w]=O,g(_,S,P)},p=function(_,S,w){return(_=l(_,S))!==null&&(_=w in _?_[w]:null),_},B=function(_,S,w){var O=l(_,S);if(O!==null&&w in O){for(var P in delete O[w],w=!0,O){w=!1;break}w&&(O=null),g(_,S,O)}},Q=function(_,S){g(_,S,null)},y=function(_,S,w){var O=null;w===void 0&&(w=["web","flash"]);var P,K=!1,M=null;for(P in w){var U=w[P];try{if(U==="flash"||U==="both"){if(S[0]===null)throw Error("Flash local storage not available.");O=_.apply(this,S),K=U==="flash"}U!=="web"&&U!=="both"||(S[0]=localStorage,O=_.apply(this,S),K=!0)}catch(F){M=F}if(K)break}if(!K)throw M;return O};i.setItem=function(_,S,w,O,P){y(C,arguments,P)},i.getItem=function(_,S,w,O){return y(p,arguments,O)},i.removeItem=function(_,S,w,O){y(B,arguments,O)},i.clearItems=function(_,S,w){y(Q,arguments,w)},i.isEmpty=function(_){for(var S in _)if(_.hasOwnProperty(S))return!1;return!0},i.format=function(_){var S,w,O=/%./g,P=0,K=[];for(w=0;S=O.exec(_);)switch(w=_.substring(w,O.lastIndex-2),0<w.length&&K.push(w),w=O.lastIndex,S=S[0][1],S){case"s":case"o":P<arguments.length?K.push(arguments[1+P++]):K.push("<?>");break;case"%":K.push("%");break;default:K.push("<%"+S+"?>")}return K.push(_.substring(w)),K.join("")},i.formatNumber=function(_,S,w,O){var P=isNaN(S=Math.abs(S))?2:S;S=w===void 0?",":w,O=O===void 0?".":O,w=0>_?"-":"";var K=parseInt(_=Math.abs(+_||0).toFixed(P),10)+"",M=3<K.length?K.length%3:0;return w+(M?K.substr(0,M)+O:"")+K.substr(M).replace(/(\d{3})(?=\d)/g,"$1"+O)+(P?S+Math.abs(_-K).toFixed(P).slice(2):"")},i.formatSize=function(_){return 1073741824<=_?i.formatNumber(_/1073741824,2,".","")+" GiB":1048576<=_?i.formatNumber(_/1048576,2,".","")+" MiB":1024<=_?i.formatNumber(_/1024,0)+" KiB":i.formatNumber(_,0)+" bytes"},i.bytesFromIP=function(_){return _.indexOf(".")!==-1?i.bytesFromIPv4(_):_.indexOf(":")!==-1?i.bytesFromIPv6(_):null},i.bytesFromIPv4=function(_){if((_=_.split(".")).length!==4)return null;for(var S=i.createBuffer(),w=0;w<_.length;++w){var O=parseInt(_[w],10);if(isNaN(O))return null;S.putByte(O)}return S.getBytes()},i.bytesFromIPv6=function(_){for(var S=0,w=2*(8-(_=_.split(":").filter(function(M){return M.length===0&&++S,!0})).length+S),O=i.createBuffer(),P=0;8>P;++P)if(_[P]&&_[P].length!==0){var K=i.hexToBytes(_[P]);2>K.length&&O.putByte(0),O.putBytes(K)}else O.fillWithByte(0,w),w=0;return O.getBytes()},i.bytesToIP=function(_){return _.length===4?i.bytesToIPv4(_):_.length===16?i.bytesToIPv6(_):null},i.bytesToIPv4=function(_){if(_.length!==4)return null;for(var S=[],w=0;w<_.length;++w)S.push(_.charCodeAt(w));return S.join(".")},i.bytesToIPv6=function(_){if(_.length!==16)return null;for(var S=[],w=[],O=0,P=0;P<_.length;P+=2){for(var K=i.bytesToHex(_[P]+_[P+1]);K[0]==="0"&&K!=="0";)K=K.substr(1);if(K==="0"){var M=w[w.length-1],U=S.length;M&&U===M.end+1?(M.end=U,M.end-M.start>w[O].end-w[O].start&&(O=w.length-1)):w.push({start:U,end:U})}S.push(K)}return 0<w.length&&0<(_=w[O]).end-_.start&&(S.splice(_.start,_.end-_.start+1,""),_.start===0&&S.unshift(""),_.end===7&&S.push("")),S.join(":")},i.estimateCores=function(_,S){if(typeof _=="function"&&(S=_,_={}),_=_||{},"cores"in i&&!_.update)return S(null,i.cores);if(typeof navigator<"u"&&"hardwareConcurrency"in navigator&&0<navigator.hardwareConcurrency)return i.cores=navigator.hardwareConcurrency,S(null,i.cores);if(typeof Worker>"u")return i.cores=1,S(null,i.cores);if(typeof Blob>"u")return i.cores=2,S(null,i.cores);var w=URL.createObjectURL(new Blob(["(",(function(){self.addEventListener("message",function(O){O=Date.now(),self.postMessage({st:O,et:O+4})})}).toString(),")()"],{type:"application/javascript"}));(function O(P,K,M){if(K===0){var U=Math.floor(P.reduce(function(F,W){return F+W},0)/P.length);return i.cores=Math.max(1,U),URL.revokeObjectURL(w),S(null,i.cores)}(function(F,W){for(var ae=[],_r=[],_t=0;_t<F;++_t){var _A=new Worker(w);_A.addEventListener("message",function(na){if(_r.push(na.data),_r.length===F){for(na=0;na<F;++na)ae[na].terminate();W(null,_r)}}),ae.push(_A)}for(_t=0;_t<F;++_t)ae[_t].postMessage(_t)})(M,function(F,W){P.push(function(ae,_r){for(var _t=[],_A=0;_A<ae;++_A)for(var na=_r[_A],oa=_t[_A]=[],ha=0;ha<ae;++ha)if(_A!==ha){var fa=_r[ha];(na.st>fa.st&&na.st<fa.et||fa.st>na.st&&fa.st<na.et)&&oa.push(ha)}return _t.reduce(function(Da,ga){return Math.max(Da,ga.length)},0)}(M,W)),O(P,K-1,M)})})([],5,16)}}),x.cipher=x.cipher||{},x.cipher.algorithms=x.cipher.algorithms||{},x.cipher.createCipher=function(t,e){var n=t;if(typeof n=="string"&&(n=x.cipher.getAlgorithm(n))&&(n=n()),!n)throw Error("Unsupported algorithm: "+t);return new x.cipher.BlockCipher({algorithm:n,key:e,decrypt:!1})},x.cipher.createDecipher=function(t,e){var n=t;if(typeof n=="string"&&(n=x.cipher.getAlgorithm(n))&&(n=n()),!n)throw Error("Unsupported algorithm: "+t);return new x.cipher.BlockCipher({algorithm:n,key:e,decrypt:!0})},x.cipher.registerAlgorithm=function(t,e){t=t.toUpperCase(),x.cipher.algorithms[t]=e},x.cipher.getAlgorithm=function(t){return(t=t.toUpperCase())in x.cipher.algorithms?x.cipher.algorithms[t]:null};var Oo=x.cipher.BlockCipher=function(t){this.algorithm=t.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this.output=this._input=null,this._op=t.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=t.decrypt,this.algorithm.initialize(t)};Oo.prototype.start=function(t){t=t||{};var e,n={};for(e in t)n[e]=t[e];n.decrypt=this._decrypt,this._finish=!1,this._input=x.util.createBuffer(),this.output=t.output||x.util.createBuffer(),this.mode.start(n)},Oo.prototype.update=function(t){for(t&&this._input.putBuffer(t);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},Oo.prototype.finish=function(t){!t||this.mode.name!=="ECB"&&this.mode.name!=="CBC"||(this.mode.pad=function(n){return t(this.blockSize,n,!1)},this.mode.unpad=function(n){return t(this.blockSize,n,!0)});var e={};return e.decrypt=this._decrypt,e.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,e))&&(this._finish=!0,this.update(),!(this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,e)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,e)))},Ua(function(t){function e(s,g){if(typeof s=="string"&&(s=x.util.createBuffer(s)),x.util.isArray(s)&&4<s.length){var l=s;s=x.util.createBuffer();for(var C=0;C<l.length;++C)s.putByte(l[C])}if(s.length()<g)throw Error("Invalid IV length; got "+s.length()+" bytes and expected "+g+" bytes.");if(!x.util.isArray(s)){for(l=[],g/=4,C=0;C<g;++C)l.push(s.getInt32());s=l}return s}function n(s){s[s.length-1]=s[s.length-1]+1&4294967295}function i(s){return[s/4294967296|0,4294967295&s]}x.cipher=x.cipher||{},(t=t.exports=x.cipher.modes=x.cipher.modes||{}).ecb=function(s){s=s||{},this.name="ECB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},t.ecb.prototype.start=function(s){},t.ecb.prototype.encrypt=function(s,g,l){if(s.length()<this.blockSize&&!(l&&0<s.length()))return!0;for(l=0;l<this._ints;++l)this._inBlock[l]=s.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),l=0;l<this._ints;++l)g.putInt32(this._outBlock[l])},t.ecb.prototype.decrypt=function(s,g,l){if(s.length()<this.blockSize&&!(l&&0<s.length()))return!0;for(l=0;l<this._ints;++l)this._inBlock[l]=s.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),l=0;l<this._ints;++l)g.putInt32(this._outBlock[l])},t.ecb.prototype.pad=function(s,g){return g=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length(),s.fillWithByte(g,g),!0},t.ecb.prototype.unpad=function(s,g){return!(0<g.overflow)&&(g=s.length(),!((g=s.at(g-1))>this.blockSize<<2)&&(s.truncate(g),!0))},t.cbc=function(s){s=s||{},this.name="CBC",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints)},t.cbc.prototype.start=function(s){if(s.iv===null){if(!this._prev)throw Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in s))throw Error("Invalid IV parameter.");this._iv=e(s.iv,this.blockSize),this._prev=this._iv.slice(0)}},t.cbc.prototype.encrypt=function(s,g,l){if(s.length()<this.blockSize&&!(l&&0<s.length()))return!0;for(l=0;l<this._ints;++l)this._inBlock[l]=this._prev[l]^s.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),l=0;l<this._ints;++l)g.putInt32(this._outBlock[l]);this._prev=this._outBlock},t.cbc.prototype.decrypt=function(s,g,l){if(s.length()<this.blockSize&&!(l&&0<s.length()))return!0;for(l=0;l<this._ints;++l)this._inBlock[l]=s.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),l=0;l<this._ints;++l)g.putInt32(this._prev[l]^this._outBlock[l]);this._prev=this._inBlock.slice(0)},t.cbc.prototype.pad=function(s,g){return g=s.length()===this.blockSize?this.blockSize:this.blockSize-s.length(),s.fillWithByte(g,g),!0},t.cbc.prototype.unpad=function(s,g){return!(0<g.overflow)&&(g=s.length(),!((g=s.at(g-1))>this.blockSize<<2)&&(s.truncate(g),!0))},t.cfb=function(s){s=s||{},this.name="CFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialBlock=Array(this._ints),this._partialOutput=x.util.createBuffer(),this._partialBytes=0},t.cfb.prototype.start=function(s){if(!("iv"in s))throw Error("Invalid IV parameter.");this._iv=e(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.cfb.prototype.encrypt=function(s,g,l){var C=s.length();if(C===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&C>=this.blockSize)for(var p=0;p<this._ints;++p)this._inBlock[p]=s.getInt32()^this._outBlock[p],g.putInt32(this._inBlock[p]);else{var B=(this.blockSize-C)%this.blockSize;for(0<B&&(B=this.blockSize-B),this._partialOutput.clear(),p=0;p<this._ints;++p)this._partialBlock[p]=s.getInt32()^this._outBlock[p],this._partialOutput.putInt32(this._partialBlock[p]);if(0<B)s.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=this._partialBlock[p];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<B&&!l)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=0}},t.cfb.prototype.decrypt=function(s,g,l){var C=s.length();if(C===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&C>=this.blockSize)for(var p=0;p<this._ints;++p)this._inBlock[p]=s.getInt32(),g.putInt32(this._inBlock[p]^this._outBlock[p]);else{var B=(this.blockSize-C)%this.blockSize;for(0<B&&(B=this.blockSize-B),this._partialOutput.clear(),p=0;p<this._ints;++p)this._partialBlock[p]=s.getInt32(),this._partialOutput.putInt32(this._partialBlock[p]^this._outBlock[p]);if(0<B)s.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=this._partialBlock[p];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<B&&!l)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=0}},t.ofb=function(s){s=s||{},this.name="OFB",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=x.util.createBuffer(),this._partialBytes=0},t.ofb.prototype.start=function(s){if(!("iv"in s))throw Error("Invalid IV parameter.");this._iv=e(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ofb.prototype.encrypt=function(s,g,l){var C=s.length();if(s.length()===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&C>=this.blockSize)for(var p=0;p<this._ints;++p)g.putInt32(s.getInt32()^this._outBlock[p]),this._inBlock[p]=this._outBlock[p];else{var B=(this.blockSize-C)%this.blockSize;for(0<B&&(B=this.blockSize-B),this._partialOutput.clear(),p=0;p<this._ints;++p)this._partialOutput.putInt32(s.getInt32()^this._outBlock[p]);if(0<B)s.read-=this.blockSize;else for(p=0;p<this._ints;++p)this._inBlock[p]=this._outBlock[p];if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<B&&!l)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=0}},t.ofb.prototype.decrypt=t.ofb.prototype.encrypt,t.ctr=function(s){s=s||{},this.name="CTR",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=Array(this._ints),this._partialOutput=x.util.createBuffer(),this._partialBytes=0},t.ctr.prototype.start=function(s){if(!("iv"in s))throw Error("Invalid IV parameter.");this._iv=e(s.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ctr.prototype.encrypt=function(s,g,l){var C=s.length();if(C===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&C>=this.blockSize)for(var p=0;p<this._ints;++p)g.putInt32(s.getInt32()^this._outBlock[p]);else{var B=(this.blockSize-C)%this.blockSize;for(0<B&&(B=this.blockSize-B),this._partialOutput.clear(),p=0;p<this._ints;++p)this._partialOutput.putInt32(s.getInt32()^this._outBlock[p]);if(0<B&&(s.read-=this.blockSize),0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<B&&!l)return g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},t.ctr.prototype.decrypt=t.ctr.prototype.encrypt,t.gcm=function(s){s=s||{},this.name="GCM",this.cipher=s.cipher,this.blockSize=s.blockSize||16,this._ints=this.blockSize/4,this._inBlock=Array(this._ints),this._outBlock=Array(this._ints),this._partialOutput=x.util.createBuffer(),this._partialBytes=0,this._R=3774873600},t.gcm.prototype.start=function(s){if(!("iv"in s))throw Error("Invalid IV parameter.");var g=x.util.createBuffer(s.iv);this._cipherLength=0;var l="additionalData"in s?x.util.createBuffer(s.additionalData):x.util.createBuffer();if(this._tagLength="tagLength"in s?s.tagLength:128,this._tag=null,s.decrypt&&(this._tag=x.util.createBuffer(s.tag).getBytes(),this._tag.length!==this._tagLength/8))throw Error("Authentication tag does not match tag length.");if(this._hashBlock=Array(this._ints),this.tag=null,this._hashSubkey=Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits),(s=g.length())===12)this._j0=[g.getInt32(),g.getInt32(),g.getInt32(),1];else{for(this._j0=[0,0,0,0];0<g.length();)this._j0=this.ghash(this._hashSubkey,this._j0,[g.getInt32(),g.getInt32(),g.getInt32(),g.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(i(8*s)))}for(this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,l=x.util.createBuffer(l),this._aDataLength=i(8*l.length()),(g=l.length()%this.blockSize)&&l.fillWithByte(0,this.blockSize-g),this._s=[0,0,0,0];0<l.length();)this._s=this.ghash(this._hashSubkey,this._s,[l.getInt32(),l.getInt32(),l.getInt32(),l.getInt32()])},t.gcm.prototype.encrypt=function(s,g,l){var C=s.length();if(C===0)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),this._partialBytes===0&&C>=this.blockSize){for(var p=0;p<this._ints;++p)g.putInt32(this._outBlock[p]^=s.getInt32());this._cipherLength+=this.blockSize}else{var B=(this.blockSize-C)%this.blockSize;for(0<B&&(B=this.blockSize-B),this._partialOutput.clear(),p=0;p<this._ints;++p)this._partialOutput.putInt32(s.getInt32()^this._outBlock[p]);if(0>=B||l){for(l?(p=C%this.blockSize,this._cipherLength+=p,this._partialOutput.truncate(this.blockSize-p)):this._cipherLength+=this.blockSize,p=0;p<this._ints;++p)this._outBlock[p]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(0<this._partialBytes&&this._partialOutput.getBytes(this._partialBytes),0<B&&!l)return s.read-=this.blockSize,g.putBytes(this._partialOutput.getBytes(B-this._partialBytes)),this._partialBytes=B,!0;g.putBytes(this._partialOutput.getBytes(C-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},t.gcm.prototype.decrypt=function(s,g,l){var C=s.length();if(C<this.blockSize&&!(l&&0<C))return!0;for(this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=s.getInt32(),this._hashBlock[1]=s.getInt32(),this._hashBlock[2]=s.getInt32(),this._hashBlock[3]=s.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock),s=0;s<this._ints;++s)g.putInt32(this._outBlock[s]^this._hashBlock[s]);this._cipherLength=C<this.blockSize?this._cipherLength+C%this.blockSize:this._cipherLength+this.blockSize},t.gcm.prototype.afterFinish=function(s,g){var l=!0;g.decrypt&&g.overflow&&s.truncate(this.blockSize-g.overflow),this.tag=x.util.createBuffer(),s=this._aDataLength.concat(i(8*this._cipherLength)),this._s=this.ghash(this._hashSubkey,this._s,s),s=[],this.cipher.encrypt(this._j0,s);for(var C=0;C<this._ints;++C)this.tag.putInt32(this._s[C]^s[C]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),g.decrypt&&this.tag.bytes()!==this._tag&&(l=!1),l},t.gcm.prototype.multiply=function(s,g){var l=[0,0,0,0];g=g.slice(0);for(var C=0;128>C;++C)s[C/32|0]&1<<31-C%32&&(l[0]^=g[0],l[1]^=g[1],l[2]^=g[2],l[3]^=g[3]),this.pow(g,g);return l},t.gcm.prototype.pow=function(s,g){for(var l=1&s[3],C=3;0<C;--C)g[C]=s[C]>>>1|(1&s[C-1])<<31;g[0]=s[0]>>>1,l&&(g[0]^=this._R)},t.gcm.prototype.tableMultiply=function(s){for(var g=[0,0,0,0],l=0;32>l;++l){var C=this._m[l][s[l/8|0]>>>4*(7-l%8)&15];g[0]^=C[0],g[1]^=C[1],g[2]^=C[2],g[3]^=C[3]}return g},t.gcm.prototype.ghash=function(s,g,l){return g[0]^=l[0],g[1]^=l[1],g[2]^=l[2],g[3]^=l[3],this.tableMultiply(g)},t.gcm.prototype.generateHashTable=function(s,g){var l=8/g,C=4*l;l*=16;for(var p=Array(l),B=0;B<l;++B){var Q=[0,0,0,0];Q[B/C|0]=1<<g-1<<(C-1-B%C)*g,p[B]=this.generateSubHashTable(this.multiply(Q,s),g)}return p},t.gcm.prototype.generateSubHashTable=function(s,g){var l=(g=1<<g)>>>1,C=Array(g);C[l]=s.slice(0);for(var p=l>>>1;0<p;)this.pow(C[2*p],C[p]=[]),p>>=1;for(p=2;p<l;){for(var B=1;B<p;++B){var Q=C[p],y=C[B];C[p+B]=[Q[0]^y[0],Q[1]^y[1],Q[2]^y[2],Q[3]^y[3]]}p*=2}for(C[0]=[0,0,0,0],p=l+1;p<g;++p)B=C[p^l],C[p]=[s[0]^B[0],s[1]^B[1],s[2]^B[2],s[3]^B[3]];return C}}),x.aes=x.aes||{},x.aes.startEncrypting=function(t,e,n,i){return(t=gj({key:t,output:n,decrypt:!1,mode:i})).start(e),t},x.aes.createEncryptionCipher=function(t,e){return gj({key:t,output:null,decrypt:!1,mode:e})},x.aes.startDecrypting=function(t,e,n,i){return(t=gj({key:t,output:n,decrypt:!0,mode:i})).start(e),t},x.aes.createDecryptionCipher=function(t,e){return gj({key:t,output:null,decrypt:!0,mode:e})},x.aes.Algorithm=function(t,e){Fl||jq();var n=this;n.name=t,n.mode=new e({blockSize:16,cipher:{encrypt:function(i,s){return Hl(n._w,i,s,!1)},decrypt:function(i,s){return Hl(n._w,i,s,!0)}}}),n._init=!1},x.aes.Algorithm.prototype.initialize=function(t){if(!this._init){var e=t.key;if(typeof e!="string"||e.length!==16&&e.length!==24&&e.length!==32){if(x.util.isArray(e)&&(e.length===16||e.length===24||e.length===32)){var n=e;e=x.util.createBuffer();for(var i=0;i<n.length;++i)e.putByte(n[i])}}else e=x.util.createBuffer(e);if(!x.util.isArray(e)){n=e,e=[];var s=n.length();if(s===16||s===24||s===32)for(s>>>=2,i=0;i<s;++i)e.push(n.getInt32())}if(!x.util.isArray(e)||e.length!==4&&e.length!==6&&e.length!==8)throw Error("Invalid key parameter.");n=["CFB","OFB","CTR","GCM"].indexOf(this.mode.name)!==-1,this._w=lq(e,t.decrypt&&!n),this._init=!0}},x.aes._expandKey=function(t,e){return Fl||jq(),lq(t,e)},x.aes._updateBlock=Hl,vg("AES-ECB",x.cipher.modes.ecb),vg("AES-CBC",x.cipher.modes.cbc),vg("AES-CFB",x.cipher.modes.cfb),vg("AES-OFB",x.cipher.modes.ofb),vg("AES-CTR",x.cipher.modes.ctr),vg("AES-GCM",x.cipher.modes.gcm);var Fl=!1,wg=4,Oc,Gl,kq,Hf,Md,Po=za.parseFloat,hw=1/Po(`	
\v\f\r \u2028\u2029\uFEFF-0`)!=-1/0?function(t){t=sn(String(t));var e=Po(t);return e===0&&t.charAt(0)=="-"?-0:e}:Po;Ha({global:!0,forced:parseFloat!=hw},{parseFloat:hw}),Ua(function(t){function e(i,s){n[i]=s,n[s]=i}x.pki=x.pki||{};var n=t.exports=x.pki.oids=x.oids=x.oids||{};e("1.2.840.113549.1.1.1","rsaEncryption"),e("1.2.840.113549.1.1.4","md5WithRSAEncryption"),e("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),e("1.2.840.113549.1.1.7","RSAES-OAEP"),e("1.2.840.113549.1.1.8","mgf1"),e("1.2.840.113549.1.1.9","pSpecified"),e("1.2.840.113549.1.1.10","RSASSA-PSS"),e("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),e("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),e("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),e("1.3.101.112","EdDSA25519"),e("1.2.840.10040.4.3","dsa-with-sha1"),e("1.3.14.3.2.7","desCBC"),e("1.3.14.3.2.26","sha1"),e("1.3.14.3.2.29","sha1WithRSASignature"),e("2.16.840.1.101.3.4.2.1","sha256"),e("2.16.840.1.101.3.4.2.2","sha384"),e("2.16.840.1.101.3.4.2.3","sha512"),e("2.16.840.1.101.3.4.2.4","sha224"),e("2.16.840.1.101.3.4.2.5","sha512-224"),e("2.16.840.1.101.3.4.2.6","sha512-256"),e("1.2.840.113549.2.2","md2"),e("1.2.840.113549.2.5","md5"),e("1.2.840.113549.1.7.1","data"),e("1.2.840.113549.1.7.2","signedData"),e("1.2.840.113549.1.7.3","envelopedData"),e("1.2.840.113549.1.7.4","signedAndEnvelopedData"),e("1.2.840.113549.1.7.5","digestedData"),e("1.2.840.113549.1.7.6","encryptedData"),e("1.2.840.113549.1.9.1","emailAddress"),e("1.2.840.113549.1.9.2","unstructuredName"),e("1.2.840.113549.1.9.3","contentType"),e("1.2.840.113549.1.9.4","messageDigest"),e("1.2.840.113549.1.9.5","signingTime"),e("1.2.840.113549.1.9.6","counterSignature"),e("1.2.840.113549.1.9.7","challengePassword"),e("1.2.840.113549.1.9.8","unstructuredAddress"),e("1.2.840.113549.1.9.14","extensionRequest"),e("1.2.840.113549.1.9.20","friendlyName"),e("1.2.840.113549.1.9.21","localKeyId"),e("1.2.840.113549.1.9.22.1","x509Certificate"),e("1.2.840.113549.1.12.10.1.1","keyBag"),e("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),e("1.2.840.113549.1.12.10.1.3","certBag"),e("1.2.840.113549.1.12.10.1.4","crlBag"),e("1.2.840.113549.1.12.10.1.5","secretBag"),e("1.2.840.113549.1.12.10.1.6","safeContentsBag"),e("1.2.840.113549.1.5.13","pkcs5PBES2"),e("1.2.840.113549.1.5.12","pkcs5PBKDF2"),e("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),e("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),e("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),e("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),e("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),e("1.2.840.113549.2.7","hmacWithSHA1"),e("1.2.840.113549.2.8","hmacWithSHA224"),e("1.2.840.113549.2.9","hmacWithSHA256"),e("1.2.840.113549.2.10","hmacWithSHA384"),e("1.2.840.113549.2.11","hmacWithSHA512"),e("1.2.840.113549.3.7","des-EDE3-CBC"),e("2.16.840.1.101.3.4.1.2","aes128-CBC"),e("2.16.840.1.101.3.4.1.22","aes192-CBC"),e("2.16.840.1.101.3.4.1.42","aes256-CBC"),e("2.5.4.3","commonName"),e("2.5.4.4","surname"),e("2.5.4.5","serialNumber"),e("2.5.4.6","countryName"),e("2.5.4.7","localityName"),e("2.5.4.8","stateOrProvinceName"),e("2.5.4.9","streetAddress"),e("2.5.4.10","organizationName"),e("2.5.4.11","organizationalUnitName"),e("2.5.4.12","title"),e("2.5.4.13","description"),e("2.5.4.15","businessCategory"),e("2.5.4.17","postalCode"),e("2.5.4.42","givenName"),e("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),e("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),e("2.16.840.1.113730.1.1","nsCertType"),e("2.16.840.1.113730.1.13","nsComment"),n["2.5.29.1"]="authorityKeyIdentifier",n["2.5.29.2"]="keyAttributes",n["2.5.29.3"]="certificatePolicies",n["2.5.29.4"]="keyUsageRestriction",n["2.5.29.5"]="policyMapping",n["2.5.29.6"]="subtreesConstraint",n["2.5.29.7"]="subjectAltName",n["2.5.29.8"]="issuerAltName",n["2.5.29.9"]="subjectDirectoryAttributes",n["2.5.29.10"]="basicConstraints",n["2.5.29.11"]="nameConstraints",n["2.5.29.12"]="policyConstraints",n["2.5.29.13"]="basicConstraints",e("2.5.29.14","subjectKeyIdentifier"),e("2.5.29.15","keyUsage"),n["2.5.29.16"]="privateKeyUsagePeriod",e("2.5.29.17","subjectAltName"),e("2.5.29.18","issuerAltName"),e("2.5.29.19","basicConstraints"),n["2.5.29.20"]="cRLNumber",n["2.5.29.21"]="cRLReason",n["2.5.29.22"]="expirationDate",n["2.5.29.23"]="instructionCode",n["2.5.29.24"]="invalidityDate",n["2.5.29.25"]="cRLDistributionPoints",n["2.5.29.26"]="issuingDistributionPoint",n["2.5.29.27"]="deltaCRLIndicator",n["2.5.29.28"]="issuingDistributionPoint",n["2.5.29.29"]="certificateIssuer",n["2.5.29.30"]="nameConstraints",e("2.5.29.31","cRLDistributionPoints"),e("2.5.29.32","certificatePolicies"),n["2.5.29.33"]="policyMappings",n["2.5.29.34"]="policyConstraints",e("2.5.29.35","authorityKeyIdentifier"),n["2.5.29.36"]="policyConstraints",e("2.5.29.37","extKeyUsage"),n["2.5.29.46"]="freshestCRL",n["2.5.29.54"]="inhibitAnyPolicy",e("1.3.6.1.4.1.11129.2.4.2","timestampList"),e("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),e("1.3.6.1.5.5.7.3.1","serverAuth"),e("1.3.6.1.5.5.7.3.2","clientAuth"),e("1.3.6.1.5.5.7.3.3","codeSigning"),e("1.3.6.1.5.5.7.3.4","emailProtection"),e("1.3.6.1.5.5.7.3.8","timeStamping")}),Ua(function(t){function e(g,l,C){if(C>l){var p=Error("Too few bytes to parse DER.");throw p.available=g.length(),p.remaining=l,p.requested=C,p}}function n(g,l,C,p){e(g,l,2);var B=g.getByte();l--;var Q,y=192&B,_=31&B,S=g.length(),w=l,O=g.getByte();if(w--,O===128)w=void 0;else if(128&O?(e(g,w,O&=127),w=g.getInt(O<<3)):w=O,0>w)throw Error("Negative length: "+w);if(l-=S-g.length(),w!==void 0&&w>l){if(p.strict)throw(C=Error("Too few bytes to read ASN.1 value.")).available=g.length(),C.remaining=l,C.requested=w,C;w=l}if(B=(32&B)==32){var P=[];if(w===void 0)for(;;){if(e(g,l,2),g.bytes(2)==="\0\0"){g.getBytes(2),l-=2;break}S=g.length(),P.push(n(g,l,C+1,p)),l-=S-g.length()}else for(;0<w;)S=g.length(),P.push(n(g,w,C+1,p)),l-=S-g.length(),w-=S-g.length()}if(P===void 0&&y===i.Class.UNIVERSAL&&_===i.Type.BITSTRING&&(Q=g.bytes(w)),P===void 0&&p.decodeBitStrings&&y===i.Class.UNIVERSAL&&_===i.Type.BITSTRING&&1<w){O=g.read;var K=l,M=0;if(_===i.Type.BITSTRING&&(e(g,l,1),M=g.getByte(),l--),M===0)try{S=g.length();var U=n(g,l,C+1,{strict:!0,decodeBitStrings:!0}),F=S-g.length();l-=F,_==i.Type.BITSTRING&&F++;var W=U.tagClass;F!==w||W!==i.Class.UNIVERSAL&&W!==i.Class.CONTEXT_SPECIFIC||(P=[U])}catch{}P===void 0&&(g.read=O,l=K)}if(P===void 0){if(w===void 0){if(p.strict)throw Error("Non-constructed ASN.1 object of indefinite length.");w=l}if(_===i.Type.BMPSTRING)for(P="";0<w;w-=2)e(g,l,2),P+=String.fromCharCode(g.getInt16()),l-=2;else P=g.getBytes(w)}return i.create(y,_,B,P,Q===void 0?null:{bitStringContents:Q})}var i=t.exports=x.asn1=x.asn1||{};i.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},i.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},i.create=function(g,l,C,p,B){if(x.util.isArray(p)){for(var Q=[],y=0;y<p.length;++y)p[y]!==void 0&&Q.push(p[y]);p=Q}return g={tagClass:g,type:l,constructed:C,composed:C||x.util.isArray(p),value:p},B&&"bitStringContents"in B&&(g.bitStringContents=B.bitStringContents,g.original=i.copy(g)),g},i.copy=function(g,l){if(x.util.isArray(g)){for(var C=[],p=0;p<g.length;++p)C.push(i.copy(g[p],l));return C}return typeof g=="string"?g:(C={tagClass:g.tagClass,type:g.type,constructed:g.constructed,composed:g.composed,value:i.copy(g.value,l)},l&&!l.excludeBitStringContents&&(C.bitStringContents=g.bitStringContents),C)},i.equals=function(g,l,C){if(x.util.isArray(g)){if(!x.util.isArray(l)||g.length!==l.length)return!1;for(C=0;C<g.length;++C)if(!i.equals(g[C],l[C]))return!1;return!0}if(Ia(g)!==Ia(l))return!1;if(typeof g=="string")return g===l;var p=g.tagClass===l.tagClass&&g.type===l.type&&g.constructed===l.constructed&&g.composed===l.composed&&i.equals(g.value,l.value);return C&&C.includeBitStringContents&&(p=p&&g.bitStringContents===l.bitStringContents),p},i.getBerValueLength=function(g){var l=g.getByte();if(l!==128)return 128&l?g.getInt((127&l)<<3):l},i.fromDer=function(g,l){l===void 0&&(l={strict:!0,parseAllBytes:!0,decodeBitStrings:!0}),typeof l=="boolean"&&(l={strict:l,parseAllBytes:!0,decodeBitStrings:!0}),"strict"in l||(l.strict=!0),"parseAllBytes"in l||(l.parseAllBytes=!0),"decodeBitStrings"in l||(l.decodeBitStrings=!0),typeof g=="string"&&(g=x.util.createBuffer(g));var C=g.length(),p=n(g,g.length(),0,l);if(l.parseAllBytes&&g.length()!==0)throw(l=Error("Unparsed DER bytes remain after ASN.1 parsing.")).byteCount=C,l.remaining=g.length(),l;return p},i.toDer=function(g){var l=x.util.createBuffer(),C=g.tagClass|g.type,p=x.util.createBuffer(),B=!1;if("bitStringContents"in g&&(B=!0,g.original&&(B=i.equals(g,g.original))),B)p.putBytes(g.bitStringContents);else if(g.composed)for(g.constructed?C|=32:p.putByte(0),B=0;B<g.value.length;++B)g.value[B]!==void 0&&p.putBuffer(i.toDer(g.value[B]));else if(g.type===i.Type.BMPSTRING)for(B=0;B<g.value.length;++B)p.putInt16(g.value.charCodeAt(B));else g.type===i.Type.INTEGER&&1<g.value.length&&(g.value.charCodeAt(0)===0&&!(128&g.value.charCodeAt(1))||g.value.charCodeAt(0)===255&&(128&g.value.charCodeAt(1))==128)?p.putBytes(g.value.substr(1)):p.putBytes(g.value);if(l.putByte(C),127>=p.length())l.putByte(127&p.length());else{C=p.length(),g="";do g+=String.fromCharCode(255&C),C>>>=8;while(0<C);for(l.putByte(128|g.length),B=g.length-1;0<=B;--B)l.putByte(g.charCodeAt(B))}return l.putBuffer(p),l},i.oidToDer=function(g){g=g.split(".");var l=x.util.createBuffer();l.putByte(40*parseInt(g[0],10)+parseInt(g[1],10));for(var C,p,B,Q,y=2;y<g.length;++y){C=!0,p=[],B=parseInt(g[y],10);do Q=127&B,B>>>=7,C||(Q|=128),p.push(Q),C=!1;while(0<B);for(C=p.length-1;0<=C;--C)l.putByte(p[C])}return l},i.derToOid=function(g){typeof g=="string"&&(g=x.util.createBuffer(g));for(var l=g.getByte(),C=Math.floor(l/40)+"."+l%40,p=0;0<g.length();)p<<=7,128&(l=g.getByte())?p+=127&l:(C+="."+(p+l),p=0);return C},i.utcTimeToDate=function(g){var l=new Date,C=parseInt(g.substr(0,2),10);C=50<=C?1900+C:2e3+C;var p=parseInt(g.substr(2,2),10)-1,B=parseInt(g.substr(4,2),10),Q=parseInt(g.substr(6,2),10),y=parseInt(g.substr(8,2),10),_=0;if(11<g.length){var S=g.charAt(10),w=10;S!=="+"&&S!=="-"&&(_=parseInt(g.substr(10,2),10),w+=2)}return l.setUTCFullYear(C,p,B),l.setUTCHours(Q,y,_,0),w&&((S=g.charAt(w))==="+"||S==="-")&&(C=parseInt(g.substr(w+1,2),10),g=6e4*(60*C+(g=parseInt(g.substr(w+4,2),10))),S==="+"?l.setTime(+l-g):l.setTime(+l+g)),l},i.generalizedTimeToDate=function(g){var l=new Date,C=parseInt(g.substr(0,4),10),p=parseInt(g.substr(4,2),10)-1,B=parseInt(g.substr(6,2),10),Q=parseInt(g.substr(8,2),10),y=parseInt(g.substr(10,2),10),_=parseInt(g.substr(12,2),10),S=0,w=0,O=!1;g.charAt(g.length-1)==="Z"&&(O=!0);var P=g.length-5,K=g.charAt(P);return K!=="+"&&K!=="-"||(w=6e4*(60*(w=parseInt(g.substr(P+1,2),10))+(P=parseInt(g.substr(P+4,2),10))),K==="+"&&(w*=-1),O=!0),g.charAt(14)==="."&&(S=1e3*parseFloat(g.substr(14),10)),O?(l.setUTCFullYear(C,p,B),l.setUTCHours(Q,y,_,S),l.setTime(+l+w)):(l.setFullYear(C,p,B),l.setHours(Q,y,_,S)),l},i.dateToUtcTime=function(g){if(typeof g=="string")return g;var l="",C=[];for(C.push((""+g.getUTCFullYear()).substr(2)),C.push(""+(g.getUTCMonth()+1)),C.push(""+g.getUTCDate()),C.push(""+g.getUTCHours()),C.push(""+g.getUTCMinutes()),C.push(""+g.getUTCSeconds()),g=0;g<C.length;++g)2>C[g].length&&(l+="0"),l+=C[g];return l+"Z"},i.dateToGeneralizedTime=function(g){if(typeof g=="string")return g;var l="",C=[];for(C.push(""+g.getUTCFullYear()),C.push(""+(g.getUTCMonth()+1)),C.push(""+g.getUTCDate()),C.push(""+g.getUTCHours()),C.push(""+g.getUTCMinutes()),C.push(""+g.getUTCSeconds()),g=0;g<C.length;++g)2>C[g].length&&(l+="0"),l+=C[g];return l+"Z"},i.integerToDer=function(g){var l=x.util.createBuffer();if(-128<=g&&128>g)return l.putSignedInt(g,8);if(-32768<=g&&32768>g)return l.putSignedInt(g,16);if(-8388608<=g&&8388608>g)return l.putSignedInt(g,24);if(-2147483648<=g&&2147483648>g)return l.putSignedInt(g,32);throw(l=Error("Integer too large; max is 32-bits.")).integer=g,l},i.derToInteger=function(g){typeof g=="string"&&(g=x.util.createBuffer(g));var l=8*g.length();if(32<l)throw Error("Integer too large; max is 32-bits.");return g.getSignedInt(l)},i.validate=function(g,l,C,p){var B=!1;if(g.tagClass!==l.tagClass&&l.tagClass!==void 0||g.type!==l.type&&l.type!==void 0)p&&(g.tagClass!==l.tagClass&&p.push("["+l.name+'] Expected tag class "'+l.tagClass+'", got "'+g.tagClass+'"'),g.type!==l.type&&p.push("["+l.name+'] Expected type "'+l.type+'", got "'+g.type+'"'));else if(g.constructed===l.constructed||l.constructed===void 0){if(B=!0,l.value&&x.util.isArray(l.value))for(var Q=0,y=0;B&&y<l.value.length;++y)B=l.value[y].optional||!1,g.value[Q]&&((B=i.validate(g.value[Q],l.value[y],C,p))?++Q:l.value[y].optional&&(B=!0)),!B&&p&&p.push("["+l.name+'] Tag class "'+l.tagClass+'", type "'+l.type+'" expected value length "'+l.value.length+'", got "'+g.value.length+'"');if(B&&C&&(l.capture&&(C[l.capture]=g.value),l.captureAsn1&&(C[l.captureAsn1]=g),l.captureBitStringContents&&"bitStringContents"in g&&(C[l.captureBitStringContents]=g.bitStringContents),l.captureBitStringValue&&"bitStringContents"in g))if(2>g.bitStringContents.length)C[l.captureBitStringValue]="";else{if(g.bitStringContents.charCodeAt(0)!==0)throw Error("captureBitStringValue only supported for zero unused bits");C[l.captureBitStringValue]=g.bitStringContents.slice(1)}}else p&&p.push("["+l.name+'] Expected constructed "'+l.constructed+'", got "'+g.constructed+'"');return B};var s=/[^\\u0000-\\u00ff]/;i.prettyPrint=function(g,l,C){var p="";C=C||2,0<(l=l||0)&&(p+=`
`);for(var B="",Q=0;Q<l*C;++Q)B+=" ";switch(p+=B+"Tag: ",g.tagClass){case i.Class.UNIVERSAL:p+="Universal:";break;case i.Class.APPLICATION:p+="Application:";break;case i.Class.CONTEXT_SPECIFIC:p+="Context-Specific:";break;case i.Class.PRIVATE:p+="Private:"}if(g.tagClass===i.Class.UNIVERSAL)switch(p+=g.type,g.type){case i.Type.NONE:p+=" (None)";break;case i.Type.BOOLEAN:p+=" (Boolean)";break;case i.Type.INTEGER:p+=" (Integer)";break;case i.Type.BITSTRING:p+=" (Bit string)";break;case i.Type.OCTETSTRING:p+=" (Octet string)";break;case i.Type.NULL:p+=" (Null)";break;case i.Type.OID:p+=" (Object Identifier)";break;case i.Type.ODESC:p+=" (Object Descriptor)";break;case i.Type.EXTERNAL:p+=" (External or Instance of)";break;case i.Type.REAL:p+=" (Real)";break;case i.Type.ENUMERATED:p+=" (Enumerated)";break;case i.Type.EMBEDDED:p+=" (Embedded PDV)";break;case i.Type.UTF8:p+=" (UTF8)";break;case i.Type.ROID:p+=" (Relative Object Identifier)";break;case i.Type.SEQUENCE:p+=" (Sequence)";break;case i.Type.SET:p+=" (Set)";break;case i.Type.PRINTABLESTRING:p+=" (Printable String)";break;case i.Type.IA5String:p+=" (IA5String (ASCII))";break;case i.Type.UTCTIME:p+=" (UTC time)";break;case i.Type.GENERALIZEDTIME:p+=" (Generalized time)";break;case i.Type.BMPSTRING:p+=" (BMP String)"}else p+=g.type;if(p=p+`
`+B+"Constructed: "+g.constructed+`
`,g.composed){var y=0,_="";for(Q=0;Q<g.value.length;++Q)g.value[Q]!==void 0&&(y+=1,_+=i.prettyPrint(g.value[Q],l+1,C),Q+1<g.value.length&&(_+=","));p+=B+"Sub values: "+y+_}else if(p+=B+"Value: ",g.type===i.Type.OID&&(p+=l=i.derToOid(g.value),x.pki&&x.pki.oids&&l in x.pki.oids&&(p+=" ("+x.pki.oids[l]+") ")),g.type===i.Type.INTEGER)try{p+=i.derToInteger(g.value)}catch{p+="0x"+x.util.bytesToHex(g.value)}else if(g.type===i.Type.BITSTRING)p=1<g.value.length?p+"0x"+x.util.bytesToHex(g.value.slice(1)):p+"(none)",0<g.value.length&&((g=g.value.charCodeAt(0))==1?p+=" (1 unused bit shown)":1<g&&(p+=" ("+g+" unused bits shown)"));else if(g.type===i.Type.OCTETSTRING)s.test(g.value)||(p+="("+g.value+") "),p+="0x"+x.util.bytesToHex(g.value);else if(g.type===i.Type.UTF8)try{p+=x.util.decodeUtf8(g.value)}catch(S){if(S.message!=="URI malformed")throw S;p+="0x"+x.util.bytesToHex(g.value)+" (malformed UTF8)"}else p=g.type===i.Type.PRINTABLESTRING||g.type===i.Type.IA5String?p+g.value:s.test(g.value)?p+"0x"+x.util.bytesToHex(g.value):g.value.length===0?p+"[null]":p+g.value;return p}}),x.md=x.md||{},x.md.algorithms=x.md.algorithms||{},Ua(function(t){(t.exports=x.hmac=x.hmac||{}).create=function(){var e=null,n=null,i=null,s={start:function(g,l){if(g!==null)if(typeof g=="string"){if(!((g=g.toLowerCase())in x.md.algorithms))throw Error('Unknown hash algorithm "'+g+'"');e=x.md.algorithms[g].create()}else e=g;if(l!==null){if(typeof l=="string")l=x.util.createBuffer(l);else if(x.util.isArray(l)){g=l,l=x.util.createBuffer();for(var C=0;C<g.length;++C)l.putByte(g[C])}var p=l.length();for(p>e.blockLength&&(e.start(),e.update(l.bytes()),l=e.digest()),n=x.util.createBuffer(),i=x.util.createBuffer(),p=l.length(),C=0;C<p;++C)g=l.at(C),n.putByte(54^g),i.putByte(92^g);if(p<e.blockLength)for(g=e.blockLength-p,C=0;C<g;++C)n.putByte(54),i.putByte(92);n=n.bytes(),i=i.bytes()}e.start(),e.update(n)},update:function(g){e.update(g)},getMac:function(){var g=e.digest().bytes();return e.start(),e.update(i),e.update(g),e.digest()}};return s.digest=s.getMac,s}}),Ua(function(t){function e(C,p,B){for(var Q,y,_,S,w,O,P,K=B.length();64<=K;){for(y=C.h0,_=C.h1,S=C.h2,w=C.h3,P=0;16>P;++P)p[P]=B.getInt32Le(),Q=y+(Q=w^_&(S^w))+g[P]+p[P],y=w,w=S,S=_,_+=Q<<(O=s[P])|Q>>>32-O;for(;32>P;++P)Q=y+(Q=S^w&(_^S))+g[P]+p[i[P]],y=w,w=S,S=_,_+=Q<<(O=s[P])|Q>>>32-O;for(;48>P;++P)Q=y+(Q=_^S^w)+g[P]+p[i[P]],y=w,w=S,S=_,_+=Q<<(O=s[P])|Q>>>32-O;for(;64>P;++P)Q=y+(Q=S^(_|~w))+g[P]+p[i[P]],y=w,w=S,S=_,_+=Q<<(O=s[P])|Q>>>32-O;C.h0=C.h0+y|0,C.h1=C.h1+_|0,C.h2=C.h2+S|0,C.h3=C.h3+w|0,K-=64}}t=t.exports=x.md5=x.md5||{},x.md.md5=x.md.algorithms.md5=t,t.create=function(){l||function(){n="",n+=x.util.fillString("\0",64),i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],s=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],g=Array(64);for(var y=0;64>y;++y)g[y]=Math.floor(4294967296*Math.abs(Math.sin(y+1)));l=!0}();var C=null,p=x.util.createBuffer(),B=Array(16),Q={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){Q.messageLength=0,Q.fullMessageLength=Q.messageLength64=[];for(var y=Q.messageLengthSize/4,_=0;_<y;++_)Q.fullMessageLength.push(0);return p=x.util.createBuffer(),C={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},Q}};return Q.start(),Q.update=function(y,_){_==="utf8"&&(y=x.util.encodeUtf8(y)),_=y.length,Q.messageLength+=_,_=[_/4294967296>>>0,_>>>0];for(var S=Q.fullMessageLength.length-1;0<=S;--S)Q.fullMessageLength[S]+=_[1],_[1]=_[0]+(Q.fullMessageLength[S]/4294967296>>>0),Q.fullMessageLength[S]>>>=0,_[0]=_[1]/4294967296>>>0;return p.putBytes(y),e(C,B,p),(2048<p.read||p.length()===0)&&p.compact(),Q},Q.digest=function(){var y=x.util.createBuffer();y.putBytes(p.bytes()),y.putBytes(n.substr(0,Q.blockLength-(Q.fullMessageLength[Q.fullMessageLength.length-1]+Q.messageLengthSize&Q.blockLength-1)));for(var _,S=0,w=Q.fullMessageLength.length-1;0<=w;--w)S=(_=8*Q.fullMessageLength[w]+S)/4294967296>>>0,y.putInt32Le(_>>>0);return e(_={h0:C.h0,h1:C.h1,h2:C.h2,h3:C.h3},B,y),(y=x.util.createBuffer()).putInt32Le(_.h0),y.putInt32Le(_.h1),y.putInt32Le(_.h2),y.putInt32Le(_.h3),y},Q};var n=null,i=null,s=null,g=null,l=!1}),Ua(function(t){function e(n){for(var i=n.name+": ",s=[],g=function(C,p){return" "+p},l=0;l<n.values.length;++l)s.push(n.values[l].replace(/^(\S+\r\n)/,g));for(i+=s.join(",")+`\r
`,s=0,n=-1,l=0;l<i.length;++l,++s)65<s&&n!==-1?((s=i[n])===","?(++n,i=i.substr(0,n)+`\r
 `+i.substr(n)):i=i.substr(0,n)+`\r
`+s+i.substr(n+1),s=l-n-1,n=-1,++l):i[l]!==" "&&i[l]!=="	"&&i[l]!==","||(n=l);return i}(t=t.exports=x.pem=x.pem||{}).encode=function(n,i){i=i||{};var s="-----BEGIN "+n.type+`-----\r
`;if(n.procType){var g={name:"Proc-Type",values:[String(n.procType.version),n.procType.type]};s+=e(g)}if(n.contentDomain&&(s+=e(g={name:"Content-Domain",values:[n.contentDomain]})),n.dekInfo&&(g={name:"DEK-Info",values:[n.dekInfo.algorithm]},n.dekInfo.parameters&&g.values.push(n.dekInfo.parameters),s+=e(g)),n.headers)for(g=0;g<n.headers.length;++g)s+=e(n.headers[g]);return n.procType&&(s+=`\r
`),(s+=x.util.encode64(n.body,i.maxline||64)+`\r
`)+"-----END "+n.type+`-----\r
`},t.decode=function(n){for(var i,s=[],g=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,l=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,C=/\r?\n/;i=g.exec(n);){var p=i[1];if(p==="NEW CERTIFICATE REQUEST"&&(p="CERTIFICATE REQUEST"),p={type:p,procType:null,contentDomain:null,dekInfo:null,headers:[],body:x.util.decode64(i[3])},s.push(p),i[2]){for(var B=i[2].split(C),Q=0;i&&Q<B.length;){i=B[Q].replace(/\s+$/,"");for(var y=Q+1;y<B.length;++y){var _=B[y];if(!/\s/.test(_[0]))break;i+=_,Q=y}if(i=i.match(l)){y={name:i[1],values:[]},_=i[2].split(",");for(var S=0;S<_.length;++S)y.values.push(_[S].replace(/^\s+/,""));if(p.procType)if(p.contentDomain||y.name!=="Content-Domain")if(p.dekInfo||y.name!=="DEK-Info")p.headers.push(y);else{if(y.values.length===0)throw Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');p.dekInfo={algorithm:_[0],parameters:_[1]||null}}else p.contentDomain=_[0]||"";else{if(y.name!=="Proc-Type")throw Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(y.values.length!==2)throw Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');p.procType={version:_[0],type:_[1]}}}++Q}if(p.procType==="ENCRYPTED"&&!p.dekInfo)throw Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(s.length===0)throw Error("Invalid PEM formatted message.");return s}}),x.des=x.des||{},x.des.startEncrypting=function(t,e,n,i){return(t=hj({key:t,output:n,decrypt:!1,mode:i||(e===null?"ECB":"CBC")})).start(e),t},x.des.createEncryptionCipher=function(t,e){return hj({key:t,output:null,decrypt:!1,mode:e})},x.des.startDecrypting=function(t,e,n,i){return(t=hj({key:t,output:n,decrypt:!0,mode:i||(e===null?"ECB":"CBC")})).start(e),t},x.des.createDecryptionCipher=function(t,e){return hj({key:t,output:null,decrypt:!0,mode:e})},x.des.Algorithm=function(t,e){var n=this;n.name=t,n.mode=new e({blockSize:8,cipher:{encrypt:function(i,s){return mq(n._keys,i,s,!1)},decrypt:function(i,s){return mq(n._keys,i,s,!0)}}}),n._init=!1},x.des.Algorithm.prototype.initialize=function(t){if(!this._init){if(t=x.util.createBuffer(t.key),this.name.indexOf("3DES")===0&&t.length()!==24)throw Error("Invalid Triple-DES key size: "+8*t.length());for(var e,n=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],i=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],s=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],g=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],l=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],C=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],p=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],B=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],Q=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],y=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],_=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],S=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],w=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],O=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],P=8<t.length()?3:1,K=[],M=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],U=0,F=0;F<P;F++){var W=t.getInt32(),ae=t.getInt32();W^=(e=252645135&(W>>>4^ae))<<4,W^=e=65535&((ae^=e)>>>-16^W),W^=(e=858993459&(W>>>2^(ae^=e<<-16)))<<2,W^=e=65535&((ae^=e)>>>-16^W),W^=(e=1431655765&(W>>>1^(ae^=e<<-16)))<<1,W^=e=16711935&((ae^=e)>>>8^W),e=(W^=(e=1431655765&(W>>>1^(ae^=e<<8)))<<1)<<8|(ae^=e)>>>20&240,W=ae<<24|ae<<8&16711680|ae>>>8&65280|ae>>>24&240,ae=e;for(var _r=0;_r<M.length;++_r){M[_r]?(W=W<<2|W>>>26,ae=ae<<2|ae>>>26):(W=W<<1|W>>>27,ae=ae<<1|ae>>>27);var _t=n[(W&=-15)>>>28]|i[W>>>24&15]|s[W>>>20&15]|g[W>>>16&15]|l[W>>>12&15]|C[W>>>8&15]|p[W>>>4&15],_A=B[(ae&=-15)>>>28]|Q[ae>>>24&15]|y[ae>>>20&15]|_[ae>>>16&15]|S[ae>>>12&15]|w[ae>>>8&15]|O[ae>>>4&15];e=65535&(_A>>>16^_t),K[U++]=_t^e,K[U++]=_A^e<<16}}this._keys=K,this._init=!0}},ee("DES-ECB",x.cipher.modes.ecb),ee("DES-CBC",x.cipher.modes.cbc),ee("DES-CFB",x.cipher.modes.cfb),ee("DES-OFB",x.cipher.modes.ofb),ee("DES-CTR",x.cipher.modes.ctr),ee("3DES-ECB",x.cipher.modes.ecb),ee("3DES-CBC",x.cipher.modes.cbc),ee("3DES-CFB",x.cipher.modes.cfb),ee("3DES-OFB",x.cipher.modes.ofb),ee("3DES-CTR",x.cipher.modes.ctr);var Wy=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],Sy=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],Xy=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],Ty=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],Yy=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],Uy=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],Zy=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],Vy=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696],jG=Object.freeze({__proto__:null,default:{}}),Qo=Sp(jG),kG=x.pkcs5=x.pkcs5||{},Le;x.util.isNodejs&&!x.options.usePureJavaScript&&(Le=Qo),x.pbkdf2=kG.pbkdf2=function(t,e,n,i,s,g){function l(){if(w>B)return g(null,S);y.start(null,null),y.update(e),y.update(x.util.int32ToBytes(w)),O=_=y.digest().getBytes(),P=2,C()}function C(){if(P<=n)return y.start(null,null),y.update(_),K=y.digest().getBytes(),O=x.util.xorBytes(O,K,p),_=K,++P,x.util.setImmediate(C);S+=w<B?O:O.substr(0,Q),++w,l()}if(typeof s=="function"&&(g=s,s=null),x.util.isNodejs&&!x.options.usePureJavaScript&&Le.pbkdf2&&(s===null||Ia(s)!=="object")&&(4<Le.pbkdf2Sync.length||!s||s==="sha1"))return typeof s!="string"&&(s="sha1"),t=Buffer.from(t,"binary"),e=Buffer.from(e,"binary"),g?Le.pbkdf2Sync.length===4?Le.pbkdf2(t,e,n,i,function(M,U){if(M)return g(M);g(null,U.toString("binary"))}):Le.pbkdf2(t,e,n,i,s,function(M,U){if(M)return g(M);g(null,U.toString("binary"))}):Le.pbkdf2Sync.length===4?Le.pbkdf2Sync(t,e,n,i).toString("binary"):Le.pbkdf2Sync(t,e,n,i,s).toString("binary");if(s==null&&(s="sha1"),typeof s=="string"){if(!(s in x.md.algorithms))throw Error("Unknown hash algorithm: "+s);s=x.md[s].create()}var p=s.digestLength;if(i>4294967295*p){if(t=Error("Derived key is too long."),g)return g(t);throw t}var B=Math.ceil(i/p),Q=i-(B-1)*p,y=x.hmac.create();y.start(s,t);var _,S="";if(!g){for(var w=1;w<=B;++w){y.start(null,null),y.update(e),y.update(x.util.int32ToBytes(w));for(var O=_=y.digest().getBytes(),P=2;P<=n;++P){y.start(null,null),y.update(_);var K=y.digest().getBytes();O=x.util.xorBytes(O,K,p),_=K}S+=w<B?O:O.substr(0,Q)}return S}w=1,l()},Ua(function(t){function e(g,l,C){for(var p,B,Q,y,_,S,w,O,P,K,M,U,F=C.length();64<=F;){for(y=0;16>y;++y)l[y]=C.getInt32();for(;64>y;++y)p=((p=l[y-2])>>>17|p<<15)^(p>>>19|p<<13)^p>>>10,B=((B=l[y-15])>>>7|B<<25)^(B>>>18|B<<14)^B>>>3,l[y]=p+l[y-7]+B+l[y-16]|0;for(_=g.h0,S=g.h1,w=g.h2,O=g.h3,P=g.h4,K=g.h5,M=g.h6,U=g.h7,y=0;64>y;++y)B=(_>>>2|_<<30)^(_>>>13|_<<19)^(_>>>22|_<<10),Q=_&S|w&(_^S),p=U+(p=(P>>>6|P<<26)^(P>>>11|P<<21)^(P>>>25|P<<7))+(M^P&(K^M))+s[y]+l[y],U=M,M=K,K=P,P=O+p>>>0,O=w,w=S,S=_,_=p+(B+=Q)>>>0;g.h0=g.h0+_|0,g.h1=g.h1+S|0,g.h2=g.h2+w|0,g.h3=g.h3+O|0,g.h4=g.h4+P|0,g.h5=g.h5+K|0,g.h6=g.h6+M|0,g.h7=g.h7+U|0,F-=64}}t=t.exports=x.sha256=x.sha256||{},x.md.sha256=x.md.algorithms.sha256=t,t.create=function(){i||(n="",n+=x.util.fillString("\0",64),s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],i=!0);var g=null,l=x.util.createBuffer(),C=Array(64),p={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){p.messageLength=0,p.fullMessageLength=p.messageLength64=[];for(var B=p.messageLengthSize/4,Q=0;Q<B;++Q)p.fullMessageLength.push(0);return l=x.util.createBuffer(),g={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},p}};return p.start(),p.update=function(B,Q){Q==="utf8"&&(B=x.util.encodeUtf8(B)),Q=B.length,p.messageLength+=Q,Q=[Q/4294967296>>>0,Q>>>0];for(var y=p.fullMessageLength.length-1;0<=y;--y)p.fullMessageLength[y]+=Q[1],Q[1]=Q[0]+(p.fullMessageLength[y]/4294967296>>>0),p.fullMessageLength[y]>>>=0,Q[0]=Q[1]/4294967296>>>0;return l.putBytes(B),e(g,C,l),(2048<l.read||l.length()===0)&&l.compact(),p},p.digest=function(){var B=x.util.createBuffer();B.putBytes(l.bytes()),B.putBytes(n.substr(0,p.blockLength-(p.fullMessageLength[p.fullMessageLength.length-1]+p.messageLengthSize&p.blockLength-1)));for(var Q,y=8*p.fullMessageLength[0],_=0;_<p.fullMessageLength.length-1;++_)y+=(Q=8*p.fullMessageLength[_+1])/4294967296>>>0,B.putInt32(y>>>0),y=Q>>>0;return B.putInt32(y),e(Q={h0:g.h0,h1:g.h1,h2:g.h2,h3:g.h3,h4:g.h4,h5:g.h5,h6:g.h6,h7:g.h7},C,B),(B=x.util.createBuffer()).putInt32(Q.h0),B.putInt32(Q.h1),B.putInt32(Q.h2),B.putInt32(Q.h3),B.putInt32(Q.h4),B.putInt32(Q.h5),B.putInt32(Q.h6),B.putInt32(Q.h7),B},p};var n=null,i=!1,s=null}),mf("Uint32",function(t){return function(e,n,i){return t(this,e,n,i)}}),Ua(function(t){var e=null;!x.util.isNodejs||x.options.usePureJavaScript||process.versions["node-webkit"]||(e=Qo),(t.exports=x.prng=x.prng||{}).create=function(n){function i(){g.reseeds=g.reseeds===4294967295?0:g.reseeds+1;var p=g.plugin.md.create();p.update(g.keyBytes);for(var B=1,Q=0;32>Q;++Q)g.reseeds%B==0&&(p.update(g.pools[Q].digest().getBytes()),g.pools[Q].start()),B<<=1;g.keyBytes=p.digest().getBytes(),p.start(),p.update(g.keyBytes),p=p.digest().getBytes(),g.key=g.plugin.formatKey(g.keyBytes),g.seed=g.plugin.formatSeed(p),g.generated=0}function s(p){var B=null,Q=x.util.globalScope,y=Q.crypto||Q.msCrypto;if(y&&y.getRandomValues&&(B=function(w){return y.getRandomValues(w)}),Q=x.util.createBuffer(),B)for(;Q.length()<p;){var _=Math.max(1,Math.min(p-Q.length(),65536)/4),S=new Uint32Array(Math.floor(_));try{for(B(S),_=0;_<S.length;++_)Q.putInt32(S[_])}catch(w){if(!(typeof QuotaExceededError<"u"&&w instanceof QuotaExceededError))throw w}}if(Q.length()<p)for(B=Math.floor(65536*Math.random());Q.length()<p;)for(_=16807*(65535&B),_+=(32767&(B=16807*(B>>16)))<<16,B=4294967295&(_=(2147483647&(_+=B>>15))+(_>>31)),_=0;3>_;++_)S=B>>>(_<<3),S^=Math.floor(256*Math.random()),Q.putByte(255&S);return Q.getBytes(p)}var g={plugin:n,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""};n=n.md;for(var l=Array(32),C=0;32>C;++C)l[C]=n.create();return g.pools=l,g.pool=0,g.generate=function(p,B){if(!B)return g.generateSync(p);var Q=g.plugin.cipher,y=g.plugin.increment,_=g.plugin.formatKey,S=g.plugin.formatSeed,w=x.util.createBuffer();g.key=null,function O(P){return P?B(P):w.length()>=p?B(null,w.getBytes(p)):(1048575<g.generated&&(g.key=null),g.key===null?x.util.nextTick(function(){(function(K){if(32<=g.pools[0].messageLength)return i(),K();g.seedFile(32-g.pools[0].messageLength<<5,function(M,U){if(M)return K(M);g.collect(U),i(),K()})})(O)}):(P=Q(g.key,g.seed),g.generated+=P.length,w.putBytes(P),g.key=_(Q(g.key,y(g.seed))),g.seed=S(Q(g.key,g.seed)),void x.util.setImmediate(O)))}()},g.generateSync=function(p){var B=g.plugin.cipher,Q=g.plugin.increment,y=g.plugin.formatKey,_=g.plugin.formatSeed;g.key=null;for(var S=x.util.createBuffer();S.length()<p;){1048575<g.generated&&(g.key=null),g.key===null&&(32<=g.pools[0].messageLength||g.collect(g.seedFileSync(32-g.pools[0].messageLength<<5)),i());var w=B(g.key,g.seed);g.generated+=w.length,S.putBytes(w),g.key=y(B(g.key,Q(g.seed))),g.seed=_(B(g.key,g.seed))}return S.getBytes(p)},e?(g.seedFile=function(p,B){e.randomBytes(p,function(Q,y){if(Q)return B(Q);B(null,y.toString())})},g.seedFileSync=function(p){return e.randomBytes(p).toString()}):(g.seedFile=function(p,B){try{B(null,s(p))}catch(Q){B(Q)}},g.seedFileSync=s),g.collect=function(p){for(var B=p.length,Q=0;Q<B;++Q)g.pools[g.pool].update(p.substr(Q,1)),g.pool=g.pool===31?0:g.pool+1},g.collectInt=function(p,B){for(var Q="",y=0;y<B;y+=8)Q+=String.fromCharCode(p>>y&255);g.collect(Q)},g.registerWorker=function(p){p===self?g.seedFile=function(B,Q){self.addEventListener("message",function y(_){(_=_.data).forge&&_.forge.prng&&(self.removeEventListener("message",y),Q(_.forge.prng.err,_.forge.prng.bytes))}),self.postMessage({forge:{prng:{needed:B}}})}:p.addEventListener("message",function(B){(B=B.data).forge&&B.forge.prng&&g.seedFile(B.forge.prng.needed,function(Q,y){p.postMessage({forge:{prng:{err:Q,bytes:y}}})})})},g}}),Ua(function(t){x.random&&x.random.getBytes?t.exports=x.random:function(e){function n(){var y=x.prng.create(i);return y.getBytes=function(_,S){return y.generate(_,S)},y.getBytesSync=function(_){return y.generate(_)},y}var i={},s=Array(4),g=x.util.createBuffer();i.formatKey=function(y){var _=x.util.createBuffer(y);return(y=Array(4))[0]=_.getInt32(),y[1]=_.getInt32(),y[2]=_.getInt32(),y[3]=_.getInt32(),x.aes._expandKey(y,!1)},i.formatSeed=function(y){var _=x.util.createBuffer(y);return(y=Array(4))[0]=_.getInt32(),y[1]=_.getInt32(),y[2]=_.getInt32(),y[3]=_.getInt32(),y},i.cipher=function(y,_){return x.aes._updateBlock(y,_,s,!1),g.putInt32(s[0]),g.putInt32(s[1]),g.putInt32(s[2]),g.putInt32(s[3]),g.getBytes()},i.increment=function(y){return++y[3],y},i.md=x.md.sha256;var l=n(),C=null,p=x.util.globalScope,B=p.crypto||p.msCrypto;if(B&&B.getRandomValues&&(C=function(y){return B.getRandomValues(y)}),!x.util.isNodejs&&!C){if(l.collectInt(+new Date,32),typeof navigator<"u"){for(var Q in C="",navigator)try{typeof navigator[Q]=="string"&&(C+=navigator[Q])}catch{}l.collect(C),C=null}e&&(e().mousemove(function(y){l.collectInt(y.clientX,16),l.collectInt(y.clientY,16)}),e().keypress(function(y){l.collectInt(y.charCode,8)}))}if(x.random)for(Q in l)x.random[Q]=l[Q];else x.random=l;x.random.createInstance=n,t.exports=x.random}(typeof jQuery<"u"?jQuery:null)});var Ro=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],iw=[1,2,3,5];x.rc2=x.rc2||{},x.rc2.expandKey=function(t,e){typeof t=="string"&&(t=x.util.createBuffer(t)),e=e||128;var n=t;t=t.length();var i,s=e;for(e=Math.ceil(s/8),s=255>>(7&s),i=t;128>i;i++)n.putByte(Ro[n.at(i-1)+n.at(i-t)&255]);for(n.setAt(128-e,Ro[n.at(128-e)&s]),i=127-e;0<=i;i--)n.setAt(i,Ro[n.at(i+1)^n.at(i+e)]);return n};var jw=function(t,e,n){var i,s,g=!1,l=null,C=null,p=null,B=[];for(t=x.rc2.expandKey(t,e),i=0;64>i;i++)B.push(t.getInt16Le());if(n)var Q=function(S){for(i=0;4>i;i++){S[i]+=B[s]+(S[(i+3)%4]&S[(i+2)%4])+(~S[(i+3)%4]&S[(i+1)%4]);var w=S[i],O=iw[i];S[i]=w<<O&65535|(65535&w)>>16-O,s++}},y=function(S){for(i=0;4>i;i++)S[i]+=B[63&S[(i+3)%4]]};else Q=function(S){for(i=3;0<=i;i--){var w=S[i],O=iw[i];S[i]=(65535&w)>>O|w<<16-O&65535,S[i]-=B[s]+(S[(i+3)%4]&S[(i+2)%4])+(~S[(i+3)%4]&S[(i+1)%4]),s--}},y=function(S){for(i=3;0<=i;i--)S[i]-=B[63&S[(i+3)%4]]};var _=null;return _={start:function(S,w){S&&typeof S=="string"&&(S=x.util.createBuffer(S)),g=!1,l=x.util.createBuffer(),C=w||new x.util.createBuffer,p=S,_.output=C},update:function(S){for(g||l.putBuffer(S);8<=l.length();){S=[[5,Q],[1,y],[6,Q],[1,y],[5,Q]];var w=[];for(i=0;4>i;i++){var O=l.getInt16Le();p!==null&&(n?O^=p.getInt16Le():p.putInt16Le(O)),w.push(65535&O)}for(s=n?0:63,O=0;O<S.length;O++)for(var P=0;P<S[O][0];P++)S[O][1](w);for(i=0;4>i;i++)p!==null&&(n?p.putInt16Le(w[i]):w[i]^=p.getInt16Le()),C.putInt16Le(w[i])}},finish:function(S){var w=!0;if(n)if(S)w=S(8,l,!n);else{var O=l.length()===8?8:8-l.length();l.fillWithByte(O,O)}return w&&(g=!0,_.update()),!n&&(w=l.length()===0)&&(S?w=S(8,C,!n):(S=C.length(),(O=C.at(S-1))>S?w=!1:C.truncate(O))),w}}};if(x.rc2.startEncrypting=function(t,e,n){return(t=x.rc2.createEncryptionCipher(t,128)).start(e,n),t},x.rc2.createEncryptionCipher=function(t,e){return jw(t,e,!0)},x.rc2.startDecrypting=function(t,e,n){return(t=x.rc2.createDecryptionCipher(t,128)).start(e,n),t},x.rc2.createDecryptionCipher=function(t,e){return jw(t,e,!1)},x.jsbn=x.jsbn||{},x.jsbn.BigInteger=qa,typeof navigator>"u"){qa.prototype.am=nq;var pf=28}else navigator.appName=="Microsoft Internet Explorer"?(qa.prototype.am=az,pf=30):navigator.appName!="Netscape"?(qa.prototype.am=$y,pf=26):(qa.prototype.am=nq,pf=28);qa.prototype.DB=pf,qa.prototype.DM=(1<<pf)-1,qa.prototype.DV=1<<pf,qa.prototype.FV=Math.pow(2,52),qa.prototype.F1=52-pf,qa.prototype.F2=2*pf-52;var ij=[],Id,Qi=48;for(Id=0;9>=Id;++Id)ij[Qi++]=Id;for(Qi=97,Id=10;36>Id;++Id)ij[Qi++]=Id;for(Qi=65,Id=10;36>Id;++Id)ij[Qi++]=Id;If.prototype.convert=function(t){return 0>t.s||0<=t.compareTo(this.m)?t.mod(this.m):t},If.prototype.revert=function(t){return t},If.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},If.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},If.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},Jf.prototype.convert=function(t){var e=ub();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),0>t.s&&0<e.compareTo(qa.ZERO)&&this.m.subTo(e,e),e},Jf.prototype.revert=function(t){var e=ub();return t.copyTo(e),this.reduce(e),e},Jf.prototype.reduce=function(t){for(;t.t<=this.mt2;)t.data[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t.data[e],i=n*this.mpl+((n*this.mph+(t.data[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t.data[n]+=this.m.am(0,i,t,e,0,this.m.t);t.data[n]>=t.DV;)t.data[n]-=t.DV,t.data[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),0<=t.compareTo(this.m)&&t.subTo(this.m,t)},Jf.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},Jf.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},qa.prototype.copyTo=function(t){for(var e=this.t-1;0<=e;--e)t.data[e]=this.data[e];t.t=this.t,t.s=this.s},qa.prototype.fromInt=function(t){this.t=1,this.s=0>t?-1:0,0<t?this.data[0]=t:-1>t?this.data[0]=t+this.DV:this.t=0},qa.prototype.fromString=function(t,e){if(e==16)e=4;else if(e==8)e=3;else if(e==256)e=8;else if(e==2)e=1;else if(e==32)e=5;else{if(e!=4)return void this.fromRadix(t,e);e=2}this.s=this.t=0;for(var n=t.length,i=!1,s=0;0<=--n;){var g=e==8?255&t[n]:oq(t,n);0>g?t.charAt(n)=="-"&&(i=!0):(i=!1,s==0?this.data[this.t++]=g:s+e>this.DB?(this.data[this.t-1]|=(g&(1<<this.DB-s)-1)<<s,this.data[this.t++]=g>>this.DB-s):this.data[this.t-1]|=g<<s,(s+=e)>=this.DB&&(s-=this.DB))}e==8&&128&t[0]&&(this.s=-1,0<s&&(this.data[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&qa.ZERO.subTo(this,this)},qa.prototype.clamp=function(){for(var t=this.s&this.DM;0<this.t&&this.data[this.t-1]==t;)--this.t},qa.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;0<=n;--n)e.data[n+t]=this.data[n];for(n=t-1;0<=n;--n)e.data[n]=0;e.t=this.t+t,e.s=this.s},qa.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e.data[n-t]=this.data[n];e.t=Math.max(this.t-t,0),e.s=this.s},qa.prototype.lShiftTo=function(t,e){var n=t%this.DB,i=this.DB-n,s=(1<<i)-1;t=Math.floor(t/this.DB);var g,l=this.s<<n&this.DM;for(g=this.t-1;0<=g;--g)e.data[g+t+1]=this.data[g]>>i|l,l=(this.data[g]&s)<<n;for(g=t-1;0<=g;--g)e.data[g]=0;e.data[t]=l,e.t=this.t+t+1,e.s=this.s,e.clamp()},qa.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{t%=this.DB;var i=this.DB-t,s=(1<<t)-1;e.data[0]=this.data[n]>>t;for(var g=n+1;g<this.t;++g)e.data[g-n-1]|=(this.data[g]&s)<<i,e.data[g-n]=this.data[g]>>t;0<t&&(e.data[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()}},qa.prototype.subTo=function(t,e){for(var n=0,i=0,s=Math.min(t.t,this.t);n<s;)i+=this.data[n]-t.data[n],e.data[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this.data[n],e.data[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t.data[n],e.data[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e.data[n++]=this.DV+i:0<i&&(e.data[n++]=i),e.t=n,e.clamp()},qa.prototype.multiplyTo=function(t,e){var n=this.abs(),i=t.abs(),s=n.t;for(e.t=s+i.t;0<=--s;)e.data[s]=0;for(s=0;s<i.t;++s)e.data[s+n.t]=n.am(0,i.data[s],e,s,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&qa.ZERO.subTo(e,e)},qa.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;0<=--n;)t.data[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e.data[n],t,2*n,0,1);(t.data[n+e.t]+=e.am(n+1,2*e.data[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t.data[n+e.t]-=e.DV,t.data[n+e.t+1]=1)}0<t.t&&(t.data[t.t-1]+=e.am(n,e.data[n],t,2*n,0,1)),t.s=0,t.clamp()},qa.prototype.divRemTo=function(t,e,n){var i=t.abs();if(!(0>=i.t)){var s=this.abs();if(s.t<i.t)e!=null&&e.fromInt(0),n!=null&&this.copyTo(n);else{n==null&&(n=ub());var g=ub(),l=this.s;t=t.s;var C=this.DB-jj(i.data[i.t-1]);if(0<C?(i.lShiftTo(C,g),s.lShiftTo(C,n)):(i.copyTo(g),s.copyTo(n)),i=g.t,(s=g.data[i-1])!=0){var p=s*(1<<this.F1)+(1<i?g.data[i-2]>>this.F2:0),B=this.FV/p;p=(1<<this.F1)/p;var Q=1<<this.F2,y=n.t,_=y-i,S=e??ub();for(g.dlShiftTo(_,S),0<=n.compareTo(S)&&(n.data[n.t++]=1,n.subTo(S,n)),qa.ONE.dlShiftTo(i,S),S.subTo(g,g);g.t<i;)g.data[g.t++]=0;for(;0<=--_;){var w=n.data[--y]==s?this.DM:Math.floor(n.data[y]*B+(n.data[y-1]+Q)*p);if((n.data[y]+=g.am(0,w,n,_,0,i))<w)for(g.dlShiftTo(_,S),n.subTo(S,n);n.data[y]<--w;)n.subTo(S,n)}e!=null&&(n.drShiftTo(i,e),l!=t&&qa.ZERO.subTo(e,e)),n.t=i,n.clamp(),0<C&&n.rShiftTo(C,n),0>l&&qa.ZERO.subTo(n,n)}}}},qa.prototype.invDigit=function(){if(1>this.t)return 0;var t=this.data[0];if(!(1&t))return 0;var e=3&t;return 0<(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)?this.DV-e:-e},qa.prototype.isEven=function(){return(0<this.t?1&this.data[0]:this.s)==0},qa.prototype.exp=function(t,e){if(4294967295<t||1>t)return qa.ONE;var n=ub(),i=ub(),s=e.convert(this),g=jj(t)-1;for(s.copyTo(n);0<=--g;)if(e.sqrTo(n,i),0<(t&1<<g))e.mulTo(i,s,n);else{var l=n;n=i,i=l}return e.revert(n)},qa.prototype.toString=function(t){if(0>this.s)return"-"+this.negate().toString(t);if(t==16)t=4;else if(t==8)t=3;else if(t==2)t=1;else if(t==32)t=5;else{if(t!=4)return this.toRadix(t);t=2}var e,n=(1<<t)-1,i=!1,s="",g=this.t,l=this.DB-g*this.DB%t;if(0<g--)for(l<this.DB&&0<(e=this.data[g]>>l)&&(i=!0,s="0123456789abcdefghijklmnopqrstuvwxyz".charAt(e));0<=g;)l<t?(e=(this.data[g]&(1<<l)-1)<<t-l,e|=this.data[--g]>>(l+=this.DB-t)):(e=this.data[g]>>(l-=t)&n,0>=l&&(l+=this.DB,--g)),0<e&&(i=!0),i&&(s+="0123456789abcdefghijklmnopqrstuvwxyz".charAt(e));return i?s:"0"},qa.prototype.negate=function(){var t=ub();return qa.ZERO.subTo(this,t),t},qa.prototype.abs=function(){return 0>this.s?this.negate():this},qa.prototype.compareTo=function(t){var e=this.s-t.s;if(e!=0)return e;var n=this.t;if((e=n-t.t)!=0)return 0>this.s?-e:e;for(;0<=--n;)if((e=this.data[n]-t.data[n])!=0)return e;return 0},qa.prototype.bitLength=function(){return 0>=this.t?0:this.DB*(this.t-1)+jj(this.data[this.t-1]^this.s&this.DM)},qa.prototype.mod=function(t){var e=ub();return this.abs().divRemTo(t,null,e),0>this.s&&0<e.compareTo(qa.ZERO)&&t.subTo(e,e),e},qa.prototype.modPowInt=function(t,e){return e=256>t||e.isEven()?new If(e):new Jf(e),this.exp(t,e)},qa.ZERO=Se(0),qa.ONE=Se(1),Lh.prototype.convert=rq,Lh.prototype.revert=rq,Lh.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},Lh.prototype.sqrTo=function(t,e){t.squareTo(e)},xg.prototype.convert=function(t){if(0>t.s||t.t>2*this.m.t)return t.mod(this.m);if(0>t.compareTo(this.m))return t;var e=ub();return t.copyTo(e),this.reduce(e),e},xg.prototype.revert=function(t){return t},xg.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);0>t.compareTo(this.r2);)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);0<=t.compareTo(this.m);)t.subTo(this.m,t)},xg.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},xg.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var Zd=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],lG=67108864/Zd[Zd.length-1];if(qa.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},qa.prototype.toRadix=function(t){if(t==null&&(t=10),this.signum()==0||2>t||36<t)return"0";var e=this.chunkSize(t),n=Se(e=Math.pow(t,e)),i=ub(),s=ub(),g="";for(this.divRemTo(n,i,s);0<i.signum();)g=(e+s.intValue()).toString(t).substr(1)+g,i.divRemTo(n,i,s);return s.intValue().toString(t)+g},qa.prototype.fromRadix=function(t,e){this.fromInt(0),e==null&&(e=10);for(var n=this.chunkSize(e),i=Math.pow(e,n),s=!1,g=0,l=0,C=0;C<t.length;++C){var p=oq(t,C);0>p?t.charAt(C)=="-"&&this.signum()==0&&(s=!0):(l=e*l+p,++g>=n&&(this.dMultiply(i),this.dAddOffset(l,0),l=g=0))}0<g&&(this.dMultiply(Math.pow(e,g)),this.dAddOffset(l,0)),s&&qa.ZERO.subTo(this,this)},qa.prototype.fromNumber=function(t,e,n){if(typeof e=="number")if(2>t)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(qa.ONE.shiftLeft(t-1),Il,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(qa.ONE.shiftLeft(t-1),this);else{var i=7&t;(n=[]).length=1+(t>>3),e.nextBytes(n),n[0]=0<i?n[0]&(1<<i)-1:0,this.fromString(n,256)}},qa.prototype.bitwiseTo=function(t,e,n){var i,s=Math.min(t.t,this.t);for(i=0;i<s;++i)n.data[i]=e(this.data[i],t.data[i]);if(t.t<this.t){var g=t.s&this.DM;for(i=s;i<this.t;++i)n.data[i]=e(this.data[i],g);n.t=this.t}else{for(g=this.s&this.DM,i=s;i<t.t;++i)n.data[i]=e(g,t.data[i]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},qa.prototype.changeBit=function(t,e){return t=qa.ONE.shiftLeft(t),this.bitwiseTo(t,e,t),t},qa.prototype.addTo=function(t,e){for(var n=0,i=0,s=Math.min(t.t,this.t);n<s;)i+=this.data[n]+t.data[n],e.data[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i+=t.s;n<this.t;)i+=this.data[n],e.data[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i+=t.data[n],e.data[n++]=i&this.DM,i>>=this.DB;i+=t.s}e.s=0>i?-1:0,0<i?e.data[n++]=i:-1>i&&(e.data[n++]=this.DV+i),e.t=n,e.clamp()},qa.prototype.dMultiply=function(t){this.data[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},qa.prototype.dAddOffset=function(t,e){if(t!=0){for(;this.t<=e;)this.data[this.t++]=0;for(this.data[e]+=t;this.data[e]>=this.DV;)this.data[e]-=this.DV,++e>=this.t&&(this.data[this.t++]=0),++this.data[e]}},qa.prototype.multiplyLowerTo=function(t,e,n){var i,s=Math.min(this.t+t.t,e);for(n.s=0,n.t=s;0<s;)n.data[--s]=0;for(i=n.t-this.t;s<i;++s)n.data[s+this.t]=this.am(0,t.data[s],n,s,0,this.t);for(i=Math.min(t.t,e);s<i;++s)this.am(0,t.data[s],n,s,0,e-s);n.clamp()},qa.prototype.multiplyUpperTo=function(t,e,n){--e;var i=n.t=this.t+t.t-e;for(n.s=0;0<=--i;)n.data[i]=0;for(i=Math.max(e-this.t,0);i<t.t;++i)n.data[this.t+i-e]=this.am(e-i,t.data[i],n,0,0,this.t+i-e);n.clamp(),n.drShiftTo(1,n)},qa.prototype.modInt=function(t){if(0>=t)return 0;var e=this.DV%t,n=0>this.s?t-1:0;if(0<this.t)if(e==0)n=this.data[0]%t;else for(var i=this.t-1;0<=i;--i)n=(e*n+this.data[i])%t;return n},qa.prototype.millerRabin=function(t){var e=this.subtract(qa.ONE),n=e.getLowestSetBit();if(0>=n)return!1;for(var i,s=e.shiftRight(n),g=cz(),l=0;l<t;++l){do i=new qa(this.bitLength(),g);while(0>=i.compareTo(qa.ONE)||0<=i.compareTo(e));if((i=i.modPow(s,this)).compareTo(qa.ONE)!=0&&i.compareTo(e)!=0){for(var C=1;C++<n&&i.compareTo(e)!=0;)if((i=i.modPowInt(2,this)).compareTo(qa.ONE)==0)return!1;if(i.compareTo(e)!=0)return!1}}return!0},qa.prototype.clone=function(){var t=ub();return this.copyTo(t),t},qa.prototype.intValue=function(){if(0>this.s){if(this.t==1)return this.data[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this.data[0];if(this.t==0)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},qa.prototype.byteValue=function(){return this.t==0?this.s:this.data[0]<<24>>24},qa.prototype.shortValue=function(){return this.t==0?this.s:this.data[0]<<16>>16},qa.prototype.signum=function(){return 0>this.s?-1:0>=this.t||this.t==1&&0>=this.data[0]?0:1},qa.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,i=this.DB-t*this.DB%8,s=0;if(0<t--)for(i<this.DB&&(n=this.data[t]>>i)!=(this.s&this.DM)>>i&&(e[s++]=n|this.s<<this.DB-i);0<=t;)8>i?(n=(this.data[t]&(1<<i)-1)<<8-i,n|=this.data[--t]>>(i+=this.DB-8)):(n=this.data[t]>>(i-=8)&255,0>=i&&(i+=this.DB,--t)),128&n&&(n|=-256),s==0&&(128&this.s)!=(128&n)&&++s,(0<s||n!=this.s)&&(e[s++]=n);return e},qa.prototype.equals=function(t){return this.compareTo(t)==0},qa.prototype.min=function(t){return 0>this.compareTo(t)?this:t},qa.prototype.max=function(t){return 0<this.compareTo(t)?this:t},qa.prototype.and=function(t){var e=ub();return this.bitwiseTo(t,bz,e),e},qa.prototype.or=function(t){var e=ub();return this.bitwiseTo(t,Il,e),e},qa.prototype.xor=function(t){var e=ub();return this.bitwiseTo(t,pq,e),e},qa.prototype.andNot=function(t){var e=ub();return this.bitwiseTo(t,qq,e),e},qa.prototype.not=function(){for(var t=ub(),e=0;e<this.t;++e)t.data[e]=this.DM&~this.data[e];return t.t=this.t,t.s=~this.s,t},qa.prototype.shiftLeft=function(t){var e=ub();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},qa.prototype.shiftRight=function(t){var e=ub();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},qa.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(this.data[t]!=0){var e=t*this.DB;if((t=this.data[t])==0)t=-1;else{var n=0;!(65535&t)&&(t>>=16,n+=16),!(255&t)&&(t>>=8,n+=8),!(15&t)&&(t>>=4,n+=4),!(3&t)&&(t>>=2,n+=2),!(1&t)&&++n,t=n}return e+t}return 0>this.s?this.t*this.DB:-1},qa.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n){for(var i=this.data[n]^e,s=0;i!=0;)i&=i-1,++s;t+=s}return t},qa.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?this.s!=0:(this.data[e]&1<<t%this.DB)!=0},qa.prototype.setBit=function(t){return this.changeBit(t,Il)},qa.prototype.clearBit=function(t){return this.changeBit(t,qq)},qa.prototype.flipBit=function(t){return this.changeBit(t,pq)},qa.prototype.add=function(t){var e=ub();return this.addTo(t,e),e},qa.prototype.subtract=function(t){var e=ub();return this.subTo(t,e),e},qa.prototype.multiply=function(t){var e=ub();return this.multiplyTo(t,e),e},qa.prototype.divide=function(t){var e=ub();return this.divRemTo(t,e,null),e},qa.prototype.remainder=function(t){var e=ub();return this.divRemTo(t,null,e),e},qa.prototype.divideAndRemainder=function(t){var e=ub(),n=ub();return this.divRemTo(t,e,n),[e,n]},qa.prototype.modPow=function(t,e){var n=t.bitLength(),i=Se(1);if(0>=n)return i;var s=18>n?1:48>n?3:144>n?4:768>n?5:6;e=8>n?new If(e):e.isEven()?new xg(e):new Jf(e);var g=[],l=3,C=s-1,p=(1<<s)-1;if(g[1]=e.convert(this),1<s)for(n=ub(),e.sqrTo(g[1],n);l<=p;)g[l]=ub(),e.mulTo(n,g[l-2],g[l]),l+=2;var B=t.t-1,Q=!0,y=ub();for(n=jj(t.data[B])-1;0<=B;){if(n>=C)var _=t.data[B]>>n-C&p;else _=(t.data[B]&(1<<n+1)-1)<<C-n,0<B&&(_|=t.data[B-1]>>this.DB+n-C);for(l=s;!(1&_);)_>>=1,--l;if(0>(n-=l)&&(n+=this.DB,--B),Q)g[_].copyTo(i),Q=!1;else{for(;1<l;)e.sqrTo(i,y),e.sqrTo(y,i),l-=2;0<l?e.sqrTo(i,y):(l=i,i=y,y=l),e.mulTo(y,g[_],i)}for(;0<=B&&!(t.data[B]&1<<n);)e.sqrTo(i,y),l=i,i=y,y=l,0>--n&&(n=this.DB-1,--B)}return e.revert(i)},qa.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||t.signum()==0)return qa.ZERO;for(var n=t.clone(),i=this.clone(),s=Se(1),g=Se(0),l=Se(0),C=Se(1);n.signum()!=0;){for(;n.isEven();)n.rShiftTo(1,n),e?(s.isEven()&&g.isEven()||(s.addTo(this,s),g.subTo(t,g)),s.rShiftTo(1,s)):g.isEven()||g.subTo(t,g),g.rShiftTo(1,g);for(;i.isEven();)i.rShiftTo(1,i),e?(l.isEven()&&C.isEven()||(l.addTo(this,l),C.subTo(t,C)),l.rShiftTo(1,l)):C.isEven()||C.subTo(t,C),C.rShiftTo(1,C);0<=n.compareTo(i)?(n.subTo(i,n),e&&s.subTo(l,s),g.subTo(C,g)):(i.subTo(n,i),e&&l.subTo(s,l),C.subTo(g,C))}return i.compareTo(qa.ONE)!=0?qa.ZERO:0<=C.compareTo(t)?C.subtract(t):0>C.signum()?(C.addTo(t,C),0>C.signum()?C.add(t):C):C},qa.prototype.pow=function(t){return this.exp(t,new Lh)},qa.prototype.gcd=function(t){var e=0>this.s?this.negate():this.clone();if(t=0>t.s?t.negate():t.clone(),0>e.compareTo(t)){var n=e;e=t,t=n}n=e.getLowestSetBit();var i=t.getLowestSetBit();if(0>i)return e;for(n<i&&(i=n),0<i&&(e.rShiftTo(i,e),t.rShiftTo(i,t));0<e.signum();)0<(n=e.getLowestSetBit())&&e.rShiftTo(n,e),0<(n=t.getLowestSetBit())&&t.rShiftTo(n,t),0<=e.compareTo(t)?(e.subTo(t,e),e.rShiftTo(1,e)):(t.subTo(e,t),t.rShiftTo(1,t));return 0<i&&t.lShiftTo(i,t),t},qa.prototype.isProbablePrime=function(t){var e,n=this.abs();if(n.t==1&&n.data[0]<=Zd[Zd.length-1]){for(e=0;e<Zd.length;++e)if(n.data[0]==Zd[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<Zd.length;){for(var i=Zd[e],s=e+1;s<Zd.length&&i<lG;)i*=Zd[s++];for(i=n.modInt(i);e<s;)if(i%Zd[e++]==0)return!1}return n.millerRabin(t)},Ua(function(t){function e(s,g,l){for(var C,p,B,Q,y,_,S,w=l.length();64<=w;){for(p=s.h0,B=s.h1,Q=s.h2,y=s.h3,_=s.h4,S=0;16>S;++S)C=l.getInt32(),g[S]=C,C=(p<<5|p>>>27)+(y^B&(Q^y))+_+1518500249+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;for(;20>S;++S)C=(C=g[S-3]^g[S-8]^g[S-14]^g[S-16])<<1|C>>>31,g[S]=C,C=(p<<5|p>>>27)+(y^B&(Q^y))+_+1518500249+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;for(;32>S;++S)C=(C=g[S-3]^g[S-8]^g[S-14]^g[S-16])<<1|C>>>31,g[S]=C,C=(p<<5|p>>>27)+(B^Q^y)+_+1859775393+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;for(;40>S;++S)C=(C=g[S-6]^g[S-16]^g[S-28]^g[S-32])<<2|C>>>30,g[S]=C,C=(p<<5|p>>>27)+(B^Q^y)+_+1859775393+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;for(;60>S;++S)C=(C=g[S-6]^g[S-16]^g[S-28]^g[S-32])<<2|C>>>30,g[S]=C,C=(p<<5|p>>>27)+(B&Q|y&(B^Q))+_+2400959708+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;for(;80>S;++S)C=(C=g[S-6]^g[S-16]^g[S-28]^g[S-32])<<2|C>>>30,g[S]=C,C=(p<<5|p>>>27)+(B^Q^y)+_+3395469782+C,_=y,y=Q,Q=(B<<30|B>>>2)>>>0,B=p,p=C;s.h0=s.h0+p|0,s.h1=s.h1+B|0,s.h2=s.h2+Q|0,s.h3=s.h3+y|0,s.h4=s.h4+_|0,w-=64}}t=t.exports=x.sha1=x.sha1||{},x.md.sha1=x.md.algorithms.sha1=t,t.create=function(){i||(n="",n+=x.util.fillString("\0",64),i=!0);var s=null,g=x.util.createBuffer(),l=Array(80),C={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){C.messageLength=0,C.fullMessageLength=C.messageLength64=[];for(var p=C.messageLengthSize/4,B=0;B<p;++B)C.fullMessageLength.push(0);return g=x.util.createBuffer(),s={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},C}};return C.start(),C.update=function(p,B){B==="utf8"&&(p=x.util.encodeUtf8(p)),B=p.length,C.messageLength+=B,B=[B/4294967296>>>0,B>>>0];for(var Q=C.fullMessageLength.length-1;0<=Q;--Q)C.fullMessageLength[Q]+=B[1],B[1]=B[0]+(C.fullMessageLength[Q]/4294967296>>>0),C.fullMessageLength[Q]>>>=0,B[0]=B[1]/4294967296>>>0;return g.putBytes(p),e(s,l,g),(2048<g.read||g.length()===0)&&g.compact(),C},C.digest=function(){var p=x.util.createBuffer();p.putBytes(g.bytes()),p.putBytes(n.substr(0,C.blockLength-(C.fullMessageLength[C.fullMessageLength.length-1]+C.messageLengthSize&C.blockLength-1)));for(var B,Q=8*C.fullMessageLength[0],y=0;y<C.fullMessageLength.length-1;++y)Q+=(B=8*C.fullMessageLength[y+1])/4294967296>>>0,p.putInt32(Q>>>0),Q=B>>>0;return p.putInt32(Q),e(B={h0:s.h0,h1:s.h1,h2:s.h2,h3:s.h3,h4:s.h4},l,p),(p=x.util.createBuffer()).putInt32(B.h0),p.putInt32(B.h1),p.putInt32(B.h2),p.putInt32(B.h3),p.putInt32(B.h4),p},C};var n=null,i=!1}),Ua(function(t){function e(n,i,s){s||(s=x.md.sha1.create());for(var g="",l=Math.ceil(i/s.digestLength),C=0;C<l;++C){var p=String.fromCharCode(C>>24&255,C>>16&255,C>>8&255,255&C);s.start(),s.update(n+p),g+=s.digest().getBytes()}return g.substring(0,i)}(t=t.exports=x.pkcs1=x.pkcs1||{}).encode_rsa_oaep=function(n,i,s,g,l){if(typeof s=="string")var C=s,p=g||void 0,B=l||void 0;else if(s&&(C=s.label||void 0,p=s.seed||void 0,B=s.md||void 0,s.mgf1&&s.mgf1.md))var Q=s.mgf1.md;if(B?B.start():B=x.md.sha1.create(),Q||(Q=B),s=(n=Math.ceil(n.n.bitLength()/8))-2*B.digestLength-2,i.length>s)throw(Q=Error("RSAES-OAEP input message length is too long.")).length=i.length,Q.maxLength=s,Q;for(C||(C=""),B.update(C,"raw"),C=B.digest(),g="",s-=i.length,l=0;l<s;l++)g+="\0";if(i=C.getBytes()+g+""+i,p){if(p.length!==B.digestLength)throw(Q=Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=p.length,Q.digestLength=B.digestLength,Q}else p=x.random.getBytes(B.digestLength);return n=e(p,n-B.digestLength-1,Q),B=e(i=x.util.xorBytes(i,n,i.length),B.digestLength,Q),"\0"+x.util.xorBytes(p,B,p.length)+i},t.decode_rsa_oaep=function(n,i,s,g){if(typeof s=="string")var l=s,C=g||void 0;else if(s&&(l=s.label||void 0,C=s.md||void 0,s.mgf1&&s.mgf1.md))var p=s.mgf1.md;if(s=Math.ceil(n.n.bitLength()/8),i.length!==s)throw(p=Error("RSAES-OAEP encoded message length is invalid.")).length=i.length,p.expectedLength=s,p;if(C===void 0?C=x.md.sha1.create():C.start(),p||(p=C),s<2*C.digestLength+2)throw Error("RSAES-OAEP key is too short for the hash function.");l||(l=""),C.update(l,"raw"),l=C.digest().getBytes(),n=i.charAt(0),g=i.substring(1,C.digestLength+1);var B=e(i=i.substring(1+C.digestLength),C.digestLength,p);for(p=e(g=x.util.xorBytes(g,B,g.length),s-C.digestLength-1,p),s=(i=x.util.xorBytes(i,p,i.length)).substring(0,C.digestLength),p=n!=="\0",n=0;n<C.digestLength;++n)p|=l.charAt(n)!==s.charAt(n);for(l=1,C=n=C.digestLength;C<i.length;C++)p|=(s=i.charCodeAt(C))&(l?65534:0),n+=l&=g=1&s^1;if(p||i.charCodeAt(n)!==1)throw Error("Invalid RSAES-OAEP padding.");return i.substring(n+1)}}),Ua(function(t){(function(){function e(Q,y,_,S){return"workers"in _?function(w,O,P,K){function M(){function _t(ha){if(!oa){var fa=ha.data;if(fa.found){for(ha=0;ha<_A.length;++ha)_A[ha].terminate();return oa=!0,K(null,new l(fa.prime,16))}U.bitLength()>w&&(U=s(w,O)),fa=U.toString(16),ha.target.postMessage({hex:fa,workLoad:W}),U.dAddOffset(ae,0)}}F=Math.max(1,F);for(var _A=[],na=0;na<F;++na)_A[na]=new Worker(_r);for(na=0;na<F;++na)_A[na].addEventListener("message",_t);var oa=!1}if(typeof Worker>"u")return n(w,O,P,K);var U=s(w,O),F=P.workers,W=P.workLoad||100,ae=30*W/8,_r=P.workerScript||"forge/prime.worker.js";if(F===-1)return x.util.estimateCores(function(_t,_A){_t&&(_A=2),F=_A-1,M()});M()}(Q,y,_,S):n(Q,y,_,S)}function n(Q,y,_,S){var w=s(Q,y),O=w.bitLength();O=100>=O?27:150>=O?18:200>=O?15:250>=O?12:300>=O?9:350>=O?8:400>=O?7:500>=O?6:600>=O?5:800>=O?4:1250>=O?3:2,"millerRabinTests"in _&&(O=_.millerRabinTests);var P=10;"maxBlockTime"in _&&(P=_.maxBlockTime),i(w,Q,y,0,O,P,S)}function i(Q,y,_,S,w,O,P){var K=+new Date;do{if(Q.bitLength()>y&&(Q=s(y,_)),Q.isProbablePrime(w))return P(null,Q);Q.dAddOffset(C[S++%8],0)}while(0>O||+new Date-K<O);x.util.setImmediate(function(){i(Q,y,_,S,w,O,P)})}function s(Q,y){return y=new l(Q,y),--Q,y.testBit(Q)||y.bitwiseTo(l.ONE.shiftLeft(Q),B,y),y.dAddOffset(31-y.mod(p).byteValue(),0),y}if(x.prime)t.exports=x.prime;else{var g=t.exports=x.prime=x.prime||{},l=x.jsbn.BigInteger,C=[6,4,2,4,2,4,6,2],p=new l(null);p.fromInt(30);var B=function(Q,y){return Q|y};g.generateProbablePrime=function(Q,y,_){typeof y=="function"&&(_=y,y={});var S=(y=y||{}).algorithm||"PRIMEINC";typeof S=="string"&&(S={name:S}),S.options=S.options||{};var w=y.prng||x.random;if(y={nextBytes:function(O){for(var P=w.getBytesSync(O.length),K=0;K<O.length;++K)O[K]=P.charCodeAt(K)}},S.name==="PRIMEINC")return e(Q,y,S.options,_);throw Error("Invalid prime generation algorithm: "+S.name)}}})()}),vb===void 0)var vb=x.jsbn.BigInteger;var Ik=x.util.isNodejs?Qo:null,ca=x.asn1,yd=x.util;x.pki=x.pki||{},x.pki.rsa=x.rsa=x.rsa||{};var Ya=x.pki,mG=[6,4,2,4,2,4,6,2],nG={name:"PrivateKeyInfo",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ca.Class.UNIVERSAL,type:ca.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:ca.Class.UNIVERSAL,type:ca.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},oG={name:"RSAPrivateKey",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},pG={name:"RSAPublicKey",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:ca.Class.UNIVERSAL,type:ca.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},qG=x.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ca.Class.UNIVERSAL,type:ca.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:ca.Class.UNIVERSAL,type:ca.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},rG={name:"DigestInfo",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm",tagClass:ca.Class.UNIVERSAL,type:ca.Type.SEQUENCE,constructed:!0,value:[{name:"DigestInfo.DigestAlgorithm.algorithmIdentifier",tagClass:ca.Class.UNIVERSAL,type:ca.Type.OID,constructed:!1,capture:"algorithmIdentifier"},{name:"DigestInfo.DigestAlgorithm.parameters",tagClass:ca.Class.UNIVERSAL,type:ca.Type.NULL,capture:"parameters",optional:!0,constructed:!1}]},{name:"DigestInfo.digest",tagClass:ca.Class.UNIVERSAL,type:ca.Type.OCTETSTRING,constructed:!1,capture:"digest"}]},sG=function(t){if(!(t.algorithm in Ya.oids))throw(e=Error("Unknown message digest algorithm.")).algorithm=t.algorithm,e;var e=Ya.oids[t.algorithm],n=ca.oidToDer(e).getBytes();e=ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[]);var i=ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[]);return i.value.push(ca.create(ca.Class.UNIVERSAL,ca.Type.OID,!1,n)),i.value.push(ca.create(ca.Class.UNIVERSAL,ca.Type.NULL,!1,"")),t=ca.create(ca.Class.UNIVERSAL,ca.Type.OCTETSTRING,!1,t.digest().getBytes()),e.value.push(i),e.value.push(t),ca.toDer(e).getBytes()},kw=function(t,e,n){if(n)return t.modPow(e.e,e.n);if(!e.p||!e.q)return t.modPow(e.d,e.n);e.dP||(e.dP=e.d.mod(e.p.subtract(vb.ONE))),e.dQ||(e.dQ=e.d.mod(e.q.subtract(vb.ONE))),e.qInv||(e.qInv=e.q.modInverse(e.p));do n=new vb(x.util.bytesToHex(x.random.getBytes(e.n.bitLength()/8)),16);while(0<=n.compareTo(e.n)||!n.gcd(e.n).equals(vb.ONE));var i=(t=t.multiply(n.modPow(e.e,e.n)).mod(e.n)).mod(e.p).modPow(e.dP,e.p);for(t=t.mod(e.q).modPow(e.dQ,e.q);0>i.compareTo(t);)i=i.add(e.p);return(t=i.subtract(t).multiply(e.qInv).mod(e.p).multiply(e.q).add(t)).multiply(n.modInverse(e.n)).mod(e.n)};if(Ya.rsa.encrypt=function(t,e,n){var i=n,s=Math.ceil(e.n.bitLength()/8);for(n!==!1&&n!==!0?(i=n===2,n=sq(t,e,n)):(n=x.util.createBuffer()).putBytes(t),t=new vb(n.toHex(),16),e=kw(t,e,i).toString(16),i=x.util.createBuffer(),s-=Math.ceil(e.length/2);0<s;)i.putByte(0),--s;return i.putBytes(x.util.hexToBytes(e)),i.getBytes()},Ya.rsa.decrypt=function(t,e,n,i){var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s)throw(e=Error("Encrypted message length is invalid.")).length=t.length,e.expected=s,e;if(0<=(t=new vb(x.util.createBuffer(t).toHex(),16)).compareTo(e.n))throw Error("Encrypted message is invalid.");t=kw(t,e,n).toString(16);var g=x.util.createBuffer();for(s-=Math.ceil(t.length/2);0<s;)g.putByte(0),--s;return g.putBytes(x.util.hexToBytes(t)),i!==!1?kj(g.getBytes(),e,n):g.getBytes()},Ya.rsa.createKeyPairGenerationState=function(t,e,n){typeof t=="string"&&(t=parseInt(t,10)),t=t||2048;var i=(n=n||{}).prng||x.random,s={nextBytes:function(g){for(var l=i.getBytesSync(g.length),C=0;C<g.length;++C)g[C]=l.charCodeAt(C)}};if((n=n.algorithm||"PRIMEINC")!=="PRIMEINC")throw Error("Invalid key generation algorithm: "+n);return(t={algorithm:n,state:0,bits:t,rng:s,eInt:e||65537,e:new vb(null),p:null,q:null,qBits:t>>1,pBits:t-(t>>1),pqState:0,num:null,keys:null}).e.fromInt(t.eInt),t},Ya.rsa.stepKeyPairGenerationState=function(t,e){"algorithm"in t||(t.algorithm="PRIMEINC");var n=new vb(null);n.fromInt(30);for(var i,s=0,g=function(B,Q){return B|Q},l=+new Date,C=0;t.keys===null&&(0>=e||C<e);){if(t.state===0){var p=(i=t.p===null?t.pBits:t.qBits)-1;t.pqState===0?(t.num=new vb(i,t.rng),t.num.testBit(p)||t.num.bitwiseTo(vb.ONE.shiftLeft(p),g,t.num),t.num.dAddOffset(31-t.num.mod(n).byteValue(),0),s=0,++t.pqState):t.pqState===1?t.num.bitLength()>i?t.pqState=0:t.num.isProbablePrime(ez(t.num.bitLength()))?++t.pqState:t.num.dAddOffset(mG[s++%8],0):t.pqState===2?t.pqState=t.num.subtract(vb.ONE).gcd(t.e).compareTo(vb.ONE)===0?3:0:t.pqState===3&&(t.pqState=0,t.p===null?t.p=t.num:t.q=t.num,t.p!==null&&t.q!==null&&++t.state,t.num=null)}else t.state===1?(0>t.p.compareTo(t.q)&&(t.num=t.p,t.p=t.q,t.q=t.num),++t.state):t.state===2?(t.p1=t.p.subtract(vb.ONE),t.q1=t.q.subtract(vb.ONE),t.phi=t.p1.multiply(t.q1),++t.state):t.state===3?t.phi.gcd(t.e).compareTo(vb.ONE)===0?++t.state:(t.p=null,t.q=null,t.state=0):t.state===4?(t.n=t.p.multiply(t.q),t.n.bitLength()===t.bits?++t.state:(t.q=null,t.state=0)):t.state===5&&(i=t.e.modInverse(t.phi),t.keys={privateKey:Ya.rsa.setPrivateKey(t.n,t.e,i,t.p,t.q,i.mod(t.p1),i.mod(t.q1),t.q.modInverse(t.p)),publicKey:Ya.rsa.setPublicKey(t.n,t.e)});C+=(i=+new Date)-l,l=i}return t.keys!==null},Ya.rsa.generateKeyPair=function(t,e,n,i){if(arguments.length===1?Ia(t)==="object"?(n=t,t=void 0):typeof t=="function"&&(i=t,t=void 0):arguments.length===2?typeof t=="number"?typeof e=="function"?(i=e,e=void 0):typeof e!="number"&&(n=e,e=void 0):(n=t,i=e,e=t=void 0):arguments.length===3&&(typeof e=="number"?typeof n=="function"&&(i=n,n=void 0):(i=n,n=e,e=void 0)),n=n||{},t===void 0&&(t=n.bits||2048),e===void 0&&(e=n.e||65537),!n.prng&&256<=t&&16384>=t&&(e===65537||e===3)){if(i){if(x.util.isNodejs&&typeof Ik.generateKeyPair=="function")return Ik.generateKeyPair("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},function(g,l,C){if(g)return i(g);i(null,{privateKey:Ya.privateKeyFromPem(C),publicKey:Ya.publicKeyFromPem(l)})});if(tq("generateKey")&&tq("exportKey"))return yd.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:vq(e),hash:{name:"SHA-256"}},!0,["sign","verify"]).then(function(g){return yd.globalScope.crypto.subtle.exportKey("pkcs8",g.privateKey)}).then(void 0,function(g){i(g)}).then(function(g){g&&(g=Ya.privateKeyFromAsn1(ca.fromDer(x.util.createBuffer(g))),i(null,{privateKey:g,publicKey:Ya.setRsaPublicKey(g.n,g.e)}))});if(uq("generateKey")&&uq("exportKey")){var s=yd.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:t,publicExponent:vq(e),hash:{name:"SHA-256"}},!0,["sign","verify"]);return s.oncomplete=function(g){(g=yd.globalScope.msCrypto.subtle.exportKey("pkcs8",g.target.result.privateKey)).oncomplete=function(l){l=Ya.privateKeyFromAsn1(ca.fromDer(x.util.createBuffer(l.target.result))),i(null,{privateKey:l,publicKey:Ya.setRsaPublicKey(l.n,l.e)})},g.onerror=function(l){i(l)}},void(s.onerror=function(g){i(g)})}}else if(x.util.isNodejs&&typeof Ik.generateKeyPairSync=="function")return s=Ik.generateKeyPairSync("rsa",{modulusLength:t,publicExponent:e,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}}),{privateKey:Ya.privateKeyFromPem(s.privateKey),publicKey:Ya.publicKeyFromPem(s.publicKey)}}if(s=Ya.rsa.createKeyPairGenerationState(t,e,n),!i)return Ya.rsa.stepKeyPairGenerationState(s,0),s.keys;dz(s,n,i)},Ya.setRsaPublicKey=Ya.rsa.setPublicKey=function(t,e){var n={n:t,e,encrypt:function(i,s,g){if(typeof s=="string"?s=s.toUpperCase():s===void 0&&(s="RSAES-PKCS1-V1_5"),s==="RSAES-PKCS1-V1_5")s={encode:function(l,C,p){return sq(l,C,2).getBytes()}};else if(s==="RSA-OAEP"||s==="RSAES-OAEP")s={encode:function(l,C){return x.pkcs1.encode_rsa_oaep(C,l,g)}};else if(["RAW","NONE","NULL",null].indexOf(s)!==-1)s={encode:function(l){return l}};else if(typeof s=="string")throw Error('Unsupported encryption scheme: "'+s+'".');return i=s.encode(i,n,!0),Ya.rsa.encrypt(i,n,!0)},verify:function(i,s,g,l){return typeof g=="string"?g=g.toUpperCase():g===void 0&&(g="RSASSA-PKCS1-V1_5"),l===void 0&&(l={_parseAllDigestBytes:!0}),"_parseAllDigestBytes"in l||(l._parseAllDigestBytes=!0),g==="RSASSA-PKCS1-V1_5"?g={verify:function(C,p){p=kj(p,n,!0);var B=ca.fromDer(p,{parseAllBytes:l._parseAllDigestBytes});p={};var Q=[];if(!ca.validate(B,rG,p,Q))throw(C=Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value.")).errors=Q,C;if((Q=ca.derToOid(p.algorithmIdentifier))!==x.oids.md2&&Q!==x.oids.md5&&Q!==x.oids.sha1&&Q!==x.oids.sha224&&Q!==x.oids.sha256&&Q!==x.oids.sha384&&Q!==x.oids.sha512&&Q!==x.oids["sha512-224"]&&Q!==x.oids["sha512-256"])throw(C=Error("Unknown RSASSA-PKCS1-v1_5 DigestAlgorithm identifier.")).oid=Q,C;if(!(Q!==x.oids.md2&&Q!==x.oids.md5||"parameters"in p))throw Error("ASN.1 object does not contain a valid RSASSA-PKCS1-v1_5 DigestInfo value. Missing algorithm identifer NULL parameters.");return C===p.digest}}:g!=="NONE"&&g!=="NULL"&&g!==null||(g={verify:function(C,p){return C===(p=kj(p,n,!0))}}),s=Ya.rsa.decrypt(s,n,!0,!1),g.verify(i,s,n.n.bitLength())}};return n},Ya.setRsaPrivateKey=Ya.rsa.setPrivateKey=function(t,e,n,i,s,g,l,C){var p={n:t,e,d:n,p:i,q:s,dP:g,dQ:l,qInv:C,decrypt:function(B,Q,y){if(typeof Q=="string"?Q=Q.toUpperCase():Q===void 0&&(Q="RSAES-PKCS1-V1_5"),B=Ya.rsa.decrypt(B,p,!1,!1),Q==="RSAES-PKCS1-V1_5")Q={decode:kj};else if(Q==="RSA-OAEP"||Q==="RSAES-OAEP")Q={decode:function(_,S){return x.pkcs1.decode_rsa_oaep(S,_,y)}};else{if(["RAW","NONE","NULL",null].indexOf(Q)===-1)throw Error('Unsupported encryption scheme: "'+Q+'".');Q={decode:function(_){return _}}}return Q.decode(B,p,!1)},sign:function(B,Q){var y=!1;return typeof Q=="string"&&(Q=Q.toUpperCase()),Q===void 0||Q==="RSASSA-PKCS1-V1_5"?(Q={encode:sG},y=1):Q!=="NONE"&&Q!=="NULL"&&Q!==null||(Q={encode:function(){return B}},y=1),Q=Q.encode(B,p.n.bitLength()),Ya.rsa.encrypt(Q,p,y)}};return p},Ya.wrapRsaPrivateKey=function(t){return ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,ca.integerToDer(0).getBytes()),ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.OID,!1,ca.oidToDer(Ya.oids.rsaEncryption).getBytes()),ca.create(ca.Class.UNIVERSAL,ca.Type.NULL,!1,"")]),ca.create(ca.Class.UNIVERSAL,ca.Type.OCTETSTRING,!1,ca.toDer(t).getBytes())])},Ya.privateKeyFromAsn1=function(t){var e={},n=[];if(ca.validate(t,nG,e,n)&&(t=ca.fromDer(x.util.createBuffer(e.privateKey))),e={},n=[],!ca.validate(t,oG,e,n))throw(e=Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.")).errors=n,e;n=x.util.createBuffer(e.privateKeyModulus).toHex(),t=x.util.createBuffer(e.privateKeyPublicExponent).toHex();var i=x.util.createBuffer(e.privateKeyPrivateExponent).toHex(),s=x.util.createBuffer(e.privateKeyPrime1).toHex(),g=x.util.createBuffer(e.privateKeyPrime2).toHex(),l=x.util.createBuffer(e.privateKeyExponent1).toHex(),C=x.util.createBuffer(e.privateKeyExponent2).toHex();return e=x.util.createBuffer(e.privateKeyCoefficient).toHex(),Ya.setRsaPrivateKey(new vb(n,16),new vb(t,16),new vb(i,16),new vb(s,16),new vb(g,16),new vb(l,16),new vb(C,16),new vb(e,16))},Ya.privateKeyToAsn1=Ya.privateKeyToRSAPrivateKey=function(t){return ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,ca.integerToDer(0).getBytes()),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.n)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.e)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.d)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.p)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.q)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.dP)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.dQ)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.qInv))])},Ya.publicKeyFromAsn1=function(t){var e={},n=[];if(ca.validate(t,qG,e,n)){if((n=ca.derToOid(e.publicKeyOid))!==Ya.oids.rsaEncryption)throw(e=Error("Cannot read public key. Unknown OID.")).oid=n,e;t=e.rsaPublicKey}if(n=[],!ca.validate(t,pG,e,n))throw(e=Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=n,e;return n=x.util.createBuffer(e.publicKeyModulus).toHex(),e=x.util.createBuffer(e.publicKeyExponent).toHex(),Ya.setRsaPublicKey(new vb(n,16),new vb(e,16))},Ya.publicKeyToAsn1=Ya.publicKeyToSubjectPublicKeyInfo=function(t){return ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.OID,!1,ca.oidToDer(Ya.oids.rsaEncryption).getBytes()),ca.create(ca.Class.UNIVERSAL,ca.Type.NULL,!1,"")]),ca.create(ca.Class.UNIVERSAL,ca.Type.BITSTRING,!1,[Ya.publicKeyToRSAPublicKey(t)])])},Ya.publicKeyToRSAPublicKey=function(t){return ca.create(ca.Class.UNIVERSAL,ca.Type.SEQUENCE,!0,[ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.n)),ca.create(ca.Class.UNIVERSAL,ca.Type.INTEGER,!1,fe(t.e))])},tG===void 0)var tG=x.jsbn.BigInteger;var ka=x.asn1,bb=x.pki=x.pki||{};bb.pbe=x.pbe=x.pbe||{};var fg=bb.oids,uG={name:"EncryptedPrivateKeyInfo",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},vG={name:"PBES2Algorithms",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:ka.Class.UNIVERSAL,type:ka.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:ka.Class.UNIVERSAL,type:ka.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},wG={name:"pkcs-12PbeParams",tagClass:ka.Class.UNIVERSAL,type:ka.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:ka.Class.UNIVERSAL,type:ka.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:ka.Class.UNIVERSAL,type:ka.Type.INTEGER,constructed:!1,capture:"iterations"}]};bb.encryptPrivateKeyInfo=function(t,e,n){(n=n||{}).saltSize=n.saltSize||8,n.count=n.count||2048,n.algorithm=n.algorithm||"aes128",n.prfAlgorithm=n.prfAlgorithm||"sha1";var i,s=x.random.getBytesSync(n.saltSize),g=n.count,l=ka.integerToDer(g);if(n.algorithm.indexOf("aes")===0||n.algorithm==="des"){switch(n.algorithm){case"aes128":var C=i=16,p=fg["aes128-CBC"],B=x.aes.createEncryptionCipher;break;case"aes192":i=24,C=16,p=fg["aes192-CBC"],B=x.aes.createEncryptionCipher;break;case"aes256":i=32,C=16,p=fg["aes256-CBC"],B=x.aes.createEncryptionCipher;break;case"des":C=i=8,p=fg.desCBC,B=x.des.createEncryptionCipher;break;default:throw(s=Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,s}var Q=yq(n="hmacWith"+n.prfAlgorithm.toUpperCase());Q=x.pkcs5.pbkdf2(e,s,g,i,Q),e=x.random.getBytesSync(C),(g=B(Q)).start(e),g.update(ka.toDer(t)),g.finish(),t=g.output.getBytes(),s=ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OCTETSTRING,!1,s),ka.create(ka.Class.UNIVERSAL,ka.Type.INTEGER,!1,l.getBytes())]),n!=="hmacWithSHA1"&&s.value.push(ka.create(ka.Class.UNIVERSAL,ka.Type.INTEGER,!1,x.util.hexToBytes(i.toString(16))),ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OID,!1,ka.oidToDer(bb.oids[n]).getBytes()),ka.create(ka.Class.UNIVERSAL,ka.Type.NULL,!1,"")])),s=ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OID,!1,ka.oidToDer(fg.pkcs5PBES2).getBytes()),ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OID,!1,ka.oidToDer(fg.pkcs5PBKDF2).getBytes()),s]),ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OID,!1,ka.oidToDer(p).getBytes()),ka.create(ka.Class.UNIVERSAL,ka.Type.OCTETSTRING,!1,e)])])])}else{if(n.algorithm!=="3des")throw(s=Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=n.algorithm,s;i=24,p=new x.util.ByteBuffer(s),Q=bb.pbe.generatePkcs12Key(e,p,1,g,i),e=bb.pbe.generatePkcs12Key(e,p,2,g,i),(g=x.des.createEncryptionCipher(Q)).start(e),g.update(ka.toDer(t)),g.finish(),t=g.output.getBytes(),s=ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OID,!1,ka.oidToDer(fg["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[ka.create(ka.Class.UNIVERSAL,ka.Type.OCTETSTRING,!1,s),ka.create(ka.Class.UNIVERSAL,ka.Type.INTEGER,!1,l.getBytes())])])}return ka.create(ka.Class.UNIVERSAL,ka.Type.SEQUENCE,!0,[s,ka.create(ka.Class.UNIVERSAL,ka.Type.OCTETSTRING,!1,t)])},bb.decryptPrivateKeyInfo=function(t,e){var n=null,i={},s=[];if(!ka.validate(t,uG,i,s))throw(n=Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,n;return s=ka.derToOid(i.encryptionOid),e=bb.pbe.getCipher(s,i.encryptionParams,e),i=x.util.createBuffer(i.encryptedData),e.update(i),e.finish()&&(n=ka.fromDer(e.output)),n},bb.encryptedPrivateKeyToPem=function(t,e){return t={type:"ENCRYPTED PRIVATE KEY",body:ka.toDer(t).getBytes()},x.pem.encode(t,{maxline:e})},bb.encryptedPrivateKeyFromPem=function(t){if((t=x.pem.decode(t)[0]).type!=="ENCRYPTED PRIVATE KEY"){var e=Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw e.headerType=t.type,e}if(t.procType&&t.procType.type==="ENCRYPTED")throw Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return ka.fromDer(t.body)},bb.encryptRsaPrivateKey=function(t,e,n){if(!(n=n||{}).legacy)return t=bb.wrapRsaPrivateKey(bb.privateKeyToAsn1(t)),t=bb.encryptPrivateKeyInfo(t,e,n),bb.encryptedPrivateKeyToPem(t);switch(n.algorithm){case"aes128":n="AES-128-CBC";var i=16,s=x.random.getBytesSync(16),g=x.aes.createEncryptionCipher;break;case"aes192":n="AES-192-CBC",i=24,s=x.random.getBytesSync(16),g=x.aes.createEncryptionCipher;break;case"aes256":n="AES-256-CBC",i=32,s=x.random.getBytesSync(16),g=x.aes.createEncryptionCipher;break;case"3des":n="DES-EDE3-CBC",i=24,s=x.random.getBytesSync(8),g=x.des.createEncryptionCipher;break;case"des":n="DES-CBC",i=8,s=x.random.getBytesSync(8),g=x.des.createEncryptionCipher;break;default:throw(t=Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+n.algorithm+'".')).algorithm=n.algorithm,t}return(e=g(e=x.pbe.opensslDeriveBytes(e,s.substr(0,8),i))).start(s),e.update(ka.toDer(bb.privateKeyToAsn1(t))),e.finish(),t={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:n,parameters:x.util.bytesToHex(s).toUpperCase()},body:e.output.getBytes()},x.pem.encode(t)},bb.decryptRsaPrivateKey=function(t,e){var n=null;if((t=x.pem.decode(t)[0]).type!=="ENCRYPTED PRIVATE KEY"&&t.type!=="PRIVATE KEY"&&t.type!=="RSA PRIVATE KEY")throw(e=Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=e,e;if(t.procType&&t.procType.type==="ENCRYPTED"){switch(t.dekInfo.algorithm){case"DES-CBC":var i=8,s=x.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,s=x.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,s=x.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,s=x.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,s=x.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,s=function(l){return x.rc2.createDecryptionCipher(l,40)};break;case"RC2-64-CBC":i=8,s=function(l){return x.rc2.createDecryptionCipher(l,64)};break;case"RC2-128-CBC":i=16,s=function(l){return x.rc2.createDecryptionCipher(l,128)};break;default:throw(e=Error('Could not decrypt private key; unsupported encryption algorithm "'+t.dekInfo.algorithm+'".')).algorithm=t.dekInfo.algorithm,e}var g=x.util.hexToBytes(t.dekInfo.parameters);if((s=s(i=x.pbe.opensslDeriveBytes(e,g.substr(0,8),i))).start(g),s.update(x.util.createBuffer(t.body)),!s.finish())return n;n=s.output.getBytes()}else n=t.body;return(n=t.type==="ENCRYPTED PRIVATE KEY"?bb.decryptPrivateKeyInfo(ka.fromDer(n),e):ka.fromDer(n))!==null&&(n=bb.privateKeyFromAsn1(n)),n},bb.pbe.generatePkcs12Key=function(t,e,n,i,s,g){var l,C;if(g==null){if(!("sha1"in x.md))throw Error('"sha1" hash algorithm unavailable.');g=x.md.sha1.create()}var p=g.digestLength,B=g.blockLength,Q=new x.util.ByteBuffer,y=new x.util.ByteBuffer;if(t!=null){for(C=0;C<t.length;C++)y.putInt16(t.charCodeAt(C));y.putInt16(0)}t=y.length();var _=e.length(),S=new x.util.ByteBuffer;S.fillWithByte(n,B);var w=B*Math.ceil(_/B);for(n=new x.util.ByteBuffer,C=0;C<w;C++)n.putByte(e.at(C%_));for(w=B*Math.ceil(t/B),e=new x.util.ByteBuffer,C=0;C<w;C++)e.putByte(y.at(C%t));for((y=n).putBuffer(e),e=Math.ceil(s/p),n=1;n<=e;n++){for((w=new x.util.ByteBuffer).putBytes(S.bytes()),w.putBytes(y.bytes()),C=0;C<i;C++)g.start(),g.update(w.getBytes()),w=g.digest();var O=new x.util.ByteBuffer;for(C=0;C<B;C++)O.putByte(w.at(C%p));var P=Math.ceil(_/B)+Math.ceil(t/B),K=new x.util.ByteBuffer;for(l=0;l<P;l++){var M=new x.util.ByteBuffer(y.getBytes(B)),U=511;for(C=O.length()-1;0<=C;C--)U>>=8,U+=O.at(C)+M.at(C),M.setAt(C,255&U);K.putBuffer(M)}y=K,Q.putBuffer(w)}return Q.truncate(Q.length()-s),Q},bb.pbe.getCipher=function(t,e,n){switch(t){case bb.oids.pkcs5PBES2:return bb.pbe.getCipherForPBES2(t,e,n);case bb.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case bb.oids["pbewithSHAAnd40BitRC2-CBC"]:return bb.pbe.getCipherForPKCS12PBE(t,e,n);default:throw(e=Error("Cannot read encrypted PBE data block. Unsupported OID.")).oid=t,e.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],e}},bb.pbe.getCipherForPBES2=function(t,e,n){var i={};if(t=[],!ka.validate(e,vG,i,t)){var s=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw s.errors=t,s}if((t=ka.derToOid(i.kdfOid))!==bb.oids.pkcs5PBKDF2)throw(s=Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=t,s.supportedOids=["pkcs5PBKDF2"],s;if((t=ka.derToOid(i.encOid))!==bb.oids["aes128-CBC"]&&t!==bb.oids["aes192-CBC"]&&t!==bb.oids["aes256-CBC"]&&t!==bb.oids["des-EDE3-CBC"]&&t!==bb.oids.desCBC)throw(s=Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=t,s.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],s;e=i.kdfSalt;var g=x.util.createBuffer(i.kdfIterationCount);switch(g=g.getInt(g.length()<<3),bb.oids[t]){case"aes128-CBC":var l=16;s=x.aes.createDecryptionCipher;break;case"aes192-CBC":l=24,s=x.aes.createDecryptionCipher;break;case"aes256-CBC":l=32,s=x.aes.createDecryptionCipher;break;case"des-EDE3-CBC":l=24,s=x.des.createDecryptionCipher;break;case"desCBC":l=8,s=x.des.createDecryptionCipher}return t=xq(i.prfOid),n=x.pkcs5.pbkdf2(n,e,g,l,t),i=i.encIv,(s=s(n)).start(i),s},bb.pbe.getCipherForPKCS12PBE=function(t,e,n){var i={},s=[];if(!ka.validate(e,wG,i,s))throw(n=Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=s,n;switch(s=x.util.createBuffer(i.salt),e=(e=x.util.createBuffer(i.iterations)).getInt(e.length()<<3),t){case bb.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:var g=24,l=8;t=x.des.startDecrypting;break;case bb.oids["pbewithSHAAnd40BitRC2-CBC"]:g=5,l=8,t=function(C,p){return(C=x.rc2.createDecryptionCipher(C,40)).start(p,null),C};break;default:throw(n=Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=t,n}return i=xq(i.prfOid),g=bb.pbe.generatePkcs12Key(n,s,1,e,g,i),i.start(),t(g,n=bb.pbe.generatePkcs12Key(n,s,2,e,l,i))},bb.pbe.opensslDeriveBytes=function(t,e,n,i){if(i==null){if(!("md5"in x.md))throw Error('"md5" hash algorithm unavailable.');i=x.md.md5.create()}e===null&&(e="");for(var s=[wq(i,t+e)],g=16,l=1;g<n;++l,g+=16)s.push(wq(i,s[l-1]+t+e));return s.join("").substr(0,n)},Ua(function(t){var e=x.asn1;t=t.exports=x.pkcs7asn1=x.pkcs7asn1||{},x.pkcs7=x.pkcs7||{},x.pkcs7.asn1=t;var n={name:"ContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};t.contentInfoValidator=n;var i={name:"EncryptedContentInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};t.envelopedDataValidator={name:"EnvelopedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(i)},t.encryptedDataValidator={name:"EncryptedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"}].concat(i)},t.signedDataValidator={name:"SignedData",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:e.Class.UNIVERSAL,type:e.Type.SET,capture:"signerInfos",optional:!0,value:[{name:"SignerInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:e.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]}]}]},t.recipientInfoValidator={name:"RecipientInfo",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:e.Class.UNIVERSAL,type:e.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:e.Class.UNIVERSAL,type:e.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:e.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter",optional:!0}]},{name:"RecipientInfo.encryptedKey",tagClass:e.Class.UNIVERSAL,type:e.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}}),Ua(function(t){x.mgf=x.mgf||{},(t.exports=x.mgf.mgf1=x.mgf1=x.mgf1||{}).create=function(e){return{generate:function(n,i){for(var s=new x.util.ByteBuffer,g=Math.ceil(i/e.digestLength),l=0;l<g;l++){var C=new x.util.ByteBuffer;C.putInt32(l),e.start(),e.update(n+C.getBytes()),s.putBuffer(e.digest())}return s.truncate(s.length()-i),s.getBytes()}}}}),x.mgf=x.mgf||{},x.mgf.mgf1=x.mgf1,Ua(function(t){(t.exports=x.pss=x.pss||{}).create=function(e){arguments.length===3&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var n=e.md,i=e.mgf,s=n.digestLength,g=e.salt||null;if(typeof g=="string"&&(g=x.util.createBuffer(g)),"saltLength"in e)var l=e.saltLength;else{if(g===null)throw Error("Salt length not specified or specific salt not given.");l=g.length()}if(g!==null&&g.length()!==l)throw Error("Given salt length does not match length of given salt.");var C=e.prng||x.random;return{encode:function(p,B){--B;var Q=Math.ceil(B/8);if(p=p.digest().getBytes(),Q<s+l+2)throw Error("Message is too long to encrypt.");var y=g===null?C.getBytesSync(l):g.bytes(),_=new x.util.ByteBuffer;_.fillWithByte(0,8),_.putBytes(p),_.putBytes(y),n.start(),n.update(_.getBytes()),p=n.digest().getBytes(),(_=new x.util.ByteBuffer).fillWithByte(0,Q-l-s-2),_.putByte(1),_.putBytes(y);var S=_.getBytes(),w=Q-s-1,O=i.generate(p,w);for(y="",_=0;_<w;_++)y+=String.fromCharCode(S.charCodeAt(_)^O.charCodeAt(_));return B=65280>>8*Q-B&255,(y=String.fromCharCode(y.charCodeAt(0)&~B)+y.substr(1))+p+""},verify:function(p,B,Q){var y=Q-1;if(Q=Math.ceil(y/8),B=B.substr(-Q),Q<s+l+2)throw Error("Inconsistent parameters to PSS signature verification.");if(B.charCodeAt(Q-1)!==188)throw Error("Encoded message does not end in 0xBC.");var _=Q-s-1,S=B.substr(0,_);B=B.substr(_,s);var w=65280>>8*Q-y&255;if(S.charCodeAt(0)&w)throw Error("Bits beyond keysize not zero as expected.");var O=i.generate(B,_),P="";for(y=0;y<_;y++)P+=String.fromCharCode(S.charCodeAt(y)^O.charCodeAt(y));for(P=String.fromCharCode(P.charCodeAt(0)&~w)+P.substr(1),Q=Q-s-l-2,y=0;y<Q;y++)if(P.charCodeAt(y)!==0)throw Error("Leftmost octets not zero as expected");if(P.charCodeAt(Q)!==1)throw Error("Inconsistent PSS signature, 0x01 marker not found");return Q=P.substr(-l),(_=new x.util.ByteBuffer).fillWithByte(0,8),_.putBytes(p),_.putBytes(Q),n.start(),n.update(_.getBytes()),B===(p=n.digest().getBytes())}}}}),Ua(function(t){function e(U,F){typeof F=="string"&&(F={shortName:F});for(var W,ae=null,_r=0;ae===null&&_r<U.attributes.length;++_r)W=U.attributes[_r],(F.type&&F.type===W.type||F.name&&F.name===W.name||F.shortName&&F.shortName===W.shortName)&&(ae=W);return ae}function n(U){var F=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);U=U.attributes;for(var W=0;W<U.length;++W){var ae=U[W],_r=ae.value,_t=C.Type.PRINTABLESTRING;"valueTagClass"in ae&&(_t=ae.valueTagClass)===C.Type.UTF8&&(_r=x.util.encodeUtf8(_r)),ae=C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(ae.type).getBytes()),C.create(C.Class.UNIVERSAL,_t,!1,_r)])]),F.value.push(ae)}return F}function i(U){for(var F,W=0;W<U.length;++W){if((F=U[W]).name===void 0&&(F.type&&F.type in p.oids?F.name=p.oids[F.type]:F.shortName&&F.shortName in Q&&(F.name=p.oids[Q[F.shortName]])),F.type===void 0){if(!F.name||!(F.name in p.oids))throw(U=Error("Attribute type not specified.")).attribute=F,U;F.type=p.oids[F.name]}if(F.shortName===void 0&&F.name&&F.name in Q&&(F.shortName=Q[F.name]),F.type===B.extensionRequest&&(F.valueConstructed=!0,F.valueTagClass=C.Type.SEQUENCE,!F.value&&F.extensions)){F.value=[];for(var ae=0;ae<F.extensions.length;++ae)F.value.push(p.certificateExtensionToAsn1(s(F.extensions[ae])))}if(F.value===void 0)throw(U=Error("Attribute value not specified.")).attribute=F,U}}function s(U,F){if(F=F||{},U.name===void 0&&U.id&&U.id in p.oids&&(U.name=p.oids[U.id]),U.id===void 0){if(!U.name||!(U.name in p.oids)){var W=Error("Extension ID not specified.");throw W.extension=U,W}U.id=p.oids[U.name]}if(U.value!==void 0)return U;if(U.name==="keyUsage"){var ae=W=F=0;U.digitalSignature&&(W|=128,F=7),U.nonRepudiation&&(W|=64,F=6),U.keyEncipherment&&(W|=32,F=5),U.dataEncipherment&&(W|=16,F=4),U.keyAgreement&&(W|=8,F=3),U.keyCertSign&&(W|=4,F=2),U.cRLSign&&(W|=2,F=1),U.encipherOnly&&(W|=1,F=0),U.decipherOnly&&(ae|=128,F=7),F=String.fromCharCode(F),ae!==0?F+=String.fromCharCode(W)+String.fromCharCode(ae):W!==0&&(F+=String.fromCharCode(W)),U.value=C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,F)}else if(U.name==="basicConstraints")U.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),U.cA&&U.value.value.push(C.create(C.Class.UNIVERSAL,C.Type.BOOLEAN,!1,"")),"pathLenConstraint"in U&&U.value.value.push(C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(U.pathLenConstraint).getBytes()));else if(U.name==="extKeyUsage")for(ae in U.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),W=U.value.value,U)U[ae]===!0&&(ae in B?W.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(B[ae]).getBytes())):ae.indexOf(".")!==-1&&W.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(ae).getBytes())));else if(U.name==="nsCertType")W=F=0,U.client&&(W|=128,F=7),U.server&&(W|=64,F=6),U.email&&(W|=32,F=5),U.objsign&&(W|=16,F=4),U.reserved&&(W|=8,F=3),U.sslCA&&(W|=4,F=2),U.emailCA&&(W|=2,F=1),U.objCA&&(W|=1,F=0),F=String.fromCharCode(F),W!==0&&(F+=String.fromCharCode(W)),U.value=C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,F);else if(U.name==="subjectAltName"||U.name==="issuerAltName"){U.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);for(var _r=0;_r<U.altNames.length;++_r){if(F=(ae=U.altNames[_r]).value,ae.type===7&&ae.ip){if((F=x.util.bytesFromIP(ae.ip))===null)throw(W=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=U,W}else ae.type===8&&(F=ae.oid?C.oidToDer(C.oidToDer(ae.oid)):C.oidToDer(F));U.value.value.push(C.create(C.Class.CONTEXT_SPECIFIC,ae.type,!1,F))}}else if(U.name==="nsComment"&&F.cert){if(!/^[\x00-\x7F]*$/.test(U.comment)||1>U.comment.length||128<U.comment.length)throw Error('Invalid "nsComment" content.');U.value=C.create(C.Class.UNIVERSAL,C.Type.IA5STRING,!1,U.comment)}else if(U.name==="subjectKeyIdentifier"&&F.cert)W=F.cert.generateSubjectKeyIdentifier(),U.subjectKeyIdentifier=W.toHex(),U.value=C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,W.getBytes());else if(U.name==="authorityKeyIdentifier"&&F.cert)U.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),W=U.value.value,U.keyIdentifier&&(ae=U.keyIdentifier===!0?F.cert.generateSubjectKeyIdentifier().getBytes():U.keyIdentifier,W.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!1,ae))),U.authorityCertIssuer&&(ae=[C.create(C.Class.CONTEXT_SPECIFIC,4,!0,[n(U.authorityCertIssuer===!0?F.cert.issuer:U.authorityCertIssuer)])],W.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,ae))),U.serialNumber&&(F=x.util.hexToBytes(U.serialNumber===!0?F.cert.serialNumber:U.serialNumber),W.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!1,F)));else if(U.name==="cRLDistributionPoints"){U.value=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),W=U.value.value;var _t=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]),_A=C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[]);for(_r=0;_r<U.altNames.length;++_r){if(F=(ae=U.altNames[_r]).value,ae.type===7&&ae.ip){if((F=x.util.bytesFromIP(ae.ip))===null)throw(W=Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=U,W}else ae.type===8&&(F=ae.oid?C.oidToDer(C.oidToDer(ae.oid)):C.oidToDer(F));_A.value.push(C.create(C.Class.CONTEXT_SPECIFIC,ae.type,!1,F))}_t.value.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[_A])),W.push(_t)}if(U.value===void 0)throw(W=Error("Extension value not specified.")).extension=U,W;return U}function g(U,F){switch(U){case B["RSASSA-PSS"]:return U=[],F.hash.algorithmOid!==void 0&&U.push(C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(F.hash.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")])])),F.mgf.algorithmOid!==void 0&&U.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,[C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(F.mgf.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(F.mgf.hash.algorithmOid).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")])])])),F.saltLength!==void 0&&U.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(F.saltLength).getBytes())])),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,U);default:return C.create(C.Class.UNIVERSAL,C.Type.NULL,!1,"")}}function l(U){return U>=K&&U<M?C.create(C.Class.UNIVERSAL,C.Type.UTCTIME,!1,C.dateToUtcTime(U)):C.create(C.Class.UNIVERSAL,C.Type.GENERALIZEDTIME,!1,C.dateToGeneralizedTime(U))}var C=x.asn1,p=t.exports=x.pki=x.pki||{},B=p.oids,Q={};Q.CN=B.commonName,Q.commonName="CN",Q.C=B.countryName,Q.countryName="C",Q.L=B.localityName,Q.localityName="L",Q.ST=B.stateOrProvinceName,Q.stateOrProvinceName="ST",Q.O=B.organizationName,Q.organizationName="O",Q.OU=B.organizationalUnitName,Q.organizationalUnitName="OU",Q.E=B.emailAddress,Q.emailAddress="E",t=x.pki.rsa.publicKeyValidator;var y={name:"Certificate",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:C.Class.UNIVERSAL,type:C.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:C.Class.UNIVERSAL,type:C.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:C.Class.UNIVERSAL,type:C.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:C.Class.UNIVERSAL,type:C.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},t,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:C.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:C.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},_={name:"rsapss",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:C.Class.UNIVERSAL,type:C.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:C.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:C.Class.UNIVERSAL,type:C.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:C.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:C.Class.UNIVERSAL,type:C.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:C.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:C.Class.UNIVERSAL,type:C.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},S={name:"CertificationRequest",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[{name:"CertificationRequestInfo",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:C.Class.UNIVERSAL,type:C.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},t,{name:"CertificationRequestInfo.attributes",tagClass:C.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:C.Class.UNIVERSAL,type:C.Type.SET,constructed:!0}]}]}]},{name:"CertificationRequest.signatureAlgorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:C.Class.UNIVERSAL,type:C.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:C.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:C.Class.UNIVERSAL,type:C.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};p.RDNAttributesAsArray=function(U,F){for(var W,ae,_r,_t=[],_A=0;_A<U.value.length;++_A){W=U.value[_A];for(var na=0;na<W.value.length;++na)_r={},ae=W.value[na],_r.type=C.derToOid(ae.value[0].value),_r.value=ae.value[1].value,_r.valueTagClass=ae.value[1].type,_r.type in B&&(_r.name=B[_r.type],_r.name in Q&&(_r.shortName=Q[_r.name])),F&&(F.update(_r.type),F.update(_r.value)),_t.push(_r)}return _t},p.CRIAttributesAsArray=function(U){for(var F=[],W=0;W<U.length;++W){var ae=U[W],_r=C.derToOid(ae.value[0].value);ae=ae.value[1].value;for(var _t=0;_t<ae.length;++_t){var _A={};if(_A.type=_r,_A.value=ae[_t].value,_A.valueTagClass=ae[_t].type,_A.type in B&&(_A.name=B[_A.type],_A.name in Q&&(_A.shortName=Q[_A.name])),_A.type===B.extensionRequest){_A.extensions=[];for(var na=0;na<_A.value.length;++na)_A.extensions.push(p.certificateExtensionFromAsn1(_A.value[na]))}F.push(_A)}}return F};var w=function(U,F,W){var ae={};if(U!==B["RSASSA-PSS"])return ae;if(W&&(ae={hash:{algorithmOid:B.sha1},mgf:{algorithmOid:B.mgf1,hash:{algorithmOid:B.sha1}},saltLength:20}),W={},U=[],!C.validate(F,_,W,U))throw(F=Error("Cannot read RSASSA-PSS parameter block.")).errors=U,F;return W.hashOid!==void 0&&(ae.hash=ae.hash||{},ae.hash.algorithmOid=C.derToOid(W.hashOid)),W.maskGenOid!==void 0&&(ae.mgf=ae.mgf||{},ae.mgf.algorithmOid=C.derToOid(W.maskGenOid),ae.mgf.hash=ae.mgf.hash||{},ae.mgf.hash.algorithmOid=C.derToOid(W.maskGenHashOid)),W.saltLength!==void 0&&(ae.saltLength=W.saltLength.charCodeAt(0)),ae},O=function(U){switch(B[U.signatureOid]){case"sha1WithRSAEncryption":case"sha1WithRSASignature":return x.md.sha1.create();case"md5WithRSAEncryption":return x.md.md5.create();case"sha256WithRSAEncryption":return x.md.sha256.create();case"sha384WithRSAEncryption":return x.md.sha384.create();case"sha512WithRSAEncryption":return x.md.sha512.create();case"RSASSA-PSS":return x.md.sha256.create();default:var F=Error("Could not compute "+U.type+" digest. Unknown signature OID.");throw F.signatureOid=U.signatureOid,F}},P=function(U){var F=U.certificate;switch(F.signatureOid){case B["RSASSA-PSS"]:var W=B[F.signatureParameters.mgf.hash.algorithmOid];if(W===void 0||x.md[W]===void 0)throw(U=Error("Unsupported MGF hash function.")).oid=F.signatureParameters.mgf.hash.algorithmOid,U.name=W,U;var ae=B[F.signatureParameters.mgf.algorithmOid];if(ae===void 0||x.mgf[ae]===void 0)throw(U=Error("Unsupported MGF function.")).oid=F.signatureParameters.mgf.algorithmOid,U.name=ae,U;if(ae=x.mgf[ae].create(x.md[W].create()),(W=B[F.signatureParameters.hash.algorithmOid])===void 0||x.md[W]===void 0)throw(U=Error("Unsupported RSASSA-PSS hash function.")).oid=F.signatureParameters.hash.algorithmOid,U.name=W,U;W=x.pss.create(x.md[W].create(),ae,F.signatureParameters.saltLength)}return F.publicKey.verify(U.md.digest().getBytes(),U.signature,W)};p.certificateFromPem=function(U,F,W){if((U=x.pem.decode(U)[0]).type!=="CERTIFICATE"&&U.type!=="X509 CERTIFICATE"&&U.type!=="TRUSTED CERTIFICATE")throw(F=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".')).headerType=U.type,F;if(U.procType&&U.procType.type==="ENCRYPTED")throw Error("Could not convert certificate from PEM; PEM is encrypted.");return W=C.fromDer(U.body,W),p.certificateFromAsn1(W,F)},p.certificateToPem=function(U,F){return U={type:"CERTIFICATE",body:C.toDer(p.certificateToAsn1(U)).getBytes()},x.pem.encode(U,{maxline:F})},p.publicKeyFromPem=function(U){if((U=x.pem.decode(U)[0]).type!=="PUBLIC KEY"&&U.type!=="RSA PUBLIC KEY"){var F=Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw F.headerType=U.type,F}if(U.procType&&U.procType.type==="ENCRYPTED")throw Error("Could not convert public key from PEM; PEM is encrypted.");return U=C.fromDer(U.body),p.publicKeyFromAsn1(U)},p.publicKeyToPem=function(U,F){return U={type:"PUBLIC KEY",body:C.toDer(p.publicKeyToAsn1(U)).getBytes()},x.pem.encode(U,{maxline:F})},p.publicKeyToRSAPublicKeyPem=function(U,F){return U={type:"RSA PUBLIC KEY",body:C.toDer(p.publicKeyToRSAPublicKey(U)).getBytes()},x.pem.encode(U,{maxline:F})},p.getPublicKeyFingerprint=function(U,F){var W=(F=F||{}).md||x.md.sha1.create();switch(F.type||"RSAPublicKey"){case"RSAPublicKey":U=C.toDer(p.publicKeyToRSAPublicKey(U)).getBytes();break;case"SubjectPublicKeyInfo":U=C.toDer(p.publicKeyToAsn1(U)).getBytes();break;default:throw Error('Unknown fingerprint type "'+F.type+'".')}if(W.start(),W.update(U),W=W.digest(),F.encoding==="hex")return W=W.toHex(),F.delimiter?W.match(/.{2}/g).join(F.delimiter):W;if(F.encoding==="binary")return W.getBytes();if(F.encoding)throw Error('Unknown encoding "'+F.encoding+'".');return W},p.certificationRequestFromPem=function(U,F,W){if((U=x.pem.decode(U)[0]).type!=="CERTIFICATE REQUEST")throw(F=Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".')).headerType=U.type,F;if(U.procType&&U.procType.type==="ENCRYPTED")throw Error("Could not convert certification request from PEM; PEM is encrypted.");return W=C.fromDer(U.body,W),p.certificationRequestFromAsn1(W,F)},p.certificationRequestToPem=function(U,F){return U={type:"CERTIFICATE REQUEST",body:C.toDer(p.certificationRequestToAsn1(U)).getBytes()},x.pem.encode(U,{maxline:F})},p.createCertificate=function(){var U={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return U.siginfo.algorithmOid=null,U.validity={},U.validity.notBefore=new Date,U.validity.notAfter=new Date,U.issuer={},U.issuer.getField=function(F){return e(U.issuer,F)},U.issuer.addField=function(F){i([F]),U.issuer.attributes.push(F)},U.issuer.attributes=[],U.issuer.hash=null,U.subject={},U.subject.getField=function(F){return e(U.subject,F)},U.subject.addField=function(F){i([F]),U.subject.attributes.push(F)},U.subject.attributes=[],U.subject.hash=null,U.extensions=[],U.publicKey=null,U.md=null,U.setSubject=function(F,W){i(F),U.subject.attributes=F,delete U.subject.uniqueId,W&&(U.subject.uniqueId=W),U.subject.hash=null},U.setIssuer=function(F,W){i(F),U.issuer.attributes=F,delete U.issuer.uniqueId,W&&(U.issuer.uniqueId=W),U.issuer.hash=null},U.setExtensions=function(F){for(var W=0;W<F.length;++W)s(F[W],{cert:U});U.extensions=F},U.getExtension=function(F){typeof F=="string"&&(F={name:F});for(var W,ae=null,_r=0;ae===null&&_r<U.extensions.length;++_r)W=U.extensions[_r],(F.id&&W.id===F.id||F.name&&W.name===F.name)&&(ae=W);return ae},U.sign=function(F,W){if(U.md=W||x.md.sha1.create(),!(W=B[U.md.algorithm+"WithRSAEncryption"]))throw(F=Error("Could not compute certificate digest. Unknown message digest algorithm OID.")).algorithm=U.md.algorithm,F;U.signatureOid=U.siginfo.algorithmOid=W,U.tbsCertificate=p.getTBSCertificate(U),W=C.toDer(U.tbsCertificate),U.md.update(W.getBytes()),U.signature=F.sign(U.md)},U.verify=function(F){var W=!1;if(!U.issued(F))throw F=F.issuer,(W=Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=U.subject.attributes,W.actualIssuer=F.attributes,W;var ae=F.md;if(ae===null){ae=O({signatureOid:F.signatureOid,type:"certificate"});var _r=F.tbsCertificate||p.getTBSCertificate(F);_r=C.toDer(_r),ae.update(_r.getBytes())}return ae!==null&&(W=P({certificate:U,md:ae,signature:F.signature})),W},U.isIssuer=function(F){var W=!1,ae=U.issuer;if(F=F.subject,ae.hash&&F.hash)W=ae.hash===F.hash;else if(ae.attributes.length===F.attributes.length){W=!0;for(var _r,_t,_A=0;W&&_A<ae.attributes.length;++_A)_r=ae.attributes[_A],_t=F.attributes[_A],(_r.type!==_t.type||_r.value!==_t.value)&&(W=!1)}return W},U.issued=function(F){return F.isIssuer(U)},U.generateSubjectKeyIdentifier=function(){return p.getPublicKeyFingerprint(U.publicKey,{type:"RSAPublicKey"})},U.verifySubjectKeyIdentifier=function(){for(var F=B.subjectKeyIdentifier,W=0;W<U.extensions.length;++W){var ae=U.extensions[W];if(ae.id===F)return F=U.generateSubjectKeyIdentifier().getBytes(),x.util.hexToBytes(ae.subjectKeyIdentifier)===F}return!1},U},p.certificateFromAsn1=function(U,F){var W={},ae=[];if(!C.validate(U,y,W,ae))throw(W=Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=ae,W;if(C.derToOid(W.publicKeyOid)!==p.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var _r=p.createCertificate();if(_r.version=W.certVersion?W.certVersion.charCodeAt(0):0,ae=x.util.createBuffer(W.certSerialNumber),_r.serialNumber=ae.toHex(),_r.signatureOid=x.asn1.derToOid(W.certSignatureOid),_r.signatureParameters=w(_r.signatureOid,W.certSignatureParams,!0),_r.siginfo.algorithmOid=x.asn1.derToOid(W.certinfoSignatureOid),_r.siginfo.parameters=w(_r.siginfo.algorithmOid,W.certinfoSignatureParams,!1),_r.signature=W.certSignature,ae=[],W.certValidity1UTCTime!==void 0&&ae.push(C.utcTimeToDate(W.certValidity1UTCTime)),W.certValidity2GeneralizedTime!==void 0&&ae.push(C.generalizedTimeToDate(W.certValidity2GeneralizedTime)),W.certValidity3UTCTime!==void 0&&ae.push(C.utcTimeToDate(W.certValidity3UTCTime)),W.certValidity4GeneralizedTime!==void 0&&ae.push(C.generalizedTimeToDate(W.certValidity4GeneralizedTime)),2<ae.length)throw Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(2>ae.length)throw Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");return _r.validity.notBefore=ae[0],_r.validity.notAfter=ae[1],_r.tbsCertificate=W.tbsCertificate,F&&(_r.md=O({signatureOid:_r.signatureOid,type:"certificate"}),F=C.toDer(_r.tbsCertificate),_r.md.update(F.getBytes())),F=x.md.sha1.create(),ae=C.toDer(W.certIssuer),F.update(ae.getBytes()),_r.issuer.getField=function(_t){return e(_r.issuer,_t)},_r.issuer.addField=function(_t){i([_t]),_r.issuer.attributes.push(_t)},_r.issuer.attributes=p.RDNAttributesAsArray(W.certIssuer),W.certIssuerUniqueId&&(_r.issuer.uniqueId=W.certIssuerUniqueId),_r.issuer.hash=F.digest().toHex(),F=x.md.sha1.create(),ae=C.toDer(W.certSubject),F.update(ae.getBytes()),_r.subject.getField=function(_t){return e(_r.subject,_t)},_r.subject.addField=function(_t){i([_t]),_r.subject.attributes.push(_t)},_r.subject.attributes=p.RDNAttributesAsArray(W.certSubject),W.certSubjectUniqueId&&(_r.subject.uniqueId=W.certSubjectUniqueId),_r.subject.hash=F.digest().toHex(),_r.extensions=W.certExtensions?p.certificateExtensionsFromAsn1(W.certExtensions):[],_r.publicKey=p.publicKeyFromAsn1(W.subjectPublicKeyInfo),_r},p.certificateExtensionsFromAsn1=function(U){for(var F=[],W=0;W<U.value.length;++W)for(var ae=U.value[W],_r=0;_r<ae.value.length;++_r)F.push(p.certificateExtensionFromAsn1(ae.value[_r]));return F},p.certificateExtensionFromAsn1=function(U){var F={};if(F.id=C.derToOid(U.value[0].value),F.critical=!1,U.value[1].type===C.Type.BOOLEAN?(F.critical=U.value[1].value.charCodeAt(0)!==0,F.value=U.value[2].value):F.value=U.value[1].value,F.id in B)if(F.name=B[F.id],F.name==="keyUsage"){var W=0,ae=0;1<(U=C.fromDer(F.value)).value.length&&(W=U.value.charCodeAt(1),ae=2<U.value.length?U.value.charCodeAt(2):0),F.digitalSignature=(128&W)==128,F.nonRepudiation=(64&W)==64,F.keyEncipherment=(32&W)==32,F.dataEncipherment=(16&W)==16,F.keyAgreement=(8&W)==8,F.keyCertSign=(4&W)==4,F.cRLSign=(2&W)==2,F.encipherOnly=(1&W)==1,F.decipherOnly=(128&ae)==128}else if(F.name==="basicConstraints")U=C.fromDer(F.value),F.cA=0<U.value.length&&U.value[0].type===C.Type.BOOLEAN&&U.value[0].value.charCodeAt(0)!==0,W=null,0<U.value.length&&U.value[0].type===C.Type.INTEGER?W=U.value[0].value:1<U.value.length&&(W=U.value[1].value),W!==null&&(F.pathLenConstraint=C.derToInteger(W));else if(F.name==="extKeyUsage")for(U=C.fromDer(F.value),W=0;W<U.value.length;++W)(ae=C.derToOid(U.value[W].value))in B?F[B[ae]]=!0:F[ae]=!0;else if(F.name==="nsCertType")W=0,1<(U=C.fromDer(F.value)).value.length&&(W=U.value.charCodeAt(1)),F.client=(128&W)==128,F.server=(64&W)==64,F.email=(32&W)==32,F.objsign=(16&W)==16,F.reserved=(8&W)==8,F.sslCA=(4&W)==4,F.emailCA=(2&W)==2,F.objCA=(1&W)==1;else if(F.name==="subjectAltName"||F.name==="issuerAltName")for(F.altNames=[],U=C.fromDer(F.value),ae=0;ae<U.value.length;++ae){var _r={type:(W=U.value[ae]).type,value:W.value};switch(F.altNames.push(_r),W.type){case 7:_r.ip=x.util.bytesToIP(W.value);break;case 8:_r.oid=C.derToOid(W.value)}}else F.name==="subjectKeyIdentifier"&&(U=C.fromDer(F.value),F.subjectKeyIdentifier=x.util.bytesToHex(U.value));return F},p.certificationRequestFromAsn1=function(U,F){var W={},ae=[];if(!C.validate(U,S,W,ae))throw(W=Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=ae,W;if(C.derToOid(W.publicKeyOid)!==p.oids.rsaEncryption)throw Error("Cannot read public key. OID is not RSA.");var _r=p.createCertificationRequest();return _r.version=W.csrVersion?W.csrVersion.charCodeAt(0):0,_r.signatureOid=x.asn1.derToOid(W.csrSignatureOid),_r.signatureParameters=w(_r.signatureOid,W.csrSignatureParams,!0),_r.siginfo.algorithmOid=x.asn1.derToOid(W.csrSignatureOid),_r.siginfo.parameters=w(_r.siginfo.algorithmOid,W.csrSignatureParams,!1),_r.signature=W.csrSignature,_r.certificationRequestInfo=W.certificationRequestInfo,F&&(_r.md=O({signatureOid:_r.signatureOid,type:"certification request"}),ae=C.toDer(_r.certificationRequestInfo),_r.md.update(ae.getBytes())),ae=x.md.sha1.create(),_r.subject.getField=function(_t){return e(_r.subject,_t)},_r.subject.addField=function(_t){i([_t]),_r.subject.attributes.push(_t)},_r.subject.attributes=p.RDNAttributesAsArray(W.certificationRequestInfoSubject,ae),_r.subject.hash=ae.digest().toHex(),_r.publicKey=p.publicKeyFromAsn1(W.subjectPublicKeyInfo),_r.getAttribute=function(_t){return e(_r,_t)},_r.addAttribute=function(_t){i([_t]),_r.attributes.push(_t)},_r.attributes=p.CRIAttributesAsArray(W.certificationRequestInfoAttributes||[]),_r},p.createCertificationRequest=function(){var U={version:0,signatureOid:null,signature:null,siginfo:{}};return U.siginfo.algorithmOid=null,U.subject={},U.subject.getField=function(F){return e(U.subject,F)},U.subject.addField=function(F){i([F]),U.subject.attributes.push(F)},U.subject.attributes=[],U.subject.hash=null,U.publicKey=null,U.attributes=[],U.getAttribute=function(F){return e(U,F)},U.addAttribute=function(F){i([F]),U.attributes.push(F)},U.md=null,U.setSubject=function(F){i(F),U.subject.attributes=F,U.subject.hash=null},U.setAttributes=function(F){i(F),U.attributes=F},U.sign=function(F,W){if(U.md=W||x.md.sha1.create(),!(W=B[U.md.algorithm+"WithRSAEncryption"]))throw(F=Error("Could not compute certification request digest. Unknown message digest algorithm OID.")).algorithm=U.md.algorithm,F;U.signatureOid=U.siginfo.algorithmOid=W,U.certificationRequestInfo=p.getCertificationRequestInfo(U),W=C.toDer(U.certificationRequestInfo),U.md.update(W.getBytes()),U.signature=F.sign(U.md)},U.verify=function(){var F=!1,W=U.md;if(W===null){W=O({signatureOid:U.signatureOid,type:"certification request"});var ae=U.certificationRequestInfo||p.getCertificationRequestInfo(U);ae=C.toDer(ae),W.update(ae.getBytes())}return W!==null&&(F=P({certificate:U,md:W,signature:U.signature})),F},U};var K=new Date("1950-01-01T00:00:00Z"),M=new Date("2050-01-01T00:00:00Z");p.getTBSCertificate=function(U){var F=l(U.validity.notBefore),W=l(U.validity.notAfter);return F=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(U.version).getBytes())]),C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,x.util.hexToBytes(U.serialNumber)),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(U.siginfo.algorithmOid).getBytes()),g(U.siginfo.algorithmOid,U.siginfo.parameters)]),n(U.issuer),C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[F,W]),n(U.subject),p.publicKeyToAsn1(U.publicKey)]),U.issuer.uniqueId&&F.value.push(C.create(C.Class.CONTEXT_SPECIFIC,1,!0,[C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,"\0"+U.issuer.uniqueId)])),U.subject.uniqueId&&F.value.push(C.create(C.Class.CONTEXT_SPECIFIC,2,!0,[C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,"\0"+U.subject.uniqueId)])),0<U.extensions.length&&F.value.push(p.certificateExtensionsToAsn1(U.extensions)),F},p.getCertificationRequestInfo=function(U){var F=C,W=F.create,ae=C.Class.UNIVERSAL,_r=C.Type.SEQUENCE,_t=C.create(C.Class.UNIVERSAL,C.Type.INTEGER,!1,C.integerToDer(U.version).getBytes()),_A=n(U.subject),na=p.publicKeyToAsn1(U.publicKey),oa=C.create(C.Class.CONTEXT_SPECIFIC,0,!0,[]);if(U.attributes.length!==0){U=U.attributes;for(var ha=0;ha<U.length;++ha){var fa=U[ha],Da=fa.value,ga=C.Type.UTF8;"valueTagClass"in fa&&(ga=fa.valueTagClass),ga===C.Type.UTF8&&(Da=x.util.encodeUtf8(Da));var ma=!1;"valueConstructed"in fa&&(ma=fa.valueConstructed),fa=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(fa.type).getBytes()),C.create(C.Class.UNIVERSAL,C.Type.SET,!0,[C.create(C.Class.UNIVERSAL,ga,ma,Da)])]),oa.value.push(fa)}}return W.call(F,ae,_r,!0,[_t,_A,na,oa])},p.distinguishedNameToAsn1=function(U){return n(U)},p.certificateToAsn1=function(U){var F=U.tbsCertificate||p.getTBSCertificate(U);return C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[F,C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(U.signatureOid).getBytes()),g(U.signatureOid,U.signatureParameters)]),C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,"\0"+U.signature)])},p.certificateExtensionsToAsn1=function(U){var F=C.create(C.Class.CONTEXT_SPECIFIC,3,!0,[]),W=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);F.value.push(W);for(var ae=0;ae<U.length;++ae)W.value.push(p.certificateExtensionToAsn1(U[ae]));return F},p.certificateExtensionToAsn1=function(U){var F=C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[]);F.value.push(C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(U.id).getBytes())),U.critical&&F.value.push(C.create(C.Class.UNIVERSAL,C.Type.BOOLEAN,!1,""));var W=U.value;return typeof U.value!="string"&&(W=C.toDer(W).getBytes()),F.value.push(C.create(C.Class.UNIVERSAL,C.Type.OCTETSTRING,!1,W)),F},p.certificationRequestToAsn1=function(U){var F=U.certificationRequestInfo||p.getCertificationRequestInfo(U);return C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[F,C.create(C.Class.UNIVERSAL,C.Type.SEQUENCE,!0,[C.create(C.Class.UNIVERSAL,C.Type.OID,!1,C.oidToDer(U.signatureOid).getBytes()),g(U.signatureOid,U.signatureParameters)]),C.create(C.Class.UNIVERSAL,C.Type.BITSTRING,!1,"\0"+U.signature)])},p.createCaStore=function(U){function F(_t){return W(_t),ae.certs[_t.hash]||null}function W(_t){if(!_t.hash){var _A=x.md.sha1.create();_t.attributes=p.RDNAttributesAsArray(n(_t),_A),_t.hash=_A.digest().toHex()}}var ae={certs:{},getIssuer:function(_t){return F(_t.issuer)},addCertificate:function(_t){if(typeof _t=="string"&&(_t=x.pki.certificateFromPem(_t)),W(_t.subject),!ae.hasCertificate(_t))if(_t.subject.hash in ae.certs){var _A=ae.certs[_t.subject.hash];x.util.isArray(_A)||(_A=[_A]),_A.push(_t),ae.certs[_t.subject.hash]=_A}else ae.certs[_t.subject.hash]=_t},hasCertificate:function(_t){typeof _t=="string"&&(_t=x.pki.certificateFromPem(_t));var _A=F(_t.subject);if(!_A)return!1;x.util.isArray(_A)||(_A=[_A]),_t=C.toDer(p.certificateToAsn1(_t)).getBytes();for(var na=0;na<_A.length;++na)if(_t===C.toDer(p.certificateToAsn1(_A[na])).getBytes())return!0;return!1},listAllCertificates:function(){var _t,_A=[];for(_t in ae.certs)if(ae.certs.hasOwnProperty(_t)){var na=ae.certs[_t];if(x.util.isArray(na))for(var oa=0;oa<na.length;++oa)_A.push(na[oa]);else _A.push(na)}return _A},removeCertificate:function(_t){if(typeof _t=="string"&&(_t=x.pki.certificateFromPem(_t)),W(_t.subject),!ae.hasCertificate(_t))return null;var _A=F(_t.subject);if(!x.util.isArray(_A)){var na=ae.certs[_t.subject.hash];return delete ae.certs[_t.subject.hash],na}for(var oa=C.toDer(p.certificateToAsn1(_t)).getBytes(),ha=0;ha<_A.length;++ha)oa===C.toDer(p.certificateToAsn1(_A[ha])).getBytes()&&(na=_A[ha],_A.splice(ha,1));return _A.length===0&&delete ae.certs[_t.subject.hash],na}};if(U)for(var _r=0;_r<U.length;++_r)ae.addCertificate(U[_r]);return ae},p.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},p.verifyCertificateChain=function(U,F,W){typeof W=="function"&&(W={verify:W}),W=W||{};var ae=(F=F.slice(0)).slice(0),_r=W.validityCheckDate;_r===void 0&&(_r=new Date);var _t=!0,_A=null,na=0;do{var oa=F.shift(),ha=null,fa=!1;if(_r&&(_r<oa.validity.notBefore||_r>oa.validity.notAfter)&&(_A={message:"Certificate is not valid yet or has expired.",error:p.certificateError.certificate_expired,notBefore:oa.validity.notBefore,notAfter:oa.validity.notAfter,now:_r}),_A===null){if((ha=F[0]||U.getIssuer(oa))===null&&oa.isIssuer(oa)&&(fa=!0,ha=oa),ha){var Da=ha;x.util.isArray(Da)||(Da=[Da]);for(var ga=!1;!ga&&0<Da.length;){ha=Da.shift();try{ga=ha.verify(oa)}catch{}}ga||(_A={message:"Certificate signature is invalid.",error:p.certificateError.bad_certificate})}_A!==null||ha&&!fa||U.hasCertificate(oa)||(_A={message:"Certificate is not trusted.",error:p.certificateError.unknown_ca})}if(_A===null&&ha&&!oa.isIssuer(ha)&&(_A={message:"Certificate issuer is invalid.",error:p.certificateError.bad_certificate}),_A===null)for(Da={keyUsage:!0,basicConstraints:!0},ga=0;_A===null&&ga<oa.extensions.length;++ga){var ma=oa.extensions[ga];!ma.critical||ma.name in Da||(_A={message:"Certificate has an unsupported critical extension.",error:p.certificateError.unsupported_certificate})}if(_A!==null||_t&&(F.length!==0||ha&&!fa)||(_t=oa.getExtension("basicConstraints"),(oa=oa.getExtension("keyUsage"))!==null&&(oa.keyCertSign&&_t!==null||(_A={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:p.certificateError.bad_certificate})),_A!==null||_t===null||_t.cA||(_A={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:p.certificateError.bad_certificate}),_A===null&&oa!==null&&"pathLenConstraint"in _t&&na-1>_t.pathLenConstraint&&(_A={message:"Certificate basicConstraints pathLenConstraint violated.",error:p.certificateError.bad_certificate})),oa=_A===null||_A.error,(_t=W.verify?W.verify(oa,na,ae):oa)!==!0)throw oa===!0&&(_A={message:"The application rejected the certificate.",error:p.certificateError.bad_certificate}),(_t||_t===0)&&(Ia(_t)!=="object"||x.util.isArray(_t)?typeof _t=="string"&&(_A.error=_t):(_t.message&&(_A.message=_t.message),_t.error&&(_A.error=_t.error))),_A;_A=null,_t=!1,++na}while(0<F.length);return!0}}),Ua(function(t){function e(S,w,O,P){for(var K=[],M=0;M<S.length;M++)for(var U=0;U<S[M].safeBags.length;U++){var F=S[M].safeBags[U];P!==void 0&&F.type!==P||(w===null||F.attributes[w]!==void 0&&0<=F.attributes[w].indexOf(O))&&K.push(F)}return K}function n(S){if(S.composed||S.constructed){for(var w=x.util.createBuffer(),O=0;O<S.value.length;++O)w.putBytes(S.value[O].value);S.composed=S.constructed=!1,S.value=w.getBytes()}return S}function i(S,w,O){if(!w&&S.length===0)return[];if((S=g.fromDer(S,w)).tagClass!==g.Class.UNIVERSAL||S.type!==g.Type.SEQUENCE||S.constructed!==!0)throw Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var P=[],K=0;K<S.value.length;K++){var M={},U=[];if(!g.validate(S.value[K],Q,M,U))throw(S=Error("Cannot read SafeBag.")).errors=U,S;var F={type:g.derToOid(M.bagId),attributes:s(M.bagAttributes)};P.push(F);var W=M.bagValue.value[0];switch(F.type){case l.oids.pkcs8ShroudedKeyBag:if((W=l.decryptPrivateKeyInfo(W,O))===null)throw Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case l.oids.keyBag:try{F.key=l.privateKeyFromAsn1(W)}catch{F.key=null,F.asn1=W}continue;case l.oids.certBag:var ae=_,_r=function(){if(g.derToOid(M.certId)!==l.oids.x509Certificate){var _t=Error("Unsupported certificate type, only X.509 supported.");throw _t.oid=g.derToOid(M.certId),_t}_t=g.fromDer(M.cert,w);try{F.cert=l.certificateFromAsn1(_t,!0)}catch{F.cert=null,F.asn1=_t}};break;default:throw(S=Error("Unsupported PKCS#12 SafeBag type.")).oid=F.type,S}if(ae!==void 0&&!g.validate(W,ae,M,U))throw(S=Error("Cannot read PKCS#12 "+ae.name)).errors=U,S;_r()}return P}function s(S){var w={};if(S!==void 0)for(var O=0;O<S.length;++O){var P={},K=[];if(!g.validate(S[O],y,P,K))throw(S=Error("Cannot read PKCS#12 BagAttribute.")).errors=K,S;if(K=g.derToOid(P.oid),l.oids[K]!==void 0){w[l.oids[K]]=[];for(var M=0;M<P.values.length;++M)w[l.oids[K]].push(P.values[M].value)}}return w}var g=x.asn1,l=x.pki,C=t.exports=x.pkcs12=x.pkcs12||{},p={name:"ContentInfo",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:g.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},B={name:"PFX",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,capture:"version"},p,{name:"PFX.macData",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:g.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:g.Class.UNIVERSAL,type:g.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:g.Class.UNIVERSAL,type:g.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},Q={name:"SafeBag",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:g.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:g.Class.UNIVERSAL,type:g.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},y={name:"Attribute",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:g.Class.UNIVERSAL,type:g.Type.SET,constructed:!0,capture:"values"}]},_={name:"CertBag",tagClass:g.Class.UNIVERSAL,type:g.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:g.Class.UNIVERSAL,type:g.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:g.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:g.Class.UNIVERSAL,type:g.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};C.pkcs12FromAsn1=function(S,w,O){typeof w=="string"?(O=w,w=!0):w===void 0&&(w=!0);var P={};if(!g.validate(S,B,P,[]))throw(w=Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=w,w;var K={version:P.version.charCodeAt(0),safeContents:[],getBags:function(ae){var _r,_t={};return"localKeyId"in ae?_r=ae.localKeyId:"localKeyIdHex"in ae&&(_r=x.util.hexToBytes(ae.localKeyIdHex)),_r===void 0&&!("friendlyName"in ae)&&"bagType"in ae&&(_t[ae.bagType]=e(K.safeContents,null,null,ae.bagType)),_r!==void 0&&(_t.localKeyId=e(K.safeContents,"localKeyId",_r,ae.bagType)),"friendlyName"in ae&&(_t.friendlyName=e(K.safeContents,"friendlyName",ae.friendlyName,ae.bagType)),_t},getBagsByFriendlyName:function(ae,_r){return e(K.safeContents,"friendlyName",ae,_r)},getBagsByLocalKeyId:function(ae,_r){return e(K.safeContents,"localKeyId",ae,_r)}};if(P.version.charCodeAt(0)!==3)throw(w=Error("PKCS#12 PFX of version other than 3 not supported.")).version=P.version.charCodeAt(0),w;if(g.derToOid(P.contentType)!==l.oids.data)throw(w=Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=g.derToOid(P.contentType),w;if((S=P.content.value[0]).tagClass!==g.Class.UNIVERSAL||S.type!==g.Type.OCTETSTRING)throw Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(S=n(S),P.mac){var M=null,U=0,F=g.derToOid(P.macAlgorithm);switch(F){case l.oids.sha1:M=x.md.sha1.create(),U=20;break;case l.oids.sha256:M=x.md.sha256.create(),U=32;break;case l.oids.sha384:M=x.md.sha384.create(),U=48;break;case l.oids.sha512:M=x.md.sha512.create(),U=64;break;case l.oids.md5:M=x.md.md5.create(),U=16}if(M===null)throw Error("PKCS#12 uses unsupported MAC algorithm: "+F);F=new x.util.ByteBuffer(P.macSalt);var W="macIterations"in P?parseInt(x.util.bytesToHex(P.macIterations),16):1;if(U=C.generateKey(O,F,3,W,U,M),(F=x.hmac.create()).start(M,U),F.update(S.value),F.getMac().getBytes()!==P.macDigest)throw Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(ae,_r,_t,_A){if((_r=g.fromDer(_r,_t)).tagClass!==g.Class.UNIVERSAL||_r.type!==g.Type.SEQUENCE||_r.constructed!==!0)throw Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var na=0;na<_r.value.length;na++){var oa={},ha=[];if(!g.validate(_r.value[na],p,oa,ha))throw(ae=Error("Cannot read ContentInfo.")).errors=ha,ae;ha={encrypted:!1};var fa=oa.content.value[0];switch(g.derToOid(oa.contentType)){case l.oids.data:if(fa.tagClass!==g.Class.UNIVERSAL||fa.type!==g.Type.OCTETSTRING)throw Error("PKCS#12 SafeContents Data is not an OCTET STRING.");oa=n(fa).value;break;case l.oids.encryptedData:var Da=_A;oa={};var ga=[];if(!g.validate(fa,x.pkcs7.asn1.encryptedDataValidator,oa,ga))throw(ae=Error("Cannot read EncryptedContentInfo.")).errors=ga,ae;if((fa=g.derToOid(oa.contentType))!==l.oids.data)throw(ae=Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=fa,ae;if(fa=g.derToOid(oa.encAlgorithm),fa=l.pbe.getCipher(fa,oa.encParameter,Da),oa=n(oa.encryptedContentAsn1),oa=x.util.createBuffer(oa.value),fa.update(oa),!fa.finish())throw Error("Failed to decrypt PKCS#12 SafeContents.");oa=fa.output.getBytes(),ha.encrypted=!0;break;default:throw(ae=Error("Unsupported PKCS#12 contentType.")).contentType=g.derToOid(oa.contentType),ae}ha.safeBags=i(oa,_t,_A),ae.safeContents.push(ha)}}(K,S.value,w,O),K},C.toPkcs12Asn1=function(S,w,O,P){(P=P||{}).saltSize=P.saltSize||8,P.count=P.count||2048,P.algorithm=P.algorithm||P.encAlgorithm||"aes128","useMac"in P||(P.useMac=!0),"localKeyId"in P||(P.localKeyId=null),"generateLocalKeyId"in P||(P.generateLocalKeyId=!0);var K,M=P.localKeyId;if(M!==null)M=x.util.hexToBytes(M);else if(P.generateLocalKeyId)if(w){var U=x.util.isArray(w)?w[0]:w;typeof U=="string"&&(U=l.certificateFromPem(U)),(M=x.md.sha1.create()).update(g.toDer(l.certificateToAsn1(U)).getBytes()),M=M.digest().getBytes()}else M=x.random.getBytes(20);U=[],M!==null&&U.push(g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.localKeyId).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SET,!0,[g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,M)])])),"friendlyName"in P&&U.push(g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.friendlyName).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SET,!0,[g.create(g.Class.UNIVERSAL,g.Type.BMPSTRING,!1,P.friendlyName)])])),0<U.length&&(K=g.create(g.Class.UNIVERSAL,g.Type.SET,!0,U)),M=[],U=[],w!==null&&(U=x.util.isArray(w)?w:[w]);for(var F=[],W=0;W<U.length;++W){typeof(w=U[W])=="string"&&(w=l.certificateFromPem(w));var ae=W===0?K:void 0;w=l.certificateToAsn1(w),w=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.certBag).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.x509Certificate).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(w).getBytes())])])]),ae]),F.push(w)}if(0<F.length&&(w=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,F),w=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.data).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(w).getBytes())])]),M.push(w)),S!==null&&(S=l.wrapRsaPrivateKey(l.privateKeyToAsn1(S)),S=O===null?g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.keyBag).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[S]),K]):g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.pkcs8ShroudedKeyBag).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[l.encryptPrivateKeyInfo(S,O,P)]),K]),S=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[S]),S=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.data).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(S).getBytes())])]),M.push(S)),K=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,M),P.useMac){M=x.md.sha1.create();var _r=new x.util.ByteBuffer(x.random.getBytes(P.saltSize));P=P.count,S=C.generateKey(O,_r,3,P,20),(O=x.hmac.create()).start(M,S),O.update(g.toDer(K).getBytes()),O=O.getMac(),_r=g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.sha1).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.NULL,!1,"")]),g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,O.getBytes())]),g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,_r.getBytes()),g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(P).getBytes())])}return g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.INTEGER,!1,g.integerToDer(3).getBytes()),g.create(g.Class.UNIVERSAL,g.Type.SEQUENCE,!0,[g.create(g.Class.UNIVERSAL,g.Type.OID,!1,g.oidToDer(l.oids.data).getBytes()),g.create(g.Class.CONTEXT_SPECIFIC,0,!0,[g.create(g.Class.UNIVERSAL,g.Type.OCTETSTRING,!1,g.toDer(K).getBytes())])]),_r])},C.generateKey=x.pbe.generatePkcs12Key}),Ua(function(t){var e=x.asn1,n=t.exports=x.pki=x.pki||{};n.pemToDer=function(i){if((i=x.pem.decode(i)[0]).procType&&i.procType.type==="ENCRYPTED")throw Error("Could not convert PEM to DER; PEM is encrypted.");return x.util.createBuffer(i.body)},n.privateKeyFromPem=function(i){if((i=x.pem.decode(i)[0]).type!=="PRIVATE KEY"&&i.type!=="RSA PRIVATE KEY"){var s=Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw s.headerType=i.type,s}if(i.procType&&i.procType.type==="ENCRYPTED")throw Error("Could not convert private key from PEM; PEM is encrypted.");return i=e.fromDer(i.body),n.privateKeyFromAsn1(i)},n.privateKeyToPem=function(i,s){return i={type:"RSA PRIVATE KEY",body:e.toDer(n.privateKeyToAsn1(i)).getBytes()},x.pem.encode(i,{maxline:s})},n.privateKeyInfoToPem=function(i,s){return i={type:"PRIVATE KEY",body:e.toDer(i).getBytes()},x.pem.encode(i,{maxline:s})}});var Ri=function(t,e,n,i){var s=x.util.createBuffer(),g=t.length>>1,l=g+(1&t.length),C=t.substr(0,l);l=t.substr(g,l),t=x.util.createBuffer(),g=x.hmac.create(),n=e+n;var p=Math.ceil(i/16);e=Math.ceil(i/20),g.start("MD5",C),C=x.util.createBuffer(),t.putBytes(n);for(var B=0;B<p;++B)g.start(null,null),g.update(t.getBytes()),t.putBuffer(g.digest()),g.start(null,null),g.update(t.bytes()+n),C.putBuffer(g.digest());for(g.start("SHA1",l),l=x.util.createBuffer(),t.clear(),t.putBytes(n),B=0;B<e;++B)g.start(null,null),g.update(t.getBytes()),t.putBuffer(g.digest()),g.start(null,null),g.update(t.bytes()+n),l.putBuffer(g.digest());return s.putBytes(x.util.xorBytes(C.getBytes(),l.getBytes(),i)),s},xG=function(t,e,n){n=!1;try{var i=t.deflate(e.fragment.getBytes());e.fragment=x.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},yG=function(t,e,n){n=!1;try{var i=t.inflate(e.fragment.getBytes());e.fragment=x.util.createBuffer(i),e.length=i.length,n=!0}catch{}return n},rd=function(t,e){var n=0;switch(e){case 1:n=t.getByte();break;case 2:n=t.getInt16();break;case 3:n=t.getInt24();break;case 4:n=t.getInt32()}return x.util.createBuffer(t.getBytes(n))},Jd=function(t,e,n){t.putInt(n.length(),e<<3),t.putBuffer(n)},I={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};I.SupportedVersions=[I.Versions.TLS_1_1,I.Versions.TLS_1_0],I.Version=I.SupportedVersions[0],I.MaxFragment=15360,I.ConnectionEnd={server:0,client:1},I.PRFAlgorithm={tls_prf_sha256:0},I.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},I.CipherType={stream:0,block:1,aead:2},I.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},I.CompressionMethod={none:0,deflate:1},I.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},I.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},I.Alert={},I.Alert.Level={warning:1,fatal:2},I.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},I.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},I.CipherSuites={},I.getCipherSuite=function(t){var e,n=null;for(e in I.CipherSuites){var i=I.CipherSuites[e];if(i.id[0]===t.charCodeAt(0)&&i.id[1]===t.charCodeAt(1)){n=i;break}}return n},I.handleUnexpected=function(t,e){(t.open||t.entity!==I.ConnectionEnd.client)&&t.error(t,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unexpected_message}})},I.handleHelloRequest=function(t,e,n){!t.handshaking&&0<t.handshakes&&(I.queue(t,I.createAlert(t,{level:I.Alert.Level.warning,description:I.Alert.Description.no_renegotiation})),I.flush(t)),t.process()},I.parseHelloMessage=function(t,e,n){var i=null,s=t.entity===I.ConnectionEnd.client;if(38>n)t.error(t,{message:s?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});else{var g=(e=e.fragment).length();if(i={version:{major:e.getByte(),minor:e.getByte()},random:x.util.createBuffer(e.getBytes(32)),session_id:rd(e,1),extensions:[]},s?(i.cipher_suite=e.getBytes(2),i.compression_method=e.getByte()):(i.cipher_suites=rd(e,2),i.compression_methods=rd(e,1)),0<(g=n-(g-e.length()))){for(n=rd(e,2);0<n.length();)i.extensions.push({type:[n.getByte(),n.getByte()],data:rd(n,2)});if(!s){for(n=0;n<i.extensions.length;++n)if((e=i.extensions[n]).type[0]===0&&e.type[1]===0)for(e=rd(e.data,2);0<e.length()&&e.getByte()===0;)t.session.extensions.server_name.serverNameList.push(rd(e,2).getBytes())}}if(t.session.version&&(i.version.major!==t.session.version.major||i.version.minor!==t.session.version.minor))return t.error(t,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}});if(s)t.session.cipherSuite=I.getCipherSuite(i.cipher_suite);else for(n=x.util.createBuffer(i.cipher_suites.bytes());0<n.length()&&(t.session.cipherSuite=I.getCipherSuite(n.getBytes(2)),t.session.cipherSuite===null););if(t.session.cipherSuite===null)return t.error(t,{message:"No cipher suites in common.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.handshake_failure},cipherSuite:x.util.bytesToHex(i.cipher_suite)});t.session.compressionMethod=s?i.compression_method:I.CompressionMethod.none}return i},I.createSecurityParameters=function(t,e){var n=t.entity===I.ConnectionEnd.client,i=e.random.bytes();e=n?t.session.sp.client_random:i,n=n?i:I.createRandom().getBytes(),t.session.sp={entity:t.entity,prf_algorithm:I.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:t.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:e,server_random:n}},I.handleServerHello=function(t,e,n){if(e=I.parseHelloMessage(t,e,n),!t.fail){if(!(e.version.minor<=t.version.minor))return t.error(t,{message:"Incompatible TLS version.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}});t.version.minor=e.version.minor,t.session.version=t.version,0<(n=e.session_id.bytes()).length&&n===t.session.id?(t.expect=lw,t.session.resuming=!0,t.session.sp.server_random=e.random.bytes()):(t.expect=zG,t.session.resuming=!1,I.createSecurityParameters(t,e)),t.session.id=n,t.process()}},I.handleClientHello=function(t,e,n){if(e=I.parseHelloMessage(t,e,n),!t.fail){var i=e.session_id.bytes();if(n=null,t.sessionCache&&((n=t.sessionCache.getSession(i))===null?i="":(n.version.major!==e.version.major||n.version.minor>e.version.minor)&&(n=null,i="")),i.length===0&&(i=x.random.getBytes(32)),t.session.id=i,t.session.clientHelloVersion=e.version,t.session.sp={},n)t.version=t.session.version=n.version,t.session.sp=n.sp;else{for(i=1;i<I.SupportedVersions.length;++i){var s=I.SupportedVersions[i];if(s.minor<=e.version.minor)break}t.version={major:s.major,minor:s.minor},t.session.version=t.version}n!==null?(t.expect=So,t.session.resuming=!0,t.session.sp.client_random=e.random.bytes()):(t.expect=t.verifyClient!==!1?AG:To,t.session.resuming=!1,I.createSecurityParameters(t,e)),t.open=!0,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerHello(t)})),t.session.resuming?(I.queue(t,I.createRecord(t,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),t.state.pending=I.createConnectionState(t),t.state.current.write=t.state.pending.write,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createFinished(t)}))):(I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificate(t)})),t.fail||(I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerKeyExchange(t)})),t.verifyClient!==!1&&I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificateRequest(t)})),I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createServerHelloDone(t)})))),I.flush(t),t.process()}},I.handleCertificate=function(t,e,n){if(3>n)return t.error(t,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});n=rd(e.fragment,3),e=[];try{for(;0<n.length();){var i=rd(n,3),s=x.asn1.fromDer(i);i=x.pki.certificateFromAsn1(s,!0),e.push(i)}}catch(g){return t.error(t,{message:"Could not parse certificate list.",cause:g,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate}})}!(i=t.entity===I.ConnectionEnd.client)&&t.verifyClient!==!0||e.length!==0?e.length===0?t.expect=i?mw:To:(i?t.session.serverCertificate=e[0]:t.session.clientCertificate=e[0],I.verifyCertificateChain(t,e)&&(t.expect=i?mw:To)):t.error(t,{message:i?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}}),t.process()},I.handleServerKeyExchange=function(t,e,n){if(0<n)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unsupported_certificate}});t.expect=BG,t.process()},I.handleClientKeyExchange=function(t,e,n){if(48>n)return t.error(t,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unsupported_certificate}});if(e=rd(e.fragment,2).getBytes(),n=null,t.getPrivateKey)try{n=t.getPrivateKey(t,t.session.serverCertificate),n=x.pki.privateKeyFromPem(n)}catch(g){t.error(t,{message:"Could not get private key.",cause:g,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}})}if(n===null)return t.error(t,{message:"No private key set.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}});try{var i=t.session.sp;i.pre_master_secret=n.decrypt(e);var s=t.session.clientHelloVersion;if(s.major!==i.pre_master_secret.charCodeAt(0)||s.minor!==i.pre_master_secret.charCodeAt(1))throw Error("TLS version rollback attack detected.")}catch{i.pre_master_secret=x.random.getBytes(48)}t.expect=So,t.session.clientCertificate!==null&&(t.expect=CG),t.process()},I.handleCertificateRequest=function(t,e,n){if(3>n)return t.error(t,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});e=e.fragment,e={certificate_types:rd(e,1),certificate_authorities:rd(e,2)},t.session.certificateRequest=e,t.expect=DG,t.process()},I.handleCertificateVerify=function(t,e,n){if(2>n)return t.error(t,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});(n=e.fragment).read-=4,e=n.bytes(),n.read+=4,n=rd(n,2).getBytes();var i=x.util.createBuffer();i.putBuffer(t.session.md5.digest()),i.putBuffer(t.session.sha1.digest()),i=i.getBytes();try{if(!t.session.clientCertificate.publicKey.verify(i,n,"NONE"))throw Error("CertificateVerify signature does not match.");t.session.md5.update(e),t.session.sha1.update(e)}catch{return t.error(t,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.handshake_failure}})}t.expect=So,t.process()},I.handleServerHelloDone=function(t,e,n){return 0<n?t.error(t,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.record_overflow}}):t.serverCertificate===null&&(e={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.insufficient_security}},(n=t.verify(t,e.alert.description,0,[]))!==!0)?((n||n===0)&&(Ia(n)!=="object"||x.util.isArray(n)?typeof n=="number"&&(e.alert.description=n):(n.message&&(e.message=n.message),n.alert&&(e.alert.description=n.alert))),t.error(t,e)):(t.session.certificateRequest!==null&&(e=I.createRecord(t,{type:I.ContentType.handshake,data:I.createCertificate(t)}),I.queue(t,e)),e=I.createRecord(t,{type:I.ContentType.handshake,data:I.createClientKeyExchange(t)}),I.queue(t,e),t.expect=EG,e=function(i,s){i.session.certificateRequest!==null&&i.session.clientCertificate!==null&&I.queue(i,I.createRecord(i,{type:I.ContentType.handshake,data:I.createCertificateVerify(i,s)})),I.queue(i,I.createRecord(i,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),i.state.pending=I.createConnectionState(i),i.state.current.write=i.state.pending.write,I.queue(i,I.createRecord(i,{type:I.ContentType.handshake,data:I.createFinished(i)})),i.expect=lw,I.flush(i),i.process()},t.session.certificateRequest===null||t.session.clientCertificate===null?e(t,null):void I.getClientSignature(t,e))},I.handleChangeCipherSpec=function(t,e){if(e.fragment.getByte()!==1)return t.error(t,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.illegal_parameter}});e=t.entity===I.ConnectionEnd.client,(t.session.resuming&&e||!t.session.resuming&&!e)&&(t.state.pending=I.createConnectionState(t)),t.state.current.read=t.state.pending.read,(!t.session.resuming&&e||t.session.resuming&&!e)&&(t.state.pending=null),t.expect=e?FG:GG,t.process()},I.handleFinished=function(t,e,n){(n=e.fragment).read-=4;var i=n.bytes();n.read+=4,e=e.fragment.getBytes(),(n=x.util.createBuffer()).putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest());var s=t.entity===I.ConnectionEnd.client;if((n=Ri(t.session.sp.master_secret,s?"server finished":"client finished",n.getBytes(),12)).getBytes()!==e)return t.error(t,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.decrypt_error}});t.session.md5.update(i),t.session.sha1.update(i),(t.session.resuming&&s||!t.session.resuming&&!s)&&(I.queue(t,I.createRecord(t,{type:I.ContentType.change_cipher_spec,data:I.createChangeCipherSpec()})),t.state.current.write=t.state.pending.write,t.state.pending=null,I.queue(t,I.createRecord(t,{type:I.ContentType.handshake,data:I.createFinished(t)}))),t.expect=s?HG:IG,t.handshaking=!1,++t.handshakes,t.peerCertificate=s?t.session.serverCertificate:t.session.clientCertificate,I.flush(t),t.isConnected=!0,t.connected(t),t.process()},I.handleAlert=function(t,e){switch((e={level:(e=e.fragment).getByte(),description:e.getByte()}).description){case I.Alert.Description.close_notify:var n="Connection closed.";break;case I.Alert.Description.unexpected_message:n="Unexpected message.";break;case I.Alert.Description.bad_record_mac:n="Bad record MAC.";break;case I.Alert.Description.decryption_failed:n="Decryption failed.";break;case I.Alert.Description.record_overflow:n="Record overflow.";break;case I.Alert.Description.decompression_failure:n="Decompression failed.";break;case I.Alert.Description.handshake_failure:n="Handshake failure.";break;case I.Alert.Description.bad_certificate:n="Bad certificate.";break;case I.Alert.Description.unsupported_certificate:n="Unsupported certificate.";break;case I.Alert.Description.certificate_revoked:n="Certificate revoked.";break;case I.Alert.Description.certificate_expired:n="Certificate expired.";break;case I.Alert.Description.certificate_unknown:n="Certificate unknown.";break;case I.Alert.Description.illegal_parameter:n="Illegal parameter.";break;case I.Alert.Description.unknown_ca:n="Unknown certificate authority.";break;case I.Alert.Description.access_denied:n="Access denied.";break;case I.Alert.Description.decode_error:n="Decode error.";break;case I.Alert.Description.decrypt_error:n="Decrypt error.";break;case I.Alert.Description.export_restriction:n="Export restriction.";break;case I.Alert.Description.protocol_version:n="Unsupported protocol version.";break;case I.Alert.Description.insufficient_security:n="Insufficient security.";break;case I.Alert.Description.internal_error:n="Internal error.";break;case I.Alert.Description.user_canceled:n="User canceled.";break;case I.Alert.Description.no_renegotiation:n="Renegotiation not supported.";break;default:n="Unknown error."}if(e.description===I.Alert.Description.close_notify)return t.close();t.error(t,{message:n,send:!1,origin:t.entity===I.ConnectionEnd.client?"server":"client",alert:e}),t.process()},I.handleHandshake=function(t,e){var n=e.fragment,i=n.getByte(),s=n.getInt24();if(s>n.length())return t.fragmented=e,e.fragment=x.util.createBuffer(),n.read-=4,t.process();t.fragmented=null,n.read-=4;var g=n.bytes(s+4);n.read+=4,i in Jk[t.entity][t.expect]?(t.entity!==I.ConnectionEnd.server||t.open||t.fail||(t.handshaking=!0,t.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:x.md.md5.create(),sha1:x.md.sha1.create()}),i!==I.HandshakeType.hello_request&&i!==I.HandshakeType.certificate_verify&&i!==I.HandshakeType.finished&&(t.session.md5.update(g),t.session.sha1.update(g)),Jk[t.entity][t.expect][i](t,e,s)):I.handleUnexpected(t,e)},I.handleApplicationData=function(t,e){t.data.putBuffer(e.fragment),t.dataReady(t),t.process()},I.handleHeartbeat=function(t,e){var n=e.fragment;e=n.getByte();var i=n.getInt16();if(n=n.getBytes(i),e===I.HeartbeatMessageType.heartbeat_request){if(t.handshaking||i>n.length)return t.process();I.queue(t,I.createRecord(t,{type:I.ContentType.heartbeat,data:I.createHeartbeat(I.HeartbeatMessageType.heartbeat_response,n)})),I.flush(t)}else if(e===I.HeartbeatMessageType.heartbeat_response){if(n!==t.expectedHeartbeatPayload)return t.process();t.heartbeatReceived&&t.heartbeatReceived(t,x.util.createBuffer(n))}t.process()};var zG=1,mw=2,BG=3,DG=4,lw=5,FG=6,HG=7,EG=8,AG=1,To=2,CG=3,So=4,GG=5,IG=6,H=I.handleUnexpected,nw=I.handleChangeCipherSpec,Fc=I.handleAlert,Sc=I.handleHandshake,ow=I.handleApplicationData,Gc=I.handleHeartbeat,Uo=[];Uo[I.ConnectionEnd.client]=[[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[nw,Fc,H,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,ow,Gc],[H,Fc,Sc,H,Gc]],Uo[I.ConnectionEnd.server]=[[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,H,Gc],[nw,Fc,H,H,Gc],[H,Fc,Sc,H,Gc],[H,Fc,Sc,ow,Gc],[H,Fc,Sc,H,Gc]];var qf=I.handleHelloRequest,pw=I.handleCertificate,qw=I.handleServerKeyExchange,Vo=I.handleCertificateRequest,Kk=I.handleServerHelloDone,rw=I.handleFinished,Jk=[];Jk[I.ConnectionEnd.client]=[[H,H,I.handleServerHello,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,pw,qw,Vo,Kk,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,qw,Vo,Kk,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,H,Vo,Kk,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,H,H,Kk,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,rw],[qf,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[qf,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]],Jk[I.ConnectionEnd.server]=[[H,I.handleClientHello,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,pw,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,I.handleClientKeyExchange,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,I.handleCertificateVerify,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,rw],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H],[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H]],I.generateKeys=function(t,e){var n=e.client_random+e.server_random;t.session.resuming||(e.master_secret=Ri(e.pre_master_secret,"master secret",n,48).bytes(),e.pre_master_secret=null),n=e.server_random+e.client_random;var i=2*e.mac_key_length+2*e.enc_key_length;return(t=t.version.major===I.Versions.TLS_1_0.major&&t.version.minor===I.Versions.TLS_1_0.minor)&&(i+=2*e.fixed_iv_length),i={client_write_MAC_key:(n=Ri(e.master_secret,"key expansion",n,i)).getBytes(e.mac_key_length),server_write_MAC_key:n.getBytes(e.mac_key_length),client_write_key:n.getBytes(e.enc_key_length),server_write_key:n.getBytes(e.enc_key_length)},t&&(i.client_write_IV=n.getBytes(e.fixed_iv_length),i.server_write_IV=n.getBytes(e.fixed_iv_length)),i},I.createConnectionState=function(t){var e=t.entity===I.ConnectionEnd.client,n=function(){var s={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(g){return!0},compressionState:null,compressFunction:function(g){return!0},updateSequenceNumber:function(){s.sequenceNumber[1]===4294967295?(s.sequenceNumber[1]=0,++s.sequenceNumber[0]):++s.sequenceNumber[1]}};return s},i={read:n(),write:n()};if(i.read.update=function(s,g){return i.read.cipherFunction(g,i.read)?i.read.compressFunction(s,g,i.read)||s.error(s,{message:"Could not decompress record.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.decompression_failure}}):s.error(s,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_record_mac}}),!s.fail},i.write.update=function(s,g){return i.write.compressFunction(s,g,i.write)?i.write.cipherFunction(g,i.write)||s.error(s,{message:"Could not encrypt record.",send:!1,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}):s.error(s,{message:"Could not compress record.",send:!1,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}),!s.fail},t.session)switch(n=t.session.sp,t.session.cipherSuite.initSecurityParameters(n),n.keys=I.generateKeys(t,n),i.read.macKey=e?n.keys.server_write_MAC_key:n.keys.client_write_MAC_key,i.write.macKey=e?n.keys.client_write_MAC_key:n.keys.server_write_MAC_key,t.session.cipherSuite.initConnectionState(i,t,n),n.compression_algorithm){case I.CompressionMethod.none:break;case I.CompressionMethod.deflate:i.read.compressFunction=yG,i.write.compressFunction=xG;break;default:throw Error("Unsupported compression algorithm.")}return i},I.createRandom=function(){var t=new Date;t=+t+6e4*t.getTimezoneOffset();var e=x.util.createBuffer();return e.putInt32(t),e.putBytes(x.random.getBytes(28)),e},I.createRecord=function(t,e){return e.data?{type:e.type,version:{major:t.version.major,minor:t.version.minor},length:e.data.length(),fragment:e.data}:null},I.createAlert=function(t,e){var n=x.util.createBuffer();return n.putByte(e.level),n.putByte(e.description),I.createRecord(t,{type:I.ContentType.alert,data:n})},I.createClientHello=function(t){t.session.clientHelloVersion={major:t.version.major,minor:t.version.minor};for(var e=x.util.createBuffer(),n=0;n<t.cipherSuites.length;++n){var i=t.cipherSuites[n];e.putByte(i.id[0]),e.putByte(i.id[1])}var s=e.length();(n=x.util.createBuffer()).putByte(I.CompressionMethod.none);var g=n.length();if(i=x.util.createBuffer(),t.virtualHost){var l=x.util.createBuffer();l.putByte(0),l.putByte(0);var C=x.util.createBuffer();C.putByte(0),Jd(C,2,x.util.createBuffer(t.virtualHost));var p=x.util.createBuffer();Jd(p,2,C),Jd(l,2,p),i.putBuffer(l)}return 0<(l=i.length())&&(l+=2),s=(C=t.session.id).length+1+2+4+28+2+s+1+g+l,(g=x.util.createBuffer()).putByte(I.HandshakeType.client_hello),g.putInt24(s),g.putByte(t.version.major),g.putByte(t.version.minor),g.putBytes(t.session.sp.client_random),Jd(g,1,x.util.createBuffer(C)),Jd(g,2,e),Jd(g,1,n),0<l&&Jd(g,2,i),g},I.createServerHello=function(t){var e=t.session.id,n=e.length+1+2+4+28+2+1,i=x.util.createBuffer();return i.putByte(I.HandshakeType.server_hello),i.putInt24(n),i.putByte(t.version.major),i.putByte(t.version.minor),i.putBytes(t.session.sp.server_random),Jd(i,1,x.util.createBuffer(e)),i.putByte(t.session.cipherSuite.id[0]),i.putByte(t.session.cipherSuite.id[1]),i.putByte(t.session.compressionMethod),i},I.createCertificate=function(t){var e=t.entity===I.ConnectionEnd.client,n=null;t.getCertificate&&(n=t.getCertificate(t,e?t.session.certificateRequest:t.session.extensions.server_name.serverNameList));var i=x.util.createBuffer();if(n!==null)try{x.util.isArray(n)||(n=[n]);for(var s=null,g=0;g<n.length;++g){var l=x.pem.decode(n[g])[0];if(l.type!=="CERTIFICATE"&&l.type!=="X509 CERTIFICATE"&&l.type!=="TRUSTED CERTIFICATE"){var C=Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw C.headerType=l.type,C}if(l.procType&&l.procType.type==="ENCRYPTED")throw Error("Could not convert certificate from PEM; PEM is encrypted.");var p=x.util.createBuffer(l.body);s===null&&(s=x.asn1.fromDer(p.bytes(),!1));var B=x.util.createBuffer();Jd(B,3,p),i.putBuffer(B)}n=x.pki.certificateFromAsn1(s),e?t.session.clientCertificate=n:t.session.serverCertificate=n}catch(Q){return t.error(t,{message:"Could not send certificate list.",cause:Q,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate}})}return t=3+i.length(),(e=x.util.createBuffer()).putByte(I.HandshakeType.certificate),e.putInt24(t),Jd(e,3,i),e},I.createClientKeyExchange=function(t){var e=x.util.createBuffer();e.putByte(t.session.clientHelloVersion.major),e.putByte(t.session.clientHelloVersion.minor),e.putBytes(x.random.getBytes(46));var n=t.session.sp;return n.pre_master_secret=e.getBytes(),e=t.session.serverCertificate.publicKey.encrypt(n.pre_master_secret),t=e.length+2,(n=x.util.createBuffer()).putByte(I.HandshakeType.client_key_exchange),n.putInt24(t),n.putInt16(e.length),n.putBytes(e),n},I.createServerKeyExchange=function(t){return x.util.createBuffer()},I.getClientSignature=function(t,e){var n=x.util.createBuffer();n.putBuffer(t.session.md5.digest()),n.putBuffer(t.session.sha1.digest()),n=n.getBytes(),t.getSignature=t.getSignature||function(i,s,g){var l=null;if(i.getPrivateKey)try{l=i.getPrivateKey(i,i.session.clientCertificate),l=x.pki.privateKeyFromPem(l)}catch(C){i.error(i,{message:"Could not get private key.",cause:C,send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}})}l===null?i.error(i,{message:"No private key set.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.internal_error}}):s=l.sign(s,null),g(i,s)},t.getSignature(t,n,e)},I.createCertificateVerify=function(t,e){t=e.length+2;var n=x.util.createBuffer();return n.putByte(I.HandshakeType.certificate_verify),n.putInt24(t),n.putInt16(e.length),n.putBytes(e),n},I.createCertificateRequest=function(t){var e=x.util.createBuffer();e.putByte(1);var n=x.util.createBuffer();for(s in t.caStore.certs){var i=x.pki.distinguishedNameToAsn1(t.caStore.certs[s].subject);i=x.asn1.toDer(i),n.putInt16(i.length()),n.putBuffer(i)}t=1+e.length()+2+n.length();var s=x.util.createBuffer();return s.putByte(I.HandshakeType.certificate_request),s.putInt24(t),Jd(s,1,e),Jd(s,2,n),s},I.createServerHelloDone=function(t){return(t=x.util.createBuffer()).putByte(I.HandshakeType.server_hello_done),t.putInt24(0),t},I.createChangeCipherSpec=function(){var t=x.util.createBuffer();return t.putByte(1),t},I.createFinished=function(t){var e=x.util.createBuffer();return e.putBuffer(t.session.md5.digest()),e.putBuffer(t.session.sha1.digest()),e=Ri(t.session.sp.master_secret,t.entity===I.ConnectionEnd.client?"client finished":"server finished",e.getBytes(),12),(t=x.util.createBuffer()).putByte(I.HandshakeType.finished),t.putInt24(e.length()),t.putBuffer(e),t},I.createHeartbeat=function(t,e,n){n===void 0&&(n=e.length);var i=x.util.createBuffer();return i.putByte(t),i.putInt16(n),i.putBytes(e),t=i.length(),i.putBytes(x.random.getBytes(Math.max(16,t-n-3))),i},I.queue=function(t,e){if(e&&(e.fragment.length()!==0||e.type!==I.ContentType.handshake&&e.type!==I.ContentType.alert&&e.type!==I.ContentType.change_cipher_spec)){if(e.type===I.ContentType.handshake){var n=e.fragment.bytes();t.session.md5.update(n),t.session.sha1.update(n)}if(e.fragment.length()<=I.MaxFragment)n=[e];else{n=[];for(var i=e.fragment.bytes();i.length>I.MaxFragment;)n.push(I.createRecord(t,{type:e.type,data:x.util.createBuffer(i.slice(0,I.MaxFragment))})),i=i.slice(I.MaxFragment);0<i.length&&n.push(I.createRecord(t,{type:e.type,data:x.util.createBuffer(i)}))}for(e=0;e<n.length&&!t.fail;++e)i=n[e],t.state.current.write.update(t,i)&&t.records.push(i)}},I.flush=function(t){for(var e=0;e<t.records.length;++e){var n=t.records[e];t.tlsData.putByte(n.type),t.tlsData.putByte(n.version.major),t.tlsData.putByte(n.version.minor),t.tlsData.putInt16(n.fragment.length()),t.tlsData.putBuffer(t.records[e].fragment)}return t.records=[],t.tlsDataReady(t)};var Wo=function(t){switch(t){case!0:return!0;case x.pki.certificateError.bad_certificate:return I.Alert.Description.bad_certificate;case x.pki.certificateError.unsupported_certificate:return I.Alert.Description.unsupported_certificate;case x.pki.certificateError.certificate_revoked:return I.Alert.Description.certificate_revoked;case x.pki.certificateError.certificate_expired:return I.Alert.Description.certificate_expired;case x.pki.certificateError.certificate_unknown:return I.Alert.Description.certificate_unknown;case x.pki.certificateError.unknown_ca:return I.Alert.Description.unknown_ca;default:return I.Alert.Description.bad_certificate}},JG=function(t){switch(t){case!0:return!0;case I.Alert.Description.bad_certificate:return x.pki.certificateError.bad_certificate;case I.Alert.Description.unsupported_certificate:return x.pki.certificateError.unsupported_certificate;case I.Alert.Description.certificate_revoked:return x.pki.certificateError.certificate_revoked;case I.Alert.Description.certificate_expired:return x.pki.certificateError.certificate_expired;case I.Alert.Description.certificate_unknown:return x.pki.certificateError.certificate_unknown;case I.Alert.Description.unknown_ca:return x.pki.certificateError.unknown_ca;default:return x.pki.certificateError.bad_certificate}};for(var Xo in I.verifyCertificateChain=function(t,e){try{var n,i={};for(n in t.verifyOptions)i[n]=t.verifyOptions[n];i.verify=function(s,g,l){if(Wo(s),(g=t.verify(t,s,g,l))!==!0){if(Ia(g)==="object"&&!x.util.isArray(g))throw(s=Error("The application rejected the certificate.")).send=!0,s.alert={level:I.Alert.Level.fatal,description:I.Alert.Description.bad_certificate},g.message&&(s.message=g.message),g.alert&&(s.alert.description=g.alert),s;g!==s&&(g=JG(g))}return g},x.pki.verifyCertificateChain(t.caStore,e,i)}catch(s){(Ia(e=s)!=="object"||x.util.isArray(e))&&(e={send:!0,alert:{level:I.Alert.Level.fatal,description:Wo(s)}}),"send"in e||(e.send=!0),"alert"in e||(e.alert={level:I.Alert.Level.fatal,description:Wo(e.error)}),t.error(t,e)}return!t.fail},I.createSessionCache=function(t,e){var n=null;if(t&&t.getSession&&t.setSession&&t.order)n=t;else{for(var i in(n={}).cache=t||{},n.capacity=Math.max(e||100,1),n.order=[],t)n.order.length<=e?n.order.push(i):delete t[i];n.getSession=function(s){var g=null,l=null;if(s?l=x.util.bytesToHex(s):0<n.order.length&&(l=n.order[0]),l!==null&&l in n.cache){for(var C in g=n.cache[l],delete n.cache[l],n.order)if(n.order[C]===l){n.order.splice(C,1);break}}return g},n.setSession=function(s,g){if(n.order.length===n.capacity){var l=n.order.shift();delete n.cache[l]}l=x.util.bytesToHex(s),n.order.push(l),n.cache[l]=g}}return n},I.createConnection=function(t){var e;e=t.caStore?x.util.isArray(t.caStore)?x.pki.createCaStore(t.caStore):t.caStore:x.pki.createCaStore();var n=t.cipherSuites||null;if(n===null)for(var i in n=[],I.CipherSuites)n.push(I.CipherSuites[i]);i=t.server?I.ConnectionEnd.server:I.ConnectionEnd.client;var s=t.sessionCache?I.createSessionCache(t.sessionCache):null,g={version:{major:I.Version.major,minor:I.Version.minor},entity:i,sessionId:t.sessionId,caStore:e,sessionCache:s,cipherSuites:n,connected:t.connected,virtualHost:t.virtualHost||null,verifyClient:t.verifyClient||!1,verify:t.verify||function(l,C,p,B){return C},verifyOptions:t.verifyOptions||{},getCertificate:t.getCertificate||null,getPrivateKey:t.getPrivateKey||null,getSignature:t.getSignature||null,input:x.util.createBuffer(),tlsData:x.util.createBuffer(),data:x.util.createBuffer(),tlsDataReady:t.tlsDataReady,dataReady:t.dataReady,heartbeatReceived:t.heartbeatReceived,closed:t.closed,error:function(l,C){C.origin=C.origin||(l.entity===I.ConnectionEnd.client?"client":"server"),C.send&&(I.queue(l,I.createAlert(l,C.alert)),I.flush(l));var p=C.fatal!==!1;p&&(l.fail=!0),t.error(l,C),p&&l.close(!1)},deflate:t.deflate||null,inflate:t.inflate||null,reset:function(l){g.version={major:I.Version.major,minor:I.Version.minor},g.record=null,g.session=null,g.peerCertificate=null,g.state={pending:null,current:null},g.expect=0,g.fragmented=null,g.records=[],g.open=!1,g.handshakes=0,g.handshaking=!1,g.isConnected=!1,g.fail=!(l||l===void 0),g.input.clear(),g.tlsData.clear(),g.data.clear(),g.state.current=I.createConnectionState(g)}};return g.reset(),g.handshake=function(l){if(g.entity!==I.ConnectionEnd.client)g.error(g,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(g.handshaking)g.error(g,{message:"Handshake already in progress.",fatal:!1});else{g.fail&&!g.open&&g.handshakes===0&&(g.fail=!1),g.handshaking=!0;var C=null;0<(l=l||"").length&&(g.sessionCache&&(C=g.sessionCache.getSession(l)),C===null&&(l="")),l.length===0&&g.sessionCache&&(C=g.sessionCache.getSession())!==null&&(l=C.id),g.session={id:l,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:x.md.md5.create(),sha1:x.md.sha1.create()},C&&(g.version=C.version,g.session.sp=C.sp),g.session.sp.client_random=I.createRandom().getBytes(),g.open=!0,I.queue(g,I.createRecord(g,{type:I.ContentType.handshake,data:I.createClientHello(g)})),I.flush(g)}},g.process=function(l){var C=0;if(l&&g.input.putBytes(l),!g.fail){if(g.record!==null&&g.record.ready&&g.record.fragment.isEmpty()&&(g.record=null),g.record===null){C=0;var p=(l=g.input).length();5>p?C=5-p:(g.record={type:l.getByte(),version:{major:l.getByte(),minor:l.getByte()},length:l.getInt16(),fragment:x.util.createBuffer(),ready:!1},(l=g.record.version.major===g.version.major)&&g.session&&g.session.version&&(l=g.record.version.minor===g.version.minor),l||g.error(g,{message:"Incompatible TLS version.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.protocol_version}}))}if(!g.fail&&g.record!==null&&!g.record.ready){l=0;var B=(p=(C=g).input).length();B<C.record.length?l=C.record.length-B:(C.record.fragment.putBytes(p.getBytes(C.record.length)),p.compact(),C.state.current.read.update(C,C.record)&&(C.fragmented!==null&&(C.fragmented.type===C.record.type?(C.fragmented.fragment.putBuffer(C.record.fragment),C.record=C.fragmented):C.error(C,{message:"Invalid fragmented record.",send:!0,alert:{level:I.Alert.Level.fatal,description:I.Alert.Description.unexpected_message}})),C.record.ready=!0)),C=l}!g.fail&&g.record!==null&&g.record.ready&&((p=(l=g.record).type-I.ContentType.change_cipher_spec)in(B=Uo[g.entity][g.expect])?B[p](g,l):I.handleUnexpected(g,l))}return C},g.prepare=function(l){return I.queue(g,I.createRecord(g,{type:I.ContentType.application_data,data:x.util.createBuffer(l)})),I.flush(g)},g.prepareHeartbeatRequest=function(l,C){return l instanceof x.util.ByteBuffer&&(l=l.bytes()),C===void 0&&(C=l.length),g.expectedHeartbeatPayload=l,I.queue(g,I.createRecord(g,{type:I.ContentType.heartbeat,data:I.createHeartbeat(I.HeartbeatMessageType.heartbeat_request,l,C)})),I.flush(g)},g.close=function(l){if(!g.fail&&g.sessionCache&&g.session){var C={id:g.session.id,version:g.session.version,sp:g.session.sp};C.sp.keys=null,g.sessionCache.setSession(C.id,C)}g.open&&(g.open=!1,g.input.clear(),(g.isConnected||g.handshaking)&&(g.isConnected=g.handshaking=!1,I.queue(g,I.createAlert(g,{level:I.Alert.Level.warning,description:I.Alert.Description.close_notify})),I.flush(g)),g.closed(g)),g.reset(l)},g},x.tls=x.tls||{},I)typeof I[Xo]!="function"&&(x.tls[Xo]=I[Xo]);x.tls.prf_tls1=Ri,x.tls.hmac_sha1=function(t,e,n){var i=x.hmac.create();return i.start("SHA1",t),(t=x.util.createBuffer()).putInt32(e[0]),t.putInt32(e[1]),t.putByte(n.type),t.putByte(n.version.major),t.putByte(n.version.minor),t.putInt16(n.length),t.putBytes(n.fragment.bytes()),i.update(t.getBytes()),i.digest().getBytes()},x.tls.createSessionCache=I.createSessionCache,x.tls.createConnection=I.createConnection,Ua(function(t){function e(C,p,B){p=p.entity===x.tls.ConnectionEnd.client,C.read.cipherState={init:!1,cipher:x.cipher.createDecipher("AES-CBC",p?B.keys.server_write_key:B.keys.client_write_key),iv:p?B.keys.server_write_IV:B.keys.client_write_IV},C.write.cipherState={init:!1,cipher:x.cipher.createCipher("AES-CBC",p?B.keys.client_write_key:B.keys.server_write_key),iv:p?B.keys.client_write_IV:B.keys.server_write_IV},C.read.cipherFunction=g,C.write.cipherFunction=n,C.read.macLength=C.write.macLength=B.mac_length,C.read.macFunction=C.write.macFunction=l.hmac_sha1}function n(C,p){var B=!1,Q=p.macFunction(p.macKey,p.sequenceNumber,C);return C.fragment.putBytes(Q),p.updateSequenceNumber(),Q=C.version.minor===l.Versions.TLS_1_0.minor?p.cipherState.init?null:p.cipherState.iv:x.random.getBytesSync(16),p.cipherState.init=!0,(p=p.cipherState.cipher).start({iv:Q}),C.version.minor>=l.Versions.TLS_1_1.minor&&p.output.putBytes(Q),p.update(C.fragment),p.finish(i)&&(C.fragment=p.output,C.length=C.fragment.length(),B=!0),B}function i(C,p,B){return B||(C-=p.length()%C,p.fillWithByte(C-1,C)),!0}function s(C,p,B){if(C=!0,B){B=p.length();for(var Q=p.last(),y=B-1-Q;y<B-1;++y)C=C&&p.at(y)==Q;C&&p.truncate(Q+1)}return C}function g(C,p){var B=C.version.minor===l.Versions.TLS_1_0.minor?p.cipherState.init?null:p.cipherState.iv:C.fragment.getBytes(16);p.cipherState.init=!0;var Q=p.cipherState.cipher;Q.start({iv:B}),Q.update(C.fragment),B=Q.finish(s);var y=p.macLength,_=x.random.getBytesSync(y),S=Q.output.length();return S>=y?(C.fragment=Q.output.getBytes(S-y),_=Q.output.getBytes(y)):C.fragment=Q.output.getBytes(),C.fragment=x.util.createBuffer(C.fragment),C.length=C.fragment.length(),C=p.macFunction(p.macKey,p.sequenceNumber,C),p.updateSequenceNumber(),p=p.macKey,(Q=x.hmac.create()).start("SHA1",p),Q.update(_),_=Q.digest().getBytes(),Q.start(null,null),Q.update(C),_===(C=Q.digest().getBytes())&&B}var l=t.exports=x.tls;l.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(C){C.bulk_cipher_algorithm=l.BulkCipherAlgorithm.aes,C.cipher_type=l.CipherType.block,C.enc_key_length=16,C.block_length=16,C.fixed_iv_length=16,C.record_iv_length=16,C.mac_algorithm=l.MACAlgorithm.hmac_sha1,C.mac_length=20,C.mac_key_length=20},initConnectionState:e},l.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(C){C.bulk_cipher_algorithm=l.BulkCipherAlgorithm.aes,C.cipher_type=l.CipherType.block,C.enc_key_length=32,C.block_length=16,C.fixed_iv_length=16,C.record_iv_length=16,C.mac_algorithm=l.MACAlgorithm.hmac_sha1,C.mac_length=20,C.mac_key_length=20},initConnectionState:e}}),mf("Float64",function(t){return function(e,n,i){return t(this,e,n,i)}}),Ua(function(t){function e(C,p,B){for(var Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a=B.length();128<=$a;){for(Ra=0;16>Ra;++Ra)p[Ra][0]=B.getInt32()>>>0,p[Ra][1]=B.getInt32()>>>0;for(;80>Ra;++Ra)Q=(((K=(w=p[Ra-2])[0])>>>19|(w=w[1])<<13)^(w>>>29|K<<3)^K>>>6)>>>0,y=((K<<13|w>>>19)^(w<<3|K>>>29)^(K<<26|w>>>6))>>>0,_=(((K=(w=p[Ra-15])[0])>>>1|(w=w[1])<<31)^(K>>>8|w<<24)^K>>>7)>>>0,S=((K<<31|w>>>1)^(K<<24|w>>>8)^(K<<25|w>>>7))>>>0,K=p[Ra-7],M=p[Ra-16],w=y+K[1]+S+M[1],p[Ra][0]=Q+K[0]+_+M[0]+(w/4294967296>>>0)>>>0,p[Ra][1]=w>>>0;for(K=C[0][0],M=C[0][1],U=C[1][0],F=C[1][1],W=C[2][0],ae=C[2][1],_r=C[3][0],_t=C[3][1],_A=C[4][0],na=C[4][1],oa=C[5][0],ha=C[5][1],fa=C[6][0],Da=C[6][1],ga=C[7][0],ma=C[7][1],Ra=0;80>Ra;++Ra)Q=((_A>>>14|na<<18)^(_A>>>18|na<<14)^(na>>>9|_A<<23))>>>0,y=(fa^_A&(oa^fa))>>>0,_=((K>>>28|M<<4)^(M>>>2|K<<30)^(M>>>7|K<<25))>>>0,S=((K<<4|M>>>28)^(M<<30|K>>>2)^(M<<25|K>>>7))>>>0,O=(K&U|W&(K^U))>>>0,P=(M&F|ae&(M^F))>>>0,w=ma+(w=((_A<<18|na>>>14)^(_A<<14|na>>>18)^(na<<23|_A>>>9))>>>0)+((Da^na&(ha^Da))>>>0)+g[Ra][1]+p[Ra][1],Q=ga+Q+y+g[Ra][0]+p[Ra][0]+(w/4294967296>>>0)>>>0,y=w>>>0,_=_+O+((w=S+P)/4294967296>>>0)>>>0,S=w>>>0,ga=fa,ma=Da,fa=oa,Da=ha,oa=_A,ha=na,_A=_r+Q+((w=_t+y)/4294967296>>>0)>>>0,na=w>>>0,_r=W,_t=ae,W=U,ae=F,U=K,F=M,K=Q+_+((w=y+S)/4294967296>>>0)>>>0,M=w>>>0;w=C[0][1]+M,C[0][0]=C[0][0]+K+(w/4294967296>>>0)>>>0,C[0][1]=w>>>0,w=C[1][1]+F,C[1][0]=C[1][0]+U+(w/4294967296>>>0)>>>0,C[1][1]=w>>>0,w=C[2][1]+ae,C[2][0]=C[2][0]+W+(w/4294967296>>>0)>>>0,C[2][1]=w>>>0,w=C[3][1]+_t,C[3][0]=C[3][0]+_r+(w/4294967296>>>0)>>>0,C[3][1]=w>>>0,w=C[4][1]+na,C[4][0]=C[4][0]+_A+(w/4294967296>>>0)>>>0,C[4][1]=w>>>0,w=C[5][1]+ha,C[5][0]=C[5][0]+oa+(w/4294967296>>>0)>>>0,C[5][1]=w>>>0,w=C[6][1]+Da,C[6][0]=C[6][0]+fa+(w/4294967296>>>0)>>>0,C[6][1]=w>>>0,w=C[7][1]+ma,C[7][0]=C[7][0]+ga+(w/4294967296>>>0)>>>0,C[7][1]=w>>>0,$a-=128}}var n=t.exports=x.sha512=x.sha512||{};x.md.sha512=x.md.algorithms.sha512=n,(t=x.sha384=x.sha512.sha384=x.sha512.sha384||{}).create=function(){return n.create("SHA-384")},x.md.sha384=x.md.algorithms.sha384=t,x.sha512.sha256=x.sha512.sha256||{create:function(){return n.create("SHA-512/256")}},x.md["sha512/256"]=x.md.algorithms["sha512/256"]=x.sha512.sha256,x.sha512.sha224=x.sha512.sha224||{create:function(){return n.create("SHA-512/224")}},x.md["sha512/224"]=x.md.algorithms["sha512/224"]=x.sha512.sha224,n.create=function(C){if(s||(i="",i+=x.util.fillString("\0",128),g=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],l={"SHA-512":[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],"SHA-384":[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],"SHA-512/256":[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],"SHA-512/224":[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]]},s=!0),C===void 0&&(C="SHA-512"),!(C in l))throw Error("Invalid SHA-512 algorithm: "+C);for(var p=l[C],B=null,Q=x.util.createBuffer(),y=Array(80),_=0;80>_;++_)y[_]=Array(2);switch(_=64,C){case"SHA-384":_=48;break;case"SHA-512/256":_=32;break;case"SHA-512/224":_=28}var S={algorithm:C.replace("-","").toLowerCase(),blockLength:128,digestLength:_,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){S.messageLength=0,S.fullMessageLength=S.messageLength128=[];for(var w=S.messageLengthSize/4,O=0;O<w;++O)S.fullMessageLength.push(0);for(Q=x.util.createBuffer(),B=Array(p.length),O=0;O<p.length;++O)B[O]=p[O].slice(0);return S}};return S.start(),S.update=function(w,O){O==="utf8"&&(w=x.util.encodeUtf8(w)),O=w.length,S.messageLength+=O,O=[O/4294967296>>>0,O>>>0];for(var P=S.fullMessageLength.length-1;0<=P;--P)S.fullMessageLength[P]+=O[1],O[1]=O[0]+(S.fullMessageLength[P]/4294967296>>>0),S.fullMessageLength[P]>>>=0,O[0]=O[1]/4294967296>>>0;return Q.putBytes(w),e(B,y,Q),(2048<Q.read||Q.length()===0)&&Q.compact(),S},S.digest=function(){var w=x.util.createBuffer();w.putBytes(Q.bytes()),w.putBytes(i.substr(0,S.blockLength-(S.fullMessageLength[S.fullMessageLength.length-1]+S.messageLengthSize&S.blockLength-1)));for(var O,P,K=8*S.fullMessageLength[0],M=0;M<S.fullMessageLength.length-1;++M)K+=P=(O=8*S.fullMessageLength[M+1])/4294967296>>>0,w.putInt32(K>>>0),K=O>>>0;for(w.putInt32(K),O=Array(B.length),M=0;M<B.length;++M)O[M]=B[M].slice(0);for(e(O,y,w),w=x.util.createBuffer(),P=C==="SHA-512"?O.length:C==="SHA-384"?O.length-2:O.length-4,M=0;M<P;++M)w.putInt32(O[M][0]),M===P-1&&C==="SHA-512/224"||w.putInt32(O[M][1]);return w},S};var i=null,s=!1,g=null,l=null});var Ac=x.asn1,KG={name:"SubjectPublicKeyInfo",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]},LG={name:"PrivateKeyInfo",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Ac.Class.UNIVERSAL,type:Ac.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]};if(MG===void 0)var MG=x.jsbn.BigInteger;var Jl=x.util.ByteBuffer,Yc=typeof Buffer>"u"?Uint8Array:Buffer;x.pki=x.pki||{},x.pki.ed25519=x.ed25519=x.ed25519||{};var mb=x.ed25519;mb.constants={},mb.constants.PUBLIC_KEY_BYTE_LENGTH=32,mb.constants.PRIVATE_KEY_BYTE_LENGTH=64,mb.constants.SEED_BYTE_LENGTH=32,mb.constants.SIGN_BYTE_LENGTH=64,mb.constants.HASH_BYTE_LENGTH=64,mb.generateKeyPair=function(t){var e=(t=t||{}).seed;if(e===void 0)e=x.random.getBytesSync(mb.constants.SEED_BYTE_LENGTH);else if(typeof e=="string"){if(e.length!==mb.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+mb.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(e instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');e=ve({message:e,encoding:"binary"}),t=new Yc(mb.constants.PUBLIC_KEY_BYTE_LENGTH);for(var n=new Yc(mb.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;32>i;++i)n[i]=e[i];for(e=[Ta(),Ta(),Ta(),Ta()],(i=Mh(n,32))[0]&=248,i[31]&=127,i[31]|=64,Rl(e,i),Nl(t,e),e=0;32>e;++e)n[e+32]=t[e];return{publicKey:t,privateKey:n}},mb.privateKeyFromAsn1=function(t){var e={},n=[];if(!x.asn1.validate(t,LG,e,n))throw(e=Error("Invalid Key.")).errors=n,e;if((n=x.asn1.derToOid(e.privateKeyOid))!==(t=x.oids.EdDSA25519))throw Error('Invalid OID "'+n+'"; OID must be "'+t+'".');return{privateKeyBytes:ve({message:x.asn1.fromDer(e.privateKey).value,encoding:"binary"})}},mb.publicKeyFromAsn1=function(t){var e={},n=[];if(!x.asn1.validate(t,KG,e,n))throw(e=Error("Invalid Key.")).errors=n,e;if((n=x.asn1.derToOid(e.publicKeyOid))!==(t=x.oids.EdDSA25519))throw Error('Invalid OID "'+n+'"; OID must be "'+t+'".');if((e=e.ed25519PublicKey).length!==mb.constants.PUBLIC_KEY_BYTE_LENGTH)throw Error("Key length is invalid.");return ve({message:e,encoding:"binary"})},mb.publicKeyFromPrivateKey=function(t){if((t=ve({message:(t=t||{}).privateKey,encoding:"binary"})).length!==mb.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+mb.constants.PRIVATE_KEY_BYTE_LENGTH);for(var e=new Yc(mb.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<e.length;++n)e[n]=t[32+n];return e},mb.sign=function(t){var e=ve(t=t||{}),n=ve({message:t.privateKey,encoding:"binary"});if(n.length===mb.constants.SEED_BYTE_LENGTH)n=mb.generateKeyPair({seed:n}).privateKey;else if(n.length!==mb.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+mb.constants.SEED_BYTE_LENGTH+" or "+mb.constants.PRIVATE_KEY_BYTE_LENGTH);t=new Yc(mb.constants.SIGN_BYTE_LENGTH+e.length);var i=e.length,s=n,g=new Float64Array(64),l=[Ta(),Ta(),Ta(),Ta()],C=Mh(s,32);for(C[0]&=248,C[31]&=127,C[31]|=64,n=0;n<i;++n)t[64+n]=e[n];for(n=0;32>n;++n)t[32+n]=C[32+n];for(Ll(e=Mh(t.subarray(32),i+32)),Rl(l,e),Nl(t,l),n=32;64>n;++n)t[n]=s[n];for(Ll(i=Mh(t,i+64)),n=32;64>n;++n)g[n]=0;for(n=0;32>n;++n)g[n]=e[n];for(n=0;32>n;++n)for(e=0;32>e;e++)g[n+e]+=i[n]*C[e];for(zq(t.subarray(32),g),n=new Yc(mb.constants.SIGN_BYTE_LENGTH),g=0;g<n.length;++g)n[g]=t[g];return n},mb.verify=function(t){var e=ve(t=t||{});if(t.signature===void 0)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var n=ve({message:t.signature,encoding:"binary"});if(n.length!==mb.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+mb.constants.SIGN_BYTE_LENGTH);var i=ve({message:t.publicKey,encoding:"binary"});if(i.length!==mb.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+mb.constants.PUBLIC_KEY_BYTE_LENGTH);t=new Yc(mb.constants.SIGN_BYTE_LENGTH+e.length);var s,g=new Yc(mb.constants.SIGN_BYTE_LENGTH+e.length);for(s=0;s<mb.constants.SIGN_BYTE_LENGTH;++s)t[s]=n[s];for(s=0;s<e.length;++s)t[s+mb.constants.SIGN_BYTE_LENGTH]=e[s];e=t.length,n=new Yc(32),s=[Ta(),Ta(),Ta(),Ta()];var l=[Ta(),Ta(),Ta(),Ta()];if(64>e)t=-1;else{var C=Ta(),p=Ta(),B=Ta(),Q=Ta(),y=Ta(),_=Ta(),S=Ta();Te(l[2],mj);var w,O=l[1];for(w=0;16>w;++w)O[w]=i[2*w]+(i[2*w+1]<<8);for(O[15]&=32767,wb(B,O=l[1],O),wb(Q,B,NG),yg(B,B,l[2]),zg(Q,l[2],Q),wb(y,Q,Q),wb(_,y,y),wb(S,_,y),wb(C,S,B),wb(C,C,Q),y=Ta(),_=0;16>_;++_)y[_]=C[_];for(_=250;0<=_;--_)wb(y,y,y),_!==1&&wb(y,y,C);for(_=0;16>_;++_)C[_]=y[_];if(wb(C,C,B),wb(C,C,Q),wb(C,C,Q),wb(l[0],C,Q),wb(p,C=l[0],C),wb(p,p,Q),Bq(p,B)&&wb(l[0],l[0],OG),wb(p,C=l[0],C),wb(p,p,Q),Bq(p,B)?p=-1:(Aq(l[0])===i[31]>>7&&yg(l[0],Ql,l[0]),wb(l[3],l[0],l[1]),p=0),p)t=-1;else{for(p=0;p<e;++p)g[p]=t[p];for(p=0;32>p;++p)g[p+32]=i[p];if(Ll(i=Mh(g,e)),Dq(s,l,i),Rl(l,t.subarray(32)),Ml(s,l),Nl(n,s),e-=64,Cq(t,0,n,0)){for(p=0;p<e;++p)g[p]=0;t=-1}else{for(p=0;p<e;++p)g[p]=t[p+64];t=e}}}return 0<=t};var Ql=Ta(),mj=Ta([1]),NG=Ta([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),fz=Ta([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),Eq=Ta([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Fq=Ta([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Kl=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),OG=Ta([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);x.kem=x.kem||{};var sw=x.jsbn.BigInteger;x.kem.rsa={},x.kem.rsa.create=function(t,e){var n=(e=e||{}).prng||x.random;return{encrypt:function(i,s){var g=Math.ceil(i.n.bitLength()/8);do var l=new sw(x.util.bytesToHex(n.getBytesSync(g)),16).mod(i.n);while(0>=l.compareTo(sw.ONE));return 0<(g-=(l=x.util.hexToBytes(l.toString(16))).length)&&(l=x.util.fillString("\0",g)+l),{encapsulation:i=i.encrypt(l,"NONE"),key:s=t.generate(l,s)}},decrypt:function(i,s,g){return i=i.decrypt(s,"NONE"),t.generate(i,g)}}},x.kem.kdf1=function(t,e){Gq(this,t,0,e||t.digestLength)},x.kem.kdf2=function(t,e){Gq(this,t,1,e||t.digestLength)},ob&&(/./g.flags!="g"||Vd)&&jc.f(RegExp.prototype,"flags",{configurable:!0,get:Uj}),x.log=x.log||{},x.log.levels="none error warning info debug verbose max".split(" ");var Lk={},Yo=[],Si=null;x.log.LEVEL_LOCKED=2,x.log.NO_LEVEL_CHECK=4,x.log.INTERPOLATE=8;for(var rf=0;rf<x.log.levels.length;++rf){var tw=x.log.levels[rf];Lk[tw]={index:rf,name:tw.toUpperCase()}}x.log.logMessage=function(t){for(var e=Lk[t.level].index,n=0;n<Yo.length;++n){var i=Yo[n];i.flags&x.log.NO_LEVEL_CHECK?i.f(t):e<=Lk[i.level].index&&i.f(i,t)}},x.log.prepareStandard=function(t){"standard"in t||(t.standard=Lk[t.level].name+" ["+t.category+"] "+t.message)},x.log.prepareFull=function(t){if(!("full"in t)){var e=[t.message];e=e.concat([]),t.full=x.util.format.apply(this,e)}},x.log.prepareStandardFull=function(t){"standardFull"in t||(x.log.prepareStandard(t),t.standardFull=t.standard)};var uw=["error","warning","info","debug","verbose"];for(rf=0;rf<uw.length;++rf)(function(t){x.log[t]=function(e,n){var i=Array.prototype.slice.call(arguments).slice(2);x.log.logMessage({timestamp:new Date,level:t,category:e,message:n,arguments:i})}})(uw[rf]);if(x.log.makeLogger=function(t){return t={flags:0,f:t},x.log.setLevel(t,"none"),t},x.log.setLevel=function(t,e){var n=!1;if(t&&!(t.flags&x.log.LEVEL_LOCKED)){for(var i=0;i<x.log.levels.length;++i)if(e==x.log.levels[i]){t.level=e,n=!0;break}}return n},x.log.lock=function(t,e){t.flags=e===void 0||e?t.flags|x.log.LEVEL_LOCKED:t.flags&~x.log.LEVEL_LOCKED},x.log.addLogger=function(t){Yo.push(t)},typeof console<"u"&&"log"in console){if(console.error&&console.warn&&console.info&&console.debug)var PG={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},vw=function(t,e){x.log.prepareStandard(e),t=PG[e.level];var n=[e.standard];n=n.concat(e.arguments.slice()),t.apply(console,n)};else vw=function(t,e){x.log.prepareStandardFull(e),console.log(e.standardFull)};var Zo=x.log.makeLogger(vw);x.log.setLevel(Zo,"debug"),x.log.addLogger(Zo),Si=Zo}else console={log:function(){}};if(Si!==null&&typeof window<"u"&&window.location){var Mk=new URL(window.location.href).searchParams;Mk.has("console.level")&&x.log.setLevel(Si,Mk.get("console.level").slice(-1)[0]),Mk.has("console.lock")&&Mk.get("console.lock").slice(-1)[0]=="true"&&x.log.lock(Si)}x.log.consoleLogger=Si,Ua(function(t){function e(l){if(l.type===x.pki.oids.contentType)var C=s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(l.value).getBytes());else if(l.type===x.pki.oids.messageDigest)C=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,l.value.bytes());else if(l.type===x.pki.oids.signingTime){C=new Date("1950-01-01T00:00:00Z");var p=new Date("2050-01-01T00:00:00Z"),B=l.value;if(typeof B=="string"){var Q=Date.parse(B);B=isNaN(Q)?B.length===13?s.utcTimeToDate(B):s.generalizedTimeToDate(B):new Date(Q)}C=B>=C&&B<p?s.create(s.Class.UNIVERSAL,s.Type.UTCTIME,!1,s.dateToUtcTime(B)):s.create(s.Class.UNIVERSAL,s.Type.GENERALIZEDTIME,!1,s.dateToGeneralizedTime(B))}return s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(l.type).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[C])])}function n(l,C,p){var B={};if(!s.validate(C,p,B,[]))throw(l=Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.")).errors=l,l;if(s.derToOid(B.contentType)!==x.pki.oids.data)throw Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(B.encryptedContent){if(C="",x.util.isArray(B.encryptedContent))for(p=0;p<B.encryptedContent.length;++p){if(B.encryptedContent[p].type!==s.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");C+=B.encryptedContent[p].value}else C=B.encryptedContent;l.encryptedContent={algorithm:s.derToOid(B.encAlgorithm),parameter:x.util.createBuffer(B.encParameter.value),content:x.util.createBuffer(C)}}if(B.content){if(C="",x.util.isArray(B.content))for(p=0;p<B.content.length;++p){if(B.content[p].type!==s.Type.OCTETSTRING)throw Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");C+=B.content[p].value}else C=B.content;l.content=x.util.createBuffer(C)}return l.version=B.version.charCodeAt(0),l.rawCapture=B}function i(l){if(l.encryptedContent.key===void 0)throw Error("Symmetric key not available.");if(l.content===void 0){switch(l.encryptedContent.algorithm){case x.pki.oids["aes128-CBC"]:case x.pki.oids["aes192-CBC"]:case x.pki.oids["aes256-CBC"]:var C=x.aes.createDecryptionCipher(l.encryptedContent.key);break;case x.pki.oids.desCBC:case x.pki.oids["des-EDE3-CBC"]:C=x.des.createDecryptionCipher(l.encryptedContent.key);break;default:throw Error("Unsupported symmetric cipher, OID "+l.encryptedContent.algorithm)}if(C.start(l.encryptedContent.parameter),C.update(l.encryptedContent.content),!C.finish())throw Error("Symmetric decryption failed.");l.content=C.output}}var s=x.asn1,g=t.exports=x.pkcs7=x.pkcs7||{};g.messageFromPem=function(l){if((l=x.pem.decode(l)[0]).type!=="PKCS7"){var C=Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw C.headerType=l.type,C}if(l.procType&&l.procType.type==="ENCRYPTED")throw Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");return l=s.fromDer(l.body),g.messageFromAsn1(l)},g.messageToPem=function(l,C){return l={type:"PKCS7",body:s.toDer(l.toAsn1()).getBytes()},x.pem.encode(l,{maxline:C})},g.messageFromAsn1=function(l){var C={},p=[];if(!s.validate(l,g.asn1.contentInfoValidator,C,p))throw(C=Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.")).errors=p,C;switch(p=s.derToOid(C.contentType)){case x.pki.oids.envelopedData:p=g.createEnvelopedData();break;case x.pki.oids.encryptedData:p=g.createEncryptedData();break;case x.pki.oids.signedData:p=g.createSignedData();break;default:throw Error("Cannot read PKCS#7 message. ContentType with OID "+p+" is not (yet) supported.")}return p.fromAsn1(C.content.value[0]),p},g.createSignedData=function(){var l=null;return l={type:x.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(C){if(n(l,C,g.asn1.signedDataValidator),l.certificates=[],l.crls=[],l.digestAlgorithmIdentifiers=[],l.contentInfo=null,l.signerInfos=[],l.rawCapture.certificates){C=l.rawCapture.certificates.value;for(var p=0;p<C.length;++p)l.certificates.push(x.pki.certificateFromAsn1(C[p]))}},toAsn1:function(){l.contentInfo||l.sign();for(var C=[],p=0;p<l.certificates.length;++p)C.push(x.pki.certificateToAsn1(l.certificates[p]));p=[];var B=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(l.version).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SET,!0,l.digestAlgorithmIdentifiers),l.contentInfo])]);return 0<C.length&&B.value[0].value.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,C)),0<p.length&&B.value[0].value.push(s.create(s.Class.CONTEXT_SPECIFIC,1,!0,p)),B.value[0].value.push(s.create(s.Class.UNIVERSAL,s.Type.SET,!0,l.signerInfos)),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(l.type).getBytes()),B])},addSigner:function(C){var p=C.issuer,B=C.serialNumber;C.certificate&&(typeof(B=C.certificate)=="string"&&(B=x.pki.certificateFromPem(B)),p=B.issuer.attributes,B=B.serialNumber);var Q=C.key;if(!Q)throw Error("Could not add PKCS#7 signer; no private key specified.");typeof Q=="string"&&(Q=x.pki.privateKeyFromPem(Q));var y=C.digestAlgorithm||x.pki.oids.sha1;switch(y){case x.pki.oids.sha1:case x.pki.oids.sha256:case x.pki.oids.sha384:case x.pki.oids.sha512:case x.pki.oids.md5:break;default:throw Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+y)}if(0<(C=C.authenticatedAttributes||[]).length){for(var _=!1,S=!1,w=0;w<C.length;++w){var O=C[w];if(_||O.type!==x.pki.oids.contentType){if(!S&&O.type===x.pki.oids.messageDigest&&(S=!0,_))break}else if(_=!0,S)break}if(!_||!S)throw Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}l.signers.push({key:Q,version:1,issuer:p,serialNumber:B,digestAlgorithm:y,signatureAlgorithm:x.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:C,unauthenticatedAttributes:[]})},sign:function(C){var p;if(C=C||{},Ia(l.content)==="object"&&l.contentInfo!==null||(l.contentInfo=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(x.pki.oids.data).getBytes())]),!("content"in l))||(l.content instanceof x.util.ByteBuffer?p=l.content.bytes():typeof l.content=="string"&&(p=x.util.encodeUtf8(l.content)),C.detached?l.detachedContent=s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,p):l.contentInfo.value.push(s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,p)]))),l.signers.length!==0){for(C={},p=0;p<l.signers.length;++p){var B=l.signers[p],Q=B.digestAlgorithm;Q in C||(C[Q]=x.md[x.pki.oids[Q]].create()),B.md=B.authenticatedAttributes.length===0?C[Q]:x.md[x.pki.oids[Q]].create()}for(Q in l.digestAlgorithmIdentifiers=[],C)l.digestAlgorithmIdentifiers.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(Q).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]));if(l.detachedContent?p=l.detachedContent:p=(p=l.contentInfo.value[1]).value[0],!p)throw Error("Could not sign PKCS#7 message; there is no content to sign.");Q=s.derToOid(l.contentInfo.value[0].value);var y=s.toDer(p);for(var _ in y.getByte(),s.getBerValueLength(y),y=y.getBytes(),C)C[_].start().update(y);for(_=new Date,p=0;p<l.signers.length;++p){if((B=l.signers[p]).authenticatedAttributes.length===0){if(Q!==x.pki.oids.data)throw Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{B.authenticatedAttributesAsn1=s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[]),y=s.create(s.Class.UNIVERSAL,s.Type.SET,!0,[]);for(var S=0;S<B.authenticatedAttributes.length;++S){var w=B.authenticatedAttributes[S];w.type===x.pki.oids.messageDigest?w.value=C[B.digestAlgorithm].digest():w.type!==x.pki.oids.signingTime||w.value||(w.value=_),y.value.push(e(w)),B.authenticatedAttributesAsn1.value.push(e(w))}y=s.toDer(y).getBytes(),B.md.start().update(y)}B.signature=B.key.sign(B.md,"RSASSA-PKCS1-V1_5")}for(C=l,Q=l.signers,_=[],p=0;p<Q.length;++p){if(y=(B=_).push,S=Q[p],w=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(S.version).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[x.pki.distinguishedNameToAsn1({attributes:S.issuer}),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,x.util.hexToBytes(S.serialNumber))]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(S.digestAlgorithm).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])]),S.authenticatedAttributesAsn1&&w.value.push(S.authenticatedAttributesAsn1),w.value.push(s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(S.signatureAlgorithm).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")])),w.value.push(s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,S.signature)),0<S.unauthenticatedAttributes.length){for(var O=s.create(s.Class.CONTEXT_SPECIFIC,1,!0,[]),P=0;P<S.unauthenticatedAttributes.length;++P)O.values.push(e(S.unauthenticatedAttributes[P]));w.value.push(O)}y.call(B,w)}C.signerInfos=_}},verify:function(){throw Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(C){typeof C=="string"&&(C=x.pki.certificateFromPem(C)),l.certificates.push(C)},addCertificateRevokationList:function(C){throw Error("PKCS#7 CRL support not yet implemented.")}}},g.createEncryptedData=function(){var l=null;return l={type:x.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:x.pki.oids["aes256-CBC"]},fromAsn1:function(C){n(l,C,g.asn1.encryptedDataValidator)},decrypt:function(C){C!==void 0&&(l.encryptedContent.key=C),i(l)}}},g.createEnvelopedData=function(){var l=null;return l={type:x.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:x.pki.oids["aes256-CBC"]},fromAsn1:function(C){var p=n(l,C,g.asn1.envelopedDataValidator);C=l,p=p.recipientInfos.value;for(var B=[],Q=0;Q<p.length;++Q){var y=B,_=y.push,S={},w=[];if(!s.validate(p[Q],g.asn1.recipientInfoValidator,S,w))throw(C=Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.")).errors=w,C;w={version:S.version.charCodeAt(0),issuer:x.pki.RDNAttributesAsArray(S.issuer),serialNumber:x.util.createBuffer(S.serial).toHex(),encryptedContent:{algorithm:s.derToOid(S.encAlgorithm),parameter:S.encParameter?S.encParameter.value:void 0,content:S.encKey}},_.call(y,w)}C.recipients=B},toAsn1:function(){for(var C=s,p=C.create,B=s.Class.UNIVERSAL,Q=s.Type.SEQUENCE,y=s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(l.type).getBytes()),_=s,S=_.create,w=s.Class.CONTEXT_SPECIFIC,O=s,P=O.create,K=s.Class.UNIVERSAL,M=s.Type.SEQUENCE,U=s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(l.version).getBytes()),F=s,W=F.create,ae=s.Class.UNIVERSAL,_r=s.Type.SET,_t=l.recipients,_A=[],na=0;na<_t.length;++na){var oa=_A,ha=oa.push,fa=_t[na];fa=s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,s.integerToDer(fa.version).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[x.pki.distinguishedNameToAsn1({attributes:fa.issuer}),s.create(s.Class.UNIVERSAL,s.Type.INTEGER,!1,x.util.hexToBytes(fa.serialNumber))]),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(fa.encryptedContent.algorithm).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.NULL,!1,"")]),s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,fa.encryptedContent.content)]),ha.call(oa,fa)}return F=W.call(F,ae,_r,!0,_A),ae=(W=s).create,_r=s.Class.UNIVERSAL,_t=s.Type.SEQUENCE,_A=l.encryptedContent,_A=[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(x.pki.oids.data).getBytes()),s.create(s.Class.UNIVERSAL,s.Type.SEQUENCE,!0,[s.create(s.Class.UNIVERSAL,s.Type.OID,!1,s.oidToDer(_A.algorithm).getBytes()),_A.parameter?s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,_A.parameter.getBytes()):void 0]),s.create(s.Class.CONTEXT_SPECIFIC,0,!0,[s.create(s.Class.UNIVERSAL,s.Type.OCTETSTRING,!1,_A.content.getBytes())])],p.call(C,B,Q,!0,[y,S.call(_,w,0,!0,[P.call(O,K,M,!0,[U,F,ae.call(W,_r,_t,!0,_A)])])])},findRecipient:function(C){for(var p=C.issuer.attributes,B=0;B<l.recipients.length;++B){var Q=l.recipients[B],y=Q.issuer;if(Q.serialNumber===C.serialNumber&&y.length===p.length){for(var _=!0,S=0;S<p.length;++S)if(y[S].type!==p[S].type||y[S].value!==p[S].value){_=!1;break}if(_)return Q}}return null},decrypt:function(C,p){if(l.encryptedContent.key===void 0&&C!==void 0&&p!==void 0)switch(C.encryptedContent.algorithm){case x.pki.oids.rsaEncryption:case x.pki.oids.desCBC:C=p.decrypt(C.encryptedContent.content),l.encryptedContent.key=x.util.createBuffer(C);break;default:throw Error("Unsupported asymmetric cipher, OID "+C.encryptedContent.algorithm)}i(l)},addRecipient:function(C){l.recipients.push({version:0,issuer:C.issuer.attributes,serialNumber:C.serialNumber,encryptedContent:{algorithm:x.pki.oids.rsaEncryption,key:C.publicKey}})},encrypt:function(C,p){if(l.encryptedContent.content===void 0){var B;switch(p=p||l.encryptedContent.algorithm,C=C||l.encryptedContent.key,p){case x.pki.oids["aes128-CBC"]:var Q=B=16,y=x.aes.createEncryptionCipher;break;case x.pki.oids["aes192-CBC"]:B=24,Q=16,y=x.aes.createEncryptionCipher;break;case x.pki.oids["aes256-CBC"]:B=32,Q=16,y=x.aes.createEncryptionCipher;break;case x.pki.oids["des-EDE3-CBC"]:B=24,Q=8,y=x.des.createEncryptionCipher;break;default:throw Error("Unsupported symmetric cipher, OID "+p)}if(C===void 0)C=x.util.createBuffer(x.random.getBytes(B));else if(C.length()!=B)throw Error("Symmetric key has wrong length; got "+C.length()+" bytes, expected "+B+".");if(l.encryptedContent.algorithm=p,l.encryptedContent.key=C,l.encryptedContent.parameter=x.util.createBuffer(x.random.getBytes(Q)),(C=y(C)).start(l.encryptedContent.parameter.copy()),C.update(l.content),!C.finish())throw Error("Symmetric encryption failed.");l.encryptedContent.content=C.output}for(C=0;C<l.recipients.length;++C)if((p=l.recipients[C]).encryptedContent.content===void 0)switch(p.encryptedContent.algorithm){case x.pki.oids.rsaEncryption:p.encryptedContent.content=p.encryptedContent.key.encrypt(l.encryptedContent.key.data);break;default:throw Error("Unsupported asymmetric cipher, OID "+p.encryptedContent.algorithm)}}}}}),Ua(function(t){function e(s,g){"8"<=(g=g.toString(16))[0]&&(g="00"+g),g=x.util.hexToBytes(g),s.putInt32(g.length),s.putBytes(g)}function n(s,g){s.putInt32(g.length),s.putString(g)}function i(){for(var s=x.md.sha1.create(),g=arguments.length,l=0;l<g;++l)s.update(arguments[l]);return s.digest()}(t=t.exports=x.ssh=x.ssh||{}).privateKeyToPutty=function(s,g,l){var C=(g=g||"")===""?"none":"aes256-cbc",p=`PuTTY-User-Key-File-2: ssh-rsa\r
Encryption: `+C+`\r
Comment: `+(l=l||"")+`\r
`,B=x.util.createBuffer();n(B,"ssh-rsa"),e(B,s.e),e(B,s.n);var Q=x.util.encode64(B.bytes(),64),y=Math.floor(Q.length/66)+1;return p+="Public-Lines: "+y+`\r
`,p+=Q,e(Q=x.util.createBuffer(),s.d),e(Q,s.p),e(Q,s.q),e(Q,s.qInv),g?(y=Q.length()+16-1,y-=y%16,(s=i(Q.bytes())).truncate(s.length()-y+Q.length()),Q.putBuffer(s),(y=x.util.createBuffer()).putBuffer(i("\0\0\0\0",g)),y.putBuffer(i("\0\0\0",g)),(y=x.aes.createEncryptionCipher(y.truncate(8),"CBC")).start(x.util.createBuffer().fillWithByte(0,16)),y.update(Q.copy()),y.finish(),(y=y.output).truncate(16),s=x.util.encode64(y.bytes(),64)):s=x.util.encode64(Q.bytes(),64),p+=`\r
Private-Lines: `+(y=Math.floor(s.length/66)+1)+`\r
`,p+=s,g=i("putty-private-key-file-mac-key",g),n(y=x.util.createBuffer(),"ssh-rsa"),n(y,C),n(y,l),y.putInt32(B.length()),y.putBuffer(B),y.putInt32(Q.length()),y.putBuffer(Q),(l=x.hmac.create()).start("sha1",g),l.update(y.bytes()),p+`\r
Private-MAC: `+l.digest().toHex()+`\r
`},t.publicKeyToOpenSSH=function(s,g){g=g||"";var l=x.util.createBuffer();return n(l,"ssh-rsa"),e(l,s.e),e(l,s.n),"ssh-rsa "+x.util.encode64(l.bytes())+" "+g},t.privateKeyToOpenSSH=function(s,g){return g?x.pki.encryptRsaPrivateKey(s,g,{legacy:!0,algorithm:"aes128"}):x.pki.privateKeyToPem(s)},t.getPublicKeyFingerprint=function(s,g){var l=(g=g||{}).md||x.md.md5.create(),C=x.util.createBuffer();if(n(C,"ssh-rsa"),e(C,s.e),e(C,s.n),l.start(),l.update(C.getBytes()),s=l.digest(),g.encoding==="hex")return s=s.toHex(),g.delimiter?s.match(/.{2}/g).join(g.delimiter):s;if(g.encoding==="binary")return s.getBytes();if(g.encoding)throw Error('Unknown encoding "'+g.encoding+'".');return s}});var Nd=x,G;(function(t){t[t.RTM_ERROR_OK=0]="RTM_ERROR_OK",t[t.RTM_ERROR_NOT_INITIALIZED=-10001]="RTM_ERROR_NOT_INITIALIZED",t[t.RTM_ERROR_NOT_LOGIN=-10002]="RTM_ERROR_NOT_LOGIN",t[t.RTM_ERROR_INVALID_APP_ID=-10003]="RTM_ERROR_INVALID_APP_ID",t[t.RTM_ERROR_INVALID_EVENT_HANDLER=-10004]="RTM_ERROR_INVALID_EVENT_HANDLER",t[t.RTM_ERROR_INVALID_TOKEN=-10005]="RTM_ERROR_INVALID_TOKEN",t[t.RTM_ERROR_INVALID_USER_ID=-10006]="RTM_ERROR_INVALID_USER_ID",t[t.RTM_ERROR_INIT_SERVICE_FAILED=-10007]="RTM_ERROR_INIT_SERVICE_FAILED",t[t.RTM_ERROR_INVALID_CHANNEL_NAME=-10008]="RTM_ERROR_INVALID_CHANNEL_NAME",t[t.RTM_ERROR_TOKEN_EXPIRED=-10009]="RTM_ERROR_TOKEN_EXPIRED",t[t.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES=-10010]="RTM_ERROR_LOGIN_NO_SERVER_RESOURCES",t[t.RTM_ERROR_LOGIN_TIMEOUT=-10011]="RTM_ERROR_LOGIN_TIMEOUT",t[t.RTM_ERROR_LOGIN_REJECTED=-10012]="RTM_ERROR_LOGIN_REJECTED",t[t.RTM_ERROR_LOGIN_ABORTED=-10013]="RTM_ERROR_LOGIN_ABORTED",t[t.RTM_ERROR_INVALID_PARAMETER=-10014]="RTM_ERROR_INVALID_PARAMETER",t[t.RTM_ERROR_LOGIN_NOT_AUTHORIZED=-10015]="RTM_ERROR_LOGIN_NOT_AUTHORIZED",t[t.RTM_ERROR_INCONSISTENT_APPID=-10016]="RTM_ERROR_INCONSISTENT_APPID",t[t.RTM_ERROR_DUPLICATE_OPERATION=-10017]="RTM_ERROR_DUPLICATE_OPERATION",t[t.RTM_ERROR_INSTANCE_ALREADY_RELEASED=-10018]="RTM_ERROR_INSTANCE_ALREADY_RELEASED",t[t.RTM_ERROR_INVALID_CHANNEL_TYPE=-10019]="RTM_ERROR_INVALID_CHANNEL_TYPE",t[t.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER=-10020]="RTM_ERROR_INVALID_ENCRYPTION_PARAMETER",t[t.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION=-10021]="RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION",t[t.RTM_ERROR_CHANNEL_NOT_JOINED=-11001]="RTM_ERROR_CHANNEL_NOT_JOINED",t[t.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED=-11002]="RTM_ERROR_CHANNEL_NOT_SUBSCRIBED",t[t.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION=-11003]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION",t[t.RTM_ERROR_CHANNEL_IN_REUSE=-11004]="RTM_ERROR_CHANNEL_IN_REUSE",t[t.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION=-11005]="RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION",t[t.RTM_ERROR_CHANNEL_IN_ERROR_STATE=-11006]="RTM_ERROR_CHANNEL_IN_ERROR_STATE",t[t.RTM_ERROR_CHANNEL_JOIN_FAILED=-11007]="RTM_ERROR_CHANNEL_JOIN_FAILED",t[t.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME=-11008]="RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME",t[t.RTM_ERROR_CHANNEL_INVALID_MESSAGE=-11009]="RTM_ERROR_CHANNEL_INVALID_MESSAGE",t[t.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION=-11010]="RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION",t[t.RTM_ERROR_CHANNEL_INVALID_USER_LIST=-11011]="RTM_ERROR_CHANNEL_INVALID_USER_LIST",t[t.RTM_ERROR_CHANNEL_NOT_AVAILABLE=-11012]="RTM_ERROR_CHANNEL_NOT_AVAILABLE",t[t.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED=-11013]="RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED",t[t.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION=-11014]="RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION",t[t.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED=-11015]="RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED",t[t.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED=-11016]="RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED",t[t.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST=-11017]="RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST",t[t.RTM_ERROR_CHANNEL_INVALID_TOPIC_META=-11018]="RTM_ERROR_CHANNEL_INVALID_TOPIC_META",t[t.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT=-11019]="RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT",t[t.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT=-11020]="RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT",t[t.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED=-11021]="RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED",t[t.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED=-11022]="RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED",t[t.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED=-11023]="RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED",t[t.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED=-11024]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED",t[t.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT=-11025]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT",t[t.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT=-11026]="RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT",t[t.RTM_ERROR_CHANNEL_NOT_CONNECTED=-11027]="RTM_ERROR_CHANNEL_NOT_CONNECTED",t[t.RTM_ERROR_CHANNEL_LEAVE_FAILED=-11028]="RTM_ERROR_CHANNEL_LEAVE_FAILED",t[t.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW=-11029]="RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW",t[t.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE=-11030]="RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE",t[t.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE=-11031]="RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE",t[t.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY=-11032]="RTM_ERROR_CHANNEL_PRESENCE_NOT_READY",t[t.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE=-11033]="RTM_ERROR_CHANNEL_RECEIVER_OFFLINE",t[t.RTM_ERROR_STORAGE_OPERATION_FAILED=-12001]="RTM_ERROR_STORAGE_OPERATION_FAILED",t[t.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION=-12002]="RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION",t[t.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM=-12003]="RTM_ERROR_STORAGE_INVALID_METADATA_ITEM",t[t.RTM_ERROR_STORAGE_INVALID_ARGUMENT=-12004]="RTM_ERROR_STORAGE_INVALID_ARGUMENT",t[t.RTM_ERROR_STORAGE_INVALID_REVISION=-12005]="RTM_ERROR_STORAGE_INVALID_REVISION",t[t.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW=-12006]="RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW",t[t.RTM_ERROR_STORAGE_INVALID_LOCK_NAME=-12007]="RTM_ERROR_STORAGE_INVALID_LOCK_NAME",t[t.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED=-12008]="RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED",t[t.RTM_ERROR_STORAGE_INVALID_KEY=-12009]="RTM_ERROR_STORAGE_INVALID_KEY",t[t.RTM_ERROR_STORAGE_INVALID_VALUE=-12010]="RTM_ERROR_STORAGE_INVALID_VALUE",t[t.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW=-12011]="RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW",t[t.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW=-12012]="RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW",t[t.RTM_ERROR_STORAGE_DUPLICATE_KEY=-12013]="RTM_ERROR_STORAGE_DUPLICATE_KEY",t[t.RTM_ERROR_STORAGE_OUTDATED_REVISION=-12014]="RTM_ERROR_STORAGE_OUTDATED_REVISION",t[t.RTM_ERROR_STORAGE_NOT_SUBSCRIBE=-12015]="RTM_ERROR_STORAGE_NOT_SUBSCRIBE",t[t.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE=-12016]="RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE",t[t.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION=-12017]="RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION",t[t.RTM_ERROR_STORAGE_OPERATION_TIMEOUT=-12018]="RTM_ERROR_STORAGE_OPERATION_TIMEOUT",t[t.RTM_ERROR_STORAGE_NOT_AVAILABLE=-12019]="RTM_ERROR_STORAGE_NOT_AVAILABLE",t[t.RTM_ERROR_PRESENCE_NOT_CONNECTED=-13001]="RTM_ERROR_PRESENCE_NOT_CONNECTED",t[t.RTM_ERROR_PRESENCE_NOT_WRITABLE=-13002]="RTM_ERROR_PRESENCE_NOT_WRITABLE",t[t.RTM_ERROR_PRESENCE_INVALID_ARGUMENT=-13003]="RTM_ERROR_PRESENCE_INVALID_ARGUMENT",t[t.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES=-13004]="RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES",t[t.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW=-13005]="RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW",t[t.RTM_ERROR_PRESENCE_INVALID_STATE_KEY=-13006]="RTM_ERROR_PRESENCE_INVALID_STATE_KEY",t[t.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE=-13007]="RTM_ERROR_PRESENCE_INVALID_STATE_VALUE",t[t.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW=-13008]="RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW",t[t.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW=-13009]="RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW",t[t.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY=-13010]="RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY",t[t.RTM_ERROR_PRESENCE_USER_NOT_EXIST=-13011]="RTM_ERROR_PRESENCE_USER_NOT_EXIST",t[t.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT=-13012]="RTM_ERROR_PRESENCE_OPERATION_TIMEOUT",t[t.RTM_ERROR_PRESENCE_OPERATION_FAILED=-13013]="RTM_ERROR_PRESENCE_OPERATION_FAILED",t[t.RTM_ERROR_LOCK_OPERATION_FAILED=-14001]="RTM_ERROR_LOCK_OPERATION_FAILED",t[t.RTM_ERROR_LOCK_OPERATION_TIMEOUT=-14002]="RTM_ERROR_LOCK_OPERATION_TIMEOUT",t[t.RTM_ERROR_LOCK_OPERATION_PERFORMING=-14003]="RTM_ERROR_LOCK_OPERATION_PERFORMING",t[t.RTM_ERROR_LOCK_ALREADY_EXIST=-14004]="RTM_ERROR_LOCK_ALREADY_EXIST",t[t.RTM_ERROR_LOCK_INVALID_NAME=-14005]="RTM_ERROR_LOCK_INVALID_NAME",t[t.RTM_ERROR_LOCK_NOT_ACQUIRED=-14006]="RTM_ERROR_LOCK_NOT_ACQUIRED",t[t.RTM_ERROR_LOCK_ACQUIRE_FAILED=-14007]="RTM_ERROR_LOCK_ACQUIRE_FAILED",t[t.RTM_ERROR_LOCK_NOT_EXIST=-14008]="RTM_ERROR_LOCK_NOT_EXIST",t[t.RTM_ERROR_LOCK_NOT_AVAILABLE=-14009]="RTM_ERROR_LOCK_NOT_AVAILABLE"})(G||(G={}));var va,lz=(va={},E(va,G.RTM_ERROR_OK,"No error."),E(va,G.RTM_ERROR_NOT_INITIALIZED,"Preform operation without initialize."),E(va,G.RTM_ERROR_NOT_LOGIN,"Preform operation without login RTM service."),E(va,G.RTM_ERROR_INVALID_APP_ID,"Invalid App id. ".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_INVALID_EVENT_HANDLER,"Invalid event handler."),E(va,G.RTM_ERROR_INVALID_TOKEN,"Invalid token."),E(va,G.RTM_ERROR_INVALID_USER_ID,"Invalid user id. ".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_INIT_SERVICE_FAILED,"Initialize agora service failed."),E(va,G.RTM_ERROR_INVALID_CHANNEL_NAME,"Invalid channel name. ".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_TOKEN_EXPIRED,"Token is expired."),E(va,G.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES,"No server resources."),E(va,G.RTM_ERROR_LOGIN_TIMEOUT,"Login RTM service timeout."),E(va,G.RTM_ERROR_LOGIN_REJECTED,"Login RTM service was rejected due to server error."),E(va,G.RTM_ERROR_LOGIN_ABORTED,"Login RTM service was aborted due to unrecoverable error."),E(va,G.RTM_ERROR_INVALID_PARAMETER,"Invalid parameter."),E(va,G.RTM_ERROR_LOGIN_NOT_AUTHORIZED,"The login operation is not authorized, should grant from console."),E(va,G.RTM_ERROR_INCONSISTENT_APPID,"The appid is not consistent."),E(va,G.RTM_ERROR_DUPLICATE_OPERATION,"Same subscribe, join or login request"),E(va,G.RTM_ERROR_INSTANCE_ALREADY_RELEASED,"Instance already released or destroyed, need to create new one"),E(va,G.RTM_ERROR_INVALID_CHANNEL_TYPE,"Invalid channel type, some api not support set channel type as user."),E(va,G.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER,"Invalid encryption parameter."),E(va,G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION,"The operation rate exceeds limitation."),E(va,G.RTM_ERROR_CHANNEL_NOT_JOINED,"Perform operation without join stream channel."),E(va,G.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED,"Perform operation without subscribe message channel."),E(va,G.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION,"Subscribe failed due to exceed topic user limitation in stream channel."),E(va,G.RTM_ERROR_CHANNEL_IN_REUSE,"Release a stream channel which was reused in RTC channel."),E(va,G.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION,"Join or subscribe too many channels and have reach limitation."),E(va,G.RTM_ERROR_CHANNEL_IN_ERROR_STATE,"Perform channel operation failed since channel state is incorrect."),E(va,G.RTM_ERROR_CHANNEL_JOIN_FAILED,"Join stream channel failed."),E(va,G.RTM_ERROR_CHANNEL_INVALID_TOPIC_NAME,"Perform topic operation with invalid name.".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_CHANNEL_INVALID_MESSAGE,"Publish invalid message."),E(va,G.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION,"Publish too long message."),E(va,G.RTM_ERROR_CHANNEL_INVALID_USER_LIST,"Perform topic operation with invalid user list."),E(va,G.RTM_ERROR_CHANNEL_NOT_AVAILABLE,"Stream channel not available for this app id."),E(va,G.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED,"Perform topic operation without subscribe."),E(va,G.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION,"Have subscribe or joined too many topics."),E(va,G.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED,"Join topic failed."),E(va,G.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED,"Perform topic operation without join."),E(va,G.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST,"Topic does not exist."),E(va,G.RTM_ERROR_CHANNEL_INVALID_TOPIC_META,"Topic meta is invalid."),E(va,G.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT,"Subscribe message channel timeout."),E(va,G.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT,"Subscribe message channel too frequently."),E(va,G.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED,"Subscribe message channel failed."),E(va,G.RTM_ERROR_CHANNEL_UNSUBSCRIBE_FAILED,"Unsubscribe message channel failed."),E(va,G.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED,"Encrypt message failed."),E(va,G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED,"Publish message failed."),E(va,G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TOO_FREQUENT,"Publish message too frequently."),E(va,G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT,"Publish message timeout."),E(va,G.RTM_ERROR_CHANNEL_NOT_CONNECTED,"Perform operation failed due to connection closed."),E(va,G.RTM_ERROR_CHANNEL_LEAVE_FAILED,"Leave channel failed."),E(va,G.RTM_ERROR_CHANNEL_CUSTOM_TYPE_LENGTH_OVERFLOW,"The length of custom type overflow."),E(va,G.RTM_ERROR_CHANNEL_INVALID_CUSTOM_TYPE,"Send message with invalid custom type."),E(va,G.RTM_ERROR_CHANNEL_UNSUPPORTED_MESSAGE_TYPE,"Send message with unsupported message type."),E(va,G.RTM_ERROR_CHANNEL_PRESENCE_NOT_READY,"Join or subscribe channel failed due to presence service not ready."),E(va,G.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE,"Publish a message to user now is offline."),E(va,G.RTM_ERROR_STORAGE_OPERATION_FAILED,"Storage operation failed."),E(va,G.RTM_ERROR_STORAGE_METADATA_ITEM_EXCEED_LIMITATION,"Metadata item size exceeds limitation."),E(va,G.RTM_ERROR_STORAGE_INVALID_METADATA_ITEM,"Metadata item is invalid."),E(va,G.RTM_ERROR_STORAGE_INVALID_ARGUMENT,"Server reject operation due to invalid argument."),E(va,G.RTM_ERROR_STORAGE_INVALID_REVISION,"Metadata item with invalid revision."),E(va,G.RTM_ERROR_STORAGE_METADATA_LENGTH_OVERFLOW,"The length of metadata items overflow."),E(va,G.RTM_ERROR_STORAGE_INVALID_LOCK_NAME,"Storage operation with invalid lock name. ".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED,"Storage operation with lock not acquired."),E(va,G.RTM_ERROR_STORAGE_INVALID_KEY,"Storage operation with invalid key."),E(va,G.RTM_ERROR_STORAGE_INVALID_VALUE,"Storage operation with invalid value."),E(va,G.RTM_ERROR_STORAGE_KEY_LENGTH_OVERFLOW,"Storage operation with key length overflow."),E(va,G.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW,"Storage operation with value length overflow."),E(va,G.RTM_ERROR_STORAGE_DUPLICATE_KEY,"Storage operation with duplicate key."),E(va,G.RTM_ERROR_STORAGE_OUTDATED_REVISION,"Storage operation with outdated revision."),E(va,G.RTM_ERROR_STORAGE_NOT_SUBSCRIBE,"Storage operation without subscribe."),E(va,G.RTM_ERROR_STORAGE_INVALID_METADATA_INSTANCE,"Metadata instance is invalid."),E(va,G.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION,"Subscribe user metadata exceeds limitation."),E(va,G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT,"Storage operation timeout."),E(va,G.RTM_ERROR_STORAGE_NOT_AVAILABLE,"Storage service is not available."),E(va,G.RTM_ERROR_PRESENCE_NOT_CONNECTED,"Presence service not connected."),E(va,G.RTM_ERROR_PRESENCE_NOT_WRITABLE,"Operation failed since presence document is not writable, try later."),E(va,G.RTM_ERROR_PRESENCE_INVALID_ARGUMENT,"Presence operation failed due to invalid argument."),E(va,G.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES,"Exceed presence cache limitation."),E(va,G.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW,"Exceed presence state count limitation."),E(va,G.RTM_ERROR_PRESENCE_INVALID_STATE_KEY,"Invalid presence state key."),E(va,G.RTM_ERROR_PRESENCE_INVALID_STATE_VALUE,"Invalid presence state value."),E(va,G.RTM_ERROR_PRESENCE_STATE_KEY_SIZE_OVERFLOW,"Presence state key length is too long."),E(va,G.RTM_ERROR_PRESENCE_STATE_VALUE_SIZE_OVERFLOW,"Presence state value length is too long."),E(va,G.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY,"Presence operation failed since including duplicate key."),E(va,G.RTM_ERROR_PRESENCE_USER_NOT_EXIST,"Presence operation failed due to inexistent user."),E(va,G.RTM_ERROR_PRESENCE_OPERATION_TIMEOUT,"Presence operation timeout."),E(va,G.RTM_ERROR_PRESENCE_OPERATION_FAILED,"Presence operation failed."),E(va,G.RTM_ERROR_LOCK_OPERATION_FAILED,"Lock operation failed."),E(va,G.RTM_ERROR_LOCK_OPERATION_TIMEOUT,"Lock operation timeout."),E(va,G.RTM_ERROR_LOCK_OPERATION_PERFORMING,"Lock operation is performing, try later."),E(va,G.RTM_ERROR_LOCK_ALREADY_EXIST,"Lock already exist."),E(va,G.RTM_ERROR_LOCK_INVALID_NAME,"Lock operation with invalid name. ".concat("illegal symbol or too long.")),E(va,G.RTM_ERROR_LOCK_NOT_ACQUIRED,"Lock not acquired."),E(va,G.RTM_ERROR_LOCK_ACQUIRE_FAILED,"Lock acquire failed."),E(va,G.RTM_ERROR_LOCK_NOT_EXIST,"Lock not exist."),E(va,G.RTM_ERROR_LOCK_NOT_AVAILABLE,"Lock service is not available."),va),ia={};Ia(module)=="object"&&(module.exports=ia),ia.parse=function(t,e){var n,i=ia.bin.readUshort,s=ia.bin.readUint,g={};for(n=(t=new Uint8Array(t)).length-4;s(t,n)!=101010256;)n--;var l=i(t,n=n+4+4);i(t,n+=2),s(t,n+=2),n=s(t,n+=4);for(var C=0;C<l;C++){s(t,n),n+=4,n+=4,n+=4,s(t,n+=4);var p=s(t,n+=4),B=s(t,n+=4),Q=i(t,n+=4),y=i(t,n+2),_=i(t,n+4);n+=6;var S=s(t,n+=8);n+=4,n+=Q+y+_,ia._readLocal(t,S,g,p,B,e)}return g},ia._readLocal=function(t,e,n,i,s,g){var l=ia.bin.readUshort,C=ia.bin.readUint;C(t,e),l(t,e+=4),l(t,e+=2);var p=l(t,e+=2);C(t,e+=2),C(t,e+=4),C=l(t,e=e+4+8);var B=l(t,e+=2);if(e+=2,l=ia.bin.readUTF8(t,e,C),e=e+C+B,g)n[l]={size:s,csize:i};else if(t=new Uint8Array(t.buffer,e),p==0)n[l]=new Uint8Array(t.buffer.slice(e,e+i));else{if(p!=8)throw"unknown compression method: "+p;e=new Uint8Array(s),ia.inflateRaw(t,e),n[l]=e}},ia.inflateRaw=function(t,e){return ia.F.inflate(t,e)},ia.inflate=function(t,e){return t[0],t[1],ia.inflateRaw(new Uint8Array(t.buffer,t.byteOffset+2,t.length-2),e)},ia.deflate=function(t,e){e==null&&(e={level:6});var n=0,i=new Uint8Array(50+Math.floor(1.1*t.length));return i[n]=120,i[n+1]=156,n=ia.F.deflateRaw(t,i,n+2,e.level),t=ia.adler(t,0,t.length),i[n+0]=t>>>24&255,i[n+1]=t>>>16&255,i[n+2]=t>>>8&255,i[n+3]=t>>>0&255,new Uint8Array(i.buffer,0,n+4)},ia.deflateRaw=function(t,e){e==null&&(e={level:6});var n=new Uint8Array(50+Math.floor(1.1*t.length)),i=ia.F.deflateRaw(t,n,i,e.level);return new Uint8Array(n.buffer,0,i)},ia.encode=function(t,e){e==null&&(e=!1);var n,i=0,s=ia.bin.writeUint,g=ia.bin.writeUshort,l={};for(n in t){var C=!ia._noNeed(n)&&!e,p=t[n],B=ia.crc.crc(p,0,p.length);l[n]={cpr:C,usize:p.length,crc:B,file:C?ia.deflateRaw(p):p}}for(n in l)i+=l[n].file.length+30+46+2*ia.bin.sizeUTF8(n);for(n in t=new Uint8Array(i+22),e=0,p=[],l)B=l[n],p.push(e),e=ia._writeHeader(t,e,n,B,0);for(n in i=0,C=e,l)B=l[n],p.push(e),e=ia._writeHeader(t,e,n,B,1,p[i++]);return l=e-C,s(t,e,101010256),g(t,e=e+4+4,i),g(t,e+=2,i),s(t,e+=2,l),s(t,e+4,C),t.buffer},ia._noNeed=function(t){return t=t.split(".").pop().toLowerCase(),"png,jpg,jpeg,zip".indexOf(t)!=-1},ia._writeHeader=function(t,e,n,i,s,g){var l=ia.bin.writeUint,C=ia.bin.writeUshort,p=i.file;return l(t,e,s==0?67324752:33639248),e+=4,s==1&&(e+=2),C(t,e,20),C(t,e+=2,0),C(t,e+=2,i.cpr?8:0),l(t,e+=2,0),l(t,e+=4,i.crc),l(t,e+=4,p.length),l(t,e+=4,i.usize),C(t,e+=4,ia.bin.sizeUTF8(n)),C(t,e+=2,0),e+=2,s==1&&(l(t,e=e+2+2+6,g),e+=4),e+=n=ia.bin.writeUTF8(t,e,n),s==0&&(t.set(p,e),e+=p.length),e},ia.crc={table:function(){for(var t=new Uint32Array(256),e=0;256>e;e++){for(var n=e,i=0;8>i;i++)n=1&n?3988292384^n>>>1:n>>>1;t[e]=n}return t}(),update:function(t,e,n,i){for(var s=0;s<i;s++)t=ia.crc.table[255&(t^e[n+s])]^t>>>8;return t},crc:function(t,e,n){return 4294967295^ia.crc.update(4294967295,t,e,n)}},ia.adler=function(t,e,n){var i=1,s=0,g=e;for(e+=n;g<e;){for(n=Math.min(g+5552,e);g<n;)s+=i+=t[g++];i%=65521,s%=65521}return s<<16|i},ia.bin={readUshort:function(t,e){return t[e]|t[e+1]<<8},writeUshort:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255},readUint:function(t,e){return 16777216*t[e+3]+(t[e+2]<<16|t[e+1]<<8|t[e])},writeUint:function(t,e,n){t[e]=255&n,t[e+1]=n>>8&255,t[e+2]=n>>16&255,t[e+3]=n>>24&255},readASCII:function(t,e,n){for(var i="",s=0;s<n;s++)i+=String.fromCharCode(t[e+s]);return i},writeASCII:function(t,e,n){for(var i=0;i<n.length;i++)t[e+i]=n.charCodeAt(i)},pad:function(t){return 2>t.length?"0"+t:t},readUTF8:function(t,e,n){for(var i,s="",g=0;g<n;g++)s+="%"+ia.bin.pad(t[e+g].toString(16));try{i=decodeURIComponent(s)}catch{return ia.bin.readASCII(t,e,n)}return i},writeUTF8:function(t,e,n){for(var i=n.length,s=0,g=0;g<i;g++){var l=n.charCodeAt(g);if(!(4294967168&l))t[e+s]=l,s++;else if(!(4294965248&l))t[e+s]=192|l>>6,t[e+s+1]=128|l>>0&63,s+=2;else if(!(4294901760&l))t[e+s]=224|l>>12,t[e+s+1]=128|l>>6&63,t[e+s+2]=128|l>>0&63,s+=3;else{if(4292870144&l)throw"e";t[e+s]=240|l>>18,t[e+s+1]=128|l>>12&63,t[e+s+2]=128|l>>6&63,t[e+s+3]=128|l>>0&63,s+=4}}return s},sizeUTF8:function(t){for(var e=t.length,n=0,i=0;i<e;i++){var s=t.charCodeAt(i);if(!(4294967168&s))n++;else if(!(4294965248&s))n+=2;else if(!(4294901760&s))n+=3;else{if(4292870144&s)throw"e";n+=4}}return n}},ia.F={},ia.F.deflateRaw=function(t,e,n,i){var s=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][i],g=ia.F.U,l=ia.F._goodIndex;ia.F._hash;var C=ia.F._putsE,p=0;n<<=3;var B=0,Q=t.length;if(i==0){for(;p<Q;){var y=Math.min(65535,Q-p);C(e,n,p+y==Q?1:0),n=ia.F._copyExact(t,p,y,e,n+8),p+=y}return n>>>3}C=g.lits,i=g.strt;var _=g.prev,S=0,w=0,O=0,P=0,K=0;for(2<Q&&(i[K=ia.F._hash(t,0)]=0),p=0;p<Q;p++){if(y=K,p+1<Q-2){K=ia.F._hash(t,p+1);var M=p+1&32767;_[M]=i[K],i[K]=M}if(B<=p){if((14e3<S||26697<w)&&100<Q-p&&(B<p&&(C[S]=p-B,S+=2,B=p),n=ia.F._writeBlock(p==Q-1||B==Q?1:0,C,S,P,t,O,p-O,e,n),S=w=P=0,O=p),M=0,p<Q-2&&(M=ia.F._bestMatch(t,p,_,y,Math.min(s[2],Q-p),s[3])),M!=0){y=M>>>16,M&=65535;var U=l(y,g.of0);g.lhst[257+U]++;var F=l(M,g.df0);g.dhst[F]++,P+=g.exb[U]+g.dxb[F],C[S]=y<<23|p-B,C[S+1]=M<<16|U<<8|F,S+=2,B=p+y}else g.lhst[t[p]]++;w++}}for(O==p&&t.length!=0||(B<p&&(C[S]=p-B,S+=2),n=ia.F._writeBlock(1,C,S,P,t,O,p-O,e,n));7&n;)n++;return n>>>3},ia.F._bestMatch=function(t,e,n,i,s,g){var l=32767&e,C=n[l],p=l-C+32768&32767;if(C==l||i!=ia.F._hash(t,e-p))return 0;for(var B=i=0,Q=Math.min(32767,e);p<=Q&&--g!=0&&C!=l;){if((i==0||t[e+i]==t[e+i-p])&&(l=ia.F._howLong(t,e,p))>i){if(B=p,(i=l)>=s)break;p+2<l&&(l=p+2);for(var y=0,_=0;_<l-2;_++){var S=e-p+_+32768&32767,w=S-n[S]+32768&32767;w>y&&(y=w,C=S)}}p+=(l=C)-(C=n[l])+32768&32767}return i<<16|B},ia.F._howLong=function(t,e,n){if(t[e]!=t[e-n]||t[e+1]!=t[e+1-n]||t[e+2]!=t[e+2-n])return 0;var i=e,s=Math.min(t.length,e+258);for(e+=3;e<s&&t[e]==t[e-n];)e++;return e-i},ia.F._hash=function(t,e){return(t[e]<<8|t[e+1])+(t[e+2]<<4)&65535},ia.saved=0,ia.F._writeBlock=function(t,e,n,i,s,g,l,C,p){var B=ia.F.U,Q=ia.F._putsF,y=ia.F._putsE;B.lhst[256]++;var _=ia.F.getTrees(),S=_[0],w=_[1],O=_[2],P=_[3],K=_[4],M=_[5],U=_[6];_=_[7];var F=32+(p+3&7?8-(p+3&7):0)+(l<<3),W=i+ia.F.contSize(B.fltree,B.lhst)+ia.F.contSize(B.fdtree,B.dhst);i=i+ia.F.contSize(B.ltree,B.lhst)+ia.F.contSize(B.dtree,B.dhst),i+=14+3*M+ia.F.contSize(B.itree,B.ihst)+(2*B.ihst[16]+3*B.ihst[17]+7*B.ihst[18]);for(var ae=0;286>ae;ae++)B.lhst[ae]=0;for(ae=0;30>ae;ae++)B.dhst[ae]=0;for(ae=0;19>ae;ae++)B.ihst[ae]=0;if(F=F<W&&F<i?0:W<i?1:2,Q(C,p,t),Q(C,p+1,F),p+=3,F==0){for(;7&p;)p++;p=ia.F._copyExact(s,g,l,C,p)}else{if(F==1)var _r=B.fltree,_t=B.fdtree;if(F==2){for(ia.F.makeCodes(B.ltree,S),ia.F.revCodes(B.ltree,S),ia.F.makeCodes(B.dtree,w),ia.F.revCodes(B.dtree,w),ia.F.makeCodes(B.itree,O),ia.F.revCodes(B.itree,O),_r=B.ltree,_t=B.dtree,y(C,p,P-257),y(C,p+=5,K-1),y(C,p+=5,M-4),p+=4,t=0;t<M;t++)y(C,p+3*t,B.itree[1+(B.ordr[t]<<1)]);p=ia.F._codeTiny(U,B.itree,C,p+3*M),p=ia.F._codeTiny(_,B.itree,C,p)}for(M=0;M<n;M+=2){for(U=(t=e[M])>>>23,t=g+(8388607&t);g<t;)p=ia.F._writeLit(s[g++],_r,C,p);U!=0&&(t=(S=e[M+1])>>16,l=S>>8&255,S&=255,y(C,p=ia.F._writeLit(257+l,_r,C,p),U-B.of0[l]),p+=B.exb[l],Q(C,p=ia.F._writeLit(S,_t,C,p),t-B.df0[S]),p+=B.dxb[S],g+=U)}p=ia.F._writeLit(256,_r,C,p)}return p},ia.F._copyExact=function(t,e,n,i,s){var g=s>>>3;return i[g]=n,i[g+1]=n>>>8,i[g+2]=255-i[g],i[g+3]=255-i[g+1],g+=4,i.set(new Uint8Array(t.buffer,e,n),g),s+(n+4<<3)},ia.F.getTrees=function(){for(var t=ia.F.U,e=ia.F._hufTree(t.lhst,t.ltree,15),n=ia.F._hufTree(t.dhst,t.dtree,15),i=[],s=ia.F._lenCodes(t.ltree,i),g=[],l=ia.F._lenCodes(t.dtree,g),C=0;C<i.length;C+=2)t.ihst[i[C]]++;for(C=0;C<g.length;C+=2)t.ihst[g[C]]++;C=ia.F._hufTree(t.ihst,t.itree,7);for(var p=19;4<p&&t.itree[1+(t.ordr[p-1]<<1)]==0;)p--;return[e,n,C,s,l,p,i,g]},ia.F.getSecond=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(t[n+1]);return e},ia.F.nonZero=function(t){for(var e="",n=0;n<t.length;n+=2)t[n+1]!=0&&(e+=(n>>1)+",");return e},ia.F.contSize=function(t,e){for(var n=0,i=0;i<e.length;i++)n+=e[i]*t[1+(i<<1)];return n},ia.F._codeTiny=function(t,e,n,i){for(var s=0;s<t.length;s+=2){var g=t[s],l=t[s+1];i=ia.F._writeLit(g,e,n,i);var C=g==16?2:g==17?3:7;15<g&&(ia.F._putsE(n,i,l,C),i+=C)}return i},ia.F._lenCodes=function(t,e){for(var n=t.length;n!=2&&t[n-1]==0;)n-=2;for(var i=0;i<n;i+=2){var s=t[i+1],g=i+3<n?t[i+3]:-1,l=i+5<n?t[i+5]:-1,C=i==0?-1:t[i-1];if(s==0&&g==s&&l==s){for(g=i+5;g+2<n&&t[g+2]==s;)g+=2;11>(s=Math.min(g+1-i>>>1,138))?e.push(17,s-3):e.push(18,s-11),i+=2*s-2}else if(s==C&&g==s&&l==s){for(g=i+5;g+2<n&&t[g+2]==s;)g+=2;s=Math.min(g+1-i>>>1,6),e.push(16,s-3),i+=2*s-2}else e.push(s,0)}return n>>>1},ia.F._hufTree=function(t,e,n){var i=[],s=t.length,g=e.length,l=0;for(l=0;l<g;l+=2)e[l]=0,e[l+1]=0;for(l=0;l<s;l++)t[l]!=0&&i.push({lit:l,f:t[l]});if(t=i.length,s=i.slice(0),t==0)return 0;if(t==1)return e[1+((n=i[0].lit)<<1)]=1,e[1+((n==0?1:0)<<1)]=1;i.sort(function(Q,y){return Q.f-y.f}),l=i[0],g=i[1];var C=0,p=1,B=2;for(i[0]={lit:-1,f:l.f+g.f,l,r:g,d:0};p!=t-1;)l=C!=p&&(B==t||i[C].f<i[B].f)?i[C++]:i[B++],g=C!=p&&(B==t||i[C].f<i[B].f)?i[C++]:i[B++],i[p++]={lit:-1,f:l.f+g.f,l,r:g};for((i=ia.F.setDepth(i[p-1],0))>n&&(ia.F.restrictDepth(s,n,i),i=n),l=0;l<t;l++)e[1+(s[l].lit<<1)]=s[l].d;return i},ia.F.setDepth=function(t,e){return t.lit!=-1?t.d=e:Math.max(ia.F.setDepth(t.l,e+1),ia.F.setDepth(t.r,e+1))},ia.F.restrictDepth=function(t,e,n){var i=0,s=1<<n-e,g=0;for(t.sort(function(C,p){return p.d==C.d?C.f-p.f:p.d-C.d}),i=0;i<t.length&&t[i].d>e;i++){var l=t[i].d;t[i].d=e,g+=s-(1<<n-l)}for(g>>>=n-e;0<g;)(l=t[i].d)<e?(t[i].d++,g-=1<<e-l-1):i++;for(;0<=i;i--)t[i].d==e&&0>g&&(t[i].d--,g++);g!=0&&console.log("debt left")},ia.F._goodIndex=function(t,e){var n=0;return e[16|n]<=t&&(n|=16),e[8|n]<=t&&(n|=8),e[4|n]<=t&&(n|=4),e[2|n]<=t&&(n|=2),e[1|n]<=t&&(n|=1),n},ia.F._writeLit=function(t,e,n,i){return ia.F._putsF(n,i,e[t<<1]),i+e[1+(t<<1)]},ia.F.inflate=function(t,e){var n=Uint8Array;if(t[0]==3&&t[1]==0)return e||new n(0);var i=ia.F,s=i._bitsF,g=i._bitsE,l=i._decodeTiny,C=i.makeCodes,p=i.codes2map,B=i._get17,Q=i.U,y=e==null;y&&(e=new n(t.length>>>2<<3));for(var _,S,w,O,P=0,K=0,M=S=0,U=0;P==0;)if(P=s(t,U,1),_=s(t,U+1,2),U+=3,_==0)7&U&&(U+=8-(7&U)),_=t[(U=4+(U>>>3))-4]|t[U-3]<<8,y&&(e=ia.F._check(e,M+_)),e.set(new n(t.buffer,t.byteOffset+U,_),M),U=U+_<<3,M+=_;else{if(y&&(e=ia.F._check(e,M+131072)),_==1&&(w=Q.flmap,O=Q.fdmap,K=511,S=31),_==2){for(S=g(t,U,5)+257,_=g(t,U+5,5)+1,w=g(t,U+10,4)+4,U+=14,O=0;38>O;O+=2)Q.itree[O]=0,Q.itree[O+1]=0;for(K=1,O=0;O<w;O++){var F=g(t,U+3*O,3);Q.itree[1+(Q.ordr[O]<<1)]=F,F>K&&(K=F)}U+=3*w,C(Q.itree,K),p(Q.itree,K,Q.imap),w=Q.lmap,O=Q.dmap,U=l(Q.imap,(1<<K)-1,S+_,t,U,Q.ttree),K=(1<<(F=i._copyOut(Q.ttree,0,S,Q.ltree)))-1,S=(1<<(_=i._copyOut(Q.ttree,S,_,Q.dtree)))-1,C(Q.ltree,F),p(Q.ltree,F,w),C(Q.dtree,_),p(Q.dtree,_,O)}for(;;)if(U+=15&(_=w[B(t,U)&K]),(F=_>>>4)>>>8==0)e[M++]=F;else{if(F==256)break;_=M+F-254,264<F&&(_=M+((F=Q.ldef[F-257])>>>3)+g(t,U,7&F),U+=7&F),U+=15&(F=O[B(t,U)&S]);var W=((F=Q.ddef[F>>>4])>>>4)+s(t,U,15&F);for(U+=15&F,y&&(e=ia.F._check(e,M+131072));M<_;)e[M]=e[M++-W],e[M]=e[M++-W],e[M]=e[M++-W],e[M]=e[M++-W];M=_}}return e.length==M?e:e.slice(0,M)},ia.F._check=function(t,e){var n=t.length;return e<=n?t:((e=new Uint8Array(Math.max(n<<1,e))).set(t,0),e)},ia.F._decodeTiny=function(t,e,n,i,s,g){for(var l=ia.F._bitsE,C=ia.F._get17,p=0;p<n;){var B=t[C(i,s)&e];s+=15&B;var Q=B>>>4;if(15>=Q)g[p]=Q,p++;else{var y=B=0;for(Q==16?(y=3+l(i,s,2),s+=2,B=g[p-1]):Q==17?(y=3+l(i,s,3),s+=3):Q==18&&(y=11+l(i,s,7),s+=7),Q=p+y;p<Q;)g[p]=B,p++}}return s},ia.F._copyOut=function(t,e,n,i){for(var s=0,g=0,l=i.length>>>1;g<n;){var C=t[g+e];i[g<<1]=0,i[1+(g<<1)]=C,C>s&&(s=C),g++}for(;g<l;)i[g<<1]=0,i[1+(g<<1)]=0,g++;return s},ia.F.makeCodes=function(t,e){var n,i,s=ia.F.U,g=t.length,l=s.bl_count;for(n=0;n<=e;n++)l[n]=0;for(n=1;n<g;n+=2)l[t[n]]++;for(s=s.next_code,n=0,l[0]=0,i=1;i<=e;i++)n=n+l[i-1]<<1,s[i]=n;for(e=0;e<g;e+=2)(l=t[e+1])!=0&&(t[e]=s[l],s[l]++)},ia.F.codes2map=function(t,e,n){for(var i=t.length,s=ia.F.U.rev15,g=0;g<i;g+=2)if(t[g+1]!=0){var l=t[g+1],C=g>>1<<4|l,p=e-l;for(p=(l=t[g]<<p)+(1<<p);l!=p;)n[s[l]>>>15-e]=C,l++}},ia.F.revCodes=function(t,e){for(var n=ia.F.U.rev15,i=15-e,s=0;s<t.length;s+=2)t[s]=n[t[s]<<e-t[s+1]]>>>i},ia.F._putsE=function(t,e,n){n<<=7&e,t[e>>>=3]|=n,t[e+1]|=n>>>8},ia.F._putsF=function(t,e,n){n<<=7&e,t[e>>>=3]|=n,t[e+1]|=n>>>8,t[e+2]|=n>>>16},ia.F._bitsE=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8)>>>(7&e)&(1<<n)-1},ia.F._bitsF=function(t,e,n){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)&(1<<n)-1},ia.F._get17=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16)>>>(7&e)},ia.F._get25=function(t,e){return(t[e>>>3]|t[1+(e>>>3)]<<8|t[2+(e>>>3)]<<16|t[3+(e>>>3)]<<24)>>>(7&e)},ia.F.U=function(){var t=Uint16Array,e=Uint32Array;return{next_code:new t(16),bl_count:new t(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new t(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new e(32),flmap:new t(512),fltree:[],fdmap:new t(32),fdtree:[],lmap:new t(32768),ltree:[],ttree:[],dmap:new t(32768),dtree:[],imap:new t(512),itree:[],rev15:new t(32768),lhst:new e(286),dhst:new e(30),ihst:new e(19),lits:new e(15e3),strt:new t(65536),prev:new t(32768)}}(),function(){function t(s,g,l){for(;g--!=0;)s.push(0,l)}for(var e=ia.F.U,n=0;32768>n;n++){var i=n;i=(4278255360&(i=(4042322160&(i=(3435973836&(i=(2863311530&i)>>>1|(1431655765&i)<<1))>>>2|(858993459&i)<<2))>>>4|(252645135&i)<<4))>>>8|(16711935&i)<<8,e.rev15[n]=(i>>>16|i<<16)>>>17}for(n=0;32>n;n++)e.ldef[n]=e.of0[n]<<3|e.exb[n],e.ddef[n]=e.df0[n]<<4|e.dxb[n];t(e.fltree,144,8),t(e.fltree,112,9),t(e.fltree,24,7),t(e.fltree,8,8),ia.F.makeCodes(e.fltree,9),ia.F.codes2map(e.fltree,9,e.flmap),ia.F.revCodes(e.fltree,9),t(e.fdtree,32,5),ia.F.makeCodes(e.fdtree,5),ia.F.codes2map(e.fdtree,5,e.fdmap),ia.F.revCodes(e.fdtree,5),t(e.itree,19,0),t(e.ltree,286,0),t(e.dtree,30,0),t(e.ttree,320,0)}();var nz=ia.inflate,Jq=new Map,$o=function(){var t=new Date;return"".concat(t.toISOString().split("T")[1].replace(/\..+/,""),".").concat(t.getMilliseconds())},qj=Object.keys,oj=Object.entries.bind(Object),ra={initRTM:"initRTM",login:"login",logout:"logout",renewToken:"renewToken",updateConfig:"updateConfig",publish:"publish",subscribe:"subscribe",unsubscribe:"unsubscribe",createStreamChannel:"createStreamChannel",leave:"leave",joinTopic:"joinTopic",join:"join",publishTopicMessage:"publishTopicMessage",leaveTopic:"leaveTopic",subscribeTopic:"subscribeTopic",unsubscribeTopic:"unsubscribeTopic",getSubscribedUserList:"getSubscribedUserList",setChannelMetadata:"setChannelMetadata",getChannelMetadata:"getChannelMetadata",removeChannelMetadata:"removeChannelMetadata",updateChannelMetadata:"updateChannelMetadata",setUserMetadata:"setUserMetadata",getUserMetadata:"getUserMetadata",removeUserMetadata:"removeUserMetadata",updateUserMetadata:"updateUserMetadata",subscribeUserMetadata:"subscribeUserMetadata",unsubscribeUserMetadata:"unsubscribeUserMetadata",setLock:"setLock",removeLock:"removeLock",acquireLock:"acquireLock",releaseLock:"releaseLock",revokeLock:"revokeLock",getLock:"getLock",rtm:"rtm",presenceSetState:"presenceSetState",whereNow:"whereNow",whoNow:"whoNow",presenceGetState:"presenceGetState",presenceRemoveState:"presenceRemoveState",storage:"storage"},oz=function(){function t(e){Xa(this,t),E(this,"view",void 0),E(this,"offset",void 0),this.view=new DataView(e),this.offset=0}return Db(t,[{key:"getString",value:function(){var e=this.view.getUint16(this.offset,!0);this.offset+=2;var n=new Uint8Array(this.view.buffer,this.offset,e);return this.offset+=e,new TextDecoder().decode(n)}},{key:"getUint32",value:function(){var e=this.view.getUint32(this.offset,!0);return this.offset+=4,e}},{key:"getUint16",value:function(){var e=this.view.getUint16(this.offset,!0);return this.offset+=2,e}},{key:"pack",value:function(){return this.view.buffer.slice(this.offset)}}]),t}(),QG=["CODE"],Tc,sf,pa;(function(t){t.CHINA="CN",t.ASIA="AS",t.NORTH_AMERICA="NA",t.EUROPE="EU",t.JAPAN="JP",t.INDIA="IN",t.OCEANIA="OC",t.SOUTH_AMERICA="SA",t.AFRICA="AF",t.GLOBAL="GLOBAL",t.OVERSEA="OVERSEA",t.SOUTH_KOREA="KR",t.UNITED_STATES="US"})(pa||(pa={})),pa.CHINA,pa.NORTH_AMERICA,pa.EUROPE,pa.ASIA,pa.JAPAN,pa.INDIA,pa.OCEANIA,pa.OVERSEA,pa.SOUTH_AMERICA,pa.AFRICA,pa.SOUTH_KOREA,pa.UNITED_STATES,pa.GLOBAL;for(var rj=Oq((Tc={},E(Tc,pa.ASIA,{CODE:pa.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.NORTH_AMERICA,{CODE:pa.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.EUROPE,{CODE:pa.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.JAPAN,{CODE:pa.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.INDIA,{CODE:pa.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.OVERSEA,{CODE:pa.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),E(Tc,pa.GLOBAL,{CODE:pa.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.OCEANIA,{CODE:pa.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.SOUTH_AMERICA,{CODE:pa.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.AFRICA,{CODE:pa.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.CHINA,{CODE:pa.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["statscollector-1-china.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-china.agora.io"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.SOUTH_KOREA,{CODE:pa.SOUTH_KOREA,AP_DOMAINS:["ap-web-1-korea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-korea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-korea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-korea.agora.io"],LOG_UPLOAD_SERVER:["logservice-korea.agora.io"],PROXY_AP:["proxy-ap-web-korea.agora.io"],PROXY_NGINX:["korea.webrtc-cloud-proxy.sd-rtn.com"]}),E(Tc,pa.UNITED_STATES,{CODE:pa.UNITED_STATES,AP_DOMAINS:["ap-web-1-us.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-us.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-us.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-us.agora.io"],LOG_UPLOAD_SERVER:["logservice-us.agora.io"],PROXY_AP:["proxy-ap-web-us.agora.io"],PROXY_NGINX:["us.webrtc-cloud-proxy.sd-rtn.com"]}),Tc)),Oh=(sf={},E(sf,pa.ASIA,[pa.CHINA,pa.JAPAN,pa.INDIA]),E(sf,pa.EUROPE,[]),E(sf,pa.NORTH_AMERICA,[]),E(sf,pa.SOUTH_AMERICA,[]),E(sf,pa.OCEANIA,[]),E(sf,pa.AFRICA,[]),sf),ww=[pa.GLOBAL,pa.CHINA,pa.NORTH_AMERICA,pa.EUROPE,pa.ASIA,pa.JAPAN,pa.INDIA,pa.OCEANIA,pa.SOUTH_AMERICA,pa.AFRICA],Pq=function(t){return Object.values(Oh).flat().includes(t)},qz=function(t){var e;return(e=oj(Oh).find(function(n){return(n=vc(n,2))[0],n[1].includes(t)}))===null||e===void 0?void 0:e[0]},RG=function(t){return t.sort(function(e,n){return ww.indexOf(e)-ww.indexOf(n)})},Nh=function(t){var e=new Set;if((t=RG(t).slice(0,3).map(function(n){var i=rj[n];if(i===void 0)throw new Qc("invalid area key");return n=i.CODE,i=Qp(i,QG),e.add(n),i})).length===0)throw new Qc("areas cannot be empty");return lb({CODES:e},t.reduce(function(n,i){for(var s=0,g=oj(n);s<g.length;s++){var l=vc(g[s],2),C=l[0];l=l[1],n[C]=Array.from(new Set([].concat(ta(i[C]),ta(l))))}return n}))},ua,ap={0:9591,1:9593},SG={USE_NEW_LOGIN_PROTO:!0,AP_DOMAIN:void 0,EDGE_DOMAIN_TLD:void 0,EDGE_IP_LIST:void 0,EDGE_ENV_PORT:ap,REGISTRAR_USE_WS:!1,APP_CENTER_DOMAIN:void 0,SYNC_ADDRESS:void 0,SYNC_USE_WS:void 0},bp=lb(lb({RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:1e4,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0,MAX_STATE_COUNT:32,SYNC_UNILBS:!0,USE_STAGING_REPORT_DOMAIN:!1,PRINT_TICK_LOG:!1},{RTM2_ENABLED:!0,LOCK_ENABLED:!0,STORAGE_ENABLED:!0,STORAGE_CHANNEL_SUB_ENABLED:!0,STORAGE_USER_SUB_ENABLED:!0,PRESENCE_INTERVAL:30,PRESENCE_THRESHOLD:50,PRESENCE_DEBOUNCE:2,PRESENCE_TIMEOUT:300,PRESENCE_RPC_TIMEOUT:5,PRESENCE_INTERVAL_OCCUPANCY:void 0}),SG),Nk=new(function(){function t(){Xa(this,t)}return Db(t,[{key:"_setParameter",value:function(e,n){console.log(JSON.stringify({key:e,value:n}),"RTM setParameter"),Object.keys(bp).includes(e)&&(bp[e]=n)}},{key:"_getParameter",value:function(e){return bp[e]}},{key:"setParameter",value:function(e,n){return this._setParameter(e,n)}},{key:"getParameter",value:function(e){return this._getParameter(e)}}]),t}()),TG=Nk.setParameter.bind(Nk),Ma=Nk.getParameter.bind(Nk),xw=Ua(function(t){var e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(e){var n=new Uint8Array(16);t.exports=function(){return e(n),n}}else{var i=Array(16);t.exports=function(){for(var s,g=0;16>g;g++)!(3&g)&&(s=4294967296*Math.random()),i[g]=s>>>((3&g)<<3)&255;return i}}}),Hc=[],Ok=0;256>Ok;++Ok)Hc[Ok]=(Ok+256).toString(16).substr(1);var yw=function(t,e){return e=e||0,[Hc[t[e++]],Hc[t[e++]],Hc[t[e++]],Hc[t[e++]],"-",Hc[t[e++]],Hc[t[e++]],"-",Hc[t[e++]],Hc[t[e++]],"-",Hc[t[e++]],Hc[t[e++]],"-",Hc[t[e++]],Hc[t[e++]],Hc[t[e++]],Hc[t[e++]],Hc[t[e++]],Hc[t[e++]]].join("")},sh=function(t,e,n){if(n=e&&n||0,typeof t=="string"&&(e=t==="binary"?Array(16):null,t=null),(t=(t=t||{}).random||(t.rng||xw)())[6]=15&t[6]|64,t[8]=63&t[8]|128,e)for(var i=0;16>i;++i)e[n+i]=t[i];return e||yw(t)},UG=sh(),Rq=!1,Sq=new AbortController,zw=!0;"findIndex"in[]&&Array(1).findIndex(function(){zw=!1}),Ha({target:"Array",proto:!0,forced:zw},{findIndex:function(t){return Xm(this,t,1<arguments.length?arguments[1]:void 0)}}),Wg("findIndex");var VG=!!Ge&&Pa(function(){Ge.prototype.finally.call({then:function(){}},function(){})});if(Ha({target:"Promise",proto:!0,real:!0,forced:VG},{finally:function(t){var e=jf(this,Sd("Promise")),n=typeof t=="function";return this.then(n?function(i){return Nn(e,t()).then(function(){return i})}:t,n?function(i){return Nn(e,t()).then(function(){throw i})}:t)}}),typeof Ge=="function"){var Aw=Sd("Promise").prototype.finally;Ge.prototype.finally!==Aw&&Vb(Ge.prototype,"finally",Aw,{unsafe:!0})}var Bw=Rd,WG=Pa(function(){Bw(1)});Ha({target:"Object",stat:!0,forced:!ob||WG,sham:!ob},{getOwnPropertyDescriptor:function(t,e){return Bw(cd(t),e)}});var cp=Sd("Reflect","apply"),XG=Function.apply,YG=!Pa(function(){cp(function(){})});Ha({target:"Reflect",stat:!0,forced:YG},{apply:function(t,e,n){return oe(t),Ob(n),cp?cp(t,e,n):XG.call(t,e,n)}}),Ha({target:"Reflect",stat:!0},{ownKeys:os}),Ha({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var th=(typeof Reflect>"u"?"undefined":Ia(Reflect))==="object"?Reflect:null,Cw=th&&typeof th.apply=="function"?th.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},ZG=th&&typeof th.ownKeys=="function"?th.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},Dw=Number.isNaN||function(t){return t!=t};yb.EventEmitter=yb,yb.prototype._events=void 0,yb.prototype._eventsCount=0,yb.prototype._maxListeners=void 0;var Ew=10;Object.defineProperty(yb,"defaultMaxListeners",{enumerable:!0,get:function(){return Ew},set:function(t){if(typeof t!="number"||0>t||Dw(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ew=t}}),yb.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},yb.prototype.setMaxListeners=function(t){if(typeof t!="number"||0>t||Dw(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},yb.prototype.getMaxListeners=function(){return this._maxListeners===void 0?yb.defaultMaxListeners:this._maxListeners},yb.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);n=t==="error";var i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;throw 0<e.length&&(s=e[0]),s instanceof Error?s:((e=Error("Unhandled error."+(s?" ("+s.message+")":""))).context=s,e)}if((n=i[t])===void 0)return!1;if(typeof n=="function")Cw(n,this,e);else for(i=Wq(n,s=n.length),n=0;n<s;++n)Cw(i[n],this,e);return!0},yb.prototype.addListener=function(t,e){return Tq(this,t,e,!1)},yb.prototype.on=yb.prototype.addListener,yb.prototype.prependListener=function(t,e){return Tq(this,t,e,!0)},yb.prototype.once=function(t,e){return sj(e),this.on(t,Uq(this,t,e)),this},yb.prototype.prependOnceListener=function(t,e){return sj(e),this.prependListener(t,Uq(this,t,e)),this},yb.prototype.removeListener=function(t,e){var n;sj(e);var i=this._events;if(i===void 0)return this;var s=i[t];if(s===void 0)return this;if(s===e||s.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,s.listener||e));else if(typeof s!="function"){var g=-1;for(n=s.length-1;0<=n;n--)if(s[n]===e||s[n].listener===e){var l=s[n].listener;g=n;break}if(0>g)return this;if(g===0)s.shift();else{for(;g+1<s.length;g++)s[g]=s[g+1];s.pop()}s.length===1&&(i[t]=s[0]),i.removeListener!==void 0&&this.emit("removeListener",t,l||e)}return this},yb.prototype.off=yb.prototype.removeListener,yb.prototype.removeAllListeners=function(t){var e=this._events;if(e===void 0)return this;if(e.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):e[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete e[t]),this;if(arguments.length===0){var n=Object.keys(e);for(e=0;e<n.length;++e){var i=n[e];i!=="removeListener"&&this.removeAllListeners(i)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(n=e[t])=="function")this.removeListener(t,n);else if(n!==void 0)for(e=n.length-1;0<=e;e--)this.removeListener(t,n[e]);return this},yb.prototype.listeners=function(t){return Vq(this,t,!0)},yb.prototype.rawListeners=function(t){return Vq(this,t,!1)},yb.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Xq.call(t,e)},yb.prototype.listenerCount=Xq,yb.prototype.eventNames=function(){return 0<this._eventsCount?ZG(this._events):[]},yb.once=function(t,e){return new Promise(function(n,i){function s(l){t.removeListener(e,g),i(l)}function g(){typeof t.removeListener=="function"&&t.removeListener("error",s),n([].slice.call(arguments))}Yq(t,e,g,{once:!0}),e!=="error"&&sz(t,s,{once:!0})})};var $G=Pa(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});Ha({target:"Date",proto:!0,forced:$G},{toJSON:function(t){t=nc(this);var e=le(t);return typeof e!="number"||isFinite(e)?t.toISOString():null}}),Ha({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var tz=Object.prototype.hasOwnProperty,dp=function(t,e,n){return JSON.stringify(Zq(t),e,n)};dp.ensureProperties=Zq;var wz=6048e5,vz=315576e5,aH=function(t,e){e=e||{};var n=Ia(t);if(n==="string"&&0<t.length)return uz(t);if(n==="number"&&isFinite(t))return e.long?t=864e5<=(e=Math.abs(t))?tj(t,e,864e5,"day"):36e5<=e?tj(t,e,36e5,"hour"):6e4<=e?tj(t,e,6e4,"minute"):1e3<=e?tj(t,e,1e3,"second"):t+" ms":t=864e5<=(e=Math.abs(t))?Math.round(t/864e5)+"d":36e5<=e?Math.round(t/36e5)+"h":6e4<=e?Math.round(t/6e4)+"m":1e3<=e?Math.round(t/1e3)+"s":t+"ms",t;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))},bH=function(t){function e(s){function g(){for(var Q=arguments.length,y=Array(Q),_=0;_<Q;_++)y[_]=arguments[_];if(g.enabled){Q=Number(new Date),g.diff=Q-(l||Q),g.prev=l,l=g.curr=Q,y[0]=e.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");var S=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,function(w,O){return w==="%%"?"%":(S++,typeof(O=e.formatters[O])=="function"&&(w=O.call(g,y[S]),y.splice(S,1),S--),w)}),e.formatArgs.call(g,y),(g.log||e.log).apply(g,y)}}var l,C,p,B=null;return g.namespace=s,g.useColors=e.useColors(),g.color=e.selectColor(s),g.extend=n,g.destroy=e.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:function(){return B!==null?B:(C!==e.namespaces&&(C=e.namespaces,p=e.enabled(s)),p)},set:function(Q){B=Q}}),typeof e.init=="function"&&e.init(g),g}function n(s,g){return(s=e(this.namespace+(g===void 0?":":g)+s)).log=this.log,s}function i(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(s){return s instanceof Error?s.stack||s.message:s},e.disable=function(){var s=[].concat(ta(e.names.map(i)),ta(e.skips.map(i).map(function(g){return"-"+g}))).join(",");return e.enable(""),s},e.enable=function(s){e.save(s),e.namespaces=s,e.names=[],e.skips=[];var g,l=(typeof s=="string"?s:"").split(/[\s,]+/),C=l.length;for(g=0;g<C;g++)l[g]&&((s=l[g].replace(/\*/g,".*?"))[0]==="-"?e.skips.push(new RegExp("^"+s.slice(1)+"$")):e.names.push(new RegExp("^"+s+"$")))},e.enabled=function(s){if(s[s.length-1]==="*")return!0;var g,l=0;for(g=e.skips.length;l<g;l++)if(e.skips[l].test(s))return!1;for(l=0,g=e.names.length;l<g;l++)if(e.names[l].test(s))return!0;return!1},e.humanize=aH,e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(function(s){e[s]=t[s]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(s){for(var g=0,l=0;l<s.length;l++)g=(g<<5)-g+s.charCodeAt(l),g|=0;return e.colors[Math.abs(g)%e.colors.length]},e.enable(e.load()),e},Fw=Ua(function(t,e){e.formatArgs=function(s){if(s[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+s[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),this.useColors){var g="color: "+this.color;s.splice(1,0,g,"color: inherit");var l=0,C=0;s[0].replace(/%[a-zA-Z%]/g,function(p){p!=="%%"&&(l++,p==="%c"&&(C=l))}),s.splice(C,0,g)}},e.save=function(s){try{s?e.storage.setItem("debug",s):e.storage.removeItem("debug")}catch{}},e.load=function(){try{var s=e.storage.getItem("debug")}catch{}return!s&&typeof process<"u"&&"env"in process&&(s=define_process_env_default.DEBUG),s},e.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var n=localStorage;break e}catch{}n=void 0}var i;e.storage=n,e.destroy=(i=!1,function(){i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),e.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),e.log=console.debug||console.log||function(){},t.exports=bH(e),t.exports.formatters.j=function(s){try{return JSON.stringify(s)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}}),uh;Fw("RTM:DEBUG").enabled=!1,function(t){t[t.Uploading=0]="Uploading",t[t.Free=1]="Free"}(uh||(uh={}));var Wl=function(){function t(e){Xa(this,t),E(this,"uploadRequest",void 0),E(this,"uploadState",void 0),E(this,"uploadResendCount",void 0),E(this,"LogCache",void 0),E(this,"LogsToPost",void 0),E(this,"processId",void 0),E(this,"sdkVersion",void 0),E(this,"logId",void 0),E(this,"PrivateConfig",void 0),this.processId=e.processId,this.sdkVersion=e.sdkVersion,this.PrivateConfig=e.PrivateConfig,this.uploadRequest=e.uploadRequest,this.uploadState=uh.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Db(t,[{key:"upload",value:function(e){this.LogCache.push(e),this.uploadState===uh.Free&&navigator.onLine&&(this.LogsToPost=100>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,100),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(e){var n=this;this.uploadState=uh.Uploading,setTimeout(wa(Z.mark(function i(){var s,g,l;return Z.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return s={sdk_version:n.sdkVersion,process_id:n.processId,payload:JSON.stringify(e)},C.prev=1,C.next=4,n.uploadRequest(s,(g=n.PrivateConfig.cloudProxy)!==null&&g!==void 0&&g);case 4:C.next=11;break;case 6:return C.prev=6,C.t0=C.catch(1),l=2>n.uploadResendCount++?2e3:1e4,setTimeout(function(){return n.postLog(n.LogsToPost)},l),C.abrupt("return");case 11:if(n.LogCache.length!==0){C.next=14;break}return n.uploadState=uh.Free,C.abrupt("return");case 14:n.uploadResendCount=0,n.LogsToPost=100>n.LogCache.length?n.LogCache.splice(0,n.LogCache.length):n.LogCache.splice(0,100),n.postLog(n.LogsToPost);case 17:case"end":return C.stop()}},i,null,[[1,6]])})),Ma("LOG_UPLOAD_INTERVAL"))}}]),t}(),Xl=function(){var t=wa(Z.mark(function e(n,i){var s,g,l,C,p,B=arguments;return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(2<(g=2<B.length&&B[2]!==void 0?B[2]:0))){Q.next=3;break}return Q.abrupt("return");case 3:return l={withCredentials:!0,body:n,timeout:2e4},C=0<g?(ua==null?void 0:ua.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(ua==null?void 0:ua.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",p=i?"https://".concat((s=ua==null?void 0:ua.PROXY_NGINX[0])!==null&&s!==void 0?s:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(C,"&p=443&d=upload/v1"):"https://".concat(C,"/upload/v1"),Q.next=8,Kf(p,l).catch(function(y){return Xl(n,i,g+1)});case 8:case"end":return Q.stop()}},e)}));return function(e,n){return t.apply(this,arguments)}}(),Ph=new Map,cH=function(t){if(Ph.has(t)&&Ph.get(t)instanceof Wl)return Ph.get(t);var e=new Wl({processId:"process-".concat(t),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v2.1.9-0-g612079de"),uploadRequest:Xl,PrivateConfig:{}});return Ph.set(t,e),e},ep="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),Gw="account ticket uid detail token fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip userId authorUid target lockName appTicket channelName publisher succeedUsers failedUsers".split(" "),Hw=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],dH="message presence topic lock storage MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),Dg=function(t){if(typeof t=="string")return Ca(t);if(Array.isArray(t)&&t.every(function(g){return typeof g=="string"}))return t.map(function(g){return Ca(g)});if(!Up(t)){for(var e={},n=0;n<Hw.length;n++){var i=Hw[n];i in t&&(e[i]=t[i])}if(0<Object.keys(e).length)return e;if(5>Object.keys(t).length){for(n=0,t=Object.entries(t);n<t.length;n++){var s=vc(t[n],2);i=s[0],s=s[1],ep.includes(i)?e[i]="[Hidden Info]":e[Ca(i)]=typeof s=="string"?Ca(s):"[Sensitive Info]"}return e}return Ia(t)==="object"?dp(Array.isArray(t)?t.map(Pk):Pk(t)):"[Sensitive Info]"}return t},Pk=function(t){return Ia(t)==="object"?rl(t)?Nq(de(t,5),ep,Gw):t.constructor&&t.constructor.name:t},Iw=function(t,e){return t instanceof Error?t.message:typeof t!="string"?JSON.stringify(Nq(de(t,5),ep,Gw)):(e=e.map(function(n){return n instanceof Error?n.message:Ia(n)==="object"?dp(Array.isArray(n)?n.map(Pk):Pk(n)):n}),ql.apply(void 0,[t.replace(/%[%Oo]/g,function(n){return n==="%%"?"%":n==="%o"||n==="%O"?"%s":n})].concat(ta(e))))},Jw=function(t,e,n,i,s){var g=Fw(t);return g.enabled=!0,g.log=s,g.useColors=!1,function(l){for(var C=arguments.length,p=Array(1<C?C-1:0),B=1;B<C;B++)p[B-1]=arguments[B];if(i.logUpload){C=ng(l);var Q=Iw(C,p);C=cH(e),B="".concat(C.logId++),C.upload({log_item_id:B,log_level:t,payload_str:"[".concat($o(),"] - ").concat(n," - ").concat(t," - ").concat(256<Q.length?Q.slice(0,256):Q)})}switch(C=function(y){var _=Q||Iw(ng(l),p),S=Ma("LOG_HANDLER");typeof S=="function"&&S({level:y,message:_}),g("[UTC_Time: ".concat($o(),"][uid: ").concat(Mq(n),"]").concat(_))},t){case"RTM:INFO":i.logFilter.info&&C("log");break;case"RTM:WARN":i.logFilter.warn&&C("warning");break;case"RTM:ERROR":i.logFilter.error&&C("error");break;case"RTM:TRACK":i.logFilter.track&&C("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":i.logFilter.debug&&C("debug");break;case"RTM:DEBUG":i.logFilter.debug&&C("debug")}}},uj,Kw=function(t){return function(e){var n=uj===1||t===void 0?"":"Ins#".concat(t," ");return"".concat(n).concat(e)}},fp=function(t,e,n,i,s){var g=Kw(uj);return Jw("RTM:".concat(e),i,s,n,function(l){return t(g(l))})},Kc=function(t){function e(i,s){var g=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Xa(this,e);var l=n.call(this);if(E(J(l),"logError",void 0),E(J(l),"invokeTracker",void 0),E(J(l),"resultTracker",void 0),E(J(l),"errorTracker",void 0),E(J(l),"eventTracker",void 0),E(J(l),"info",void 0),E(J(l),"warn",void 0),E(J(l),"log",void 0),E(J(l),"genLogger",void 0),E(J(l),"loggerId",void 0),E(J(l),"logger",void 0),E(J(l),"name",void 0),l.logger=i,l.name=s,l.loggerId=i.loggerId,l.info=i.info,l.warn=i.warn,l.logError=i.logError,l.genLogger=i.genLogger,l.log=i.genLogger("RTM:DEBUG","<".concat(s,"> ")),l.invokeTracker=i.genTracker("Invoke"),l.eventTracker=i.genTracker("Event"),l.resultTracker=i.genTracker("Result"),l.errorTracker=i.genTracker("Error"),g){var C=l.emit.bind(J(l));l.emit=function(){for(var p=arguments.length,B=Array(p),Q=0;Q<p;Q++)B[Q]=arguments[Q];p=B[0],Q=B.slice(1);var y=dH.includes(p);l.eventTracker.apply(l,["%s: ".concat(0<Q.length?"%s emitted with args: ".concat(Q.map(function(){return"%o"})):"%s emitted"),s,p].concat(ta(y?Q.map(Dg):Q)));try{return C.apply(void 0,B),!0}catch(_){return l.logError("Caught in the callback function of the event %s",p,_),!1}}}return l}rb(e,t);var n=sb(e);return e}(yb),eH=function(t,e,n){return fp(console.log.bind(console),"INFO",t,e,n)},fH=function(t,e,n){return fp(console.warn.bind(console),"WARN",t,e,n)},gH=function(t,e,n){return fp(console.error.bind(console),"ERROR",t,e,n)},Lw=function(t,e,n,i){return function(s){var g=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",l=Kw(t),C=e.logFilter.debug?console.debug.bind(console):console.log.bind(console),p=Jw(s,n,i,e,function(B){return C(l(B))});return function(B){for(var Q=arguments.length,y=Array(1<Q?Q-1:0),_=1;_<Q;_++)y[_-1]=arguments[_];return p.apply(void 0,[g+B].concat(y))}}},hH=function(t,e,n,i){return function(s){return Lw(t,e,n,i)("RTM:TRACK","[".concat(s,"] "))}},iH=Math.floor;Ha({target:"Number",stat:!0},{isInteger:function(t){return!jb(t)&&isFinite(t)&&iH(t)===t}});var vh=function(){function t(e){this._promise=e}return t.fromSafePromise=function(e){return new t(e=e.then(function(n){return new sd(n)}))},t.fromPromise=function(e,n){return new t(e=e.then(function(i){return new sd(i)}).catch(function(i){return new hd(n(i))}))},t.combine=function(e){return vh.fromSafePromise(Promise.all(e)).andThen(Mw)},t.combineWithAllErrors=function(e){return vh.fromSafePromise(Promise.all(e)).andThen(Nw)},t.prototype.map=function(e){var n=this;return new t(this._promise.then(function(i){return $l(n,void 0,void 0,function(){var s;return am(this,function(g){switch(g.label){case 0:return i.isErr()?[2,new hd(i.error)]:(s=sd.bind,[4,e(i.value)]);case 1:return[2,new(s.apply(sd,[void 0,g.sent()]))]}})})}))},t.prototype.mapErr=function(e){var n=this;return new t(this._promise.then(function(i){return $l(n,void 0,void 0,function(){var s;return am(this,function(g){switch(g.label){case 0:return i.isOk()?[2,new sd(i.value)]:(s=hd.bind,[4,e(i.error)]);case 1:return[2,new(s.apply(hd,[void 0,g.sent()]))]}})})}))},t.prototype.andThen=function(e){return new t(this._promise.then(function(n){return n.isErr()?new hd(n.error):(n=e(n.value))instanceof t?n._promise:n}))},t.prototype.orElse=function(e){var n=this;return new t(this._promise.then(function(i){return $l(n,void 0,void 0,function(){return am(this,function(s){return i.isErr()?[2,e(i.error)]:[2,new sd(i.value)]})})}))},t.prototype.match=function(e,n){return this._promise.then(function(i){return i.match(e,n)})},t.prototype.unwrapOr=function(e){return this._promise.then(function(n){return n.unwrapOr(e)})},t.prototype.then=function(e,n){return this._promise.then(e,n)},t}(),Qk=vh.fromPromise,jH=function(t){return function(e){return Mf(Mf([],vj(e),!1),[t],!1)}},Mw=function(t){return t.reduce(function(e,n){return e.isOk()?n.isErr()?new hd(n.error):e.map(jH(n.value)):e},new sd([]))},Nw=function(t){return t.reduce(function(e,n){return n.isErr()?e.isErr()?new hd(Mf(Mf([],vj(e.error),!1),[n.error],!1)):new hd([n.error]):e.isErr()?e:new sd(Mf(Mf([],vj(e.value),!1),[n.value],!1))},new sd([]))},kH={withStackTrace:!1},Ow=function(t,e,n){return n===void 0&&(n=kH),{data:e.isOk()?{type:"Ok",value:e.value}:{type:"Err",value:e.error},message:t,stack:n.withStackTrace?Error().stack:void 0}},gp;(function(t){t.fromThrowable=function(e,n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];try{var g=e.apply(void 0,Mf([],vj(i),!1));return new sd(g)}catch(l){return new hd(n?n(l):l)}}},t.combine=function(e){return Mw(e)},t.combineWithAllErrors=function(e){return Nw(e)}})(gp||(gp={}));var sd=function(){function t(e){this.value=e}return t.prototype.isOk=function(){return!0},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(e){return new sd(e(this.value))},t.prototype.mapErr=function(e){return new sd(this.value)},t.prototype.andThen=function(e){return e(this.value)},t.prototype.orElse=function(e){return new sd(this.value)},t.prototype.asyncAndThen=function(e){return e(this.value)},t.prototype.asyncMap=function(e){return vh.fromSafePromise(e(this.value))},t.prototype.unwrapOr=function(e){return this.value},t.prototype.match=function(e,n){return e(this.value)},t.prototype._unsafeUnwrap=function(e){return this.value},t.prototype._unsafeUnwrapErr=function(e){throw Ow("Called `_unsafeUnwrapErr` on an Ok",this,e)},t}(),hd=function(){function t(e){this.error=e}return t.prototype.isOk=function(){return!1},t.prototype.isErr=function(){return!this.isOk()},t.prototype.map=function(e){return new hd(this.error)},t.prototype.mapErr=function(e){return new hd(e(this.error))},t.prototype.andThen=function(e){return new hd(this.error)},t.prototype.orElse=function(e){return e(this.error)},t.prototype.asyncAndThen=function(e){return new vh(Promise.resolve(new hd(this.error)))},t.prototype.asyncMap=function(e){return new vh(Promise.resolve(new hd(this.error)))},t.prototype.unwrapOr=function(e){return e},t.prototype.match=function(e,n){return n(this.error)},t.prototype._unsafeUnwrap=function(e){throw Ow("Called `_unsafeUnwrap` on an Err",this,e)},t.prototype._unsafeUnwrapErr=function(e){return this.error},t}();gp.fromThrowable,ru("from",$n,Zn);var lH=function(t,e){for(var n=Array(arguments.length-1),i=0,s=2,g=!0;s<arguments.length;)n[i++]=arguments[s++];return new Promise(function(l,C){n[i]=function(p){if(g)if(g=!1,p)C(p);else{for(var B=Array(arguments.length-1),Q=0;Q<B.length;)B[Q++]=arguments[Q];l.apply(null,B)}};try{t.apply(e||null,n)}catch(p){g&&(g=!1,C(p))}})},mH=Ua(function(t,e){e.length=function(s){var g=s.length;if(!g)return 0;for(var l=0;1<--g%4&&s.charAt(g)==="=";)++l;return Math.ceil(3*s.length)/4-l};var n=Array(64),i=Array(123);for(t=0;64>t;)i[n[t]=26>t?t+65:52>t?t+71:62>t?t-4:t-59|43]=t++;e.encode=function(s,g,l){for(var C,p=null,B=[],Q=0,y=0;g<l;){var _=s[g++];switch(y){case 0:B[Q++]=n[_>>2],C=(3&_)<<4,y=1;break;case 1:B[Q++]=n[C|_>>4],C=(15&_)<<2,y=2;break;case 2:B[Q++]=n[C|_>>6],B[Q++]=n[63&_],y=0}8191<Q&&((p||(p=[])).push(String.fromCharCode.apply(String,B)),Q=0)}return y&&(B[Q++]=n[C],B[Q++]=61,y===1&&(B[Q++]=61)),p?(Q&&p.push(String.fromCharCode.apply(String,B.slice(0,Q))),p.join("")):String.fromCharCode.apply(String,B.slice(0,Q))},e.decode=function(s,g,l){for(var C,p=l,B=0,Q=0;Q<s.length;){var y=s.charCodeAt(Q++);if(y===61&&1<B)break;if((y=i[y])===void 0)throw Error("invalid encoding");switch(B){case 0:C=y,B=1;break;case 1:g[l++]=C<<2|(48&y)>>4,C=y,B=2;break;case 2:g[l++]=(15&C)<<4|(60&y)>>2,C=y,B=3;break;case 3:g[l++]=(3&C)<<6|y,B=0}}if(B===1)throw Error("invalid encoding");return l-p},e.test=function(s){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(s)}});wj.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},wj.prototype.off=function(t,e){if(t===void 0)this._listeners={};else if(e===void 0)this._listeners[t]=[];else{t=this._listeners[t];for(var n=0;n<t.length;)t[n].fn===e?t.splice(n,1):++n}return this},wj.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<e.length;)e[i].fn.apply(e[i++].ctx,n)}return this},mf("Float32",function(t){return function(e,n,i){return t(this,e,n,i)}});var nH=er(er),oH=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(t){}return null},pH=Ua(function(t,e){e.length=function(n){for(var i,s=0,g=0;g<n.length;++g)128>(i=n.charCodeAt(g))?s+=1:2048>i?s+=2:(64512&i)==55296&&(64512&n.charCodeAt(g+1))==56320?(++g,s+=4):s+=3;return s},e.read=function(n,i,s){if(1>s-i)return"";for(var g,l=null,C=[],p=0;i<s;)128>(g=n[i++])?C[p++]=g:191<g&&224>g?C[p++]=(31&g)<<6|63&n[i++]:239<g&&365>g?(g=((7&g)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++])-65536,C[p++]=55296+(g>>10),C[p++]=56320+(1023&g)):C[p++]=(15&g)<<12|(63&n[i++])<<6|63&n[i++],8191<p&&((l||(l=[])).push(String.fromCharCode.apply(String,C)),p=0);return l?(p&&l.push(String.fromCharCode.apply(String,C.slice(0,p))),l.join("")):String.fromCharCode.apply(String,C.slice(0,p))},e.write=function(n,i,s){for(var g,l,C=s,p=0;p<n.length;++p)128>(g=n.charCodeAt(p))?i[s++]=g:(2048>g?i[s++]=g>>6|192:((64512&g)==55296&&(64512&(l=n.charCodeAt(p+1)))==56320?(g=65536+((1023&g)<<10)+(1023&l),++p,i[s++]=g>>18|240,i[s++]=g>>12&63|128):i[s++]=g>>12|224,i[s++]=g>>6&63|128),i[s++]=63&g|128);return s-C}}),qH=function(t,e,n){var i=n||8192,s=i>>>1,g=null,l=i;return function(C){return 1>C||C>s?t(C):(l+C>i&&(g=t(i),l=0),C=e.call(g,l,l+=C),7&l&&(l=1+(7|l)),C)}},gg=wc.zero=new wc(0,0);gg.toNumber=function(){return 0},gg.zzEncode=gg.zzDecode=function(){return this},gg.length=function(){return 1};var rH=wc.zeroHash="\0\0\0\0\0\0\0\0";wc.fromNumber=function(t){if(t===0)return gg;var e=0>t;e&&(t=-t);var n=t>>>0;return t=(t-n)/4294967296>>>0,e&&(t=~t>>>0,n=~n>>>0,4294967295<++n&&(n=0,4294967295<++t&&(t=0))),new wc(n,t)},wc.from=function(t){if(typeof t=="number")return wc.fromNumber(t);if(eb.isString(t)){if(!eb.Long)return wc.fromNumber(parseInt(t,10));t=eb.Long.fromString(t)}return t.low||t.high?new wc(t.low>>>0,t.high>>>0):gg},wc.prototype.toNumber=function(t){if(!t&&this.hi>>>31){t=1+~this.lo>>>0;var e=~this.hi>>>0;return t||(e=e+1>>>0),-(t+4294967296*e)}return this.lo+4294967296*this.hi},wc.prototype.toLong=function(t){return eb.Long?new eb.Long(0|this.lo,0|this.hi,!!t):{low:0|this.lo,high:0|this.hi,unsigned:!!t}};var tf=String.prototype.charCodeAt;wc.fromHash=function(t){return t===rH?gg:new wc((tf.call(t,0)|tf.call(t,1)<<8|tf.call(t,2)<<16|tf.call(t,3)<<24)>>>0,(tf.call(t,4)|tf.call(t,5)<<8|tf.call(t,6)<<16|tf.call(t,7)<<24)>>>0)},wc.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},wc.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},wc.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},wc.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?e===0?16384>t?128>t?1:2:2097152>t?3:4:16384>e?128>e?5:6:2097152>e?7:8:128>n?9:10};var eb=Ua(function(t,e){function n(s,g,l){for(var C=Object.keys(g),p=0;p<C.length;++p)s[C[p]]!==void 0&&l||(s[C[p]]=g[C[p]]);return s}function i(s){function g(l,C){if(!(this instanceof g))return new g(l,C);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,g):Object.defineProperty(this,"stack",{value:Error().stack||""}),C&&n(this,C)}return(g.prototype=Object.create(Error.prototype)).constructor=g,Object.defineProperty(g.prototype,"name",{get:function(){return s}}),g.prototype.toString=function(){return this.name+": "+this.message},g}e.asPromise=lH,e.base64=mH,e.EventEmitter=wj,e.float=nH,e.inquire=oH,e.utf8=pH,e.pool=qH,e.LongBits=wc,e.isNode=!!(xa!==void 0&&xa&&xa.process&&xa.process.versions&&xa.process.versions.node),e.global=e.isNode&&xa||typeof window<"u"&&window||typeof self<"u"&&self||xa,e.emptyArray=Object.freeze?Object.freeze([]):[],e.emptyObject=Object.freeze?Object.freeze({}):{},e.isInteger=Number.isInteger||function(s){return typeof s=="number"&&isFinite(s)&&Math.floor(s)===s},e.isString=function(s){return typeof s=="string"||s instanceof String},e.isObject=function(s){return s&&Ia(s)==="object"},e.isset=e.isSet=function(s,g){var l=s[g];return!(l==null||!s.hasOwnProperty(g))&&(Ia(l)!=="object"||0<(Array.isArray(l)?l.length:Object.keys(l).length))},e.Buffer=function(){try{var s=e.inquire("buffer").Buffer;return s.prototype.utf8Write?s:null}catch{return null}}(),e._Buffer_from=null,e._Buffer_allocUnsafe=null,e.newBuffer=function(s){return typeof s=="number"?e.Buffer?e._Buffer_allocUnsafe(s):new e.Array(s):e.Buffer?e._Buffer_from(s):typeof Uint8Array>"u"?s:new Uint8Array(s)},e.Array=typeof Uint8Array<"u"?Uint8Array:Array,e.Long=e.global.dcodeIO&&e.global.dcodeIO.Long||e.global.Long||e.inquire("long"),e.key2Re=/^true|false|0|1$/,e.key32Re=/^-?(?:0|[1-9][0-9]*)$/,e.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,e.longToHash=function(s){return s?e.LongBits.from(s).toHash():e.LongBits.zeroHash},e.longFromHash=function(s,g){return s=e.LongBits.fromHash(s),e.Long?e.Long.fromBits(s.lo,s.hi,g):s.toNumber(!!g)},e.merge=n,e.lcFirst=function(s){return s.charAt(0).toLowerCase()+s.substring(1)},e.newError=i,e.ProtocolError=i("ProtocolError"),e.oneOfGetter=function(s){for(var g={},l=0;l<s.length;++l)g[s[l]]=1;return function(){for(var C=Object.keys(this),p=C.length-1;-1<p;--p)if(g[C[p]]===1&&this[C[p]]!==void 0&&this[C[p]]!==null)return C[p]}},e.oneOfSetter=function(s){return function(g){for(var l=0;l<s.length;++l)s[l]!==g&&delete this[s[l]]}},e.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},e._configure=function(){var s=e.Buffer;s?(e._Buffer_from=s.from!==Uint8Array.from&&s.from||function(g,l){return new s(g,l)},e._Buffer_allocUnsafe=s.allocUnsafe||function(g){return new s(g)}):e._Buffer_from=e._Buffer_allocUnsafe=null}}),gm=xb,hp,Rk=eb.LongBits,Pw=eb.base64,Qw=eb.utf8,Rw=function(){return eb.Buffer?function(){return(xb.create=function(){return new hp})()}:function(){return new xb}};xb.create=Rw(),xb.alloc=function(t){return new eb.Array(t)},eb.Array!==Array&&(xb.alloc=eb.pool(xb.alloc,eb.Array.prototype.subarray)),xb.prototype._push=function(t,e,n){return this.tail=this.tail.next=new Rh(t,e,n),this.len+=e,this},dm.prototype=Object.create(Rh.prototype),dm.prototype.fn=function(t,e,n){for(;127<t;)e[n++]=127&t|128,t>>>=7;e[n]=t},xb.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new dm(128>(t>>>=0)?1:16384>t?2:2097152>t?3:268435456>t?4:5,t)).len,this},xb.prototype.int32=function(t){return 0>t?this._push(em,10,Rk.fromNumber(t)):this.uint32(t)},xb.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},xb.prototype.uint64=function(t){return t=Rk.from(t),this._push(em,t.length(),t)},xb.prototype.int64=xb.prototype.uint64,xb.prototype.sint64=function(t){return t=Rk.from(t).zzEncode(),this._push(em,t.length(),t)},xb.prototype.bool=function(t){return this._push(cm,1,t?1:0)},xb.prototype.fixed32=function(t){return this._push(fm,4,t>>>0)},xb.prototype.sfixed32=xb.prototype.fixed32,xb.prototype.fixed64=function(t){return t=Rk.from(t),this._push(fm,4,t.lo)._push(fm,4,t.hi)},xb.prototype.sfixed64=xb.prototype.fixed64,xb.prototype.float=function(t){return this._push(eb.float.writeFloatLE,4,t)},xb.prototype.double=function(t){return this._push(eb.float.writeDoubleLE,8,t)};var sH=eb.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var i=0;i<t.length;++i)e[n+i]=t[i]};xb.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(cm,1,0);if(eb.isString(t)){var n=xb.alloc(e=Pw.length(t));Pw.decode(t,n,0),t=n}return this.uint32(e)._push(sH,e,t)},xb.prototype.string=function(t){var e=Qw.length(t);return e?this.uint32(e)._push(Qw.write,e,t):this._push(cm,1,0)},xb.prototype.fork=function(){return this.states=new Az(this),this.head=this.tail=new Rh(bm,0,0),this.len=0,this},xb.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Rh(bm,0,0),this.len=0),this},xb.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},xb.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},xb._configure=function(t){hp=t,xb.create=Rw(),hp._configure()},(ge.prototype=Object.create(gm.prototype)).constructor=ge,ge._configure=function(){ge.alloc=eb._Buffer_allocUnsafe,ge.writeBytesBuffer=eb.Buffer&&eb.Buffer.prototype instanceof Uint8Array&&eb.Buffer.prototype.set.name==="set"?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var i=0;i<t.length;)e[n++]=t[i++]}},ge.prototype.bytes=function(t){eb.isString(t)&&(t=eb._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(ge.writeBytesBuffer,e,t),this},ge.prototype.string=function(t){var e=eb.Buffer.byteLength(t);return this.uint32(e),e&&this._push(Bz,e,t),this},ge._configure();var im=hc,ip,jr=eb.LongBits,tH=eb.utf8,Sw=typeof Uint8Array<"u"?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new hc(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new hc(t);throw Error("illegal buffer")},Tw=function(){return eb.Buffer?function(t){return(hc.create=function(e){return eb.Buffer.isBuffer(e)?new ip(e):Sw(e)})(t)}:Sw};hc.create=Tw(),hc.prototype._slice=eb.Array.prototype.subarray||eb.Array.prototype.slice,hc.prototype.uint32=function(){var t=4294967295;return function(){if(t=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(t=(t|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(t=(t|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(t=(t|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(t=(t|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,Od(this,10);return t}}(),hc.prototype.int32=function(){return 0|this.uint32()},hc.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},hc.prototype.bool=function(){return this.uint32()!==0},hc.prototype.fixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return xj(this.buf,this.pos+=4)},hc.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return 0|xj(this.buf,this.pos+=4)},hc.prototype.float=function(){if(this.pos+4>this.len)throw Od(this,4);var t=eb.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},hc.prototype.double=function(){if(this.pos+8>this.len)throw Od(this,4);var t=eb.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},hc.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw Od(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},hc.prototype.string=function(){var t=this.bytes();return tH.read(t,0,t.length)},hc.prototype.skip=function(t){if(typeof t=="number"){if(this.pos+t>this.len)throw Od(this,t);this.pos+=t}else do if(this.pos>=this.len)throw Od(this);while(128&this.buf[this.pos++]);return this},hc.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=7&this.uint32())!=4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},hc._configure=function(t){ip=t,hc.create=Tw(),ip._configure();var e=eb.Long?"toLong":"toNumber";eb.merge(hc.prototype,{int64:function(){return hm.call(this)[e](!1)},uint64:function(){return hm.call(this)[e](!0)},sint64:function(){return hm.call(this).zzDecode()[e](!1)},fixed64:function(){return kr.call(this)[e](!0)},sfixed64:function(){return kr.call(this)[e](!1)}})},(Nf.prototype=Object.create(im.prototype)).constructor=Nf,Nf._configure=function(){eb.Buffer&&(Nf.prototype._slice=eb.Buffer.prototype.slice)},Nf.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},Nf._configure(),(Sh.prototype=Object.create(eb.EventEmitter.prototype)).constructor=Sh,Sh.prototype.rpcCall=function t(e,n,i,s,g){if(!s)throw TypeError("request must be specified");var l=this;if(!g)return eb.asPromise(t,l,e,n,i,s);if(l.rpcImpl)try{return l.rpcImpl(e,n[l.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(C,p){if(C)return l.emit("error",C,e),g(C);if(p!==null){if(!(p instanceof i))try{p=i[l.responseDelimited?"decodeDelimited":"decode"](p)}catch(B){return l.emit("error",B,e),g(B)}return l.emit("data",p,e),g(null,p)}l.end(!0)})}catch(C){l.emit("error",C,e),setTimeout(function(){g(C)},0)}else setTimeout(function(){g(Error("already ended"))},0)},Sh.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var uH=Ua(function(t,e){e.Service=Sh}),vH={},Lc=Ua(function(t,e){function n(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}var i=e;i.build="minimal",i.Writer=gm,i.BufferWriter=ge,i.Reader=im,i.BufferReader=Nf,i.util=eb,i.rpc=uH,i.roots=vH,i.configure=n,n()});Lc.util.Long=T,Lc.configure();var Sk=Lc.Reader,Uw=Lc.Writer,Ti=Lc.util,Tk=Lc.roots.default||(Lc.roots.default={}),Vw=Tk.TopicMetadata=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.topic="",t.prototype.metadata="",t.encode=function(e,n){return n||(n=Uw.create()),e.topic!=null&&Object.hasOwnProperty.call(e,"topic")&&n.uint32(10).string(e.topic),e.metadata!=null&&Object.hasOwnProperty.call(e,"metadata")&&n.uint32(18).string(e.metadata),n},t.decode=function(e,n){e instanceof Sk||(e=Sk.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Tk.TopicMetadata;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.topic=e.string();break;case 2:i.metadata=e.string();break;default:e.skipType(7&s)}}return i},t}(),Ww=Tk.StreamMessageProtocol=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.messageType=0,t.prototype.payload=Ti.newBuffer([]),t.prototype.payloadLength=0,t.prototype.sequence=Ti.Long?Ti.Long.fromBits(0,0,!1):0,t.prototype.sendTs=Ti.Long?Ti.Long.fromBits(0,0,!1):0,t.prototype.encrypted=!1,t.prototype.customType="",t.encode=function(e,n){return n||(n=Uw.create()),e.messageType!=null&&Object.hasOwnProperty.call(e,"messageType")&&n.uint32(8).int32(e.messageType),e.payload!=null&&Object.hasOwnProperty.call(e,"payload")&&n.uint32(18).bytes(e.payload),e.payloadLength!=null&&Object.hasOwnProperty.call(e,"payloadLength")&&n.uint32(24).int32(e.payloadLength),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(32).int64(e.sequence),e.sendTs!=null&&Object.hasOwnProperty.call(e,"sendTs")&&n.uint32(40).int64(e.sendTs),e.encrypted!=null&&Object.hasOwnProperty.call(e,"encrypted")&&n.uint32(48).bool(e.encrypted),e.customType!=null&&Object.hasOwnProperty.call(e,"customType")&&n.uint32(58).string(e.customType),n},t.decode=function(e,n){e instanceof Sk||(e=Sk.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Tk.StreamMessageProtocol;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.messageType=e.int32();break;case 2:i.payload=e.bytes();break;case 3:i.payloadLength=e.int32();break;case 4:i.sequence=e.int64();break;case 5:i.sendTs=e.int64();break;case 6:i.encrypted=e.bool();break;case 7:i.customType=e.string();break;default:e.skipType(7&s)}}return i},t}(),jp,b,a,c;b=jp||(jp={}),c=a||(a={}),c[c.NO_ERROR=0]="NO_ERROR",c[c.PARTIALLY_SUCCESSFUL=1]="PARTIALLY_SUCCESSFUL",c[c.ALL_FAILED=2]="ALL_FAILED",c[c.UNKNOWN_ERROR=3]="UNKNOWN_ERROR",c[c.INVALID_PARAMS=4]="INVALID_PARAMS",c[c.REMOTE_USER_IS_NOT_PUBLISHED=5]="REMOTE_USER_IS_NOT_PUBLISHED",c[c.INVALID_REMOTE_USER=6]="INVALID_REMOTE_USER",c[c.TIMEOUT=7]="TIMEOUT",c[c.ALREADY_SUBSCRIBED_USER=20001]="ALREADY_SUBSCRIBED_USER",c[c.SUB_USER_EXCEED_LIMITATION=20003]="SUB_USER_EXCEED_LIMITATION",c[c.NOT_SUBSCRIBED_USER=20004]="NOT_SUBSCRIBED_USER",b.SubscribeTopicErrorCode=a,ru("of",function(){for(var t=0,e=arguments.length,n=new(gh(this))(e);e>t;)n[t]=arguments[t++];return n},Zn);var Cz=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,Dz=/CrOS/,Ez=/android|ipad|playbook|silk/i;Of.isMobile=Of,Of.default=Of,Ha({target:"Object",stat:!0,forced:Object.assign!==Ki},{assign:Ki});var wH=Math.log,xH=Math.LN2;Ha({target:"Math",stat:!0},{log2:function(t){return wH(t)/xH}}),mf("Int32",function(t){return function(e,n,i){return t(this,e,n,i)}}),mf("Int8",function(t){return function(e,n,i){return t(this,e,n,i)}}),mf("Int16",function(t){return function(e,n,i){return t(this,e,n,i)}});var kp=function(t,e){return t===e?0:t==null?e==null?0:-1:e==null?t==null?0:1:typeof t.compare=="function"?t.compare(e):typeof e.compare=="function"?-e.compare(t):t<e?-1:t>e?1:0},Xw=Object.getPrototypeOf({}),Ui=function(t,e){var n;return t===e||(t==null?t==e:Ia(t.equiv)==="function"?t.equiv(e):e==null?t==e:Ia(e.equiv)==="function"?e.equiv(t):Ia(t)!=="string"&&Ia(e)!=="string"&&((n=Object.getPrototypeOf(t))!=null&&n!==Xw||(n=Object.getPrototypeOf(e))!=null&&n!==Xw?Ia(t)!=="function"&&t.length!==void 0&&Ia(e)!=="function"&&e.length!==void 0?zH(t,e):t instanceof Set&&e instanceof Set?AH(t,e):t instanceof Map&&e instanceof Map?BH(t,e):t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():t instanceof RegExp&&e instanceof RegExp?t.toString()===e.toString():t!=t&&e!=e:yH(t,e)))},zH=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui,i=t.length;if(i===e.length)for(;0<=--i&&n(t[i],e[i]););return 0>i},AH=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;return t.size===e.size&&n(ta(t.keys()).sort(),ta(e.keys()).sort())},BH=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;return t.size===e.size&&n(ta(t).sort(),ta(e).sort())},yH=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Ui;if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var i in t)if(!e.hasOwnProperty(i)||!n(t[i],e[i]))return!1;return!0},Yw=function(t){var e=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(n){return n!==void 0?": "+n:""};return function(n){function i(g){return Xa(this,i),s.call(this,t(g)+e(g))}rb(i,n);var s=sb(i);return i}(Fh(Error))},CH=Yw(function(){return"illegal argument(s)"}),Uk=function(t){throw new CH(t)},lp=Yw(function(){return"index out of bounds"}),Zw=1/4294967295,DH=function(){function t(){Xa(this,t)}return Db(t,[{key:"float",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return this.int()*Zw*e}},{key:"norm",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*Zw-.5)*e}},{key:"minmax",value:function(e,n){return this.float()*(n-e)+e}}]),t}(),mp=Math.random,EH=new(function(t){function e(){return Xa(this,e),n.apply(this,arguments)}rb(e,t);var n=sb(e);return Db(e,[{key:"int",value:function(){return 4294967296*mp()>>>0}},{key:"float",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return mp()*i}},{key:"norm",value:function(){var i=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(mp()-.5)*i}}]),e}(DH)),jm=Symbol(),mr=function(){},Fz=function(t){return t!=null&&typeof t.xform=="function"?t.xform():t},km=function(){function t(e){Xa(this,t),this.value=e}return Db(t,[{key:"deref",value:function(){return this.value}}]),t}(),Gz=function(t){return t instanceof km?t.deref():t},Hz=Z.mark(lr),Iz=function(t,e){return[t[0],t[1],e]},FH=function(){function t(e){Xa(this,t),this._length=0,e&&this.into(e)}return Db(t,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new t(this)}},{key:"empty",value:function(){return new t}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var e,n=this.head;n;)e=n.next,delete n.value,delete n.prev,delete n.next,n=e;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(e){var n=this._length;if(n<e._length)return-1;if(n>e._length)return 1;if(n===0)return 0;n=this.head,e=e.head;for(var i=0;n&&i==0;)i=kp(n.value,e.value),n=n.next,e=e.next;return i}},{key:"equiv",value:function(e){if(!(e instanceof t||e!=null&&typeof e!="function"&&e.length!==void 0)||this._length!==e.length)return!1;if(!this._length||this===e)return!0;for(var n=this.head,i=0;i<e.length;i++){if(!Ui(n.value,e[i]))return!1;n=n.next}return!0}},{key:Symbol.iterator,value:Z.mark(function e(){var n;return Z.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:n=this.head;case 1:if(!n){i.next=7;break}return i.next=4,n.value;case 4:n=n.next,i.next=1;break;case 7:case"end":return i.stop()}},e,this)})},{key:"seq",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;if(!(e>=n||0>e)){e=this.nthCell(e);var i=this.nthCell(n-1);return n=function s(g){return{first:function(){return g.value},next:function(){return g!==i&&g.next?s(g.next):void 0}}},e?n(e):void 0}}},{key:"cycle",value:Z.mark(function e(){return Z.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this,"t0",2);case 2:n.next=0;break;case 4:case"end":return n.stop()}},e,this)})},{key:"$reduce",value:function(e,n){for(var i=this.head;i&&!(n instanceof km);)n=e(n,i.value),i=i.next;return n}},{key:"drop",value:function(){var e=this.head;if(e)return(this.head=e.next)?delete this.head.prev:delete this.tail,this._length--,e.value}},{key:"cons",value:function(e){return e={value:e,next:this.head},this.head?this.head.prev=e:this.tail=e,this.head=e,this._length++,this}},{key:"insertBefore",value:function(e,n){return e||Uk("cell is undefined"),n={value:n,next:e,prev:e.prev},e.prev?e.prev.next=n:this.head=n,e.prev=n,this._length++,this}},{key:"insertAfter",value:function(e,n){return e||Uk("cell is undefined"),n={value:n,next:e.next,prev:e},e.next?e.next.prev=n:this.tail=n,e.next=n,this._length++,this}},{key:"insertBeforeNth",value:function(e,n){if(0>e&&(e+=this._length),0>=e)return this.cons(n);if(0>e||e>=this._length)throw new lp(e);return this.insertBefore(this.nthCellUnsafe(e),n)}},{key:"insertAfterNth",value:function(e,n){if(0>e&&(e+=this._length),e>=this._length-1)return this.push(n);if(0>e||e>=this._length)throw new lp(e);return this.insertAfter(this.nthCellUnsafe(e),n)}},{key:"insertSorted",value:function(e,n){n=n||kp;for(var i=this.head;i;){if(0>=n(e,i.value))return this.insertBefore(i,e);i=i.next}return this.push(e)}},{key:"find",value:function(e){for(var n=this.head;n;){if(n.value===e)return n;n=n.next}}},{key:"findWith",value:function(e){for(var n=this.head;n;){if(e(n.value))return n;n=n.next}}},{key:"concat",value:function(){for(var e=this.copy(),n=arguments.length,i=Array(n),s=0;s<n;s++)i[s]=arguments[s];for(n=0;n<i.length;n++)e.into(i[n]);return e}},{key:"into",value:function(e){for(var n=0;n<e.length;n++)this.push(e[n])}},{key:"slice",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;e=0>e?e+this._length:e,n=0>n?n+this._length:n,(0>e||0>n)&&Uk("invalid indices: ${from} / ${to}");for(var i=new t,s=this.nthCell(e);s&&++e<=n;)i.push(s.value),s=s.next;return i}},{key:"splice",value:function(e){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,i=2<arguments.length?arguments[2]:void 0;if(typeof e=="number"){if(0>e&&(e+=this._length),0>e||e>=this._length)throw new lp(e);var s=this.nthCellUnsafe(e)}else s=e;var g=new t;if(0<n)for(;s&&0<n--;)this.remove(s),g.push(s.value),s=s.next;else s&&(s=s.next);if(i)if(s)for(n=0;n<i.length;n++)this.insertBefore(s,i[n]);else for(s=0;s<i.length;s++)this.push(i[s]);return g}},{key:"remove",value:function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,this._length--,this}},{key:"swap",value:function(e,n){if(e!==n){var i=e.value;e.value=n.value,n.value=i}return this}},{key:"push",value:function(e){return this.tail?(e={value:e,prev:this.tail},this.tail=this.tail.next=e,this._length++,this):this.cons(e)}},{key:"pop",value:function(){var e=this.tail;if(e)return(this.tail=e.prev)?delete this.tail.next:delete this.head,this._length--,e.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(e){return this.head?(this.head.value=e,this):this.cons(e)}},{key:"setTail",value:function(e){return this.tail?(this.tail.value=e,this):this.push(e)}},{key:"setNth",value:function(e,n){var i=this.nthCell(e);return!i&&Uk("index out of bounds: ".concat(e)),i.value=n,this}},{key:"nth",value:function(e,n){return(e=this.nthCell(e))?e.value:n}},{key:"nthCell",value:function(e){if(0>e&&(e+=this._length),!(0>e||e>=this._length))return this.nthCellUnsafe(e)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var e=this.peek();return this.pop(),this.cons(e)}}},{key:"map",value:function(e){for(var n=new t,i=this.head;i;)n.push(e(i.value)),i=i.next;return n}},{key:"filter",value:function(e){for(var n=new t,i=this.head;i;)e(i.value)&&n.push(i.value),i=i.next;return n}},{key:"reduce",value:function(e,n){for(var i=this.head;i;)n=e(n,i.value),i=i.next;return n}},{key:"shuffle",value:function(e){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:EH;if(2>this._length)return this;for(e=e??Math.ceil(1.5*Math.log2(this._length));0<e;e--)for(var i=this.head;i;){var s=i.next;.5>n.float()?this.asHead(i):this.asTail(i),i=s}return this}},{key:"sort",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:kp;if(!this._length)return this;for(var n=1;;){var i=this.head;this.tail=this.head=void 0;for(var s=0;i;){s++;for(var g=i,l=0,C=0;C<n&&(l++,g=g.next);C++);for(C=n;0<l||0<C&&g;){if(l===0){var p=g;g=g.next,C--}else g&&C!==0?0>=e(i.value,g.value)?(p=i,i=i.next,l--):(p=g,g=g.next,C--):(p=i,i=i.next,l--);this.tail?this.tail.next=p:this.head=p,p.prev=this.tail,this.tail=p}i=g}if(this.tail.next=void 0,1>=s)return this;n*=2}}},{key:"reverse",value:function(){for(var e=this.head,n=this.tail,i=(this._length>>>1)+(1&this._length);e&&n&&0<i;){var s=e.value;e.value=n.value,n.value=s,e=e.next,n=n.prev,i--}return this}},{key:"asHead",value:function(e){return e===this.head||(this.remove(e),this.head.prev=e,e.next=this.head,e.prev=void 0,this.head=e,this._length++),this}},{key:"asTail",value:function(e){return e===this.tail||(this.remove(e),this.tail.next=e,e.prev=this.tail,e.next=void 0,this.tail=e,this._length++),this}},{key:"toString",value:function(){for(var e=[],n=this.head;n;)e.push(String(n.value)),n=n.next;return e.join(", ")}},{key:"toJSON",value:function(){return ta(this)}},{key:"nthCellUnsafe",value:function(e){if(e<=this._length>>1)var n=this.head,i="next";else n=this.tail,i="prev",e=this._length-e-1;for(;0<e--&&n;)n=n[i];return n}}]),t}(),hg=function(){function t(e,n){Xa(this,t),n=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},n),this.map=n.map(),this.items=new FH,this._size=0,this.opts=n,e&&this.into(e)}return Db(t,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return yj(function(e){return[e.k,e]},this.items)}},{key:"keys",value:function(){return yj(function(e){return e.k},this.items)}},{key:"values",value:function(){return yj(function(e){return e.v},this.items)}},{key:"copy",value:function(){var e=this.empty();e.items=this.items.copy();for(var n=e.items.head;n;)e.map.set(n.value.k,n),n=n.next;return e}},{key:"empty",value:function(){return new t(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var e=this.opts.release;if(e){for(var n;n=this.items.drop();)e(n.k,n.v);return!0}return this.items.release()}},{key:"has",value:function(e){return this.map.has(e)}},{key:"get",value:function(e,n){return(e=this.map.get(e))?this.resetEntry(e):n}},{key:"set",value:function(e,n){var i=this.opts.ksize(e)+this.opts.vsize(n),s=this.map.get(e);return this._size+=Math.max(0,i-(s?s.value.s:0)),this.ensureSize()&&this.doSetEntry(s,e,n,i),n}},{key:"into",value:function(e){for(var n=0;n<e.length;n++){var i=e[n];this.set(i[0],i[1])}return this}},{key:"getSet",value:function(e,n){var i=this,s=this.map.get(e);return s?Promise.resolve(this.resetEntry(s)):n().then(function(g){return i.set(e,g)})}},{key:"delete",value:function(e){return!!(e=this.map.get(e))&&(this.removeEntry(e),!0)}},{key:"resetEntry",value:function(e){return this.items.asTail(e),e.value.v}},{key:"ensureSize",value:function(){for(var e=this.opts.release,n=this.opts.maxsize,i=this.opts.maxlen;this._size>n||this.length>=i;){var s=this.items.drop();if(!s)return!1;this.map.delete(s.k),e&&e(s.k,s.v),this._size-=s.s}return!0}},{key:"removeEntry",value:function(e){var n=e.value;this.map.delete(n.k),this.items.remove(e),this.opts.release&&this.opts.release(n.k,n.v),this._size-=n.s}},{key:"doSetEntry",value:function(e,n,i,s){e?(e.value.v=i,e.value.s=s,this.items.asTail(e)):(this.items.push({k:n,v:i,s}),this.map.set(n,this.items.tail))}}]),t}(),GH=function(t){function e(i,s){return Xa(this,e),s=Object.assign({ttl:36e5},s),n.call(this,i,s)}rb(e,t);var n=sb(e);return Db(e,[{key:"empty",value:function(){return new e(null,this.opts)}},{key:"has",value:function(i){return this.get(i)!==void 0}},{key:"get",value:function(i,s){if(i=this.map.get(i)){if(i.value.t>=Date.now())return this.resetEntry(i);this.removeEntry(i)}return s}},{key:"set",value:function(i,s){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,l=this.opts.ksize(i)+this.opts.vsize(s),C=this.map.get(i);return this._size+=Math.max(0,l-(C?C.value.s:0)),this.ensureSize()&&(g=Date.now()+g,C?(C.value.v=s,C.value.s=l,C.value.t=g,this.items.asTail(C)):(this.items.push({k:i,v:s,s:l,t:g}),this.map.set(i,this.items.tail))),s}},{key:"getSet",value:function(i,s){var g=this,l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,C=this.get(i);return C?Promise.resolve(C):s().then(function(p){return g.set(i,p,l)})}},{key:"prune",value:function(){for(var i=Date.now(),s=this.items.head;s;)s.value.t<i&&this.removeEntry(s),s=s.next}},{key:"ensureSize",value:function(){for(var i=this.opts.maxsize,s=this.opts.maxlen,g=Date.now(),l=this.items.head;l&&(this._size>i||this.length>=s);)l.value.t<g&&this.removeEntry(l),l=l.next;return ol(Af(e.prototype),"ensureSize",this).call(this)}}]),e}(hg),HH=Array.isArray||function(t){return t&&typeof t.length=="number"},Uh=Object.defineProperty({isArray:HH},"__esModule",{value:!0}),$w=Object.defineProperty({isObject:function(t){return t!==null&&Ia(t)==="object"}},"__esModule",{value:!0}),Th=Object.defineProperty({isFunction:function(t){return typeof t=="function"}},"__esModule",{value:!0}),IH=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),zj=Object.defineProperty({UnsubscriptionError:IH},"__esModule",{value:!0}),JH=function(){function t(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){if(!this.closed){var e=this._parentOrParents,n=this._ctorUnsubscribe,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,e instanceof t)e.remove(this);else if(e!==null)for(var g=0;g<e.length;++g)e[g].remove(this);if(Th.isFunction(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(C){var l=C instanceof zj.UnsubscriptionError?nr(C.errors):[C]}}if(Uh.isArray(s)){for(g=-1,e=s.length;++g<e;)if(n=s[g],$w.isObject(n))try{n.unsubscribe()}catch(C){l=l||[],C instanceof zj.UnsubscriptionError?l=l.concat(nr(C.errors)):l.push(C)}}if(l)throw new zj.UnsubscriptionError(l)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(Ia(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;n instanceof t||(e=n,(n=new t)._subscriptions=[e]);break;default:throw Error("unrecognized teardown "+e+" added to Subscription.")}if((e=n._parentOrParents)===null)n._parentOrParents=this;else if(e instanceof t){if(e===this)return n;n._parentOrParents=[e,this]}else{if(e.indexOf(this)!==-1)return n;e.push(this)}return(e=this._subscriptions)===null?this._subscriptions=[n]:e.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;n&&(e=n.indexOf(e))!==-1&&n.splice(e,1)},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}(),id=Object.defineProperty({Subscription:JH},"__esModule",{value:!0}),KH=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),LH=function(t){function e(n,i){return t.call(this)||this}return KH(e,t),e.prototype.schedule=function(n,i){return this},e}(id.Subscription),MH=Object.defineProperty({Action:LH},"__esModule",{value:!0}),NH=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),ax=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s.pending=!1,s}return NH(e,t),e.prototype.schedule=function(n,i){if(i===void 0&&(i=0),this.closed)return this;this.state=n,n=this.id;var s=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(s,n,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(s,this.id,i),this},e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),setInterval(n.flush.bind(n,this),s)},e.prototype.recycleAsyncId=function(n,i,s){if(s===void 0&&(s=0),s!==null&&this.delay===s&&this.pending===!1)return i;clearInterval(i)},e.prototype.execute=function(n,i){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,i))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},e.prototype._execute=function(n,i){i=!1;var s=void 0;try{this.work(n)}catch(g){i=!0,s=!!g&&g||Error(g)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,i=this.scheduler,s=i.actions,g=s.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,g!==-1&&s.splice(g,1),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null},e}(MH.Action),bx=Object.defineProperty({AsyncAction:ax},"__esModule",{value:!0}),OH=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,i){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(i,n)},t.now=function(){return Date.now()},t}(),cx=Object.defineProperty({Scheduler:OH},"__esModule",{value:!0}),PH=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),np=function(t){function e(n,i){i===void 0&&(i=cx.Scheduler.now);var s=t.call(this,n,function(){return e.delegate&&e.delegate!==s?e.delegate.now():i()})||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return PH(e,t),e.prototype.schedule=function(n,i,s){return i===void 0&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,s):t.prototype.schedule.call(this,n,i,s)},e.prototype.flush=function(n){var i=this.actions;if(this.active)i.push(n);else{var s;this.active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=i.shift());if(this.active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}},e}(cx.Scheduler),dx=Object.defineProperty({AsyncScheduler:np},"__esModule",{value:!0}),Me=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.asyncScheduler=new dx.AsyncScheduler(bx.AsyncAction),e.async=e.asyncScheduler}),Vi=Object.defineProperty({isScheduler:function(t){return t&&typeof t.schedule=="function"}},"__esModule",{value:!0}),op=!1,Pd=Object.defineProperty({config:{Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t?console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+Error().stack):op&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),op=t},get useDeprecatedSynchronousErrorHandling(){return op}}},"__esModule",{value:!0}),wh=Object.defineProperty({hostReportError:function(t){setTimeout(function(){throw t},0)}},"__esModule",{value:!0}),Vk=Object.defineProperty({empty:{closed:!0,next:function(t){},error:function(t){if(Pd.config.useDeprecatedSynchronousErrorHandling)throw t;wh.hostReportError(t)},complete:function(){}}},"__esModule",{value:!0}),Wk=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber}),ex=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),fx=function(t){function e(n,i,s){var g=t.call(this)||this;switch(g.syncErrorValue=null,g.syncErrorThrown=!1,g.syncErrorThrowable=!1,g.isStopped=!1,arguments.length){case 0:g.destination=Vk.empty;break;case 1:if(!n){g.destination=Vk.empty;break}if(Ia(n)==="object"){n instanceof e?(g.syncErrorThrowable=n.syncErrorThrowable,g.destination=n,n.add(g)):(g.syncErrorThrowable=!0,g.destination=new pp(g,n));break}default:g.syncErrorThrowable=!0,g.destination=new pp(g,n,i,s)}return g}return ex(e,t),e.prototype[Wk.rxSubscriber]=function(){return this},e.create=function(n,i,s){return(n=new e(n,i,s)).syncErrorThrowable=!1,n},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=n,this},e}(id.Subscription),pp=function(t){function e(n,i,s,g){var l=t.call(this)||this;if(l._parentSubscriber=n,n=l,Th.isFunction(i))var C=i;else i&&(C=i.next,s=i.error,g=i.complete,i!==Vk.empty&&(n=Object.create(i),Th.isFunction(n.unsubscribe)&&l.add(n.unsubscribe.bind(n)),n.unsubscribe=l.unsubscribe.bind(l)));return l._context=n,l._next=C,l._error=s,l._complete=g,l}return ex(e,t),e.prototype.next=function(n){if(!this.isStopped&&this._next){var i=this._parentSubscriber;Pd.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},e.prototype.error=function(n){if(!this.isStopped){var i=this._parentSubscriber,s=Pd.config.useDeprecatedSynchronousErrorHandling;if(this._error)s&&i.syncErrorThrowable?this.__tryOrSetError(i,this._error,n):this.__tryOrUnsub(this._error,n),this.unsubscribe();else if(i.syncErrorThrowable)s?(i.syncErrorValue=n,i.syncErrorThrown=!0):wh.hostReportError(n),this.unsubscribe();else{if(this.unsubscribe(),s)throw n;wh.hostReportError(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var s=function(){return n._complete.call(n._context)};Pd.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,s):this.__tryOrUnsub(s)}this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,i){try{n.call(this._context,i)}catch(s){if(this.unsubscribe(),Pd.config.useDeprecatedSynchronousErrorHandling)throw s;wh.hostReportError(s)}},e.prototype.__tryOrSetError=function(n,i,s){if(!Pd.config.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{i.call(this._context,s)}catch(g){return Pd.config.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=g,n.syncErrorThrown=!0):wh.hostReportError(g),!0}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._parentSubscriber=this._context=null,n.unsubscribe()},e}(fx),Gb=Object.defineProperty({Subscriber:fx,SafeSubscriber:pp},"__esModule",{value:!0}),QH=Object.defineProperty({canReportError:function(t){for(;t;){var e=t.destination,n=t.isStopped;if(t.closed||n)return!1;t=e&&e instanceof Gb.Subscriber?e:null}return!0}},"__esModule",{value:!0}),RH=Object.defineProperty({toSubscriber:function(t,e,n){if(t){if(t instanceof Gb.Subscriber)return t;if(t[Wk.rxSubscriber])return t[Wk.rxSubscriber]()}return t||e||n?new Gb.Subscriber(t,e,n):new Gb.Subscriber(Vk.empty)}},"__esModule",{value:!0}),Wi=Object.defineProperty({observable:typeof Symbol=="function"&&Symbol.observable||"@@observable"},"__esModule",{value:!0}),Hg=Object.defineProperty({identity:function(t){return t}},"__esModule",{value:!0}),qp=Object.defineProperty({pipe:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return or(t)},pipeFromArray:or},"__esModule",{value:!0}),SH=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,i){var s=this.operator;if(e=RH.toSubscriber(e,n,i),s?e.add(s.call(e,this.source)):e.add(this.source||Pd.config.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),Pd.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){Pd.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),QH.canReportError(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var i=this;return new(n=pr(n))(function(s,g){var l=i.subscribe(function(C){try{e(C)}catch(p){g(p),l&&l.unsubscribe()}},g,s)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[Wi.observable]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:qp.pipeFromArray(e)(this)},t.prototype.toPromise=function(e){var n=this;return new(e=pr(e))(function(i,s){var g;n.subscribe(function(l){return g=l},function(l){return s(l)},function(){return i(g)})})},t.create=function(e){return new t(e)},t}(),fc=Object.defineProperty({Observable:SH},"__esModule",{value:!0}),gx=Object.defineProperty({subscribeToArray:function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},"__esModule",{value:!0}),rp=Object.defineProperty({scheduleArray:function(t,e){return new fc.Observable(function(n){var i=new id.Subscription,s=0;return i.add(e.schedule(function(){s===t.length?n.complete():(n.next(t[s++]),n.closed||i.add(this.schedule()))})),i})}},"__esModule",{value:!0}),Xk=Object.defineProperty({fromArray:function(t,e){return e?rp.scheduleArray(t,e):new fc.Observable(gx.subscribeToArray(t))}},"__esModule",{value:!0}),Jb=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return e=t[t.length-1],Vi.isScheduler(e)?(t.pop(),rp.scheduleArray(t,e)):Xk.fromArray(t)},hx=Object.defineProperty({of:Jb},"__esModule",{value:!0}),TH=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Rb=function(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new ix(t,e))}},ix=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new UH(e,this.project,this.thisArg))},t}(),VH=ix,UH=function(t){function e(n,i,s){return(n=t.call(this,n)||this).project=i,n.count=0,n.thisArg=s||n,n}return TH(e,t),e.prototype._next=function(n){try{var i=this.project.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(Gb.Subscriber),mm=Object.defineProperty({map:Rb,MapOperator:VH},"__esModule",{value:!0}),WH=Object.defineProperty({subscribeToPromise:function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,wh.hostReportError),e}}},"__esModule",{value:!0}),uf=Ua(function(t,e){function n(){return typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(e,"__esModule",{value:!0}),e.getSymbolIterator=n,e.iterator=n(),e.$$iterator=e.iterator}),XH=Object.defineProperty({subscribeToIterable:function(t){return function(e){for(var n=t[uf.iterator]();;){var i=void 0;try{i=n.next()}catch(s){return e.error(s),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}}},"__esModule",{value:!0}),YH=Object.defineProperty({subscribeToObservable:function(t){return function(e){var n=t[Wi.observable]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},"__esModule",{value:!0}),jx=Object.defineProperty({isArrayLike:function(t){return t&&typeof t.length=="number"&&typeof t!="function"}},"__esModule",{value:!0}),kx=Object.defineProperty({isPromise:function(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}},"__esModule",{value:!0}),sp=Object.defineProperty({subscribeTo:function(t){if(t&&typeof t[Wi.observable]=="function")return YH.subscribeToObservable(t);if(jx.isArrayLike(t))return gx.subscribeToArray(t);if(kx.isPromise(t))return WH.subscribeToPromise(t);if(t&&typeof t[uf.iterator]=="function")return XH.subscribeToIterable(t);throw t=$w.isObject(t)?"an invalid object":"'"+t+"'",new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},"__esModule",{value:!0}),ZH=Object.defineProperty({scheduleObservable:function(t,e){return new fc.Observable(function(n){var i=new id.Subscription;return i.add(e.schedule(function(){var s=t[Wi.observable]();i.add(s.subscribe({next:function(g){i.add(e.schedule(function(){return n.next(g)}))},error:function(g){i.add(e.schedule(function(){return n.error(g)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}},"__esModule",{value:!0}),$H=Object.defineProperty({schedulePromise:function(t,e){return new fc.Observable(function(n){var i=new id.Subscription;return i.add(e.schedule(function(){return t.then(function(s){i.add(e.schedule(function(){n.next(s),i.add(e.schedule(function(){return n.complete()}))}))},function(s){i.add(e.schedule(function(){return n.error(s)}))})})),i})}},"__esModule",{value:!0}),aI=Object.defineProperty({scheduleIterable:function(t,e){if(!t)throw Error("Iterable cannot be null");return new fc.Observable(function(n){var i,s=new id.Subscription;return s.add(function(){i&&typeof i.return=="function"&&i.return()}),s.add(e.schedule(function(){i=t[uf.iterator](),s.add(e.schedule(function(){if(!n.closed){try{var g=i.next(),l=g.value,C=g.done}catch(p){return void n.error(p)}C?n.complete():(n.next(l),this.schedule())}}))})),s})}},"__esModule",{value:!0}),bI=Object.defineProperty({isInteropObservable:function(t){return t&&typeof t[Wi.observable]=="function"}},"__esModule",{value:!0}),cI=Object.defineProperty({isIterable:function(t){return t&&typeof t[uf.iterator]=="function"}},"__esModule",{value:!0}),dI=Object.defineProperty({scheduled:function(t,e){if(t!=null){if(bI.isInteropObservable(t))return ZH.scheduleObservable(t,e);if(kx.isPromise(t))return $H.schedulePromise(t,e);if(jx.isArrayLike(t))return rp.scheduleArray(t,e);if(cI.isIterable(t)||typeof t=="string")return aI.scheduleIterable(t,e)}throw new TypeError((t!==null&&Ia(t)||t)+" is not observable")}},"__esModule",{value:!0}),tp=function(t,e){return e?dI.scheduled(t,e):t instanceof fc.Observable?t:new fc.Observable(sp.subscribeTo(t))},lm=Object.defineProperty({from:tp},"__esModule",{value:!0}),Yk=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),eI=function(t){function e(n){var i=t.call(this)||this;return i.parent=n,i}return Yk(e,t),e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(Gb.Subscriber),fI=function(t){function e(n,i,s){var g=t.call(this)||this;return g.parent=n,g.outerValue=i,g.outerIndex=s,g}return Yk(e,t),e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Gb.Subscriber),gI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Yk(e,t),e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(Gb.Subscriber),hI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return Yk(e,t),e.prototype.notifyNext=function(n,i,s,g){this.destination.next(i)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(Gb.Subscriber),Lb=Object.defineProperty({SimpleInnerSubscriber:eI,ComplexInnerSubscriber:fI,SimpleOuterSubscriber:gI,ComplexOuterSubscriber:hI,innerSubscribe:function(t,e){if(!e.closed){if(t instanceof fc.Observable)return t.subscribe(e);try{var n=sp.subscribeTo(t)(e)}catch(i){e.error(i)}return n}}},"__esModule",{value:!0}),iI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),qr=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new lx(e,this.project,this.concurrent))},t}(),jI=qr,lx=function(t){function e(n,i,s){return s===void 0&&(s=Number.POSITIVE_INFINITY),(n=t.call(this,n)||this).project=i,n.concurrent=s,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return iI(e,t),e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var i=this.index++;try{var s=this.project(n,i)}catch(g){return void this.destination.error(g)}this.active++,this._innerSub(s)},e.prototype._innerSub=function(n){var i=new Lb.SimpleInnerSubscriber(this),s=this.destination;s.add(i),(n=Lb.innerSubscribe(n,i))!==i&&s.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,0<n.length?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Lb.SimpleOuterSubscriber),mx=Object.defineProperty({mergeMap:ac,MergeMapOperator:jI,MergeMapSubscriber:lx,flatMap:ac},"__esModule",{value:!0}),Xi=function(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),mx.mergeMap(Hg.identity,t)},nx=Object.defineProperty({mergeAll:Xi},"__esModule",{value:!0}),kI=Object.defineProperty({concatAll:function(){return nx.mergeAll(1)}},"__esModule",{value:!0}),ox=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return kI.concatAll()(hx.of.apply(void 0,t))},Bc=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY=new fc.Observable(function(n){return n.complete()}),e.empty=function(n){return n?function(i){return new fc.Observable(function(s){return i.schedule(function(){return s.complete()})})}(n):e.EMPTY}}),vf=function(t){return new fc.Observable(function(e){try{var n=t()}catch(i){return void e.error(i)}return(n?lm.from(n):Bc.empty()).subscribe(e)})},px=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),sr=Object.defineProperty({EmptyError:px},"__esModule",{value:!0}),up=Object.defineProperty({isNumeric:function(t){return!Uh.isArray(t)&&0<=t-parseFloat(t)+1}},"__esModule",{value:!0}),Zk=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=Me.async),(!up.isNumeric(t)||0>t)&&(t=0),e&&typeof e.schedule=="function"||(e=Me.async),new fc.Observable(function(n){return n.add(e.schedule(Jz,t,{subscriber:n,counter:0,period:t})),n})},oc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];e=Number.POSITIVE_INFINITY;var n=null,i=t[t.length-1];return Vi.isScheduler(i)?(n=t.pop(),1<t.length&&typeof t[t.length-1]=="number"&&(e=t.pop())):typeof i=="number"&&(e=t.pop()),n===null&&t.length===1&&t[0]instanceof fc.Observable?t[0]:nx.mergeAll(e)(Xk.fromArray(t,n))},lI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),mI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return lI(e,t),e.prototype.notifyNext=function(n,i,s,g,l){this.destination.next(i)},e.prototype.notifyError=function(n,i){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(Gb.Subscriber),qx=Object.defineProperty({OuterSubscriber:mI},"__esModule",{value:!0}),nI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),oI=function(t){function e(n,i,s){var g=t.call(this)||this;return g.parent=n,g.outerValue=i,g.outerIndex=s,g.index=0,g}return nI(e,t),e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Gb.Subscriber),pI=Object.defineProperty({InnerSubscriber:oI},"__esModule",{value:!0}),rx=Object.defineProperty({subscribeToResult:function(t,e,n,i,s){if(s===void 0&&(s=new pI.InnerSubscriber(t,n,i)),!s.closed)return e instanceof fc.Observable?e.subscribe(s):sp.subscribeTo(e)(s)}},"__esModule",{value:!0}),qI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),gc=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){if(!Uh.isArray(t[0]))return t[0];t=t[0]}return Xk.fromArray(t,void 0).lift(new rI)},rI=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new sI(e))},t}(),sI=function(t){function e(n){return(n=t.call(this,n)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return qI(e,t),e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,i=n.length;if(i===0)this.destination.complete();else{for(var s=0;s<i&&!this.hasFirst;s++){var g=rx.subscribeToResult(this,n[s],void 0,s);this.subscriptions&&this.subscriptions.push(g),this.add(g)}this.observables=null}},e.prototype.notifyNext=function(n,i,s){if(!this.hasFirst){for(this.hasFirst=!0,n=0;n<this.subscriptions.length;n++)if(n!==s){var g=this.subscriptions[n];g.unsubscribe(),this.remove(g)}this.subscriptions=null}this.destination.next(i)},e}(qx.OuterSubscriber),tI=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),xh=Object.defineProperty({ObjectUnsubscribedError:tI},"__esModule",{value:!0}),uI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vI=function(t){function e(n,i){var s=t.call(this)||this;return s.subject=n,s.subscriber=i,s.closed=!1,s}return uI(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,i=n.observers;this.subject=null,!i||i.length===0||n.isStopped||n.closed||(n=i.indexOf(this.subscriber))!==-1&&i.splice(n,1)}},e}(id.Subscription),sx=Object.defineProperty({SubjectSubscription:vI},"__esModule",{value:!0}),vp=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),tx=function(t){function e(n){var i=t.call(this,n)||this;return i.destination=n,i}return vp(e,t),e}(Gb.Subscriber),Cc=function(t){function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return vp(e,t),e.prototype[Wk.rxSubscriber]=function(){return new tx(this)},e.prototype.lift=function(n){var i=new wp(this,this);return i.operator=n,i},e.prototype.next=function(n){if(this.closed)throw new xh.ObjectUnsubscribedError;if(!this.isStopped){var i=this.observers,s=i.length;i=i.slice();for(var g=0;g<s;g++)i[g].next(n)}},e.prototype.error=function(n){if(this.closed)throw new xh.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=n,this.isStopped=!0;var i=this.observers,s=i.length;i=i.slice();for(var g=0;g<s;g++)i[g].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new xh.ObjectUnsubscribedError;this.isStopped=!0;var n=this.observers,i=n.length;n=n.slice();for(var s=0;s<i;s++)n[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new xh.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new xh.ObjectUnsubscribedError;return this.hasError?(n.error(this.thrownError),id.Subscription.EMPTY):this.isStopped?(n.complete(),id.Subscription.EMPTY):(this.observers.push(n),new sx.SubjectSubscription(this,n))},e.prototype.asObservable=function(){var n=new fc.Observable;return n.source=this,n},e.create=function(n,i){return new wp(n,i)},e}(fc.Observable),wp=function(t){function e(n,i){var s=t.call(this)||this;return s.destination=n,s.source=i,s}return vp(e,t),e.prototype.next=function(n){var i=this.destination;i&&i.next&&i.next(n)},e.prototype.error=function(n){var i=this.destination;i&&i.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):id.Subscription.EMPTY},e}(Cc),Aj=Object.defineProperty({SubjectSubscriber:tx,Subject:Cc,AnonymousSubject:wp},"__esModule",{value:!0}),wI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),xI=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s}return wI(e,t),e.prototype.schedule=function(n,i){return i===void 0&&(i=0),0<i?t.prototype.schedule.call(this,n,i):(this.delay=i,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,i){return 0<i||this.closed?t.prototype.execute.call(this,n,i):this._execute(n,i)},e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),s!==null&&0<s||s===null&&0<this.delay?t.prototype.requestAsyncId.call(this,n,i,s):n.flush(this)},e}(bx.AsyncAction),yI=Object.defineProperty({QueueAction:xI},"__esModule",{value:!0}),zI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),AI=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return zI(e,t),e}(dx.AsyncScheduler),BI=Object.defineProperty({QueueScheduler:AI},"__esModule",{value:!0}),Yi=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.queueScheduler=new BI.QueueScheduler(yI.QueueAction),e.queue=e.queueScheduler}),Na=function(t,e){return e?new fc.Observable(function(n){return e.schedule(Kz,0,{error:t,subscriber:n})}):new fc.Observable(function(n){return n.error(t)})},ux=Object.defineProperty({throwError:Na},"__esModule",{value:!0}),Zi=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),function(n){n.NEXT="N",n.ERROR="E",n.COMPLETE="C"}(e.NotificationKind||(e.NotificationKind={})),t=function(){function n(i,s,g){this.kind=i,this.value=s,this.error=g,this.hasValue=i==="N"}return n.prototype.observe=function(i){switch(this.kind){case"N":return i.next&&i.next(this.value);case"E":return i.error&&i.error(this.error);case"C":return i.complete&&i.complete()}},n.prototype.do=function(i,s,g){switch(this.kind){case"N":return i&&i(this.value);case"E":return s&&s(this.error);case"C":return g&&g()}},n.prototype.accept=function(i,s,g){return i&&typeof i.next=="function"?this.observe(i):this.do(i,s,g)},n.prototype.toObservable=function(){switch(this.kind){case"N":return hx.of(this.value);case"E":return ux.throwError(this.error);case"C":return Bc.empty()}throw Error("unexpected notification kind value")},n.createNext=function(i){return i!==void 0?new n("N",i):n.undefinedValueNotification},n.createError=function(i){return new n("E",void 0,i)},n.createComplete=function(){return n.completeNotification},n.completeNotification=new n("C"),n.undefinedValueNotification=new n("N",void 0),n}(),e.Notification=t}),CI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wx=function(t,e){return e===void 0&&(e=0),function(n){return n.lift(new vx(t,e))}},vx=function(){function t(e,n){n===void 0&&(n=0),this.scheduler=e,this.delay=n}return t.prototype.call=function(e,n){return n.subscribe(new xx(e,this.scheduler,this.delay))},t}(),DI=vx,xx=function(t){function e(n,i,s){return s===void 0&&(s=0),(n=t.call(this,n)||this).scheduler=i,n.delay=s,n}return CI(e,t),e.dispatch=function(n){n.notification.observe(n.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(n){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new yx(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage(Zi.Notification.createNext(n))},e.prototype._error=function(n){this.scheduleMessage(Zi.Notification.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Zi.Notification.createComplete()),this.unsubscribe()},e}(Gb.Subscriber),EI=xx,yx=function(t,e){this.notification=t,this.destination=e},FI=Object.defineProperty({observeOn:wx,ObserveOnOperator:DI,ObserveOnSubscriber:EI,ObserveOnMessage:yx},"__esModule",{value:!0}),GI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),wf=function(t){function e(n,i,s){n===void 0&&(n=Number.POSITIVE_INFINITY),i===void 0&&(i=Number.POSITIVE_INFINITY);var g=t.call(this)||this;return g.scheduler=s,g._events=[],g._infiniteTimeWindow=!1,g._bufferSize=1>n?1:n,g._windowTime=1>i?1:i,i===Number.POSITIVE_INFINITY?(g._infiniteTimeWindow=!0,g.next=g.nextInfiniteTimeWindow):g.next=g.nextTimeWindow,g}return GI(e,t),e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var i=this._events;i.push(n),i.length>this._bufferSize&&i.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new HI(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var i=this._infiniteTimeWindow,s=i?this._events:this._trimBufferThenGetEvents(),g=this.scheduler,l=s.length;if(this.closed)throw new xh.ObjectUnsubscribedError;if(this.isStopped||this.hasError)var C=id.Subscription.EMPTY;else this.observers.push(n),C=new sx.SubjectSubscription(this,n);if(g&&n.add(n=new FI.ObserveOnSubscriber(n,g)),i)for(i=0;i<l&&!n.closed;i++)n.next(s[i]);else for(i=0;i<l&&!n.closed;i++)n.next(s[i].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),C},e.prototype._getNow=function(){return(this.scheduler||Yi.queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),i=this._bufferSize,s=this._windowTime,g=this._events,l=g.length,C=0;C<l&&!(n-g[C].time<s);)C++;return l>i&&(C=Math.max(C,l-i)),0<C&&g.splice(0,C),g},e}(Aj.Subject),HI=function(t,e){this.time=t,this.value=e},Oz=Object.defineProperty({ReplaySubject:wf},"__esModule",{value:!0}),jd=function(t,e,n){t===void 0&&(t=0);var i=-1;return up.isNumeric(e)?i=1>Number(e)?1:Number(e):Vi.isScheduler(e)&&(n=e),Vi.isScheduler(n)||(n=Me.async),new fc.Observable(function(s){var g=up.isNumeric(t)?t:+t-n.now();return n.schedule(Lz,g,{index:0,period:i,subscriber:s})})},II=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),kb=function(t){return function(e){var n=new JI(t);return e=e.lift(n),n.caught=e}},JI=function(){function t(e){this.selector=e}return t.prototype.call=function(e,n){return n.subscribe(new KI(e,this.selector,this.caught))},t}(),KI=function(t){function e(n,i,s){return(n=t.call(this,n)||this).selector=i,n.caught=s,n}return II(e,t),e.prototype.error=function(n){if(!this.isStopped){var i=void 0;try{i=this.selector(n,this.caught)}catch(s){return void t.prototype.error.call(this,s)}this._unsubscribeAndRecycle(),n=new Lb.SimpleInnerSubscriber(this),this.add(n),(i=Lb.innerSubscribe(i,n))!==n&&this.add(i)}},e}(Lb.SimpleOuterSubscriber),zx=Object.defineProperty({isDate:function(t){return t instanceof Date&&!isNaN(+t)}},"__esModule",{value:!0}),LI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ne=function(t,e){e===void 0&&(e=Me.async);var n=zx.isDate(t)?+t-e.now():Math.abs(t);return function(i){return i.lift(new MI(n,e))}},MI=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new NI(e,this.delay,this.scheduler))},t}(),NI=function(t){function e(n,i,s){return(n=t.call(this,n)||this).delay=i,n.scheduler=s,n.queue=[],n.active=!1,n.errored=!1,n}return LI(e,t),e.dispatch=function(n){for(var i=n.source,s=i.queue,g=n.scheduler,l=n.destination;0<s.length&&0>=s[0].time-g.now();)s.shift().notification.observe(l);0<s.length?(i=Math.max(0,s[0].time-g.now()),this.schedule(n,i)):(this.unsubscribe(),i.active=!1)},e.prototype._schedule=function(n){this.active=!0,this.destination.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var i=this.scheduler;n=new OI(i.now()+this.delay,n),this.queue.push(n),this.active===!1&&this._schedule(i)}},e.prototype._next=function(n){this.scheduleNotification(Zi.Notification.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Zi.Notification.createComplete()),this.unsubscribe()},e}(Gb.Subscriber),OI=function(t,e){this.time=t,this.notification=e},PI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),cc=function(t,e){return function(n){return n.lift(new QI(t,e))}},QI=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new RI(e,this.predicate,this.thisArg))},t}(),RI=function(t){function e(n,i,s){return(n=t.call(this,n)||this).predicate=i,n.thisArg=s,n.count=0,n}return PI(e,t),e.prototype._next=function(n){try{var i=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}i&&this.destination.next(n)},e}(Gb.Subscriber),SI=Object.defineProperty({filter:cc},"__esModule",{value:!0}),TI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),xf=function(t){return function(e){return e.lift(new UI(t))}},UI=function(){function t(e){this.callback=e}return t.prototype.call=function(e,n){return n.subscribe(new VI(e,this.callback))},t}(),VI=function(t){function e(n,i){return(n=t.call(this,n)||this).add(new id.Subscription(i)),n}return TI(e,t),e}(Gb.Subscriber),WI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Oe=function(t){return function(e){return e.lift(new XI(t))}},XI=function(){function t(e){this.value=e}return t.prototype.call=function(e,n){return n.subscribe(new YI(e,this.value))},t}(),YI=function(t){function e(n,i){return(n=t.call(this,n)||this).value=i,n}return WI(e,t),e.prototype._next=function(n){this.destination.next(this.value)},e}(Gb.Subscriber),ZI=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pe=function(t){return function(e){return e.lift(new $I(t,e))}},$I=function(){function t(e,n){this.notifier=e,this.source=n}return t.prototype.call=function(e,n){return n.subscribe(new aJ(e,this.notifier,this.source))},t}(),aJ=function(t){function e(n,i,s){return(n=t.call(this,n)||this).notifier=i,n.source=s,n}return ZI(e,t),e.prototype.error=function(n){if(!this.isStopped){var i=this.errors,s=this.retries,g=this.retriesSubscription;if(s)this.retriesSubscription=this.errors=void 0;else{i=new Aj.Subject;try{s=(0,this.notifier)(i)}catch(l){return t.prototype.error.call(this,l)}g=Lb.innerSubscribe(s,new Lb.SimpleInnerSubscriber(this))}this._unsubscribeAndRecycle(),this.errors=i,this.retries=s,this.retriesSubscription=g,i.next(n)}},e.prototype._unsubscribe=function(){var n=this.errors,i=this.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var n=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=n,this.source.subscribe(this)},e}(Lb.SimpleOuterSubscriber),bJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),dJ=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var i=this.connectable;return i._refCount++,e=new cJ(e,i),n=n.subscribe(e),e.closed||(e.connection=i.connect()),n},t}(),cJ=function(t){function e(n,i){return(n=t.call(this,n)||this).connectable=i,n}return bJ(e,t),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var i=n._refCount;0>=i?this.connection=null:(n._refCount=i-1,1<i?this.connection=null:(i=this.connection,n=n._connection,this.connection=null,!n||i&&n!==i||n.unsubscribe()))}else this.connection=null},e}(Gb.Subscriber),Ax=Object.defineProperty({refCount:function(){return function(t){return t.lift(new dJ(t))}}},"__esModule",{value:!0}),xp=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Bx=function(t){function e(n,i){var s=t.call(this)||this;return s.source=n,s.subjectFactory=i,s._refCount=0,s._isComplete=!1,s}return xp(e,t),e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new id.Subscription).add(this.source.subscribe(new eJ(this.getSubject(),this))),n.closed&&(this._connection=null,n=id.Subscription.EMPTY)),n},e.prototype.refCount=function(){return Ax.refCount()(this)},e}(fc.Observable),fJ=function(){var t=Bx.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),eJ=function(t){function e(n,i){return(n=t.call(this,n)||this).connectable=i,n}return xp(e,t),e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var i=n._connection;n._refCount=0,n._subject=null,n._connection=null,i&&i.unsubscribe()}},e}(Aj.SubjectSubscriber);(function(t){function e(n,i){return(n=t.call(this,n)||this).connectable=i,n}xp(e,t),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var i=n._refCount;0>=i?this.connection=null:(n._refCount=i-1,1<i?this.connection=null:(i=this.connection,n=n._connection,this.connection=null,!n||i&&n!==i||n.unsubscribe()))}else this.connection=null}})(Gb.Subscriber);var gJ=Object.defineProperty({ConnectableObservable:Bx,connectableObservableDescriptor:fJ},"__esModule",{value:!0}),Cx=function(){function t(e,n){this.subjectFactory=e,this.selector=n}return t.prototype.call=function(e,n){var i=this.selector,s=this.subjectFactory();return(e=i(s).subscribe(e)).add(n.subscribe(s)),e},t}(),hJ=Object.defineProperty({multicast:function(t,e){return function(n){var i=typeof t=="function"?t:function(){return t};if(typeof e=="function")return n.lift(new Cx(i,e));var s=Object.create(n,gJ.connectableObservableDescriptor);return s.source=n,s.subjectFactory=i,s}},MulticastOperator:Cx},"__esModule",{value:!0}),Kd=function(){return function(t){return Ax.refCount()(hJ.multicast(Mz)(t))}},yp=function(t,e,n){var i=t&&Ia(t)==="object"?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n};return function(s){return s.lift(Nz(i))}},iJ=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Dx=Object.defineProperty({ArgumentOutOfRangeError:iJ},"__esModule",{value:!0}),jJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),qb=function(t){return function(e){return t===0?Bc.empty():e.lift(new kJ(t))}},kJ=function(){function t(e){if(this.total=e,0>this.total)throw new Dx.ArgumentOutOfRangeError}return t.prototype.call=function(e,n){return n.subscribe(new lJ(e,this.total))},t}(),lJ=function(t){function e(n,i){return(n=t.call(this,n)||this).total=i,n.count=0,n}return jJ(e,t),e.prototype._next=function(n){var i=this.total,s=++this.count;s<=i&&(this.destination.next(n),s===i&&(this.destination.complete(),this.unsubscribe()))},e}(Gb.Subscriber),mJ=Object.defineProperty({take:qb},"__esModule",{value:!0}),nJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Mc=function(t){return function(e){return e.lift(new oJ(t))}},oJ=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,n){e=new pJ(e);var i=Lb.innerSubscribe(this.notifier,new Lb.SimpleInnerSubscriber(e));return i&&!e.seenValue?(e.add(i),n.subscribe(e)):e},t}(),pJ=function(t){function e(n){return(n=t.call(this,n)||this).seenValue=!1,n}return nJ(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(Lb.SimpleOuterSubscriber),Qe=Object.defineProperty({noop:function(){}},"__esModule",{value:!0}),qJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Ga=function(t,e,n){return function(i){return i.lift(new rJ(t,e,n))}},rJ=function(){function t(e,n,i){this.nextOrObserver=e,this.error=n,this.complete=i}return t.prototype.call=function(e,n){return n.subscribe(new sJ(e,this.nextOrObserver,this.error,this.complete))},t}(),sJ=function(t){function e(n,i,s,g){return(n=t.call(this,n)||this)._tapNext=Qe.noop,n._tapError=Qe.noop,n._tapComplete=Qe.noop,n._tapError=s||Qe.noop,n._tapComplete=g||Qe.noop,Th.isFunction(i)?(n._context=n,n._tapNext=i):i&&(n._context=i,n._tapNext=i.next||Qe.noop,n._tapError=i.error||Qe.noop,n._tapComplete=i.complete||Qe.noop),n}return qJ(e,t),e.prototype._next=function(n){try{this._tapNext.call(this._context,n)}catch(i){return void this.destination.error(i)}this.destination.next(n)},e.prototype._error=function(n){try{this._tapError.call(this._context,n)}catch(i){return void this.destination.error(i)}this.destination.error(n)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(n){return void this.destination.error(n)}return this.destination.complete()},e}(Gb.Subscriber),tJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),vJ=function(){function t(e,n,i,s){this.waitFor=e,this.absoluteTimeout=n,this.withObservable=i,this.scheduler=s}return t.prototype.call=function(e,n){return n.subscribe(new uJ(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),uJ=function(t){function e(n,i,s,g,l){return(n=t.call(this,n)||this).absoluteTimeout=i,n.waitFor=s,n.withObservable=g,n.scheduler=l,n.scheduleTimeout(),n}return tJ(e,t),e.dispatchTimeout=function(n){var i=n.withObservable;n._unsubscribeAndRecycle(),n.add(Lb.innerSubscribe(i,new Lb.SimpleInnerSubscriber(n)))},e.prototype.scheduleTimeout=function(){var n=this.action;n?this.action=n.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(n){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,n)},e.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},e}(Lb.SimpleOuterSubscriber),wJ=Object.defineProperty({timeoutWith:function(t,e,n){return n===void 0&&(n=Me.async),function(i){var s=zx.isDate(t),g=s?+t-n.now():Math.abs(t);return i.lift(new vJ(g,s,e,n))}}},"__esModule",{value:!0}),Nc=function(t,e){return e===void 0&&(e=Me.async),wJ.timeoutWith(t,ux.throwError(new sC.TimeoutError),e)},xJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pz=function(){function t(e){this.project=e}return t.prototype.call=function(e,n){return n.subscribe(new yJ(e,this.project))},t}(),yJ=function(t){function e(n,i){return(n=t.call(this,n)||this).project=i,n.index=0,n}return xJ(e,t),e.prototype._next=function(n){var i=this.index++;try{var s=this.project(n,i)}catch(g){return void this.destination.error(g)}this._innerSub(s)},e.prototype._innerSub=function(n){var i=this.innerSubscription;i&&i.unsubscribe(),i=new Lb.SimpleInnerSubscriber(this);var s=this.destination;s.add(i),this.innerSubscription=Lb.innerSubscribe(n,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var n=this.innerSubscription;n&&!n.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(n){this.destination.next(n)},e}(Lb.SimpleOuterSubscriber),zp=Object.defineProperty({switchMap:ic},"__esModule",{value:!0}),zJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),BJ=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){var i;return typeof t[t.length-1]=="function"&&(i=t.pop()),n.lift(new AJ(t,i))}},AJ=function(){function t(e,n){this.observables=e,this.project=n}return t.prototype.call=function(e,n){return n.subscribe(new CJ(e,this.observables,this.project))},t}(),CJ=function(t){function e(n,i,s){(n=t.call(this,n)||this).observables=i,n.project=s,n.toRespond=[],s=i.length,n.values=Array(s);for(var g=0;g<s;g++)n.toRespond.push(g);for(g=0;g<s;g++)n.add(rx.subscribeToResult(n,i[g],void 0,g));return n}return zJ(e,t),e.prototype.notifyNext=function(n,i,s){this.values[s]=i,0<(n=this.toRespond).length&&(s=n.indexOf(s))!==-1&&n.splice(s,1)},e.prototype.notifyComplete=function(){},e.prototype._next=function(n){this.toRespond.length===0&&(n=[n].concat(this.values),this.project?this._tryProject(n):this.destination.next(n))},e.prototype._tryProject=function(n){try{var i=this.project.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(qx.OuterSubscriber),DJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),FJ=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,n){return n.subscribe(new EJ(e,this.defaultValue))},t}(),EJ=function(t){function e(n,i){return(n=t.call(this,n)||this).defaultValue=i,n.isEmpty=!0,n}return DJ(e,t),e.prototype._next=function(n){this.isEmpty=!1,this.destination.next(n)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Gb.Subscriber),Ex=Object.defineProperty({defaultIfEmpty:function(t){return t===void 0&&(t=null),function(e){return e.lift(new FJ(t))}}},"__esModule",{value:!0}),GJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),$d=function(t){return t===void 0&&(t=Qz),function(e){return e.lift(new HJ(t))}},HJ=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,n){return n.subscribe(new IJ(e,this.errorFactory))},t}(),IJ=function(t){function e(n,i){return(n=t.call(this,n)||this).errorFactory=i,n.hasValue=!1,n}return GJ(e,t),e.prototype._next=function(n){this.hasValue=!0,this.destination.next(n)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var n=void 0;try{n=this.errorFactory()}catch(i){n=i}this.destination.error(n)},e}(Gb.Subscriber),JJ=Object.defineProperty({throwIfEmpty:$d},"__esModule",{value:!0}),Zb=function(t,e){var n=2<=arguments.length;return function(i){return i.pipe(t?SI.filter(function(s,g){return t(s,g,i)}):Hg.identity,mJ.take(1),n?Ex.defaultIfEmpty(e):JJ.throwIfEmpty(function(){return new sr.EmptyError}))}},KJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Fx=function(t,e){var n=!1;return 2<=arguments.length&&(n=!0),function(i){return i.lift(new LJ(t,e,n))}},LJ=function(){function t(e,n,i){i===void 0&&(i=!1),this.accumulator=e,this.seed=n,this.hasSeed=i}return t.prototype.call=function(e,n){return n.subscribe(new MJ(e,this.accumulator,this.seed,this.hasSeed))},t}(),MJ=function(t){function e(n,i,s,g){return(n=t.call(this,n)||this).accumulator=i,n._seed=s,n.hasSeed=g,n.index=0,n}return KJ(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},e.prototype._tryNext=function(n){var i=this.index++;try{var s=this.accumulator(this.seed,n,i)}catch(g){this.destination.error(g)}this.seed=s,this.destination.next(s)},e}(Gb.Subscriber),Gx=Object.defineProperty({scan:Fx},"__esModule",{value:!0}),NJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),$k=function(t){var e=arguments.length,n=Me.async;Vi.isScheduler(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var i=null;2<=e&&(i=arguments[1]);var s=Number.POSITIVE_INFINITY;return 3<=e&&(s=arguments[2]),function(g){return g.lift(new OJ(t,i,s,n))}},OJ=function(){function t(e,n,i,s){this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=i,this.scheduler=s}return t.prototype.call=function(e,n){return n.subscribe(new PJ(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),QJ=function(){this.buffer=[]},PJ=function(t){function e(n,i,s,g,l){if((n=t.call(this,n)||this).bufferTimeSpan=i,n.bufferCreationInterval=s,n.maxBufferSize=g,n.scheduler=l,n.contexts=[],g=n.openContext(),n.timespanOnly=s==null||0>s,n.timespanOnly)n.add(g.closeAction=l.schedule(tr,i,{subscriber:n,context:g,bufferTimeSpan:i}));else{var C={bufferTimeSpan:i,bufferCreationInterval:s,subscriber:n,scheduler:l};n.add(g.closeAction=l.schedule(ur,i,{subscriber:n,context:g})),n.add(l.schedule(Rz,s,C))}return n}return NJ(e,t),e.prototype._next=function(n){for(var i,s=this.contexts,g=s.length,l=0;l<g;l++){var C=s[l],p=C.buffer;p.push(n),p.length==this.maxBufferSize&&(i=C)}i&&this.onBufferFull(i)},e.prototype._error=function(n){this.contexts.length=0,t.prototype._error.call(this,n)},e.prototype._complete=function(){for(var n=this.contexts,i=this.destination;0<n.length;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(n){if(this.closeContext(n),(n=n.closeAction).unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){n=this.openContext();var i=this.bufferTimeSpan;this.add(n.closeAction=this.scheduler.schedule(tr,i,{subscriber:this,context:n,bufferTimeSpan:i}))}},e.prototype.openContext=function(){var n=new QJ;return this.contexts.push(n),n},e.prototype.closeContext=function(n){this.destination.next(n.buffer);var i=this.contexts;0<=(i?i.indexOf(n):-1)&&i.splice(i.indexOf(n),1)},e}(Gb.Subscriber),RJ=Ua(function(t,e){var n,i=xa&&xa.__extends||(n=function(l,C){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,B){p.__proto__=B}||function(p,B){for(var Q in B)B.hasOwnProperty(Q)&&(p[Q]=B[Q])})(l,C)},function(l,C){function p(){this.constructor=l}n(l,C),l.prototype=C===null?Object.create(C):(p.prototype=C.prototype,new p)});Object.defineProperty(e,"__esModule",{value:!0}),e.defaultThrottleConfig={leading:!0,trailing:!1},e.throttle=function(l,C){return C===void 0&&(C=e.defaultThrottleConfig),function(p){return p.lift(new s(l,!!C.leading,!!C.trailing))}};var s=function(){function l(C,p,B){this.durationSelector=C,this.leading=p,this.trailing=B}return l.prototype.call=function(C,p){return p.subscribe(new g(C,this.durationSelector,this.leading,this.trailing))},l}(),g=function(l){function C(p,B,Q,y){var _=l.call(this,p)||this;return _.destination=p,_.durationSelector=B,_._leading=Q,_._trailing=y,_._hasValue=!1,_}return i(C,l),C.prototype._next=function(p){this._hasValue=!0,this._sendValue=p,this._throttled||(this._leading?this.send():this.throttle(p))},C.prototype.send=function(){var p=this._sendValue;this._hasValue&&(this.destination.next(p),this.throttle(p)),this._hasValue=!1,this._sendValue=void 0},C.prototype.throttle=function(p){(p=this.tryDurationSelector(p))&&this.add(this._throttled=Lb.innerSubscribe(p,new Lb.SimpleInnerSubscriber(this)))},C.prototype.tryDurationSelector=function(p){try{return this.durationSelector(p)}catch(B){return this.destination.error(B),null}},C.prototype.throttlingDone=function(){var p=this._throttled,B=this._trailing;p&&p.unsubscribe(),this._throttled=void 0,B&&this.send()},C.prototype.notifyNext=function(){this.throttlingDone()},C.prototype.notifyComplete=function(){this.throttlingDone()},C}(Lb.SimpleOuterSubscriber)}),SJ=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),UJ=function(t,e,n){return e===void 0&&(e=Me.async),n===void 0&&(n=RJ.defaultThrottleConfig),function(i){return i.lift(new TJ(t,e,n.leading,n.trailing))}},TJ=function(){function t(e,n,i,s){this.duration=e,this.scheduler=n,this.leading=i,this.trailing=s}return t.prototype.call=function(e,n){return n.subscribe(new VJ(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),VJ=function(t){function e(n,i,s,g,l){return(n=t.call(this,n)||this).duration=i,n.scheduler=s,n.leading=g,n.trailing=l,n._hasTrailingValue=!1,n._trailingValue=null,n}return SJ(e,t),e.prototype._next=function(n){this.throttled?this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Sz,this.duration,{subscriber:this})),this.leading?this.destination.next(n):this.trailing&&(this._trailingValue=n,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},e.prototype.clearThrottle=function(){var n=this.throttled;n&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),n.unsubscribe(),this.remove(n),this.throttled=null)},e}(Gb.Subscriber),nm=function(t,e){return(nm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])})(t,e)},Hx=!1,zd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+Error().stack),Hx=t},get useDeprecatedSynchronousErrorHandling(){return Hx}},al={closed:!0,next:function(t){},error:function(t){if(zd.useDeprecatedSynchronousErrorHandling)throw t;Ig(t)},complete:function(){}},Ad=Array.isArray||function(t){return t&&typeof t.length=="number"},Wh=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),rc=function(){function t(e){this.closed=!1,this._subscriptions=this._parentOrParents=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){if(!this.closed){var e=this._parentOrParents,n=this._ctorUnsubscribe,i=this._unsubscribe,s=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,e instanceof t)e.remove(this);else if(e!==null)for(var g=0;g<e.length;++g)e[g].remove(this);if(Vh(i)){n&&(this._unsubscribe=void 0);try{i.call(this)}catch(C){var l=C instanceof Wh?vr(C.errors):[C]}}if(Ad(s)){for(g=-1,e=s.length;++g<e;)if(om(n=s[g]))try{n.unsubscribe()}catch(C){l=l||[],C instanceof Wh?l=l.concat(vr(C.errors)):l.push(C)}}if(l)throw new Wh(l)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(Ia(e)){case"function":n=new t(e);case"object":if(n===this||n.closed||typeof n.unsubscribe!="function")return n;if(this.closed)return n.unsubscribe(),n;n instanceof t||(e=n,(n=new t)._subscriptions=[e]);break;default:throw Error("unrecognized teardown "+e+" added to Subscription.")}if((e=n._parentOrParents)===null)n._parentOrParents=this;else if(e instanceof t){if(e===this)return n;n._parentOrParents=[e,this]}else{if(e.indexOf(this)!==-1)return n;e.push(this)}return(e=this._subscriptions)===null?this._subscriptions=[n]:e.push(n),n},t.prototype.remove=function(e){var n=this._subscriptions;n&&(e=n.indexOf(e))!==-1&&n.splice(e,1)},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}(),bl=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),xc=function(t){function e(n,i,s){var g=t.call(this)||this;switch(g.syncErrorValue=null,g.syncErrorThrown=!1,g.syncErrorThrowable=!1,g.isStopped=!1,arguments.length){case 0:g.destination=al;break;case 1:if(!n){g.destination=al;break}if(Ia(n)==="object"){n instanceof e?(g.syncErrorThrowable=n.syncErrorThrowable,g.destination=n,n.add(g)):(g.syncErrorThrowable=!0,g.destination=new Ix(g,n));break}default:g.syncErrorThrowable=!0,g.destination=new Ix(g,n,i,s)}return g}return gb(e,t),e.prototype[bl]=function(){return this},e.create=function(n,i,s){return(n=new e(n,i,s)).syncErrorThrowable=!1,n},e.prototype.next=function(n){this.isStopped||this._next(n)},e.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(n){this.destination.next(n)},e.prototype._error=function(n){this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var n=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=n,this},e}(rc),Ix=function(t){function e(n,i,s,g){var l=t.call(this)||this;if(l._parentSubscriber=n,n=l,Vh(i))var C=i;else i&&(C=i.next,s=i.error,g=i.complete,i!==al&&(Vh((n=Object.create(i)).unsubscribe)&&l.add(n.unsubscribe.bind(n)),n.unsubscribe=l.unsubscribe.bind(l)));return l._context=n,l._next=C,l._error=s,l._complete=g,l}return gb(e,t),e.prototype.next=function(n){if(!this.isStopped&&this._next){var i=this._parentSubscriber;zd.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,this._next,n)&&this.unsubscribe():this.__tryOrUnsub(this._next,n)}},e.prototype.error=function(n){if(!this.isStopped){var i=this._parentSubscriber,s=zd.useDeprecatedSynchronousErrorHandling;if(this._error)s&&i.syncErrorThrowable?this.__tryOrSetError(i,this._error,n):this.__tryOrUnsub(this._error,n),this.unsubscribe();else if(i.syncErrorThrowable)s?(i.syncErrorValue=n,i.syncErrorThrown=!0):Ig(n),this.unsubscribe();else{if(this.unsubscribe(),s)throw n;Ig(n)}}},e.prototype.complete=function(){var n=this;if(!this.isStopped){var i=this._parentSubscriber;if(this._complete){var s=function(){return n._complete.call(n._context)};zd.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable?this.__tryOrSetError(i,s):this.__tryOrUnsub(s)}this.unsubscribe()}},e.prototype.__tryOrUnsub=function(n,i){try{n.call(this._context,i)}catch(s){if(this.unsubscribe(),zd.useDeprecatedSynchronousErrorHandling)throw s;Ig(s)}},e.prototype.__tryOrSetError=function(n,i,s){if(!zd.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{i.call(this._context,s)}catch(g){return zd.useDeprecatedSynchronousErrorHandling?(n.syncErrorValue=g,n.syncErrorThrown=!0):Ig(g),!0}return!1},e.prototype._unsubscribe=function(){var n=this._parentSubscriber;this._parentSubscriber=this._context=null,n.unsubscribe()},e}(xc),Kg=typeof Symbol=="function"&&Symbol.observable||"@@observable",hb=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(e,n,i){var s=this.operator;e:{if(e){if(e instanceof xc)break e;if(e[bl]){e=e[bl]();break e}}e=e||n||i?new xc(e,n,i):new xc(al)}if(s?e.add(s.call(e,this.source)):e.add(this.source||zd.useDeprecatedSynchronousErrorHandling&&!e.syncErrorThrowable?this._subscribe(e):this._trySubscribe(e)),zd.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable&&(e.syncErrorThrowable=!1,e.syncErrorThrown))throw e.syncErrorValue;return e},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(n){zd.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=n),pm(e)?e.error(n):console.warn(n)}},t.prototype.forEach=function(e,n){var i=this;return new(n=xr(n))(function(s,g){var l=i.subscribe(function(C){try{e(C)}catch(p){g(p),l&&l.unsubscribe()}},g,s)})},t.prototype._subscribe=function(e){var n=this.source;return n&&n.subscribe(e)},t.prototype[Kg]=function(){return this},t.prototype.pipe=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length===0?this:wr(e)(this)},t.prototype.toPromise=function(e){var n=this;return new(e=xr(e))(function(i,s){var g;n.subscribe(function(l){return g=l},function(l){return s(l)},function(){return i(g)})})},t.create=function(e){return new t(e)},t}(),yf=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),Jx=function(t){function e(n,i){var s=t.call(this)||this;return s.subject=n,s.subscriber=i,s.closed=!1,s}return gb(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var n=this.subject,i=n.observers;this.subject=null,!i||i.length===0||n.isStopped||n.closed||(n=i.indexOf(this.subscriber))!==-1&&i.splice(n,1)}},e}(rc),Kx=function(t){function e(n){var i=t.call(this,n)||this;return i.destination=n,i}return gb(e,t),e}(xc),Mg=function(t){function e(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return gb(e,t),e.prototype[bl]=function(){return new Kx(this)},e.prototype.lift=function(n){var i=new Lx(this,this);return i.operator=n,i},e.prototype.next=function(n){if(this.closed)throw new yf;if(!this.isStopped){var i=this.observers,s=i.length;i=i.slice();for(var g=0;g<s;g++)i[g].next(n)}},e.prototype.error=function(n){if(this.closed)throw new yf;this.hasError=!0,this.thrownError=n,this.isStopped=!0;var i=this.observers,s=i.length;i=i.slice();for(var g=0;g<s;g++)i[g].error(n);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new yf;this.isStopped=!0;var n=this.observers,i=n.length;n=n.slice();for(var s=0;s<i;s++)n[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},e.prototype._trySubscribe=function(n){if(this.closed)throw new yf;return t.prototype._trySubscribe.call(this,n)},e.prototype._subscribe=function(n){if(this.closed)throw new yf;return this.hasError?(n.error(this.thrownError),rc.EMPTY):this.isStopped?(n.complete(),rc.EMPTY):(this.observers.push(n),new Jx(this,n))},e.prototype.asObservable=function(){var n=new hb;return n.source=this,n},e.create=function(n,i){return new Lx(n,i)},e}(hb),Lx=function(t){function e(n,i){var s=t.call(this)||this;return s.destination=n,s.source=i,s}return gb(e,t),e.prototype.next=function(n){var i=this.destination;i&&i.next&&i.next(n)},e.prototype.error=function(n){var i=this.destination;i&&i.error&&this.destination.error(n)},e.prototype.complete=function(){var n=this.destination;n&&n.complete&&this.destination.complete()},e.prototype._subscribe=function(n){return this.source?this.source.subscribe(n):rc.EMPTY},e}(Mg),Uz=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,n){var i=this.connectable;return i._refCount++,e=new WJ(e,i),n=n.subscribe(e),e.closed||(e.connection=i.connect()),n},t}(),WJ=function(t){function e(n,i){return(n=t.call(this,n)||this).connectable=i,n}return gb(e,t),e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var i=n._refCount;0>=i?this.connection=null:(n._refCount=i-1,1<i?this.connection=null:(i=this.connection,n=n._connection,this.connection=null,!n||i&&n!==i||n.unsubscribe()))}else this.connection=null},e}(xc),YJ=function(t){function e(n,i){var s=t.call(this)||this;return s.source=n,s.subjectFactory=i,s._refCount=0,s._isComplete=!1,s}return gb(e,t),e.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},e.prototype.getSubject=function(){var n=this._subject;return n&&!n.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var n=this._connection;return n||(this._isComplete=!1,(n=this._connection=new rc).add(this.source.subscribe(new XJ(this.getSubject(),this))),n.closed&&(this._connection=null,n=rc.EMPTY)),n},e.prototype.refCount=function(){return Tz()(this)},e}(hb),XJ=function(t){function e(n,i){return(n=t.call(this,n)||this).connectable=i,n}return gb(e,t),e.prototype._error=function(n){this._unsubscribe(),t.prototype._error.call(this,n)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var n=this.connectable;if(n){this.connectable=null;var i=n._connection;n._refCount=0,n._subject=null,n._connection=null,i&&i.unsubscribe()}},e}(Kx),$J=function(t){function e(n,i,s){var g=t.call(this)||this;return g.key=n,g.groupSubject=i,g.refCountSubscription=s,g}return gb(e,t),e.prototype._subscribe=function(n){var i=new rc,s=this.refCountSubscription,g=this.groupSubject;return s&&!s.closed&&i.add(new ZJ(s)),i.add(g.subscribe(n)),i},e}(hb),ZJ=function(t){function e(n){var i=t.call(this)||this;return i.parent=n,n.count++,i}return gb(e,t),e.prototype.unsubscribe=function(){var n=this.parent;n.closed||this.closed||(t.prototype.unsubscribe.call(this),--n.count,n.count===0&&n.attemptedToUnsubscribe&&n.unsubscribe())},e}(rc),aK=function(t){function e(n){var i=t.call(this)||this;return i._value=n,i}return gb(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(n){var i=t.prototype._subscribe.call(this,n);return i&&!i.closed&&n.next(this._value),i},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new yf;return this._value},e.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},e}(Mg),$i=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s.pending=!1,s}return gb(e,t),e.prototype.schedule=function(n,i){if(i===void 0&&(i=0),this.closed)return this;this.state=n,n=this.id;var s=this.scheduler;return n!=null&&(this.id=this.recycleAsyncId(s,n,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(s,this.id,i),this},e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),setInterval(n.flush.bind(n,this),s)},e.prototype.recycleAsyncId=function(n,i,s){if(s===void 0&&(s=0),s!==null&&this.delay===s&&this.pending===!1)return i;clearInterval(i)},e.prototype.execute=function(n,i){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(n=this._execute(n,i))?n:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},e.prototype._execute=function(n,i){i=!1;var s=void 0;try{this.work(n)}catch(g){i=!0,s=!!g&&g||Error(g)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var n=this.id,i=this.scheduler,s=i.actions,g=s.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,g!==-1&&s.splice(g,1),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null},e}(function(t){function e(n,i){return t.call(this)||this}return gb(e,t),e.prototype.schedule=function(n,i){return this},e}(rc)),bK=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s}return gb(e,t),e.prototype.schedule=function(n,i){return i===void 0&&(i=0),0<i?t.prototype.schedule.call(this,n,i):(this.delay=i,this.state=n,this.scheduler.flush(this),this)},e.prototype.execute=function(n,i){return 0<i||this.closed?t.prototype.execute.call(this,n,i):this._execute(n,i)},e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),s!==null&&0<s||s===null&&0<this.delay?t.prototype.requestAsyncId.call(this,n,i,s):n.flush(this)},e}($i),Ap=function(){function t(e,n){n===void 0&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(e,n,i){return n===void 0&&(n=0),new this.SchedulerAction(this,e).schedule(i,n)},t.now=function(){return Date.now()},t}(),aj=function(t){function e(n,i){i===void 0&&(i=Ap.now);var s=t.call(this,n,function(){return e.delegate&&e.delegate!==s?e.delegate.now():i()})||this;return s.actions=[],s.active=!1,s.scheduled=void 0,s}return gb(e,t),e.prototype.schedule=function(n,i,s){return i===void 0&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,s):t.prototype.schedule.call(this,n,i,s)},e.prototype.flush=function(n){var i=this.actions;if(this.active)i.push(n);else{var s;this.active=!0;do if(s=n.execute(n.state,n.delay))break;while(n=i.shift());if(this.active=!1,s){for(;n=i.shift();)n.unsubscribe();throw s}}},e}(Ap),Bp=new(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gb(e,t),e}(aj))(bK),Jg=new hb(function(t){return t.complete()}),yr=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}},Cp;(function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"})(Cp||(Cp={}));var yh=function(){function t(e,n,i){this.kind=e,this.value=n,this.error=i,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,n,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return n&&n(this.error);case"C":return i&&i()}},t.prototype.accept=function(e,n,i){return e&&typeof e.next=="function"?this.observe(e):this.do(e,n,i)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Bj(this.value);case"E":return zr(this.error);case"C":return qm()}throw Error("unexpected notification kind value")},t.createNext=function(e){return e!==void 0?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}(),dK=function(t){function e(n,i,s){return s===void 0&&(s=0),(n=t.call(this,n)||this).scheduler=i,n.delay=s,n}return gb(e,t),e.dispatch=function(n){n.notification.observe(n.destination),this.unsubscribe()},e.prototype.scheduleMessage=function(n){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new cK(n,this.destination)))},e.prototype._next=function(n){this.scheduleMessage(yh.createNext(n))},e.prototype._error=function(n){this.scheduleMessage(yh.createError(n)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(yh.createComplete()),this.unsubscribe()},e}(xc),cK=function(t,e){this.notification=t,this.destination=e},fK=function(t){function e(n,i,s){n===void 0&&(n=Number.POSITIVE_INFINITY),i===void 0&&(i=Number.POSITIVE_INFINITY);var g=t.call(this)||this;return g.scheduler=s,g._events=[],g._infiniteTimeWindow=!1,g._bufferSize=1>n?1:n,g._windowTime=1>i?1:i,i===Number.POSITIVE_INFINITY?(g._infiniteTimeWindow=!0,g.next=g.nextInfiniteTimeWindow):g.next=g.nextTimeWindow,g}return gb(e,t),e.prototype.nextInfiniteTimeWindow=function(n){if(!this.isStopped){var i=this._events;i.push(n),i.length>this._bufferSize&&i.shift()}t.prototype.next.call(this,n)},e.prototype.nextTimeWindow=function(n){this.isStopped||(this._events.push(new eK(this._getNow(),n)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,n)},e.prototype._subscribe=function(n){var i=this._infiniteTimeWindow,s=i?this._events:this._trimBufferThenGetEvents(),g=this.scheduler,l=s.length;if(this.closed)throw new yf;if(this.isStopped||this.hasError)var C=rc.EMPTY;else this.observers.push(n),C=new Jx(this,n);if(g&&n.add(n=new dK(n,g)),i)for(i=0;i<l&&!n.closed;i++)n.next(s[i]);else for(i=0;i<l&&!n.closed;i++)n.next(s[i].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),C},e.prototype._getNow=function(){return(this.scheduler||Bp).now()},e.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),i=this._bufferSize,s=this._windowTime,g=this._events,l=g.length,C=0;C<l&&!(n-g[C].time<s);)C++;return l>i&&(C=Math.max(C,l-i)),0<C&&g.splice(0,C),g},e}(Mg),eK=function(t,e){this.time=t,this.value=e},Zh=function(t){function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.value=null,n.hasNext=!1,n.hasCompleted=!1,n}return gb(e,t),e.prototype._subscribe=function(n){return this.hasError?(n.error(this.thrownError),rc.EMPTY):this.hasCompleted&&this.hasNext?(n.next(this.value),n.complete(),rc.EMPTY):t.prototype._subscribe.call(this,n)},e.prototype.next=function(n){this.hasCompleted||(this.value=n,this.hasNext=!0)},e.prototype.error=function(n){this.hasCompleted||t.prototype.error.call(this,n)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Mg),gK=1,hK=Promise.resolve(),sm={},Mx={setImmediate:function(t){var e=gK++;return sm[e]=!0,hK.then(function(){return Ar(e)&&t()}),e},clearImmediate:function(t){Ar(t)}},iK=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s}return gb(e,t),e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),s!==null&&0<s?t.prototype.requestAsyncId.call(this,n,i,s):(n.actions.push(this),n.scheduled||(n.scheduled=Mx.setImmediate(n.flush.bind(n,null))))},e.prototype.recycleAsyncId=function(n,i,s){if(s===void 0&&(s=0),s!==null&&0<s||s===null&&0<this.delay)return t.prototype.recycleAsyncId.call(this,n,i,s);n.actions.length===0&&(Mx.clearImmediate(i),n.scheduled=void 0)},e}($i),wm=new(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gb(e,t),e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var i,s=this.actions,g=-1,l=s.length;n=n||s.shift();do if(i=n.execute(n.state,n.delay))break;while(++g<l&&(n=s.shift()));if(this.active=!1,i){for(;++g<l&&(n=s.shift());)n.unsubscribe();throw i}},e}(aj))(iK),jK=wm,Nx=new aj($i),ai=Nx,kK=function(t){function e(n,i){var s=t.call(this,n,i)||this;return s.scheduler=n,s.work=i,s}return gb(e,t),e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),s!==null&&0<s?t.prototype.requestAsyncId.call(this,n,i,s):(n.actions.push(this),n.scheduled||(n.scheduled=requestAnimationFrame(function(){return n.flush(null)})))},e.prototype.recycleAsyncId=function(n,i,s){if(s===void 0&&(s=0),s!==null&&0<s||s===null&&0<this.delay)return t.prototype.recycleAsyncId.call(this,n,i,s);n.actions.length===0&&(cancelAnimationFrame(i),n.scheduled=void 0)},e}($i),Ox=new(function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gb(e,t),e.prototype.flush=function(n){this.active=!0,this.scheduled=void 0;var i,s=this.actions,g=-1,l=s.length;n=n||s.shift();do if(i=n.execute(n.state,n.delay))break;while(++g<l&&(n=s.shift()));if(this.active=!1,i){for(;++g<l&&(n=s.shift());)n.unsubscribe();throw i}},e}(aj))(kK),lK=function(t){function e(n,i){n===void 0&&(n=Px),i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,n,function(){return s.frame})||this;return s.maxFrames=i,s.frame=0,s.index=-1,s}return gb(e,t),e.prototype.flush=function(){for(var n,i,s=this.actions,g=this.maxFrames;(i=s[0])&&i.delay<=g&&(s.shift(),this.frame=i.delay,!(n=i.execute(i.state,i.delay))););if(n){for(;i=s.shift();)i.unsubscribe();throw n}},e.frameTimeFactor=10,e}(aj),Px=function(t){function e(n,i,s){s===void 0&&(s=n.index+=1);var g=t.call(this,n,i)||this;return g.scheduler=n,g.work=i,g.index=s,g.active=!0,g.index=n.index=s,g}return gb(e,t),e.prototype.schedule=function(n,i){if(i===void 0&&(i=0),!this.id)return t.prototype.schedule.call(this,n,i);this.active=!1;var s=new e(this.scheduler,this.work);return this.add(s),s.schedule(n,i)},e.prototype.requestAsyncId=function(n,i,s){return s===void 0&&(s=0),this.delay=n.frame+s,(n=n.actions).push(this),n.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(n,i,s){},e.prototype._execute=function(n,i){if(this.active===!0)return t.prototype._execute.call(this,n,i)},e.sortActions=function(n,i){return n.delay===i.delay?n.index===i.index?0:n.index>i.index?1:-1:n.delay>i.delay?1:-1},e}($i),mK=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),nK=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),oK=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),Xz=function(){function t(e,n){this.project=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new pK(e,this.project,this.thisArg))},t}(),pK=function(t){function e(n,i,s){return(n=t.call(this,n)||this).project=i,n.count=0,n.thisArg=s||n,n}return gb(e,t),e.prototype._next=function(n){try{var i=this.project.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(xc),Qx=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gb(e,t),e.prototype.notifyNext=function(n,i,s,g,l){this.destination.next(i)},e.prototype.notifyError=function(n,i){this.destination.error(n)},e.prototype.notifyComplete=function(n){this.destination.complete()},e}(xc),bA=function(t){function e(n,i,s){var g=t.call(this)||this;return g.parent=n,g.outerValue=i,g.outerIndex=s,g.index=0,g}return gb(e,t),e.prototype._next=function(n){this.parent.notifyNext(this.outerValue,n,this.outerIndex,this.index++,this)},e.prototype._error=function(n){this.parent.notifyError(n,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(xc),qK=function(t){return function(e){return t.then(function(n){e.closed||(e.next(n),e.complete())},function(n){return e.error(n)}).then(null,Ig),e}},We=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator",rK=function(t){return function(e){for(var n=t[We]();;){var i=void 0;try{i=n.next()}catch(s){return e.error(s),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return typeof n.return=="function"&&e.add(function(){n.return&&n.return()}),e}},sK=function(t){return function(e){var n=t[Kg]();if(typeof n.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Ir=function(t){return t&&typeof t.length=="number"&&typeof t!="function"},$h=function(t){if(t&&typeof t[Kg]=="function")return sK(t);if(Ir(t))return yr(t);if(Fr(t))return qK(t);if(t&&typeof t[We]=="function")return rK(t);throw t=om(t)?"an invalid object":"'"+t+"'",new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},Rx={},uK=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new tK(e,this.resultSelector))},t}(),tK=function(t){function e(n,i){return(n=t.call(this,n)||this).resultSelector=i,n.active=0,n.values=[],n.observables=[],n}return gb(e,t),e.prototype._next=function(n){this.values.push(Rx),this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,i=n.length;if(i===0)this.destination.complete();else{this.toRespond=this.active=i;for(var s=0;s<i;s++)this.add(Gr(this,n[s],void 0,s))}},e.prototype.notifyComplete=function(n){--this.active==0&&this.destination.complete()},e.prototype.notifyNext=function(n,i,s){var g=(n=this.values)[s];g=this.toRespond?g===Rx?--this.toRespond:this.toRespond:0,n[s]=i,g===0&&(this.resultSelector?this._tryResultSelector(n):this.destination.next(n.slice()))},e.prototype._tryResultSelector=function(n){try{var i=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(Qx),Sx=function(t){function e(n){var i=t.call(this)||this;return i.parent=n,i}return gb(e,t),e.prototype._next=function(n){this.parent.notifyNext(n)},e.prototype._error=function(n){this.parent.notifyError(n),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(xc),Tx=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return gb(e,t),e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyError=function(n){this.destination.error(n)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(xc),fA=function(){function t(e,n){n===void 0&&(n=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=n}return t.prototype.call=function(e,n){return n.subscribe(new vK(e,this.project,this.concurrent))},t}(),vK=function(t){function e(n,i,s){return s===void 0&&(s=Number.POSITIVE_INFINITY),(n=t.call(this,n)||this).project=i,n.concurrent=s,n.hasCompleted=!1,n.buffer=[],n.active=0,n.index=0,n}return gb(e,t),e.prototype._next=function(n){this.active<this.concurrent?this._tryNext(n):this.buffer.push(n)},e.prototype._tryNext=function(n){var i=this.index++;try{var s=this.project(n,i)}catch(g){return void this.destination.error(g)}this.active++,this._innerSub(s)},e.prototype._innerSub=function(n){var i=new Sx(this),s=this.destination;s.add(i),(n=Jr(n,i))!==i&&s.add(n)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(n){this.destination.next(n)},e.prototype.notifyComplete=function(){var n=this.buffer;this.active--,0<n.length?this._next(n.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(Tx),Ux=new hb(Br),kA=function(){function t(e,n){this.predicate=e,this.thisArg=n}return t.prototype.call=function(e,n){return n.subscribe(new wK(e,this.predicate,this.thisArg))},t}(),wK=function(t){function e(n,i,s){return(n=t.call(this,n)||this).predicate=i,n.thisArg=s,n.count=0,n}return gb(e,t),e.prototype._next=function(n){try{var i=this.predicate.call(this.thisArg,n,this.count++)}catch(s){return void this.destination.error(s)}i&&this.destination.next(n)},e}(xc),yK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new xK(e))},t}(),xK=function(t){function e(n){return(n=t.call(this,n)||this).hasFirst=!1,n.observables=[],n.subscriptions=[],n}return gb(e,t),e.prototype._next=function(n){this.observables.push(n)},e.prototype._complete=function(){var n=this.observables,i=n.length;if(i===0)this.destination.complete();else{for(var s=0;s<i&&!this.hasFirst;s++){var g=Gr(this,n[s],void 0,s);this.subscriptions&&this.subscriptions.push(g),this.add(g)}this.observables=null}},e.prototype.notifyNext=function(n,i,s){if(!this.hasFirst){for(this.hasFirst=!0,n=0;n<this.subscriptions.length;n++)if(n!==s){var g=this.subscriptions[n];g.unsubscribe(),this.remove(g)}this.subscriptions=null}this.destination.next(i)},e}(Qx),AK=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new zK(e,this.resultSelector))},t}(),zK=function(t){function e(n,i,s){return(n=t.call(this,n)||this).resultSelector=i,n.iterators=[],n.active=0,n.resultSelector=typeof i=="function"?i:void 0,n}return gb(e,t),e.prototype._next=function(n){var i=this.iterators;Ad(n)?i.push(new BK(n)):typeof n[We]=="function"?i.push(new CK(n[We]())):i.push(new DK(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,i=n.length;if(this.unsubscribe(),i===0)this.destination.complete();else{this.active=i;for(var s=0;s<i;s++){var g=n[s];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,i=n.length,s=this.destination,g=0;g<i;g++){var l=n[g];if(typeof l.hasValue=="function"&&!l.hasValue())return}var C=!1,p=[];for(g=0;g<i;g++){var B=(l=n[g]).next();if(l.hasCompleted()&&(C=!0),B.done)return void s.complete();p.push(B.value)}this.resultSelector?this._tryresultSelector(p):s.next(p),C&&s.complete()},e.prototype._tryresultSelector=function(n){try{var i=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(xc),CK=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},t}(),BK=function(){function t(e){this.array=e,this.length=this.index=0,this.length=e.length}return t.prototype[We]=function(){return this},t.prototype.next=function(e){e=this.index++;var n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),DK=function(t){function e(n,i,s){return(n=t.call(this,n)||this).parent=i,n.observable=s,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return gb(e,t),e.prototype[We]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return 0<this.buffer.length},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return Jr(this.observable,new Sx(this))},e}(Tx),EK=Object.freeze({__proto__:null,Observable:hb,ConnectableObservable:YJ,GroupedObservable:$J,observable:Kg,Subject:Mg,BehaviorSubject:aK,ReplaySubject:fK,AsyncSubject:Zh,asap:jK,asapScheduler:wm,async:ai,asyncScheduler:Nx,queue:Bp,queueScheduler:Bp,animationFrame:Ox,animationFrameScheduler:Ox,VirtualTimeScheduler:lK,VirtualAction:Px,Scheduler:Ap,Subscription:rc,Subscriber:xc,Notification:yh,get NotificationKind(){return Cp},pipe:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return wr(t)},noop:Br,identity:Xh,isObservable:function(t){return!!t&&(t instanceof hb||typeof t.lift=="function"&&typeof t.subscribe=="function")},ArgumentOutOfRangeError:mK,EmptyError:nK,ObjectUnsubscribedError:yf,UnsubscriptionError:Wh,TimeoutError:oK,bindCallback:Cr,bindNodeCallback:Dr,combineLatest:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=e=void 0;return Ve(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(e=t.pop()),t.length===1&&Ad(t[0])&&(t=t[0]),Yh(t,n).lift(new uK(e))},concat:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Kr(1)(Bj.apply(void 0,t))},defer:Lr,empty:qm,forkJoin:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var n=t[0];if(Ad(n))return Cj(n,null);if(om(n)&&Object.getPrototypeOf(n)===Object.prototype)return Cj((t=Object.keys(n)).map(function(s){return n[s]}),t)}if(typeof t[t.length-1]=="function"){var i=t.pop();return Cj(t=t.length===1&&Ad(t[0])?t[0]:t,null).pipe(Pf(function(s){return i.apply(void 0,s)}))}return Cj(t,null)},from:Lg,fromEvent:Mr,fromEventPattern:Or,generate:function(t,e,n,i,s){if(arguments.length==1){var g=t.initialState;e=t.condition,n=t.iterate;var l=t.resultSelector||Xh;s=t.scheduler}else i===void 0||Ve(i)?(g=t,l=Xh,s=i):(g=t,l=i);return new hb(function(C){var p=g;if(s)return s.schedule(gA,0,{subscriber:C,iterate:n,condition:e,resultSelector:l,state:p});for(;;){if(e){var B=void 0;try{B=e(p)}catch(Q){C.error(Q);break}if(!B){C.complete();break}}B=void 0;try{B=l(p)}catch(Q){C.error(Q);break}if(C.next(B),C.closed)break;try{p=n(p)}catch(Q){C.error(Q);break}}})},iif:function(t,e,n){return e===void 0&&(e=Jg),n===void 0&&(n=Jg),Lr(function(){return t()?e:n})},interval:function(t,e){return t===void 0&&(t=0),e===void 0&&(e=ai),(!um(t)||0>t)&&(t=0),e&&typeof e.schedule=="function"||(e=ai),new hb(function(n){return n.add(e.schedule(hA,t,{subscriber:n,counter:0,period:t})),n})},merge:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];e=Number.POSITIVE_INFINITY;var n=null,i=t[t.length-1];return Ve(i)?(n=t.pop(),1<t.length&&typeof t[t.length-1]=="number"&&(e=t.pop())):typeof i=="number"&&(e=t.pop()),n===null&&t.length===1&&t[0]instanceof hb?t[0]:Kr(e)(Yh(t,n))},never:function(){return Ux},of:Bj,onErrorResumeNext:vm,pairs:function(t,e){return new hb(e?function(n){var i=Object.keys(t),s=new rc;return s.add(e.schedule(iA,0,{keys:i,index:0,subscriber:n,subscription:s,obj:t})),s}:function(n){for(var i=Object.keys(t),s=0;s<i.length&&!n.closed;s++){var g=i[s];t.hasOwnProperty(g)&&n.next([g,t[g]])}n.complete()})},partition:function(t,e,n){return[Pr(e,n)(new hb($h(t))),Pr(jA(e,n))(new hb($h(t)))]},race:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){if(!Ad(t[0]))return t[0];t=t[0]}return Yh(t,void 0).lift(new yK)},range:function(t,e,n){return t===void 0&&(t=0),new hb(function(i){e===void 0&&(e=t,t=0);var s=0,g=t;if(n)return n.schedule(lA,0,{index:s,count:e,start:t,subscriber:i});for(;;){if(s++>=e){i.complete();break}if(i.next(g++),i.closed)break}})},throwError:zr,timer:function(t,e,n){t===void 0&&(t=0);var i=-1;return um(e)?i=1>Number(e)?1:Number(e):Ve(e)&&(n=e),Ve(n)||(n=ai),new hb(function(s){var g=um(t)?t:+t-n.now();return n.schedule(mA,g,{index:0,period:i,subscriber:s})})},using:function(t,e){return new hb(function(n){try{var i=t()}catch(l){return void n.error(l)}try{var s=e(i)}catch(l){return void n.error(l)}var g=(s?Lg(s):Jg).subscribe(n);return function(){g.unsubscribe(),i&&i.unsubscribe()}})},zip:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return typeof(e=t[t.length-1])=="function"&&t.pop(),Yh(t,void 0).lift(new AK(e))},scheduled:Hr,EMPTY:Jg,NEVER:Ux,config:zd}),Vx=Sp(EK),Wx=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=[],i=function(s,g){return new WebSocket(s,g)};e.normalClosureMessage="Normal closure",e.default=function(s,g){var l=(g=g===void 0?{protocols:n,makeWebSocket:i}:g).protocols,C=l===void 0?n:l,p=(g=g.makeWebSocket)===void 0?i:g;return new Vx.Observable(function(B){var Q,y=new Vx.Subject,_=p(s,C),S=!1,w=!1,O=function(P){if(Q)throw S=!0,P=Error("Web socket message factory function called more than once"),B.error(P),P;return Q=P.subscribe(function(K){_.send(K)}),y};return _.onopen=function(){w?(S=!0,_.close()):B.next(O)},_.onmessage=function(P){y.next(P.data)},_.onerror=function(P){S=!0,B.error(Error(P.message))},_.onclose=function(P){S||(S=!0,w?(B.complete(),y.complete()):B.error(Error(P.code===1e3?e.normalClosureMessage:P.reason)))},function(){w=!0,Q&&Q.unsubscribe(),S||(S=!0,_.close())}})}}),FK=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),Xx=function(){return function(t){return t.lift(new GK)}},GK=function(){function t(){}return t.prototype.call=function(e,n){return n.subscribe(new HK(e))},t}(),HK=function(t){function e(){return t!==null&&t.apply(this,arguments)||this}return FK(e,t),e.prototype._next=function(n){},e}(Gb.Subscriber),IK=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),KK=function(){function t(e){if(this.total=e,0>this.total)throw new Dx.ArgumentOutOfRangeError}return t.prototype.call=function(e,n){return n.subscribe(new JK(e,this.total))},t}(),JK=function(t){function e(n,i){return(n=t.call(this,n)||this).total=i,n.ring=[],n.count=0,n}return IK(e,t),e.prototype._next=function(n){var i=this.ring,s=this.total,g=this.count++;i.length<s?i.push(n):i[g%s]=n},e.prototype._complete=function(){var n=this.destination,i=this.count;if(0<i)for(var s=this.count>=this.total?this.total:this.count,g=this.ring,l=0;l<s;l++){var C=i++%s;n.next(g[C])}n.complete()},e}(Gb.Subscriber),Yx=Object.defineProperty({takeLast:function(t){return function(e){return t===0?Bc.empty():e.lift(new KK(t))}}},"__esModule",{value:!0}),Zx=function(t,e){return 2<=arguments.length?function(n){return qp.pipe(Gx.scan(t,e),Yx.takeLast(1),Ex.defaultIfEmpty(e))(n)}:function(n){return qp.pipe(Gx.scan(function(i,s,g){return t(i,s,g+1)}),Yx.takeLast(1))(n)}},$x=Ua(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.NEVER=new fc.Observable(Qe.noop),e.never=function(){return e.NEVER}}),pA=function(){function t(e,n){this.delay=e,this.scheduler=n}return t.prototype.call=function(e,n){return n.subscribe(new LK(e,this.delay,this.scheduler))},t}(),LK=function(t){function e(n,i,s){return(n=t.call(this,n)||this).delay=i,n.scheduler=s,n.queue=[],n.active=!1,n.errored=!1,n}return gb(e,t),e.dispatch=function(n){for(var i=n.source,s=i.queue,g=n.scheduler,l=n.destination;0<s.length&&0>=s[0].time-g.now();)s.shift().notification.observe(l);0<s.length?(i=Math.max(0,s[0].time-g.now()),this.schedule(n,i)):(this.unsubscribe(),i.active=!1)},e.prototype._schedule=function(n){this.active=!0,this.destination.add(n.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:n}))},e.prototype.scheduleNotification=function(n){if(this.errored!==!0){var i=this.scheduler;n=new MK(i.now()+this.delay,n),this.queue.push(n),this.active===!1&&this._schedule(i)}},e.prototype._next=function(n){this.scheduleNotification(yh.createNext(n))},e.prototype._error=function(n){this.errored=!0,this.queue=[],this.destination.error(n),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(yh.createComplete()),this.unsubscribe()},e}(xc),MK=function(t,e){this.time=t,this.notification=e},rA=function(){function t(e,n,i){i===void 0&&(i=!1),this.accumulator=e,this.seed=n,this.hasSeed=i}return t.prototype.call=function(e,n){return n.subscribe(new NK(e,this.accumulator,this.seed,this.hasSeed))},t}(),NK=function(t){function e(n,i,s,g){return(n=t.call(this,n)||this).accumulator=i,n._seed=s,n.hasSeed=g,n.index=0,n}return gb(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(n){this.hasSeed=!0,this._seed=n},enumerable:!0,configurable:!0}),e.prototype._next=function(n){if(this.hasSeed)return this._tryNext(n);this.seed=n,this.destination.next(n)},e.prototype._tryNext=function(n){var i=this.index++;try{var s=this.accumulator(this.seed,n,i)}catch(g){this.destination.error(g)}this.seed=s,this.destination.next(s)},e}(xc),Rr=[],Sr=function(t,e){return new WebSocket(t,e)},aa=Lc.Reader,ya=Lc.Writer,N=Lc.util,Y=Lc.roots.default||(Lc.roots.default={}),OK=Y.URI=function(){var t={},e=Object.create(t);return e[t[0]="Unknown"]=0,e[t[1]="PingUri"]=1,e[t[2]="PongUri"]=2,e[t[3]="Ping2Uri"]=3,e[t[11]="UserJoinUri"]=11,e[t[12]="UserRespUri"]=12,e[t[15]="UserTicketNearlyExpireUri"]=15,e[t[16]="UserRenewTokenReqUri"]=16,e[t[17]="UserRenewTokenRespUri"]=17,e[t[18]="UserJoin2Uri"]=18,e[t[19]="UserResp2Uri"]=19,e[t[21]="UserQuitUri"]=21,e[t[22]="UserDropUri"]=22,e[t[24]="UserQuit2Uri"]=24,e[t[31]="GroupEnterUri"]=31,e[t[32]="GroupLeaveUri"]=32,e[t[33]="GroupReplyUri"]=33,e[t[35]="GroupDropUri"]=35,e[t[36]="GroupEnterNoticeUri"]=36,e[t[37]="GroupLeaveNoticeUri"]=37,e[t[38]="GroupEventNoticeUri"]=38,e[t[39]="GroupCountNoticeUri"]=39,e[t[41]="UserStatusListUri"]=41,e[t[42]="UserStatusResultUri"]=42,e[t[51]="GroupStatusListUri"]=51,e[t[52]="GroupStatusResultUri"]=52,e[t[55]="GroupAllUsersListUri"]=55,e[t[56]="GroupAllUsersResultUri"]=56,e[t[100]="MessageUri"]=100,e[t[101]="AckUri"]=101,e[t[201]="UserJoinNoticeUri"]=201,e[t[202]="UserQuitNoticeUri"]=202,e[t[203]="UserWaitNoticeUri"]=203,e[t[301]="UserAttributeGetUri"]=301,e[t[302]="UserAttributeRetUri"]=302,e[t[303]="UserAttributeSetUri"]=303,e[t[304]="UserAttributeModUri"]=304,e[t[305]="UserAttributeDelUri"]=305,e[t[307]="UserAttributeRspUri"]=307,e[t[308]="UserAttributeErrUri"]=308,e[t[311]="UserAttributeKeysGetUri"]=311,e[t[312]="UserAttributeKeysRetUri"]=312,e[t[351]="GroupAttributeGetUri"]=351,e[t[352]="GroupAttributeRetUri"]=352,e[t[353]="GroupAttributeSetUri"]=353,e[t[354]="GroupAttributeModUri"]=354,e[t[355]="GroupAttributeDelUri"]=355,e[t[356]="GroupAttributeAltUri"]=356,e[t[357]="GroupAttributeRspUri"]=357,e[t[358]="GroupAttributeErrUri"]=358,e[t[361]="GroupAttributeKeysGetUri"]=361,e[t[362]="GroupAttributeKeysRetUri"]=362,e[t[401]="SubscribeUserStatusUri"]=401,e[t[402]="UnsubscribeUserStatusUri"]=402,e[t[499]="SubscribeResponseUri"]=499,e[t[601]="StateSubscribeUri"]=601,e[t[602]="StateUpdateUri"]=602,e[t[603]="StateSubscribeResultUri"]=603,e[t[604]="StateUnsubscribeUri"]=604,e[t[605]="StateSetUri"]=605,e[t[606]="StateModifyUri"]=606,e[t[607]="StateRequestResultUri"]=607,e[t[608]="StateGetUri"]=608,e[t[609]="StateGetResultUri"]=609,e[t[610]="StateLockAcquireUri"]=610,e[t[611]="StateLockReleaseUri"]=611,e[t[612]="StateLockAcquireResultUri"]=612,e[t[613]="StateLockUpdateUri"]=613,e[t[614]="StateLockReleaseResultUri"]=614,e[t[615]="StateLockDisableUri"]=615,e[t[616]="StateLockDisableResultUri"]=616,e[t[617]="StateLockSubscribeUri"]=617,e[t[618]="StateLockSubscribeResultUri"]=618,e[t[619]="StateLockSubscribeEventUri"]=619,e[t[620]="StateLockUnsubscribeUri"]=620,e[t[621]="StateLockCreateUri"]=621,e[t[622]="StateLockCreateResultUri"]=622,e[t[623]="StateLockDeleteUri"]=623,e[t[624]="StateLockDeleteResultUri"]=624,e[t[625]="StateLockListUri"]=625,e[t[626]="StateLockListResultUri"]=626,e}(),cl=Y.Wrapper=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.uri=0,t.prototype.data=N.newBuffer([]),t.encode=function(e,n){return n||(n=ya.create()),e.uri!=null&&Object.hasOwnProperty.call(e,"uri")&&n.uint32(8).int32(e.uri),e.data!=null&&Object.hasOwnProperty.call(e,"data")&&n.uint32(18).bytes(e.data),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.Wrapper;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.uri=e.int32();break;case 2:i.data=e.bytes();break;default:e.skipType(7&s)}}return i},t}(),PK=Y.Ping=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&n.uint32(16).uint64(e.ms),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.Ping;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.ms=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),QK=Y.Ping2=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&n.uint32(16).uint64(e.ms),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(24).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.Ping2;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.ms=e.uint64();break;case 3:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),RK=Y.Pong=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&n.uint32(16).uint64(e.ms),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.Pong;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.ms=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),SK=Y.UserJoin=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.opt=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.ticket="",t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.opt!=null&&Object.hasOwnProperty.call(e,"opt")&&n.uint32(16).uint64(e.opt),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(24).uint64(e.instance),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(34).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&n.uint32(42).string(e.ticket),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserJoin;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.opt=e.uint64();break;case 3:i.instance=e.uint64();break;case 4:i.account=e.string();break;case 5:i.ticket=e.string();break;default:e.skipType(7&s)}}return i},t}(),TK=Y.UserResp=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserResp;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),UK=Y.UserJoinDetailKey=function(){var t={},e=Object.create(t);return e[t[0]="kDetailKeyUnused"]=0,e[t[1]="kDetailKeyVendorConfig"]=1,e}(),VK=Y.UserJoin2=function(){function t(e){if(this.detail={},e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.opt=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.ticket="",t.prototype.detail=N.emptyObject,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.opt!=null&&Object.hasOwnProperty.call(e,"opt")&&n.uint32(16).uint64(e.opt),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(24).uint64(e.instance),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(34).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&n.uint32(42).string(e.ticket),e.detail!=null&&Object.hasOwnProperty.call(e,"detail"))for(var i=Object.keys(e.detail),s=0;s<i.length;++s)n.uint32(50).fork().uint32(8).uint32(i[s]).uint32(18).bytes(e.detail[i[s]]).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i,s,g=new Y.UserJoin2;e.pos<n;)switch(i=e.uint32(),i>>>3){case 1:g.seq=e.uint64();break;case 2:g.opt=e.uint64();break;case 3:g.instance=e.uint64();break;case 4:g.account=e.string();break;case 5:g.ticket=e.string();break;case 6:g.detail===N.emptyObject&&(g.detail={});var l=e.uint32()+e.pos;for(i=0,s=[];e.pos<l;){var C=e.uint32();switch(C>>>3){case 1:i=e.uint32();break;case 2:s=e.bytes();break;default:e.skipType(7&C)}}g.detail[i]=s;break;default:e.skipType(7&i)}return g},t}(),WK=Y.UserResp2=function(){function t(e){if(this.detail={},e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.code=0,t.prototype.serverTs=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.detail=N.emptyObject,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),e.serverTs!=null&&Object.hasOwnProperty.call(e,"serverTs")&&n.uint32(32).uint64(e.serverTs),e.detail!=null&&Object.hasOwnProperty.call(e,"detail"))for(var i=Object.keys(e.detail),s=0;s<i.length;++s)n.uint32(42).fork().uint32(8).uint32(i[s]).uint32(18).bytes(e.detail[i[s]]).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i,s,g=new Y.UserResp2;e.pos<n;)switch(i=e.uint32(),i>>>3){case 1:g.seq=e.uint64();break;case 2:g.account=e.string();break;case 3:g.code=e.uint32();break;case 4:g.serverTs=e.uint64();break;case 5:g.detail===N.emptyObject&&(g.detail={});var l=e.uint32()+e.pos;for(i=0,s=[];e.pos<l;){var C=e.uint32();switch(C>>>3){case 1:i=e.uint32();break;case 2:s=e.bytes();break;default:e.skipType(7&C)}}g.detail[i]=s;break;default:e.skipType(7&i)}return g},t}(),XK=Y.UserQuit=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.encode=function(e,n){return n||(n=ya.create()),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserQuit;e.pos<n;){var s=e.uint32();e.skipType(7&s)}return i},t}(),YK=Y.UserQuit2=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(8).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserQuit2;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),ZK=Y.UserDrop=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(8).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserDrop;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),$K=Y.UserTicketNearlyExpire=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.expireTs=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.ticket="",t.encode=function(e,n){return n||(n=ya.create()),e.expireTs!=null&&Object.hasOwnProperty.call(e,"expireTs")&&n.uint32(8).uint64(e.expireTs),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&n.uint32(18).string(e.ticket),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserTicketNearlyExpire;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.expireTs=e.uint64();break;case 2:i.ticket=e.string();break;default:e.skipType(7&s)}}return i},t}(),aL=Y.UserRenewTokenReq=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.ticket="",t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(16).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(26).string(e.account),e.ticket!=null&&Object.hasOwnProperty.call(e,"ticket")&&n.uint32(34).string(e.ticket),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserRenewTokenReq;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.seq=e.uint64();break;case 3:i.account=e.string();break;case 4:i.ticket=e.string();break;default:e.skipType(7&s)}}return i},t}(),bL=Y.UserRenewTokenResp=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(16).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserRenewTokenResp;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),cL=Y.GroupEnter=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupEnter;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;default:e.skipType(7&s)}}return i},t}(),dL=Y.GroupLeave=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.account="",t.encode=function(e,n){return n||(n=ya.create()),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(10).string(e.account),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupLeave;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.account=e.string();break;default:e.skipType(7&s)}}return i},t}(),eL=Y.GroupReply=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupReply;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),ay=Y.GroupLeaveNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.user="",t.prototype.group="",t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.size=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&n.uint32(18).string(e.user),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(26).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(32).uint64(e.instance),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&n.uint32(40).uint32(e.size),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupLeaveNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.user=e.string();break;case 3:i.group=e.string();break;case 4:i.instance=e.uint64();break;case 5:i.size=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),by=Y.GroupEnterNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.user="",t.prototype.group="",t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.size=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&n.uint32(18).string(e.user),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(26).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(32).uint64(e.instance),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&n.uint32(40).uint32(e.size),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupEnterNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.user=e.string();break;case 3:i.group=e.string();break;case 4:i.instance=e.uint64();break;case 5:i.size=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),cy=Y.Message=function(){function t(e){if(this.MiscMap={},e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.dialogue=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.options=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.src="",t.prototype.dst="",t.prototype.payload=N.newBuffer([]),t.prototype.MiscMap=N.emptyObject,t.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){if(n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.dialogue!=null&&Object.hasOwnProperty.call(e,"dialogue")&&n.uint32(16).uint64(e.dialogue),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(24).uint64(e.sequence),e.options!=null&&Object.hasOwnProperty.call(e,"options")&&n.uint32(32).uint64(e.options),e.src!=null&&Object.hasOwnProperty.call(e,"src")&&n.uint32(42).string(e.src),e.dst!=null&&Object.hasOwnProperty.call(e,"dst")&&n.uint32(50).string(e.dst),e.payload!=null&&Object.hasOwnProperty.call(e,"payload")&&n.uint32(58).bytes(e.payload),e.MiscMap!=null&&Object.hasOwnProperty.call(e,"MiscMap"))for(var i=Object.keys(e.MiscMap),s=0;s<i.length;++s)n.uint32(66).fork().uint32(10).string(i[s]).uint32(18).bytes(e.MiscMap[i[s]]).ldelim();return e.ms!=null&&Object.hasOwnProperty.call(e,"ms")&&n.uint32(72).uint64(e.ms),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i,s,g=new Y.Message;e.pos<n;)switch(i=e.uint32(),i>>>3){case 1:g.instance=e.uint64();break;case 2:g.dialogue=e.uint64();break;case 3:g.sequence=e.uint64();break;case 4:g.options=e.uint64();break;case 5:g.src=e.string();break;case 6:g.dst=e.string();break;case 7:g.payload=e.bytes();break;case 8:g.MiscMap!==N.emptyObject&&g.MiscMap!==void 0||(g.MiscMap={});var l=e.uint32()+e.pos;for(i="",s=[];e.pos<l;){var C=e.uint32();switch(C>>>3){case 1:i=e.string();break;case 2:s=e.bytes();break;default:e.skipType(7&C)}}g.MiscMap[i]=s;break;case 9:g.ms=e.uint64();break;default:e.skipType(7&i)}return g},t}(),dy=Y.Ack=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.dialogue=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.dialogue!=null&&Object.hasOwnProperty.call(e,"dialogue")&&n.uint32(16).uint64(e.dialogue),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(24).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(32).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.Ack;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.dialogue=e.uint64();break;case 3:i.sequence=e.uint64();break;case 4:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),fL=Y.GroupDrop=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.account="",t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(10).string(e.account),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(16).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupDrop;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.account=e.string();break;case 2:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),gL=Y.GroupAllUsersList=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.pageSize=0,t.prototype.pageNumber=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.pageSize!=null&&Object.hasOwnProperty.call(e,"pageSize")&&n.uint32(24).uint32(e.pageSize),e.pageNumber!=null&&Object.hasOwnProperty.call(e,"pageNumber")&&n.uint32(32).uint32(e.pageNumber),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAllUsersList;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.pageSize=e.uint32();break;case 4:i.pageNumber=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),hL=Y.GroupAllUsersResult=function(){function t(e){if(this.memberInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.totalSize=0,t.prototype.pageSize=0,t.prototype.pageNumber=0,t.prototype.memberInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.totalSize!=null&&Object.hasOwnProperty.call(e,"totalSize")&&n.uint32(24).uint32(e.totalSize),e.pageSize!=null&&Object.hasOwnProperty.call(e,"pageSize")&&n.uint32(32).uint32(e.pageSize),e.pageNumber!=null&&Object.hasOwnProperty.call(e,"pageNumber")&&n.uint32(40).uint32(e.pageNumber),e.memberInfos!=null&&e.memberInfos.length)for(var i=0;i<e.memberInfos.length;++i)Y.GroupAllUsersResult.MemberInfo.encode(e.memberInfos[i],n.uint32(50).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAllUsersResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.totalSize=e.uint32();break;case 4:i.pageSize=e.uint32();break;case 5:i.pageNumber=e.uint32();break;case 6:i.memberInfos&&i.memberInfos.length||(i.memberInfos=[]),i.memberInfos.push(Y.GroupAllUsersResult.MemberInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.MemberInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(n,i){return i||(i=ya.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&i.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&i.uint32(16).uint32(n.ts),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupAllUsersResult.MemberInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.account=n.string();break;case 2:s.ts=n.uint32();break;default:n.skipType(7&g)}}return s},e}(),t}(),iL=Y.UserStatusList=function(){function t(e){if(this.users=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.users=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(var i=0;i<e.users.length;++i)n.uint32(18).string(e.users[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserStatusList;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.users&&i.users.length||(i.users=[]),i.users.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),jL=Y.UserStatusResult=function(){function t(e){if(this.userInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.userInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.userInfos!=null&&e.userInfos.length)for(var i=0;i<e.userInfos.length;++i)Y.UserStatusResult.UserStatusInfo.encode(e.userInfos[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserStatusResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.userInfos&&i.userInfos.length||(i.userInfos=[]),i.userInfos.push(Y.UserStatusResult.UserStatusInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.UserStatusInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.account="",e.prototype.ts=0,e.encode=function(n,i){return i||(i=ya.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&i.uint32(10).string(n.account),n.ts!=null&&Object.hasOwnProperty.call(n,"ts")&&i.uint32(16).uint32(n.ts),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.UserStatusResult.UserStatusInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.account=n.string();break;case 2:s.ts=n.uint32();break;default:n.skipType(7&g)}}return s},e}(),t}(),kL=Y.UserAttributeGet=function(){function t(e){if(this.attributes=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributes=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.attributes!=null&&e.attributes.length)for(var i=0;i<e.attributes.length;++i)n.uint32(26).string(e.attributes[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeGet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),lL=Y.UserAttributeRet=function(){function t(e){if(this.attributeInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.attributeInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.attributeInfos!=null&&e.attributeInfos.length)for(var i=0;i<e.attributeInfos.length;++i)Y.UserAttributeRet.AttributeInfo.encode(e.attributeInfos[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeRet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.attributeInfos&&i.attributeInfos.length||(i.attributeInfos=[]),i.attributeInfos.push(Y.UserAttributeRet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.UserAttributeRet.AttributeInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;default:n.skipType(7&g)}}return s},e}(),t}(),mL=Y.UserAttributeSet=function(){function t(e){if(this.attributeInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributeInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.attributeInfos!=null&&e.attributeInfos.length)for(var i=0;i<e.attributeInfos.length;++i)Y.UserAttributeSet.AttributeInfo.encode(e.attributeInfos[i],n.uint32(26).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeSet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.attributeInfos&&i.attributeInfos.length||(i.attributeInfos=[]),i.attributeInfos.push(Y.UserAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.UserAttributeSet.AttributeInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;default:n.skipType(7&g)}}return s},e}(),t}(),nL=Y.UserAttributeMod=function(){function t(e){if(this.attributeInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributeInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.attributeInfos!=null&&e.attributeInfos.length)for(var i=0;i<e.attributeInfos.length;++i)Y.UserAttributeMod.AttributeInfo.encode(e.attributeInfos[i],n.uint32(26).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeMod;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.attributeInfos&&i.attributeInfos.length||(i.attributeInfos=[]),i.attributeInfos.push(Y.UserAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.UserAttributeMod.AttributeInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;default:n.skipType(7&g)}}return s},e}(),t}(),oL=Y.UserAttributeDel=function(){function t(e){if(this.attributes=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.prototype.attributes=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),e.attributes!=null&&e.attributes.length)for(var i=0;i<e.attributes.length;++i)n.uint32(26).string(e.attributes[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeDel;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;case 3:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),pL=Y.UserAttributeErr=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(16).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeErr;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),qL=Y.UserAttributeKeysGet=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.account="",t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.account!=null&&Object.hasOwnProperty.call(e,"account")&&n.uint32(18).string(e.account),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeKeysGet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.account=e.string();break;default:e.skipType(7&s)}}return i},t}(),rL=Y.UserAttributeKeysRet=function(){function t(e){if(this.keys=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.keys=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.keys!=null&&e.keys.length)for(var i=0;i<e.keys.length;++i)n.uint32(18).string(e.keys[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeKeysRet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.keys&&i.keys.length||(i.keys=[]),i.keys.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),sL=Y.UserAttributeRsp=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserAttributeRsp;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),tL=Y.GroupStatusList=function(){function t(e){if(this.groups=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.groups=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.groups!=null&&e.groups.length)for(var i=0;i<e.groups.length;++i)n.uint32(18).string(e.groups[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupStatusList;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.groups&&i.groups.length||(i.groups=[]),i.groups.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),uL=Y.GroupStatusResult=function(){function t(e){if(this.groupInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.groupInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.groupInfos!=null&&e.groupInfos.length)for(var i=0;i<e.groupInfos.length;++i)Y.GroupStatusResult.GroupInfo.encode(e.groupInfos[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupStatusResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.groupInfos&&i.groupInfos.length||(i.groupInfos=[]),i.groupInfos.push(Y.GroupStatusResult.GroupInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.GroupInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.group="",e.prototype.memberCount=0,e.encode=function(n,i){return i||(i=ya.create()),n.group!=null&&Object.hasOwnProperty.call(n,"group")&&i.uint32(10).string(n.group),n.memberCount!=null&&Object.hasOwnProperty.call(n,"memberCount")&&i.uint32(16).uint32(n.memberCount),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupStatusResult.GroupInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.group=n.string();break;case 2:s.memberCount=n.uint32();break;default:n.skipType(7&g)}}return s},e}(),t}(),vL=Y.GroupCountNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.size=0,t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(16).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(26).string(e.group),e.size!=null&&Object.hasOwnProperty.call(e,"size")&&n.uint32(32).uint32(e.size),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupCountNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.seq=e.uint64();break;case 3:i.group=e.string();break;case 4:i.size=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),wL=Y.GroupAttributeGet=function(){function t(e){if(this.attributes=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.attributes=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.attributes!=null&&e.attributes.length)for(var i=0;i<e.attributes.length;++i)n.uint32(26).string(e.attributes[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeGet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),xL=Y.GroupAttributeRet=function(){function t(e){if(this.attributeMaps=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.attributeMaps=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.attributeMaps!=null&&e.attributeMaps.length)for(var i=0;i<e.attributeMaps.length;++i)Y.GroupAttributeRet.AttributeMap.encode(e.attributeMaps[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeRet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.attributeMaps&&i.attributeMaps.length||(i.attributeMaps=[]),i.attributeMaps.push(Y.GroupAttributeRet.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeMap=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&i.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&i.uint32(32).uint64(n.ms),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupAttributeRet.AttributeMap;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;case 3:s.origin=n.string();break;case 4:s.ms=n.uint64();break;default:n.skipType(7&g)}}return s},e}(),t}(),yL=Y.GroupAttributeSet=function(){function t(e){if(this.attributeInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributeInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&n.uint32(24).bool(e.broadcast),e.attributeInfos!=null&&e.attributeInfos.length)for(var i=0;i<e.attributeInfos.length;++i)Y.GroupAttributeSet.AttributeInfo.encode(e.attributeInfos[i],n.uint32(34).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeSet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.broadcast=e.bool();break;case 4:i.attributeInfos&&i.attributeInfos.length||(i.attributeInfos=[]),i.attributeInfos.push(Y.GroupAttributeSet.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupAttributeSet.AttributeInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;default:n.skipType(7&g)}}return s},e}(),t}(),zL=Y.GroupAttributeMod=function(){function t(e){if(this.attributeInfos=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributeInfos=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&n.uint32(24).bool(e.broadcast),e.attributeInfos!=null&&e.attributeInfos.length)for(var i=0;i<e.attributeInfos.length;++i)Y.GroupAttributeMod.AttributeInfo.encode(e.attributeInfos[i],n.uint32(34).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeMod;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.broadcast=e.bool();break;case 4:i.attributeInfos&&i.attributeInfos.length||(i.attributeInfos=[]),i.attributeInfos.push(Y.GroupAttributeMod.AttributeInfo.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeInfo=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupAttributeMod.AttributeInfo;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;default:n.skipType(7&g)}}return s},e}(),t}(),AL=Y.GroupAttributeDel=function(){function t(e){if(this.attributes=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.broadcast=!1,t.prototype.attributes=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.broadcast!=null&&Object.hasOwnProperty.call(e,"broadcast")&&n.uint32(24).bool(e.broadcast),e.attributes!=null&&e.attributes.length)for(var i=0;i<e.attributes.length;++i)n.uint32(34).string(e.attributes[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeDel;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.broadcast=e.bool();break;case 4:i.attributes&&i.attributes.length||(i.attributes=[]),i.attributes.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),BL=Y.GroupAttributeAlt=function(){function t(e){if(this.attributeMaps=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.attributeMaps=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(24).uint64(e.instance),e.attributeMaps!=null&&e.attributeMaps.length)for(var i=0;i<e.attributeMaps.length;++i)Y.GroupAttributeAlt.AttributeMap.encode(e.attributeMaps[i],n.uint32(34).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeAlt;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;case 3:i.instance=e.uint64();break;case 4:i.attributeMaps&&i.attributeMaps.length||(i.attributeMaps=[]),i.attributeMaps.push(Y.GroupAttributeAlt.AttributeMap.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.AttributeMap=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.key="",e.prototype.value="",e.prototype.origin="",e.prototype.ms=N.Long?N.Long.fromBits(0,0,!0):0,e.encode=function(n,i){return i||(i=ya.create()),n.key!=null&&Object.hasOwnProperty.call(n,"key")&&i.uint32(10).string(n.key),n.value!=null&&Object.hasOwnProperty.call(n,"value")&&i.uint32(18).string(n.value),n.origin!=null&&Object.hasOwnProperty.call(n,"origin")&&i.uint32(26).string(n.origin),n.ms!=null&&Object.hasOwnProperty.call(n,"ms")&&i.uint32(32).uint64(n.ms),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.GroupAttributeAlt.AttributeMap;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.key=n.string();break;case 2:s.value=n.string();break;case 3:s.origin=n.string();break;case 4:s.ms=n.uint64();break;default:n.skipType(7&g)}}return s},e}(),t}(),CL=Y.GroupAttributeRsp=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeRsp;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),DL=Y.GroupAttributeErr=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(16).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeErr;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),EL=Y.GroupAttributeKeysGet=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.group="",t.encode=function(e,n){return n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.group!=null&&Object.hasOwnProperty.call(e,"group")&&n.uint32(18).string(e.group),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeKeysGet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.group=e.string();break;default:e.skipType(7&s)}}return i},t}(),FL=Y.GroupAttributeKeysRet=function(){function t(e){if(this.keys=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.keys=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.keys!=null&&e.keys.length)for(var i=0;i<e.keys.length;++i)n.uint32(18).string(e.keys[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.GroupAttributeKeysRet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.keys&&i.keys.length||(i.keys=[]),i.keys.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),GL=Y.SubscribeUserStatus=function(){function t(e){if(this.users=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.users=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(var i=0;i<e.users.length;++i)n.uint32(18).string(e.users[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.SubscribeUserStatus;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.users&&i.users.length||(i.users=[]),i.users.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),HL=Y.UnsubscribeUserStatus=function(){function t(e){if(this.users=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.users=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.users!=null&&e.users.length)for(var i=0;i<e.users.length;++i)n.uint32(18).string(e.users[i]);return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UnsubscribeUserStatus;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.users&&i.users.length||(i.users=[]),i.users.push(e.string());break;default:e.skipType(7&s)}}return i},t}(),IL=Y.UserJoinNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&n.uint32(26).string(e.user),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserJoinNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.seq=e.uint64();break;case 3:i.user=e.string();break;default:e.skipType(7&s)}}return i},t}(),JL=Y.UserQuitNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&n.uint32(26).string(e.user),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserQuitNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.seq=e.uint64();break;case 3:i.user=e.string();break;default:e.skipType(7&s)}}return i},t}(),KL=Y.UserWaitNotice=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.instance=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.user="",t.encode=function(e,n){return n||(n=ya.create()),e.instance!=null&&Object.hasOwnProperty.call(e,"instance")&&n.uint32(8).uint64(e.instance),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(16).uint64(e.seq),e.user!=null&&Object.hasOwnProperty.call(e,"user")&&n.uint32(26).string(e.user),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.UserWaitNotice;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.instance=e.uint64();break;case 2:i.seq=e.uint64();break;case 3:i.user=e.string();break;default:e.skipType(7&s)}}return i},t}(),LL=Y.StateSubscribe=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateSubscribe;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.sequence=e.uint64();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),ML=Y.StateUpdate=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.allStates="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.allStates!=null&&Object.hasOwnProperty.call(e,"allStates")&&n.uint32(26).string(e.allStates),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateUpdate;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.allStates=e.string();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),NL=Y.StateSubscribeResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(40).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateSubscribeResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.sequence=e.uint64();break;case 4:i.flags=e.uint64();break;case 5:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),OL=Y.StateUnsubscribe=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(24).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateUnsubscribe;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.sequence=e.uint64();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),PL=Y.StateSet=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.author="",t.prototype.value="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.baseRevision=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.lockRev=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.author!=null&&Object.hasOwnProperty.call(e,"author")&&n.uint32(18).string(e.author),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&n.uint32(26).string(e.value),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(34).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(42).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(48).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(56).uint64(e.flags),e.baseRevision!=null&&Object.hasOwnProperty.call(e,"baseRevision")&&n.uint32(64).uint64(e.baseRevision),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&n.uint32(72).uint64(e.lockRev),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateSet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.author=e.string();break;case 3:i.value=e.string();break;case 4:i.lock=e.string();break;case 5:i.requestUuid=e.string();break;case 6:i.sequence=e.uint64();break;case 7:i.flags=e.uint64();break;case 8:i.baseRevision=e.uint64();break;case 9:i.lockRev=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),QL=Y.StateModify=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.author="",t.prototype.value="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.baseRevision=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.lockRev=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.author!=null&&Object.hasOwnProperty.call(e,"author")&&n.uint32(18).string(e.author),e.value!=null&&Object.hasOwnProperty.call(e,"value")&&n.uint32(26).string(e.value),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(34).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(42).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(48).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(56).uint64(e.flags),e.baseRevision!=null&&Object.hasOwnProperty.call(e,"baseRevision")&&n.uint32(64).uint64(e.baseRevision),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&n.uint32(72).uint64(e.lockRev),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateModify;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.author=e.string();break;case 3:i.value=e.string();break;case 4:i.lock=e.string();break;case 5:i.requestUuid=e.string();break;case 6:i.sequence=e.uint64();break;case 7:i.flags=e.uint64();break;case 8:i.baseRevision=e.uint64();break;case 9:i.lockRev=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),RL=Y.StateRequestResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.requestUuid="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(10).string(e.requestUuid),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateRequestResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.requestUuid=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),SL=Y.StateGet=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.lock="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.lockRev=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(26).string(e.lock),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(32).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&n.uint32(48).uint64(e.lockRev),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateGet;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.lock=e.string();break;case 4:i.sequence=e.uint64();break;case 5:i.flags=e.uint64();break;case 6:i.lockRev=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),TL=Y.StateGetResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.subTarget="",t.prototype.allStates="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.subTarget!=null&&Object.hasOwnProperty.call(e,"subTarget")&&n.uint32(18).string(e.subTarget),e.allStates!=null&&Object.hasOwnProperty.call(e,"allStates")&&n.uint32(26).string(e.allStates),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(32).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(48).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateGetResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.subTarget=e.string();break;case 3:i.allStates=e.string();break;case 4:i.sequence=e.uint64();break;case 5:i.flags=e.uint64();break;case 6:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),UL=Y.StateLockAcquire=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.ttl=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&n.uint32(40).uint64(e.ttl),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockAcquire;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;case 5:i.ttl=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),VL=Y.StateLockRelease=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockRelease;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),WL=Y.StateLockAcquireResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.lockRev=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.prototype.reason="",t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),e.lockRev!=null&&Object.hasOwnProperty.call(e,"lockRev")&&n.uint32(40).uint64(e.lockRev),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(48).uint32(e.code),e.reason!=null&&Object.hasOwnProperty.call(e,"reason")&&n.uint32(58).string(e.reason),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockAcquireResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;case 5:i.lockRev=e.uint64();break;case 6:i.code=e.uint32();break;case 7:i.reason=e.string();break;default:e.skipType(7&s)}}return i},t}(),XL=Y.StateLockUpdate=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(24).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(32).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockUpdate;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.flags=e.uint64();break;case 4:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),YL=Y.StateLockReleaseResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(40).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockReleaseResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;case 5:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),ZL=Y.StateLockDisable=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.userId="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(26).string(e.userId),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockDisable;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.userId=e.string();break;case 4:i.requestUuid=e.string();break;case 5:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),$L=Y.StateLockDisableResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(40).uint32(e.code),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockDisableResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;case 5:i.code=e.uint32();break;default:e.skipType(7&s)}}return i},t}(),aM=Y.StateLockSubscribe=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(24).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockSubscribe;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),bM=Y.StateLockSubscribeResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockSubscribeResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.code=e.uint32();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),cM=Y.LockEventType=function(){var t={},e=Object.create(t);return e[t[0]="LockUnknown"]=0,e[t[1]="LockAdded"]=1,e[t[2]="LockModified"]=2,e[t[3]="LockRemoved"]=3,e[t[4]="LockSnapshot"]=4,e}(),dM=Y.LockState=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.lockName="",t.prototype.lockState="",t.encode=function(e,n){return n||(n=ya.create()),e.lockName!=null&&Object.hasOwnProperty.call(e,"lockName")&&n.uint32(10).string(e.lockName),e.lockState!=null&&Object.hasOwnProperty.call(e,"lockState")&&n.uint32(18).string(e.lockState),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.LockState;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.lockName=e.string();break;case 2:i.lockState=e.string();break;default:e.skipType(7&s)}}return i},t}(),eM=Y.StateLockSubscribeEvent=function(){function t(e){if(this.lockStates=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lockStates=N.emptyArray,t.prototype.eventType=0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){if(n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lockStates!=null&&e.lockStates.length)for(var i=0;i<e.lockStates.length;++i)Y.LockState.encode(e.lockStates[i],n.uint32(18).fork()).ldelim();return e.eventType!=null&&Object.hasOwnProperty.call(e,"eventType")&&n.uint32(24).int32(e.eventType),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockSubscribeEvent;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lockStates&&i.lockStates.length||(i.lockStates=[]),i.lockStates.push(Y.LockState.decode(e,e.uint32()));break;case 3:i.eventType=e.int32();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),fM=Y.StateLockUnsubscribe=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(24).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockUnsubscribe;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),gM=Y.StateLockCreate=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.ttl=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.ttl!=null&&Object.hasOwnProperty.call(e,"ttl")&&n.uint32(24).uint64(e.ttl),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockCreate;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.ttl=e.uint64();break;case 4:i.requestUuid=e.string();break;case 5:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),hM=Y.StateLockCreateResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.code=0,t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockCreateResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.code=e.uint32();break;case 4:i.requestUuid=e.string();break;case 5:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),iM=Y.StateLockDelete=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(26).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(32).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockDelete;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.requestUuid=e.string();break;case 4:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),jM=Y.StateLockDeleteResult=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.lock="",t.prototype.code=0,t.prototype.requestUuid="",t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(18).string(e.lock),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),e.requestUuid!=null&&Object.hasOwnProperty.call(e,"requestUuid")&&n.uint32(34).string(e.requestUuid),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockDeleteResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.lock=e.string();break;case 3:i.code=e.uint32();break;case 4:i.requestUuid=e.string();break;case 5:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),kM=Y.StateLockList=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){return n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(24).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockList;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),lM=Y.StateLockListResult=function(){function t(e){if(this.lockStates=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.target="",t.prototype.sequence=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.code=0,t.prototype.lockStates=N.emptyArray,t.prototype.flags=N.Long?N.Long.fromBits(0,0,!0):0,t.encode=function(e,n){if(n||(n=ya.create()),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(10).string(e.target),e.sequence!=null&&Object.hasOwnProperty.call(e,"sequence")&&n.uint32(16).uint64(e.sequence),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(24).uint32(e.code),e.lockStates!=null&&e.lockStates.length)for(var i=0;i<e.lockStates.length;++i)Y.LockState.encode(e.lockStates[i],n.uint32(34).fork()).ldelim();return e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(40).uint64(e.flags),n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.StateLockListResult;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.target=e.string();break;case 2:i.sequence=e.uint64();break;case 3:i.code=e.uint32();break;case 4:i.lockStates&&i.lockStates.length||(i.lockStates=[]),i.lockStates.push(Y.LockState.decode(e,e.uint32()));break;case 5:i.flags=e.uint64();break;default:e.skipType(7&s)}}return i},t}(),mM=Y.SubscribeResponse=function(){function t(e){if(this.errors=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.seq=N.Long?N.Long.fromBits(0,0,!0):0,t.prototype.errors=N.emptyArray,t.encode=function(e,n){if(n||(n=ya.create()),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(8).uint64(e.seq),e.errors!=null&&e.errors.length)for(var i=0;i<e.errors.length;++i)Y.SubscribeResponse.SubscribeErrorsType.encode(e.errors[i],n.uint32(18).fork()).ldelim();return n},t.decode=function(e,n){e instanceof aa||(e=aa.create(e)),n=n===void 0?e.len:e.pos+n;for(var i=new Y.SubscribeResponse;e.pos<n;){var s=e.uint32();switch(s>>>3){case 1:i.seq=e.uint64();break;case 2:i.errors&&i.errors.length||(i.errors=[]),i.errors.push(Y.SubscribeResponse.SubscribeErrorsType.decode(e,e.uint32()));break;default:e.skipType(7&s)}}return i},t.SubscribeErrorsType=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.account="",e.prototype.code=0,e.encode=function(n,i){return i||(i=ya.create()),n.account!=null&&Object.hasOwnProperty.call(n,"account")&&i.uint32(10).string(n.account),n.code!=null&&Object.hasOwnProperty.call(n,"code")&&i.uint32(16).uint32(n.code),i},e.decode=function(n,i){n instanceof aa||(n=aa.create(n)),i=i===void 0?n.len:n.pos+i;for(var s=new Y.SubscribeResponse.SubscribeErrorsType;n.pos<i;){var g=n.uint32();switch(g>>>3){case 1:s.account=n.string();break;case 2:s.code=n.uint32();break;default:n.skipType(7&g)}}return s},e}(),t}(),nM=Object.freeze({__proto__:null,URI:OK,Wrapper:cl,Ping:PK,Ping2:QK,Pong:RK,UserJoin:SK,UserResp:TK,UserJoinDetailKey:UK,UserJoin2:VK,UserResp2:WK,UserQuit:XK,UserQuit2:YK,UserDrop:ZK,UserTicketNearlyExpire:$K,UserRenewTokenReq:aL,UserRenewTokenResp:bL,GroupEnter:cL,GroupLeave:dL,GroupReply:eL,GroupLeaveNotice:ay,GroupEnterNotice:by,Message:cy,Ack:dy,GroupDrop:fL,GroupAllUsersList:gL,GroupAllUsersResult:hL,UserStatusList:iL,UserStatusResult:jL,UserAttributeGet:kL,UserAttributeRet:lL,UserAttributeSet:mL,UserAttributeMod:nL,UserAttributeDel:oL,UserAttributeErr:pL,UserAttributeKeysGet:qL,UserAttributeKeysRet:rL,UserAttributeRsp:sL,GroupStatusList:tL,GroupStatusResult:uL,GroupCountNotice:vL,GroupAttributeGet:wL,GroupAttributeRet:xL,GroupAttributeSet:yL,GroupAttributeMod:zL,GroupAttributeDel:AL,GroupAttributeAlt:BL,GroupAttributeRsp:CL,GroupAttributeErr:DL,GroupAttributeKeysGet:EL,GroupAttributeKeysRet:FL,SubscribeUserStatus:GL,UnsubscribeUserStatus:HL,UserJoinNotice:IL,UserQuitNotice:JL,UserWaitNotice:KL,StateSubscribe:LL,StateUpdate:ML,StateSubscribeResult:NL,StateUnsubscribe:OL,StateSet:PL,StateModify:QL,StateRequestResult:RL,StateGet:SL,StateGetResult:TL,StateLockAcquire:UL,StateLockRelease:VL,StateLockAcquireResult:WL,StateLockUpdate:XL,StateLockReleaseResult:YL,StateLockDisable:ZL,StateLockDisableResult:$L,StateLockSubscribe:aM,StateLockSubscribeResult:bM,LockEventType:cM,LockState:dM,StateLockSubscribeEvent:eM,StateLockUnsubscribe:fM,StateLockCreate:gM,StateLockCreateResult:hM,StateLockDelete:iM,StateLockDeleteResult:jM,StateLockList:kM,StateLockListResult:lM,SubscribeResponse:mM,default:Y}),xm=Y.URI,uA=cl,oM=Qp(nM,["Wrapper"]),Tr=Hm(oM,"URI","LockEventType","UserJoinDetailKey"),ey=["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"],fy=["ap-web-1.agora.io","ap-web-2.agora.io"],gy=["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"],hy=["ap-web-3.agora.io","ap-web-4.agora.io"],ig=function(t){var e=Ma("AP_DOMAIN"),n=Ue(e);return"https://".concat(n?e:t,"/api/v1")},uc=Lc.Writer,ba=Lc.util,$b=Lc.roots.default||(Lc.roots.default={}),pM=$b.Session=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.appId="",t.prototype.ver="",t.prototype.buildno=0,t.prototype.installId="",t.prototype.os=0,t.prototype.did="",t.prototype.index=null,t.prototype.token="",t.prototype.version=0,t.prototype.subVersion=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.appId!=null&&Object.hasOwnProperty.call(e,"appId")&&n.uint32(42).string(e.appId),e.ver!=null&&Object.hasOwnProperty.call(e,"ver")&&n.uint32(50).string(e.ver),e.buildno!=null&&Object.hasOwnProperty.call(e,"buildno")&&n.uint32(56).int32(e.buildno),e.installId!=null&&Object.hasOwnProperty.call(e,"installId")&&n.uint32(66).string(e.installId),e.os!=null&&Object.hasOwnProperty.call(e,"os")&&n.uint32(128).int32(e.os),e.did!=null&&Object.hasOwnProperty.call(e,"did")&&n.uint32(138).string(e.did),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$b.Session.CommonIndex.encode(e.index,n.uint32(162).fork()).ldelim(),e.token!=null&&Object.hasOwnProperty.call(e,"token")&&n.uint32(170).string(e.token),e.version!=null&&Object.hasOwnProperty.call(e,"version")&&n.uint32(176).int32(e.version),e.subVersion!=null&&Object.hasOwnProperty.call(e,"subVersion")&&n.uint32(184).int32(e.subVersion),n},t.CommonIndex=function(){function e(n){if(n)for(var i=Object.keys(n),s=0;s<i.length;++s)n[i[s]]!=null&&(this[i[s]]=n[i[s]])}return e.prototype.index1="",e.prototype.index2="",e.prototype.index3="",e.encode=function(n,i){return i||(i=uc.create()),n.index1!=null&&Object.hasOwnProperty.call(n,"index1")&&i.uint32(10).string(n.index1),n.index2!=null&&Object.hasOwnProperty.call(n,"index2")&&i.uint32(18).string(n.index2),n.index3!=null&&Object.hasOwnProperty.call(n,"index3")&&i.uint32(26).string(n.index3),i},e}(),t}(),qM=$b.ApEvent=function(){function t(e){if(this.linkServerList=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.apAddr="",t.prototype.linkServerList=ba.emptyArray,t.prototype.errCode=0,t.prototype.serverErrCode=0,t.prototype.isp="",t.prototype.opId=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.envId=0,t.prototype.flag=0,t.prototype.area="",t.encode=function(e,n){if(n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.apAddr!=null&&Object.hasOwnProperty.call(e,"apAddr")&&n.uint32(50).string(e.apAddr),e.linkServerList!=null&&e.linkServerList.length)for(var i=0;i<e.linkServerList.length;++i)n.uint32(58).string(e.linkServerList[i]);return e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&n.uint32(72).int32(e.errCode),e.serverErrCode!=null&&Object.hasOwnProperty.call(e,"serverErrCode")&&n.uint32(80).int32(e.serverErrCode),e.isp!=null&&Object.hasOwnProperty.call(e,"isp")&&n.uint32(90).string(e.isp),e.opId!=null&&Object.hasOwnProperty.call(e,"opId")&&n.uint32(96).int64(e.opId),e.envId!=null&&Object.hasOwnProperty.call(e,"envId")&&n.uint32(104).int32(e.envId),e.flag!=null&&Object.hasOwnProperty.call(e,"flag")&&n.uint32(112).int32(e.flag),e.area!=null&&Object.hasOwnProperty.call(e,"area")&&n.uint32(122).string(e.area),n},t}(),rM=$b.ApRequest=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.apAddr="",t.prototype.opId=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.envId=0,t.prototype.flag=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.apAddr!=null&&Object.hasOwnProperty.call(e,"apAddr")&&n.uint32(42).string(e.apAddr),e.opId!=null&&Object.hasOwnProperty.call(e,"opId")&&n.uint32(48).int64(e.opId),e.envId!=null&&Object.hasOwnProperty.call(e,"envId")&&n.uint32(56).int32(e.envId),e.flag!=null&&Object.hasOwnProperty.call(e,"flag")&&n.uint32(64).int32(e.flag),n},t}(),sM=$b.LinkLoginRequest=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.destServerIp="",t.prototype.linkId=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.destServerIp!=null&&Object.hasOwnProperty.call(e,"destServerIp")&&n.uint32(42).string(e.destServerIp),e.linkId!=null&&Object.hasOwnProperty.call(e,"linkId")&&n.uint32(48).int32(e.linkId),n},t}(),tM=$b.Link=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.ec=0,t.prototype.sc=0,t.prototype.destServerIp="",t.prototype.ackedServerIp="",t.prototype.responseTime=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.ec!=null&&Object.hasOwnProperty.call(e,"ec")&&n.uint32(40).int32(e.ec),e.sc!=null&&Object.hasOwnProperty.call(e,"sc")&&n.uint32(48).int32(e.sc),e.destServerIp!=null&&Object.hasOwnProperty.call(e,"destServerIp")&&n.uint32(58).string(e.destServerIp),e.ackedServerIp!=null&&Object.hasOwnProperty.call(e,"ackedServerIp")&&n.uint32(66).string(e.ackedServerIp),e.responseTime!=null&&Object.hasOwnProperty.call(e,"responseTime")&&n.uint32(72).int32(e.responseTime),n},t}(),uM=$b.Logout=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),n},t}(),vM=$b.KickedOff=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.linkId=0,t.prototype.code=0,t.prototype.server="",t.prototype.serverCode=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.linkId!=null&&Object.hasOwnProperty.call(e,"linkId")&&n.uint32(48).int32(e.linkId),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(56).int32(e.code),e.server!=null&&Object.hasOwnProperty.call(e,"server")&&n.uint32(66).string(e.server),e.serverCode!=null&&Object.hasOwnProperty.call(e,"serverCode")&&n.uint32(72).int32(e.serverCode),n},t}(),wM=$b.ChnJoin=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&n.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&n.uint32(56).int32(e.errCode),n},t}(),xM=$b.ChnJoinRes=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.prototype.serverErrCode=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&n.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&n.uint32(56).int32(e.errCode),e.serverErrCode!=null&&Object.hasOwnProperty.call(e,"serverErrCode")&&n.uint32(64).int32(e.serverErrCode),n},t}(),yM=$b.ChnLeave=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.cname="",t.prototype.errCode=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.cname!=null&&Object.hasOwnProperty.call(e,"cname")&&n.uint32(50).string(e.cname),e.errCode!=null&&Object.hasOwnProperty.call(e,"errCode")&&n.uint32(56).int32(e.errCode),n},t}(),zM=$b.ConnectionStateChange=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sid="",t.prototype.userId="",t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.elapse=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.oldState=0,t.prototype.newState=0,t.prototype.reason=0,t.prototype.reconnId=0,t.encode=function(e,n){return n||(n=uc.create()),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(10).string(e.sid),e.userId!=null&&Object.hasOwnProperty.call(e,"userId")&&n.uint32(18).string(e.userId),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(24).int64(e.lts),e.elapse!=null&&Object.hasOwnProperty.call(e,"elapse")&&n.uint32(32).int64(e.elapse),e.oldState!=null&&Object.hasOwnProperty.call(e,"oldState")&&n.uint32(40).int32(e.oldState),e.newState!=null&&Object.hasOwnProperty.call(e,"newState")&&n.uint32(48).int32(e.newState),e.reason!=null&&Object.hasOwnProperty.call(e,"reason")&&n.uint32(56).int32(e.reason),e.reconnId!=null&&Object.hasOwnProperty.call(e,"reconnId")&&n.uint32(64).int32(e.reconnId),n},t}(),iy=$b.RtmSdkMessageCount=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.vid=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.messagecategory=0,t.prototype.reportsequence=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sentcount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.receivedcount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack10mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack25mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack50mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack75mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack100mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack150mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack200mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack250mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack300mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack400mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack500mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack600mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack800mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack1000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack2000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack3000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack5000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerack7000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.peerackslowcount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack10mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack25mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack50mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack75mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack100mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack150mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack200mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack250mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack300mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack400mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack500mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack600mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack800mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack1000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack2000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack3000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack5000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientack7000mscount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.norecipientackslowcount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.acktimeoutcount=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.apimajorversion=0,t.prototype.apiminorversion=0,t.prototype.os=0,t.prototype.toooftencount=0,t.prototype.receiverofflinecount=0,t.prototype.invalidmessagecount=0,t.prototype.unknowerrorcount=0,t.prototype.servercachedcount=0,t.prototype.timeoutcount=0,t.prototype.successcount=0,t.prototype.userid="",t.encode=function(e,n){return n||(n=uc.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(8).int64(e.lts),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&n.uint32(16).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(26).string(e.sid),e.messagecategory!=null&&Object.hasOwnProperty.call(e,"messagecategory")&&n.uint32(32).int32(e.messagecategory),e.reportsequence!=null&&Object.hasOwnProperty.call(e,"reportsequence")&&n.uint32(40).int64(e.reportsequence),e.sentcount!=null&&Object.hasOwnProperty.call(e,"sentcount")&&n.uint32(48).int64(e.sentcount),e.receivedcount!=null&&Object.hasOwnProperty.call(e,"receivedcount")&&n.uint32(56).int64(e.receivedcount),e.peerack10mscount!=null&&Object.hasOwnProperty.call(e,"peerack10mscount")&&n.uint32(64).int64(e.peerack10mscount),e.peerack25mscount!=null&&Object.hasOwnProperty.call(e,"peerack25mscount")&&n.uint32(72).int64(e.peerack25mscount),e.peerack50mscount!=null&&Object.hasOwnProperty.call(e,"peerack50mscount")&&n.uint32(80).int64(e.peerack50mscount),e.peerack75mscount!=null&&Object.hasOwnProperty.call(e,"peerack75mscount")&&n.uint32(88).int64(e.peerack75mscount),e.peerack100mscount!=null&&Object.hasOwnProperty.call(e,"peerack100mscount")&&n.uint32(96).int64(e.peerack100mscount),e.peerack150mscount!=null&&Object.hasOwnProperty.call(e,"peerack150mscount")&&n.uint32(104).int64(e.peerack150mscount),e.peerack200mscount!=null&&Object.hasOwnProperty.call(e,"peerack200mscount")&&n.uint32(112).int64(e.peerack200mscount),e.peerack250mscount!=null&&Object.hasOwnProperty.call(e,"peerack250mscount")&&n.uint32(120).int64(e.peerack250mscount),e.peerack300mscount!=null&&Object.hasOwnProperty.call(e,"peerack300mscount")&&n.uint32(128).int64(e.peerack300mscount),e.peerack400mscount!=null&&Object.hasOwnProperty.call(e,"peerack400mscount")&&n.uint32(136).int64(e.peerack400mscount),e.peerack500mscount!=null&&Object.hasOwnProperty.call(e,"peerack500mscount")&&n.uint32(144).int64(e.peerack500mscount),e.peerack600mscount!=null&&Object.hasOwnProperty.call(e,"peerack600mscount")&&n.uint32(152).int64(e.peerack600mscount),e.peerack800mscount!=null&&Object.hasOwnProperty.call(e,"peerack800mscount")&&n.uint32(160).int64(e.peerack800mscount),e.peerack1000mscount!=null&&Object.hasOwnProperty.call(e,"peerack1000mscount")&&n.uint32(168).int64(e.peerack1000mscount),e.peerack2000mscount!=null&&Object.hasOwnProperty.call(e,"peerack2000mscount")&&n.uint32(176).int64(e.peerack2000mscount),e.peerack3000mscount!=null&&Object.hasOwnProperty.call(e,"peerack3000mscount")&&n.uint32(184).int64(e.peerack3000mscount),e.peerack5000mscount!=null&&Object.hasOwnProperty.call(e,"peerack5000mscount")&&n.uint32(192).int64(e.peerack5000mscount),e.peerack7000mscount!=null&&Object.hasOwnProperty.call(e,"peerack7000mscount")&&n.uint32(200).int64(e.peerack7000mscount),e.peerackslowcount!=null&&Object.hasOwnProperty.call(e,"peerackslowcount")&&n.uint32(208).int64(e.peerackslowcount),e.norecipientack10mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack10mscount")&&n.uint32(216).int64(e.norecipientack10mscount),e.norecipientack25mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack25mscount")&&n.uint32(224).int64(e.norecipientack25mscount),e.norecipientack50mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack50mscount")&&n.uint32(232).int64(e.norecipientack50mscount),e.norecipientack75mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack75mscount")&&n.uint32(240).int64(e.norecipientack75mscount),e.norecipientack100mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack100mscount")&&n.uint32(248).int64(e.norecipientack100mscount),e.norecipientack150mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack150mscount")&&n.uint32(256).int64(e.norecipientack150mscount),e.norecipientack200mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack200mscount")&&n.uint32(264).int64(e.norecipientack200mscount),e.norecipientack250mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack250mscount")&&n.uint32(272).int64(e.norecipientack250mscount),e.norecipientack300mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack300mscount")&&n.uint32(280).int64(e.norecipientack300mscount),e.norecipientack400mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack400mscount")&&n.uint32(288).int64(e.norecipientack400mscount),e.norecipientack500mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack500mscount")&&n.uint32(296).int64(e.norecipientack500mscount),e.norecipientack600mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack600mscount")&&n.uint32(304).int64(e.norecipientack600mscount),e.norecipientack800mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack800mscount")&&n.uint32(312).int64(e.norecipientack800mscount),e.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack1000mscount")&&n.uint32(320).int64(e.norecipientack1000mscount),e.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack2000mscount")&&n.uint32(328).int64(e.norecipientack2000mscount),e.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack3000mscount")&&n.uint32(336).int64(e.norecipientack3000mscount),e.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack5000mscount")&&n.uint32(344).int64(e.norecipientack5000mscount),e.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(e,"norecipientack7000mscount")&&n.uint32(352).int64(e.norecipientack7000mscount),e.norecipientackslowcount!=null&&Object.hasOwnProperty.call(e,"norecipientackslowcount")&&n.uint32(360).int64(e.norecipientackslowcount),e.acktimeoutcount!=null&&Object.hasOwnProperty.call(e,"acktimeoutcount")&&n.uint32(368).int64(e.acktimeoutcount),e.apimajorversion!=null&&Object.hasOwnProperty.call(e,"apimajorversion")&&n.uint32(376).int32(e.apimajorversion),e.apiminorversion!=null&&Object.hasOwnProperty.call(e,"apiminorversion")&&n.uint32(384).int32(e.apiminorversion),e.os!=null&&Object.hasOwnProperty.call(e,"os")&&n.uint32(392).int32(e.os),e.toooftencount!=null&&Object.hasOwnProperty.call(e,"toooftencount")&&n.uint32(400).int32(e.toooftencount),e.receiverofflinecount!=null&&Object.hasOwnProperty.call(e,"receiverofflinecount")&&n.uint32(408).int32(e.receiverofflinecount),e.invalidmessagecount!=null&&Object.hasOwnProperty.call(e,"invalidmessagecount")&&n.uint32(416).int32(e.invalidmessagecount),e.unknowerrorcount!=null&&Object.hasOwnProperty.call(e,"unknowerrorcount")&&n.uint32(424).int32(e.unknowerrorcount),e.servercachedcount!=null&&Object.hasOwnProperty.call(e,"servercachedcount")&&n.uint32(432).int32(e.servercachedcount),e.timeoutcount!=null&&Object.hasOwnProperty.call(e,"timeoutcount")&&n.uint32(440).int32(e.timeoutcount),e.successcount!=null&&Object.hasOwnProperty.call(e,"successcount")&&n.uint32(448).int32(e.successcount),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&n.uint32(458).string(e.userid),n},t}(),AM=$b.SyncOperateEvent=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.requestts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.replyts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.target="",t.prototype.eventtype="",t.prototype.revision=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.uuid="",t.prototype.sdktype=0,t.prototype.flags=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.code=0,t.prototype.seq=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.index=null,t.prototype.lock="",t.prototype.lockrev=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.subtarget="",t.prototype.usersid="",t.encode=function(e,n){return n||(n=uc.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(8).int64(e.lts),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&n.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&n.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(42).string(e.sid),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&n.uint32(48).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&n.uint32(56).int64(e.replyts),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&n.uint32(74).string(e.eventtype),e.revision!=null&&Object.hasOwnProperty.call(e,"revision")&&n.uint32(80).int64(e.revision),e.uuid!=null&&Object.hasOwnProperty.call(e,"uuid")&&n.uint32(90).string(e.uuid),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&n.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(104).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(112).int32(e.code),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(120).int64(e.seq),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$b.CommonIndex.encode(e.index,n.uint32(130).fork()).ldelim(),e.lock!=null&&Object.hasOwnProperty.call(e,"lock")&&n.uint32(138).string(e.lock),e.lockrev!=null&&Object.hasOwnProperty.call(e,"lockrev")&&n.uint32(144).int64(e.lockrev),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&n.uint32(154).string(e.subtarget),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&n.uint32(162).string(e.usersid),n},t}(),BM=$b.SyncSubscribeEvent=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.target="",t.prototype.eventtype="",t.prototype.sdktype=0,t.prototype.flags=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.code=0,t.prototype.seq=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.requestts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.replyts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.index=null,t.prototype.subtarget="",t.prototype.usersid="",t.encode=function(e,n){return n||(n=uc.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(8).int64(e.lts),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&n.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&n.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(42).string(e.sid),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&n.uint32(74).string(e.eventtype),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&n.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(104).int64(e.flags),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(112).int32(e.code),e.seq!=null&&Object.hasOwnProperty.call(e,"seq")&&n.uint32(120).int64(e.seq),e.requestts!=null&&Object.hasOwnProperty.call(e,"requestts")&&n.uint32(128).int64(e.requestts),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&n.uint32(136).int64(e.replyts),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$b.CommonIndex.encode(e.index,n.uint32(146).fork()).ldelim(),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&n.uint32(154).string(e.subtarget),e.usersid!=null&&Object.hasOwnProperty.call(e,"usersid")&&n.uint32(162).string(e.usersid),n},t}(),CM=$b.SyncUpdateEvent=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.lts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.userid="",t.prototype.vid=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sid="",t.prototype.replyts=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.target="",t.prototype.eventtype="",t.prototype.revision=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.sdktype=0,t.prototype.flags=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.count=0,t.prototype.delta=0,t.prototype.code=0,t.prototype.index=null,t.prototype.subtarget="",t.encode=function(e,n){return n||(n=uc.create()),e.lts!=null&&Object.hasOwnProperty.call(e,"lts")&&n.uint32(8).int64(e.lts),e.userid!=null&&Object.hasOwnProperty.call(e,"userid")&&n.uint32(26).string(e.userid),e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&n.uint32(32).int64(e.vid),e.sid!=null&&Object.hasOwnProperty.call(e,"sid")&&n.uint32(42).string(e.sid),e.replyts!=null&&Object.hasOwnProperty.call(e,"replyts")&&n.uint32(56).int64(e.replyts),e.target!=null&&Object.hasOwnProperty.call(e,"target")&&n.uint32(66).string(e.target),e.eventtype!=null&&Object.hasOwnProperty.call(e,"eventtype")&&n.uint32(74).string(e.eventtype),e.revision!=null&&Object.hasOwnProperty.call(e,"revision")&&n.uint32(80).int64(e.revision),e.sdktype!=null&&Object.hasOwnProperty.call(e,"sdktype")&&n.uint32(96).int32(e.sdktype),e.flags!=null&&Object.hasOwnProperty.call(e,"flags")&&n.uint32(104).int64(e.flags),e.count!=null&&Object.hasOwnProperty.call(e,"count")&&n.uint32(112).int32(e.count),e.delta!=null&&Object.hasOwnProperty.call(e,"delta")&&n.uint32(120).int32(e.delta),e.code!=null&&Object.hasOwnProperty.call(e,"code")&&n.uint32(128).int32(e.code),e.index!=null&&Object.hasOwnProperty.call(e,"index")&&$b.CommonIndex.encode(e.index,n.uint32(138).fork()).ldelim(),e.subtarget!=null&&Object.hasOwnProperty.call(e,"subtarget")&&n.uint32(162).string(e.subtarget),n},t}(),DM=$b.CommonIndex=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.index1="",t.prototype.index2="",t.prototype.index3="",t.encode=function(e,n){return n||(n=uc.create()),e.index1!=null&&Object.hasOwnProperty.call(e,"index1")&&n.uint32(10).string(e.index1),e.index2!=null&&Object.hasOwnProperty.call(e,"index2")&&n.uint32(18).string(e.index2),e.index3!=null&&Object.hasOwnProperty.call(e,"index3")&&n.uint32(26).string(e.index3),n},t}(),EM=$b.Message=function(){function t(e){if(e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.id=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.msg=ba.newBuffer([]),t.encode=function(e,n){return n||(n=uc.create()),e.id!=null&&Object.hasOwnProperty.call(e,"id")&&n.uint32(8).int64(e.id),e.msg!=null&&Object.hasOwnProperty.call(e,"msg")&&n.uint32(18).bytes(e.msg),n},t}(),Vr=$b.ProtoRaws=function(){function t(e){if(this.payloads=[],e)for(var n=Object.keys(e),i=0;i<n.length;++i)e[n[i]]!=null&&(this[n[i]]=e[n[i]])}return t.prototype.sendTs=ba.Long?ba.Long.fromBits(0,0,!1):0,t.prototype.payloads=ba.emptyArray,t.prototype.vid=ba.Long?ba.Long.fromBits(0,0,!1):0,t.encode=function(e,n){if(n||(n=uc.create()),e.sendTs!=null&&Object.hasOwnProperty.call(e,"sendTs")&&n.uint32(8).int64(e.sendTs),e.payloads!=null&&e.payloads.length)for(var i=0;i<e.payloads.length;++i)$b.Message.encode(e.payloads[i],n.uint32(18).fork()).ldelim();return e.vid!=null&&Object.hasOwnProperty.call(e,"vid")&&n.uint32(24).int64(e.vid),n},t}(),Wr=Object.freeze({__proto__:null,Session:pM,ApEvent:qM,ApRequest:rM,LinkLoginRequest:sM,Link:tM,Logout:uM,KickedOff:vM,ChnJoin:wM,ChnJoinRes:xM,ChnLeave:yM,ConnectionStateChange:zM,RtmSdkMessageCount:iy,SyncOperateEvent:AM,SyncSubscribeEvent:BM,SyncUpdateEvent:CM,CommonIndex:DM,Message:EM,ProtoRaws:Vr,default:$b}),Xr={Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651},Xe=new Map,jy=ri(),Dp=function(t){function e(i,s,g,l,C,p){var B,Q;Xa(this,e);var y=n.call(this,C,Bg("Socket-",C.loggerId));if(E(J(y),"isActiveClose",!1),E(J(y),"loggedIn",!1),E(J(y),"useNewDomain",void 0),E(J(y),"receivedPacket",new Cc),E(J(y),"open$",void 0),E(J(y),"input$",new Cc),E(J(y),"userJoin$",new Cc),E(J(y),"EDGE_ENV_PORT",(B=Ma("EDGE_ENV_PORT"))!==null&&B!==void 0?B:ap),E(J(y),"attemptsSinceLastError",0),E(J(y),"message$",new Cc),E(J(y),"socket$",void 0),E(J(y),"toClose",new Cc),E(J(y),"toReconnect",new Cc),E(J(y),"sendLogger",void 0),E(J(y),"receiveLogger",void 0),E(J(y),"ip",void 0),E(J(y),"env",void 0),E(J(y),"ticket",void 0),E(J(y),"context",void 0),E(J(y),"getDomain",function(){return Ur(y.ip,y.useNewDomain)}),E(J(y),"socketReconnector",function(w){var O=function(P){return y.attemptsSinceLastError+=1,y.warn("The %s of Env %d reconnecting %s",y.name,y.env,P.message),jd(3e3)};return w.pipe(kb(function(P){return y.warn("Env_".concat(y.env,"(").concat(y.name,"): socket connection closed, errorInfo: ").concat(P)),y.loggedIn=!1,2<=y.attemptsSinceLastError?(y.log("ENV_".concat(y.env,"(").concat(y.name,"): will emit connectionFailure")),y.emit("connectionFailure"),y.close(),Na(P)):y.isActiveClose?Bc.EMPTY:(y.log("ENV_".concat(y.env,"(").concat(y.name,"): will emit reconnect")),y.emit("reconnect"),y.useNewDomain=!y.useNewDomain,Na(P))}),Pe(function(P){return P.pipe(ic(O))}))}),y.ip=i,y.env=s,y.ticket=g,y.context=l,y.useNewDomain=p??.5<=Math.random(),y.sendLogger=y.genLogger("RTM:MSG:SEND"),y.receiveLogger=y.genLogger("RTM:MSG:RECV"),s!==0&&s!==1)throw new jy({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var _=y.EDGE_ENV_PORT[s];y.log("Opening websocket address %s for the Env %d, %s",y.ip,y.env,y.name),Hb("LinkLoginRequest",{sid:y.context.sid,userId:y.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(y.context.startTime),destServerIp:y.ip,linkId:y.env},(Q=y.context.config.cloudProxy||y.context.socketUseProxy)!==null&&Q!==void 0&&Q,y.context.vid);var S=oc(y.input$,y.userJoin$.pipe(sA(2)),y.message$).pipe(Rb(function(w){return cl.encode(w).finish()}));return i=oc(Qr("",{protocols:[],makeWebSocket:function(){var w=Ma("REGISTRAR_USE_WS")?"ws":"wss";if(y.log("registrar websocket use ".concat(w)),y.context.config.cloudProxy||y.context.socketUseProxy){if(y.context.cloudProxyServers.length===0)throw y.logError("No cloud proxy server to connect"),new ja("");var O=Ue(null)?JSON.parse(null.replace(/-/g,".")):y.context.cloudProxyServers;w=Cg(w="".concat(w,"://").concat(Ur(Am(O),!1),"/"),"sid",y.context.sid),w=Cg(w,"remote_port",_.toString()),w=Cg(w,"remote_ip",y.ip),w=Cg(w,"token",y.context.key),w=new WebSocket(w)}else w=new WebSocket("".concat(w,"://").concat(y.getDomain(),":").concat(_));return w.binaryType="arraybuffer",w}}),y.toReconnect),y.socket$=gc(i,$x.NEVER.pipe(Nc(7e3),kb(function(w){return Ib(w)?y.warn("ENV_".concat(y.env,"(").concat(y.name,"): socket open timed out")):y.warn("ENV_".concat(y.env,"(").concat(y.name,"): error occurs of opening socket: ").concat(w)),Na(w)}))).pipe(Rb(function(w){if(w instanceof Error)throw y.warn("Env_%d: Force reconnect the socket",y.env),w;return w(S).pipe(Rb(function(O){return cl.decode(new Uint8Array(O))}))}),y.socketReconnector),y.open$=y.socket$.pipe(Ga(function(w){y.log("ENV_".concat(y.env,": Websocket opened, addr: ").concat(y.address),y.name),w.subscribe(function(O){var P=O.data;O=xm[O.uri].slice(0,-3),P=Tr[O].decode(P);var K=xF({},Hm(P,"toJSON"),function(W,ae){return ae instanceof T?Iq(ae):ae}),M=!1;if((P instanceof by||P instanceof ay)&&P.instance.lessThanOrEqual(4294967295)&&(M=!0),P instanceof cy||P instanceof dy){var U=P.instance,F=P.sequence;(P.dialogue.lessThanOrEqual(4294967295)||U.lessThanOrEqual(4294967295)||F.lessThan(1))&&(M=!0)}M?y.warn("Env_%d: Illegal %s, abandoned %o",y.env,O,K):(O!=="Pong"&&y.receiveLogger("Env_%d: %s %o",y.env,O,K),y.receivedPacket.next([O,P]))},function(){})}),Oe(void 0),Mc(y.toClose),Kd()),y}rb(e,t);var n=sb(e);return Db(e,[{key:"address",get:function(){return"".concat(this.ip,":").concat(this.EDGE_ENV_PORT[this.env])}},{key:"sendPacket",value:function(i,s){if(i!=="Ping2"){var g=uF(s,function(l){return l instanceof T?Iq(l):l});this.sendLogger("Env_%d: %s %o",this.env,i,g)}s=tA(i,s),i==="UserJoin2"?this.userJoin$.next(s):i==="Message"?this.message$.next(s):this.input$.next(s)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(i){return this.receivedPacket.pipe(cc(function(s){return vc(s,1)[0]===i}),Rb(function(s){return vc(s,2)[1]}))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new jy({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),e}(Kc);Ha({target:"String",proto:!0,forced:Tt},{padStart:function(t){return bD(this,t,1<arguments.length?arguments[1]:void 0)}});var ky=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),dl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return typeof(e=t[t.length-1])=="function"&&t.pop(),Xk.fromArray(t,void 0).lift(new FM(e))},FM=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,n){return n.subscribe(new GM(e,this.resultSelector))},t}(),GM=function(t){function e(n,i,s){return(n=t.call(this,n)||this).resultSelector=i,n.iterators=[],n.active=0,n.resultSelector=typeof i=="function"?i:void 0,n}return ky(e,t),e.prototype._next=function(n){var i=this.iterators;Uh.isArray(n)?i.push(new HM(n)):typeof n[uf.iterator]=="function"?i.push(new IM(n[uf.iterator]())):i.push(new JM(this.destination,this,n))},e.prototype._complete=function(){var n=this.iterators,i=n.length;if(this.unsubscribe(),i===0)this.destination.complete();else{this.active=i;for(var s=0;s<i;s++){var g=n[s];g.stillUnsubscribed?this.destination.add(g.subscribe()):this.active--}}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var n=this.iterators,i=n.length,s=this.destination,g=0;g<i;g++){var l=n[g];if(typeof l.hasValue=="function"&&!l.hasValue())return}var C=!1,p=[];for(g=0;g<i;g++){var B=(l=n[g]).next();if(l.hasCompleted()&&(C=!0),B.done)return void s.complete();p.push(B.value)}this.resultSelector?this._tryresultSelector(p):s.next(p),C&&s.complete()},e.prototype._tryresultSelector=function(n){try{var i=this.resultSelector.apply(this,n)}catch(s){return void this.destination.error(s)}this.destination.next(i)},e}(Gb.Subscriber),IM=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return!(!e||!e.done)},t}(),HM=function(){function t(e){this.array=e,this.length=this.index=0,this.length=e.length}return t.prototype[uf.iterator]=function(){return this},t.prototype.next=function(e){e=this.index++;var n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),JM=function(t){function e(n,i,s){return(n=t.call(this,n)||this).parent=i,n.observable=s,n.stillUnsubscribed=!0,n.buffer=[],n.isComplete=!1,n}return ky(e,t),e.prototype[uf.iterator]=function(){return this},e.prototype.next=function(){var n=this.buffer;return n.length===0&&this.isComplete?{value:null,done:!0}:{value:n.shift(),done:!1}},e.prototype.hasValue=function(){return 0<this.buffer.length},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(n){this.buffer.push(n),this.parent.checkIterators()},e.prototype.subscribe=function(){return Lb.innerSubscribe(this.observable,new Lb.SimpleInnerSubscriber(this))},e}(Lb.SimpleOuterSubscriber),el=function(t,e){return mx.mergeMap(t,e,1)},KM=xa&&xa.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var g in s)s.hasOwnProperty(g)&&(i[g]=s[g])})(e,n)};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),fl=function(t,e){return function(n){return n.lift(new LM(t,e))}},LM=function(){function t(e,n){this.keySelector=e,this.flushes=n}return t.prototype.call=function(e,n){return n.subscribe(new MM(e,this.keySelector,this.flushes))},t}(),MM=function(t){function e(n,i,s){return(n=t.call(this,n)||this).keySelector=i,n.values=new Set,s&&n.add(Lb.innerSubscribe(s,new Lb.SimpleInnerSubscriber(n))),n}return KM(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(n){this._error(n)},e.prototype._next=function(n){this.keySelector?this._useKeySelector(n):this._finalizeNext(n,n)},e.prototype._useKeySelector=function(n){var i=this.destination;try{var s=this.keySelector(n)}catch(g){return void i.error(g)}this._finalizeNext(s,n)},e.prototype._finalizeNext=function(n,i){var s=this.values;s.has(n)||(s.add(n),this.destination.next(i))},e}(Lb.SimpleOuterSubscriber),yA=function(t){var e=qj(rj);t=iz(t);for(var n=0;n<e.length;n++){var i=rj[e[n]];if(i!=null&&i.AP_DOMAINS.includes(t)||i!=null&&i.AP_BACKUP_DOMAINS.includes(t)||i!=null&&i.PROXY_AP.includes(t))return[i.CODE]}return[pa.CHINA,pa.GLOBAL]},Zr={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND",23:"INIT_APPID_MISMATCH"},xA=[100,101,102],gl=/web-(\d)/,ly=function(t){function e(i,s){var g=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Xa(this,e);var l=n.call(this,s,"AccessPoint");return E(J(l),"operation",ra.login),E(J(l),"handleUniLbsError",Yr.bind(J(l))),E(J(l),"getApEdgeInfo$",void 0),E(J(l),"getApEdgeInfoEndFirst$",void 0),E(J(l),"apFinish$",new Cc),E(J(l),"retryCount",0),E(J(l),"failedAreas",new Set),E(J(l),"usedUrl",[]),E(J(l),"newDomainUsed",!1),E(J(l),"backupNewDomainUsed",!1),E(J(l),"genUrl",function(){var C=Jb.apply(void 0,ta(gd(ey.map(ig)))),p=Jb.apply(void 0,ta(gd(fy.map(ig))));return ua===void 0?dl.apply(void 0,ta(gd([C,p]))).pipe(el(function(B){return Jb.apply(void 0,ta(B))})):Jb.apply(void 0,ta(ua.AP_DOMAINS.slice(0,3).map(ig)))}),E(J(l),"genBackupUrl",function(){var C=Jb.apply(void 0,ta(gd(gy.map(ig)))),p=Jb.apply(void 0,ta(gd(hy.map(ig))));return ua===void 0?dl.apply(void 0,ta(gd([C,p]))).pipe(el(function(B){return Jb.apply(void 0,ta(B))})):Jb.apply(void 0,ta(ua.AP_BACKUP_DOMAINS.slice(0,3).map(ig)))}),E(J(l),"getApUrl$",function(C){var p,B;return l.genUrl().pipe(cc(function(Q){return(!l.newDomainUsed||!Q.includes("sd-rtn.com"))&&(Q.includes("sd-rtn.com")&&(l.newDomainUsed=!0),!lh(l.usedUrl,function(y){var _;return y===((_=Q.match(gl))===null||_===void 0?void 0:_[1])}))}),Ga(function(Q){var y;ua===void 0&&typeof(Q=(y=Q.match(gl))===null||y===void 0?void 0:y[1])=="string"&&l.usedUrl.push(Q)}),qb(C?Math.max(Ma("RECONNECTING_AP_NUM"),(p=ua==null?void 0:ua.CODES.size)!==null&&p!==void 0?p:0):(B=ua==null?void 0:ua.CODES.size)!==null&&B!==void 0?B:2),$d(function(){return e.runOutOfUrlSymbol}),kb(function(Q,y){return l.newDomainUsed=!1,Q===e.runOutOfUrlSymbol?(l.usedUrl=[],y):Na(Q)}))}),E(J(l),"getBackupApUrl$",function(C){var p,B;return l.genBackupUrl().pipe(cc(function(Q){return(!l.backupNewDomainUsed||!Q.includes("sd-rtn.com"))&&(Q.includes("sd-rtn.com")&&(l.backupNewDomainUsed=!0),!lh(l.usedUrl,function(y){var _;return y===((_=Q.match(gl))===null||_===void 0?void 0:_[1])}))}),Ga(function(Q){var y;ua===void 0&&typeof(Q=(y=Q.match(gl))===null||y===void 0?void 0:y[1])=="string"&&l.usedUrl.push(Q)}),qb(C?Math.max(Ma("RECONNECTING_AP_NUM"),(p=ua==null?void 0:ua.CODES.size)!==null&&p!==void 0?p:0):(B=ua==null?void 0:ua.CODES.size)!==null&&B!==void 0?B:2),$d(function(){return e.runOutOfUrlSymbol}),kb(function(Q,y){return l.backupNewDomainUsed=!1,Q===e.runOutOfUrlSymbol?(l.usedUrl=[],y):Na(Q)}))}),E(J(l),"getProxyApUrl$",function(C){var p,B;return Jb.apply(void 0,ta(((ua==null?void 0:ua.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(ig))).pipe(qb(C?Math.max(Ma("RECONNECTING_AP_NUM"),(p=ua==null?void 0:ua.CODES.size)!==null&&p!==void 0?p:0):(B=ua==null?void 0:ua.CODES.size)!==null&&B!==void 0?B:2))}),E(J(l),"context",void 0),E(J(l),"reportIntervalId",void 0),E(J(l),"fetchCloudProxy",function(C,p){var B=Bg("AP-",l.loggerId);l.log("The AccessPoint requests %s(%s)",C,B);var Q,y=new AbortController;return l.apFinish$.pipe(qb(1)).subscribe(function(){return y.abort()}),vf(wa(Z.mark(function _(){var S,w;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return w=Ag(0,Number.MAX_SAFE_INTEGER),l.log("%s request opid: %d",B,w),Ng("ApRequest",{sid:l.context.sid,userId:l.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(l.context.startTime),apAddr:C,opId:T.fromNumber(w),envId:0,flag:128},(S=l.context.config.cloudProxy)!==null&&S!==void 0&&S),O.abrupt("return",Kf(C,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:l.context.sid,opid:w,appid:l.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:p??l.context.key,cname:l.context.uid,uid:0,detail:lb({},E(ua===void 0?{11:[pa.CHINA,pa.GLOBAL].join(),12:"1"}:{11:Array.from(ua.CODES).map(function(P){return P===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):P}).join(","),12:"1"},26,"RTM2"))}}]},signal:y.signal}));case 4:case"end":return O.stop()}},_)}))).pipe(kb(function(_){return _.name!=="AbortError"&&(l.logError(_),l.warn("The AP server %s request failure",C,_)),Bc.EMPTY}),ac((Q=wa(Z.mark(function _(S){var w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka,_u,Uc,_E,Bh,_I;return Z.wrap(function(zf){for(;;)switch(zf.prev=zf.next){case 0:if(w=S.responseText,O=JSON.parse(w),l.log("The %s response is %o",B,O),((P=O.response_body)===void 0||P.length===0||P.some(function(oQ){var gQ;return((gQ=oQ.buffer)===null||gQ===void 0?void 0:gQ.code)===void 0||oQ.uri!==23}))&&(K=V(G.RTM_ERROR_LOGIN_REJECTED),M=K.code,U=K.reason,Na(new ja(l.operation,[U+"cloud proxy response_body not valid"],M))),(F=P.filter(function(oQ){return oQ.buffer.code!==0})).length===0){zf.next=14;break}if((W=F.find(function(oQ){return oQ.buffer.flag===128}))===void 0){zf.next=12;break}return zf.abrupt("return",l.handleUniLbsError(W.buffer.code,C));case 12:return l.logError("cloud proxy error response"),zf.abrupt("return",l.handleUniLbsError(F[0].buffer.code,C));case 14:for(ae=[],_r=0;_r<P.length;_r++)if(((na=P[_r])==null||(_t=na.buffer)===null||_t===void 0?void 0:_t.flag)===262144)(oa=na.buffer)===null||oa===void 0||(ha=oa.edges_services)===null||ha===void 0||(fa=ha.forEach)===null||fa===void 0||fa.call(ha,function(oQ){ar(oQ=oQ.ip)&&l.context.cloudProxyServers.indexOf(oQ)===-1&&(l.log("got cloud proxy server: %s",oQ),l.context.cloudProxyServers.push(oQ))});else if((na==null||(_A=na.buffer)===null||_A===void 0?void 0:_A.flag)===128){for(_u=function(oQ,gQ){var yQ=gQ[oQ];ae.some(function(NQ){return NQ.ip===yQ.ip})||ae.push({ip:yQ.ip,ticket:na.buffer.cert})},Uc=0,_E=na.buffer.edges_services;Uc<_E.length;Uc++)_u(Uc,_E);l.context.rtmArea=(Da=(ga=na.buffer)===null||ga===void 0||(ma=ga.detail)===null||ma===void 0?void 0:ma[9])!==null&&Da!==void 0?Da:"",l.context.vid=(Ra=($a=na.buffer)===null||$a===void 0||(Ka=$a.detail)===null||Ka===void 0?void 0:Ka[8])!==null&&Ra!==void 0?Ra:""}return Bh=Ma("EDGE_IP_LIST"),l.log("registrar EDGE_IP_LIST: ".concat(Bh," ")),typeof Bh=="string"&&(_I=JSON.parse(Bh),ae=_I.map(function(oQ){return{ip:oQ,ticket:ae[0].ticket}})),zf.abrupt("return",Jb.apply(void 0,ta(ae).concat([Yi.queueScheduler])));case 20:case"end":return zf.stop()}},_)})),function(_){return Q.apply(this,arguments)})),kb(function(_){return tb(_)?Na(_):Bc.EMPTY}),Xi(),cc(function(_){return _!==void 0&&typeof _.ip=="string"&&typeof _.ticket=="string"&&ar(_.ip)}))}),E(J(l),"fetchAp",function(C,p){var B=Bg("AP-",l.loggerId);l.log("The AccessPoint requests %s(%s)",C,B);var Q=new AbortController;l.apFinish$.pipe(qb(1)).subscribe(function(){return Q.abort()});var y,_=Ag(0,Number.MAX_SAFE_INTEGER);return vf(wa(Z.mark(function S(){var w;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return l.log("%s request opid: %d",B,_),Ng("ApRequest",{sid:l.context.sid,userId:l.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(l.context.startTime),apAddr:C,opId:T.fromNumber(_),envId:0,flag:128},(w=l.context.config.cloudProxy)!==null&&w!==void 0&&w),O.abrupt("return",Kf(C,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:_,key:p||l.context.key,cname:l.context.uid,detail:lb({},E(ua===void 0?{11:[pa.CHINA,pa.GLOBAL].join(),12:"1"}:{11:Array.from(ua.CODES).map(function(P){return P===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):P}).join(","),12:"1"},26,"RTM2")),uid:0,sid:l.context.sid},signal:Q.signal}));case 3:case"end":return O.stop()}},S)}))).pipe(kb(function(S){return S.name!=="AbortError"&&(l.logError(S),l.warn("The AP server %s request failure",C,S)),Bc.EMPTY}),ac((y=wa(Z.mark(function S(w){var O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa;return Z.wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:if(M=w.responseText,U=JSON.parse(M),l.log("The %s response is %o",B,U),W=(F=U).code,ae=F.addresses,_r=F.detail,l.context.vid=(O=_r[8])!==null&&O!==void 0?O:"",_t=vA(l.context.vid,(P=l.context.config.cloudProxy)!==null&&P!==void 0&&P),l.reportIntervalId=_t,Hb("ApEvent",{sid:l.context.sid,userId:l.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(l.context.startTime),apAddr:C,linkServerList:ae.map(function(fa){return fa.ip}),serverErrCode:W,flag:128,envId:0,opId:T.fromNumber(_),errCode:0,area:_r[9],isp:_r[2]},(K=l.context.config.cloudProxy)!==null&&K!==void 0&&K,l.context.vid),l.info(U),l.handleUniLbsError(W,C),W===0){ha.next=12;break}return ha.abrupt("return",l.handleUniLbsError(W,C));case 12:if(_A=ae,na=Ma("EDGE_IP_LIST"),l.log("registrar EDGE_IP_LIST: ".concat(na)),na!=null&&na.length&&(oa=na.map(function(fa){return fa.replace(/-/g,".")}),_A=oa.map(function(fa){return{ip:fa,ticket:_A[0].ticket}})),_A.length!==0){ha.next=18;break}return ha.abrupt("return",Na(Error("No available edge address to connect")));case 18:return l.context.rtmArea=_r==null?void 0:_r[9],ha.abrupt("return",Jb.apply(void 0,ta(_A).concat([Yi.queueScheduler])));case 20:case"end":return ha.stop()}},S)})),function(S){return y.apply(this,arguments)})),Xi(),kb(function(S){return tb(S)?Na(S):Bc.EMPTY}),cc(function(S){return S!==void 0&&typeof S.ip=="string"&&typeof S.ticket=="string"}))}),l.context=i,l.getApEdgeInfoEndFirst$=function(){var C=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return jd(0,C||g?Ma("RECONNECTING_AP_INTERVAL"):2e3).pipe(qb(1),Ga(function(){l.retryCount+=1}),ac(function(){return l.context.config.cloudProxy||l.context.socketUseProxy?l.getProxyApUrl$(C||g):(4<=l.retryCount&&(l.retryCount=0),3>=l.retryCount?l.getApUrl$(C||g):l.getBackupApUrl$(C||g))}),ac(function(p){return l.context.config.cloudProxy||l.context.socketUseProxy?l.fetchCloudProxy(p):l.fetchAp(p)}),kb(function(p){return p instanceof tc&&l.warn("AP request timeout"),Na(p)}),fl(function(p){return p.ip}),Mc(l.apFinish$))},l.getApEdgeInfo$=function(C){return jd(0,C||g?Ma("RECONNECTING_AP_INTERVAL"):2e3).pipe(qb(8),Ga(function(){l.retryCount+=1}),ac(function(){return l.context.config.cloudProxy||l.context.socketUseProxy?l.getProxyApUrl$(C||g):3>=l.retryCount?l.getApUrl$(C||g):l.getBackupApUrl$(C||g)}),ac(function(p){return(l.context.config.cloudProxy||l.context.socketUseProxy?l.fetchCloudProxy(p):l.fetchAp(p)).pipe()}),kb(function(p){return p instanceof tc&&l.warn("AP request timeout"),Na(p)}),fl(function(p){return p.ip}),Mc(l.apFinish$))},l}rb(e,t);var n=sb(e);return Db(e,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),e}(Kc);E(ly,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var my=ri(),ny=function(t){function e(i,s,g){var l;Xa(this,e);var C=n.call(this,s,"Connection");E(J(C),"apClient",void 0),E(J(C),"lastOpenSockets",[new wf(1),new wf(1)]),E(J(C),"EDGE_ENV_PORT",(l=Ma("EDGE_ENV_PORT"))!==null&&l!==void 0?l:ap),E(J(C),"curOpenSockets",[void 0,void 0]),E(J(C),"ipIterator",0),E(J(C),"loginSocketOpenFailureCount",0),E(J(C),"firstEnv",.5<=Math.random()?1:0),E(J(C),"firstSocketOpener",void 0),E(J(C),"secondSocketOpener",void 0),E(J(C),"firstOpenKeeperSubject",new Cc),E(J(C),"secondOpenKeeperSubject",new Cc),E(J(C),"blacklistedIP",{}),E(J(C),"edgeInfoReplayed",void 0),E(J(C),"firstEnvOpenSocket",void 0),E(J(C),"firstOpenKeeperSub",void 0),E(J(C),"secondOpenKeeperSub",void 0),E(J(C),"context",void 0),E(J(C),"logger",void 0),C.context=i,C.logger=s,C.apClient=new ly(C.context,s),C.apClient.apFinish$.subscribe(function(){C.log("Ap client fetch finished")});var p,B=[];return C.edgeInfoReplayed=C.apClient.getApEdgeInfo$(g).pipe(Pe(function(Q){return Q.pipe(Ga(function(y){if(tb(y))throw y}),Ne(g?Ma("RECONNECTING_AP_INTERVAL"):900),Mc(jd(2e4)))}),cc(function(Q){var y;return!lh(B,Q)&&1>=((y=C.blacklistedIP[Q.ip])!==null&&y!==void 0?y:0)}),$d(function(){return new my({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Ga(function(Q){B.push(Q),C.log("An edge info got %o",Q)}),Ga({error:function(Q){C.emit("connectionInitFailure",Q)}}),xf(function(){C.apClient.clearUp()}),yp()),C.firstEnvOpenSocket=C.edgeInfoReplayed.pipe(ac(function(Q){if(Q===void 0)return Na(Error("Invalid edge info"));var y=new Dp(Q.ip,C.firstEnv,Q.ticket,C.context,s,p);if(C.firstEnv=C.firstEnv===1?0:1,y.once("connectionFailure",function(){return C.onSocketConnectionFailure(y)}),!g&&Ma("ENABLE_EDGE_AUTO_FALLBACK")&&!C.context.config.cloudProxy){var _,S=Date.now();y.on("reconnect",function(){var w;C.loginSocketOpenFailureCount+=1,(w=_)!==null&&w!==void 0||(_=Date.now()-S),500>_&&1<C.loginSocketOpenFailureCount&&(C.context.socketUseProxy=!0)})}return p=!y.useNewDomain,y.open$.pipe(Oe(y))}),Ga(function(Q){C.log("The first websocket of ENV_%d opened to %s:%d",Q.env,Q.ip,C.EDGE_ENV_PORT[Q.env]),C.curOpenSockets[Q.env]=Q,C.lastOpenSockets[Q.env].next(Q),C.firstEnv=Q.env,C.openSecondSocket(Q.env,Q.ip,Q.useNewDomain)}),qb(1),Kd()),C.firstSocketOpener=C.firstEnvOpenSocket.pipe(ac(function(Q){return Q.open$.pipe(Ga(function(){C.log("The websocket of first ENV_%d re-opened to %s:%d",Q.env,Q.ip,C.EDGE_ENV_PORT[Q.env]),C.curOpenSockets[Q.env]=Q,C.lastOpenSockets[Q.env].next(Q)}))})),i=C.firstOpenKeeperSubject.pipe(zp.switchMap(Hg.identity)),C.firstOpenKeeperSub=i.subscribe({error:C.logError}),C}rb(e,t);var n=sb(e);return Db(e,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(i,s){if(![0,1].includes(i))throw new Yj({INVALID_ENV:"The env argument is not 0 or 1"});if(i===this.firstEnv){var g=this.firstOpenKeeperSub;this.firstOpenKeeperSub=void 0}else g=this.secondOpenKeeperSub,this.secondOpenKeeperSub=void 0;var l=this.curOpenSockets[i];this.curOpenSockets[i]=void 0,l&&(l.isActiveClose=!0,setTimeout(function(){l.close()},s)),g!==void 0&&setTimeout(function(){var C;(C=g)===null||C===void 0||C.unsubscribe()},s)}},{key:"waitClosing",value:function(i){var s=this;return i.isActiveClose=!0,i.open$.pipe(Xx(),kb(function(g){return g.message===Wx.normalClosureMessage?Bc.EMPTY:Na(g)}),Nc(5e3),kb(function(g){return g instanceof tc?(s.warn("Force closing the ENV_%d connection",i.env),Bc.EMPTY):Na(g)}))}},{key:"onSocketConnectionFailure",value:function(i){var s=[0,1].filter(function(g){return g!==i.env})[0];s=this.curOpenSockets[s],this.log("ENV_".concat(i.env,"(").concat(i.name,"): connectionFailure received, otherSocketState: ").concat(s==null?void 0:s.loggedIn)),s&&s.loggedIn?this.reopenSocketWithApRequest(i.env):(this.log("ENV_".concat(i.env,"(").concat(i.name,"): will emit socketsFailure")),this.emit("socketsFailure"))}},{key:"openSecondSocket",value:function(i,s,g){var l=this,C=i===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(Zx(function(p,B){return[].concat(ta(p),[B])},[]),Rb(function(p){return fv(p,function(B){return Hq(s,B.ip)}).slice(-1)[0]}),qb(1),ac(function(p){if(p===void 0)return Na(Error("Invalid edge info"));var B=new Dp(p.ip,C,p.ticket,l.context,l.logger,g);return B.on("connectionFailure",function(){return l.onSocketConnectionFailure(B)}),B.open$.pipe(Ga(function(){l.lastOpenSockets[C].next(B),l.curOpenSockets[C]=B,l.log("The second websocket of ENV_%d opened to %s:%d",B.env,B.ip,l.EDGE_ENV_PORT[B.env])}))}),Kd()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(zp.switchMap(Hg.identity)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(i){var s=this,g=[0,1].filter(function(p){return p!==i})[0];if((g=this.curOpenSockets[g])!==void 0){var l,C=g.ip;g=this.apClient.getApEdgeInfoEndFirst$(!0).pipe($d(function(){return new my({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Pe(function(p){return p.pipe(Ga(function(B){if(B.code===G.RTM_ERROR_TOKEN_EXPIRED)s.emit("tokenExpired"),s.apClient.apFinish$.next(void 0);else if(tb(B))throw B}),Ne(Ma("RECONNECTING_AP_INTERVAL")),Mc(jd(15e3)))}),Ga(function(p){s.log("An edge info got %o",p)}),xf(function(){s.apClient.clearUp()})).pipe(Zx(function(p,B){return[].concat(ta(p),[B])},[]),Rb(function(p){return(p=fv(p,function(B){return Hq(C,B.ip)})).length-1>=s.ipIterator?p.slice(-s.ipIterator++-1)[0]:(s.ipIterator=0,p.slice(-1)[0])}),$d(),ac(function(p){if(p===void 0)return Na(Error("Invalid edge info"));var B=new Dp(p.ip,i,p.ticket,s.context,s.logger,l);return B.on("connectionFailure",function(){return s.onSocketConnectionFailure(B)}),l=!B.useNewDomain,B.open$.pipe(Oe(B))}),Ga(function(p){s.log("The websocket of ENV_%d re-opened to %s:%d using ap",p.env,p.ip,s.EDGE_ENV_PORT[p.env]),s.curOpenSockets[i]=p,s.lastOpenSockets[i].next(p)}),ac(function(p){return p.open$.pipe(Ga(function(){s.log("The websocket of ENV_%d re-opened to %s:%d",p.env,p.ip,s.EDGE_ENV_PORT[p.env]),s.curOpenSockets[i]=p,s.lastOpenSockets[i].next(p)}))}),Kd()),i===this.firstEnv?this.firstOpenKeeperSubject.next(g):this.secondOpenKeeperSubject.next(g)}}}]),e}(Kc),oy=function(){function t(){Xa(this,t),E(this,"size",0),E(this,"fields",new Map)}return Db(t,[{key:"define",value:function(e,n,i){if(this.size+=i,64<this.size)throw new RangeError("the struct over 64 bits is not supported");Fj(n={val:0,isNumber:n==="number",isBoolean:n==="boolean",oneof:n==="number"||n==="boolean"?void 0:n,len:i}),this.fields.set(e,n)}},{key:"set",value:function(e,n){if(!(e=this.fields.get(e)))throw Error("field not found");var i=e.oneof;if(!T.isLong(n)&&typeof n!="number")if(typeof n=="boolean")n=n?1:0;else{if(i===void 0)throw Error("invalid field type");if((n=i[n])===void 0)throw Error("field type not found")}Fj(e,n),e.val=n}},{key:"toNumber",value:function(){for(var e=0,n=0,i=0,s=Array.from(this.fields);i<s.length;i++){var g=vc(s[i],2)[1],l=g.len;(g=g.val)!==void 0&&(e+=T.fromValue(g).shiftLeft(n).toNumber(),n+=l)}return e}},{key:"toLong",value:function(){for(var e=T.fromNumber(0,!0),n=0,i=0,s=Array.from(this.fields);i<s.length;i++){var g=vc(s[i],2)[1],l=g.len;(g=g.val)!==void 0&&(e=T.fromValue(g).shiftLeft(n).add(e),n+=l)}return e}},{key:"assert",value:function(e,n){function i(l){if(!T.isLong(l)&&typeof l!="number")if(typeof l=="boolean")l=l?1:0;else{if(g===void 0)throw Error("invalid field type");if((l=g[l])===void 0)throw Error("field type not found")}return Fj(s,l),Ej(l,s.val)}var s=this.fields.get(e);if(!s)throw Error("field not found");var g=s.oneof;if(!Array.isArray(n))return i(n);if(n.length===1)return i(n[0]);if(n.every(function(l){return typeof l=="string"})&&g!==void 0)return n.some(function(l){return i(l)});throw Error("invalid valueTypes")}},{key:"from",value:function(e){e=T.fromValue(e);for(var n=0,i=0,s=Array.from(this.fields);i<s.length;i++){var g=vc(s[i],2)[1],l=g.len,C=T.fromNumber(Math.pow(2,l)-1,!0).shiftLeft(n);Fj(g,C=e.and(C).shiftRightUnsigned(n)),g.val=C,n+=l}}},{key:"typeOf",value:function(e){if((e=this.fields.get(e))!==void 0){var n=e.oneof;if(e=e.val,n!==void 0){var i=0;for(n=Object.entries(n);i<n.length;i++){var s=vc(n[i],2),g=s[0];if(Ej(e,s[1]))return g}}}throw new TypeError("can only get type of oneof type")}}]),t}(),hl=function(t){function e(i){Xa(this,e);var s=n.call(this);return s.define("Rejoin","boolean",1),s.define("Unused","number",31),s.define("Platform","number",8),s.define("Version","number",12),s.define("Subversion","number",12),s.set("Platform",7),s.set("Version",8),s.set("Subversion",411),s.set("Rejoin",i),s}rb(e,t);var n=sb(e);return e}(oy),NM=lb(lb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),py={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},OM=lb(lb({},NM),py),PM={Uncompressed:0,Zlib:1},bj=function(t){function e(i){Xa(this,e);var s=n.call(this);if(s.define("MessageType",OM,8),s.define("BroadcastJumps","number",2),s.define("ToCache","boolean",1),s.define("FromCache","boolean",1),s.define("CompressionMethod",PM,2),s.define("IterationNumber","number",4),s.define("BufferedMessage","boolean",1),s.define("ToArchive","boolean",1),s.define("FromArchive","boolean",1),s.define("kDelegate","number",1),s.define("kSecurity","number",1),s.define("kBypassGroupMemberCheck","number",1),s.define("enableEncryption","boolean",1),s.define("encrytionComplement","number",5),s.define("undefined","number",34),typeof i=="number"||T.isLong(i))s.from(i);else if(i!==void 0){var g=0;for(i=oj(i);g<i.length;g++){var l=vc(i[g],2);s.set(l[0],l[1])}}return s}rb(e,t);var n=sb(e);return Db(e,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(i){var s=this;return i!==void 0?this.assert("MessageType",i):qj(py).some(function(g){return s.assert("MessageType",g)})}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}},{key:"isEncryption",value:function(){return this.assert("enableEncryption",!0)}},{key:"getEncrytionComplement",value:function(){var i;return(i=this.fields.get("encrytionComplement"))===null||i===void 0?void 0:i.val}}]),e}(oy),yc,Sa,Ec;(function(t){t[t.UNEXPECTED_ERROR=0]="UNEXPECTED_ERROR",t[t.UNEXPECTED_RESPONSE=1]="UNEXPECTED_RESPONSE",t[t.TIMEOUT=2]="TIMEOUT",t[t.INVALID_PARAMS=3]="INVALID_PARAMS",t[t.NOT_READABLE=4]="NOT_READABLE",t[t.NOT_SUPPORTED=5]="NOT_SUPPORTED",t[t.INVALID_OPERATION=6]="INVALID_OPERATION",t[t.OPERATION_ABORTED=7]="OPERATION_ABORTED",t[t.WEB_SECURITY_RESTRICT=8]="WEB_SECURITY_RESTRICT",t[t.EXCHANGE_SDP_FAILED=9]="EXCHANGE_SDP_FAILED",t[t.DATACHANNEL_FAILED=10]="DATACHANNEL_FAILED",t[t.NETWORK_ERROR=11]="NETWORK_ERROR",t[t.NETWORK_TIMEOUT=12]="NETWORK_TIMEOUT",t[t.NETWORK_RESPONSE_ERROR=13]="NETWORK_RESPONSE_ERROR",t[t.API_INVOKE_TIMEOUT=14]="API_INVOKE_TIMEOUT",t[t.ENUMERATE_DEVICES_FAILED=15]="ENUMERATE_DEVICES_FAILED",t[t.DEVICE_NOT_FOUND=16]="DEVICE_NOT_FOUND",t[t.ELECTRON_IS_NULL=17]="ELECTRON_IS_NULL",t[t.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=18]="ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR",t[t.CHROME_PLUGIN_NO_RESPONSE=19]="CHROME_PLUGIN_NO_RESPONSE",t[t.CHROME_PLUGIN_NOT_INSTALL=20]="CHROME_PLUGIN_NOT_INSTALL",t[t.MEDIA_OPTION_INVALID=21]="MEDIA_OPTION_INVALID",t[t.PERMISSION_DENIED=22]="PERMISSION_DENIED",t[t.CONSTRAINT_NOT_SATISFIED=23]="CONSTRAINT_NOT_SATISFIED",t[t.TRACK_IS_DISABLED=24]="TRACK_IS_DISABLED",t[t.GET_VIDEO_ELEMENT_VISIBLE_ERROR=25]="GET_VIDEO_ELEMENT_VISIBLE_ERROR",t[t.SHARE_AUDIO_NOT_ALLOWED=26]="SHARE_AUDIO_NOT_ALLOWED",t[t.LOW_STREAM_ENCODING_ERROR=27]="LOW_STREAM_ENCODING_ERROR",t[t.SET_ENCODING_PARAMETER_ERROR=28]="SET_ENCODING_PARAMETER_ERROR",t[t.TRACK_STATE_UNREACHABLE=29]="TRACK_STATE_UNREACHABLE",t[t.INVALID_UINT_UID_FROM_STRING_UID=30]="INVALID_UINT_UID_FROM_STRING_UID",t[t.CAN_NOT_GET_PROXY_SERVER=31]="CAN_NOT_GET_PROXY_SERVER",t[t.CAN_NOT_GET_GATEWAY_SERVER=32]="CAN_NOT_GET_GATEWAY_SERVER",t[t.VOID_GATEWAY_ADDRESS=33]="VOID_GATEWAY_ADDRESS",t[t.UID_CONFLICT=34]="UID_CONFLICT",t[t.MULTI_UNILBS_RESPONSE_ERROR=35]="MULTI_UNILBS_RESPONSE_ERROR",t[t.UPDATE_TICKET_FAILED=36]="UPDATE_TICKET_FAILED",t[t.INVALID_LOCAL_TRACK=37]="INVALID_LOCAL_TRACK",t[t.INVALID_TRACK=38]="INVALID_TRACK",t[t.SENDER_NOT_FOUND=39]="SENDER_NOT_FOUND",t[t.CREATE_OFFER_FAILED=40]="CREATE_OFFER_FAILED",t[t.SET_ANSWER_FAILED=41]="SET_ANSWER_FAILED",t[t.ICE_FAILED=42]="ICE_FAILED",t[t.PC_CLOSED=43]="PC_CLOSED",t[t.SENDER_REPLACE_FAILED=44]="SENDER_REPLACE_FAILED",t[t.GET_LOCAL_CAPABILITIES_FAILED=45]="GET_LOCAL_CAPABILITIES_FAILED",t[t.GET_LOCAL_CONNECTION_PARAMS_FAILED=46]="GET_LOCAL_CONNECTION_PARAMS_FAILED",t[t.SUBSCRIBE_FAILED=47]="SUBSCRIBE_FAILED",t[t.UNSUBSCRIBE_FAILED=48]="UNSUBSCRIBE_FAILED",t[t.GATEWAY_P2P_LOST=49]="GATEWAY_P2P_LOST",t[t.NO_ICE_CANDIDATE=50]="NO_ICE_CANDIDATE",t[t.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=51]="CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS",t[t.EXIST_DISABLED_VIDEO_TRACK=52]="EXIST_DISABLED_VIDEO_TRACK",t[t.INVALID_REMOTE_USER=53]="INVALID_REMOTE_USER",t[t.REMOTE_USER_IS_NOT_PUBLISHED=54]="REMOTE_USER_IS_NOT_PUBLISHED",t[t.CUSTOM_REPORT_SEND_FAILED=55]="CUSTOM_REPORT_SEND_FAILED",t[t.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=56]="CUSTOM_REPORT_FREQUENCY_TOO_HIGH",t[t.FETCH_AUDIO_FILE_FAILED=57]="FETCH_AUDIO_FILE_FAILED",t[t.READ_LOCAL_AUDIO_FILE_ERROR=58]="READ_LOCAL_AUDIO_FILE_ERROR",t[t.DECODE_AUDIO_FILE_FAILED=59]="DECODE_AUDIO_FILE_FAILED",t[t.WS_ABORT=60]="WS_ABORT",t[t.WS_DISCONNECT=61]="WS_DISCONNECT",t[t.WS_ERR=62]="WS_ERR",t[t.LIVE_STREAMING_TASK_CONFLICT=63]="LIVE_STREAMING_TASK_CONFLICT",t[t.LIVE_STREAMING_INVALID_ARGUMENT=64]="LIVE_STREAMING_INVALID_ARGUMENT",t[t.LIVE_STREAMING_INTERNAL_SERVER_ERROR=65]="LIVE_STREAMING_INTERNAL_SERVER_ERROR",t[t.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=66]="LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED",t[t.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=67]="LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED",t[t.LIVE_STREAMING_CDN_ERROR=68]="LIVE_STREAMING_CDN_ERROR",t[t.LIVE_STREAMING_INVALID_RAW_STREAM=69]="LIVE_STREAMING_INVALID_RAW_STREAM",t[t.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=70]="LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT",t[t.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=71]="LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE",t[t.LIVE_STREAMING_WARN_FREQUENT_REQUEST=72]="LIVE_STREAMING_WARN_FREQUENT_REQUEST",t[t.WEBGL_INTERNAL_ERROR=73]="WEBGL_INTERNAL_ERROR",t[t.BEAUTY_PROCESSOR_INTERNAL_ERROR=74]="BEAUTY_PROCESSOR_INTERNAL_ERROR",t[t.CROSS_CHANNEL_WAIT_STATUS_ERROR=75]="CROSS_CHANNEL_WAIT_STATUS_ERROR",t[t.CROSS_CHANNEL_FAILED_JOIN_SRC=76]="CROSS_CHANNEL_FAILED_JOIN_SRC",t[t.CROSS_CHANNEL_FAILED_JOIN_DEST=77]="CROSS_CHANNEL_FAILED_JOIN_DEST",t[t.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=78]="CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST",t[t.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=79]="CROSS_CHANNEL_SERVER_ERROR_RESPONSE",t[t.METADATA_OUT_OF_RANGE=80]="METADATA_OUT_OF_RANGE",t[t.LOCAL_AEC_ERROR=81]="LOCAL_AEC_ERROR",t[t.INVALID_PLUGIN=82]="INVALID_PLUGIN",t[t.DISCONNECT_P2P=83]="DISCONNECT_P2P",t[t.INIT_WEBSOCKET_TIMEOUT=84]="INIT_WEBSOCKET_TIMEOUT",t[t.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=85]="CONVERTING_IMAGEDATA_TO_BLOB_FAILED",t[t.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=86]="CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED",t[t.INIT_DATACHANNEL_TIMEOUT=87]="INIT_DATACHANNEL_TIMEOUT",t[t.DATACHANNEL_CONNECTION_TIMEOUT=88]="DATACHANNEL_CONNECTION_TIMEOUT"})(yc||(yc={})),function(t){t[t.ErrOK=0]="ErrOK",t[t.ErrUnknown=1]="ErrUnknown",t[t.ErrRequestTooLarge=22]="ErrRequestTooLarge",t[t.ErrTimeout=44]="ErrTimeout",t[t.ErrNetwork=101]="ErrNetwork",t[t.ErrDuplicateRequest=102]="ErrDuplicateRequest",t[t.ErrUnknownUri=201]="ErrUnknownUri",t[t.ErrMetaProxyOnly=202]="ErrMetaProxyOnly",t[t.ErrMetaClientOnly=203]="ErrMetaClientOnly",t[t.ErrMetaInvalidFirstPack=204]="ErrMetaInvalidFirstPack",t[t.ErrMetaServerNotAvailable=205]="ErrMetaServerNotAvailable",t[t.ErrUnknownHash=206]="ErrUnknownHash",t[t.ErrMetaInvalidKey=301]="ErrMetaInvalidKey",t[t.ErrMetaUnknownHost=302]="ErrMetaUnknownHost",t[t.ErrInvalidMsg=303]="ErrInvalidMsg",t[t.ErrNeedToReconnect=304]="ErrNeedToReconnect",t[t.ErrNoMoreElems=305]="ErrNoMoreElems",t[t.ErrTypeMismatch=306]="ErrTypeMismatch",t[t.ErrPendingBatch=307]="ErrPendingBatch",t[t.ErrNoBatch=308]="ErrNoBatch",t[t.ErrInvalidPath=309]="ErrInvalidPath"}(Sa||(Sa={})),function(t){t[t.kMetadataOk=0]="kMetadataOk",t[t.kDuplicatedOperation=1]="kDuplicatedOperation",t[t.kSyncServerError=2]="kSyncServerError",t[t.kArgumentError=3]="kArgumentError",t[t.kAutheticationError=4]="kAutheticationError",t[t.kExceedLimitationError=5]="kExceedLimitationError",t[t.kOutdateRevision=6]="kOutdateRevision",t[t.kLockAcquireFailed=7]="kLockAcquireFailed",t[t.kLockExpired=8]="kLockExpired",t[t.kLockWatching=9]="kLockWatching",t[t.kInvalidLock=10]="kInvalidLock",t[t.kLockReleased=11]="kLockReleased",t[t.kWriteNotAllowed=12]="kWriteNotAllowed",t[t.kNoLock=13]="kNoLock",t[t.kTimeOutError=100]="kTimeOutError",t[t.kUnknownError=255]="kUnknownError"}(Ec||(Ec={}));var il=function(t){function e(i,s,g){return Xa(this,e),E(J(s=n.call(this,s,"MessageReport")),"messagecount",s.getInitMessageCount()),E(J(s),"context",void 0),E(J(s),"rtmMessageCategory",void 0),E(J(s),"seq",T.fromNumber(1,!0)),s.context=i,s.rtmMessageCategory=g,s}rb(e,t);var n=sb(e);return Db(e,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:T.fromNumber(0),peerack25mscount:T.fromNumber(0),peerack50mscount:T.fromNumber(0),peerack75mscount:T.fromNumber(0),peerack100mscount:T.fromNumber(0),peerack150mscount:T.fromNumber(0),peerack200mscount:T.fromNumber(0),peerack250mscount:T.fromNumber(0),peerack300mscount:T.fromNumber(0),peerack400mscount:T.fromNumber(0),peerack500mscount:T.fromNumber(0),peerack600mscount:T.fromNumber(0),peerack800mscount:T.fromNumber(0),peerack1000mscount:T.fromNumber(0),peerack2000mscount:T.fromNumber(0),peerack3000mscount:T.fromNumber(0),peerack5000mscount:T.fromNumber(0),peerack7000mscount:T.fromNumber(0),peerackslowcount:T.fromNumber(0),norecipientack10mscount:T.fromNumber(0),norecipientack25mscount:T.fromNumber(0),norecipientack50mscount:T.fromNumber(0),norecipientack75mscount:T.fromNumber(0),norecipientack100mscount:T.fromNumber(0),norecipientack150mscount:T.fromNumber(0),norecipientack200mscount:T.fromNumber(0),norecipientack250mscount:T.fromNumber(0),norecipientack300mscount:T.fromNumber(0),norecipientack400mscount:T.fromNumber(0),norecipientack500mscount:T.fromNumber(0),norecipientack600mscount:T.fromNumber(0),norecipientack800mscount:T.fromNumber(0),norecipientack1000mscount:T.fromNumber(0),norecipientack2000mscount:T.fromNumber(0),norecipientack3000mscount:T.fromNumber(0),norecipientack5000mscount:T.fromNumber(0),norecipientack7000mscount:T.fromNumber(0),norecipientackslowcount:T.fromNumber(0),sentcount:T.fromNumber(0),receivedcount:T.fromNumber(0),acktimeoutcount:T.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(i){i/=2;for(var s=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],g=0;g<s.length;g++){var l,C=s[g];if(iv(i,C[0],C[1]))C="peerack".concat(C[1],"mscount"),this.messagecount[C]=(l=this.messagecount[C])===null||l===void 0?void 0:l.add(1);else if(7e3<i){var p;this.messagecount.peerackslowcount=(p=this.messagecount.peerackslowcount)===null||p===void 0?void 0:p.add(1)}}}},{key:"updateNorecipientackCount",value:function(i){i/=2;for(var s=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],g=0;g<s.length;g++){var l,C=s[g];if(iv(i,C[0],C[1]))C="norecipientack".concat(C[1],"mscount"),this.messagecount[C]=(l=this.messagecount[C])===null||l===void 0?void 0:l.add(1);else if(7e3<i){var p;this.messagecount.norecipientackslowcount=(p=this.messagecount.norecipientackslowcount)===null||p===void 0?void 0:p.add(1)}}}},{key:"updateCommonCount",value:function(i){var s=this.messagecount[i];T.isLong(s)?this.messagecount[i]=s.add(1):this.messagecount[i]=s+1}},{key:"report",value:function(){var i,s;Hb("RtmSdkMessageCount",new iy(lb(lb({},this.messagecount),{},{vid:T.fromString((i=this.context.vid)!==null&&i!==void 0?i:"0"),os:7,lts:T.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:8,apiminorversion:411,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),(s=this.context.config.cloudProxy)!==null&&s!==void 0&&s,this.context.vid),this.messagecount=lb(lb({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),e}(Kc),QM=function(t){function e(i){return Xa(this,e),E(J(i=n.call(this,i,"ChatManager")),"dialogueLru",new GH(void 0,{maxlen:1e4,ttl:1e4})),i}rb(e,t);var n=sb(e);return Db(e,[{key:"getChatInfo",value:function(i){var s=this.dialogueLru.get(i);if(this.dialogueLru.prune(),s){var g=s.dialogue,l={dialogue:g,sequence:s=s.sequence.add(1)};return this.dialogueLru.set(i,{dialogue:g,sequence:s}),l}return g={dialogue:nj(),sequence:T.fromNumber(1,!0)},this.dialogueLru.set(i,g),g}}]),e}(Kc),RM=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),SM=window.URL.createObjectURL(RM),Pg={},bi=0,Fm=new Worker(SM);Fm.onmessage=function(t){if(t=t.data.fakeId,Pg.hasOwnProperty(t)){var e=Pg[t];t=e.callback,e=e.parameters,t.apply(window,e)}};var qy=function(t){function e(){return Xa(this,e),n.apply(this,arguments)}rb(e,t);var n=sb(e);return Db(e,[{key:"requestAsyncId",value:function(i,s){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return BA(i.flush.bind(i,this),g)}},{key:"recycleAsyncId",value:function(i,s){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(g!==null&&this.delay===g&&this.pending===!1)return s;Pg.hasOwnProperty(s)&&(delete Pg[s],Fm.postMessage({name:"clearInterval",fakeId:s}))}}]),e}(ax),Rf=function(){function t(e){var n,i,s,g,l;Xa(this,t),E(this,"key",void 0),E(this,"value",void 0),E(this,"revision",void 0),E(this,"updateTs",void 0),E(this,"authorUserId",void 0),this.key=(n=e==null?void 0:e.key)!==null&&n!==void 0?n:"",this.value=(i=e==null?void 0:e.value)!==null&&i!==void 0?i:"",this.revision=(s=e==null?void 0:e.revision)!==null&&s!==void 0?s:-1,this.updateTs=(g=e==null?void 0:e.updateTs)!==null&&g!==void 0?g:0,this.authorUserId=(l=e==null?void 0:e.authorUserId)!==null&&l!==void 0?l:""}return Db(t,[{key:"setKey",value:function(e){if(typeof e!="string")throw e=V(G.RTM_ERROR_STORAGE_INVALID_KEY),new Ja(ra.storage,[e.reason],e.code);this.key=e,this.key=e}},{key:"getKey",value:function(){if(typeof this.key=="string")return this.key;throw new Qc("Cannot get MetaDataItem key")}},{key:"setValue",value:function(e){this.value=e}},{key:"getValue",value:function(){return this.value}},{key:"setRevision",value:function(e){if(typeof e!="number"||e%1!=0)throw e=V(G.RTM_ERROR_STORAGE_INVALID_REVISION),new Ja(ra.storage,[e.reason],e.code);this.revision=e}},{key:"getRevision",value:function(){if(typeof this.revision=="number")return this.revision;throw new Qc("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),t}(),ye;(function(t){t.STATE_REVISION_KEY_PREFIX="_rev_",t.STATE_TIMESTAMP_PREFIX="_t_",t.STATE_AUTHOR_PREFIX="_m_",t.STATE_REVISION="_rev",t.STATE_INTERNAL_PREFIX="_"})(ye||(ye={}));var TM={"-":0,app_key:"",region:"CN",enabled:String(Ma("RTM2_ENABLED")),"presence.occupancy":String(Ma("PRESENCE_THRESHOLD")),"presence.interval":String(Ma("PRESENCE_INTERVAL")),"presence.debounce":String(Ma("PRESENCE_DEBOUNCE")),"storage.enabled":String(Ma("STORAGE_ENABLED")),"storage.channel_subscribe_enabled":String(Ma("STORAGE_CHANNEL_SUB_ENABLED")),"storage.user_subscribe_enabled":String(Ma("STORAGE_USER_SUB_ENABLED")),"lock.enabled":String(Ma("LOCK_ENABLED"))},ry=ia.inflate,sy=ia.deflate,ty=function(t){function e(s,g,l,C,p){Xa(this,e);var B=i.call(this,C,"Session");return E(J(B),"loginOperation",ra.login),E(J(B),"lastNoticeTicket",""),E(J(B),"chatManager",void 0),E(J(B),"usedChannelIds",[]),E(J(B),"subscribedChannels",new Map),E(J(B),"msgDedupLru",new hg(void 0,{maxlen:200})),E(J(B),"startTime",Date.now()),E(J(B),"seq",T.fromNumber(1,!0)),E(J(B),"userJoinOptions",new hl(!1)),E(J(B),"seqSentStatuses",[!1,!1]),E(J(B),"dialogueSequenceLru",new hg(void 0,{maxlen:1e4})),E(J(B),"loggedOut",!1),E(J(B),"messageSentTimes",[]),E(J(B),"curLoginSockets",[void 0,void 0]),E(J(B),"loginSocketSubs",[{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map},{channels:new Map,receivers:[],lockSubs:new Map,userMetadataSubs:new Map,metadataSubs:new Map}]),E(J(B),"lastLoginSockets",[new wf(1),new wf(1)]),E(J(B),"dialPendingMsgSubjectMap",new Map),E(J(B),"context",void 0),E(J(B),"connection",void 0),E(J(B),"instanceId",void 0),E(J(B),"lastPingTime",void 0),E(J(B),"chanelStringMessageReport",void 0),E(J(B),"chanelRawMessageReport",void 0),E(J(B),"p2pSMsgNoOfflineReport",void 0),E(J(B),"p2pRMsgNoOfflineReport",void 0),E(J(B),"lockSnapshotLastTime",new Map),E(J(B),"lockEventInfos",new Map),E(J(B),"channelMetaEventInfos",new Map),E(J(B),"userMetaEventInfos",new Map),E(J(B),"initEncryption",!1),E(J(B),"key",""),E(J(B),"iv",""),E(J(B),"keyLength",0),E(J(B),"operationsTimeCache",{}),E(J(B),"locksWithRetryNoRes",new Map),E(J(B),"registerSocketsFailureListener",function(){B.connection.once("socketsFailure",function(){B.log("registrar: socketsFailure, creating a new connection"),vf(function(){return B.connection.removeAllListeners(),B.connection=new ny(B.context,B.logger,!0),B.loginHandler(15e3,!0)}).pipe(Pe(function(Q){return Q.pipe(Ne(Ma("RECONNECTING_AP_INTERVAL")))}),Mc(B.connection.apClient.apFinish$)).subscribe(function(){B.log("new connection connected")})}),B.connection.listenerCount("tokenExpired")===0&&B.connection.on("tokenExpired",function(){B.emit("tokenExpired")})}),B.context=s,B.context.startTime=B.startTime,B.connection=g,B.instanceId=l,B.chatManager=new QM(C),B.lastPingTime=[0,0],B.setMaxListeners(512),B.log("The instanceId is %s",B.instanceId.toString()),p!=null&&p.key&&(B.initEncryption=p.initEncryption,B.key=p.key,B.iv=p.iv,B.keyLength=p.keyLength),B.chanelStringMessageReport=new il(s,C,Cb.ChannelSMsg),B.chanelRawMessageReport=new il(s,C,Cb.ChannelRMsg),B.p2pSMsgNoOfflineReport=new il(s,C,Cb.P2pSMsgNoOfflineFlag),B.p2pRMsgNoOfflineReport=new il(s,C,Cb.P2pRMsgNoOfflineFlag),B}rb(e,t);var n,i=sb(e);return Db(e,[{key:"loginHandler",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:12e3,l=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.loggedOut&&l)throw g=V(G.RTM_ERROR_LOGIN_ABORTED),new cb(this.loginOperation,[g.reason+"logout when login retrying"],g.code);l&&this.registerSocketsFailureListener(),this.connection.initConnection();var C=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),p=Date.now();return C.forEach(function(B,Q){var y=s.loginSocketSubs[Q].login;y!==void 0&&y.unsubscribe(),s.loginSocketSubs[Q].login=B.pipe(Ga(function(_){var S;s.curLoginSockets[Q]=_;var w=Date.now();Hb("Link",{ackedServerIp:_.address,destServerIp:_.ip,ec:0,sc:0,elapse:Ub(s.startTime),lts:T.fromNumber(w),responseTime:w-p,sid:qc(s.instanceId),userId:s.context.uid},(S=s.context.config.cloudProxy)!==null&&S!==void 0&&S,s.context.vid),s.emit("userJoined",_.env),l&&s.connection.apClient.apFinish$.next(void 0)})).subscribe(s.lastLoginSockets[Q])}),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),oc.apply(void 0,ta(C).concat([he(this.connection,"connectionInitFailure").pipe(Ga(function(B){throw tb(B)||Ib(B)?B:(B=V(G.RTM_ERROR_LOGIN_ABORTED),new ja(s.loginOperation,[B.reason],B.code))}))])).pipe(qb(1),Nc(g),kb(function(B){return B instanceof tc&&s.warn("client ".concat(l?"re-":"","login timeout")),B&&B.code===G.RTM_ERROR_TOKEN_EXPIRED&&(s.connection.emit("tokenExpired"),s.connection.apClient.apFinish$.next(void 0)),s.clearSockets(0,l),Na(B)}),Ga(function(){l||s.registerSocketsFailureListener()}),xf(function(){l||s.connection.apClient.apFinish$.next(void 0)}))}},{key:"logoutHandler",value:(n=wa(Z.mark(function s(g){var l,C,p,B=this;return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),this.incGetSeq(),l=this.getLoginSockets(),C=l.map(function(y){return y.sendPacket("UserQuit2",{flags:g?new T(1,0,!0):T.fromNumber(0)}),B.connection.waitClosing(y)}),this.clearSockets(5e3),p=l.map(function(y){return y.env}),[0,1].filter(function(y){return!p.includes(y)}).forEach(function(y){B.connection.closeSocket(y,0)}),Q.abrupt("return",oc.apply(void 0,ta(C)).toPromise());case 10:case"end":return Q.stop()}},s,this)})),function(s){return n.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w=this;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(C=ra.subscribe,this.getLoginSockets().length!==0){O.next=4;break}throw p=V(G.RTM_ERROR_NOT_LOGIN),B=p.code,Q=p.reason,new cb(C,[Q],B);case 4:return y=he(this,"channelLeft").pipe(cc(function(P){return l===P}),qb(1)),_=this.incGetSeq(),(S=this.lastLoginSockets.map(function(P){return P.pipe(ic(function(K,M){M!==0&&w.incSeqIfNeeded(K.env);var U=M===0?_:w.seq;return K.sendPacket("GroupEnter",{account:l,seq:U}),K.fromReceived("GroupReply").pipe(Zb(function(F){return U.eq(F.seq)}),Ga(function(F){if(F.code!==0)throw F=V(G.RTM_ERROR_CHANNEL_JOIN_FAILED),new ja(C,[F.reason],F.code)}))}),Mc(y),Kd())})).forEach(function(P,K){var M=function(){return w.loginSocketSubs[K].channels.delete(l)};w.loginSocketSubs[K].channels.set(l,P.subscribe({error:M,complete:M}))}),O.next=10,oc.apply(void 0,ta(S)).pipe(qb(1),Nc(1e4),kb(function(P){return P instanceof tc&&w.warn("Channel join timeout"),Na(P)})).toPromise();case 10:case"end":return O.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(s){this.getLoginSockets().forEach(function(g){g.sendPacket("GroupLeave",{account:s})})}},{key:"requestUpdateEdgeTicket",value:function(s){var g=this,l=this.getLoginSockets();if(l.length===0)throw l=V(G.RTM_ERROR_NOT_LOGIN),new cb(ra.login,[l.reason],l.code);var C=this.incGetSeq();return l.forEach(function(p){p.sendPacket("UserRenewTokenReq",{instance:g.instanceId,seq:C,account:g.context.uid,ticket:s})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(l.map(function(p){return p.fromReceived("UserRenewTokenResp").pipe(Zb(function(B){var Q=B.code;return C.eq(B.seq)&&Q===0}))}))))}},{key:"requestGetChannelMetaData",value:function(s){var g=ra.getChannelMetadata,l=this.getLoginSockets();if(l.length===0)throw l=V(G.RTM_ERROR_NOT_LOGIN),new cb(g,[l.reason],l.code);if(!this.canMakeOperation("getChannelMetadata"))throw l=V(G.RTM_ERROR_CHANNEL_SUBSCRIBE_TOO_FREQUENT),new md(g,[l.reason],l.code);var C=this.incGetSeq();return l.forEach(function(p){p.sendPacket("StateGet",{target:s,subTarget:"",lock:"",sequence:C,flags:new T(1048577,0,!0),lockRev:T.fromNumber(0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(l.map(function(p){return p.fromReceived("StateGetResult").pipe(Zb(function(B){return C.eq(B.sequence)}),Rb(function(B){var Q=B.allStates,y=ie(B.code);if(B=y.code,y=y.reason,B!==G.RTM_ERROR_OK)throw new ja(g,[y],B);return Q}))}))))}},{key:"requestGetLocalMetaData",value:function(s){var g=ra.getUserMetadata,l=this.getLoginSockets();if(l.length===0)throw l=V(G.RTM_ERROR_NOT_LOGIN),new cb(g,[l.reason],l.code);if(!this.canMakeOperation("getUserMetadata"))throw l=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(g,[l.reason],l.code);var C=this.incGetSeq();return l.forEach(function(p){p.sendPacket("StateGet",{target:s,subTarget:"",lock:"",sequence:C,flags:new T(1048576,0,!0),lockRev:T.fromNumber(0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(l.map(function(p){return p.fromReceived("StateGetResult").pipe(Zb(function(B){return C.eq(B.sequence)}),Rb(function(B){var Q=B.allStates,y=ie(B.code);if(B=y.code,y=y.reason,B!==G.RTM_ERROR_OK)throw new ja(g,[y],B);return Q}))}))))}},{key:"requestUpdateChannelMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,Q=ra.updateChannelMetadata,y=this.getLoginSockets();if(y.length===0)throw y=V(G.RTM_ERROR_NOT_LOGIN),new cb(Q,[y.reason],y.code);if(!this.canMakeOperation("updateChannelMetadata"))throw y=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(Q,[y.reason],y.code);var _=l==null?void 0:l.majorRevision,S=this.incGetSeq(),w=JSON.stringify(Qg(de(s,5).map(function(P){return P.getRevision()===-1&&P.setRevision(-2),P}),l.majorRevision));Gg(Q,w);var O=Date.now();return y.forEach(function(P){P.sendPacket("StateModify",{sequence:S,target:C,requestUuid:"".concat(S,"_").concat(g.instanceId),lock:p??"",lockRev:T.fromNumber(B??0),value:w,baseRevision:T.fromNumber(0<=_?_:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572865|(0<=_?131072:0),0,!0):new T(1048577|(0<=_?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(y.map(function(P){return P.fromReceived("StateRequestResult").pipe(Zb(function(K){return S.eq(K.sequence)}),Rb(function(K){var M,U,F=ie(K.code);if(K=F.code,F=F.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((M=g.context.vid)!==null&&M!==void 0?M:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(O),replyts:T.fromNumber(Date.now()),target:C,eventtype:"Update",revision:T.fromNumber(l.majorRevision),uuid:"".concat(S,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524289,0,!0):new T(1,0,!0),code:K,seq:S,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:p??"",lockrev:T.fromNumber(B??0),subtarget:g.context.uid},(U=g.context.config.cloudProxy)!==null&&U!==void 0&&U,g.context.vid),K!==G.RTM_ERROR_OK)throw new ja(Q,[F],K)}))}))))}},{key:"requestDeleteChannelMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,Q=ra.removeChannelMetadata,y=this.getLoginSockets();if(y.length===0)throw y=V(G.RTM_ERROR_NOT_LOGIN),new cb(Q,[y.reason],y.code);if(!this.canMakeOperation("removeChannelMetadata"))throw y=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(Q,[y.reason],y.code);var _=l==null?void 0:l.majorRevision,S=this.incGetSeq(),w=JSON.stringify(Qg(de(s,5).map(function(P){return P.setValue(null),P}),l.majorRevision));Gg(Q,w);var O=Date.now();return y.forEach(function(P){P.sendPacket("StateModify",{sequence:S,target:C,requestUuid:"".concat(S,"_").concat(g.instanceId),lock:p??"",lockRev:T.fromNumber(B??0),value:w,baseRevision:T.fromNumber(0<=_?_:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572865|(0<=_?131072:0),0,!0):new T(1048577|(0<=_?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(y.map(function(P){return P.fromReceived("StateRequestResult").pipe(Zb(function(K){return S.eq(K.sequence)}),Rb(function(K){var M,U,F=ie(K.code);if(K=F.code,F=F.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((M=g.context.vid)!==null&&M!==void 0?M:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(O),replyts:T.fromNumber(Date.now()),target:C,eventtype:"Delete",revision:T.fromNumber(l.majorRevision),uuid:"".concat(S,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524289,0,!0):new T(1,0,!0),code:K,seq:S,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:p??"",lockrev:T.fromNumber(B??0),subtarget:g.context.uid},(U=g.context.config.cloudProxy)!==null&&U!==void 0&&U,g.context.vid),K!==G.RTM_ERROR_OK)throw new ja(Q,[F],K)}))}))))}},{key:"requestSetChannelMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=3<arguments.length?arguments[3]:void 0,B=4<arguments.length?arguments[4]:void 0,Q=ra.setChannelMetadata,y=this.getLoginSockets();if(y.length===0)throw y=V(G.RTM_ERROR_NOT_LOGIN),new cb(Q,[y.reason],y.code);if(!this.canMakeOperation("setChannelMetadata"))throw y=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(Q,[y.reason],y.code);var _=JSON.stringify(Qg(s,l.majorRevision));Gg(Q,_);var S=this.incGetSeq(),w=Date.now(),O=l==null?void 0:l.majorRevision;return y.forEach(function(P){P.sendPacket("StateModify",{sequence:S,target:C,requestUuid:"".concat(S,"_").concat(g.instanceId),value:_,lock:p??"",lockRev:T.fromNumber(B??0),baseRevision:T.fromNumber(0<=O?O:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572865|(0<=O?131072:0),0,!0):new T(1048577|(0<=O?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(y.map(function(P){return P.fromReceived("StateRequestResult").pipe(Zb(function(K){return S.eq(K.sequence)}),Rb(function(K){var M,U,F=ie(K.code);if(K=F.code,F=F.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((M=g.context.vid)!==null&&M!==void 0?M:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(w),replyts:T.fromNumber(Date.now()),target:C,eventtype:"Set",revision:T.fromNumber(l.majorRevision),uuid:"".concat(S,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524289,0,!0):new T(1,0,!0),code:K,seq:S,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:p??"",lockrev:T.fromNumber(B??0),subtarget:g.context.uid},(U=g.context.config.cloudProxy)!==null&&U!==void 0&&U,g.context.vid),K!==G.RTM_ERROR_OK)throw new ja(Q,[F],K)}))}))))}},{key:"requestClearChannelMetadata",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=1<arguments.length?arguments[1]:void 0,C=2<arguments.length?arguments[2]:void 0,p=3<arguments.length?arguments[3]:void 0,B=ra.removeChannelMetadata,Q=this.getLoginSockets();if(Q.length===0)throw Q=V(G.RTM_ERROR_NOT_LOGIN),new cb(B,[Q.reason],Q.code);if(!this.canMakeOperation("removeChannelMetadata"))throw Q=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(B,[Q.reason],Q.code);var y=g==null?void 0:g.majorRevision,_=this.incGetSeq(),S=Date.now();return Q.forEach(function(w){w.sendPacket("StateSet",{sequence:_,target:l,requestUuid:"".concat(_,"_").concat(s.instanceId),lock:C??"",lockRev:T.fromNumber(p??0),value:JSON.stringify({}),baseRevision:T.fromNumber(0<=y?y:0),author:g.enableRecordUserId?s.context.uid:"",flags:g.enableRecordTs?new T(1638401|(0<=y?131072:0),0,!0):new T(1114113|(0<=y?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(Q.map(function(w){return w.fromReceived("StateRequestResult").pipe(Zb(function(O){return _.eq(O.sequence)}),Rb(function(O){var P,K,M=ie(O.code);if(O=M.code,M=M.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:s.context.uid,vid:T.fromString((P=s.context.vid)!==null&&P!==void 0?P:"0"),sid:"",usersid:s.context.sid,requestts:T.fromNumber(S),replyts:T.fromNumber(Date.now()),target:l,eventtype:"Clear",revision:T.fromNumber(g.majorRevision),uuid:"".concat(_,"_").concat(s.instanceId),sdktype:3,flags:g.enableRecordTs?new T(589825,0,!0):new T(65537,0,!0),code:O,seq:_,index:{index1:s.context.uid,index2:s.context.appId,index3:"logUpload=".concat(s.context.config.logUpload)},lock:C??"",lockrev:T.fromNumber(p??0),subtarget:s.context.uid},(K=s.context.config.cloudProxy)!==null&&K!==void 0&&K,s.context.vid),O!==G.RTM_ERROR_OK)throw new ja(B,[M],O)}))}))))}},{key:"requestUpdateLocalMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=ra.updateUserMetadata,B=this.getLoginSockets();if(B.length===0)throw B=V(G.RTM_ERROR_NOT_LOGIN),new cb(p,[B.reason],B.code);if(!this.canMakeOperation("updateUserMetadata"))throw B=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(p,[B.reason],B.code);var Q=l==null?void 0:l.majorRevision,y=this.incGetSeq(),_=JSON.stringify(Qg(de(s,5).map(function(w){return w.getRevision()===-1&&w.setRevision(-2),w}),l.majorRevision));Gg(p,_);var S=Date.now();return B.forEach(function(w){w.sendPacket("StateModify",{sequence:y,target:C??g.context.uid,requestUuid:"".concat(y,"_").concat(g.instanceId),lock:"",lockRev:T.fromNumber(0),value:_,baseRevision:T.fromNumber(0<=Q?Q:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572864|(0<=Q?131072:0),0,!0):new T(1048576|(0<=Q?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(B.map(function(w){return w.fromReceived("StateRequestResult").pipe(Zb(function(O){return y.eq(O.sequence)}),Ga(function(O){var P,K,M=ie(O.code);if(O=M.code,M=M.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((P=g.context.vid)!==null&&P!==void 0?P:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(S),replyts:T.fromNumber(Date.now()),target:g.context.uid,eventtype:"Update",revision:T.fromNumber(l.majorRevision),uuid:"".concat(y,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524288,0,!0):T.fromNumber(0),code:O,seq:y,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:"",lockrev:T.fromNumber(0),subtarget:g.context.uid},(K=g.context.config.cloudProxy)!==null&&K!==void 0&&K,g.context.vid),O!==G.RTM_ERROR_OK)throw new ja(p,[M],O)}))}))))}},{key:"requestDeleteLocalMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=ra.removeUserMetadata,B=this.getLoginSockets();if(B.length===0)throw B=V(G.RTM_ERROR_NOT_LOGIN),new cb(p,[B.reason],B.code);if(!this.canMakeOperation("removeUserMetadata"))throw B=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(p,[B.reason],B.code);var Q=l==null?void 0:l.majorRevision,y=this.incGetSeq(),_=JSON.stringify(Qg(de(s,5).map(function(w){return w.setValue(null),w}),l.majorRevision));Gg(p,_);var S=Date.now();return B.forEach(function(w){w.sendPacket("StateModify",{sequence:y,target:C??g.context.uid,requestUuid:"".concat(y,"_").concat(g.instanceId),lock:"",lockRev:T.fromNumber(0),value:_,baseRevision:T.fromNumber(0<=Q?Q:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572864|(0<=Q?131072:0),0,!0):new T(1048576|(0<=Q?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(B.map(function(w){return w.fromReceived("StateRequestResult").pipe(Zb(function(O){return y.eq(O.sequence)}),Ga(function(O){var P,K,M=ie(O.code);if(O=M.code,M=M.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((P=g.context.vid)!==null&&P!==void 0?P:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(S),replyts:T.fromNumber(Date.now()),target:g.context.uid,eventtype:"Delete",revision:T.fromNumber(l.majorRevision),uuid:"".concat(y,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524288,0,!0):T.fromNumber(0),code:O,seq:y,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:"",lockrev:T.fromNumber(0),subtarget:g.context.uid},(K=g.context.config.cloudProxy)!==null&&K!==void 0&&K,g.context.vid),O!==G.RTM_ERROR_OK)throw new ja(p,[M],O)}))}))))}},{key:"requestSetLocalMetadata",value:function(s){var g=this,l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},C=2<arguments.length?arguments[2]:void 0,p=ra.setUserMetadata,B=this.getLoginSockets();if(B.length===0)throw B=V(G.RTM_ERROR_NOT_LOGIN),new cb(p,[B.reason],B.code);if(!this.canMakeOperation("setUserMetadata"))throw B=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(p,[B.reason],B.code);var Q=this.incGetSeq(),y=Date.now(),_=l==null?void 0:l.majorRevision,S=JSON.stringify(Qg(s,l.majorRevision));return Gg(p,S),B.forEach(function(w){w.sendPacket("StateModify",{sequence:Q,target:C??g.context.uid,requestUuid:"".concat(Q,"_").concat(g.instanceId),value:S,lock:"",lockRev:T.fromNumber(0),baseRevision:T.fromNumber(0<=_?_:0),author:l.enableRecordUserId?g.context.uid:"",flags:l.enableRecordTs?new T(1572864|(0<=_?131072:0),0,!0):new T(1048576|(0<=_?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(B.map(function(w){return w.fromReceived("StateRequestResult").pipe(Zb(function(O){return Q.eq(O.sequence)}),Ga(function(O){var P,K,M=ie(O.code);if(O=M.code,M=M.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:g.context.uid,vid:T.fromString((P=g.context.vid)!==null&&P!==void 0?P:"0"),sid:"",usersid:g.context.sid,requestts:T.fromNumber(y),replyts:T.fromNumber(Date.now()),target:g.context.uid,eventtype:"Set",revision:T.fromNumber(l.majorRevision),uuid:"".concat(Q,"_").concat(g.instanceId),sdktype:3,flags:l.enableRecordTs?new T(524288,0,!0):T.fromNumber(0),code:O,seq:Q,index:{index1:g.context.uid,index2:g.context.appId,index3:"logUpload=".concat(g.context.config.logUpload)},lock:"",lockrev:T.fromNumber(0),subtarget:g.context.uid},(K=g.context.config.cloudProxy)!==null&&K!==void 0&&K,g.context.vid),O!==G.RTM_ERROR_OK)throw new ja(p,[M],O)}))}))))}},{key:"requestClearLocalMetadata",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},l=1<arguments.length?arguments[1]:void 0,C=ra.removeUserMetadata,p=this.getLoginSockets();if(p.length===0)throw p=V(G.RTM_ERROR_NOT_LOGIN),new cb(C,[p.reason],p.code);if(!this.canMakeOperation("removeUserMetadata"))throw p=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(C,[p.reason],p.code);var B=g==null?void 0:g.majorRevision,Q=this.incGetSeq(),y=Date.now();return p.forEach(function(_){_.sendPacket("StateSet",{sequence:Q,target:l??s.context.uid,requestUuid:"".concat(Q,"_").concat(s.instanceId),lock:"",lockRev:T.fromNumber(0),value:JSON.stringify({}),baseRevision:T.fromNumber(0<=B?B:0),author:g.enableRecordUserId?s.context.uid:"",flags:g.enableRecordTs?new T(1638400|(0<=B?131072:0),0,!0):new T(1114112|(0<=B?131072:0),0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT)].concat(ta(p.map(function(_){return _.fromReceived("StateRequestResult").pipe(Zb(function(S){return Q.eq(S.sequence)}),Ga(function(S){var w,O,P=ie(S.code);if(S=P.code,P=P.reason,Hb("SyncOperateEvent",{lts:T.fromNumber(Date.now()),userid:s.context.uid,vid:T.fromString((w=s.context.vid)!==null&&w!==void 0?w:"0"),sid:"",usersid:s.context.sid,requestts:T.fromNumber(y),replyts:T.fromNumber(Date.now()),target:s.context.uid,eventtype:"Clear",revision:T.fromNumber(g==null?void 0:g.majorRevision),uuid:"".concat(Q,"_").concat(s.instanceId),sdktype:3,flags:g.enableRecordTs?new T(524288,0,!0):T.fromNumber(0),code:S,seq:Q,index:{index1:s.context.uid,index2:s.context.appId,index3:"logUpload=".concat(s.context.config.logUpload)},lock:"",lockrev:T.fromNumber(0),subtarget:s.context.uid},(O=s.context.config.cloudProxy)!==null&&O!==void 0&&O,s.context.vid),S!==G.RTM_ERROR_OK)throw new ja(C,[P],S)}))}))))}},{key:"requestSubscribeUserMetadata",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U=this;return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(p=ra.subscribeUserMetadata,this.getLoginSockets().length!==0){F.next=5;break}throw B=V(G.RTM_ERROR_NOT_LOGIN),Q=B.code,y=B.reason,new cb(p,[y],Q);case 5:if(_=he(this,"unSubUserMetadata").pipe(cc(function(W){return l===W}),qb(1)),this.canMakeOperation("subscribeUserMetadata")){F.next=9;break}throw S=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),w=S.code,O=S.reason,new md(p,[O],w);case 9:return P=this.incGetSeq(),K=Date.now(),(M=this.lastLoginSockets.map(function(W){return W.pipe(ic(function(ae,_r){_r!==0&&U.incSeqIfNeeded(ae.env);var _t=_r===0?P:U.seq;return ae.sendPacket("StateSubscribe",{sequence:_t,target:l,subTarget:"",flags:T.fromNumber(0)}),ae.fromReceived("StateSubscribeResult").pipe(Zb(function(_A){return _t.eq(_A.sequence)}),Ga(function(_A){var na,oa,ha=Em(_A.code);if(_A=ha.code,ha=ha.reason,_A!==G.RTM_ERROR_OK)throw new ja(p,[ha],_A);Hb("SyncSubscribeEvent",{lts:T.fromNumber(Date.now()),userid:U.context.uid,vid:T.fromString((na=U.context.vid)!==null&&na!==void 0?na:"0"),sid:"",usersid:U.context.sid,target:l,requestts:T.fromNumber(K),replyts:T.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:T.fromNumber(0),code:0,seq:P,index:{index1:U.context.uid,index2:U.context.appId,index3:"logUpload=".concat(U.context.config.logUpload)},subtarget:U.context.uid},(oa=U.context.config.cloudProxy)!==null&&oa!==void 0&&oa,U.context.vid)}))}),Mc(_),Kd())})).forEach(function(W,ae){var _r=function(){return U.loginSocketSubs[ae].userMetadataSubs.delete(l)};U.loginSocketSubs[ae].userMetadataSubs.set(l,W.subscribe({error:_r,complete:_r}))}),F.next=15,oc.apply(void 0,ta(M)).pipe(qb(1),Nc(1e4),kb(function(W){return W instanceof tc&&U.warn("subscribe user metadata timeout"),Na(W)})).toPromise();case 15:case"end":return F.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"requestUnsubscribeUserMetadata",value:function(s){var g,l=ra.unsubscribeUserMetadata,C=this.getLoginSockets();if(C.length===0){var p=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(l,[p.reason],p.code)}if(!this.canMakeOperation("unsubscribeUserMetadata"))throw p=V(G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION),new md(l,[p.reason],p.code);this.emit("unSubUserMetadata",s);var B=this.incGetSeq();l=Date.now(),C.forEach(function(Q){Q.sendPacket("StateUnsubscribe",{sequence:B,target:s,subTarget:"",flags:T.fromNumber(0)})}),this.userMetaEventInfos.delete(s),Hb("SyncSubscribeEvent",{lts:T.fromNumber(Date.now()),userid:this.context.uid,vid:T.fromString((p=this.context.vid)!==null&&p!==void 0?p:"0"),sid:"",usersid:this.context.sid,target:s,requestts:T.fromNumber(l),replyts:T.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:T.fromNumber(0),code:0,seq:B,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid},(g=this.context.config.cloudProxy)!==null&&g!==void 0&&g,this.context.vid)}},{key:"requestUnsubscribeChannelMetadata",value:function(s){var g,l,C=this.getLoginSockets();if(C.length!==0){var p=this.incGetSeq();C.forEach(function(B){B.sendPacket("StateUnsubscribe",{sequence:p,target:s,subTarget:"",flags:new T(1,0,!0)})}),this.channelMetaEventInfos.delete(s),Hb("SyncSubscribeEvent",{lts:T.fromNumber(Date.now()),userid:this.context.uid,vid:T.fromString((g=this.context.vid)!==null&&g!==void 0?g:"0"),sid:"",usersid:this.context.sid,target:s,requestts:T.fromNumber(Date.now()),replyts:T.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:new T(1,0,!0),code:0,seq:p,index:{index1:this.context.uid,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},subtarget:this.context.uid},(l=this.context.config.cloudProxy)!==null&&l!==void 0&&l,this.context.vid)}}},{key:"requestSubscribeChannelMetadata",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P=this;return Z.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(p=ra.subscribe,this.getLoginSockets().length!==0){K.next=5;break}throw B=V(G.RTM_ERROR_NOT_LOGIN),Q=B.code,y=B.reason,new cb(p,[y],Q);case 5:return _=he(this,"unSubChannelMetadata").pipe(cc(function(M){return l===M}),qb(1)),S=this.incGetSeq(),w=Date.now(),(O=this.lastLoginSockets.map(function(M){return M.pipe(ic(function(U,F){F!==0&&P.incSeqIfNeeded(U.env);var W=F===0?S:P.seq;return U.sendPacket("StateSubscribe",{sequence:W,target:l,subTarget:"",flags:new T(1,0,!0)}),U.fromReceived("StateSubscribeResult").pipe(Zb(function(ae){return W.eq(ae.sequence)}),Ga(function(ae){var _r,_t,_A=Em(ae=ae.code),na=_A.code;_A.reason,Hb("SyncSubscribeEvent",{lts:T.fromNumber(Date.now()),userid:P.context.uid,vid:T.fromString((_r=P.context.vid)!==null&&_r!==void 0?_r:"0"),sid:"",usersid:P.context.sid,target:l,requestts:T.fromNumber(w),replyts:T.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:T.fromNumber(0),code:na,seq:S,index:{index1:P.context.uid,index2:P.context.appId,index3:"logUpload=".concat(P.context.config.logUpload)},subtarget:P.context.uid},(_t=P.context.config.cloudProxy)!==null&&_t!==void 0&&_t,P.context.vid),na!==G.RTM_ERROR_OK&&(P.updateChannelOptionsCache2False(l,"withMetadata"),P.warn("Subscribe channel metadata failure. The response code from the RTM service is ".concat(ae)))}))}),Mc(_),Kd())})).forEach(function(M,U){var F=function(){return P.loginSocketSubs[U].metadataSubs.delete(l)};P.loginSocketSubs[U].metadataSubs.set(l,M.subscribe({error:F,complete:F}))}),K.next=13,oc.apply(void 0,ta(O)).pipe(qb(1),Nc(1e4),kb(function(M){return M instanceof tc&&P.warn("subscribe channel metadata timeout"),Na(M)})).toPromise();case 13:case"end":return K.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"requestUnsubscribeLock",value:function(s){var g=this.getLoginSockets();if(g.length!==0){var l=this.incGetSeq();g.forEach(function(C){C.sendPacket("StateLockUnsubscribe",{sequence:l,target:s,flags:new T(1048577,0,!0)})})}}},{key:"requestSubscribeLock",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w=this;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(C=ra.subscribe,this.getLoginSockets().length!==0){O.next=5;break}throw p=V(G.RTM_ERROR_NOT_LOGIN),B=p.code,Q=p.reason,new cb(C,[Q],B);case 5:return y=he(this,"unSubChannelLock").pipe(cc(function(P){return l===P}),qb(1),Ga(function(P){w.lockSnapshotLastTime.delete(P)})),_=this.incGetSeq(),(S=this.lastLoginSockets.map(function(P){return P.pipe(ic(function(K,M){M!==0&&w.incSeqIfNeeded(K.env);var U=M===0?_:w.seq;return K.sendPacket("StateLockSubscribe",{sequence:U,target:l,flags:new T(1048577,0,!0)}),K.fromReceived("StateLockSubscribeResult").pipe(Zb(function(F){return U.eq(F.sequence)}),Ga(function(F){var W=Em(F=F.code),ae=W.code;W.reason,ae!==G.RTM_ERROR_OK&&(w.updateChannelOptionsCache2False(l,"withLock"),w.warn("Subscribe lock failure. The response code from the RTM service is ".concat(F)))}))}),Mc(y),Kd())})).forEach(function(P,K){var M=function(){return w.loginSocketSubs[K].lockSubs.delete(l)};w.loginSocketSubs[K].lockSubs.set(l,P.subscribe({error:M,complete:M}))}),O.next=13,oc.apply(void 0,ta(S)).pipe(qb(1),Nc(1e4),kb(function(P){return P instanceof tc&&w.warn("subscribe channel lock timeout"),Na(P)})).toPromise();case 13:case"end":return O.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"requestSetLock",value:function(s,g,l){var C=this,p=ra.setLock,B=this.getLoginSockets();if(B.length===0)throw B=V(G.RTM_ERROR_NOT_LOGIN),new cb(p,[B.reason],B.code);var Q=this.incGetSeq();return B.forEach(function(y){var _;y.sendPacket("StateLockCreate",{target:s,requestUuid:"".concat(Q,"_").concat(C.instanceId),lock:g,ttl:T.fromNumber((_=l==null?void 0:l.ttl)!==null&&_!==void 0?_:10),flags:new T(1048577,0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(B.map(function(y){return y.fromReceived("StateLockCreateResult").pipe(Zb(function(_){return _=_.requestUuid,"".concat(Q,"_").concat(C.instanceId)===_}),Rb(function(_){var S=xe(_.code);if(_=S.code,S=S.reason,_!==G.RTM_ERROR_OK)throw new ja(p,[S],_)}))}))))}},{key:"requestRemoveLock",value:function(s,g){var l=this,C=ra.removeLock,p=this.getLoginSockets();if(p.length===0)throw p=V(G.RTM_ERROR_NOT_LOGIN),new cb(C,[p.reason],p.code);var B=this.incGetSeq();return p.forEach(function(Q){Q.sendPacket("StateLockDelete",{target:s,lock:g,requestUuid:"".concat(B,"_").concat(l.instanceId),flags:new T(1048577,0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(p.map(function(Q){return Q.fromReceived("StateLockDeleteResult").pipe(Zb(function(y){return y=y.requestUuid,"".concat(B,"_").concat(l.instanceId)===y}),Rb(function(y){var _=xe(y.code);if(y=_.code,_=_.reason,y!==G.RTM_ERROR_OK)throw new ja(C,[_],y)}))}))))}},{key:"requestAcquireLock",value:function(s,g,l){var C,p=this,B=ra.acquireLock,Q=this.getLoginSockets();if(Q.length===0)throw Q=V(G.RTM_ERROR_NOT_LOGIN),new cb(B,[Q.reason],Q.code);var y=Lf(g),_=(C=this.locksWithRetryNoRes.get("".concat(s).concat(y)))!==null&&C!==void 0?C:{};C=_.reqSeq;var S=_.resolve;_=_.reject;var w=S??(l==null?void 0:l.resolve),O=_??(l==null?void 0:l.reject),P=C??this.incGetSeq();return Q.forEach(function(K){K.sendPacket("StateLockAcquire",{target:s,requestUuid:"".concat(P,"_").concat(p.instanceId),lock:g,ttl:new T(0,0,!0),flags:l!=null&&l.retry?new T(1310721,0,!0):new T(1048577,0,!0)})}),w&&O&&this.locksWithRetryNoRes.set("".concat(s).concat(y),{reqSeq:P,resolve:w,reject:O}),l!=null&&l.retry?gc.apply(void 0,ta(Q.map(function(K){return K.fromReceived("StateLockAcquireResult").pipe(Zb(function(M){return M=M.requestUuid,"".concat(P,"_").concat(p.instanceId)===M}),Ga(function(M){var U=M.lock,F=M.code;M=M.target,p.log("acquire lock with lock(".concat(g,"), channel: ").concat(Ca(s),", retry: ",!0,", serverCode is ").concat(F));var W=(F=xe(F)).code;F.reason,W!==G.RTM_ERROR_OK||U===g&&M===s||(p.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",Ca(s),Ca(U),Ca(p.context.uid||"")),p.requestReleaseLock(M,U).toPromise())}),Rb(function(M){var U=M.code,F=M.target,W=M.lock,ae=M.lockRev;M=M.reason;var _r=xe(U),_t=_r.code;if(_r=_r.reason,_t!==G.RTM_ERROR_OK)throw U=new ja(B,[_r],_t),O&&O(U),U;return _t=(_r=$c(F)).channelName,_r=_r.channelType,w&&w({lockName:W,channelName:_t,channelType:_r,timeToken:0}),p.emit("acquireSuccess",{prefixChannelName:s,lockName:g,revision:ae.toNumber()}),{target:F,lock:W,lockRev:ae,reason:M,code:U}}))}))).pipe(xf(function(){p.locksWithRetryNoRes.delete("".concat(s).concat(y))})):gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(Q.map(function(K){return K.fromReceived("StateLockAcquireResult").pipe(Zb(function(M){return M=M.requestUuid,"".concat(P,"_").concat(p.instanceId)===M}),Ga(function(M){var U=M.lock,F=M.code;M=M.target,p.log("acquire lock with lock(".concat(g,"), channel: ").concat(Ca(s),", retry: ",!1,", serverCode is ").concat(F));var W=(F=xe(F)).code;F.reason,W!==G.RTM_ERROR_OK||U===g&&M===s||(p.log("RTM service Error: acquired unexpected lock on channel '%s', lock '%s', member '%s'",Ca(s),Ca(U),Ca(p.context.uid||"")),p.requestReleaseLock(M,U).toPromise())}),Rb(function(M){var U=M.code,F=M.target,W=M.lock,ae=M.lockRev;M=M.reason;var _r=xe(U),_t=_r.code;if(_r=_r.reason,_t!==G.RTM_ERROR_OK)throw U=new ja(B,[_r],_t),O&&O(U),U;return _t=(_r=$c(F)).channelName,_r=_r.channelType,w&&w({channelName:_t,channelType:_r,lockName:W,timeToken:0}),p.emit("acquireSuccess",{prefixChannelName:s,lockName:g,revision:ae.toNumber()}),{target:F,lock:W,lockRev:ae,reason:M,code:U}}))})))).pipe(xf(function(){p.locksWithRetryNoRes.delete("".concat(s).concat(y))}))}},{key:"requestReleaseLock",value:function(s,g){var l=this,C=ra.releaseLock,p=this.getLoginSockets();if(p.length===0)throw p=V(G.RTM_ERROR_NOT_LOGIN),new cb(C,[p.reason],p.code);var B=this.incGetSeq();return p.forEach(function(Q){Q.sendPacket("StateLockRelease",{target:s,requestUuid:"".concat(B,"_").concat(l.instanceId),lock:g,flags:new T(1048577,0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(p.map(function(Q){return Q.fromReceived("StateLockReleaseResult").pipe(Zb(function(y){return y=y.requestUuid,"".concat(B,"_").concat(l.instanceId)===y}),Rb(function(y){var _=xe(y.code);if(y=_.code,_=_.reason,y!==G.RTM_ERROR_OK)throw new ja(C,[_],y);l.emit("releaseSuccess",{channelName:s,lockName:g})}))}))))}},{key:"requestDisableLock",value:function(s,g,l){var C=this,p=ra.revokeLock,B=this.getLoginSockets();if(B.length===0)throw B=V(G.RTM_ERROR_NOT_LOGIN),new cb(p,[B.reason],B.code);var Q=this.incGetSeq();return B.forEach(function(y){y.sendPacket("StateLockDisable",{target:s,requestUuid:"".concat(Q,"_").concat(C.instanceId),lock:g,userId:l,flags:new T(1048577,0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(B.map(function(y){return y.fromReceived("StateLockDisableResult").pipe(Zb(function(_){return _=_.requestUuid,"".concat(Q,"_").concat(C.instanceId)===_}),Rb(function(_){var S=xe(_.code);if(_=S.code,S=S.reason,_!==G.RTM_ERROR_OK)throw new ja(p,[S],_)}))}))))}},{key:"requestGetLock",value:function(s){var g=ra.getLock,l=this.getLoginSockets();if(l.length===0)throw l=V(G.RTM_ERROR_NOT_LOGIN),new cb(g,[l.reason],l.code);var C=this.incGetSeq();return l.forEach(function(p){p.sendPacket("StateLockList",{target:s,sequence:C,flags:new T(1048577,0,!0)})}),gc.apply(void 0,[e.genTimeoutError(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT)].concat(ta(l.map(function(p){return p.fromReceived("StateLockListResult").pipe(Zb(function(B){return C.eq(B.sequence)}),Rb(function(B){var Q=B.lockStates,y=xe(B.code);if(B=y.code,y=y.reason,B!==G.RTM_ERROR_OK)throw new ja(g,[y],B);return Q}))}))))}},{key:"sendRawMessage",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka=this,_u=arguments;return Z.wrap(function(Uc){for(;;)switch(Uc.prev=Uc.next){case 0:if(B=3<_u.length&&_u[3]!==void 0&&_u[3],Q=4<_u.length?_u[4]:void 0,y=5<_u.length?_u[5]:void 0,_=ra.publish,S=Date.now(),w=B?Cb.P2pRMsgNoOfflineFlag:Cb.ChannelRMsg,Fb(p)&&l instanceof Uint8Array&&typeof C=="string"){Uc.next=9;break}throw O=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),P=O.code,K=O.reason,new Ja(_,[K],P);case 9:if(!(32768<l.byteLength+new Blob([C]).size+new Blob([y??""]).size)){Uc.next=14;break}throw this.emit("messageCount",{messageCategory:w,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:w,type:"common",key:"invalidmessagecount"}),M=V(G.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),U=M.code,F=M.reason,new Zc(_,[F],U);case 14:if(W=this.initEncryption,ae=l,!W){Uc.next=25;break}Uc.prev=17,ae=Vl(l,this.key,this.iv,this.keyLength),Uc.next=25;break;case 21:throw Uc.prev=21,Uc.t0=Uc.catch(17),_r=V(G.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),_t=_r.code,_A=_r.reason,new ja(_,[_A],_t);case 25:return na=!Ma("DISABLE_MESSAGE_COMPRESSION")&&128<=ae.byteLength,oa=this.chatManager.getChatInfo(B?"*p*"+p:p),ha=oa.dialogue,fa=oa.sequence,Da=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(Da,"-").concat(ha,"#").concat(fa,'"'),na?" compressed":"",B?"peer":"channel",Ca(p)),ga=function(_E){return{MiscMap:lb({description:new TextEncoder().encode(C)},y?{customType:new TextEncoder().encode(y)}:{}),sequence:fa,dialogue:ha,instance:Da,dst:p,ms:T.fromNumber(Date.now(),!0),options:new bj({IterationNumber:_E,CompressionMethod:na?"Zlib":"Uncompressed",MessageType:B?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1,enableEncryption:W,encrytionComplement:ae.byteLength-l.byteLength}).toLong(),payload:na?sy(ae):ae,src:Ka.context.uid}},Uc.next=32,tp(this.sendMessageToRetry(ga,!0)).pipe(Nc(Q===void 0?1e4:Q),kb(function(_E){return _E instanceof tc&&(Ka.emit("messageCount",{messageCategory:w,type:"common",key:"sentcount"}),Ka.emit("messageCount",{messageCategory:w,type:"common",key:"timeoutcount"}),Ka.warn("Send message timeout")),Na(_E)})).toPromise();case 32:return ma=Uc.sent,Ra=ma.code,$a=Ra===0,this.emit("messageCount",{messageCategory:w,type:"common",key:"sentcount"}),$a&&(this.emit("messageCount",{messageCategory:w,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:w,type:B?"peer":"recipient",delay:Ub(S).toNumber()})),Ra!==0&&this.throwPeerMsgFailed(_,Ra),Uc.abrupt("return",{hasPeerReceived:$a});case 39:case"end":return Uc.stop()}},g,this,[[17,21]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"throwPeerMsgFailed",value:function(s,g){throw g=V(g===1?G.RTM_ERROR_CHANNEL_RECEIVER_OFFLINE:G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),new ja(s,[g.reason],g.code)}},{key:"sendTextMessage",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a=this,Ka=arguments;return Z.wrap(function(_u){for(;;)switch(_u.prev=_u.next){case 0:if(p=2<Ka.length&&Ka[2]!==void 0&&Ka[2],B=3<Ka.length?Ka[3]:void 0,Q=4<Ka.length?Ka[4]:void 0,y=ra.publish,_=Date.now(),S=p?Cb.P2pSMsgNoOfflineFlag:Cb.ChannelSMsg,Fb(C)){_u.next=9;break}throw w=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),O=w.code,P=w.reason,new Ja(y,[P],O);case 9:if(!(32768<new Blob([l]).size+new Blob([Q??""]).size)){_u.next=14;break}throw this.emit("messageCount",{messageCategory:S,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:S,type:"common",key:"invalidmessagecount"}),K=V(G.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),M=K.code,U=K.reason,new Zc(y,[U],M);case 14:if(F=this.initEncryption,W=new TextEncoder().encode(l),!F){_u.next=25;break}_u.prev=17,W=Vl(l,this.key,this.iv,this.keyLength),_u.next=25;break;case 21:throw _u.prev=21,_u.t0=_u.catch(17),ae=V(G.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),_r=ae.code,_t=ae.reason,new ja(y,[_t],_r);case 25:return _A=!Ma("DISABLE_MESSAGE_COMPRESSION")&&128<=(F?new Blob([new TextDecoder().decode(W)]).size:new Blob([l]).size),na=this.chatManager.getChatInfo(p?"*p*"+C:C),oa=na.dialogue,ha=na.sequence,fa=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(fa,"-").concat(oa,"#").concat(ha,'"'),_A?" compressed":"",p?"peer":"channel",Ca(C)),Da=function(Uc){return{MiscMap:lb({},Q?{customType:new TextEncoder().encode(Q)}:{}),sequence:ha,dialogue:oa,instance:fa,dst:C,ms:T.fromNumber(Date.now(),!0),options:new bj({IterationNumber:Uc,CompressionMethod:_A?"Zlib":"Uncompressed",MessageType:p?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1,enableEncryption:F,encrytionComplement:W.byteLength-new TextEncoder().encode(l).byteLength}).toLong(),payload:_A?sy(W):W,src:$a.context.uid}},_u.next=32,tp(this.sendMessageToRetry(Da,!0)).pipe(Nc(B===void 0?1e4:B),kb(function(Uc){return Uc instanceof tc&&($a.emit("messageCount",{messageCategory:S,type:"common",key:"sentcount"}),$a.emit("messageCount",{messageCategory:S,type:"common",key:"timeoutcount"}),$a.warn("Send message timeout")),Na(Uc)})).toPromise();case 32:return ga=_u.sent,ma=ga.code,Ra=ma===0,this.emit("messageCount",{messageCategory:S,type:"common",key:"sentcount"}),Ra&&(this.emit("messageCount",{messageCategory:S,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:S,type:p?"peer":"recipient",delay:Ub(_).toNumber()})),ma!==0&&this.throwPeerMsgFailed(y,ma),_u.abrupt("return",{hasPeerReceived:Ra});case 39:case"end":return _u.stop()}},g,this,[[17,21]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(s,g){Object.entries(this.loginSocketSubs[s]).forEach(function(l){var C=(l=vc(l,2))[1];l[0]==="channels"&&g||(Array.isArray(C)||C instanceof Map?C.forEach(function(p){return p.unsubscribe()}):C&&C.unsubscribe())}),this.loginSocketSubs[s]={channels:g?this.loginSocketSubs[s].channels:new Map,lockSubs:g?this.loginSocketSubs[s].lockSubs:new Map,userMetadataSubs:g?this.loginSocketSubs[s].userMetadataSubs:new Map,metadataSubs:g?this.loginSocketSubs[s].metadataSubs:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F=this,W=arguments;return Z.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(p=2<W.length&&W[2]!==void 0?W[2]:0,this.log("Attempt to send the message ".concat(C?" with retrying, %o":"without retrying"),{retryTimes:p}),(B=this.getLoginSockets()).length!==0){ae.next=6;break}throw Q=V(G.RTM_ERROR_NOT_LOGIN),y=Q.code,_=Q.reason,new cb(ra.publish,[_],y);case 6:return S=l(p),B.forEach(function(_r){_r.sendPacket("Message",S)}),w=S.dialogue,O=S.sequence,P=S.instance,K=B.map(function(_r){return _r.fromReceived("Ack").pipe(cc(function(_t){return w.eq(_t.dialogue)&&O.eq(_t.sequence)&&P.eq(_t.instance)}))}),ae.prev=10,ae.next=13,oc.apply(void 0,ta(K)).pipe(Nc(6e3),kb(function(_r){return Ib(_r)&&F.warn("Message send timeout, retry times %d",p),Na(_r)}),qb(1)).toPromise();case 13:return M=ae.sent,U=M.code,this.log("The message has been acked, %o",{code:U}),ae.abrupt("return",{code:U,retryTimes:p});case 19:if(ae.prev=19,ae.t0=ae.catch(10),!(ae.t0 instanceof tc&&C)){ae.next=23;break}return ae.abrupt("return",this.sendMessageToRetry(l,!1,p+1));case 23:throw ae.t0;case 24:case"end":return ae.stop()}},g,this,[[10,19]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var s=this;this.lastLoginSockets.map(function(g){return g.pipe(ic(function(l){return jd(0,2500,Of()?void 0:new np(qy)).pipe(Ga(function(){s.sendPing(l)}))}))}).forEach(function(g,l){var C=s.loginSocketSubs[l].keepAlive;C!==void 0&&C.unsubscribe(),s.loginSocketSubs[l].keepAlive=g.subscribe({error:function(){}})})}},{key:"initKeepAliveReconnector",value:function(){var s=this;this.lastLoginSockets.map(function(g){return g.pipe(ic(function(l){var C,p=!1,B=l.userJoin$.pipe(Ga(function(){p=!0})),Q=l.input$.pipe(Ga(function(_){xm[_.uri].slice(0,-3)!=="Ping2"&&(p=!1)})),y=jd(6e3,1e4).pipe(BJ(l.receivedPacket),Ga(function(_){_=vc(_,2),_=vc(_[1],2)[1],C!==_||p||(s.warn("ENV_".concat(l.env,"(").concat(l.name,"): registrar forceReconnect, the last received packet is the same as it was ").concat(1e4,"s ago ")),l.forceReconnect()),C=_}));return oc(y,B,Q)}))}).forEach(function(g,l){var C=s.loginSocketSubs[l].keepAliveReconnector;C!==void 0&&C.unsubscribe(),s.loginSocketSubs[l].keepAliveReconnector=g.subscribe({error:function(){}})})}},{key:"initLoginReceiver",value:function(){var s=this;gc.apply(void 0,ta(this.lastLoginSockets.map(function(C){return C.pipe(ic(function(p){return p.fromReceived("UserTicketNearlyExpire").pipe(UJ(5e3),Ga(s.onUserTicketNearlyExpire(p)))}))}))).subscribe();var g=he(this,"messageCount"),l=g.pipe(cc(function(C){return C.messageCategory===Cb.ChannelSMsg}));l.subscribe(function(C){return s.updateMessageCount(C)}),l.pipe($k(6e3)).subscribe(function(C){C.length&&s.chanelStringMessageReport.report()}),oc(Jb(void 0),l).pipe(ic(function(){return Zk(36e5)})).subscribe(function(){s.chanelStringMessageReport.report()}),(l=g.pipe(cc(function(C){return C.messageCategory===Cb.ChannelRMsg}))).subscribe(function(C){return s.updateMessageCount(C)}),l.pipe($k(6e3)).subscribe(function(C){C.length&&s.chanelRawMessageReport.report()}),oc(Jb(void 0),l).pipe(ic(function(){return Zk(36e5)})).subscribe(function(){s.chanelRawMessageReport.report()}),(l=g.pipe(cc(function(C){return C.messageCategory===Cb.P2pSMsgNoOfflineFlag}))).subscribe(function(C){return s.updateMessageCount(C)}),l.pipe($k(6e3)).subscribe(function(C){C.length&&s.p2pSMsgNoOfflineReport.report()}),oc(Jb(void 0),l).pipe(ic(function(){return Zk(36e5)})).subscribe(function(){s.p2pSMsgNoOfflineReport.report()}),(g=g.pipe(cc(function(C){return C.messageCategory===Cb.P2pRMsgNoOfflineFlag}))).subscribe(function(C){return s.updateMessageCount(C)}),g.pipe($k(6e3)).subscribe(function(C){C.length&&s.p2pRMsgNoOfflineReport.report()}),oc(Jb(void 0),g).pipe(ic(function(){return Zk(36e5)})).subscribe(function(){s.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(function(C){return C.pipe(ic(function(p){return oc(he(p,"reconnect").pipe(Ga(s.onSocketReconnect(p))),p.fromReceived("Message").pipe(Ga(s.onMessage(p))),p.fromReceived("StateLockSubscribeEvent").pipe(Ga(s.onLockEvent())),p.fromReceived("StateUpdate").pipe(Ga(s.onStateUpdate())),p.fromReceived("GroupEnterNotice").pipe(Ga(s.onGroupEnterNotice())),p.fromReceived("GroupLeaveNotice").pipe(Ga(s.onGroupLeaveNotice())),p.fromReceived("GroupCountNotice").pipe(Ga(s.onGroupCountNotice())),p.fromReceived("Pong").pipe(Ga(s.onPong())),p.fromReceived("UserDrop").pipe(Ga(s.onUserDrop(p))),p.fromReceived("GroupDrop").pipe(Ga(s.onGroupDrop())),p.fromReceived("StateLockUpdate").pipe(Ga(s.onLockUpdate()))).pipe(Oe(void 0))}))}).forEach(function(C,p){s.loginSocketSubs[p].receivers.push(C.subscribe({error:function(){}}))})}},{key:"handleConfig",value:function(s){if(Ia(s["presence.interval"])!==void 0&&Yl(s["presence.interval"])){var g=Number(s["presence.interval"]);300<g?s["presence.interval"]="300":10>g&&(s["presence.interval"]="10")}else s["presence.interval"]=String(Ma("PRESENCE_INTERVAL"));Ia(s["presence.debounce"])!==void 0&&Yl(s["presence.debounce"])?128<(g=Number(s["presence.debounce"]))?s["presence.debounce"]="128":8>g&&(s["presence.debounce"]="8"):s["presence.debounce"]=String(Ma("PRESENCE_THRESHOLD"))}},{key:"requestSocketLogin",value:function(s,g,l){var C=this,p=Ma("USE_NEW_LOGIN_PROTO"),B=vf(function(){C.userJoinOptions=new hl(g),s.sendPacket(p?"UserJoin2":"UserJoin",{account:C.context.uid,instance:C.instanceId,opt:C.userJoinOptions.toLong(),seq:l,ticket:s.ticket,detail:{1:new Uint8Array}})}),Q=s.fromReceived(p?"UserResp2":"UserResp").pipe(Zb(function(y){return l.eq(y.seq)}),Ga(function(y){if(y.code!==0){var _;C.clearSockets(),y=(_={10021:"NOT_ACQUIRED_CONFIG",10022:"NOT_ENABLE_RTM"}[y==null?void 0:y.code])!==null&&_!==void 0?_:String(y.code),C.logError("Connected to gateway success but the Rtm server rejected login, detail is %s",y);var S=(_=V(G.RTM_ERROR_LOGIN_REJECTED)).code;throw new ja(C.loginOperation,[_.reason+"detail: userResp error, ".concat(y)],S)}_=TM,p&&(y=y.detail[1],_=JSON.parse(new TextDecoder().decode(y))),C.handleConfig(_),C.log("user console config: %o",_),C.emit("appConfig",_),s.attemptsSinceLastError=0,s.loggedIn=!0,C.log("ENV_%d logged in",s.env)}),Oe(s),Nc(6e3));return ox(B,Q).pipe(cc(function(y){return y!==void 0}),kb(function(y){return y instanceof tc?(C.warn("ENV_%d(%s): Login response timeout, rejoin: %s",s.env,s.name,g),y.name="loginRespTimeout",setTimeout(function(){s.emit("connectionFailure"),s.close()},3e3),Jb(s).pipe(Ne(6e3))):(C.emit("banEdgeIP",s.ip),Na(y))}))}},{key:"getSocketLoginObservables",value:function(s,g){var l=this;return s.map(function(C){return C.pipe(ic(function(p,B){return l.incSeqIfNeeded(p.env),l.requestSocketLogin(p,B!==0,B===0?g:l.seq)}),Kd())})}},{key:"incSeqIfNeeded",value:function(s){if(![0,1].includes(s))throw new Yj({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[s]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[s]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){return jv(this.curLoginSockets)}},{key:"emitMessage",value:function(s,g){var l,C,p=s.options,B=s.payload,Q=s.src,y=s.dst,_=s.instance,S=s.dialogue,w=s.sequence,O=s.ms,P=s.MiscMap;P=P===void 0?{}:P,this.dialogueSequenceLru.set(S.toString(),w),_="".concat(_,"-").concat(S,"#").concat(w),this.msgDedupLru.has(_)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",g,_):(this.msgDedupLru.set(_,void 0),w=new bj(p),this.lastLoginSockets.forEach((C=wa(Z.mark(function K(M){var U;return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,M.pipe(qb(1)).toPromise();case 2:U=F.sent,e.sendMessageAck(s,U);case 4:case"end":return F.stop()}},K)})),function(K){return C.apply(this,arguments)})),g=w.isZlibCompressed(),p=w.isEncryption(),S=(l=w.getEncrytionComplement())!==null&&l!==void 0?l:0,l=(l=P.customType)===void 0?new Uint8Array:l,l=new TextDecoder().decode(l),p&&!this.key?this.warn("Received a message with encryption but the key is not ready yet, %s",_):!p&&this.key?this.warn("Received a message without encryption but the key is ready, %s",_):w.isTextMessage()?(P=w.isPeerTextMessage(),S=(B=g?ry(kz(B,Uint8Array.of(0,0,0,0))):B).byteLength-T.fromValue(S).toNumber(),B=new TextDecoder().decode(p?pj(B,this.key,this.iv,this.keyLength).slice(0,S):B),this.info("Received a %s %s text message from %s to %s, %s",g?" compressed":"",P?"peer":"channel",Ca(Q),Ca(y),_),P?this.emit("messageCount",{messageCategory:Cb.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:Cb.ChannelSMsg,type:"common",key:"receivedcount"}),this.emit("channelTextMessage",{channelId:y,memberId:Q,text:B,properties:{serverReceivedTs:O.toNumber()},customType:l,channelType:P?"USER":"MESSAGE"})):w.isRawMessage()&&(w=w.isRawPeerMessage(),P=(P=P.description)===void 0?"":jz(P),S=(B=g?ry(B):B).byteLength-T.fromValue(S).toNumber(),B=p?pj(B,this.key,this.iv,this.keyLength).slice(0,S):B,this.info("Received a %s %s raw message from %s to %s, %s",g?" compressed":"",w?"peer":"channel",Ca(Q),Ca(y),_),w?this.emit("messageCount",{messageCategory:Cb.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"}):this.emit("messageCount",{messageCategory:Cb.ChannelRMsg,type:"common",key:"receivedcount"}),this.emit("channelRawMessage",{desc:P,raw:B,channelId:y,memberId:Q,properties:{serverReceivedTs:O.toNumber()},customType:l,channelType:w?"USER":"MESSAGE"})))}},{key:"onSocketReconnect",value:function(s){var g=this;return function(){var l=[0,1].filter(function(C){return C!==s.env})[0];l=g.connection.curOpenSockets[l],g.log("ENV_".concat(s.env,"(").concat(s.name,"): received a reconnect event from ").concat(s.address,", otherSocketState: ").concat(l==null?void 0:l.loggedIn)),l&&!l.loggedIn&&(g.log("ENV_".concat(s.env,"(").concat(s.name,"): will emit connectionLost")),g.emit("connectionLost"))}}},{key:"onUserTicketNearlyExpire",value:function(s){var g=this;return function(l){(l=l.ticket)!==g.lastNoticeTicket&&l===s.ticket?(g.lastNoticeTicket=l,g.emit("tokenPrivilegeWillExpire")):g.requestUpdateEdgeTicket(s.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var s=this;return function(g){var l,C=g.account;Hb("ChnLeave",{cname:C,lts:T.fromNumber(Date.now()),elapse:Ub(s.startTime),errCode:G.RTM_ERROR_CHANNEL_IN_ERROR_STATE,sid:qc(s.instanceId),userId:s.context.uid},(l=s.context.config.cloudProxy)!==null&&l!==void 0&&l,s.context.vid),[0,1].forEach(function(p){return s.loginSocketSubs[p].channels.delete(C)}),s.logError("the user is kicked out of the channel: ".concat(C))}}},{key:"onStateUpdate",value:function(){var s=this;return function(g){var l,C,p=g.flags,B=g.target;g=Gm(g.allStates),p.and(new T(1,0,!0)).isZero()?(g.majorRevision===0||g.majorRevision>((l=s.userMetaEventInfos.get(B))!==null&&l!==void 0?l:0))&&(s.emit("userMetaDataUpdated",{uid:B,data:p.and(new T(0,2,!0)).isZero()?g:lb(lb({},g),{},{majorRevision:0})}),s.userMetaEventInfos.set(B,g.majorRevision)):(g.majorRevision===0||g.majorRevision>((C=s.channelMetaEventInfos.get(B))!==null&&C!==void 0?C:0))&&(s.emit("channelMetaDataUpdated",{channelId:B,data:p.and(new T(0,2,!0)).isZero()?g:lb(lb({},g),{},{majorRevision:0})}),s.channelMetaEventInfos.set(B,g.majorRevision))}}},{key:"onLockUpdate",value:function(){var s=this;return function(g){var l=g.target;g.flags;var C=g.code;g=g.lock;var p=$c(l),B=p.channelName;p=p.channelType,C===Ec.kLockWatching?s.emit("lockWatching",{prefixChannelName:l,lockName:g}):C===Ec.kLockExpired&&s.emit("lockExpired",{channelType:p,channelName:B,eventType:"EXPIRED",lockName:g,ttl:0,publisher:"",snapshot:[]})}}},{key:"onLockEvent",value:function(){var s=this;return function(g){var l,C,p,B,Q=g.target,y=g.lockStates;g=g.eventType;var _=$c(Q),S=_.channelName,w=_.channelType;if(g===0)s.log("RTM service Error: lockEvent type is 0 on channel '%s', channelType 's%', member '%s'",Ca(S),w,Ca(s.context.uid||""));else{var O=new Date().getTime();if(g===4&&y.length===0&&4e3<O-((l=s.lockSnapshotLastTime.get(Q))!==null&&l!==void 0?l:0)){var P={channelType:w,channelName:S,eventType:"SNAPSHOT",lockName:"",ttl:0,publisher:"",snapshot:[]};s.log("received snapshot lockEvent is empty on channel(".concat(Q,"), emit channelLockEvent")),s.lockSnapshotLastTime.set(Q,O),s.emit("channelLockEvent",P)}else{l="SNAPSHOT";var K,M,U,F,W,ae,_r,_t,_A,na,oa=0,ha=!1;switch(_=JSON.parse((C=(p=y[0])===null||p===void 0?void 0:p.lockState)!==null&&C!==void 0?C:""),g){case 1:l="SET",oa=_.create_ttl;break;case 2:l=_.user?"ACQUIRED":"RELEASED",oa=_.create_ttl;break;case 3:l="REMOVED",oa=0;break;case 4:l="SNAPSHOT",ha=!0}C={channelType:w,channelName:S,eventType:l,lockName:ha?"":(B=y[0].lockName)!==null&&B!==void 0?B:"",ttl:oa,publisher:"",snapshot:[]},ha?4e3<O-((K=s.lockSnapshotLastTime.get(Q))!==null&&K!==void 0?K:0)&&(s.log("received snapshot lockEvent, emit channelLockEvent"),s.lockSnapshotLastTime.set(Q,O),C.snapshot=y.map(function(fa){var Da,ga,ma,Ra,$a,Ka,_u,Uc=JSON.parse((Da=fa.lockState)!==null&&Da!==void 0?Da:"");return Da={prefixChannelName:Q,lockName:(ga=fa.lockName)!==null&&ga!==void 0?ga:"",owner:(ma=Uc.user)!==null&&ma!==void 0?ma:"",ttl:(Ra=Uc.create_ttl)!==null&&Ra!==void 0?Ra:10,revision:($a=Uc._rev)!==null&&$a!==void 0?$a:0},s.updateLockSnapshotCache(Da),{lockName:fa.lockName,owner:(Ka=Uc.user)!==null&&Ka!==void 0?Ka:"",ttl:(_u=Uc.create_ttl)!==null&&_u!==void 0?_u:10}}),s.emit("channelLockEvent",C)):(s.log("received incremental lockEvent, emit channelLockEvent"),B=_._rev||0,K=((M=s.lockEventInfos.get(Q))===null||M===void 0||(U=M.get((F=y[0].lockName)!==null&&F!==void 0?F:""))===null||U===void 0?void 0:U.revision)||0,M=!1,(l!=="RELEASED"&&B>K||l==="RELEASED"&&B>=K&&(W=s.lockEventInfos.get(Q))!==null&&W!==void 0&&(ae=W.get((_r=y[0].lockName)!==null&&_r!==void 0?_r:""))!==null&&ae!==void 0&&ae.owner)&&(M=!0),M&&s.emit("channelLockEvent",C),y={prefixChannelName:Q,lockName:(P=y[0].lockName)!==null&&P!==void 0?P:"",owner:(_t=_.user)!==null&&_t!==void 0?_t:null,ttl:(_A=_.create_ttl)!==null&&_A!==void 0?_A:null,revision:(na=_._rev)!==null&&na!==void 0?na:null},g===3?s.updateLockCache(y,"deleteCache"):s.updateLockCache(y,"updateCache"))}}}}},{key:"updateLockCache",value:function(s,g){var l,C=s.lockName,p=s.prefixChannelName;this.lockEventInfos.get(p)||this.lockEventInfos.set(p,new Map);var B=(l=this.lockEventInfos.get(p))!==null&&l!==void 0?l:new Map;g==="deleteCache"?B.delete(C):B.set(C,s),this.lockEventInfos.set(p,B)}},{key:"updateLockSnapshotCache",value:function(s){var g,l=s.lockName,C=s.prefixChannelName,p=(g=this.lockEventInfos.get(C))!==null&&g!==void 0?g:new Map;p.set(l,s),this.lockEventInfos.set(C,p)}},{key:"onUserDrop",value:function(s){var g=this;return function(l){var C;l=l.code,Hb("KickedOff",{code:0,elapse:Ub(g.startTime),linkId:parseInt(s.name.split("-")[1],10),lts:T.fromNumber(Date.now()),server:s.address,serverCode:l,sid:qc(g.instanceId),userId:g.context.uid},(C=g.context.config.cloudProxy)!==null&&C!==void 0&&C,g.context.vid),l===10006||l===10001?g.warn("Login too often and kicked off, reconnect and login"):l===10009?(g.warn("The instance ID conflicts, reconnecting"),g.instanceId=nj(),g.context.sid=qc(g.instanceId),g.emit("instanceChanged",g.instanceId)):[2,11,14,15,16,10019].includes(l)&&(g.emit("userDrop",l),g.clearSockets())}}},{key:"clearSockets",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,l=1<arguments.length&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(function(C){s.cleanLoginSubs(C,l),s.connection.closeSocket(C,g)})}},{key:"onMessage",value:function(s){var g=this;return function(l){var C=l.dialogue,p=l.instance,B=l.sequence,Q=l.options;if(l.src===g.context.uid)g.log("The message is from the local account, ignored");else{var y=C.toString(),_=g.dialPendingMsgSubjectMap.get(y);if(C="".concat(p,"-").concat(C,"#").concat(B),_)_.next(l),g.log("Env_%d: The dialogue has pending messages, next: %s",s.env,C);else{var S=g.dialogueSequenceLru.get(y);if(_=!S&&B.eq(1),p=S!==void 0&&B.sub(S).eq(1),_||p)g.emitMessage(l,s.env);else{if(S){if(B.lte(S))return;g.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",s.env,C)}else g.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",s.env,C);B=new Cc,g.dialPendingMsgSubjectMap.set(y,B);var w=B.pipe(wx(Me.asyncScheduler),Fx(function(O,P){return[].concat(ta(O),[P])},[]),Rb(function(O){return ta(O).sort(function(P,K){return P=P.sequence,K=K.sequence,P.eq(K)?0:P.gt(K)?1:-1})}),yp(1));Q=!(Q=new bj(Q)).isFromCache()&&!Q.isBufferedMessage(),w.pipe(Mc(jd(Q?750:1500)),Zb(function(O){if(2>O.length)return!1;for(var P=S===void 0?T.fromNumber(1,!0):S.add(1),K=0;K<O.length;P=P.add(1),K++)if(!O[K].sequence.eq(P))return!1;return!0}),xf(function(){g.dialPendingMsgSubjectMap.delete(y)})).subscribe(function(O){O.forEach(function(P){g.emitMessage(P,s.env),g.log("Env_%d: The message queue has fully ordered, emitting: %s",s.env,"".concat(P.instance,"-").concat(P.dialogue,"#").concat(P.sequence))})},function(O){O instanceof px&&w.pipe(qb(1)).subscribe(function(P){return P.forEach(function(K){g.log("Env_%d: The message pending queue expired, emitting: %s",s.env,"".concat(K.instance,"-").concat(K.dialogue,"#").concat(K.sequence)),g.emitMessage(K,s.env)})})}),B.next(l)}}}}}},{key:"onPong",value:function(){var s=this;return function(){document.hidden&&s.getLoginSockets().forEach(function(g){s.sendPing(g)})}}},{key:"onGroupEnterNotice",value:function(){var s=this;return function(g){s.emit("memberNotice",{channelId:g.group,seq:g.seq,instance:g.instance,memberId:g.user,type:"MemberJoined",size:g.size})}}},{key:"onGroupLeaveNotice",value:function(){var s=this;return function(g){s.emit("memberNotice",{channelId:g.group,seq:g.seq,instance:g.instance,memberId:g.user,type:"MemberLeft",size:g.size})}}},{key:"onGroupCountNotice",value:function(){var s=this;return function(g){s.emit("memberNotice",{channelId:g.group,seq:g.seq,instance:g.instance,type:"MemberCountUpdated",size:g.size})}}},{key:"sendPing",value:function(s){2500>=Date.now()-this.lastPingTime[s.env]||(this.incSeqIfNeeded(s.env),s.sendPacket("Ping2",{ms:T.fromNumber(Date.now(),!0),seq:this.seq,flags:new T(3,0,!0)}),this.lastPingTime[s.env]=Date.now())}},{key:"updateMessageCount",value:function(s){var g,l=(g={},E(g,Cb.ChannelRMsg,this.chanelRawMessageReport),E(g,Cb.ChannelSMsg,this.chanelStringMessageReport),E(g,Cb.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),E(g,Cb.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),E(g,3,void 0),E(g,4,void 0),E(g,7,void 0),E(g,8,void 0),E(g,9,void 0),E(g,10,void 0),g)[s.messageCategory];s.type==="common"?l==null||l.updateCommonCount(s.key):s.type==="peer"?l==null||l.updatePeerAckCount(s.delay):l==null||l.updateNorecipientackCount(s.delay)}},{key:"canMakeOperation",value:function(s){var g=Date.now();return this.operationsTimeCache[s]||(this.operationsTimeCache[s]=[]),this.operationsTimeCache[s]=this.operationsTimeCache[s].filter(function(l){return l>g-1e3}),10>=this.operationsTimeCache[s].length&&(this.operationsTimeCache[s].push(g),!0)}},{key:"updateChannelOptionsCache2False",value:function(s,g){g=lb(lb({},this.subscribedChannels.get(s)),{},E({},g,!1)),this.subscribedChannels.set(s,g)}},{key:"updateChannelOptionsCache2True",value:function(s,g){g=lb(lb({},this.subscribedChannels.get(s)),{},E({},g,!0)),this.subscribedChannels.set(s,g)}}],[{key:"sendMessageAck",value:function(s,g){var l=new bj(s.options);(l.isInvitation()||l.isPeerMessage())&&g.sendPacket("Ack",{code:0,dialogue:s.dialogue,instance:s.instance,sequence:s.sequence})}}]),e}(Kc);E(ty,"genTimeoutError",function(t,e){return Jb(void 0).pipe(Ne(e===void 0?1e4:e),Rb(function(){throw new we(ra.rtm,[V(t).reason||"Request timed out after ".concat((e===void 0?1e4:e)/1e3,"s")],t)}))});var UM=ri(),VM=function(t){function e(i,s,g,l,C,p){Xa(this,e);var B=n.call(this,C,Bg("SocketOfSync-",C.loggerId));return E(J(B),"isActiveClose",!1),E(J(B),"loggedIn",!1),E(J(B),"useNewDomain",void 0),E(J(B),"receivedPacket",new Cc),E(J(B),"open$",void 0),E(J(B),"input$",new Cc),E(J(B),"packetCount",0),E(J(B),"attemptsSinceLastError",0),E(J(B),"socket$",void 0),E(J(B),"toClose",new Cc),E(J(B),"toReconnect",new Cc),E(J(B),"isReset",!0),E(J(B),"ip",void 0),E(J(B),"port",void 0),E(J(B),"ticket",void 0),E(J(B),"context",void 0),E(J(B),"getDomain",function(){return"".concat(B.ip.split(".").join("-"),".edge.agora.io")}),E(J(B),"socketReconnector",function(Q){var y=function(_){return B.attemptsSinceLastError+=1,B.warn("The %s of Sync reconnecting %s",B.name,_.message),jd(3e3)};return Q.pipe(kb(function(_){return B.warn("sync socket connection closed, ".concat(_)),B.loggedIn=!1,2<=B.attemptsSinceLastError?(B.warn("sync socket connection failure"),B.emit("connectionSyncFailure"),B.close(),Na(_)):B.isActiveClose?Bc.EMPTY:(B.emit("reconnectSync"),B.useNewDomain=!B.useNewDomain,Na(_))}),Pe(function(_){return _.pipe(ic(y))}))}),B.ip=i,B.port=s,B.ticket=g,B.context=l,B.useNewDomain=p??.5<=Math.random(),B.log("Opening websocket address %s:%d for the Sync",B.ip,B.port),i=oc(Qr("",{protocols:[],makeWebSocket:function(){var Q=Ma("SYNC_USE_WS")?"ws":"wss";return B.log("sync proxy websocket use ".concat(Q)),(Q=new WebSocket("".concat(Q,"://").concat(B.getDomain(),":").concat(B.port,"/").concat(Q))).binaryType="arraybuffer",B.isReset=!1,Q}}),B.toReconnect),B.socket$=gc(i,$x.NEVER.pipe(Nc(7e3),kb(function(Q){return Ib(Q)&&B.warn("socket open timed out"),Na(Q)}))).pipe(Rb(function(Q){if(Q instanceof Error)throw B.warn("Sync: Force reconnect the socket"),Q;return Q(B.input$.pipe(kb(function(y){return Na(y)}))).pipe(Rb(function(y){return new Uint8Array(y)}))}),B.socketReconnector),B.open$=B.socket$.pipe(Ga(function(Q){B.log("Websocket opened",B.name),Q.subscribe(function(y){B.receivedPacket.next(y)},function(){})}),Oe(void 0),Mc(B.toClose),Kd()),B}rb(e,t);var n=sb(e);return Db(e,[{key:"address",get:function(){return"".concat(this.ip,":").concat(this.port)}},{key:"sendPacket",value:function(i){this.packetCount++,this.input$.next(i)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(){return this.receivedPacket.pipe(Rb(function(i){return i}))}},{key:"forceReconnect",value:function(){this.isReset=!0,this.toReconnect.next(new UM({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),e}(Kc),zh=function(t){var e=Ma("APP_CENTER_DOMAIN"),n=Ue(e);return"https://".concat(n?e:t,"/api/v1")},jl=/web-(\d)/,uy=function(t){function e(i,s){var g=2<arguments.length&&arguments[2]!==void 0&&arguments[2];Xa(this,e);var l=n.call(this,s,"AppCenter");return E(J(l),"operation",ra.login),E(J(l),"handleUniLbsError",Yr.bind(J(l))),E(J(l),"getApEdgeInfo$",void 0),E(J(l),"getApEdgeInfoEndFirst$",void 0),E(J(l),"apFinish$",new Cc),E(J(l),"vid",void 0),E(J(l),"retryCount",0),E(J(l),"failedAreas",new Set),E(J(l),"usedUrl",[]),E(J(l),"newDomainUsed",!1),E(J(l),"backupNewDomainUsed",!1),E(J(l),"genUrl",function(){var C=Jb.apply(void 0,ta(gd(ey.map(zh)))),p=Jb.apply(void 0,ta(gd(fy.map(zh))));return ua===void 0?dl.apply(void 0,ta(gd([C,p]))).pipe(el(function(B){return Jb.apply(void 0,ta(B))})):Jb.apply(void 0,ta(ua.AP_DOMAINS.slice(0,3).map(zh)))}),E(J(l),"genBackupUrl",function(){var C=Jb.apply(void 0,ta(gd(gy.map(zh)))),p=Jb.apply(void 0,ta(gd(hy.map(zh))));return ua===void 0?dl.apply(void 0,ta(gd([C,p]))).pipe(el(function(B){return Jb.apply(void 0,ta(B))})):Jb.apply(void 0,ta(ua.AP_BACKUP_DOMAINS.slice(0,3).map(zh)))}),E(J(l),"getApUrl$",function(C){var p,B;return l.genUrl().pipe(cc(function(Q){return(!l.newDomainUsed||!Q.includes("sd-rtn.com"))&&(Q.includes("sd-rtn.com")&&(l.newDomainUsed=!0),!lh(l.usedUrl,function(y){var _;return y===((_=Q.match(jl))===null||_===void 0?void 0:_[1])}))}),Ga(function(Q){var y;ua===void 0&&typeof(Q=(y=Q.match(jl))===null||y===void 0?void 0:y[1])=="string"&&l.usedUrl.push(Q)}),qb(C?Math.max(Ma("RECONNECTING_AP_NUM"),(p=ua==null?void 0:ua.CODES.size)!==null&&p!==void 0?p:0):(B=ua==null?void 0:ua.CODES.size)!==null&&B!==void 0?B:2),$d(function(){return e.runOutOfUrlSymbol}),kb(function(Q,y){return l.newDomainUsed=!1,Q===e.runOutOfUrlSymbol?(l.usedUrl=[],y):Na(Q)}))}),E(J(l),"getBackupApUrl$",function(C){var p,B;return l.genBackupUrl().pipe(cc(function(Q){return(!l.backupNewDomainUsed||!Q.includes("sd-rtn.com"))&&(Q.includes("sd-rtn.com")&&(l.backupNewDomainUsed=!0),!lh(l.usedUrl,function(y){var _;return y===((_=Q.match(jl))===null||_===void 0?void 0:_[1])}))}),Ga(function(Q){var y;ua===void 0&&typeof(Q=(y=Q.match(jl))===null||y===void 0?void 0:y[1])=="string"&&l.usedUrl.push(Q)}),qb(C?Math.max(Ma("RECONNECTING_AP_NUM"),(p=ua==null?void 0:ua.CODES.size)!==null&&p!==void 0?p:0):(B=ua==null?void 0:ua.CODES.size)!==null&&B!==void 0?B:2),$d(function(){return e.runOutOfUrlSymbol}),kb(function(Q,y){return l.backupNewDomainUsed=!1,Q===e.runOutOfUrlSymbol?(l.usedUrl=[],y):Na(Q)}))}),E(J(l),"context",void 0),E(J(l),"fetchAp",function(C,p){var B=Bg("Sync AP-",l.loggerId);l.log("The uniLbs for sync requests %s(%s)",C,B);var Q=new AbortController;l.apFinish$.pipe(qb(1)).subscribe(function(){return Q.abort()});var y,_=Ag(0,Number.MAX_SAFE_INTEGER);return vf(wa(Z.mark(function S(){var w;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return l.log("%s request opid: %d",B,_),Ng("ApRequest",{sid:l.context.sid,userId:l.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(l.context.startTime),apAddr:C,opId:T.fromNumber(_),envId:0,flag:128},(w=l.context.config.cloudProxy)!==null&&w!==void 0&&w),O.abrupt("return",Kf(C,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:l.context.sid,opid:_,appid:l.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[30],key:p??l.context.key,cname:l.context.uid,uid:0,detail:lb({},E(ua===void 0?{11:[pa.CHINA,pa.GLOBAL].join(),12:"1"}:{11:Array.from(ua.CODES).map(function(P){return P===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):P}).join(","),12:"1"},26,"RTM2"))}}]},signal:Q.signal}));case 3:case"end":return O.stop()}},S)}))).pipe(kb(function(S){return S.name!=="AbortError"&&(l.logError(S),l.warn("The uniLbs for sync server %s request failure",C,S)),Bc.EMPTY}),ac((y=wa(Z.mark(function S(w){var O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra;return Z.wrap(function($a){for(;;)switch($a.prev=$a.next){case 0:if(O=w.responseText,P=JSON.parse(O),l.log("The %s response is %o",B,P),((K=P.response_body)===void 0||K.length===0||K.some(function(Ka){var _u;return((_u=Ka.buffer)===null||_u===void 0?void 0:_u.code)===void 0||Ka.uri!==23}))&&(M=V(G.RTM_ERROR_LOGIN_REJECTED),U=M.code,F=M.reason,Na(new ja(ra.login,[F+"unilbs for sync response_body not valid"],U))),(W=K.filter(function(Ka){return Ka.buffer.code!==0})).length===0){$a.next=9;break}return l.logError("unilbs for sync error response"),$a.abrupt("return",l.handleUniLbsError(W[0].buffer.code,C));case 9:for(ae=[],_r="",_t=0;_t<K.length;_t++)(ha=K[_t]).buffer.flag!==4194314&&l.warn("unexpected flag:".concat(ha==null?void 0:ha.buffer.flag," of resp of unilbs for sync")),l.vid=(_A=(na=ha.buffer)===null||na===void 0||(oa=na.detail)===null||oa===void 0?void 0:oa[8])!==null&&_A!==void 0?_A:"",_r=atob(ha.buffer.cert),ae=ha.buffer.edges_services.map(function(Ka){var _u=Ka.ip;return Ka=Ka.port,l.log("edge of unilbs for sync is %o",{appTicket:_r,ip:_u,port:Ka}),{ticket:_r,ip:_u,port:Ka}});if(Ue(fa=Ma("SYNC_ADDRESS"))&&(Da=fa.split(":"),ae=[{ip:Da[0],ticket:_r,port:Number(Da[1])}]),ae.length!==0){$a.next=17;break}return ga=V(G.RTM_ERROR_LOGIN_NO_SERVER_RESOURCES),ma=ga.code,Ra=ga.reason,$a.abrupt("return",Na(new ja(l.operation,[Ra+"No available sync edge address to connect"],ma)));case 17:return $a.abrupt("return",Jb.apply(void 0,ta(ae).concat([Yi.queueScheduler])));case 18:case"end":return $a.stop()}},S)})),function(S){return y.apply(this,arguments)})),Xi(),kb(function(S){return tb(S)?Na(S):Bc.EMPTY}),cc(function(S){return S!==void 0&&typeof S.ip=="string"&&typeof S.ticket=="string"}))}),E(J(l),"fetchAppCenter",function(C,p){var B=Bg("AppCenter-",l.loggerId);l.log("The AppCenter requests %s(%s)",C,B);var Q=new AbortController;l.apFinish$.pipe(qb(1)).subscribe(function(){return Q.abort()});var y,_=Ag(0,Number.MAX_SAFE_INTEGER);return vf(wa(Z.mark(function S(){var w;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return l.log("%s request opid: %d",B,_),Ng("ApRequest",{sid:l.context.sid,userId:l.context.uid,lts:T.fromNumber(Date.now()),elapse:Ub(l.context.startTime),apAddr:C,opId:T.fromNumber(_),envId:0,flag:128},(w=l.context.config.cloudProxy)!==null&&w!==void 0&&w),O.abrupt("return",Kf(C,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"61","Content-Type":"application/json"},body:{json_body:JSON.stringify({command:"allocateEdge",sid:l.context.sid,appId:l.context.appId,ts:Date.now(),areaCode:ua===void 0?[pa.CHINA,pa.GLOBAL].join():Array.from(ua.CODES).map(function(P){return P===pa.OVERSEA?"".concat(pa.ASIA,",").concat(pa.EUROPE,",").concat(pa.AFRICA,",").concat(pa.NORTH_AMERICA,",").concat(pa.SOUTH_AMERICA,",").concat(pa.OCEANIA):P}).join(","),appToken:p||l.context.key}),service_name:"sync"},signal:Q.signal}));case 3:case"end":return O.stop()}},S)}))).pipe(kb(function(S){return S.name!=="AbortError"&&(l.logError(S),l.warn("The AppCenter server %s request failure",C,S)),Bc.EMPTY}),ac((y=wa(Z.mark(function S(w){var O,P,K,M,U,F,W,ae,_r,_t,_A,na;return Z.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:if(O=w.responseText,P=JSON.parse(O),l.log("The %s response is %o",B,P),K=P.code,M=P.json_body,F=U=JSON.parse(M),W=F.servers,ae=F.appTicket,_r=F.vid,l.vid=String(_r),l.log("Request AppCenter code is %d, result is %o",K,U),_t=W.map(function(ha){var fa,Da;return{ip:ha.address,ticket:ae,port:Ma("SYNC_USE_WS")?(fa=ha.ws)!==null&&fa!==void 0?fa:ha.aut+1:(Da=ha.wss)!==null&&Da!==void 0?Da:ha.aut+2}}),Ue(_A=Ma("SYNC_ADDRESS"))&&(na=_A.split(":"),_t=[{ip:na[0],ticket:ae,port:Number(na[1])}]),_t.length!==0){oa.next=13;break}return oa.abrupt("return",Na(Error("No available sync edge address to connect")));case 13:return oa.abrupt("return",Jb.apply(void 0,ta(_t).concat([Yi.queueScheduler])));case 14:case"end":return oa.stop()}},S)})),function(S){return y.apply(this,arguments)})),Xi(),kb(function(S){return tb(S)?Na(S):Bc.EMPTY}),cc(function(S){return S!==void 0&&typeof S.ip=="string"&&typeof S.ticket=="string"}))}),l.context=i,l.getApEdgeInfoEndFirst$=function(){var C=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return jd(0,C||g?Ma("RECONNECTING_AP_INTERVAL"):2e3).pipe(qb(1),Ga(function(){l.retryCount+=1}),ac(function(){return 4<=l.retryCount&&(l.retryCount=0),3>=l.retryCount?l.getApUrl$(C||g):l.getBackupApUrl$(C||g)}),ac(function(p){return Ma("SYNC_UNILBS")?l.fetchAp(p):l.fetchAppCenter(p)}),kb(function(p){return p instanceof tc&&l.warn("AP request timeout"),Na(p)}),fl(function(p){return p.ip}),Mc(l.apFinish$))},l.getApEdgeInfo$=function(C){return jd(0,C||g?Ma("RECONNECTING_AP_INTERVAL"):2e3).pipe(qb(8),Ga(function(){l.retryCount+=1}),ac(function(){return 3>=l.retryCount?l.getApUrl$(C||g):l.getBackupApUrl$(C||g)}),ac(function(p){return Ma("SYNC_UNILBS")?l.fetchAp(p):l.fetchAppCenter(p)}),kb(function(p){return p instanceof tc&&l.warn("AppCenter request timeout"),Na(p)}),fl(function(p){return p.ip}),Mc(l.apFinish$))},l}rb(e,t);var n=sb(e);return Db(e,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),e}(Kc);E(uy,"runOutOfUrlSymbol",Symbol("AppCenter urls are used up"));var WM=ri(),vy=function(t){function e(i,s,g){Xa(this,e);var l=n.call(this,s,"ConnectionSync");E(J(l),"apClient",void 0),E(J(l),"lastOpenSocketsOfSync",[new wf(1)]),E(J(l),"curOpenSocketsOfSync",[void 0]),E(J(l),"loginSocketOpenFailureCount",0),E(J(l),"firstSocketOpener",void 0),E(J(l),"firstOpenKeeperSubject",new Cc),E(J(l),"blacklistedSyncIP",{}),E(J(l),"edgeInfoReplayed",void 0),E(J(l),"firstEnvOpenSocket",void 0),E(J(l),"firstOpenKeeperSub",void 0),E(J(l),"context",void 0),E(J(l),"logger",void 0),l.context=i,l.logger=s,l.apClient=new uy(l.context,s),l.apClient.apFinish$.subscribe(function(){l.log("AppCenter client fetch finished")});var C,p=[];return l.edgeInfoReplayed=l.apClient.getApEdgeInfo$(g).pipe(Pe(function(B){return B.pipe(Ga(function(Q){if(tb(Q))throw Q}),Ne(g?Ma("RECONNECTING_AP_INTERVAL"):900),Mc(jd(2e4)))}),cc(function(B){var Q;return!lh(p,B)&&1>=((Q=l.blacklistedSyncIP[B.ip])!==null&&Q!==void 0?Q:0)}),$d(function(){return new WM({AP_NO_AVAILABLE_SYNC_PROXY:"No available sync address to connect"})}),qb(1),Ga(function(B){p.push(B),l.log("An edge info got %o",B)}),Ga({error:function(B){l.emit("connectionSyncInitFailure",B)}}),xf(function(){l.apClient.clearUp()}),yp()),l.firstEnvOpenSocket=l.edgeInfoReplayed.pipe(ac(function(B){if(B===void 0)return Na(Error("Invalid edge info"));var Q=B.ip,y=B.ticket;B=B.port,l.emit("ticketUpdated",{ticket:y,vid:l.apClient.vid||""});var _=new VM(Q,B,y,l.context,s,C);return _.once("connectionSyncFailure",function(){return l.onSocketConnectionFailure(_)}),!g&&Ma("ENABLE_EDGE_AUTO_FALLBACK")&&!l.context.config.cloudProxy&&_.on("reconnectSync",function(){l.loginSocketOpenFailureCount+=1}),C=!_.useNewDomain,_.open$.pipe(Oe(_))}),Ga(function(B){l.log("The websocket of Sync opened to %s:%d",B.ip,B.port),l.curOpenSocketsOfSync[0]=B,l.lastOpenSocketsOfSync[0].next(B)}),qb(1),Kd()),l.firstSocketOpener=l.firstEnvOpenSocket.pipe(ac(function(B){return B.open$.pipe(Ga(function(){l.log("The websocket of Sync re-opened to %s:%d",B.ip,B.port),l.curOpenSocketsOfSync[0]=B,l.lastOpenSocketsOfSync[0].next(B)}))})),i=l.firstOpenKeeperSubject.pipe(zp.switchMap(Hg.identity)),l.firstOpenKeeperSub=i.subscribe({error:l.logError}),l}rb(e,t);var n=sb(e);return Db(e,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(i,s,g){var l=this;if(![0,1].includes(i))throw new Yj({INVALID_ENV:"The env argument is not 0 or 1"});var C=this.firstOpenKeeperSub;this.firstOpenKeeperSub=void 0;var p=this.curOpenSocketsOfSync[i];this.curOpenSocketsOfSync[i]=void 0,p&&(p.isActiveClose=!0,setTimeout(function(){p.close(),l.log("The websocket of Sync closed to ".concat(p.ip,":").concat(p.port,", start release memory of client")),g&&g()},s)),C!==void 0&&setTimeout(function(){C==null||C.unsubscribe()},s)}},{key:"waitClosing",value:function(i){var s=this;return i.isActiveClose=!0,i.open$.pipe(Xx(),kb(function(g){return g.message===Wx.normalClosureMessage?Bc.EMPTY:Na(g)}),Nc(5e3),kb(function(g){return g instanceof tc?(s.warn("Force closing the Sync connection"),Bc.EMPTY):Na(g)}))}},{key:"onSocketConnectionFailure",value:function(i){this.warn("socket(".concat(i.name,") internal emit onSocketConnectionFailure")),this.emit("socketsOfSyncFailure")}}]),e}(Kc);Ha({target:"Array",proto:!0,forced:co!==[].lastIndexOf},{lastIndexOf:co});var kl=ii.getWeakData,XM=Pb.set,YM=Pb.getterFor,ZM=0,ll=function(t){return t.frozen||(t.frozen=new wy)},wy=function(){this.entries=[]},Ep=function(t,e){return Wm(t.entries,function(n){return n[0]===e})};wy.prototype={get:function(t){if(t=Ep(this,t))return t[1]},has:function(t){return!!Ep(this,t)},set:function(t,e){var n=Ep(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=Xm(this.entries,function(n){return n[0]===t});return~e&&this.entries.splice(e,1),!!~e}};var xy={getConstructor:function(t,e,n,i){var s=t(function(C,p){Dd(C,s,e),XM(C,{type:e,id:ZM++,frozen:void 0}),p!=null&&li(p,C[i],{that:C,AS_ENTRIES:n})}),g=YM(e),l=function(C,p,B){var Q=g(C),y=kl(Ob(p),!0);return y===!0?ll(Q).set(p,B):y[Q.id]=B,C};return Ae(s.prototype,{delete:function(C){var p=g(this);if(!jb(C))return!1;var B=kl(C);return B===!0?ll(p).delete(C):B&&La(B,p.id)&&delete B[p.id]},has:function(C){var p=g(this);if(!jb(C))return!1;var B=kl(C);return B===!0?ll(p).has(C):B&&La(B,p.id)}}),Ae(s.prototype,n?{get:function(C){var p=g(this);if(jb(C)){var B=kl(C);return B===!0?ll(p).get(C):B?B[p.id]:void 0}},set:function(C,p){return l(this,C,p)}}:{add:function(C){return l(this,C,!0)}}),s}};Ua(function(t){var e=Pb.enforce,n=!za.ActiveXObject&&"ActiveXObject"in za,i=Object.isExtensible,s=function(Q){return function(){return Q(this,arguments.length?arguments[0]:void 0)}};if(t=t.exports=dn("WeakMap",s,xy),hs&&n){var g=xy.getConstructor(s,"WeakMap",!0);ii.REQUIRED=!0;var l=(n=t.prototype).delete,C=n.has,p=n.get,B=n.set;Ae(n,{delete:function(Q){if(jb(Q)&&!i(Q)){var y=e(this);return y.frozen||(y.frozen=new g),l.call(this,Q)||y.frozen.delete(Q)}return l.call(this,Q)},has:function(Q){if(jb(Q)&&!i(Q)){var y=e(this);return y.frozen||(y.frozen=new g),C.call(this,Q)||y.frozen.has(Q)}return C.call(this,Q)},get:function(Q){if(jb(Q)&&!i(Q)){var y=e(this);return y.frozen||(y.frozen=new g),C.call(this,Q)?p.call(this,Q):y.frozen.get(Q)}return p.call(this,Q)},set:function(Q,y){if(jb(Q)&&!i(Q)){var _=e(this);_.frozen||(_.frozen=new g),C.call(this,Q)?B.call(this,Q,y):_.frozen.set(Q,y)}else B.call(this,Q,y);return this}})}});var $M=function(){function t(){var da=W.buffer;Q.HEAP8=ae=new Int8Array(da),Q.HEAP16=_t=new Int16Array(da),Q.HEAPU8=_r=new Uint8Array(da),Q.HEAPU16=new Uint16Array(da),Q.HEAP32=_A=new Int32Array(da),Q.HEAPU32=na=new Uint32Array(da),Q.HEAPF32=oa=new Float32Array(da),Q.HEAPF64=fa=new Float64Array(da),Q.HEAP64=ha=new BigInt64Array(da),Q.HEAPU64=new BigUint64Array(da)}function e(da){throw Q.onAbort&&Q.onAbort(da),U(da="Aborted("+da+")"),ga=!0,da=new WebAssembly.RuntimeError(da+". Build with -sASSERTIONS for more info."),p(da),da}function n(da){return Promise.resolve().then(function(){if(da==Uc&&M)var Wa=new Uint8Array(M);else{if(da.startsWith("data:application/octet-stream;base64,")){var _l=da.slice(37);try{Wa=atob(_l);var vd=new Uint8Array(Wa.length);for(_l=0;_l<Wa.length;++_l)vd[_l]=Wa.charCodeAt(_l)}catch{throw Error("Converting base64 string to bytes failed.")}Wa=vd}else Wa=void 0;if(!Wa){if(!P)throw"both async and sync fetching of the wasm failed";Wa=P(da)}}return Wa})}function i(da,Wa,_l){return n(da).then(function(vd){return WebAssembly.instantiate(vd,Wa)}).then(function(vd){return vd}).then(_l,function(vd){U("failed to asynchronously prepare wasm: ".concat(vd)),e(vd)})}function s(da){this.name="ExitStatus",this.message="Program terminated with exit(".concat(da,")"),this.status=da}function g(da,Wa,_l){return _l=0<_l?_l:_B(da)+1,_l=Array(_l),da=IQ(da,_l,0,_l.length),_l}function l(){function da(){if(!_E&&(_E=!0,Q.calledRun=!0,!ga)){if(Bh(Ra),C(Q),Q.onRuntimeInitialized&&Q.onRuntimeInitialized(),Q.postRun)for(typeof Q.postRun=="function"&&(Q.postRun=[Q.postRun]);Q.postRun.length;)$a.unshift(Q.postRun.shift());Bh($a)}}if(!(0<Ka)){if(Q.preRun)for(typeof Q.preRun=="function"&&(Q.preRun=[Q.preRun]);Q.preRun.length;)ma.unshift(Q.preRun.shift());Bh(ma),0<Ka||(Q.setStatus?(Q.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Q.setStatus("")},1),da()},1)):da())}}var C,p,B=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},Q=B;Q.ready=new Promise(function(da,Wa){C=da,p=Wa});var y=Object.assign({},Q),_="./this.program",S=function(da,Wa){throw Wa},w=(typeof window>"u"?"undefined":Ia(window))=="object",O=typeof importScripts=="function";(typeof process>"u"?"undefined":Ia(process))=="object"&&Ia(process.versions)=="object"&&process.versions.node;var P,K="";(w||O)&&(O?K=self.location.href:typeof document<"u"&&document.currentScript&&(K=document.currentScript.src),K=K.indexOf("blob:")!==0?K.substr(0,K.replace(/[?#].*/,"").lastIndexOf("/")+1):"",O&&(P=function(da){var Wa=new XMLHttpRequest;return Wa.open("GET",da,!1),Wa.responseType="arraybuffer",Wa.send(null),new Uint8Array(Wa.response)})),Q.print||console.log.bind(console);var M,U=Q.printErr||console.error.bind(console);Object.assign(Q,y),y=null,Q.thisProgram&&(_=Q.thisProgram),Q.quit&&(S=Q.quit),Q.wasmBinary&&(M=Q.wasmBinary);var F=Q.noExitRuntime||!0;(typeof WebAssembly>"u"?"undefined":Ia(WebAssembly))!="object"&&e("no native wasm support detected");var W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga=!1,ma=[],Ra=[],$a=[],Ka=0,_u=null,Uc="data:application/octet-stream;base64,AGFzbQEAAAAB2gRKYAJ/fwBgAX8Bf2ABfwBgAn9/AX9gA39/fwBgA39/fwF/YAR/f39/AX9gBH9/f38AYAZ/f39/f38Bf2AFf39/f38Bf2AFf39/f38AYAJ/fgBgBn9/f39/fwBgCH9/f39/f39/AX9gA39/fgBgB39/f39/f38Bf2AAAGAAAX9gBX9+fn5+AGAFf39/f34Bf2ACf34Bf2AFf39+f38AYAN/fn8Bf2AEf39/fwF+YAd/f39/f39/AGAEf35+fwBgAn5/AX9gAX4Bf2AFf39/f3wBf2ACf38BfmAAAXxgAn5/AGACf3wAYAp/f39/f39/f39/AX9gCH9/f39/f39/AGAEf39+fwBgAX4BfmACf34BfmAMf39/f39/f39/f39/AX9gAAF+YAJ8fwF8YAV/fn9/fwF/YAR/f35/AX9gBn9/f39+fwF/YA9/f39/f39/f39/f39/f38AYAp/f39/f39/f39/AGALf39/f39/f39/f38Bf2AIf39/f39+f38AYAF/AX5gCX9/f39/f35/fwF/YAN/f34Bf2AHf39/f39+fgF/YAZ/f39/fn4Bf2ADf39/AX5gCX9/f39/f39/fwBgBH5+fn4Bf2AGf39/fn9/AGACfn4BfGADf3x/AX9gBX9/f35/AGAFf39+f38Bf2ADf35/AGADf39/AXxgA39/fwF9YAJ+fgF9YAN+fn4Bf2AGf3x/f39/AX9gBH9/f34BfmAJf39/f35/f39/AX9gCn9/f39/f39+f38Bf2AEf39/fgBgBn9+f39/fwBgBH9/f34Bf2ACf38BfAJDCwFhAWEABwFhAWIAEAFhAWMAAwFhAWQAAwFhAWUAEQFhAWYAHgFhAWcAAQFhAWgAHgFhAWkAAAFhAWoACQFhAWsAAgPoDOYMAQECAQMBAwIBAwAQAQADAQECAwIAAQEAAwEAAAMDBREDEgADBQEBAAIEAwMBAgUBAgIBAgEBAR8CAgAAAQEBAAMAAAICAgMAAxIEBQIHABkKAgMABAACAQABEAABAAEDAAYDAAADBBIBAwEFAAkBAAUDAQQDAQMAAAEBAwMFAAEBAAABBQUBAQEFAQIAAAECAwELAgABBAoDAgIAAwADAAkJBgUDAQQgAAM2AQIACwAAAg0NBwMAAgAEBQECAgEBAAABAAEDAAIDAQACFAgBAwQDAAMB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fk8EQCAHQf//AWtBgYB+Sw0BCyABUCACQv///////////wCDIgtCgICAgICAwP//AFQgC0KAgICAgIDA//8AURtFBEAgAkKAgICAgIAghCEKDAILIANQIARC////////////AIMiAkKAgICAgIDA//8AVCACQoCAgICAgMD//wBRG0UEQCAEQoCAgICAgCCEIQogAyEBDAILIAEgC0KAgICAgIDA//8AhYRQBEAgAiADhFAEQEKAgICAgIDg//8AIQpCACEBDAMLIApCgICAgICAwP//AIQhCkIAIQEMAgsgAyACQoCAgICAgMD//wCFhFAEQCABIAuEIRlCACEBIBlQBEBCgICAgICA4P//ACEKDAMLIApCgICAgICAwP//AIQhCgwCCyABIAuEUARAQgAhAQwCCyACIAOEUARAQgAhAQwCCyALQv///////z9YBEAgBUHQAGogASANIAEgDSANUCIGG3kgBkEGdK18pyIGQQ9rEFpBECAGayEGIAUpA1giDUIgiCEOIAUpA1AhAQsgAkL///////8/Vg0AIAVBQGsgAyAMIAMgDCAMUCIIG3kgCEEGdK18pyIIQQ9rEFogBiAIa0EQaiEGIAUpA0ghDCAFKQNAIQMLIANCD4YiC0KAgP7/D4MiAiABQiCIIgR+IhAgC0IgiCITIAFC/////w+DIgF+fCIPQiCGIhEgASACfnwiCyARVK0gAiANQv////8PgyINfiIVIAQgE358IhEgDEIPhiISIANCMYiEQv////8PgyIDIAF+fCIUIA8gEFStQiCGIA9CIIiEfCIPIAIgDkKAgASEIgx+IhYgDSATfnwiDiASQiCIQoCAgIAIhCICIAF+fCIQIAMgBH58IhJCIIZ8Ihd8IQEgByAJaiAGakH//wBrIQYCQCACIAR+IhggDCATfnwiBCAYVK0gBCAEIAMgDX58IgRWrXwgAiAMfnwgBCAEIBEgFVStIBEgFFatfHwiBFatfCADIAx+IgMgAiANfnwiAiADVK1CIIYgAkIgiIR8IAQgAkIghnwiAiAEVK18IAIgAiAQIBJWrSAOIBZUrSAOIBBWrXx8QiCGIBJCIIiEfCICVq18IAIgAiAPIBRUrSAPIBdWrXx8IgJWrXwiBEKAgICAgIDAAINQRQRAIAZBAWohBgwBCyALQj+IIRogBEIBhiACQj+IhCEE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AX4iBUIgiCADIAR+fCIDQiCIfCABIAJ+IANC/////w+DfCIBQiCIfDcDCCAAIAVC/////w+DIAFCIIaENwMAC78BAQN/IAAtAABBIHFFBEACQCABIQMCQCACIAAiASgCECIABH8gAAUgARDPCQ0BIAEoAhALIAEoAhQiBWtLBEAgASADIAIgASgCJBEFABoMAgsCQCABKAJQQQBIDQAgAiEAA0AgACIERQ0BIAMgBEEBayIAai0AAEEKRw0ACyABIAMgBCABKAIkEQUAIARJDQEgAyAEaiEDIAIgBGshAiABKAIUIQULIAUgAyACECkaIAEgASgCFCACajYCFAsLCwtKAQF/IAAgAUkEQCAAIAEgAhApDwsgAgRAIAAgAmohAyABIAJqIQEDQCADQQFrIgMgAUEBayIBLQAAOgAAIAJBAWsiAg0ACwsgAAs3AQF/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAEPQHIAEoAgwoAgAQDQsgAUEQaiQAC6EBAQJ/AkAgABAMRSACIAFrQQVIcg0AIAEgAhDjAyACQQRrIQQgABAaIgIgABAMaiEFAkADQAJAIAIsAAAhACABIARPDQAgAEEATCAAQf8ATnJFBEAgASgCACACLAAARw0DCyABQQRqIQEgAiAFIAJrQQFKaiECDAELCyAAQQBMIABB/wBOcg0BIAIsAAAgBCgCAEEBa0sNAQsgA0EENgIACwsIACAAIAEQIgtQAQF+AkAgA0HAAHEEQCABIANBQGqthiECQgAhAQwBCyADRQ0AIAIgA60iBIYgAUHAACADa62IhCECIAEgBIYhAQsgACABNwMAIAAgAjcDCAttAQF/IwBBgAJrIgUkACAEQYDABHEgAiADTHJFBEAgBSABQf8BcSACIANrIgNBgAIgA0GAAkkiARsQLxogAUUEQANAIAAgBUGAAhBVIANBgAJrIgNB/wFLDQALCyAAIAUgAxBVCyAFQYACaiQACzcBAX8jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAQswcgASgCDCgCABANCyABQRBqJAALWwAgACABKQMANwMAIAAgASkDCDcDCCAAQRhqIAFBGGoQahogAEE4aiABQThqEPICGiAAIAEtAGg6AGggACABKQNgNwNgIAAgASkDWDcDWCAAIAEpA1A3A1AgAAswAQF/IAAoAgQiAiAAKAIISQRAIAIgASkDADcDACAAIAJBCGo2AgQPCyAAIAEQ+QcLigEBAn8jAEEQayIDJAAgAkHv////B00EQAJAIAIQhQMEQCAAIAIQbyAAIQQMAQsgA0EIaiAAIAIQjAJBAWoQ6AEgAygCDBogACADKAIIIgQQgwEgACADKAIMEIIBIAAgAhBmCyAEIAEgAhBxIANBADoAByACIARqIANBB2oQbiADQRBqJAAPCxBlAAs+AgF/AX4gARBOIAAtAAAhAiAAIAEtAAA6AAAgASACOgAAIAApAwghAyAAIAEpAwg3AwggASADNwMIIAAQTgsPACAALQAMBEAgABAOGgsLCwAgAEGkrgIQwAELEQAgACABIAEoAgAoAhQRAAALDwAgACAAKAIAKAIQEQEACwUAEBYACwkAIAAgATYCBAsLACAAQZyuAhDAAQtiAQJ/IwBBIGsiAiQAAkAgASAAKAIIIAAoAgAiA2tBAnVLBEAgAUGAgICABE8NASAAIAJBDGogASAAKAIEIANrQQJ1IABBCGoQ5AEiABCUBSAAELwBCyACQSBqJAAPCxABAAsrAQN/IAAoAgAgACAALQALIgHAQQBIIgIbIgMgAyAAKAIEIAEgAhtqEIYBC1kBAn8gAEH/AToAGCAAQQA6AAAjAEEQayICJAAgABA+IAEtABgiA0H/AUcEQCACQQ9qIAAgASADQQJ0QawIaigCABEEACAAIAEtABg6ABgLIAJBEGokACAAC7ABAgJ/AX4jAEEgayICJAAgAkEQaiABEBUCQCACLQAYRQRAIABBADoADCAAQQA6AAAMAQsgAikDECIEIAEoAgQiA61WBEAgAEEAOgAMIABBADoAAAwBCyABIAMgBKciA2s2AgQgASABKAIAIgEgA2o2AgAgAiABIAMQXyAAIAIoAgg2AgggACACKQMANwIAIAJBADYCCCACQgA3AwAgAEEBOgAMIAIQCxoLIAJBIGokAAtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQ+AghBAsgACAENgIAIAAgBCACQQR0aiICNgIIIAAgBCABQQR0ajYCDCAAIAI2AgQgAAsRACAAIAEgACgCACgCLBEDAAsMACAAIAEtAAA6AAALIQAgACAALQALQYABcSABcjoACyAAIAAtAAtB/wBxOgALC64BAQZ/IwBBEGsiAiQAIAJBCGoiAyAAEJACGgJAIAMtAABFDQAgAkEEaiIDIAAgACgCAEEMaygCAGoQHyADEIkDIQQgAxAeIAIgABCIAyEFIAAgACgCAEEMaygCAGoiBhC0AiEHIAIgBCAFKAIAIAYgByABIAQoAgAoAhgRCQA2AgQgAxCOAkUNACAAIAAoAgBBDGsoAgBqQQUQkQILIAJBCGoQjwIgAkEQaiQAIAALDAAgASACIAAQrgkaC8YJAgR/Bn4jAEHwAGsiBiQAIARC////////////AIMhCQJAAkAgAVAiBSACQv///////////wCDIgpCgICAgICAwP//AH1CgICAgICAwICAf1QgClAbRQRAIANCAFIgCUKAgICAgIDA//8AfSILQoCAgICAgMCAgH9WIAtCgICAgICAwICAf1EbDQELIAUgCkKAgICAgIDA//8AVCAKQoCAgICAgMD//wBRG0UEQCACQoCAgICAgCCEIQQgASEDDAILIANQIAlCgICAgICAwP//AFQgCUKAgICAgIDA//8AURtFBEAgBEKAgICAgIAghCEEDAILIAEgCkKAgICAgIDA//8AhYRQBEBCgICAgICA4P//ACACIAEgA4UgAiAEhUKAgICAgICAgIB/hYRQIgUbIQRCACABIAUbIQMMAgsgAyAJQoCAgICAgMD//wCFhFANASABIAqEUARAIAMgCYRCAFINAiABIAODIQMgAiAEgyEEDAILIAMgCYRQRQ0AIAEhAyACIQQMAQsgAyABIAEgA1QgCSAKViAJIApRGyIIGyEKIAQgAiAIGyILQv///////z+DIQkgAiAEIAgbIgJCMIinQf//AXEhByALQjCIp0H//wFxIgVFBEAgBkHgAGogCiAJIAogCSAJUCIFG3kgBUEGdK18pyIFQQ9rEFogBikDaCEJIAYpA2AhCkEQIAVrIQULIAEgAyAIGyEDIAJC////////P4MhBCAHRQRAIAZB0ABqIAMgBCADIAQgBFAiBxt5IAdBBnStfKciB0EPaxBaQRAgB2shByAGKQNYIQQgBikDUCEDCyAEQgOGIANCPYiEQoCAgICAgIAEhCEBIAlCA4YgCkI9iIQhDiACIAuFIQ0CfiADQgOGIgIgBSAHRg0AGiAFIAdrIgdB/wBLBEBCACEBQgEMAQsgBkFAayACIAFBgAEgB2sQWiAGQTBqIAIgASAHEJMCIAYpAzghASAGKQMwIAYpA0AgBikDSIRCAFKthAshCSAOQoCAgICAgIAEhCEMIApCA4YhCgJAIA1CAFMEQEIAIQNCACEEIAkgCoUgASAMhYRQDQIgCiAJfSECIAwgAX0gCSAKVq19IgRC/////////wNWDQEgBkEgaiACIAQgAiAEIARQIgcbeSAHQQZ0rXynQQxrIgcQWiAFIAdrIQUgBikDKCEEIAYpAyAhAgwBCyAJIAp8IgIgCVStIAEgDHx8IgRCgICAgICAgAiDUA0AIAlCAYMgBEI/hiACQgGIhIQhAiAFQQFqIQUgBEIBiCEECyALQoCAgICAgICAgH+DIQEgBUH//wFOBEAgAUKAgICAgIDA//8AhCEEQgAhAwwBC0EAIQcCQCAFQQBKBEAgBSEHDAELIAZBEGogAiAEIAVB/wBqEFogBiACIARBASAFaxCTAiAGKQMAIAYpAxAgBikDGIRCAFKthCECIAYpAwghBAsgAqdBB3EiBUEES60gBEI9hiACQgOIhCICfCIDIAJUrSAEQgOIQv///////z+DIAetQjCGhCABhHwhBAJAIAVBBEYEQCAEIANCAYMiASADfCIDIAFUrXwhBAwBCyAFRQ0BCwsgACADNwMAIAAgBDcDCCAGQfAAaiQACwQAQQALDAAgACABQbwIEI0ICxMAIABBOGoQpAEgAEEYahA+IAALLQAgAkUEQCAAKAIEIAEoAgRGDwsgACABRgRAQQEPCyAAKAIEIAEoAgQQ+ANFCwwAIAAgASgCADYCAAtIAQJ/IwBBEGsiBSQAIAUgAjYCDCAFIAQ2AgggBUEEaiAFQQxqEJsBIQYgACABIAMgBSgCCBD3AyEAIAYQmgEgBUEQaiQAIAALCQAgABAaEJYFC34CAn8BfiMAQRBrIgMkACAAAn4gAUUEQEIADAELIAMgASABQR91IgJzIAJrIgKtQgAgAmciAkHRAGoQWiADKQMIQoCAgICAgMAAhUGegAEgAmutQjCGfCABQYCAgIB4ca1CIIaEIQQgAykDAAs3AwAgACAENwMIIANBEGokAAtCAQJ/QQEhAwJAA0AgAwRAIAAQhQEaIAAgAUGSKRCUAUUNAiAAKAIIIQRBACEDDAELCyACIAQ6AAALIANBf3NBAXELOQECfyAAQSBqIQIDQAJAIAAgAkYiAw0AIAAtAAAgAS0AAEcNACABQQFqIQEgAEEBaiEADAELCyADCw4AIABBDGoQCxogABALCzQBAX8jAEEQayIDJAAgA0EIaiABIAIQ6gUgACADKAIINgIAIAAgAy0ADDoABCADQRBqJAALEQAgACABEDUiAEEBOgAMIAALGAAgAEHUAGoQCxogAEHIAGoQDhogABALCx0AIAAgAUHw////B0EDQf////8AQYCAgIABELcCCy4AIAAgACgCCEGAgICAeHEgAUH/////B3FyNgIIIAAgACgCCEGAgICAeHI2AggLCQAgACABNgIACwoAIAAtAAtBB3YLRAECfyAAIAAoAgxBAWo2AgwCQCAAKAIAIgIgACgCBEYEQEF/IQEMAQsgAi0AACEBIAAgAkEBajYCAAsgACABNgIIIAELIgECfyMAQRBrIgIkACAAIAEgAGsQggQhAyACQRBqJAAgAwuOAQAgACABKQMANwMAIAAgASgCCDYCCCABQgA3AwAgAUEANgIIIABBEGogAUEQakE4ECkaIABByABqIAFByABqEDUaIAAgASgCXDYCXCAAIAEpAlQ3AlQgAUIANwJUIAFBADYCXCAAIAEpA3g3A3ggACABKQNwNwNwIAAgASkDaDcDaCAAIAEpA2A3A2AgAAt6AQN/IwBBEGsiBSQAAkAgAiAAECAiBCAAEAwiA2tNBEAgAkUNASAAEBoiBCADaiABIAIQcSAAIAIgA2oiARDiASAFQQA6AA8gASAEaiAFQQ9qEG4MAQsgACAEIAIgBGsgA2ogAyADQQAgAiABEP0CCyAFQRBqJAAgAAsHACAAECEaCw8AIAAgACgCACgCDBEBAAsHACAAEAxFCxEAIAAgASABKAIAKAIcEQAACxEAIAAgASABKAIAKAIYEQAACxMAIAAtAIABQQFHBEAQFgALIAALEwAgACABIAIgACgCACgCDBEFAAsnAQF/IAJBAE4EfyAAKAIIIAJB/wFxQQJ0aigCACABcUEARwVBAAsLegEDfwJAAkAgACIBQQNxRQ0AIAEtAABFBEBBAA8LA0AgAUEBaiIBQQNxRQ0BIAEtAAANAAsMAQsDQCABIgJBBGohASACKAIAIgNBf3MgA0GBgoQIa3FBgIGChHhxRQ0ACwNAIAIiAUEBaiECIAEtAAANAAsLIAEgAGsLNwACf0EBIABBgAFJ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JAAgBEEANgIMAkADQCADQQRHBEAgABCFARogACABQZIpEJQBRQ0CIARBDGpBAyADayADIAAtABAbaiAAKAIIOgAAIANBAWohAwwBCwsgAiAEKAIMNgIACyAEQRBqJAAgA0EDSwt5AQJ/IABBHGoQRCMAQRBrIgEkACABIABBEGo2AgwgASgCDCICKAIABEAgAhDVBSABKAIMKAIAEA0LIAFBEGokACMAQRBrIgEkACABIABBBGo2AgwgASgCDCICKAIABEAgAhDUBSABKAIMKAIAEA0LIAFBEGokACAACw4AIABBCGoQExogABANCwoAIABBCGoQExoLBwAgACgCBAsPACAALQAQBEAQFgALIAALDAAgACgCACABELMDC74CAQR/IAAoAgQgACgCCEkEQCAAIAAoAgQgARC4A0EYajYCBA8LIwBBIGsiBCQAIARBDGogACAAKAIEIAAoAgBrQRhtQQFqELECIAAoAgQgACgCAGtBGG0gAEEIahCwAiICKAIIIAEQuAMaIAIgAigCCEEYajYCCCAAKAIEIQMgACgCACEFIAIoAgQhAQNAIAMgBUcEQCABQRhrIANBGGsiAxC4AyEBDAELCyACIAE2AgQgACgCACEDIAAgATYCACACIAM2AgQgACgCBCEBIAAgAigCCDYCBCACIAE2AgggACgCCCEBIAAgAigCDDYCCCACIAE2AgwgAiACKAIENgIAIAIoAgQhAANAIAAgAigCCCIBRwRAIAIgAUEYayIBNgIIIAEQPAwBCwsgAigCACIABEAgABANCyAEQSBqJAALEgAgAC0AEEEFRwRAEBYACyAACwwAIAAoAgAgARC9AwsgAQF/IAAtADBBAkYEfyAAQRBqELYBLQAQQQVGBUEACwtKACAAIAEoAgA2AgAgAEEEaiABQQRqEDUaIABBEGogAUEQahA1GiAAQRxqIAFBHGoQpwcaIAAgASkDODcDOCAAIAEpAzA3AzAgAAsYACAAIAEQ7QMiAUUEQA8LIAAgARCIAhoLFgAgAC0ADARAIAAQDhogAEEAOgAMCwuxAQEGfyABEGkhBAJAIAAoAgQiA0UNACAAKAIAAn8gA0EBayAEcSADaSICQQFNDQAaIAQgAyAESw0AGiAEIANwCyIFQQJ0aigCACIARQ0AIANBAWshBiACQQFLIQcDQCAAKAIAIgBFDQEgBCAAKAIEIgJHBEACQCAHRQRAIAIgBnEhAgwBCyACIANJDQAgAiADcCECCyACIAVHDQIMAQsgAEEIaiABEFFFDQALIAAPC0EACw4AIABBGGoQDhogABAOC8IBAQN/IAAoAgQiAiAAKAIISQRAIAIgASkCADcCACACIAEoAgg2AgggAUIANwIAIAFBADYCCCAAIAJBDGo2AgQPCyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EMbUEBahDSAyAAKAIEIAAoAgBrQQxtIABBCGoQ9gIiAigCCCIEIAEpAgA3AgAgBCABKAIINgIIIAFCADcCACABQQA2AgggAiACKAIIQQxqNgIIIAAgAhD0BCACENMDIANBIGokAAsPACAAKAIIEN4HIAAQwgELDQAgACABpxDcAygCAAvOAQEEfyMAQRBrIggkAAJAIABFBEAMAQsgBCgCDCEHIAIgAWsiCUEASgRAIAAgASAJIAAoAgAoAjARBQAgCUcNAQsgByADIAFrIgFrQQAgASAHSBsiAUEASgRAIAhBBGoiByABIAUQ1gMgACAIKAIEIAcgCCwAD0EASBsgASAAKAIAKAIwEQUAIQUgBxALGiABIAVHDQELIAMgAmsiAUEASgRAIAAgAiABIAAoAgAoAjARBQAgAUcNAQsgBEEANgIMIAAhBgsgCEEQaiQAIAYLOgEBfyAAQYTLASgCACIBNgIAIAAgAUEMaygCAGpBkMsBKAIANgIAIABBBGoQ7wQaIABBOGoQsAkgAAsTACAAIAE2AgAgAEEIahATGiAACxcAIAEgAjYCACABQQhqIABBCGoQowMaCx8BAX9BIBAQIgIgATYCACACQQhqIABBCGoQowMaIAILYgECfyMAQSBrIgIkAAJAIAEgACgCCCAAKAIAIgNrQQV1SwRAIAFBgICAwABPDQEgACACQQxqIAEgACgCBCADa0EFdSAAQQhqELgCIgAQkQggABD1BAsgAkEgaiQADwsQAQALCwAgACABNgIAIAALDwAgACAAKAIAKAIkEQEACxEAIAAgASABKAIAKAIgEQAACxEAIAAgASABKAIAKAIsEQAACxcAIAAQhAEEQCAAIAEQZg8LIAAgARBvCwwAIABBgoaAIDYAAAtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQjAMhBAsgACAENgIAIAAgBCAC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BCIBIAEoAgBBDGsoAgBqKAIYRQ0AIAAoAgQiASABKAIAQQxrKAIAahCsCUUNACAAKAIEIgEgASgCAEEMaygCAGooAgRBgMAAcUUNACAAKAIEIgEgASgCAEEMaygCAGooAhgQqwlBf0cNACAAKAIEIgAgACgCAEEMaygCAGpBARCRAgsLswEBAX8gACABNgIEIABBADoAACABIAEoAgBBDGsoAgBqEKwJBEAgASABKAIAQQxrKAIAaigCSCIBBEAjAEEQayICJAAgASABKAIAQQxrKAIAaigCGARAIAJBCGogARCQAhoCQCACLQAIRQ0AIAEgASgCAEEMaygCAGooAhgQqwlBf0cNACABIAEoAgBBDGsoAgBqQQEQkQILIAJBCGoQjwILIAJBEGokAAsgAEEBOgAACyAACwkAIAAgARDzBwsIACAAQf8BcQtQAQF+AkAgA0HAAHEEQCACIANBQGqtiCEBQgAhAgwBCyADRQ0AIAJBwAAgA2uthiABIAOtIgSIhCEBIAIgBIghAgsgACABNwMAIAAgAjcDCAvbAQIBfwJ+QQEhBAJAIABCAFIgAUL///////////8AgyIFQoCAgICAgMD//wBWIAVCgICAgICAwP//AFEbDQAgAkIAUiADQv///////////wCDIgZCgICAgICAwP//AFYgBkKAgICAgIDA//8AURsNACAAIAKEIAUgBoSEUARAQQAPCyABIAODQgBZBEBBfyEEIAAgAlQgASADUyABIANRGw0BIAAgAoUgASADhYRCAFIPC0F/IQQgACACViABIANVIAEgA1EbDQAgACAChSABIAOFhEIAUiEECyAEC+4EAQd/AkAgAARAIAAoAgAiBygCAEH53avFAkcNASAAQQA2AgAgAEEEaiEIIAFBxKUCIAEbIQMDQCAHKAIYIARNBEACQEEAIQEDQCAAKAIIIQIgASAAKAIETw0BIAIgAUEEdGooAgwiAgRAIAMoAgggAiADKAIEEQAACyABQQFqIQEMAAsACwUCQCAHKAIcIARBMGxqIgItACBBBHEEQCACKAIEIAAgAigCEGooAgBHDQELIAIoAghBAkYEQCAAIAIoAhRqKAIAIgVFDQEgACACKAIQaigCACEGQQAhAQJAAkACQAJAIAIoAgxBDmsOAwABAgMLA0AgASAGRg0DIAUgAUECdGooAgAi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AgggAiACQQRqNgIAIAJCADcCBCABQQA2AgQgAUEEahA7IAFBEGokACAAIAI2AggMBwsjAEEQayIBJABBDBAQIQIgASABQQ9qNgIIIAJBADYCCCACQgA3AgAgAUEANgIEIAFBBGoQOyABQRBqJAAgACACNgIIDAYLIwBBEGsiASQAQQwQECEDIAEgAUEPajYCCCADQaLnABAPIQIgAUEANgIEIAFBBGoQOyABQRBqJAAgACACNgIIDAULIwBBEGsiASQAQSAQECECIAEgAUEPajYCCCACQQA6ABggAkIANwMQIAJBADYCCCACQgA3AwAgAUEANgIEIAFBBGoQOyABQRBqJAAgACACNgIIDAQLIABBADoACAwDCyAAQQA2AggMAgsgAEEANgIIDAELIABCADcDCAsgABBOIAALJAAgAEEIaiABLwEAIgEEfyABBUEAQX8gAigCBCgCEBsLENYECysAIAAgASACEOsCIgEpAgA3AgAgACABKAIINgIIIAFCADcCACABQQA2AggLRwECfyMAQRBrIgIkACACIAE3AwggACABpxDcAyIDIAMpAwhCAX0iATcDCCABUARAIAIgAEEkaiACQQhqEL8ICyACQRBqJAALFQAgAC0AIEEBRwRAEBYACyAAQQhqC2oBAn8gASAAECMhBCACIAEQIyEDAn8CQCAERQRAQQAgA0UNAhogASACEEpBASABIAAQI0UNAhogACABEEoMAQsgAwRAIAAgAhBKQQEPCyAAIAEQSkEBIAIgARAjRQ0BGiABIAIQSgtBAgsLpQIBAn8gAyABNgIIIANCADcCACACIAM2AgAgACgCACgCACIBBEAgACABNgIAIAIoAgAhAwsgAyADIAAoAgQiBUY6AAwDQAJAIAMgBUYNACADKAIIIgItAAwNAAJAIAIgAigCCCIBKAIAIgRGBEACQCABKAIEIgRFDQAgBC0ADA0ADAILIAMgAigCAEcEQCACEN8CIAIoAggiAigCCCEBCyACQQE6AAwgAUEAOgAMIAEQ3gIMAgsCQCAERQ0AIAQtAAwNAAwBCyADIAIoAgBGBEAgAhDeAiACKAIIIgIoAgghAQsgAkEBOgAMIAFBADoADCABEN8CDAELIAJBAToADCABIAEgBUY6AAwgBEEBOgAMIAEhAwwBCwsgACAAKAIIQQFqNgIICxUAIAAtACBBA0cEQBAWAAsgAEEIagsQACAALQAQRQRAEBYACyAAC0QCAX8CfkEBIQMCQCABKQMAIgQgAikDACIFVA0AIAQgBVEEQCAAIAEpAwgQ1wEgACACKQMIENcBEB0NAQtBACEDCyADC8cBAgN/BH4gASgCBCEDIAEoAgAhAgNAIAIgA0YEQCAAQQA2AghCACEFIABCADcCACAAIAanEJ8HA0AgBSAGUgRAIAEoAgQhAyABKAIAIQJCACEHA0AgAiADRgRAIAAoAgAgBadBA3RqIAc3AwAgBUIBfCEFDAMFIAIoAgAgBRCcByIIIAcgByAIVBshByACQQRqIQIMAQsACwALCwUgBiACKAIAIgQoAgQgBCgCAGtBA3WtIgUgBSAGVBshBiACQQRqIQIMAQsLCwwAIAAgARCjAUEARwupAgEFfyAAIAFHBEACQCABKAIEIgMgASgCACIBa0EFdSIEIAAoAgggACgCACICa0EFdU0EQCACIAEgASAAKAIEIAJrIgVqIgIgAyAEIAVBBXUiBUsbIAFrIgEQViEGIAQgBUsEQCAAKAIEIQEDQCACIANHBEAgASACKQAANwAAIAEgAikAGDcAGCABIAIpABA3ABAgASACKQAINwAIIAFBIGohASACQSBqIQIMAQsLIAAgATYCBAwCCyAAIAEgBmo2AgQMAQsgABDgBCAAIAAgBBDzAhDPBCAAKAIEIQIDQCABIANHBEAgAiABKQAANwAAIAIgASkAGDcAGCACIAEpABA3ABAgAiABKQAINwAIIAJBIGohAiABQSBqIQEMAQsLIAAgAjYCBAsLCzgAIABBADYCCCAAQgA3AgAgACABKALMARDdASAAIAAoAgQgASgCyAEQ0QQgACgCACAAKAIEEOUCC3AAIAAgARA1IgBBDGogAUEMahA1GiAAQRhqIAFBGGoQNRogAEEkaiABQSRqEDUaIABBADoAPCAAQQA6ADAgAS0APARAIAAgASkCMDcCMCAAIAEoAjg2AjggAUIANwIwIAFBADYCOCAAQQE6ADwLIAALDwAgAC0AQARAIAAQpQELC40DAQR/IwBBEGsiAyQAIAEgABAdIQUgAiABEB0hBAJ/AkAgBUUEQEEAIARFDQIaIAMgASgCCDYCCCADIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAMoAgg2AgggAiADKQMANwIAQQEgASAAEB1FDQIaIAMgACgCCDYCCCADIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAMoAgg2AgggASADKQMANwIADAELIAQEQCADIAAoAgg2AgggAyAAKQIANwMAIAAgAigCCDYCCCAAIAIpAgA3AgAgAiADKAIINgIIIAIgAykDADcCAEEBDAILIAMgACgCCDYCCCADIAApAgA3AwAgACABKAIINgIIIAAgASkCADcCACABIAMoAgg2AgggASADKQMANwIAQQEgAiABEB1FDQEaIAMgASgCCDYCCCADIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAMoAgg2AgggAiADKQMANwIAC0ECCyEGIANBEGokACAGCwsAIABB6OcAEPkCCwsAIABB0OcAEPkCC04BAn8gACgCDARAIAAoAggQiwQgAEEANgIIIAAoAgQhAgNAIAEgAkYEQCAAQQA2AgwFIAAoAgAgAUECdGpBADYCACABQQFqIQEMAQsLCwtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQ7wchBAsgACAENgIAIAAgBCACQRhsaiICNgIIIAAgBCABQRhsajYCDCAAIAI2AgQgAAscACAAIAFB1arVKkEYQarVqtUAQavVqtUAEPgCCwkAIABBCBD6AgsVACAAIAEgAiADQQNBgICAgAIQ9gQLIAEBfyAAKAJMIgFBf0YEQCAAIAAQ8gciATYCTAsgAcALFgAgAEEIaiABQQhqEGoaIABBAToAKAswAQF/IAAoAgQiAiAAKAIIRwRAIAIgASkDADcDACAAIAJBCGo2AgQPCyAAIAEQ+QcLMQEBfyABIAVPBEAQAQALIAQgACgCCCAAKAIAayIAIAN1IgYgASABIAZJGyAAIAJPGwtKAQF/IABBADYCDCAAIAM2AhAgAQRAIAEQ8QchBAsgACAENgIAIAAgBCACQQV0aiICNgIIIAAgBCABQQV0ajYCDCAAIAI2AgQgAAs7AQF/IAAgBjYCAAJAAkAgACgCBCIHBEAgBygCACAFRw0BIAdBABCVAgsMAQsgBCADIAIgARAAAAsgAAsZACABIAIQswghASAAIAI2AgQgACABNgIACyQAIABBAk8EfyAAQQRqQXxxIgAgAEEBayIAIABBAkYbBUEBCwthAQR+IAEoAggg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KAIQIgEgACABKAIAKAIMEQAAIAAPCyAAIAIgAigCACgCCBEBADYCECAACzYAIABB8ABqEA4aIABB5ABqEKAGIABB2ABqEA4aIABBzABqEKAGIABBQGsQCxogAEE0ahALGgtkAQF/IABCADcCNCAAQgA3AkQgAEIANwI8IABCADcCVCAAIABBzABqIgE2AlAgACABNgJMIABCADcCXCAAQgA3AmwgACAAQeQAaiIBNgJoIAAgATYCZCAAQgA3AnQgABDABSAAC8sBAgV/AX4CfyABEKoEIQMCQCAAKAIEIgJFDQAgACgCAAJ/IAJBAWsgA3EgAmkiAEEBTQ0AGiADIAIgA0sNABogAyACcAsiBUECdGooAgAiBEUNACACQQFrIQYgASkDACEHIABBAUshAQNAIAQoAgAiBEUNASAEKAIEIgAgA0cEQAJAIAFFBEAgACAGcSEADAELIAAgAkkNACAAIAJwIQALIAAgBUcNAgwBCyAEKQMIIAdSDQALIAQMAQtBAAsiAEUEQBABAAsgAEEQagtGAQF/IwBBEGsiBCQAA0AgASACRwRAIAMgARBSIAFBIGohAQwBCwsgBCADNgIMIAQgAjYCCCAAIAQpAgg3AgAgBEEQaiQACzEBAX8gACgCACEBIABBADYCACABBEAgAC0ACARAIAFBCGoQqQMaCyABBEAgARANCwsLDQAgAEEQahBPIAAQCwtBAQF+An8gAS0AMARAIAAgATYCGCAAIAApAwhCAXwiAjcDCEECIAIgACkDAFYNARoLIAAgACkDEEIBfDcDEEEACwtAAgF/An5BASECIAApAwggASkDOHwiAyAAKQMAWAR/IAEpAzAhBCAAIAM3AwggACAEIAApAxB8NwMQQQAFQQELC2oBA38jAEEQayICJAAgAC0AMEH/AUcEQCMAQRBrIgEkACABQbjpACkDADcDCCACQQ9qIAAgAUEIakF/IAAtADAiAyADQf8BRhtBAnRqKAIAEQAAIAFBEGokAAsgAEH/AToAMCACQRBqJAALEgAgAEEsahCvBCAAQSBqEA4aC1EBAn8gACgCBCICIAAoAgAiAGsgASgCBCABKAIAIgFrRgR/A0ACQCAAIAJGIgMNACAAIAEQfEUNACABQSBqIQEgAEEgaiEADAELCyADBUEACwuVBAEHfyMAQSBrIgokAAJAIAMgAmsi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CyADQQhqIAAgARCMAkEBahDoASADKAIMGiAAIAMoAggiBBCDASAAIAMoAgwQggEgACABEGYLIAQgASACEIYFIANBADoAByABIARqIANBB2oQbiADQRBqJAAPCxBlAAsHACAAQQhqCwkAIAAgARCxCAsHACAAQQJJCwkAIABBEBD6AgsEAEEECwsAIAAgAUEEEIYICx0AIABBBGoQjwVBf0YEQCAAIAAoAgAoAggRAgALCxEAIAAgASABKAIAKAIoEQAACxQAIAAgASACIANBBkGAgIAgEPYECxQBAn8gACgCACECIABBADYCACACCwgAQf////8HCwUAQf8AC2EBAX8jAEEQayICJAAgAiAANgIMAkAgACABRg0AA0AgAiABQQRrIgE2AgggACABTw0BIAIoAgwgAigCCBDzAyACIAIoAgxBBGoiADYCDCACKAIIIQEMAAsACyACQRBqJAAL0AEBAn8gAkGAEHEEQCAAQSs6AAAgAEEBaiEACyACQYAIcQRAIABBIzoAACAAQQFqIQALIAJBhAJxIgNBhAJHBEAgAEGu1AA7AAAgAEECaiEACyACQYCAAXEhAgNAIAEtAAAiBARAIAAgBDoAACAAQQFqIQAgAUEBaiEBDAELCyAAAn8CQCADQYACRwRAIANBBEcNAUHGAEHmACACGwwCC0HFAEHlACACGwwBC0HBAEHhACACGyADQYQCRg0AGkHHAEHnACACGws6AAAgA0GEAkcLqgEBAX8CQCADQYAQcUUNACACRSADQcoAcSIEQQhGIARBwABGcnINACAAQSs6AAAgAEEBaiEACyADQYAEcQRAIABBIzoAACAAQQFqIQALA0AgAS0AACIEBEAgACAEOgAAIABBAWohACABQQFqIQEMAQsLIAACf0HvACADQcoAcSIBQcAARg0AGkHYAEH4ACADQYCAAXEbIAFBCEYNABpB5ABB9QAgAhsLOgAACxIAIAAtACAEQCAAQRBqEAsaCwsMACAAEBogAUECdGoLMAEBfyAAKAIAIQEgAEEANgIAIAEEQCAALQAIBEAgAUEYahDxCAsgAQRAIAEQDQsLC6QEAQt/IwBBgAFrIgokACAKIAE2AnwgAiADEP8IIQggCkGPAzYCECAKQQhqQQAgCkEQaiIJEDkhDwJAAkAgCEHlAE8EQCAIEDoiCUUNASAPIAkQRgsg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ADcC1AEgAUIANwIAIAFBADYCCCACQgA3A/gBIAJCADcD8AEgAkIANwPoASACQYCAgPwDNgKAAiACQYgCakEAQSQQLxogAkIANwOwAiACQYCAgPwDNgKsAiACQgA3ALUCIAJBwAJqQQBBJBAvGiACQYCAgPwDNgLkAiMAQRBrIgAkACACIABBBGogAkHUAWoQFCIBELsDIQ8gARALGiAAQRBqJAAgAiAPNwPgASACIA8Q9wELDwAgAEEQahCQByAAEAsaC7YGAQd/IAEQlQEhBiABIAAoAgBGBEAgACAGNgIACyAAIAAoAghBAWs2AgggACgCBCEAAn8CQCABIgMiAigCACIEBEAgASgCBEUNASABEJUBIgIoAgAiBA0BCyACKAIEIgQNAEEAIQRBAQwBCyAEIAIoAgg2AghBAAshBwJAIAIgAigCCCIFKAIAIgFGBEAgBSAENgIAIAAgAkYEQEEAIQEgBCEADAILIAUoAgQhAQwBCyAFIAQ2AgQLIAItAAxFIQggAiADRwRAIAIgAygCCCIFNgIIIAUgAygCCCgCACADR0ECdGogAjYCACACIAMoAgAiBTYCACAFIAI2AgggAiADKAIEIgU2AgQgBQRAIAUgAjYCCAsgAiADLQAMOgAMIAIgACAAIANGGyEACyAIIABFckUEQAJAIAcEQANAIAEtAAwhBAJAIAEgASgCCCIDKAIARwRAIARFBEAgAUEBOgAMIANBADoADCADEN8CIAEgACAAIAEoAgAiAUYbIQAgASgCBCEBCwJAAkACQAJAIAEoAgAiAwRAIAMtAAxFDQELIAEoAgQiAgRAIAItAAxFDQILIAFBADoADAJAIAAgASgCCCIBRgRAIAAhAQwBCyABLQAMDQYLIAFBAToADAwICyABKAIEIgJFDQELIAItAAxFDQELIANBAToADCABQQA6AAwgARDeAiABKAIIIgEoAgQhAgsgASABKAIIIgAtAAw6AAwgAEEBOgAMIAJBAToADCAAEN8CDAQLIARFBEAgAUEBOgAMIANBADoADCADEN4CIAEgACAAIAEoAgQiAUYbIQAgASgCACEBCwJAIAEoAgAiAgRAIAItAAxFDQELAkAgASgCBCIDBEAgAy0ADEUNAQsgAUEAOgAMIAEoAggiAS0ADEEAIAAgAUcbDQIgAUEBOgAMDAULIAIEfyACLQAM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NgIAIAEoAgQhBCABIAIoAgQ2AgQgAiAENgIEIAEoAgghBCABIAIoAgg2AgggAiAENgIIIAEoAgwhBCABIAIoAgw2AgwgAiAENgIMIAIQvAEgASgCCCECCyACIAYoAgw2AgAgASABKAIIQQRqNgIIIAdBIGokACAGQQA2AhAgAygCCCEFA0AgAygCBCAFRgRAIAMoAgAhAiADIAEoAgA2AgAgASACNgIAIAMgASgCBDYCBCABIAU2AgQgAygCCCECIAMgASgCCDYCCCABIAI2AgggAygCDCECIAMgASgCDDYCDCABIAI2AgwgBkEQahA7IAEQvAEMAwUgBUEEayEFIwBBIGsiCSQAAkAgASgCBCICIAEoAgBHBEAgAiEEDAELIAEoAggiBCABKAIMIgdJBEAgASAEIAcgBGtBAnVBAWpBAm1BAnQiB2ogBCACayIMayIEIAIgDBBWNgIEIAEgASgCCCAHajYCCAwBCyAJQQxqQQEgByACa0EBdSACIAdGGyICIAJBA2pBAnYgASgCEBDkASICIAEoAgQgASgCCBC6AyABKAIAIQQgASACKAIANgIAIAIgBDYCACABKAIEIQQgASACKAIENgIEIAIgBDYCBCABKAIIIQQgASACKAIINgIIIAIgBDYCCCABKAIMIQQgASACKAIMNgIMIAIgBDYCDCACELwBIAEoAgQhBAsgBEEEayAFKAIANgIAIAEgASgCBEEEazYCBCAJQSBqJAAMAQsACwALIAZBgCAQEDYCHCAGQRxqIQcjAEEgayIFJAACQCADKAIEIgEgAygCAEcEQCABIQIMAQsgAygCCCICIAMoAgwiBEkEQCADIAIgBCACa0ECdUEBakECbUECdCIEaiACIAFrIglrIgIgASAJEFY2AgQgAyADKAIIIARqNgIIDAELIAVBDGpBASAEIAFrQQF1IAEgBEYbIgEgAUEDakECdiADQQxqEOQBIgEgAygCBCADKAIIELoDIAMoAgAhAiADIAEoAgA2AgAgASACNgIAIAMoAgQhAiADIAEoAgQ2AgQgASACNgIEIAMoAgghAiADIAEoAgg2AgggASACNgIIIAMoAgwhAiADIAEoAgw2AgwgASACNgIMIAEQvAEgAygCBCECCyACQQRrIAcoAgA2AgAgAyADKAIEQQRrNgIEIAVBIGokACAGIAMoAgQiASgCADYCHCADIAFBBGo2AgQgAyAHEMQECyAGQTBqJAALIAtBCGogAxCOByALKAIMIAgpA5gBNwMAIAMgAygCFEEBajYCFCALQRBqJAAgCEGgAWokAAwBBSAAQSRqEK8CCwsL3QQCCX8DfiAAQYQEaiEIA0AgCCgCACIIBEAgCCgCCCEDIAAoApgBIAAoApQBa0EHdUEBa60hCyMAQTBrIgIkACACIAs3AygCQAJAIAEgA0EEahAdRQRAIAEgA0EQahDHB0UNAQsgAyALQQAQqAYaDAELIAMgC0EBEKgGIQQgAygCACgClAEgC6dBB3RqQShqIQojAEEQayIGJAAgA0HEAWohByAEKAIEIQkgBCgCACEFA0AgBSAJRgRAIAZBCGogByAKEKEBIAZBEGokAAUgByAFEPQGIAVBIGohBQwBCwsgAkEANgIkIAJCADcCHCACQRxqIAQoAgQgBCgCAGtBBXUQaCAEKAIEIQYgBCgCACEEIANBMGohBQNAIAQgBkYEQCADQdAAaiEGIAJBEGogAkEcahCmAiACKAIUIAIoAhAiB2tBA3WtIQ0gAygCVCADKAJQIglrQQN1rSEMQgAhCwJAAkADQCALIAxRBEAgDCELDAILIAunIQQgCyANVAR+IAcgBEEDdGopAwAFQgALIAkgBEEDdGopAwBUBEAgC0IBfCELDAELCyALIAxSDQELIAJBADYCCCACQgA3AgAgA0HEAGogAhD3BiACEA4aIAJCADcDACAGIAIQXgsgAygCRCALpyIEQQxsaiACQShqELYCIAMoAlAgBEEDdGoiAyADKQMAQgF8NwMAIAJBEGoiAyALEPYGIAIgBSAKIAMQ9QYgAxAOGiACQRxqEA4aBSACIAUgBBD7ATYCECAEQSBqIQQgAkEcaiACQRBqEEUMAQsLCyACQTBqJAAMAQsLCzMBAX8gAUGAgIDAAE8EQBABAAsgACABEPEHIgI2AgQgACACNgIAIAAgAiABQQV0ajYCCAsRACAALQCAAQRAIAAQgAEaCwuABgEHfyMAQSBrIgYkAAJAIAIQhAMiB0EATA0AIAAoAgggACgCBCIIa0EFdSAHTgRAIAZBADYCDCAIIAFrQQV1IgMgB0gEQCAGIAI2AgwgBkEMaiADEO0HIAYoAgwhAyAAKAIEIQQDQCADBEAgBCADKQAINwAAIAQgAykAIDcAGCAEIAMpABg3ABAgBCADKQAQNwAIIARBIGohBCADKAIAIQMMAQsLIAAgBDYCBCABIAhGDQILIAEgACgCBCIFIAEgB0EFdGprIgdqIQQgB0EFdSEJIAUhAwNAIAQgCE8EQCAAIAM2AgQgBSAJQQV0ayABIAcQVhoFIAMgBCkAADcAACADIAQpABg3ABggAyAEKQAQNwAQIAMgBCkACDcACCADQSBqIQMgBEEgaiEEDAELCyAGKAIMIQAjAEEQayIDJAADQCAAIAJHBEAgASACKQAINwAAIAEgAikAIDcAGCABIAIpABg3ABAgASACKQAQNwAIIAFBIGohASACKAIAIQIMAQsLIAMgATYCDCADIAA2AgggAygCDBogA0EQaiQADAELIAZBDGogACAIIAAoAgBrQQV1IAdqEPMCIAEgACgCAGtBBXUgAEEIahC4AiEFIAIQhAMhBCAFKAIIIgMgBEEFdGohBANAIAMgBEcEQCADIAIpAAg3AAAgAyACKQAgNwAYIAMgAikAGDcAECADIAIpABA3AAggA0EgaiEDIAIoAgAhAgwBCwsgBSAENgIIIAAoAgAhAiABIQMgBSgCBCEEA0AgAiADRwRAIARBIGsiBCADQSBrIgMpAAA3AAAgBCADKQAYNwAYIAQgAykAEDcAECAEIAMpAAg3AAgMAQsLIAUgBDYCBCAFIAUoAgggASAAKAIEIAFrIgEQViABajYCCCAAKAIAIQEgACAFKAIENgIAIAUgATYCBCAAKAIEIQEgACAFKAIINgIEIAUgATYCCCAAKAIIIQEgACAFKAIMNgIIIAUgATYCDCAFIAUoAgQ2AgAgBRD1BAsgBkEgaiQACyMAIAAgASkCADcCACAAIAEoAgg2AgggAEEMaiABQQxqEDUaCzkBAX8gAUEASARAEAEAC0H/////ByAAKAIIIAAoAgBrIgBBAXQiAiABIAEgAkkbIABB/////wNPGwsWACAALQAMBEAgABD9ASAAQQA6AAwLC1AAIAAoAgAEQCAAEMUHIAAoAgAQDSAAQQA2AgggAEIANwIACyAAIAEoAgA2AgAgACABKAIENgIEIAAgASgCCDYCCCABQQA2AgggAUIANwIACyUBAX8jAEEQayICJAAgAiABNgIMIAAgAkEMahDIByACQRBqJAALPgECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFB6ABrIgE2AgggARCuBxoMAQsLIAAoAgAiAARAIAAQDQsL5AEBA38gACgCBCECIAAoAgAhBCABKAIEIQMDQCACIARHBEAgA0HoAGsiAyACQegAayICKQMANwMAIAMgAigCCDYCCCACQQA2AgggAkIANwMAIAMgAikDEDcDECADIAIoAiA2AiAgAyACKQMYNwMYIAJBADYCICACQgA3AxggA0EkaiACQSRqEKoCGgwBCwsgASADNgIEIAAoAgAhBCAAIAM2AgAgASAENgIEIAAoAgQhBCAAIAEoAgg2AgQgASAENgIIIAAoAgghBCAAIAEoAgw2AgggASAENgIMIAEgASgCBDYCAAsVACAAIAEgAiADQegAQePO2BMQgwILEAAgAEHEAGoQ1wcgABCrAguIAQEDfyACIAFrIgNB8P///wdJBEACQCADQQpNBEAgACADOgALDAELIANBD3JBAWoiBRAQIQQgACAFQYCAgIB4cjYCCCAAIAQ2AgAgACADNgIEIAQhAAsDQCABIAJGRQRAIAAgAS0AADoAACAAQQFqIQAgAUEBaiEBDAELCyAAQQA6AAAPCxABAAvfAgECfyMAQRBrIgUkACAAIAEgAiADEN0EIQYCQCAEIAMQHUUNACAFIAMoAgg2AgggBSADKQIANwMAIAMgBCgCCDYCCCADIAQpAgA3AgAgBCAFKAIINgIIIAQgBSkDADcCACADIAIQHUUEQCAGQQFqIQYMAQsgBSACKAIINgIIIAUgAikCADcDACACIAMoAgg2AgggAiADKQIANwIAIAMgBSgCCDYCCCADIAUpAwA3AgAgAiABEB1FBEAgBkECaiEGDAELIAUgASgCCDYCCCAFIAEpAgA3AwAgASACKAIINgIIIAEgAikCADcCACACIAUoAgg2AgggAiAFKQMANwIAIAEgABAdRQRAIAZBA2ohBgwBCyAFIAAoAgg2AgggBSAAKQIANwMAIAAgASgCCDYCCCAAIAEpAgA3AgAgASAFKAIINgIIIAEgBSkDADcCACAGQQRqIQYLIAVBEGokACAGC44CAQJ/IwBBEGsiBCQAIAAgASACEKwCIQUCQCADIAIQHUUNACAEIAIoAgg2AgggBCACKQIANwMAIAIgAygCCDYCCCACIAMpAgA3AgAgAyAEKAIINgIIIAMgBCkDADcCACAC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QQA2AhggAEIANwMQIAAgAkEMaiIEEOoCIAQQDhogAkICNwMgIAIgBzcDGCADIAJBGGoQ4gcMAwsgAEEQaiADEF4gAyAHNwMADAILIAAgACkDCBC5ASACIAc3AxggAyACQRhqEMsDDAELIAAgACkDCBC5ASACIAc3AxggAyACQRhqEMsDCyACQUBrJAAgACABNwMoC2IBAn8jAEEgayICJAACQCABIAAoAgggACgCACIDa0EDdUsEQCABQYCAgIACTw0BIAAgAkEMaiABIAAoAgQgA2tBA3UgAEEIahCzAiIAEOwEIAAQsgILIAJBIGokAA8LEAEACywBAX8jAEEQayIDJAAgAyACNwMIIAAgA0EIahC4ASAAIAEQ4QQgA0EQaiQACwsAIAAgAUECEIMICyUAIABBNGogACgCYCABENcBEMwDIgBFBEAQAQALIABBGGopAwALVAAgACABEPICIgAgASkDIDcDICAAIAEpAxg3AxggAEEwaiABQTBqEGoaIAAgAS0AaDoAaCAAIAEpA2A3A2AgACABKQNYNwNYIAAgASkDUDcDUCAAC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQhrIgIgA0EIayIDKQMANwMADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC38BAn8gACgCBCAAKAIISQRAIAAgARCACA8LIwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQZ1QQFqEOMHIAAoAgQgACgCAGtBBnUgAEEIahDfAyICKAIIIAEQ0AEaIAIgAigCCEFAazYCCCAAIAIQtQggAhDUAyADQSBqJAALDQAgACABEBRBAToADAsYACAAQZjIATYCACAAQSBqEAsaIAAQqQULEAAgAEEwahA+IAAQpAEgAAsWACAALQAMBEAgABALGiAAQQA6AAwLC18BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkHwAGsQ8AQhAgwBCwsgACADNgIEIAEoAgwoAgAQDQsgAUEQaiQACzoBAX8gACgCBCICIAAoAghHBEAgAiAB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ADcDACACIAMpAwg3AwgMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALOgECfyMAQRBrIgMkACADIAI2AgwgA0EIaiADQQxqEJsBIQQgACABELIFIQAgBBCaASADQRBqJAAgAAsTACAAIAAoAgBBAWsiADYCACAACw8AIAAgACgCBEEBajYCBAs3AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAUECdGo2AgwgAigCDCEDIAJBEGokACADCxsBAX9BASEBIAAQhAEEfyAAEOkBQQFrBUEBCws0AQJ/IwBBEGsiAiQAIAIgACgCADYCDCACIAIoAgwgAWo2AgwgAigCDCEDIAJBEGokACADC5EBAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQQRrIgIgA0EEayIDKAIANgIADAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC6gBAQR/IAAQrwIgASgCACECIAFBADYCACAAIAIQ8QEgACABKAIENgIEIAFBADYCBCAAIAEoAgwiAjYCDCAAIAEqAhA4AhAgACABKAIIIgM2AgggAgRAIABBCGohBCADKAIEIQICQCAAKAIEIgMgA0EBayIFcUUEQCACIAVxIQIMAQsgAiADSQ0AIAIgA3AhAgsgACgCACACQQJ0aiAENgIAIAFCADcCCAsLKQEDfyMAQRBrIgEkACABQQxqIgIgADYCACACKAIAIQMgAUEQaiQAIAMLMQAgAigCACECA0ACQCAAIAFHBH8gACgCACACRw0BIAAFIAELDwsgAEEEaiEADAALAAv1AwEBfyMAQRBrIgwkACAMIAA2AgwCQAJAIAAgBUYEQCABLQAARQ0BQQAhACABQQA6AAAgBCAEKAIAIgFBAWo2AgAgAUEuOgAAIAcQDEUNAiAJKAIAIgEgCGtBnwFKDQIgCigCACECIAkgAUEEajYCACABIAI2AgAMAgsCQCAAIAZHDQAgBxAMRQ0AIAEtAABFDQFBACEAIAko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ayICEFYgAmo2AgggACABQQxqIAFBCGoQsQEgAUEQaiQACzEBAX8jAEEQayIDJAAgAyABNgIMIAMgAjYCCCAAIANBDGogA0EIahDvAyADQRBqJAALHQAjAEEQayIDJAAgACABIAIQmwkgA0EQaiQAIAALEwAgACABIAIgACgCACgCMBEFAAsMACAAQQRqELAJIAALKAECfyMAQRBrIgIkACABKAIAIAAoAgBIIQMgAkEQaiQAIAEgACADGwsQACAAIAE3AwggAEIANwMACxQAIABBqMcBNgIAIABBBGoQHiAACwkAIAAgARCxCQuFAgIHfwJ+IwBBMGsiACQAQQEgAEEYahC1CQRAQdymAigCABD/BAALIABBCGogAEEYahDtASEEIAAgAEEgahC0CSEFIwBBIGsiASQAIwBBEGsiAyQAIwBBEGsiBiQAIwBBEGsiAiQAIAIgBCkDAEKAlOvcA343AwAgAkEIaiACEO0BKQMAIQcgAkEQaiQAIAZBEGokACADIAc3AwggASADKQMINwMIIANBEGokACABKQMIIQcgASAFKQMANwMAIAEgByABKQMAfDcDECABQRhqIAFBEGoQ7QEpAwAhByABQSBqJAAgACAHNwMQIABBKGogAEEQahDtASkDACEIIABBMGokACAIC5QCAgd/An4jAEFAaiIAJABBACAAQShqELUJBEBB3KYCKAIAEP8EAAsgAEEYaiAAQShqEO0BIQQgACAAKAIwQegHbTYCDCAAQRBqIABBDGoQtAkhBSMAQSBrIgEkACMAQRBrIgMkACMAQRBrIgYkACMAQRBrIgIkACACIAQpAwBCwIQ9fjcDACACQQhqIAIQ7QEpAwAhByACQRBqJAAgBkEQaiQAIAMgBzcDCCABIAMpAwg3AwggA0EQaiQAIAEpAwghByABIAUpAwA3AwAgASAHIAEpAwB8NwMQIAFBGGogAUEQahDtASkDACEHIAFBIGokACAAIAc3AyAgAEE4aiAAQSBqEO0BKQMAIQggAEFAayQAIAgLtgEBA38jAEEQayIDJAAgAyABNgIIIAMgADYCDCADIAI2AgQgASAAECshBCACIAEQKyEBAn8CQCAERQRAQQAgAUUNAhogA0EIaiIBIANBBGoQTUEBIAMoAgggABArRQ0CGiADQQxqIAEQTQwBCyABBEAgA0EMaiADQQRq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QAJAIAUgBhArRQ0AA0AgBCAEKAIMQQhrIgA2AgwgBSAAECsNAAsgBCgCECIAIAQoAgxJBEAgBEEQaiAEQQxqEE0MAQsgBCAANgIcIAAhBQwDCyAEIAQoAhBBCGoiBjYCEAwACwALCwsLIARBIGokAAsNACAAKAIAIAEoAgBJC9IDAgJ+An8jAEEgayIEJAACQCABQv///////////wCDIgNCgICAgICAwIA8fSADQoCAgICAgMD/wwB9VARAIAFCBIYgAEI8iIQhAyAAQv//////////D4MiAEKBgICAgICAgAhaBEAgA0KBgICAgICAgMAAfCECDAILIANCgICAgICAgIBAfSECIABCgICAgICAgIAIUg0BIAIgA0IBg3whAgwBCyAAUCADQoCAgICAgMD//wBUIANCgICAgICAwP//AFEbRQRAIAFCBIYgAEI8iIRC/////////wODQoCAgICAgID8/wCEIQIMAQtCgICAgICAgPj/ACECIANC////////v//DAFYNAEIAIQIgA0IwiKciBUGR9wBJDQAgBEEQaiAAIAFC////////P4NCgICAgICAwACEIgIgBUGB9wBrEFogBCAAIAJBgfgAIAVrEJMCIAQpAwhCBIYgBCkDACIAQjyIhCECIAQpAxAgBCkDGIRCAFKtIABC//////////8Pg4QiAEKBgICAgICAgAhaBEAgAkIBfCECDAELIABCgICAgICAgIAIUg0AIAJCAYMgAnwhAgsgBEEgaiQAIAIgAUKAgICAgICAgIB/g4S/C0QBAX8jAEEQayIFJAAgBSABIAIgAyAEQoCAgICAgICAgH+FEHIgBSkDACEBIAAgBSkDCDcDCCAAIAE3AwAgBUEQaiQAC4kCAAJAIAAEfyABQf8ATQ0BAkBB+KcCKAIAKAIARQRAIAFBgH9xQYC/A0YNAwwBCyABQf8PTQRAIAAgAUE/cUGAAXI6AAEgACABQQZ2QcABcjoAAEECDwsgAUGAQHFBgMADRyABQYCwA09xRQRAIAAgAUE/cUGAAXI6AAIgACABQQx2QeABcjoAACAAIAFBBnZBP3FBgAFyOgABQQMPCyABQYCABGtB//8/TQRAIAAgAUE/cUGAAXI6AAMgACABQRJ2QfABcjoAACAAIAFBBnZBP3FBgAFyOgACIAAgAUEMdkE/cUGAAXI6AAFB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BBBrAkAgAy0APEUEQCAGQQA6ABggBkEAOgAADAELIANBIGogBBBrIAYCfyADLQAsRQRAIAZBADoAAEEADAELIAMoAjghBCADQQA2AjggAyAENgIQIAMoAighBSADQQA2AiggAyAFNgIcIAMpAzAhLSADQgA3AzAgAyAtNwMIIAMpAyAhLiADQgA3AyAgAyAuNwIUIAYgBDYCCCAGIC03AgAgA0EANgIQIANCADcDCCAGIAMoAhw2AhQgBiADKQIUNwIMIANBADYCHCADQgA3AhQgA0EIahB9GkEBCzoAGCADQSBqEEEaCyADQTBqEEEaIANBQGskACAPLQA0IgMEQEEAQQogBiANKAIAQQxqIgEQxwcEfyABQQxqIAZBDGoQHUEBcwVBAAsbIQELIA9BHGoiDS0AGARAIA0QfRoLIANFDQEMAgtBAxAbRQ0AIA9BIGoQFyErIA9BAzYCHCArQdrgABARGiAPQRxqEBwLQQkhAQsgD0GwAWokACAMEAsaIAFFBEBBASEcDAELQQMQG0UNACAaEBchLCAMQQM2AgAgLEGd5gAQESABEMcCIAwQHAsgE0EBaiETDAELCyAAQaLnABAPGgsgDEGQAWokAAsOACAAKAIAIAEgAhDKBQs/ACAAKAIAIQEjAEEQayIAJAAgAS0AGARAIAAgAjYCDCAAIAE2AgggACgCCCIBED4gAUEAOgAYCyAAQRBqJAALPAECfyAAKAIEIQIDQCACIAAoAggiAUcEQCAAIAFBGGsiATYCCCABEH0aDAELCyAAKAIAIgAEQCAAEA0LC8oBAQN/IAAoAgQhAiAAKAIAIQQgASgCBCEDA0AgAiAERwRAIANBGGsiAyACQRhrIgIpAgA3AgAgAyACKAIINgIIIAJCADcCACACQQA2AgggAyACKAIUNgIUIAMgAikCDDcCDCACQgA3AgwgAkEANgIUDAELCyABIAM2AgQgACgCACECIAAgAzYCACABIAI2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIAC10BA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkEYaxB9IQIMAQsLIAAgAzYCBCABKAIMKAIAEA0LIAFBEGokAAsMACAAIAAoAgAQ9wcLDAAgACAAKAIAEJoFC2wBAn8gASAAKAIEIAAoAgAgASgCBBDXCCICNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsoACAAQRB2IABzQa3Vwo8CbCIAQQ92IABzQZfb6JoHbCIAQQ92IABzC4kBAQJ/IwBBEGsiAyQAQRQQECECIAMgAEEIajYCCCADQQE2AgwgAiABKAIINgIQIAIgASkCADcCCCABQgA3AgAgAUEANgIIIAIgADYCBCACIAAoAgAiATYCACABIAI2AgQgACACNgIAIAAgACgCCEEBajYCCCADQQA2AgQgA0EEahA7IANBEGokAAsxAQF/IwBBEGsiAiQAIAAgACgCACABKQMAEI0DakHHjKKOBmsQ1wU2AgAgAkEQaiQACyQBAX8gAEEgaiICIAEQIiAAIAAoAiAgAiAALAArQQBIGzYCEAskAQF/IABBFGoiAiABECIgACAAKAIUIAIgACwAH0EASBs2AgwLNwEBfyAAQShqIgIgARCXASAAIAAoAiggAiAALQAzIgHAQQBIIgIbQQAgACgCLCABIAIbGzYCDAt4AQF/IwBBEGsiAiQAIABBBGoiACgCAEHE9QBHBEBBqx9B3sEAQRNB8TUQAAALIAEgABCTARCYASACIAE2AgwgAkHPATYCCCACQQhqIQEgACgCAEHE9QBHBEBBqx9B3sEAQSFBzycQAAALIAAgARCzASACQRBqJAALFwAgACABKAIAIAEgASwAC0EASBs2AigLMQECfyABKAIEIQIgACABKAIAIAEgAS0ACyIBwEEASCIDGzYCGCAAIAIgASADGzYCFAsLACAAQYzvABDaAQtlAgN/AX4gACgCBCECIABBBGoiAyEAIAEpAwAhBQNAIAIEQCAAIAIgAikDECAFVCIEGyEAIAJBBGogAiAEGygCACECDAELCwJAIAAgA0cEQCABKQMAIAApAxBaDQELIAMhAAsgAAsoAQF/IwBBEGsiAiQAIAIgAToADyAAIAJBD2pBARCIARogAkEQaiQAC/EBACAAIAEvAQA7AQAgACABKAIMNgIMIAAgASkCBDcCBCABQQA2AgwgAUIANwIEIABBEGog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IwBBEGsiBiQAIAIQDCIFQQBPBEACQCADIAIQICIEIAVrTQRAIANFDQEgAhAaIgQgBQR/IAMgBGogBCAFEIgFIAEgA0EAIAQgBWogAUsbQQAgASAETxtqBSABCyADEIgFIAIgAyAFaiIBEOIBIAZBADoADyABIARqIAZBD2oQbgwBCyACIAQgAyAFaiAEayAFQQBBACADIAEQ/QILIAZBEGokACACDAELEGUACyIBKQIANwIAIAAgASgCCDYCCCABQgA3AgAgAUEANgIIC3MBAX8jAEEQayIDJAACQCAALQAYQQFGBEAgAigCACEAIAJBADYCACABIAAQ4wYMAQsgAyACNgIMIAMgADYCCCADKAIMIQAgAygCCCIBEE8gACgCACECIABBADYCACABQQE6ABggASACNgIACyADQRBqJAALDwAgACAAKAIAEJUBNgIAC3MBAX8jAEEQayIDJAACQCAALQAYQQJGBEAgAigCACEAIAJBADYCACABIAAQ4AYMAQsgAyACNgIMIAMgADYCCCADKAIMIQAgAygCCCIBEE8gACgCACECIABBADYCACABQQI6ABggASACNgIACyADQRBqJAALCwAgAEGg7QAQogkLNwAgACABKQIANwIAIAAgASkCCDcCCCAAQgA3AhAgAEEYakGq3AAQDxogAEEANgIsIABCADcCJAsiAQF/QQEhAQNAIAFBAExFBEAgABCGBiABQQFrIQEMAQsLC2ABAX8gAEIANwIEIAAgATYCACAAQYCAgIB4NgIMIAEEQCAAQQRqIQICQAJAAkAgAS0AAEEBaw4CAQACCyAAQQhqIQILIAJBADYCAAsgAA8LQfEZQeMqQcLZAEGzLhAAAAsSACAAQSRqEAsaIABBGGoQCxoLWgEBfyAAKAIAIgEEQAJAAkACQCABLQAAQQFrDgIAAQILIABBBGoQigYPCyAAIAAoAghBEGo2AggPCyAAIAAoAgxBAWo2AgwPC0HxGUHjKkHX2wBB+9wAEAAACxIAIAAtABhBAkcEQBAWAAsgAAubAQECfwJAAkAgACgCACIBBEACQAJAAkACQCABLQAADgMGAAECCyAAKAIEIgAgASgCCEEEakYNBCAAQSBqDwsgACgCCCICIAEoAggoAgRHDQFBn94AQeMqQYLbAEGG3QAQAAALIAEhAiAAKAIMDQMLIAIPC0Hx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KQMAIAQpAwiEUA0AIABBHGogBBDRAQsgBkEQaiQAIAIL4AECBX8CfgJAIAAoAgQiAiAAKAIIIgNHBEADQCAHIAMgAmtBBnWtIghUIQMgByAIWg0CAkACQCABIAIgB6ciBEEGdCIFahCrA0EBaw4CAAQBCyAAKAIEIAVqIAEQqgYNAwsgACgCFCAAKAIQIgJrQfAAba0gB1YEQCABIAIgBEHwAGxqEKoDQQJGDQMLIAdCAXwhByAAKAIEIQIgACgCCCEDDAALAAsgACgCFCECIAAoAhAhAANAIAAgAkchAyAAIAJGDQEgASAAEKoDIQYgAEHwAGohACAGQQJHDQALCyADC0sAIAAgASkDADcDACAAIAEpAwg3AwggACACKAIINgIYIAAgAikCADcCECACQgA3AgAgAkEANgIIIABBAToAICAAQShqIAMQXRogAAs+AQJ/IAAoAgQhAgNAIAIgACgCCCIBRwRAIAAgAUGYAWsiATYCCCABENAGGgwBCwsgACgCACIABEAgABANCwu3AQEDfyAAKAIEIQMgACgCACEEIAEoAgQhAgNAIAMgBEcEQCACQZgBayICIANBmAFrIgMpAwA3AwAgAiADKQMINwMIIAJBEGogA0EQahC4AxogAkEoaiADQShqEF0aDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2AgggACgCCCECIAAgASgCDDYCCCABIAI2AgwgASABKAIENgIACxUAIAAgASACIANBmAFB7NC8DRCDAgsbACAAIAFBtajeBkGYAUHr0LwNQezQvA0Q+AILdgEDfyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EEdUEBahCBASAAKAIEIAAoAgBrQQR1IABBCGoQbCICKAIIIgQgASkDADcDACAEIAEpAwg3AwggAiACKAIIQRBqNgIIIAAgAhCNBSACENoDIANBIGokAAs5AQF+IAAgASkDADcDACAAIAEpAwg3AwggAikDACEEIABBADoAICAAIAQ3AxAgAEEoaiADEF0aIAALDQAgACABQajqABCFCAsKACABIAIQtwMaC5cBAgJ/AX4jAEEQayICJABBAiEDIAApAwgiBCAAKQMAVARAAkAgAS0AMEUNACAAIARCAXw3AwggAiABEOECIAAtACgEQCAAIAIpAwA3AxggACACKQMINwMgDAELIABBGGoiASACKQMANwMAIAEgAikDCDcDCCAAQQE6ACgLIAAgACkDEEIBfDcDEEEAIQMLIAJBEGokACADC+ABAgV/An4CQCAAKAIEIgIgACgCCCIDRwRAA0AgByADIAJrQQZ1rSIIVCEDIAcgCFoNAgJAAkAgASACIAenIgRBBnQiBWoQtgZBAWsOAgAEAQsgACgCBCAFaiABELUGDQMLIAAoAhQgACgCECICa0HwAG2tIAdWBEAgASACIARB8ABsahC0BkECRg0DCyAHQgF8IQcgACgCBCECIAAoAgghAwwACwALIAAoAhQhAiAAKAIQIQADQCAAIAJHIQMgACACRg0BIAEgABC0BiEGIABB8ABqIQAgBkECRw0ACwsgAwtAAgF/An5BASECIAApAwggASkDOHwiAyAAKQMAVAR/IAEpAzAhBCAAIAM3AwggACAEIAApAxB8NwMQQQAFQQELC8EBAgR/AX4jAEGQAWsiAyQAIAAoAgAgASACENwCRQRAIANBADoAiAEgA0HwAGohBAJAIAItABBBAUYEQCADIAIoAgg2AmAgAyACKQIANwNYIAJCADcCACACQQA2AgggA0E4aiAEEGohBSAAIAEgA0HYAGoiACADQTBqEKMEIAUQPiAAEAsaDAELIAIQygEpAwAhByADQRBqIAQQaiEGIAAgASAHIANBCGoQogQgBhA+CyADQfAAahA+CyADQZABaiQAC6ABAQJ/AkAgACgCBCAAKAIISQRAIAAgACgCBCABIAIgAxCxBkGYAWo2AgQMAQsjAEEgayIFJAAgBUEMaiAAIAAoAgQgACgCAGtBmAFtQQFqEK8GIAAoAgQgACgCAGtBmAFtIABBCGoQrgYiBCgCCCABIAIgAxCxBhogBCAEKAIIQZgBajYCCCAAIAQQrQYgBBCsBiAFQSBqJAALIAAoAgQaCwsAIAAgACABEMoFCwsAIAAgACABEMcFC4oCAgN/AX4jAEGgAWsiBCQAIAAoAgAgASACENwCRQRAIARBADoAmAECQAJAIANFDQAgAy0AIA0AIARBgAFqIARB4ABqIANBCGoQdCIDELoGIAMQMwwBCyAEIAMQoAIoAgA2AmAgBEGAAWogBEHgAGoQuQYLIARBgAFqIQMCQCACLQAQQQFGBEAgBCACKAIINgJYIAQgAikCADcDUCACQgA3AgAgAkEANgIIIARBMGogAxBqIQUgACABIARB0ABqIgAgBEEoahCjBCAFED4gABALGgwBCyACEMoBKQMAIQcgBEEIaiADEGohBiAAIAEgByAEEKIEIAYQPgsgBEGAAWoQPgsgBEGgAWokAAuTAwIFfwF+IwBBQGoiAyQAIAAgAhDLASACLQAwQQFGBEAgAyAAQegAaiACEH4LIABBCGohBAJAAkAgAC0ASARAIAAoAhwiBiAAKAIYIgdrQfAAbUEfSQ0BIAMgACgCCDYCACADIABBDGoiBSgCADYCBCADIAAoAhA2AgggAyAAQRRqKAIANgIMIABBADYCFCAFQgA3AgAgAyAGNgIUIAMgBzYCECADIABBIGooAgA2AhggAEEANgIgIABCADcDGCADQRxqIABBJGoQpgYgAyAAQThqKQMANwMwIAMgAEFAaykDADcDOCAFIAMQ7QQgBEIAEP4DIAAgACkDOEIBfDcDOCAEIAIQ7gICfyABIAUoAgAiACkDMCIIVgRAIABBQGsgCEJ/hSABfCACENkCDAELIAAgASACENkCCyEAIAMQxgEaDAILIAMgADYCACADQQRyQQBBKBAvGiADQYCAgPwDNgIsIANCADcDOCADQgA3AzAgBCADEPMGIAMQxgEaCyAEIAEgAhDZAiEACyADQUBrJAAgAAvLAQIFfwF+An8gARCqBCEDAkAgACgCBCICRQ0AIAAoAgACfyACQQFrIANxIAJpIgBBAU0NABogAyACIANLDQAaIAMgAnALIgVBAnRqKAIAIgRFDQAgAkEBayEGIAEpAwAhByAAQQFLIQEDQCAEKAIAIgRFDQEgAyAEKAIEIgBHBEACQCABRQRAIAAgBnEhAAwBCyAAIAJJDQAgACACcCEACyAAIAVHDQIMAQsgBCkDCCAHUg0ACyAEDAELQQALIgBFBEAQAQALIABBEGoLsBADEH8CfQJ+IAAtAIABRQRAIAAhDyMAQeABayIEJAAgBEHQAWogARAVAkAgBC0A2AFFDQAgAEEEaiENIABBLGohEANAIAQpA9ABIBZWBEAgBEHAAWogARBrAkAgBC0AzAFFBEBBASEADAELIARByABqIgAgASACEMEGIAQtALgBBH8gBC0AeEEBRgRAIARBOGogECAAEH4LIA8oAgAgBEHI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B0GAAWogARAVAkAgBy0AiAFFDQAgCEHQAGohBQNAIAcpA4ABIBVYBEBBASEPDAILIAdBCGoiACABIAIQwQYgBy0AeARAIActADhFBEAgBSAAEKkECyAIIBUgB0EIaiIAELwGGiAVQgF8IRUgABCgBAwBCwsgB0EIahCgBAsgB0GQAWokACAPCwsAIAAgACABEKUJCwsAIAAgACABEMAJC+oKAwN/Bn4BfCMAQfACayIDJAAgA0HgAmogARAVAkAgAy0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyADQdACaiABEBUgAy0A6AJFBEAgAEEAOgBwIABBADoAAAwBCyACIANB0AJqEKYDKQMAIQcgAykD4AIhCCADQcACaiABEBUgAy0AyAJFBEAgAEEAOgBwIABBADoAAAwBCyADQbACaiABEBUgAy0AuAJFBEAgAEEAOgBwIABBADoAAAwBCyADQQA6AKgCIANCADcDmAICQAJAAkAgAykDsAIiBkIGWARAAkACQAJAAkACQAJAAkACQAJAIAanQQFrDgYBAgMEBQgACyADQQhqIgQgARCoASADLQAQBEAgA0GYAmogBBCoBAwGCyAAQQA6AHAgAEEAOgAADAsLIANBCGoiBCABEBUgAy0AEARAIANBmAJqIAQQwAYMBQsgAEEAOgBwIABBADoAAAwKCyABKAIEIgRBCE8EQCABKAIAIgUrAAAhDCABIARBCGs2AgQgASAFQQhqNgIAIANBAToAECADIAw5AwggA0GYAmogA0EIahCnBAwECyAAQQA6AHAgAEEAOgAADAkLIANBCGogARAVIAMtABAEQCADIAMpAwhCAFI6AOgBIANBmAJqIANB6AFqEKYEDAMLIABBADoAcCAAQQA6AAAMCAsgA0EIaiABEGsCQCADLQAUIgRFBEAgAEEAOgBwIABBADoAAAwBCyADQZgCaiADQQhqEKUECyADQQhqEEEaIAQNAQwHCyADQQhqIAEQqAEgAy0AEEUNASADIAMpAwgiBjcD8AEgAyAGNwPoASADQZgCaiADQegBahC/BgsgA0HoAWogAykDwAIgA0HQAWogA0GYAmoQdCIEEPYHIAQQMyADLQCQAg0DIABBADoAcCAAQQA6AAAMBAsgAEEAOgBwIABBADoAAAwECyADQQhqIAEQFSAAQQA6AHAgAEEAOgAADAMLIABBADoAcCAAQQA6AAAMAgsgA0HAAWogARAVIAMtAMgBRQRAIABBADoAcCAAQQA6AAAMAQsgA0EANgKwASADQQA6ALgBIANCADcDqAECQAJAAkACQCADKQPAAVAEQCADQQhqIAEQawJAIAMtABQiBEUEQCAAQQA6AHAgAEEAOgAADAELIANBqAFqIgUgBSADQQhqEJcJCyADQQhqEEEaIAQNAQwECyADQQhqIAEQFSADLQAQRQRAIABBADoAcCAAQQA6AAAMBAsgA0GYAWoiBCABEBUgAy0AoAFFDQEgAiAEEKYDIQQgAyADKQMINwOIASADIAQpAwA3A5ABIANBqAFqIANBiAFqEPUCCyADQZgBaiABEBUgAy0AoAFFBEAgAEEAOgBwIABBADoAAAwDCyADKQOYASEJIANBiAFqIAEQFSADLQCQAUUEQCAAQQA6AHAgAEEAOgAADAMLAn8gAykDiAFCAVIEQEIAIQZBAAwBCyADQQhqIAEQFSADLQAQRQRAIABBADoAcCAAQQA6AAAMBAsgA0H4AGogARAVIAMtAIABRQ0CIAMpAwhQBH5CAAUgAiADQfgAahCmAykDACEKIAMpAwgLIgZC/wGDIQsgBkKAfoMhBkEBCyEBIAMgBzcDECADIAg3AwggA0EgaiADQfABahBqGiADQUBrIANBqAFqEPICGiADIAE6AHAgAyAKNwNoIAMgBiALhDcDYCADIAlCAFI6AFggACADQQhqIgAQXUEBOgBwIAAQdRoMAgsgAEEAOgBwIABBADoAAAwBCyAAQQA6AHAgAEEAOgAACyADQagBahCkAQsgA0HoAWoQ9QcLIANBmAJqEDMLIANB8AJqJAALDAAgACgCACABEJ8CCwwAIAAoAgAgARD3AQsWACAAQSxqIAEQ0QEgACgCACABEMUECysBAX8gAUEASARAEAEACyAAIAEQECICNgIEIAAgAjYCACAAIAEgAmo2AggL8BoCDn8DfiMAQbADayICJAACQCABKAIEIgRFBEAgAEEAOgBAIABBADoAAAwBCyABKAIAIgMtAABBwgBHBEBBAxAbBEAgAkGkAmoQFyENIAJBAzYCoAIgDUH44AAQERogAkGgAmoQHAsgAEEAOgBAIABBADoAAAwBCyABIARBAWs2AgQgASADQQFqNgIAIAJBkAJqIAEQrAQCQCACLQCc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AvwBIghBIE8EQCADIAMoAvgBIgcpAAg3AxAgAyAHKQAQNwMYIAMgBykAGDcDICADIAcpAAA3AwggAyAIQSBrNgL8ASADQQE6ACggAyAHQSBqNgL4ASAQQgF8IRAgA0HcAWogA0EIahBSDAELCyAFQQA6AIABIAVBADoAAAwBCyADQcwBaiADQfgBahBrAkAgAy0A2AFFBEAgBUEAOgCAASAFQQA6AAAMAQsgA0G4AWogA0H4AWoQFSADLQDAAUUEQCAFQQA6AIABIAVBADoAAAwBCyADQagBaiADQfgBahAVIAMtALABRQRAIAVBADoAgAEgBUEAOgAADAELIANBmAFqIANB+AFqEKgBIAMtAKABRQRAIAVBADoAgAEgBUEAOgAADAELIANBiAFqIANB+AFqEBUCQCADLQCQAQRAIAMpA4gBIhAgAygC/AEiB61YDQELIAVBADoAgAEgBUEAOgAADAELIAMgEKciCCADKAL4AWo2AvgBIAMgByAIayIINgL8ASAGKAI8IQogBi0AQyEHIAMgBigCQDYCECADIAYpAzg3AwggBkIANwM4IAZBADYCQCADQRhqIAZBOBApGiADIAMpAuABNwJUIAMgAygC3AE2AlAgA0EANgLkASADQgA3AtwBIANB3ABqIANBzAFqEBQaIAMgCiAHIAfAQQBIGyAIa603A4ABIAMgAykDuAE3A2ggAyADKQOoATcDcCADIAMpA5gBNwN4IAUgA0EIaiIFEJoIIAUQgAEaCyADQcwBahBBGgsgA0HcAWoQDhoLIANBgAJqJAAgCRALGiAEEAsaAkAgAi0AoAMiBEUEQCAAQQA6AEAgAEEAOgAADAELIAJBxAFqIAJBoAJqEMMDIAEgAigCsAEiAyABKAIAajYCACABIAEoAgQgA2s2AgQLIBFCAXwhESACQaACahDQBCAEDQEMAgsLIAJBIGogARAVIAJBADoAdCACQQA6AGgCQAJAIAItAChFDQAgAikDIFANACACQaACaiABEGsCQCACLQCsAiIERQRAIABBADoAQCAAQQA6AAAMAQsgAkHoAGogAkGgAmoQ+gcLIAJBoAJqEEEaIARFDQELAkAgASgCBEUNAEIAIRADQAJAIBAgAikD0AFaDQIgAkEANgIcIAJCADcCFCACQbABaiABEBUgAi0AuAFFDQAgAkEUaiACKAKwARDdAUIAIRECQANAIAIpA7ABIBFWBEAgASgCBCIDQSBJDQIgAiABKAIAIgQpABg3A7gCIAIgBCkAEDcDsAIgAiAEKQAINwOoAiACIAQpAAA3A6ACIAEgA0EgazYCBCABIARBIGo2AgAgAkEBOgDAAiARQgF8IREgAkEUaiACQaACahBSDAELCyACKALEASAQp0EHdGpByABqIAJBFGoiBBBMIBBCAXwhECAEEA4aDAILCwsgAEEAOgBAIABBADoAACACQRRqEA4aDAELIAIgAikChAI3ArACIAIgAigC7AE2AsACIAIoApACIQEgAkEANgKQAiACIAE2AqACIAIpApQCIREgAkIANwKUAiACIBE3AqQCIAIoAoACIQEgAkEANgKAAiACIAE2AqwCIAJCADcChAIgAiACKQLkATcCuAIgAkEANgLsASACQgA3AuQBIAIgAigCxAE2AsQCIAIgAigCyAE2AsgCIAIgAigCzAE2AswCIAJBADYCxAEgAkEANgLIASACQQA2AswBIAJBADoA3AIgAkEAOgDQAiACLQB0BEAgAiACKQNoNwLQAiACIAIoAnA2AtgCIAJBADYCcCACQgA3A2ggAkEBOgDcAgsgACACQaACaiIAEPwBIAAQpQELIAJB6ABqEEEaCyACQcQBahD+AQwCCyAAQQA6AEAgAEEAOgAAQQEhBAsgEUIBfCERIAJB6ABqEGEgBEUNAQsLIAJB5AFqEP0BCyACQYACahBhCyACQZACahBhCyACQbADaiQAC6QCAQR/IwBBEGsiAyQAIANBwgA6AA8gACADQQ9qIANBEGoQ2wQgASAAEK0EIAFBDGogABCtBCABKAIcIAEoAhhrQSRtrSAAEEIgASgCHCEEIAEoAhghAgNAIAIgBEYEQCABKAIoIAEoAiRrQQd1rSAAEEIgASgCKCEEIAEoAiQhAgNAIAIgBEYEQCABMQA8IAAQQiABLQA8BEAgAUEwaiAAEKYBCyADQRBqJAAFIAIgABCmASACQYABaiECDAELCwUgAiAAEK0EIANCADcCACADQQA2AgggAigCDCIFBEAgBa0gAxBCIAI1AhAgAxBCIAI1AhQgAxBCIAMgAigCGCIFIAIoAhwgBWsQiAEaCyADIAAQpgEgAkEkaiECIAMQCxoMAQsLC2AAIAAgARAUIgBBEGogAUEQakE4ECka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IAYoAmwhByAGKAJoIQIDQCACIAdHBEAgAikDACIqQgSIISkCQAJAAkACQAJAAkACQAJAAkACQCAqp0EPcQ4JCAABAgMEBwUGBwsgA0EDOgAgIANBADoAECAFIANBEGoiBBC6ASAEEDMMCAsgA0EDOgAgIANBAToAECAFIANBEGoiBBC6ASAEEDMMBwsgAygCXCEEIANBQGsgA0HYAGoQFQJAIAMtAEgEQCApIAQgAygCXGutUQ0BCyAKQQA6AAwgCkEAOgAADBoLIANBAToAICADIAMpA0A3AxAgBSADQRBqIgQQugEgBBAzDAYLIAMoAlwhBCADQUBrIANB2ABqEKgBAkAgAy0ASARAICkgBCADKAJca61RDQELIApBADoADCAKQQA6AAAMGQsgA0EAOgAgIAMgAykDQDcDECAFIANBEGoiBBC6ASAEEDMMBQsgKUIIUgRAIApBADoADCAKQQA6AAAMGAsgAygCXCIEQQhPBEAgAygCWCIMKwAAITQgAyAEQQhrNgJcIAMgDEEIajYCWCADQQI6ACAgAyA0OQMQIAUgA0EQaiIEELoBIAQQMwwFCyAKQQA6AAwgCkEAOgAADBcLIAMoAlwiBK0gKVQEQCAKQQA6AAwgCkEAOgAADBcLAkAgBARAIANBQGsiDCADKAJYICmnIgQQXyADIAMoAkg2AhggA0EANgJIIANBBDoAICADIAMpA0A3AxAgA0IANwNAIAUgA0EQaiINELoBIA0QMyAMEAsaDAELIANBADYCGCADQQA2AkggA0IANwMQIANBBDoAICADQgA3A0AgBSADQRBqIgQQugEgBBAzIANBQGsQCxogKachBAsgAyADKAJYIARqNgJYIAMgAygCXCAEazYCXAwDCyADKAJcIQQgA0FAayADQdgAahCoAQJAIAMtAEgEQCApIAQgAygCXGutUQ0BCyAKQQA6AAwgCkEAOgAADBYLIANBBToAICADIAMpA0AiKTcDGCADICk3AxAgBSADQRBqIgQQugEgBBAzDAILIApBADoADCAKQQA6AAAMFAsgA0EGOgAgIAUgA0EQaiIEELoBIAQQMwsgAkEIaiECDAELCyAGQaQBaiEFIAYoAoQBIQsgBigCgAEhAkIAISkCQANAIAIgC0YNASACKQMAISogA0EAOgAgIANBADoAEAJAICpQRQRAICkgBigC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AG0gB0EIahDyASICKAIIIAwQ6wQaIAIgAigCCEHwAGo2AgggBygCBCENIAcoAgAhDiACKAIEIQQDQCANIA5HBEAgBEHwAGsgDUHwAGsiDRDrBCEEDAELCyACIAQ2AgQgBygCACENIAcgBDYCACACIA02AgQgBygCBCEEIAcgAigCCDYCBCACIAQ2AgggBygCCCEEIAcgAigCDDYCCCACIAQ2AgwgAiACKAIENgIAIAIoAgQhBANAIAQgAigCCCINRwRAIAIgDUHwAGsiDTYCCCANEPAEGgwBCwsgAigCACICBEAgAhANCyALQSBqJAALIAwQ8AQaQQALIQIgBUEYahD1BwwBCyAKQQA6AAwgCkEAOgAAQQEhAgsgBUHIAGoQpAELICtCAXwhKyAFQeAAahBBGiACRQ0BCwsgBxD/BwsgBUGQAmokAAwQCyAsp0EBaw4EAwoDCQsLICynQQFrDgMEAgMFCyAsp0EBaw0LDAoLICynQQFrDQUMBAsgCkEAOgAMIApBADoAAAwLC0IAISkgA0IANwM4IANBADoAMCADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENCiADQUBrIANBEGoQ/QcCQCADLQBARQ0AIAMtAFBFDQAgAyADKQNINwMAICIgAxBeIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMCgsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENCSADQUBrIANBEGoQggICQCADLQBARQ0AIAMtAFBFDQAgISATELYCIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMCQsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENCCADQUBrIANBEGoQggICQCADLQBARQ0AIAMtAFBFDQAgICATELYCIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMCAsgAyACNgJcIAMgBDYCWAwGCyADQQA6ADBCACEpIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxAgKqchAgNAIAJFIClQcQ0GIANBQGsgA0EQahCCAgJAIAMtAEBFDQAgAy0AUEUNACAfIBMQtgIgAykDKCEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwGCyADQQA6ADAgA0IANwMoIANBADoAJCADQQA6ABggAyAErSAqQiCGhDcDEAJAA0AgAygCFEUEQCADKQMoUA0CCyMAQSBrIgIkACADQUBrIgVBBGohByADQRBqIgRBCGohDQJAAkADQCAEKQMYIilCAFINASACQRBqIAQQqAEgAi0AGEUEQCAFQQA6ABAgBUEAOgAEIAVBADoAAAwDCyACKQMQIilCAFUEQCAEICk3AxggAiAEEGsCQCACLQAMIgtFBEAgBUEAOgAQIAVBADoABCAFQQA6AAAMAQsgDSACEPoHIARBADoAIAsgAhBBGiALDQEMAwsgKUIAUwRAIARBAToAICAEQgAgKX03AxgMAQsgAiAEEBUgAi0ACARAIAQgAikDADcDGCANEPEEIARBADoAIAwBCwsgBUEAOgAQIAVBADoABCAFQQA6AAAMAQsgBCApQgF9NwMYIAQtACAEQCACQRBqIAQQayAFAn8gAi0AHEUEQCAHQQA6AABBAAwBCyAHIAIpAxA3AgAgByACKAIYNgIIIAJBADYCGCACQgA3AxBBAQsiBDoAECAFIAQ6AAAgAkEQahBBGgwBCyAFQQE6AAAgB0EAOgAMIAdBADoAACANLQAMBEAgByANEO4ECwsgAkEgaiQAAkAgAy0AQCINRQRAIApBADoADCAKQQA6AAAMAQsCQCAMKAIEIAwoAghJBEAgDCgCBCICQQA6AAwgAkEAOgAAIBAtAAwEQCACIBApAgA3AgAgAiAQKAIINgIIIBBCADcCACAQQQA2AgggAkEBOgAMCyAMIAJBEGo2AgQMAQsjAEEgayIHJAAgB0EMaiAMIAwoAgQgDCgCAGtBBHVBAWoQgQEgDCgCBCAMKAIAa0EEdSAMQQhqEGwiBSgCCCICQQA6AAwgAkEAOgAAIBAtAAwEQCACIBApAgA3AgAgAiAQKAIINgIIIBBCADcCACAQQQA2AgggAkEBOgAMCyAFIAUoAghBEGo2AgggDCgCBCEEIAwoAgAhCyAFKAIEIQIDQCAEIAtHBEAgAkEQayICQQA6AAAgAkEAOgAMIARBEGsiBC0ADEUNASACIAQpAgA3AgAgAiAEKAIINgIIIARCADcCACAEQQA2AgggAkEBOgAMDAELCyAFIAI2AgQgDCgCACEEIAwgAjYCACAFIAQ2AgQgDCgCBCECIAwgBSgCCDYCBCAFIAI2AgggDCgCCCECIAwgBSgCDDYCCCAFIAI2AgwgBSAFKAIENgIAIAUoAgQhAgNAIAIgBSgCCCIERwRAIAUgBEEQayIENgIIIAQQQRoMAQsLIAUoAgAiAgRAIAIQDQsgB0EgaiQACwsgEBBBGiANDQALIBoQQRoMBgsgGhBBGgwEC0IAISkgA0IANwM4IANBADoAMCADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQA0AgAkUgKVBxDQQgA0FAayADQRBqEP0HIAMtAEAEQCADQQA6AAggA0EAOgAAIAMtAFAEQCADQQE6AAggAyADKQNINwMACwJAIBcoAgQiAiAXKAIISQRAIAIgAykDADcDACACIAMpAwg3AwggFyACQRBqNgIEDAELIBcgAxD7BwsgAykDKCEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwECyADQQA6ADBCACEpIANCADcDKCADQQA6ACAgA0EAOgAYIAMgBK0gKkIghoQ3AxAgKqchAgNAIAJFIClQcQ0DIANBQGsgA0EQahCCAiADLQBABEAgHSATEPMEIAMpAyghKSADKAIUIQIMAQsLIApBADoADCAKQQA6AAAMAwsgA0EAOgAwQgAhKSADQgA3AyggA0EAOgAgIANBADoAGCADIAStICpCIIaENwMQICqnIQIDQCACRSApUHENAiADQUBrIANBEGoQggIgAy0AQARAIBwgExDzBCADKQMoISkgAygCFCECDAELCyAKQQA6AAwgCkEAOgAADAILIANBADoAMEIAISkgA0IANwMoIANBADoAICADQQA6ABggAyAErSAqQiCGhDcDECAqpyECA0AgAkUgKVBxDQEgA0FAayADQRBqEIICIAMtAEAEQCAbIBMQ8wQgAykDKCEpIAMoAhQhAgwBCwsgCkEAOgAMIApBADoAAAwBCyAGIBUoAggiAiAGKAIAajYCACAGIAYoAgQgAms2AgQgFUEQaiEVDAELCyADQeAAaiQAICMQDhoCQCAILQC8AUUEQEEDEBsEQCAIQRRqEBchKCAIQQM2AhAgKEGKPRARGiAIQRBqEBwLIBFB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BSACKQAANwMAA0ACQCACIAQiAykAADcAACACIAMpABg3ABggAiADKQAQNwAQIAIgAykACDcACCAGIAhKDQAgACAGQQF0IgJBAXIiBkEFdGohBCABIAJBAmoiAkoEQCAEQSBqIgcgBCAEIAcQIyIHGyEEIAIgBiAHGyEGCyADIQIgBCAFECNFDQELCyADIAUpAwA3AAAgAyAFKQMYNwAYIAMgBSkDEDcAECADIAUpAwg3AAgLIAVBIGokAAuSAwEHfyMAQSBrIgMkAEEBIQcCQAJAAkACQAJAAkAgASAAa0EFdQ4GBQUABAECAwsgAUEgayIBIAAQI0UNBCAAIAEQSgwECyAAIABBIGogAEFAayABQSBrEL8EGgwDCyAAIABBIGogAEFAayAAQeAAaiABQSBrEL4EGgwCCyAAIABBIGogAEFAayIFEKECGiAAQeAAaiECA0AgAiIGIAFGDQICQCACIAUQI0UNACADIAIpABg3AxggAyACKQAQNwMQIAMgAikACDcDCCADIAIpAAA3AwAgAiEEA0ACQCAEIAUiAikAADcAACAEIAIpABg3ABggBCACKQAQNwAQIAQgAikACDcACCAAIAJGBEAgACECDAELIAIhBCADIAJBIGsiBRAjDQELCyACIAMpAwA3AAAgAiADKQMYNwAYIAIgAykDEDcAECACIAMpAwg3AAggCEEBaiIIQQhHDQAgBkEgaiABRiEHDAMLIAZBIGohAiAGIQUMAAsACyAAIABBIGogAUEgaxChAhoLIANBIGokACAHC/wEAgh/An0jAEEQayIIJAAgAiACQSBqEIYBIQcgAAJ/AkAgASgCBCIDRQ0AIAEoAgACfyADQQFrIAdxIANpIgpBAU0NABogByADIAdLDQAaIAcgA3ALIgRBAnRqKAIAIgVFDQAgA0EBayEGIApBAUshCgNAIAUoAgAiBUUNASAHIAUoAgQiCUcEQAJAIApFBEAgBiAJcSEJDAELIAMgCUsNACAJIANwIQkLIAQgCUcNAgsgBUEIaiACEHxFDQALQQAMAQtBKBAQIQYgCCABQQhqIgo2AgggCCAGNgIEIAYgAikAGDcAICAGIAIpABA3ABggBiACKQAINwAQIAYgAikAADcACCAIQQE6AAwgBkEANgIAIAYgBzYCBAJAQQAgAyABKAIMQQFqsyIMIAEqAhAiCyAD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KAIAIQIgA0EANgIAIAMQjQdBAQs6AAwgBCACNgIIIANBEGokACAAIAQoAgg2AgAgACAELQAMOgAEIARBEGokAAutAQECfyMAQTBrIgQkACADLQAwQQFGBEAgBCABKQMINwMYIAQgASkDADcDECAEQSBqIAIQFCEFIAQgADYCDCMAQSBrIgEkACABIAM2AhQgASAEQQxqNgIQIAEgBEEQajYCDCABIANBGGo2AgggAUEYaiAAQcwAaiADIAFBFGogAUEIahCSByAEIAEoAhg2AgQgBCABLQAcOgAIIAFBIGokACAFEAsaCyAEQTBqJAALKgEBfiABIAAoAgQgACgCACIAa0EDda1UBH4gACABp0EDdGopAwAFQgALC6gBAgJ/AX4CQCAAKAIEIgEgACgCCCICRwRAA0AgAyACIAFrQQZ1rVoNAiABIAOnIgJBBnRqEJ0HIAAoAhQgACgCECIBa0HwAG2tIANWBEAgACgCACABIAJB8ABsahDOAQsgA0IBfCEDIAAoAgQhASAAKAIIIQIMAAsACyAAKAIUIQIgACgCECEBA0AgASACRg0BIAAoAgAgARDOASABQfAAaiEBDAALAAsLrgEBBX8jAEEQayIDJAAgAEEcaiIEEK8CIABCADcDOCAAKAIIIQUgACgCBCECA0ACQCACIAVGBEAgACgCFCECIAAoAhAhAQwBCyACQSRqIQEDQCABKAIAIgEEQCADQQhqIAQgAUEIahB+DAEFIAAgACkDOCACKQM4fDcDOCACQUBrIQIMAwsACwALCwNAIAEgAkZFBEAgACABEO4CIAFB8ABqIQEMAQsLIANBEGokAAv/AQEDfyAAKAIEIAAoAgAiA2tBA3UiAiABSQRAIwBBIGsiAyQAAkAgASACayICIAAoAgggACgCBCIBa0EDdU0EQCAAKAIEIgEgAkEDdGohAgNAIAEgAkYEQCAAIAI2AgQFIAFCADcDACABQQhqIQEMAQsLDAELIANBDGogACABIAAoAgBrQQN1IAJqEPECIAAoAgQgACgCAGtBA3UgAEEIahCzAiIEKAIIIgEgAkEDdGohAgNAIAEgAkcEQCABQgA3AwAgAUEIaiEBDAELCyAEIAI2AgggACAEEOwEIAQQsgILIANBIGokAA8LIAEgAkkEQCAAIAMgAUEDdGo2AgQLC2UBA38jAEEQayIBJAAg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BkGAAWohBgwBCwsgABDNBAsgBEGcAWoQoAdBACEGCyAEQbgCahAOGiAEQcQCahAOGiAEQdACaiQAIAYLKQAgACABEBQiACACKQMANwMQIABBGGogAxAUGiAAQSRqIAQQqgIaIAALGwAgACABQbGn7AlB6ABB4s7YE0HjztgTEPgCC10AIAAgASkCADcCACAAIAEoAgg2AgggAUIANwIAIAFBADYCCCAAIAIpAwA3AxAgACADKAIINgIgIAAgAykCADcCGCADQgA3AgAgA0EANgIIIABBJGogBBCqAhogAAsWACAAQSRqEKUBIABBGGoQCxogABALCw8AIABBIGoQyQMgABALGgtvACAAQgA3AkggAEEAOgA4IABBADoAKCAAQgA3AgAgAEEAOgBgIABBAToAXCAAQQA6AEQgAEEAOgA0IABBADoAJCAAQgA3AlAgAEIANwIIIABCADcCECAAQQA6ABggAEEAOgBsIABBgICA/AM2AlgLMAEBfyAAKAIAIQEgAEEANgIAIAEEQCAALQAIBEAgAUEIahCvBwsgAQRAIAEQDQsLCykBAX8gACgCBCECA0AgASACRkUEQCACQRhrIgIQPAwBCwsgACABNgIECwwAIAAgACgCABCyBwsxAQF/A0AgAQRAIAIgASABQRBqIAAQHSIDGyECIAFBBGogASADGygCACEBDAELCyACCw4AIABBGGoQtwEgABALC2MBA38jAEEQayIBJAAgASAANgIMIAEoAgwiACgCAARAIAAoAgAhAyAAKAIEIQIDQCACIANHBEAgAkEgaxC3ASACQShrIQIMAQsLIAAgAzYCBCABKAIMKAIAEA0LIAFBEGokAAteAQN/IwBBEGsiASQAIAEgADYCDCABKAIMIgAoAgAEQCAAKAIAIQMgACgCBCECA0AgAiADRwRAIAJBOGsQtQchAgwBCwsgACADNgIEIAEoAgwoAgAQDQsgAUEQaiQACz0BAn8gACgCBCECA0AgAiAAKAIIIgFHBEAgACABQSRrIgE2AgggARDUARoMAQsLIAAoAgAiAARAIAAQDQsLjQEBA38gACgCBCEDIAAoAgAhBCABKAIEIQIDQCADIARHBEAgAkEkayADQSRrIgMQxQMhAgwBCwsgASACNgIEIAAoAgAhAyAAIAI2AgAgASADNgIEIAAoAgQhAiAAIAEoAgg2AgQgASACNgIIIAAoAgghAiAAIAEoAgw2AgggASACNgIMIAEgASgCBDYCAAsUACAAIAEgAiADQSRByOPxOBCDAgtqAQN/IwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQJ1QQFqEOYIIAAoAgQgACgCAGtBAnUgAEEIahDkASICKAIIIgQgASgCADYCACACIARBBGo2AgggACACEJQFIAIQvAEgA0EgaiQACzABAX8gACgCBCICIAAoAghHBEAgAiABKAIANgIAIAAgAkEEajYCBA8LIAAgARC7BwsJACAAQQEQ+gILkQEBA38gASgCBCECIAAoAgAhBCAAKAIEIQMDQCADIARGRQRAIAJBAWsiAiADQQFrIgMtAAA6AAAMAQsLIAEgAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALOwAgACADNgIQIAAgAQR/IAEQEAVBAAsiAzYCACAAIAIgA2oiAjYCCCAAIAEgA2o2AgwgACACNgIEIAALpwEBBX8jAEEQayIDJAAgAyACKAAAIAEoAhAgASgCDGtBA3QiBXA2AgwgAigABCEEIAIoAAghByAAQQA2AgggAEIANwIAIAAgASgCCBBoIAAgA0EMahC8ByAHIAVwIQZBASECA0AgAiABKAIIT0UEQCADIAQgBXAiBCADKAIMaiAFcDYCDCAAIANBDGoQvAcgAkEBaiECIAQgBmohBAwBCwsgA0EQaiQAC50BAQR/IwBBIGsiAyQAIAAoAgQgACgCAGtBJG1BAWoiAkHI4/E4TwRAEAEACyADQQxqQcfj8TggACgCCCAAKAIAa0EkbSIEQQF0IgUgAiACIAVJGyAEQePxuBxPGyAAKAIEIAAoAgBrQSRtIABBCGoQugciAigCCCABEMUDGiACIAIoAghBJGo2AgggACACELkHIAIQuAcgA0EgaiQACxQAIAAgACgCBCABEMUDQSRqNgIECysBAX8gACgCBCECA0AgASACRkUEQCACQYABaxCAASECDAELCyAAIAE2AgQLDAAgACAAKAIAEMMHCzABAn8gACgCACECIAAoAgQhAQNAIAEgAkcEQCABQSRrENQBIQEMAQsLIAAgAjYCBAukAgEKfwJA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OgAAIAAgDmogAyAkQQJ0aigCACIBQRh2OgAAIAAgDWogAUEQdjoAACAAIAxqIAFBCHY6AAAgACALaiABOgAAIAAgBWogAyAlQQJ0aigCACIBQRh2OgAAIAAgCmogAUEQdjoAACAAIAlqIAFBCHY6AAAgACAIaiABOgAACyADQfAAaiQACyQBA38DQCABQQFqIQEgAEL/AFYhAyAAQgeIIQAgAw0ACyABrQsOACAAQQxqEFcgABALGguMAQIBfwF+IwBBEGsiAiQAAkAgAC0AGEEFRgRAIAAgARAiIAAgASkDEDcDEAwBCyACIAE2AgwgAiAANgIIIAIoAgwhACACKAIIIgEQrQIgASAAKAIINgIIIAEgACkDADcDACAAQQA2AgggAEIANwMAIAApAxAhAyABQQU6ABggASADNwMQCyACQRBqJAALjQICA38BfiMAQTBrIgEkACAAQQhqIQICQAJAAkACQAJAIAAtACBBAmsOBAADAQIECyAAKAIAIgIoAgQgAi0ACyICIALAQQBIG0UNAyAAIAApAwgQuQEMAwsgAUEANgIsIAFCADcCJCABQSRqIgMgAhBeIAEgASgCJDYCGCABKQIoIQQgAUEANgIsIAEgBDcCHCABQgA3AiQgACABQRhqIgAQ6gIgABAOGiADEA4aDAILIAAgAiAAKQMQEOIEDAELIABBEGogAhBeIAEgACgCEDYCDCABIAAoAhQ2AhAgASAAKAIYNgIUIABBADYCGCAAQgA3AxAgACABQQxqIgAQ6gIgABAOGgsgAUEwaiQAC3IBAX8jAEEQayICJAACQCAALQAYQQVGBEAgACABKQMANwMAIAAgASkDCDcDCAwBCyACIAE2AgwgAiAANgIIIAIoAgwhASACKAIIIgAQlgEgACABKQMINwMIIAAgASkDADcDACAAQQU6ABgLIAJBEGokAAssAQF/IAAoAgAhAgNAIAFBAExFBEAgACACKAIAIgI2AgAgAUEBayEBDAELCwtiAQF/IwBBEGsiAyQAAkAgAC0AEEUEQCABIAIQlwEMAQsgAyACNgIMIAMgADYCCCMAQRBrIgAkACADKAIIIABBBGogAygCDBAUIgEQlAkgARALGiAAQRBqJAALIANBEGokAAsYACAAQavVqtUATwRAEBYACyAAQRhsEBALLAEBfyMAQRBrIgEkACABIAA2AgwgASgCDCgCACIABEAgABANCyABQRBqJAALGAAgAEGAgIDAAE8EQBAWAAsgAEEFdBAQCzoBA38jAEEQayIBJAAgAUEMaiICIAAQHyACEGIiAEEgIAAoAgAoAhwRAwAhAyACEB4gAUEQaiQAIAMLJgAgACAAKAIYRSAAKAIQIAFyciIBNgIQIAAoAhQgAXEEQBAWAAsLLwECfyAAKAIAIQIgACgCBCEBA0AgASACRwRAIAFBDGsQCyEBDAELCyAAIAI2AgQLEQAgAC0AKARAIABBCGoQPgsLygIBAn8jAEFAaiIDJAACQAJAIAFCBVYNAAJAAkACQAJAAkAgAadBAWsOBQECAwUEAAsgA0EBOgA4IANBADYCICAAIANBGGoQtQIgA0EgahA+DAULIANBIGogAyACEHQiAhB0IgRBAjoAGCAAIANBGGoQtQIgBBA+IAIQMwwECyADQQE6ADggA0EBNgIgIAAgA0EYahC1AiADQSBqED4MAwsgA0EAOgA4IAAgA0EYahC1AiADQSBqED4MAgsCQCACRQ0AAkACQCACLQAQDgIAAQILIAIpAwAhASADQQM6ADggAyABNwMgIAAgA0EYahC1AiADQSBqED4MAwsgAikDACEBIANBAzoAOCADIAE3AyAgACADQRhqELUCIANBIGoQPgwCCyAAQQA6ACggAEEAOgAADAELIABBADoAKCAAQQA6AAALIANBQGskAAsqAQF/IAAoAgQhAgNAIAEgAkZFBEAgAkFAahDGASECDAELCyAAIAE2AgQLCwAgACAAIAEQ7gcLagEDfyMAQSBrIgMkACADQQxqIAAgACgCBCAAKAIAa0EDdUEBahDxAiAAKAIEIAAoAgBrQQN1IABBCGoQswIiAigCCCIEIAEpAwA3AwAgAiAEQQhqNgIIIAAgAhDsBCACELICIANBIGokAAs6ACAALQAMBEAgACABECIPCyAAIAEpAgA3AgAgACABKAIINgIIIAFCADcCACABQQA2AgggAEEBOgAMC4UCAQR/IwBBIGsiBSQAIAVBDGogACAAKAIEIAAoAgBrQQR1QQFqEIEBIAAoAgQgACgCAGtBBHUgAEEIahBsIgIoAggiAyABKQMANwMAIAMgASkDCDcDCCACIAIoAghBEGo2AgggAigCBCEEIAAoAgAhASAAKAIEIQMDQCABIANHBEAg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HyAEIAggByAAQRBqIgQgAEEMaiAAQQhqIAYQ8AggBhAeIAEgBCAAKAIMIAAoAgggAiADENgBIQkgAEFAayQAIAkLpAEBBX8jAEHwAGsiACQAIABCJTcDaCAAQegAaiIHQQFyQfYuIAUgAigCBBDlAxAqIQggACAENwMAIABB0ABqIgYgBkEYIAggByAAEHggBmoiCCACEK4BIQkgAEEUaiIHIAIQHyAGIAkgCCAAQSBqIgYgAEEcaiAAQRhqIAcQ8AggBxAeIAEgBiAAKAIcIAAoAhggAiADENgBIQogAEHwAGokACAKCz8AA0AgASACRwRAIAEgASgCACIAQf8ATQR/IAMoAgAgASgCAEECdGooAgAFIAALNgIAIAFBBGohAQwBCwsgAgs+AANAIAEgAkcEQCABIAEsAAAiAEEATgR/IAMoAgAgASwAAEECdGooAgAFIAALOgAAIAFBAWohAQwBCwsgAgtYAQJ/IABB/wE6ABAgAEEAOgAAIwBBEGsiAyQAIAAQMyABLQAQIgRB/wFHBEAgA0EPaiAAIAEgBEECdCACaigCABEEACAAIAEtABA6ABALIANBEGokACAAC2gBA38jAEEQayIDJAAgAC0AGEH/AUcEQCMAQRBrIgIkACACIAEpAwA3AwggA0EPaiAAIAJBCGpBfyAALQAYIgQgBEH/AUYbQQJ0aigCABEAACACQRBqJAALIABB/wE6ABggA0EQaiQAC2gBA38jAEEQayIDJAAgAC0AEEH/AUcEQCMAQRBrIgIkACACIAEpAwA3AwggA0EPaiAAIAJBCGpBfyAALQAQIgQgBEH/AUYbQQJ0aigCABEAACACQRBqJAALIABB/wE6ABAgA0EQaiQAC2UBAn8gAEH/AToAECAAQQA6AAAjAEEQayIDJAAgABA8IAEtABAiBEH/AUcEQCADIAIpAwA3AwggA0EHaiAAIAEgA0EIaiAEQQJ0aigCABEEACAAIAEtABA6ABALIANBEGokACAAC68BAQN/IAEoAgQhAiAAKAIAIQQgACgCBCEDA0AgAyAERkUEQCACQSBrIgIgA0EgayIDKQAANwAAIAIgAykAGDcAGCACIAMpABA3ABAgAiADKQAINwAIDAELCyABIAI2AgQgACgCACEDIAAgAjYCACABIAM2AgQgACgCBCECIAAgASgCCDYCBCABIAI2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IAMgASADayACaiACIAIQhwULIAIgABAaIgNqIAFBABCGBSAAIAEgAmoiABDiASAEQQA6AA8gACADaiAEQQ9qEG4LIARBEGokAAsLACAAIAEgAhDrDAsJACAAECo2AgALIwECfyAAIQEDQCABIgJBBGohASACKAIADQALIAIgAGtBAnULDwAgACAAKAIAQQRrNgIACwoAIAAoAgBBBGsLLAAgACgCABogACgCABogABCFAhogACgCABogABCZARogACgCABogABCFAhoLMAAjAEEQayICJAACQCAAIAFGBEAgAUEAOgB4DAELIAJBD2ogARCxCAsgAkEQaiQACywBAX8gACgCBCECA0AgASACRwRAIAAQhgIaIAJBBGshAgwBCwsgACABNgIECwkAIABBADYCAAsmACAAKAIAGiAAKAIAGiAAEIUCGiAAKAIAGiAAEIUCGiAAKAIAGgtLAQF/IwBBEGsiAyQAAkACQCACQR5LDQAgAS0AeA0AIAFBAToAeAwBCyADQQ9qIAIQswghAQsgA0EQaiQAIAAgAjYCBCAAIAE2AgALRAECfyMAQRBrIgEkACAAEIYCGiABQf////8DNgIMIAFB/////wc2AgggAUEMaiABQQhqEJgJKAIAIQIgAUEQaiQAIAILCwAgAEEANgIAIAALJwECfyMAQRBrIgEkACABIAA2AgwgAUEMahCLBSECIAFBEGokACACCzcBAX8jAEEQayIDJAAgAyABEK8INgIMIAMgAhCvCDYCCCAAIANBDGogA0EIahDvAyADQRBqJAALCQAgAUEEEJMJCy4BAX8jAEEQayIDJAAgACACEOIBIANBADoADyABIAJqIANBD2oQbiADQRBqJAALGwAgAUH/////A0sEQBAWAAsgAUECdEEEEI4JCwkAIAAQjAUQDQtsAQJ/IAEgACgCBCAAKAIAIAEoAgQQ0QgiAjYCBCAAKAIAIQMgACACNgIAIAEgAzYCBCAAKAIEIQIgACABKAIINgIEIAEgAjYCCCAAKAIIIQIgACABKAIMNgIIIAEgAjYCDCABIAEoAgQ2AgALFQAgAEGQ9QE2AgAgAEEQahALGiAACxUAIABB6PQBNgIAIABBDGoQCxogAAvVAwEGfwJAIAMgAiIAa0EDSEEBcg0AIAAtAABB7wFHDQAgAC0AAUG7AUcNACAAQQNBACAA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AAJAIAEEQCAKQQRqIgEgABDhASADIAooAgQ2AAAgASAAEOABDAELIApBBGoiASAAEN4DIAMgCigCBDYAACABIAAQjAELIAggARCqASABEDcaIAQgABCKATYCACAFIAAQZDYCACAKQQRqIgEgABBjIAYgARBZIAEQCxogASAAEI0BIAcgARCqASABEDcaIAAQ3wEMAQsgAhDVCCEAAkAgAQRAIApBBGoiASAAEOEBIAMgCigCBDYAACABIAAQ4AEMAQsgCkEEaiIBIAAQ3gMgAyAKKAIENgAAIAEgABCMAQsgCCABEKoBIAEQNxogBCAAEIoBNgIAIAUgABBkNgIAIApBBGoiASAAEGMgBiABEFkgARALGiABIAAQjQEgByABEKoBIAEQNxogABDfAQs2AgAgCkEQaiQACyIAA0AgACABRwRAIAJBQGogAEFAaiIAENABIQIMAQsLIAILqwEBBX8jAEEQayIEJAAjAEEgayIDJAAgA0EYaiAAIAEQsAggA0EQaiADQQxqIgUgAygCGCADKAIcIAIQogUgAygCECEGIwBBEGsiASQAIAEgADYCDCABQQxqIgAgBiAAEIsFaxCTBSEAIAFBEGokACADIAA2AgwgAyACIAMoAhQQ8AM2AgggBEEIaiAFIANBCGoQsQEgA0EgaiQAIAQoAgwhByAEQRBqJAAgBwvVBQELfyMAQRBrIhQkACACIAA2AgAgA0GABHEhFgNAIBVBBEYEQCANEAxBAUsEQCAUIA0QeTYCDCACIBRBDGpBARCTBSANEOYBIAIoAgAQ0gg2AgALIANBsAFxIgNBEEcEQCABIANBIEYEfyACKAIABSAACzYCAAsgFEEQaiQABQJAAkACQAJAAkACQCAIIBVqLAAADgUAAQMCBAULIAEgAigCADYCAAwECyABIAIoAgA2AgAgBkEgEFMhDyACIAIoAgAiEEEBajYCACAQIA86AAAMAwsgDRCLAQ0CIA1BABAZLQAAIQ8gAiACKAIAIhBBAWo2AgAgECAPOgAADAILIAwQiwEgFkVyDQEgAiAMEHkgDBDmASACKAIAENIINgIADAELIAIoAgAhGSAEIAdqIgQhEQNAAkAgBSARTQ0AIAZBwAAgESwAABCQAUUNACARQQFqIREMAQsLIA4iD0EASgRAA0AgD0UgBCART3JFBEAgD0EBayEPIBFB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IQAgC0EANgIMIBEgDygCACALKAJkIAtBDGoQWCALKAIMBEAgBSAFKAIAQQRyNgIADAELQQEhAAsgEBA3GiANEDcaIA4QNxogDBA3GiAREAsaIA8QOAwDCyACIQELIANBAWohAwwACwALIAtBkARqJAAgAAsfACAAIAEQ4AMQRiABEJcCKAIAIQEgABCXAiABNgIACwsAIABBqK0CEMABCwsAIABBsK0CEMABC8cBAQZ/IwBBEGsiBCQAIAAQlwIoAgAhBUEBAn8gAigCACAAKAIAayIDQf////8HSQRAIANBAXQMAQtBfwsiAyADQQFNGyEDIAEoAgAhBiAAKAIAIQcgBUGQA0YEf0EABSAAKAIACyADEPYDIggEQCAFQZADRwRAIAAQ4AMaCyAEQY8DNgIEIAAgBEEIaiAIIARBBGoQOSIFENoIIAUQOCABIAAoAgAgBiAHa2o2AgAgAiADIAAoAgBqNgIAIARBEGokAA8LEBYACyABAX8gASgCABCpCcAhAiAAIAEoAgA2AgQgACACOgAAC4EQAQp/IwBBkARrIgskACALIAo2AogEIAsgATYCjAQCQCAAIAtBjARqECgEQCAFIAUoAgBBBHI2AgBBACEADAELIAtBkAM2AkwgCyALQegAaiALQfAAaiALQcwAaiIBEDkiDygCACIKNgJkIAsgCkGQA2o2AmAgARAhIREgC0FAaxAhIQwgC0E0ahAhIQ4gC0EoahAhIQ0gC0EcahAhIRAjAEEQayIKJAAgCwJ/IAIEQCAKQQRqIgEgAxDcCCICEOEBIAsgCigCBDYAXCABIAIQ4AEgDSABEFkgARALGiABIAIQjAEgDiABEFkgARALGiALIAIQigE6AFsgCyACEGQ6AFogASACEGMgESABEFkgARALGiABIAIQjQEgDCABEFkgARALGiACEN8BDAELIApBBGoiASADENsIIgIQ4QEgCyAKKAIENgBcIAEgAhDgASANIAEQWSABEAsaIAEgAhCMASAOIAEQWSABEAsaIAsgAhCKAToAWyALIAIQZDoAWiABIAIQYyARIAEQWSABEAsaIAEgAhCNASAMIAEQWSABEAsaIAIQ3wELNgIYIApBEGokACAJIAgoAgA2AgAgBEGABHEhFEEAIQNBACEBA0AgASECAkACQAJAAkAgA0EERg0AIAAgC0GMBGoQKA0AQQAhCgJAAkACQAJAAkACQCALQdwAaiADaiwAAA4FAQAEAwUJCyADQQNGDQcgB0EBIAAQQBCQAQRAIAtBEGogABDeCCAQIAssABAQuwEMAgsgBSAFKAIAQQRyNgIAQQAhAAwGCyADQQNGDQYLA0AgACALQYwEahAoDQYgB0EBIAAQQBCQAUUNBiALQRBqIAAQ3gggECALLAAQELsBDAALAAsCQCAOEAxFDQAgABBAQf8BcSAOQQAQGS0AAEcNACAAEEkaIAZBADoAACAOIAIgDhAMQQFLGyEBDAYLAkAgDRAMRQ0AIAAQQEH/AXEgDUEAEBktAABHDQAgABBJGiAGQQE6AAAgDSACIA0QDEEBSxshAQwGCwJAIA4QDEUNACANEAxFDQAgBSAFKAIAQQRyNgIAQQAhAAwECyAOEAxFBEAgDRAMRQ0FCyAGIA0QDEU6AAAMBAsgFCADQQJJIAJyckUEQEEAIQEgA0ECRiALLQBfQQBHcUUNBQsgCyAMEHk2AgwgC0EQaiALQQxqEIsCIQQCQCADRQ0AIAMgC2otAFtBAUsNAANAAkAgCyAMEOYBNgIMIAQgC0EMahCvAUUNACAHQQEgBCgCACwAABCQAUUNACAEEIADDAELCyALIAwQeTYCDCAEKAIAIAtBDGoiASgCAGsiCiAQEAxNBEAgCyAQEOYBNgIMIAFBACAKaxCTBSEKIBAQ5gEhEiAMEHkhEyMAQRBrIgEkACABIBI2AgggASAKNgIMIAEgEzYCBANAAkAgAUEMaiIKIAFBCGoQrwEiEkUNACAKKAIALQAAIAFBBGoiEygCAC0AAEcNACAKEIADIBMQgAMMAQsLIAFBEGokACASQQFzDQELIAsgDBB5NgIIIAQgC0EMaiALQQhqEIsCKAIANgIACyALIAQoAgA2AgwDQAJAIAsgDBDmATYCCCALQQxqIgEgC0EIahCvAUUNACAAIAtBjARqECgNACAAEEBB/wFxIAEoAgAtAABHDQAgABBJGiABEIADDAELCyAURQ0DIAsgDBDmATYCCCALQQxqIAtBCGoQrwFFDQMgBSAFKAIAQQRyNgIAQQAhAAwCCwNAAkAgACALQYwEahAoDQACfyAHQcAAIAAQQCIBEJABBEAgCSgCACIEIAsoAogERgRAIAggCSALQYgEahDdCCAJKAIAIQQLIAkgBEEBajYCACAEIAE6AAAgCkEBagwBCyAREAxFIApFcg0BIAstAFogAUH/AXFHDQEgCygCZCIBIAsoAmBGBEAgDyALQeQAaiALQeAAahC+AiALKAJkIQELIAsgAUEEajYCZCABIAo2AgBBAAshCiAAEEkaDAELCyAKRSALKAJkIgEgDygCAEZyRQRAIAsoAmAgAUYEQCAPIAtB5ABqIAtB4ABqEL4CIAsoAmQhAQsgCyABQQRqNgJkIAEgCjYCAAsCQCALKAIYQQBMDQACQCAAIAtBjARqEChFBEAgABBAQf8BcSALLQBbRg0BCyAFIAUoAgBBBHI2AgBBACEADAMLA0AgABBJGiALKAIYQQBMDQECQCAAIAtBjARqEChFBEAgB0HAACAAEEAQkAENAQsgBSAFKAIAQQRyNgIAQQAhAAwECyAJKAIAIAsoAogERgRAIAggCSALQYgEahDdCAsgABBAIQEgCSAJKAIAIgRBAWo2AgAgBCABOgAAIAsgCygCGEEBazYCGAwACwALIAIhASAIKAIAIAkoAgBHDQMgBSAFKAIAQQRyNgIAQQAhAAwBCwJAIAJFDQBBASEKA0AgAhAMIApNDQECQCAAIAtBjARqEChFBEAgABBAQf8BcSACIAoQGS0AAEYNAQsgBSAFKAIAQQRyNgIAQQAhAAwDCyAAEEkaIApBAWohCgwACwALQQEhACAPKAIAIAsoAmRGDQBBACEAIAtBADYCECARIA8oAgAgCygCZCALQRBqEFggCygCEARAIAUgBSgCAEEEcjYCAAwBC0EBIQALIBAQCxogDRALGiAOEAsaIAwQCxogERALGiAPEDgMAwsgAiEBCyADQQFqIQMMAAsACyALQZAEaiQAIAALDAAgAEEBQS0Q7AgaCxsAIwBBEGsiASQAIABBAUEtENYDIAFBEGokAAtkAQF/IwBBEGsiBiQAIAZBADoADyAGIAU6AA4gBiAEOgANIAZBJToADCAFBEAgBkENaiAGQQ5qELgJCyACIAEgASACKAIAEI8JIAZBDGogAyAAKAIAEAkgAWo2AgAgBkEQaiQAC0IAIAEgAiADIARBBBCrASEBIAMtAABBBHFFBEAgACABQdAPaiABQewOaiABIAFB5ABIGyABQcUASBtB7A5rNgIACwtAACACIAMgAEEIaiAAKAIIKAIEEQEAIgAgAEGgAmogBSAEQQAQ6QMgAGsiAEGfAkwEQCABIABBDG1BDG82AgALC0AAIAIgAyAAQQhqIAAoAggoAgARAQAiACAAQagBaiAFIARBABDpAyAAayIAQacBTARAIAEgAEEMbUEHbzYCAAsLHQAgACABQfz///8HQQFB/////wNBgICAgAQQtwILQgAgASACIAMgBEEEEKwBIQEgAy0AAEEEcUUEQCAAIAFB0A9qIAFB7A5qIAEgAUHkAEgbIAFBxQBIG0HsDms2AgALC0AAIAIgAyAAQQhqIAAoAggoAgQRAQAiACAAQaACaiAFIARBABDrAyAAayIAQZ8CTARAIAEgAEEMbUEMbzYCAAsLQAAgAiADIABBCGogACgCCCgCABEBACIAIABBqAFqIAUgBEEAEOsDIABrIgBBpwFMBEAgASAAQQxtQQdvNgIACwtrAQJ/IwBBIGsiAyQAIANBDGogACAAKAIEIAAoAgBrQQJ1QQFqEOYIIAAoAgQgACgCAGtBAnUgAEEIahDkASICKAIIIAEoAgA2AgAgAiACKAIIQQRqNgIIIAAgAhCUBSACELwBIANBIGokAAsEAEECC9wBAQV/IwBBEGsiByQAIwBBEGsiAyQAAkAgAUHv////A00EQAJAIAEQ2QMEQCAAIAEQbyAAIQQMAQsgA0EIaiAAIAEQuwJBAWoQugIgAygCDBogACADKAIIIgQQgwEgACADKAIMEIIBIAAgARBmCyMAQRBrIgUkACAFIAI2AgwgBCECIAEhBgNAIAYEQCACIAUoAgw2AgAgBkEBayEGIAJBBGohAgwBCwsgBUEQaiQAIANBADYCBCAEIAFBAnRqIANBBGoQdyADQRBqJAAMAQsQZQALIAdBEGokACAAC7oFAQt/IwBBEGsiCyQAIAYQZyEKIAtBBGogBhDCAiIOEGMgBSADNgIAAkACQCAAIggtAAAiBkEraw4DAAEAAQsgCiAGwBBtIQYgBSAFKAIAIgdBBGo2AgAgByAGNgIAIABBAWohCAsCQAJAIAIgCCIGa0EBTA0AIAYtAABBMEcNACAGLQABQSByQfgARw0AIApBMBBtIQcgBSAFKAIAIghBBGo2AgAgCCAHNgIAIAogBiwAARBtIQcgBSAFKAIAIghBBGo2AgAgCCAHNgIAIAZBAmoiCCEGA0AgAiAGTQ0CIAYsAAAQKhCGCUUNAiAGQQFqIQYMAAsACwNAIAIgBk0NASAGLAAAIREQKhogERCcAUUNASAGQQFqIQYMAAsACwJAIAtBBGoQiwEEQCAKIAggBiAFKAIAEL8BIAUgBSgCACAGIAhrQQJ0ajYCAAwBCyAIIAYQiQIgDhBkIQ8gCCEHA0AgBiAHTQRAIAMgCCAAa0ECdGogBSgCABDjAwUCQCALQQRqIgwgDRAZLAAAQQBMDQAgCSAMIA0QGSwAAEcNACAFIAUoAgAiCUEEajYCACAJIA82AgAgDSANIAwQDEEBa0lqIQ1BACEJCyAKIAcsAAAQbSEMIAUgBSgCACIQQQRqNgIAIBAgDDYCACAHQQFqIQcgCUEBaiEJDAELCwsCQAJAA0AgAiAGTQ0BIAZBAWohByAGLQAAIgZBLkcEQCAKIAbAEG0hBiAFIAUoAgAiCEEEajYCACAIIAY2AgAgByEGDAELCyAOEIoBIQYgBSAFKAIAIghBBGoiCTYCACAIIAY2AgAMAQsgBSgCACEJIAYhBwsgCiAHIAIgCRC/ASAFIAUoAgAgAiAHa0ECdGoiBTYCACAEIAUgAyABIABrQQJ0aiABIAJGGzYCACALQQRqEAsaIAtBEGokAAviAwEIfyMAQRBrIgokACAGEGchCyAKQQRqIgcgBhDCAiIGEGMCQCAHEIsBBEAgCyAAIAIgAxC/ASAFIAMgAiAAa0ECdGoiBjYCAAwBCyAFIAM2AgACQAJAIAAiBy0AACIIQStrDgMAAQABCyALIAjAEG0hByAFIAUoAgAiCEEEajYCACAIIAc2AgAgAEEBaiEHCwJAIAIgB2tBAkgNACAHLQAAQTBHDQAgBy0AAUEgckH4AEcNACALQTAQbSEIIAUgBSgCACIJQQRqNgIAIAkgCDYCACALIAcsAAEQbSEIIAUgBSgCACIJQQRqNgIAIAkgCDYCACAHQQJqIQcLIAcgAhCJAkEAIQkgBhBkIQ1BACEIIAchBgN/IAIgBk0EfyADIAcgAGtBAnRqIAUoAgAQ4wMgBSgCAAUCQCAKQQRqIgwgCBAZLQAARQ0AIAkgCkEEaiAIEBksAABHDQAgBSAFKAIAIglBBGo2AgAgCSANNgIAIAggCCAMEAxBAWtJaiEIQQAhCQsgCyAGLAAAEG0hDCAFIAUoAgAiDkEEajYCACAOIAw2AgAgBkEBaiEGIAlBAWohCQwBCwshBgsgBCAGIAMgASAAa0ECdGogASACRhs2AgAgCkEEahALGiAKQRBqJAALqgUBC38jAEEQayIKJAAgBhBiIQkgCkEEaiAGEMUCIg4QYyAFIAM2AgACQAJAIAAiCC0AACIGQStrDgMAAQABCyAJIAbAEFMhBiAFIAUoAgAiB0EBajYCACAHIAY6AAAgAEEBaiEICwJAAkAgAiAIIgZrQQFMDQAgBi0AAEEwRw0AIAYtAAFBIHJB+ABHDQAgCUEwEFMhByAFIAUoAgAiCEEBajYCACAIIAc6AAAgCSAGLAABEFMhByAFIAUoAgAiCEEBajYCACAIIAc6AAAgBkECaiIIIQYDQCACIAZNDQIgBiwAABAqEIYJRQ0CIAZBAWohBgwACwALA0AgAiAGTQ0BIAYsAAAhERAqGiAREJwBRQ0BIAZBAWohBgwACwALAkAgCkEEahCLAQRAIAkgCCAGIAUoAgAQ5wEgBSAFKAIAIAYgCGtqNgIADAELIAggBhCJAiAOEGQhDyAIIQcDQCAGIAdNBEAgAyAIIABraiAFKAIAEIkCBQJAIApBBGoiDCANEBksAABBAEwNACALIAwgDRAZLAAARw0AIAUgBSgCACILQQFqNgIAIAsgDzoAACANIA0gDBAMQQFrSWohDUEAIQsLIAkgBywAABBTIQwgBSAFKAIAIhBBAWo2AgAgECAMOgAAIAdBAWohByALQQFqIQsMAQsLCwNAAkACQCACIAZNBEAgBiEHDAELIAZBAWohByAGLQAAIgZBLkcNASAOEIoBIQYgBSAFKAIAIghBAWo2AgAgCCAGOgAACyAJIAcgAiAFKAIAEOcBIAUgBSgCACACIAdraiIFNgIAIAQgBSADIAEgAGtqIAEgAkYbNgIAIApBBGoQCxogCkEQaiQADwsgCSAGwBBTIQYgBSAFKAIAIghBAWo2AgAgCCAGOgAAIAchBgwACwAL2QMBCH8jAEEQayIKJAAgBhBiIQsgCkEEaiIHIAYQxQIiBhBjAkAgBxCLAQRAIAsgACACIAMQ5wEgBSADIAIgAGtqIgY2AgAMAQsgBSADNgIAAkACQCAAIgctAAAiCEEraw4DAAEAAQsgCyAIwBBTIQcgBSAFKAIAIghBAWo2AgAgCCAHOgAAIABBAWohBwsCQCACIAdrQQJIDQAgBy0AAEEwRw0AIActAAFBIHJB+ABHDQAgC0EwEFMhCCAFIAUoAgAiCUEBajYCACAJIAg6AAAgCyAHLAABEFMhCCAFIAUoAgAiCUEBajYCACAJIAg6AAAgB0ECaiEHCyAHIAIQiQJBACEJIAYQZCENQQAhCCAHIQYDfyACIAZNBH8gAyAHIABraiAFKAIAEIkCIAUoAgAFAkAgCkEEaiIMIAgQGS0AAEUNACAJIApBBGogCBAZLAAARw0AIAUgBSgCACIJQQFqNgIAIAkgDToAACAIIAggDBAMQQFrSWohCEEAIQkLIAsgBiwAABBTIQwgBSAFKAIAIg5BAWo2AgAgDiAMOgAAIAZBAWohBiAJQQFqIQkMAQsLIQYLIAQgBiADIAEgAGtqIAEgAkYbNgIAIApBBGoQCxogCkEQaiQAC3UBA38gAEGIAWoQ5gMjAEEQayICJAAgAC0AgAFB/wFHBEAjAEEQayIBJAAgAUGgCSkDADcDCCACQQ9qIAAgAUEIakF/IAAtAIABIgMgA0H/AUYbQQJ0aigCABEAACABQRBqJAALIABB/wE6AIABIAJBEGokAAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQsAEhBiADIABB0AFqEIIDIQcgAEHEAWogAyAAQcQCahCBAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAnDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EBggASABECAQGCAAIAMgAUEAEBkiAmo2ArQBCyAAQcwCaiIDED8gBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQwQINACADEEgaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK0ASAEIAYQ+Qg2AgAgAEHEAWogAEEQaiAAKAIMIAQQWCAAQcwCaiAAQcgCahAnBEAgBCAEKAIAQQJyNgIACyAAKALMAiEIIAEQCxogAEHEAWoQCxogAEHQAmokACAIC0cBAn8jAEEQayIDJAAgAyABNgIMIAMgAjYCCCADQQRqIANBDGoQmwEhBCAAQasrIAMoAggQigkhACAEEJoBIANBEGokACAAC7ECAgR+BX8jAEEgayIIJAACQAJAAkAgASACRwRAQdymAigCACEMQdymAkEANgIAIwBBEGsiCSQAECoaIwBBEGsiCiQAIwBBEGsiCyQAIAsgASAIQRxqQQIQswUgCykDACEEIAogCykDCDcDCCAKIAQ3AwAgC0EQaiQAIAopAwAhBCAJIAopAwg3AwggCSAENwMAIApBEGokACAJKQMAIQQgCCAJKQMINwMQIAggBDcDCCAJQRBqJAAgCCkDECEEIAgpAwghBUHcpgIoAgAiAUUNASAIKAIcIAJHDQIgBSEGIAQhByABQcQARw0DDAILIANBBDYCAAwCC0HcpgIgDDYCACAIKAIcIAJGDQELIANBBDYCACAGIQUgByEECyAAIAU3AwAgACAENwMIIAhBIGokAAuVAQICfwJ8IwBBEGsiAyQAAkACQAJAIAAgAUcEQEHcpgIoAgAhBEHcpgJBADYCABAqGiAAIANBDGoQ7QwhBUHcpgIoAgAiAEUNASADKAIMIAFHDQIgBSEGIABBxABHDQMMAgsgAkEENgIADAILQdymAiAENgIAIAMoAgwgAUYNAQsgAkEENgIAIAYhBQsgA0EQaiQAIAULtgECA38CfSMAQRBrIgMkAAJAAkACQCAAIAFHBEBB3KYCKAIAIQVB3KYCQQA2AgAQKhojAEEQayIEJAAgBCAAIANBDGpBABCzBSAEKQMAIAQpAwgQwQkhBiAEQRBqJABB3KYCKAIAIgBFDQEgAygCDCABRw0CIAYhByAAQcQARw0DDAILIAJBBDYCAAwCC0HcpgIgBTYCACADKAIMIAFGDQELIAJBBDYCACAHIQYLIANBEGokACAGC8YBAgN/An4jAEEQayIEJAACfgJAAkAgACABRwRAAkACQCAALQAAIgVBLUcNACAAQQFqIgAgAUcNAAwBC0HcpgIoAgAhBkHcpgJBADYCACAAIARBDGogAxAqEIkFIQcCQEHcpgIoAgAiAARAIAQoAgwgAUcNASAAQcQARg0EDAULQdymAiAGNgIAIAQoAgwgAUYNBAsLCyACQQQ2AgBCAAwCCyACQQQ2AgBCfwwBC0IAIAd9IAcgBUEtRhsLIQggBEEQaiQAIAgLGAAgAEGAgICAAU8EQBAWAAsgAEEEdBAQC9cBAgR/AX4jAEEQayIEJAACfwJAAkACQCAAIAFHBEACQAJAIAAtAAAiBUEtRw0AIABBAWoiACABRw0ADAELQdymAigCACEGQdymAkEANgIAIAAgBEEMaiADECoQiQUhCAJAQdymAigCACIABEAgBCgCDCABRw0BIABBxABGDQUMBAtB3KYCIAY2AgAgBCgCDCABRg0DCwsLIAJBBDYCAEEADAMLIAhC/////w9YDQELIAJBBDYCAEF/DAELQQAgCKciAGsgACAFQS1GGwshByAEQRBqJAAgBwuQAwECfyMAQYACayIAJAAgACACNgL4ASAAIAE2AvwBIAMQsAEhBiAAQcQBaiADIABB9wFqEIMDIABBuAFqECEiASABECAQGCAAIAFBABAZIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABB/AFqIABB+AFqECgNACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCtAELIABB/AFqIgMQQCAGIAIgAEG0AWogAEEIaiAALAD3ASAAQcQBaiAAQRBqIABBDGpB8OkBEMQCDQAgAxBJGgwBCwsCQCAAQcQBahAMRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEPkINgIAIABBxAFqIABBEGogACgCDCAEEFggAEH8AWogAEH4AWoQKARAIAQgBCgCAEECcjYCAAsgACgC/AEhByABEAsaIABBxAFqEAsaIABBgAJqJAAgBwvcAQIEfwF+IwBBEGsiBCQAAn8CQAJAAkAgACABRwRAAkACQCAALQAAIgVBLUcNACAAQQFqIgAgAUcNAAwBC0HcpgIoAgAhBkHcpgJBADYCACAAIARBDGogAxAqEIkFIQgCQEHcpgIoAgAiAARAIAQoAgwgAUcNASAAQcQARg0FDAQLQdymAiAGNgIAIAQoAgwgAUYNAwsLCyACQQQ2AgBBAAwDCyAIQv//A1gNAQsgAkEENgIAQf//AwwBC0EAIAinIgBrIAAgBUEtRhsLIQcgBEEQaiQAIAdB//8DcQu2AQIBfgJ/IwBBEGsiBSQAAkACQCAAIAFHBEBB3KYCKAIAIQZB3KYCQQA2AgAgACAFQQxqIAMQKhCiCCEEAkBB3KYCKAIAIgAEQCAFKAIMIAFHDQEgAEHEAEYNAwwEC0HcpgIgBjYCACAFKAIMIAFGDQMLCyACQQQ2AgBCACEEDAELIAJBBDYCACAEQgBVBEBC////////////ACEEDAELQoCAgICAgICAgH8hBAsgBUEQaiQAIAQLwwECA38BfiMAQRBrIgQkAAJ/AkACQCAAIAFHBEBB3KYCKAIAIQVB3KYCQQA2AgAgACAEQQxqIAMQKhCiCCEHAkBB3KYCKAIAIgAEQCAEKAIMIAFHDQEgAEHEAEYNBAwDC0HcpgIgBTYCACAEKAIMIAFGDQILCyACQQQ2AgBBAAwCCyAHQoCAgIB4UyAHQv////8HVXINACAHpwwBCyACQQQ2AgBB/////wcgB0IAVQ0AGkGAgICAeAshBiAEQRBqJAAgBgszAQF/IAFBgICAgAFPBEAQAQALIAAgARD4CCICNgIEIAAgAjYCACAAIAIgAUEEdGo2AggLCgAgASAAa0EMbQunAQEDfyMAQRBrIgMkACABIAIQqgUiBUHv////A00EQAJAIAUQ2QMEQCAAIAUQbyAAIQQMAQsgA0EIaiAAIAUQuwJBAWoQugIgAygCDBogACADKAIIIgQQgwEgACADKAIMEIIBIAAgBRBmCwNAIAEgAkcEQCAEIAEQdyAEQQRqIQQgAUEEaiEBDAELCyADQQA2AgQgBCADQQRqEHcgA0EQaiQADwsQZQALXQEBfyAAQQA2AgggAEIANwIAIAEQhAMiAgRAIAAgAhD+CCAAKAIEIQIDQCABBEAgAiABKQMINwMAIAIgASkDEDcDCCACQRBqIQIgASgCACEBDAELCyAAIAI2AgQLCzEBAX9B+KcCKAIAIQEgAARAQfinAkGApwIgACAAQX9GGzYCAAtBfyABIAFBgKcCRhsLrwgBBX8gASgCACEEAkACQAJAAkACQAJAAkACfwJAAkACQAJAIANFDQAgAygCACIGRQ0AIABFBEAgAiEDDAMLIANBADYCACACIQMMAQsCQEH4pwIoAgAoAgBFBEAgAEUNASACRQ0MIAIhBgNAIAQsAAAiAwRAIAAgA0H/vwNxNgIAIABBBGohACAEQQFqIQQgBkEBayIGDQEMDgsLIABBADYCACABQQA2AgAgAiAGaw8LIAIhAyAARQ0DDAULIAQQkQEPC0EBIQUMAwtBAAwBC0EBCyEFA0AgBUUEQCAELQAAQQN2IgVBEGsgBkEadSAFanJBB0sNAwJ/IARBAWoiBSAGQYCAgBBxRQ0AGiAFLQAAQcABcUGAAUcEQCAEQQFrIQQMBwsgBEECaiIFIAZBgIAgcUUNABogBS0AAEHAAXFBgAFHBEAgBEEBayEEDAcLIARBA2oLIQQgA0EBayEDQQEhBQwBCwNAAkAgBEEDcSAELQAAIgZBAWtB/gBLcg0AIAQoAgAiBkGBgoQIayAGckGAgYKEeHENAANAIANBBGshAyAEKAIEIQYgBEEEaiEEIAYgBkGBgoQIa3JBgIGChHhxRQ0ACwsgBkH/AXEiBUEBa0H+AE0EQCADQQFrIQMgBEEBaiEEDAELCyAFQcIBayIFQTJLDQMgBEEBaiEEIAVBAnRB0M4BaigCACEGQQAhBQwACwALA0AgBUUEQCADRQ0HA0ACQAJAAkAgBC0AACIFQQFrIgdB/gBLBEAgBSEGDAELIARBA3EgA0EFSXINAQJAA0AgBCgCACIGQYGChAhrIAZyQYCBgoR4cQ0BIAAgBkH/AXE2AgAgACAELQABNgIEIAAgBC0AAjYCCCAAIAQtAAM2AgwgAEEQaiEAIARBBGohBCADQQRrIgNBBEsNAAsgBC0AACEGCyAGQf8BcSIFQQFrIQcLIAdB/gBLDQELIAAgBTYCACAAQQRqIQAgBEEBaiEEIANBAWsiAw0BDAkLCyAFQcIBayIFQTJLDQMgBEEBaiEEIAVBAnRB0M4BaigCACEGQQEhBQwBCyAELQAAIgVBA3YiB0EQayAHIAZBGnVqckEHSw0BAkACQAJ/IARBAWoiByAFQYABayAGQQZ0ciIFQQBODQAaIActAABBgAFrIgdBP0sNASAEQQJqIgggByAFQQZ0ciIFQQBODQAaIAgtAABBgAFrIgdBP0sNASAHIAVBBnRyIQUgBEEDagshBCAAIAU2AgAgA0EBayEDIABBBGohAAwBC0HcpgJBGTYCACAEQQFrIQQMBQtBACEFDAALAAsgBEEBayEEIAYNASAELQAAIQYLIAZB/wFxDQAgAARAIABBADYCACABQQA2AgALIAIgA2sPC0HcpgJBGTYCACAARQ0BCyABIAQ2AgALQX8PCyABIAQ2AgAgAgsOACAAEIgJBEAgABANCwspAQJ/IwBBEGsiAiQAIAIgATYCDCAAQcYyIAEQigkhAyACQRBqJAAgAwsXACAAEJwBQQBHIABBIHJB4QBrQQZJcgsTACAAQSByIAAgAEHBAGtBGkkbCycAIABBAEcgAEHY0AFHcSAAQfDQAUdxIABBoKwCR3EgAEG4rAJHcQvqAgEDfwJAIAEtAAANAEGryAAQngUiAQRAIAEtAAANAQsgAEEMbEGQ0QFqEJ4FIgEEQCABLQAADQELQdzIABCeBSIBBEAgAS0AAA0BC0HV0gAhAQsCQANAIAEgAmotAAAiBEUgBEEvRnJFBEBBFyEEIAJBAWoiAkEXRw0BDAILCyACIQQLQdXSACEDAkACQAJAAkACQCABLQAAIgJBLkYNACABIARqLQAADQAgASEDIAJBwwBHDQELIAMtAAFFDQELIANB1dIAEPgDRQ0AIANBq8QAEPgDDQELIABFBEBBtNABIQIgAy0AAUEuRg0CC0EADwtBnKwCKAIAIgIEQANAIAMgAkEIahD4A0UNAiACKAIgIgINAAsLQSQQOiICBEAgAkG00AEpAgA3AgAgAkEIaiIBIAMgBBApGiABIARqQQA6AAAgAkGcrAIoAgA2AiBBnKwCIAI2AgALIAJBtNABIAAgAnIbIQILIAIL3x4CEH8FfiMAQZABayIJJAAgCUEAQZABEC8iCUF/NgJMIAkgADYCLCAJQY4DNgIgIAkgADYCVCABIQQgAiEPQQAhACMAQbACayIHJAAgCSIDKAJMGgJAAkACQAJAIAMoAgQNACADENYJGiADKAIEDQAMAQsgBC0AACIBRQ0CAkACQAJAAkADQAJAAkAgAUH/AXEQ7gEEQANAIAQiAUEBaiEEIAEtAAEQ7gENAAsgA0IAEJ0BA0ACfyADKAIEIgIgAygCaEcEQCADIAJBAWo2AgQgAi0AAAwBCyADECQLEO4BDQALIAMoAgQhBCADKQNwQgBZBEAgAyAEQQFrIgQ2AgQLIAQgAygCLGusIAMpA3ggFnx8IRYMAQsCfwJAAkAgBC0AAEElRgRAIAQtAAEiAUEqRg0BIAFBJUcNAgsgA0IAEJ0BAkAgBC0AAEElRgRAA0ACfyADKAIEIgEgAygCaEcEQCADIAFBAWo2AgQgAS0AAAwBCyADECQLIgEQ7gENAAsgBEEBaiEEDAELIAMoAgQiASADKAJoRwRAIAMgAUEBajYCBCABLQAAIQEMAQsgAxAkIQELIAQtAAAgAUcEQCADKQNwQgBZBEAgAyADKAIEQQFrNgIECyABQQBODQ1BACEGIA4NDQwLCyADKAIEIAMoAixrrCADKQN4IBZ8fCEWIAQhAQwDC0EAIQggBEECagwBCwJAIAEQnAFFDQAgBC0AAkEkRw0AIAQtAAFBMGshAiMAQRBrIgEgDzYCDCABIA8gAkECdEEEa0EAIAJBAUsbaiIBQQRqNgIIIAEoAgAhCCAEQQNqDAELIA8oAgAhCCAPQQRqIQ8gBEEBagshAUEAIQlBACEEIAEtAAAQnAEEQANAIAEtAAAgBEEKbGpBMGshBCABLQABIRIgAUEBaiEBIBIQnAENAAsLIAEtAAAiDUHtAEcEfyABBUEAIQogCEEARyEJIAEtAAEhDUEAIQAgAUEBagsiAkEBaiEBQQMhBSAJIQYCQAJAAkACQAJAAkAgDUHBAGsOOgQMBAwEBAQMDAwMAwwMDAwMDAQMDAwMBAwMBAwMDAwMBAwEBAQEBAAEBQwBDAQEBAwMBAIEDAwEDAIMCyACQQJqIAEgAi0AAUHoAEYiAhshAUF+QX8gAhshBQwECyACQQJqIAEgAi0AAUHsAEYiAhshAUEDQQEgAhshBQwDC0EBIQUMAgtBAiEFDAELQQAhBSACIQELQQEgBSABLQAAIgZBL3FBA0YiAhshEAJAIAZBIHIgBiACGyILQdsARg0AAkAgC0HuAEcEQCALQeMARw0BQQEgBCAEQQFMGyEEDAILIAggECAWEIsJDAILIANCABCdAQNAAn8gAygCBCICIAMoAmhHBEAgAyACQQFqNgIEIAItAAAMAQsgAxAkCxDuAQ0ACyADKAIEIQIgAykDcEIAWQRAIAMgAkEBayICNgIECyACIAMoAixrrCADKQN4IBZ8fCEWCyADIASsIhUQnQECQCADKAIEIgIgAygCaEcEQCADIAJBAWo2AgQMAQsgAxAkQQBIDQYLIAMpA3BCAFkEQCADIAMoAgRBAWs2AgQLQRAhAgJAAkACQAJAAkACQAJAAkACQAJAIAtB2ABrDiEGCQkCCQkJCQkBCQIEAQEBCQUJCQkJCQMGCQkCCQQJCQYACyALQcEAayICQQZLQQEgAnRB8QBxRXINCAsgB0EIaiADIBBBABDSCSADKQN4QgAgAygCBCADKAIsa6x9Ug0FDAwLIAtBEHJB8wBGBEAgB0EgakF/QYECEC8aIAdBADoAICALQfMARw0GIAdBADoAQSAHQQA6AC4gB0EANgEqDAYLIAdBIGogAS0AASIFQd4ARiIGQYECEC8aIAdBADoAICABQQJqIAFBAWogBhshAgJ/AkACQCABQQJBASAGG2otAAAiAUEtRwRAIAFB3QBGDQEgBUHeAEchBSACDAMLIAcgBUHeAEciBToATgwBCyAHIAVB3gBHIgU6AH4LIAJBAWoLIQEDQAJAIAEtAAAiAkEtRwRAIAJFDQ8gAkHdAEYNCAwBC0EtIQIgAS0AASIMRSAMQd0ARnINACABQQFqIQYCQCAMIAFBAWstAAAiAU0EQCAMIQIMAQsDQCABQQFqIgEgB0EgamogBToAACABIAYtAAAiAkkNAAsLIAYhAQsgAiAHaiAFOgAhIAFBAWohAQwACwALQQghAgwCC0EKIQIMAQtBACECC0IAIRNBACEFQQAhBkEAIQ0jAEEQayIRJAACQCACQQFHIAJBJE1xRQRAQdymAkEcNgIADAELA0ACfyADKAIEIgQgAygCaEcEQCADIARBAWo2AgQgBC0AAAwBCyADECQLIgQQ7gENAAsCQAJAIARBK2sOAwABAAELQX9BACAEQS1GGyENIAMoAgQiBCADKAJoRwRAIAMgBEEBajYCBCAELQAAIQQMAQsgAxAkIQQLAkACQAJAAkAgAkEARyACQRBHcSAEQTBHckUEQAJ/IAMoAgQiBCADKAJoRwRAIAMgBEEBajYCBCAELQAADAELIAMQJAsiBEFfcUHYAEYEQEEQIQICfyADKAIEIgQgAygCaEcEQCADIARBAWo2AgQgBC0AAAwBCyADECQLIgRBwcwBai0AAEEQSQ0DIAMpA3BCAFkEQCADIAMoAgRBAWs2AgQLIANCABCdAQwGCyACDQFBCCECDAILIAJBCiACGyICIARBwcwBai0AAEsNACADKQNwQgBZBEAgAyADKAIEQQFrNgIECyADQgAQnQFB3KYCQRw2AgAMBAsgAkEKRw0AIARBMGsiBUEJTQRAQQAhBANAIARBCmwgBWoiBEGZs+bMAUkCfyADKAIEIgIgAygCaEcEQCADIAJBAWo2AgQgAi0AAAwBCyADECQLQTBrIgVBCU1xDQALIAStIRMLIAVBCUsNAiATQgp+IRUgBa0hFANAAn8gAygCBCICIAMoAmhHBEAgAyACQQFqNgIEIAItAAAMAQsgAxAkCyIEQTBrIgZBCU0gFCAVfCITQpqz5syZs+bMGVRxRQRAQQohAiAGQQlNDQMMBAsgE0IKfiIVIAatIhRCf4VYDQALQQohAgwBCyACIAJBAWtxBEAgBEHBzAFqLQAAIgYgAkkEQANAIAYgAiAFbGoiBUHH4/E4SQJ/IAMoAgQiBiADKAJoRwRAIAMgBkEBajYCBCAGLQAADAELIAMQJAsiBEHBzAFqLQAAIgYgAklxDQALIAWtIRMLIAIgBk0NASACrSEXA0AgEyAXfiIVIAatQv8BgyIUQn+FVg0CIBQgFXwhEyACAn8gAygCBCIGIAMoAmhHBEAgAyAGQQFqNgIEIAYtAAAMAQsgAxAkCyIEQcHMAWotAAAiBk0NAiARIBdCACATQgAQVCARKQMIUA0ACwwBCyACQRdsQQV2QQdxQcHOAWosAAAhDCAEQcHMAWotAAAiBSACSQRAA0AgBSAGIAx0ciIGQYCAgMAASQJ/IAMoAgQiBSADKAJoRwRAIAMgBUEBajYCBCAFLQAADAELIAMQJAsiBEHBzAFqLQAAIgUgAklxDQALIAatIRMLIAIgBU0NAEJ/IAytIhWIIhQgE1QNAANAIAWtQv8BgyATIBWGhCETIAICfyADKAIEIgYgAygCaEcEQCADIAZBAWo2AgQgBi0AAAwBCyADECQLIgRBwcwBai0AACIFTQ0BIBMgFFgNAAsLIAIgBEHBzAFqLQAATQ0AA0AgAgJ/IAMoAgQiBiADKAJoRwRAIAMgBkEBajYCBCAGLQAADAELIAMQJAtBwcwBai0AAEsNAAtB3KYCQcQANgIAQQAhDUJ/IRMLIAMpA3BCAFkEQCADIAMoAgRBAWs2AgQLIA1BAXJFIBNCf1FxBEBB3KYCQcQANgIAQn4hEwwBCyATIA2sIhSFIBR9IRMLIBFBEGokACADKQN4QgAgAygCBCADKAIsa6x9UQ0HIAhFIAtB8ABHckUEQCAIIBM+AgAMAwsgCCAQIBMQiwkMAgsgCEUNASAHKQMQIRUgBykDCCEUAkACQAJAIBAOAwABAgQLIAggFCAVEMEJOAIADAMLIAggFCAVELAFOQMADAILIAggFDcDACAIIBU3AwgMAQtBHyAEQQFqIAtB4wBHIgwbIQUCQCAQQQFGBEAgCCECIAkEQCAFQQJ0EDoiAkUNBwsgB0IANwKoAkEAIQQDQCACIQACQANAAn8gAygCBCICIAMoAmhHBEAgAyACQQFqNgIEIAItAAAMAQsgAxAkCyICIAdqLQAhRQ0BIAcgAjoAGyAHQRxqIAdBG2pBASAHQagCahDsAyICQX5GDQBBACEKIAJBf0YNCyAABEAgACAEQQJ0aiAHKAIcNgIAIARBAWohBAsgCUUgBCAFR3INAAtBASEGIAAgBUEBdEEBciIFQQJ0EPYDIgINAQwLCwtBACEKIAAhBSAHQagCagR/IAcoAqgCBUEACw0IDAELIAkEQEEAIQQgBRA6IgJFDQYDQCACIQADQAJ/IAMoAgQiAiADKAJoRwRAIAMgAkEBajYCBCACLQAADAELIAMQJAsiAiAHai0AIUUEQEEAIQUgACEKDAQLIAAgBGogAjoAACAEQQFqIgQgBUcNAAtBASEGIAAgBUEBdEEBciIFEPYDIgINAAsgACEKQQAhAAwJC0EAIQQgCARAA0ACfyADKAIEIgAgAygCaEcEQCADIABBAWo2AgQgAC0AAAwBCyADECQLIgAgB2otACEEQCAEIAhqIAA6AAAgBEEBaiEEDAEFQQAhBSAIIgAhCgwDCwALAAsDQAJ/IAMoAgQiACADKAJoRwRAIAMgAEEBajYCBCAALQAADAELIAMQJAsgB2otACENAAtBACEAQQAhCkEAIQULIAMoAgQhAiADKQNwQgBZBEAgAyACQQFrIgI2AgQLIAMpA3ggAiADKAIsa6x8IhRQIAwgFCAVUXJFcg0CIAkEQCAIIAA2AgALAkAgC0HjAEYNACAFBEAgBSAEQQJ0akEANgIACyAKRQRAQQAhCgwBCyAEIApqQQA6AAALIAUhAAsgAygCBCADKAIsa6wgAykDeCAWfHwhFiAOIAhBAEdqIQ4LIAFBAWohBCABLQABIgENAQwICwsgBSEADAELQQEhBkEAIQpBACEADAILIAkhBgwDCyAJIQYLIA4NAQtBfyEOCyAGRQ0AIAoQDSAAEA0LIAdBsAJqJAAgA0GQAWokACAOC0MAAkAgAEUNAAJAAkACQAJAIAFBAmoOBgABAgIEAwQLIAAgAjwAAA8LIAAgAj0BAA8LIAAgAj4CAA8LIAAgAjcDAAsLLAEBfyAAKAIAIgEEQCABEKEJQX8Q7AFFBEAgACgCAEUPCyAAQQA2AgALQQELLAEBfyAAKAIAIgEEQCABEKoJQX8Q7AFFBEAgACgCAEUPCyAAQQA2AgALQQELlwUBCH8gARCSCQRAQQQgASABQQRNGyEDQQEgACAAQQFNGyEHA0ACQCADIAdqQQFrQQAgA2txIgAgByAAIAdLGyEEQQAhASMAQRBrIggkAAJAIANBA3ENACAEIANwDQACfwJAQTACfyADQQhGBEAgBBA6DAELQRwhASADQQNxIANBBElyDQEgA0ECdiIAIABBAWtxDQFBMCEBQUAgA2sgBEkNAQJ/QRAhAQJAQRBBECADIANBEE0bIgAgAEEQTRsiAiACQQFrcUUEQCACIQAMAQsDQCABIgBBAXQhASAAIAJJDQALCyAEQUAgAGtPBEBB3KYCQTA2AgBBAAwBC0EAQRAgBEELakF4cSAEQQtJGyIFIABqQQxqEDoiAkUNABogAkEIayEBAkAgAEEBayACcUUEQCABIQAMAQsgAkEEayIJKAIAIgRBeHEgACACakEBa0EAIABrcUEIayICIABBACACIAFrQQ9NG2oiACABayIGayECIARBA3FFBEAgASgCACEBIAAgAjYCBCAAIAEgBmo2AgAMAQsgACACIAAoAgRBAXFyQQJyNgIEIAAgAmoiAiACKAIEQQFyNgIEIAkgBiAJKAIAQQFxckECcjYCACABIAZqIgIgAigCBEEBcjYCBCABIAYQ9QMLAkAgACgCBCICQQNxRQ0AIAJBeHEiASAFQRBqTQ0AIAAgBSACQQFxckECcjYCBCAAIAVqIgQgASAFayICQQNyNgIEIAAgAWoiASABKAIEQQFyNgIEIAQgAhD1AwsgAEEIagsLIgBFDQEaIAggADYCDEEAIQELIAELIQBBACAIKAIMIAAbIQELIAhBEGokACABDQBB2LwCKAIAIgBFDQAgABEQAAwBCwsgAQ8LIAAQEAsHACABIABrC3IBAX8jAEEQayIDJAACQCAALQAQQQFGBEAgASACKQMANwMAIAEgAikDCDcDCAwBCyADIAI2AgwgAyAANgIIIAMoAgwhASADKAIIIgAQpAEgACABKQMINwMIIAAgASkDADcDACAAQQE6ABALIANBEGokAAsJACAAIAEQjwkLBwAgAEEISwsTACABEJIJBEAgABANDwsgABANCzAAIAAQpAEgACABKAIINgIIIAAgASkCADcCACABQgA3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IAMgAjYCFCABIAJGDQECQCACIAQQK0UNACADIAMoAhQpAwA3AwggAyAENgIEIAMoAhQhAgNAAkAgAiADKAIEKQMANwMAIAAgAygCBCICRgRAIAAhAgwBCyADIAJBCGsiBDYCBCADQQhqIAQQKw0BCwsgAiADKQMINwMAIAZBAWoiBkEIRw0AIAMoAhRBCGogAUYhBQwCCyADKAIUIgRBCGohAgwACwALIANBIGokACAFC80BAQF/IwBBIGsiBiQAIAYgATYCGCAGIAA2AhwgBiACNgIUIAYgAzYCECAGIAQ2AgwgACABIAIgAyAFELkJIQUCQCAEIAMQK0UNACAGQRBqIAZBDGoQTSAGKAIQIAIQK0UEQCAFQQFqIQUMAQsgBkEUaiAGQRBqEE0gBigCFCABECtFBEAgBUECaiEFDAELIAZBGGogBkEUahBNIAYoAhggABArRQRAIAVBA2ohBQwBCyAFQQRqIQUgBkEcaiAGQRhqEE0LIAZBIGokACAFCxIAIAAgASACIAMgBCAFEL0JGgsQACAAIAEgAiADIAQQuQkaC2MCAn8BfiMAQRBrIgMkAAJAIAAtABBBAUYEQCABIAIpAwA3AwAMAQsgAyACNgIMIAMgADYCCCADKAIMIQQgAygCCCIAEDMgBCkDACEFIABBAToAECAAIAU3AwALIANBEGokAAu1AwIDfwF+IwBBIGsiAyQAAkAgAUL///////////8AgyIFQoCAgICAgMDAP30gBUKAgICAgIDAv8AAfVQEQCABQhmIpyEEIABQIAFC////D4MiBUKAgIAIVCAFQoCAgAhRG0UEQCAEQYGAgIAEaiECDAILIARBgICAgARqIQIgACAFQoCAgAiFhEIAUg0BIAIgBEEBcWohAgwBCyAAUCAFQoCAgICAgMD//wBUIAVCgICAgICAwP//AFEbRQRAIAFCGYinQf///wFxQYCAgP4HciECDAELQYCAgPwHIQIgBUL///////+/v8AAVg0AQQAhAiAFQjCIpyIEQZH+AEkNACADQRBqIAAgAUL///////8/g0KAgICAgIDAAIQiBSAEQYH+AGsQWiADIAAgBUGB/wAgBGsQkwIgAykDCCIAQhmIpyECIAMpAwAgAykDECADKQMYhEIAUq2EIgVQIABC////D4MiAEKAgIAIVCAAQoCAgAhRG0UEQCACQQFqIQIMAQsgBSAAQoCAgAiFhEIAUg0AIAJBAXEgAmohAgsgA0EgaiQAIAIgAUIgiKdBgICAgHhxcr4Lqg8CBX8PfiMAQdACayIFJAAgBEL///////8/gyELIAJC////////P4MhCiACIASFQoCAgICAgICAgH+DIQ0gBEIwiKdB//8BcSEIAkACQCACQjCIp0H//wFxIglB//8Ba0GCgH5PBEAgCEH//wFrQYGAfksNAQsgAVAgAkL///////////8AgyIMQoCAgICAgMD//wBUIAxCgICAgICAwP//AFEbRQRAIAJCgICAgICAIIQhDQwCCyADUCAEQv///////////wCDIgJCgICAgICAwP//AFQgAkKAgICAgIDA//8AURtFBEAgBEKAgICAgIAghCENIAMhAQwCCyABIAxCgICAgICAwP//AIWEUARAIAMgAkKAgICAgIDA//8AhYRQBEBCACEBQoCAgICAgOD//wAhDQwDCyANQoCAgICAgMD//wCEIQ1CACEBDAILIAMgAkKAgICAgIDA//8AhYRQBEBCACEBDAILIAEgDIRQBEBCgICAgICA4P//ACANIAIgA4RQGyENQgAhAQwCCyACIAOEUARAIA1CgICAgICAwP//AIQhDUIAIQEMAgsgDEL///////8/WARAIAVBwAJqIAEgCiABIAogClAiBht5IAZBBnStfKciBkEPaxBaQRAgBmshBiAFKQPIAiEKIAUpA8ACIQELIAJC////////P1YNACAFQbACaiADIAsgAyALIAtQIgcbeSAHQQZ0rXynIgdBD2sQWiAGIAdqQRBrIQYgBSkDuAIhCyAFKQOwAiEDCyAFQaACaiALQoCAgICAgMAAhCISQg+GIANCMYiEIgJCAEKAgICAsOa8gvUAIAJ9IgRCABBUIAVBkAJqQgAgBSkDqAJ9QgAgBEIAEFQgBUGAAmogBSkDmAJCAYYgBSkDkAJCP4iEIgRCACACQgAQVCAFQfABaiAEQgBCACAFKQOIAn1CABBUIAVB4AFqIAUpA/gBQgGGIAUpA/ABQj+IhCIEQgAgAkIAEFQgBUHQAWogBEIAQgAgBSkD6AF9QgAQVCAFQcABaiAFKQPYAUIBhiAFKQPQAUI/iIQiBEIAIAJCABBUIAVBsAFqIARCAEIAIAUpA8gBfUIAEFQgBUGgAWogAkIAIAUpA7gBQgGGIAUpA7ABQj+IhEIBfSICQgAQVCAFQZABaiADQg+GQgAgAkIAEFQgBUHwAGogAkIAQgAgBSkDqAEgBSkDoAEiDCAFKQOYAXwiBCAMVK18IARCAVatfH1CABBUIAVBgAFqQgEgBH1CACACQgAQVCAGIAkgCGtqIQYCfyAFKQNwIhNCAYYiDiAFKQOIASIPQgGGIAUpA4ABQj+IhHwiEELn7AB9IhRCIIgiAiAKQoCAgICAgMAAhCIVQgGGIhZCIIgiBH4iESABQgGGIgxCIIgiCyAQIBRWrSAOIBBWrSAFKQN4QgGGIBNCP4iEIA9CP4h8fHxCAX0iE0IgiCIQfnwiDiARVK0gDiAOIBNC/////w+DIhMgAUI/iCIXIApCAYaEQv////8PgyIKfnwiDlatfCAEIBB+fCAEIBN+IhEgCiAQfnwiDyARVK1CIIYgD0IgiIR8IA4gDiAPQiCGfCIOVq18IA4gDiAUQv////8PgyIUIAp+IhEgAiALfnwiDyARVK0gDyAPIBMgDEL+////D4MiEX58Ig9WrXx8Ig5WrXwgDiAEIBR+IhggECARfnwiBCACIAp+fCIKIAsgE358IhBCIIggCiAQVq0gBCAYVK0gBCAKVq18fEIghoR8IgQgDlStfCAEIA8gAiARfiICIAsgFH58IgtCIIggAiALVq1CIIaEfCICIA9UrSACIBBCIIZ8IAJUrXx8IgIgBFStfCIEQv////////8AWARAIBYgF4QhFSAFQdAAaiACIAQgAyASEFQgAUIxhiAFKQNYfSAFKQNQIgFCAFKtfSEKQgAgAX0hCyAGQf7/AGoMAQsgBUHgAGogBEI/hiACQgGIhCICIARCAYgiBCADIBIQVCABQjCGIAUpA2h9IAUpA2AiDEIAUq19IQpCACAMfSELIAEhDCAGQf//AGoLIgZB//8BTgRAIA1CgICAgICAwP//AIQhDUIAIQEMAQsCfiAGQQBKBEAgCkIBhiALQj+IhCEKIARC////////P4MgBq1CMIaEIQwgC0IBhgwBCyAGQY9/TARAQgAhAQwCCyAFQUBrIAIgBEEBIAZrEJMCIAVBMGogDCAVIAZB8ABqEFogBUEgaiADIBIgBSkDQCICIAUpA0giDBBUIAUpAzggBSkDKEIBhiAFKQMgIgFCP4iEfSAFKQMwIgQgAUIBhiIBVK19IQogBCABfQshBCAFQRBqIAMgEkIDQgAQVCAFIAMgEkIFQgAQVCAMIAIgAiADIAJCAYMiASAEfCIDVCAKIAEgA1atfCIBIBJWIAEgElEbrXwiAlatfCIEIAIgAiAEQoCAgICAgMD//wBUIAMgBSkDEFYgASAFKQMYIgRWIAEgBFEbca18IgJWrXwiBCACIARCgICAgICAwP//AFQgAyAFKQMAViABIAUpAwgiA1YgASADURtxrXwiASACVK18IA2EIQ0LIAAgATcDACAAIA03AwggBUHQAmokAAthAgJ/AX4jAEEQayIDJAACQCAALQAQRQRAIAEgAikDADcDAAwBCyADIAI2AgwgAyAANgIIIAMoAgwhBCADKAIIIgAQMyAEKQMAIQUgAEEAOgAQIAAgBTcDAAsgA0EQaiQAC8ABAgF/An5BfyEDAkAgAEIAUiABQv///////////wCDIgRCgICAgICAwP//AFYgBEKAgICAgIDA//8AURsNACACQv///////////wCDIgVCgICAgICAwP//AFYgBUKAgICAgIDA//8AUnENACAAIAQgBYSEUARAQQAPCyABIAKDQgBZBEAgASACUiABIAJTcQ0BIAAgASAChYRCAFIPCyAAQgBSIAEgAlUgASACURsNACAAIAEgAoWEQgBSIQMLIAMLEgAgAEUEQEEADwsgACABELIFCwwAIAAoAgAgAhCiCQspACABIAEoAgBBB2pBeHEiAUEQajYCACAAIAEpAwAgASkDCBCwBTkDAAuXGAMTfwF8An4jAEGwBGsiDCQAIAxBADYCLAJAIAG9IhpCAFMEQEEBIRBBywshEyABmiIBvSEaDAELIARBgBBxBEBBASEQQc4LIRMMAQtB0QtBzAsgBEEBcSIQGyETIBBFIRULAkAgGkKAgICAgICA+P8Ag0KAgICAgICA+P8AUQRAIABBICACIBBBA2oiAyAEQf//e3EQWyAAIBMgEBBVIABBmy1BisgAIAVBIHEiBRtBwTFB4cgAIAUbIAEgAWIbQQMQVSAAQSAgAiADIARBgMAAcxBbIAMgAiACIANIGyEJDAELIAxBEGohEQJAAn8CQCABIAxBLGoQzQkiASABoCIBRAAAAAAAAAAAYgRAIAwgDCgCLCIGQQFrNgIsIAVBIHIiDkHhAEcNAQwDCyAFQSByIg5B4QBGDQIgDCgCLCEKQQYgAyADQQBIGwwBCyAMIAZBHWsiCjYCLCABRAAAAAAAALBBoiEBQQYgAyADQQBIGwshCyAMQTBqQaACQQAgCkEAThtqIg0hBwNAIAcCfyABRAAAAAAAAPBBYyABRAAAAAAAAAAAZnEEQCABqwwBC0EACyIDNgIAIAdBBGohByABIAO4oUQAAAAAZc3NQaIiAUQAAAAAAAAAAGINAAsCQCAKQQBMBEAgCiEDIAchBiANIQgMAQsgDSEIIAohAwNAQR0gAyADQR1OGyEDAkAgB0EEayIGIAhJDQAgA60hG0IAIRoDQCAGIBpC/////w+DIAY1AgAgG4Z8IhogGkKAlOvcA4AiGkKAlOvcA359PgIAIAZBBGsiBiAITw0ACyAapyIGRQ0AIAhBBGsiCCAGNgIACwNAIAggByIGSQRAIAZBBGsiBygCAEUNAQsLIAwgDCgCLCADayIDNgIsIAYhByADQQBKDQALCyADQQBIBEAgC0EZakEJbkEBaiEPIA5B5gBGIRIDQEEJQQAgA2siAyADQQlOGyEJAkAgBiAITQRAIAgoAgAhBwwBC0GAlOvcAyAJdiEUQX8gCXRBf3MhFkEAIQMgCCEHA0AgByADIAcoAgAiFyAJdmo2AgAgFiAXcSAUbCEDIAdBBGoiByAGSQ0ACyAIKAIAIQcgA0UNACAGIAM2AgAgBkEEaiEGCyAMIAwoAiwgCWoiAzYCLCANIAggB0VBAnRqIgggEhsiByAPQQJ0aiAGIAYgB2tBAnUgD0obIQYgA0EASA0ACwtBACEDAkAgBiAITQ0AIA0gCGtBAnVBCWwhA0EKIQcgCCgCACIJQQpJDQADQCADQQFqIQMgCSAHQQpsIgdPDQALCyALIANBACAOQeYARxtrIA5B5wBGIAtBAEdxayIHIAYgDWtBAnVBCWxBCWtIBEBBBEGkAiAKQQBIGyAMaiAHQYDIAGoiCUEJbSIPQQJ0akHQH2shCkEKIQcgCSAPQQlsayIJQQdMBEADQCAHQQpsIQcgCUEBaiIJQQhHDQALCwJAIAooAgAiEiASIAduIg8gB2xrIglFIApBBGoiFCAGRnENAAJAIA9BAXFFBEBEAAAAAAAAQEMhASAHQYCU69wDRyAIIApPcg0BIApBBGstAABBAXFFDQELRAEAAAAAAEBDIQELRAAAAAAAAOA/RAAAAAAAAPA/RAAAAAAAAPg/IAYgFEYbRAAAAAAAAPg/IAkgB0EBdiIURhsgCSAUSRshGQJAIBUNACATLQAAQS1HDQAgGZohGSABmiEBCyAKIBIgCWsiCTYCACABIBmgIAFhDQAgCiAHIAlqIgM2AgAgA0GAlOvcA08EQANAIApBADYCACAIIApBBGsiCksEQCAIQQRrIghBADYCAAsgCiAKKAIAQQFqIgM2AgAgA0H/k+vcA0sNAAsLIA0gCGtBAnVBCWwhA0EKIQcgCCgCACIJQQpJDQADQCADQQFqIQMgCSAHQQpsIgdPDQALCyAKQQRqIgcgBiAGIAdLGyEGCwNAIAYiByAITSIJRQRAIAZBBGsiBigCAEUNAQsLAkAgDkHnAEcEQCAEQQhxIQoMAQsgA0F/c0F/IAtBASALGyIGIANKIANBe0pxIgobIAZqIQtBf0F+IAobIAVqIQUgBEEIcSIKDQBBdyEGAkAgCQ0AIAdBBGsoAgAiDkUNAEEKIQlBACEGIA5BCnANAANAIAYiCkEBaiEGIA4gCUEKbCIJcEUNAAsgCkF/cyEGCyAHIA1rQQJ1QQlsIQkgBUFfcUHGAEYEQEEAIQogCyAGIAlqQQlrIgZBACAGQQBKGyIGIAYgC0obIQsMAQtBACEKIAsgAyAJaiAGakEJayIGQQAgBkEAShsiBiAGIAtKGyELC0F/IQkgC0H9////B0H+////ByAKIAtyIhIbSg0BIAsgEkEAR2pBAWohDgJAIAVBX3EiFUHGAEYEQCADIA5B/////wdzSg0DIANBACADQQBKGyEGDAELIBEgAyADQR91IgZzIAZrrSAREMoCIgZrQQFMBEADQCAGQQFrIgZBMDoAACARIAZrQQJIDQALCyAGQQJrIg8gBToAACAGQQFrQS1BKyADQQBIGzoAACARIA9rIgYgDkH/////B3NKDQILIAYgDmoiAyAQQf////8Hc0oNASAAQSAgAiADIBBqIgUgBBBbIAAgEyAQEFUgAEEwIAIgBSAEQYCABHMQWwJAAkACQCAVQcYARgRAIAxBEGoiBkEIciEDIAZBCXIhCiANIAggCCANSxsiCSEIA0AgCDUCACAKEMoCIQYCQCAIIAlHBEAgBiAMQRBqTQ0BA0AgBkEBayIGQTA6AAAgBiAMQRBqSw0ACwwBCyAGIApHDQAgDEEwOgAYIAMhBgsgACAGIAogBmsQVSAIQQRqIgggDU0NAAsgEgRAIABB99wAQQEQVQsgC0EATCAHIAhNcg0BA0AgCDUCACAKEMoCIgYgDEEQaksEQANAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsLIAAgBkEJIAsgC0EJThsQVSALQQlrIQYgCEEEaiIIIAdPDQMgC0EJSiEYIAYhCyAYDQALDAILAkAgC0EASA0AIAcgCEEEaiAHIAhLGyEJIAxBEGoiBkEIciEDIAZBCXIhDSAIIQcDQCANIAc1AgAgDRDKAiIGRgRAIAxBMDoAGCADIQYLAkAgByAIRwRAIAYgDEEQak0NAQNAIAZBAWsiBkEwOgAAIAYgDEEQaksNAAsMAQsgACAGQQEQVSAGQQFqIQYgCiALckUNACAAQffcAEEBEFULIAAgBiANIAZrIgYgCyAGIAtIGxBVIAsgBmshCyAHQQRqIgcgCU8NASALQQBODQALCyAAQTAgC0ESakESQQAQWyAAIA8gESAPaxBVDAILIAshBgsgAEEwIAZBCWpBCUEAEFsLIABBICACIAUgBEGAwABzEFsgBSACIAIgBUgbIQkMAQsgEyAFQRp0QR91QQlxaiEIAkAgA0ELSw0AQQwgA2shBkQAAAAAAAAwQCEZA0AgGUQAAAAAAAAwQKIhGSAGQQFrIgYNAAsgCC0AAEEtRgRAIBkgAZogGaGgmiEBDAELIAEgGaAgGaEhAQsgESAMKAIsIgYgBkEfdSIGcyAGa60gERDKAiIGRgRAIAxBMDoADyAMQQ9qIQYLIBBBAnIhCyAFQSBxIQ0gDCgCLCEHIAZBAmsiCiAFQQ9qOgAAIAZBAWtBLUErIAdBAEgbOgAAIARBCHEhBiAMQRBqIQcDQCAHIgUCfyABmUQAAAAAAADgQWMEQCABqgwBC0GAgICAeAsiB0GQxAFqLQAAIA1yOgAAIAYgA0EASnJFIAEgB7ehRAAAAAAAADBAoiIBRAAAAAAAAAAAYXEgBUEBaiIHIAxBEGprQQFHckUEQCAFQS46AAEgBUECaiEHCyABRAAAAAAAAAAAYg0AC0F/IQlB/f///wcgCyARIAprIgZqIg1rIANIDQAgAEEgIAIgDSADQQJqIAcgDEEQaiIHayIFIAVBAmsgA0gbIAUgAxsiCWoiAyAEEFsgACAIIAsQVSAAQTAgAiADIARBgIAEcxBbIAAgByAFEFUgAEEwIAkgBWtBAEEAEFsgACAKIAYQVSAAQSAgAiADIARBgMAAcxBbIAMgAiACIANIGyEJCyAMQbAEaiQAIAkLugIAAkACQAJAAkACQAJAAkACQAJAAkACQCABQQlrDhIACAkKCAkBAgMECgkKCggJBQYHCyACIAIoAgAiAUEEajYCACAAIAEoAgA2AgAPCyACIAIoAgAiAUEEajYCACAAIAEyAQA3AwAPCyACIAIoAgAiAUEEajYCACAAIAEzAQA3AwAPCyACIAIoAgAiAUEEajYCACAAIAEwAAA3AwAPCyACIAIoAgAiAUEEajYCACAAIAExAAA3AwAPCyACIAIoAgBBB2pBeHEiAUEIajYCACAAIAErAwA5AwAPCyAAIAIQxwkLDwsgAiACKAIAIgFBBGo2AgAgACABNAIANwMADwsgAiACKAIAIgFBBGo2AgAgACABNQIANwMADwsgAiACKAIAQQdqQXhxIgFBCGo2AgAgACABKQMANwMAC20BBH8gACgCACwAABCcAUUEQEEADwsDQCAAKAIAIQNBfyEBIAJBzJmz5gBNBEBBfyADLAAAQTBrIgQgAkEKbCIBaiAEIAFB/////wdzShshAQsgACADQQFqNgIAIAEhAiADLAABEJwBDQALIAELDgAgACgCACABIAIQpQkLiRMCFn8BfiMAQdAAayIGJAAgBiABNgJMIAZBN2ohFiAGQThqIRACQAJAAkADQEEAIQUDQCABIQsgBSAPQf////8Hc0oNAiAFIA9qIQ8CQAJAAkAgASIFLQAAIgcEQANAAkACQCAHQf8BcSIBRQRAIAUhAQwBCyABQSVHDQEgBSEHA0AgBy0AAUElRwRAIAchAQwCCyAFQQFqIQUgBy0AAiEYIAdBAmoiASEHIBhBJUYNAAsLIAUgC2siBSAPQf////8HcyIXSg0IIAAEQCAAIAsgBRBVCyAFDQYgBiABNgJMIAFBAWohBUF/IQwCQCABLAABEJwBRQ0AIAEtAAJBJEcNACABQQNqIQUgASwAAUEwayEMQQEhEQsgBiAFNgJMQQAhCgJAIAUsAAAiB0EgayIBQR9LBEAgBSEJDAELIAUhCUEBIAF0IgFBidEEcUUNAANAIAYgBUEBaiIJNgJMIAEgCnIhCiAFLAABIgdBIGsiAUEgTw0BIAkhBUEBIAF0IgFBidEEcQ0ACwsCQCAHQSpGBEAgCUEBaiEHAn8CQCAJLAABEJwBRQ0AIAktAAJBJEcNACAHLAAAQTBrIQEgCUEDaiEHQQEhEQJ/IABFBEAgBCABQQJ0akEKNgIAQQAMAQsgAyABQQN0aigCAAsMAQsgEQ0GIABFBEAgBiAHNgJMQQAhEUEAIQ0MAwsgAiACKAIAIgFBBGo2AgBBACERIAEoAgALIQ0gBiAHNgJMIA1BAE4NAUEAIA1rIQ0gCkGAwAByIQoMAQsgBkHMAGoQygkiDUEASA0JIAYoAkwhBwtBACEFQX8hCAJ/IActAABBLkcEQCAHIQFBAAwBCyAHLQABQSpGBEAgB0ECaiEBAkACQCAHLAACEJwBRQ0AIActAANBJEcNACABLAAAQTBrIQECfyAARQRAIAQgAUECdGpBCjYCAEEADAELIAMgAUEDdGooAgALIQggB0EEaiEBDAELIBENBiAARQRAQQAhCAwBCyACIAIoAgAiCUEEajYCACAJKAIAIQgLIAYgATYCTCAIQX9zQR92DAELIAYgB0EBajYCTCAGQcwAahDKCSEIIAYoAkwhAUEBCyESA0AgBSETQRwhDiABIhQsAAAiBUH7AGtBRkkNCiABQQFqIQEgBSATQTpsakH/vwFqLQAAIgVBAWtBCEkNAAsgBiABNgJMAkAgBUEbRwRAIAVFDQsgDEEATgRAIABFBEAgBCAMQQJ0aiAFNgIADAsLIAYgAyAMQQN0aikDADcDQAwCCyAARQ0HIAZBQGsgBSACEMkJDAELIAxBAE4NCkEAIQUgAEUNBwtBfyEOIAAtAABBIHENCiAKQf//e3EiByAKIApBgMAAcRshCkEAIQxBwQshFSAQIQkCQAJAAkACfwJAAkACQAJAAn8CQAJAAkACQAJAAkACQCAULAAAIgVBX3EgBSAFQQ9xQQNGGyAFIBMbIgVB2ABrDiEEFBQUFBQUFBQOFA8GDg4OFAYUFBQUAgUDFBQJFAEUFAQACwJAIAVBwQBrDgcOFAsUDg4OAAsgBUHTAEYNCQwTCyAGKQNAIRtBwQsMBQtBACEFAkACQAJAAkACQAJAAkAgE0H/AXEOCAABAgMEGgUGGgsgBigCQCAPNgIADBkLIAYoAkAgDzYCAAwYCyAGKAJAIA+sNwMADBcLIAYoAkAgDzsBAAwWCyAGKAJAIA86AAAMFQsgBigCQCAPNgIADBQLIAYoAkAgD6w3AwAMEwtBCCAIIAhBCE0bIQggCkEIciEKQfgAIQULIBAhCyAFQSBxIRQgBikDQCIbUEUEQANAIAtBAWsiCyAbp0EPcUGQxAFqLQAAIBRyOgAAIBtCD1YhGSAbQgSIIRsgGQ0ACwsgCkEIcUUgBikDQFByDQMgBUEEdkHBC2ohFUECIQwMAwsgECEFIAYpA0AiG1BFBEADQCAFQQFrIgUgG6dBB3FBMHI6AAAgG0IHViEaIBtCA4ghGyAaDQALCyAFIQsgCkEIcUUNAiAIIBAgBWsiBUEBaiAFIAhIGyEIDAILIAYpA0AiG0IAUwRAIAZCACAbfSIbNwNAQQEhDEHBCwwBCyAKQYAQcQRAQQEhDEHCCwwBC0HDC0HBCyAKQQFxIgwbCyEVIBsgEBDKAiELCyASQQAgCEEASBsNDyAKQf//e3EgCiASGyEKIAYpA0AiG0IAUiAIckUEQCAQIQtBACEIDAwLIAggG1AgECALa2oiBSAFIAhIGyEIDAsLIAYoAkAiBUGQ3QAgBRsiC0H/////ByAIIAhB/////wdPGyIJEM4JIgUgC2sgCSAFGyIFIAtqIQkgCEEATgRAIAchCiAFIQgMCwsgByEKIAUhCCAJLQAADQ4MCgsgCARAIAYoAkAMAgtBACEFIABBICANQQAgChBbDAILIAZBADYCDCAGIAYpA0A+AgggBiAGQQhqIgU2AkBBfyEIIAULIQdBACEFAkADQCAHKAIAIgtFDQEgBkEEaiALEMUJIglBAEgiCyAJIAggBWtLckUEQCAHQQRqIQcgBSAJaiIFIAhJDQEMAgsLIAsNDgtBPSEOIAVBAEgNDCAAQSAgDSAFIAoQWyAFRQRAQQAhBQwBC0EAIQkgBigCQCEHA0AgBygCACILRQ0BIAZBBGoiCCALEMUJIgsgCWoiCSAFSw0BIAAgCCALEFUgB0EEaiEHIAUgCUsNAAsLIABBICANIAUgCkGAwABzEFsgDSAFIAUgDUgbIQUMCAsgEkEAIAhBAEgbDQlBPSEOIAAgBisDQCANIAggCiAFEMgJIgVBAE4NBwwKCyAGIAYpA0A8ADdBASEIIBYhCyAHIQoMBAsgBS0AASEHIAVBAWohBQwACwALIA8hDiAADQcgEUUNAkEBIQUDQCAEIAVBAnRqKAIAIgAEQCADIAVBA3RqIAAgAhDJCUEBIQ4gBUEBaiIFQQpHDQEMCQsLQQEhDiAFQQpPDQcDQCAEIAVBAnRqKAIADQEgBUEBaiIFQQpHDQALDAcLQRwhDgwFCyAIIAkgC2siByAHIAhIGyIJIAxB/////wdzSg0DQT0hDiANIAkgDGoiCCAIIA1IGyIFIBdKDQQgAEEgIAUgCCAKEFsgACAVIAwQVSAAQTAgBSAIIApBgIAEcxBbIABBMCAJIAdBABBbIAAgCyAHEFUgAEEgIAUgCCAKQYDAAHMQWwwBCwsLQQAhDgwCC0E9IQ4LQdymAiAONgIAQX8hDgsgBkHQAGokACAOC38CAX8BfiAAvSIDQjSIp0H/D3EiAkH/D0cEfCACRQRAIAEgAEQAAAAAAAAAAGEEf0EABSAARAAAAAAAAPBDoiABEM0JIQAgASgCAEFAags2AgAgAA8LIAEgAkH+B2s2AgAgA0L/////////h4B/g0KAgICAgICA8D+EvwUgAAsLtQEBAX8gAUEARyECAkACQAJAIABBA3FFIAFFcg0AA0AgAC0AAEUNAiABQQFrIgFBAEchAiAAQQFqIgBBA3FFDQEgAQ0ACwsgAkUNASAALQAARSABQQRJckUEQANAIAAoAgAiAkF/cyACQYGChAhrcUGAgYKEeHENAiAAQQRqIQAgAUEEayIBQQNLDQALCyABRQ0BCwNAIAAtAABFBEAgAA8LIABBAWohACABQQFrIgENAAsLQQALWQEBfyAAIAAoAkgiAUEBayABcjYCSCAAKAIAIgFBCHEEQCAAIAFBIHI2AgBBfw8LIABCADcCBCAAIAAoAiwiATYCHCAAIAE2AhQgACABIAAoAjBqNgIQQQALkQQCB38EfiMAQRBrIggkAAJAAkACQCACQSRMBEAgAC0AACIFDQEgACEEDAILQdymAkEcNgIAQgAhAwwCCyAAIQQCQANAIAXAEO4BRQ0BIAQtAAEhBSAEQQFqIQQgBQ0ACwwBCwJAIAQtAAAiBUEraw4DAAEAAQtBf0EAIAVBLUYbIQcgBEEBaiEECwJ/AkAgAkEQckEQRw0AIAQtAABBMEcNAEEBIQkgBC0AAUHfAXFB2ABGBEAgBEECaiEEQRAMAgsgBEEBaiEEIAJBCCACGwwBCyACQQogAhsLIgqtIQxBACECA0ACQEFQIQUCQCAELAAAIgZBMGtB/wFxQQpJDQBBqX8hBSAGQeEAa0H/AXFBGkkNAEFJIQUgBkHBAGtB/wFxQRlLDQELIAUgBmoiBiAKTg0AIAggDEIAIAtCABBUQQEhBQJAIAgpAwhCAFINACALIAx+Ig0gBq0iDkJ/hVYNACANIA58IQtBASEJIAIhBQsgBEEBaiEEIAUhAgwBCwsgAQRAIAEgBCAAIAkbNgIACwJAAkAgAgRAQdymAkHEADYCACAHQQAgA0IBgyIMUBshByADIQsMAQsgAyALVg0BIANCAYMhDAsgDKcgB3JFBEBB3KYCQcQANgIAIANCAX0hAwwCCyADIAtaDQBB3KYCQcQANgIADAELIAsgB6wiA4UgA30hAwsgCEEQaiQAIAMLjQQCBH8BfgJAAkACfwJAAkACfyAAKAIEIgIgACgCaEcEQCAAIAJBAWo2AgQgAi0AAAwBCyAAECQLIgJBK2sOAwABAAELIAJBLUYgAUUCfyAAKAIEIgMgACgCaEcEQCAAIANBAWo2AgQgAy0AAAwBCyAAECQLIgNBOmsiAUF1S3INARogACkDcEIAUw0CIAAgACgCBEEBazYCBAwCCyACQTprIQEgAiEDQQALIQQgAUF2SQ0AAkAgA0Ewa0EKTw0AQQAhAgNAIAMgAkEKbGohBQJ/IAAoAgQiAiAAKAJoRwRAIAAgAkEBajYCBCACLQAADAELIAAQJAshAyAFQTBrIQIgAkHMmbPmAEggA0EwayIBQQlNcQ0ACyACrCEGIAFBCk8NAANAIAOtIAZCCn58IQYCfyAAKAIEIgEgACgCaEcEQCAAIAFBAWo2AgQgAS0AAAwBCyAAECQLIgNBMGsiAUEJTSAGQjB9IgZCro+F18fC66MBU3ENAAsgAUEKTw0AA0ACfyAAKAIEIgEgACgCaEcEQCAAIAFBAWo2AgQgAS0AAAwBCyAAECQLQTBrQQpJDQALCyAAKQNwQgBZBEAgACAAKAIEQQFrNgIEC0IAIAZ9IAYgBBshBgwBC0KAgICAgICAgIB/IQYgACkDcEIAUw0AIAAgACgCBEEBazYCBEKAgICAgICAgIB/DwsgBguhMgMRfwd+AXwjAEEwayIOJAACQCACQQJNBEAgAkECdCICQazAAWooAgAhEiACQaDAAWooAgAhEQNAAn8gASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAMAQsgARAkCyICEO4BDQALQQEhCgJAAkAgAkEraw4DAAEAAQtBf0EBIAJBLUYbIQogASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhAgwBCyABECQhAgsCQAJAA0AgBkHPCWosAAAgAkEgckYEQAJAIAZBBksNACABKAIEIgIgASgCaEcEQCABIAJBAWo2AgQgAi0AACECDAELIAEQJCECCyAGQQFqIgZBCEcNAQwCCwsgBkEDRwRAIAZBCEYiDA0BIANFIAZBBElyDQIgDA0BCyABKQNwIhVCAFkEQCABIAEoAgRBAWs2AgQLIANFIAZBBElyDQAgFUIAUyECA0AgAkUEQCABIAEoAgRBAWs2AgQLIAZBAWsiBkEDSw0ACwtCACEVIwBBEGsiAyQAAn4gCrJDAACAf5S8IgJB/////wdxIgFBgICABGtB////9wdNBEAgAa1CGYZCgICAgICAgMA/fAwBCyACrUIZhkKAgICAgIDA//8AhCABQYCAgPwHTw0AGkIAIAFFDQAaIAMgAa1CACABZyIBQdEAahBaIAMpAwAhFSADKQMIQoCAgICAgMAAhUGJ/wAgAWutQjCGhAshFiAOIBU3AwAgDiAWIAJBgICAgHhxrUIghoQ3AwggA0EQaiQAIA4pAwghFSAOKQMAIRYMAgsCQAJAAkAgBg0AQQAhBgNAIAZBmy1qLAAAIAJBIHJHDQECQCAGQQFLDQAgASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhAgwBCyABECQhAgsgBkEBaiIGQQNHDQALDAELAkACQCAGDgQAAQECAQsCQCACQTBHDQACfyABKAIEIgwgASgCaEcEQCABIAxBAWo2AgQgDC0AAAwBCyABECQLQV9xQdgARgRAIwBBsANrIgUkAAJ/IAEoAgQiAiABKAJoRwRAIAEgAkEBajYCBCACLQAADAELIAEQJAshBgJAAn8DQAJAIAZBMEcEQCAGQS5HDQQgASgCBCICIAEoAmhGDQEgASACQQFqNgIEIAItAAAMAwsgASgCBCICIAEoAmhHBEAgASACQQFqNgIEIAItAAAhBgUgARAkIQYLQQEhEAwBCwsgARAkCyEGQQEhCyAGQTBHDQADQCAYQgF9IRgCfyABKAIEIgIgASgCaEcEQCABIAJBAWo2AgQgAi0AAAwBCyABECQLIgZBMEYNAAtBASEQC0KAgICAgIDA/z8hFgNAAkAgBkEgciENAkACQCAGQTBrIgxBCkkNACAGQS5HIgIgDUHhAGtBBUtxDQIgAg0AIAsNAkEBIQsgFSEYDAELIA1B1wBrIAwgBkE5ShshAgJAIBVCB1cEQCACIAdBBHRqIQcMAQsgFUIcWARAIAVBMGogAhB6IAVBIGogGiAWQgBCgICAgICAwP0/ECwgBUEQaiAFKQMwIAUpAzggBSkDICIaIAUpAygiFhAsIAUgBSkDECAFKQMYIBcgGRByIAUpAwghGSAFKQMAIRcMAQsgAkUgCHINACAFQdAAaiAaIBZCAEKAgICAgICA/z8QLCAFQUBrIAUpA1AgBSkDWCAXIBkQciAFKQNIIRlBASEIIAUpA0AhFwsgFUIBfCEVQQEhEAsgASgCBCICIAEoAmhHBH8gASACQQFqNgIEIAItAAAFIAEQJAshBgwBCwsCfiAQRQRAAkACQCABKQNwQgBZBEAgASABKAIEIgJBAWs2AgQgA0UNASABIAJBAms2AgQgC0UNAiABIAJBA2s2AgQMAgsgAw0BCyABQgAQnQELIAVB4ABqIAq3RAAAAAAAAAAAohCyASAFKQNgIRcgBSkDaAwBCyAVQgdXBEAgFSEWA0AgB0EEdCEHIBZCAXwiFkIIUg0ACwsCQAJAAkAgBkFfcUHQAEYEQCABIAMQ0QkiFkKAgICAgICAgIB/Ug0DIAMEQCABKQNwQgBZDQIMAwtCACEXIAFCABCdAUIADAQLQgAhFiABKQNwQgBTDQILIAEgASgCBEEBazYCBAtCACEWCyAHRQRAIAVB8ABqIAq3RAAAAAAAAAAAohCyASAFKQNwIRcgBSkDeAwBCyAYIBUgCxtCAoYgFnxCIH0iFUEAIBJrrVUEQEHcpgJBxAA2AgAgBUGgAWogChB6IAVBkAFqIAUpA6ABIAUpA6gBQn9C////////v///ABAsIAVBgAFqIAUpA5ABIAUpA5gBQn9C////////v///ABAsIAUpA4ABIRcgBSkDiAEMAQsgEkHiAWusIBVXBEAgB0EATgRAA0AgBUGgA2ogFyAZQgBCgICAgICAwP+/fxByIBcgGUKAgICAgICA/z8QxAkhASAFQZADaiAXIBkgBSkDoAMgFyABQQBOIgEbIAUpA6gDIBkgARsQciAVQgF9IRUgBSkDmAMhGSAFKQOQAyEXIAdBAXQgAXIiB0EATg0ACwsCfiAVIBKsfUIgfCIWpyIBQQAgAUEAShsgESAWIBGtUxsiAUHxAE4EQCAFQYADaiAKEHogBSkDiAMhGCAFKQOAAyEaQgAMAQsgBUHgAmpEAAAAAAAA8D9BkAEgAWsQtgUQsgEgBUHQAmogChB6IAVB8AJqIAUpA+ACIAUpA+gCIAUpA9ACIhogBSkD2AIiGBDVCSAFKQP4AiEbIAUpA/ACCyEWIAVBwAJqIAcgB0EBcUUgFyAZQgBCABCUAkEARyABQSBIcXEiAWoQyAIgBUGwAmogGiAYIAUpA8ACIAUpA8gCECwgBUGQAmogBSkDsAIgBSkDuAIgFiAbEHIgBUGgAmogGiAYQgAgFyABG0IAIBkgARsQLCAFQYACaiAFKQOgAiAFKQOoAiAFKQOQAiAFKQOYAhByIAVB8AFqIAUpA4ACIAUpA4gCIBYgGxCxBSAFKQPwASIYIAUpA/gBIhZCAEIAEJQCRQRAQdymAkHEADYCAAsgBUHgAWogGCAWIBWnENQJIAUpA+ABIRcgBSkD6AEMAQtB3KYCQcQANgIAIAVB0AFqIAoQeiAFQcABaiAFKQPQASAFKQPYAUIAQoCAgICAgMAAECwgBUGwAWogBSkDwAEgBSkDyAFCAEKAgICAgIDAABAsIAUpA7ABIRcgBSkDuAELIRUgDiAXNwMQIA4gFTcDGCAFQbADaiQAIA4pAxghFSAOKQMQIRYMBgsgASkDcEIAUw0AIAEgASgCBEEBazYCBAsgASEIIAIhByAKIQwgAyEKQQAhAyMAQZDGAGsiBCQAQQAgEmsiDSARayEUAkACfwNAAkAgB0EwRwRAIAdBLkcNBCAIKAIEIgEgCCgCaEYNASAIIAFBAWo2AgQgAS0AAAwDCyAIKAIEIgEgCCgCaEcEQCAIIAFBAWo2AgQgAS0AACEHBSAIECQhBwtBASEDDAELCyAIECQLIQdBASEQIAdBMEcNAANAIBVCAX0hFQJ/IAgoAgQiASAIKAJoRwRAIAggAUEBajYCBCABLQAADAELIAgQJAsiB0EwRg0AC0EBIQMLIARBADYCkAYCfgJAAkACQAJAIAdBLkYiASAHQTBrIgJBCU1yBEADQAJAIAFBAXEEQCAQRQRAIBYhFUEBIRAMAgsgA0UhAQwECyAWQgF8IRYgC0H8D0wEQCAPIBanIAdBMEYbIQ8gBEGQBmogC0ECdGoiASAJBH8gByABKAIAQQpsakEwawUgAgs2AgBBASEDQQAgCUEBaiIBIAFBCUYiARshCSABIAtqIQsMAQsgB0EwRg0AIAQgBCgCgEZBAXI2AoBGQdyPASEPCwJ/IAgoAgQiASAIKAJoRwRAIAggAUEBajYCBCABLQAADAELIAgQJAsiB0EuRiIBIAdBMGsiAkEKSXINAAsLIBUgFiAQGyEVIANFIAdBX3FBxQBHckUEQAJAIAggChDRCSIXQoCAgICAgICAgH9SDQAgCkUNBEIAIRcgCCkDcEIAUw0AIAggCCgCBEEBazYCBAsgFSAXfCEVDAQLIANFIQEgB0EASA0BCyAIKQNwQgBTDQAgCCAIKAIEQQFrNgIECyABRQ0BQdymAkEcNgIACyAIQgAQnQFCACEVQgAMAQsgBCgCkAYiAUUEQCAEIAy3RAAAAAAAAAAAohCyASAEKQMIIRUgBCkDAAwBCyAVIBZSIBZCCVVyIBFBHkxBACABIBF2G3JFBEAgBEEwaiAMEHogBEEgaiABEMgCIARBEGogBCkDMCAEKQM4IAQpAyAgBCkDKBAsIAQpAxghFSAEKQMQDAELIA1BAXatIBVTBEBB3KYCQcQANgIAIARB4ABqIAwQeiAEQdAAaiAEKQNgIAQpA2hCf0L///////+///8AECwgBEFAayAEKQNQIAQpA1hCf0L///////+///8AECwgBCkDSCEVIAQpA0AMAQsgEkHiAWusIBVVBEBB3KYCQcQANgIAIARBkAFqIAwQeiAEQYABaiAEKQOQASAEKQOYAUIAQoCAgICAgMAAECwgBEHwAGogBCkDgAEgBCkDiAFCAEKAgICAgIDAABAsIAQpA3ghFSAEKQNwDAELIAkEQCAJQQhMBEAgBEGQBmogC0ECdGoiASgCACEGA0AgBkEKbCEGIAlBAWoiCUEJRw0ACyABIAY2AgALIAtBAWohCwsCQCAVpyIJIA9IIA9BCU5yIAlBEUpyDQAgCUEJRgRAIARBwAFqIAwQeiAEQbABaiAEKAKQBhDIAiAEQaABaiAEKQPAASAEKQPIASAEKQOwASAEKQO4ARAsIAQpA6gBIRUgBCkDoAEMAgsgCUEITARAIARBkAJqIAwQeiAEQYACaiAEKAKQBhDIAiAEQfABaiAEKQOQAiAEKQOYAiAEKQOAAiAEKQOIAhAsIARB4AFqQQAgCWtBAnRBoMABaigCABB6IARB0AFqIAQpA/ABIAQpA/gBIAQpA+ABIAQpA+gBEMIJIAQpA9gBIRUgBCkD0AEMAgsgESAJQX1sakEbaiICQR5MQQAgBCgCkAYiASACdhsNACAEQeACaiAMEHogBEHQAmogARDIAiAEQcACaiAEKQPgAiAEKQPoAiAEKQPQAiAEKQPYAhAsIARBsAJqIAlBAnRB2L8BaigCABB6IARBoAJqIAQpA8ACIAQpA8gCIAQpA7ACIAQpA7gCECwgBCkDqAIhFSAEKQOgAgwBCwNAIARBkAZqIAsiAUEBayILQQJ0aigCAEUNAAtBACEPAkAgCUEJbyIDRQRAQQAhAgwBC0EAIQIgA0EJaiADIAlBAEgbIQUCQCABRQRAQQAhAQwBC0GAlOvcA0EAIAVrQQJ0QaDAAWooAgAiEG0hDUEAIQdBACEGA0AgBEGQBmoiCyAGQQJ0aiIDIAcgAygCACIIIBBuIgpqIgM2AgAgAkEBakH/D3EgAiADRSACIAZGcSIDGyECIAlBCWsgCSADGyEJIA0gCCAKIBBsa2whByAGQQFqIgYgAUcNAAsgB0UNACABQQJ0IAtqIAc2AgAgAUEBaiEBCyAJIAVrQQlqIQkLA0AgBEGQBmogAkECdGohBwJAA0AgCUEkTgRAIAlBJEcNAiAHKAIAQdHp+QRPDQILIAFB/w9qIQtBACEDA0AgASEKIAOtIARBkAZqIAtB/w9xIg1BAnRqIgE1AgBCHYZ8IhVCgZTr3ANUBH9BAAUgFSAVQoCU69wDgCIWQoCU69wDfn0hFSAWpwshAyABIBWnIgE2AgAgCiAKIAogDSABGyACIA1GGyANIApBAWtB/w9xIghHGyEBIA1BAWshCyACIA1HDQALIA9BHWshDyAKIQEgA0UNAAsgAkEBa0H/D3EiAiABRgRAIARBkAZqIgogAUH+D2pB/w9xQQJ0aiIBIAEoAgAgCEECdCAKaigCAHI2AgAgCCEBCyAJQQlqIQkgBEGQBmogAkECdGogAzYCAAwBCwsCQANAIAFBAWpB/w9xIQogBEGQBmogAUEBa0H/D3FBAnRqIQUDQEEJQQEgCUEtShshEwJAA0AgAiEDQQAhBgJAA0ACQCADIAZqQf8PcSICIAFGDQAgBEGQBmogAkECdGooAgAiCCAGQQJ0QfC/AWooAgAiAkkNACACIAhJDQIgBkEBaiIGQQRHDQELCyAJQSRHDQBCACEVQQAhBkIAIRYDQCABIAMgBmpB/w9xIgJGBEAgAUEBakH/D3EiAUECdCAEakEANgKMBgsgBEGABmogBEGQBmogAkECdGooAgAQyAIgBEHwBWogFSAWQgBCgICAgOWat47AABAsIARB4AVqIAQpA/AFIAQpA/gFIAQpA4AGIAQpA4gGEHIgBCkD6AUhFiAEKQPgBSEVIAZBAWoiBkEERw0ACyAEQdAFaiAMEHogBEHABWogFSAWIAQpA9AFIAQpA9gFECwgBCkDyAUhFkIAIRUgBCkDwAUhFyAPQfEAaiIIIBJrIgtBACALQQBKGyARIAsgEUgiChsiB0HwAEwNAgwFCyAPIBNqIQ8gASECIAEgA0YNAAtBgJTr3AMgE3YhEEF/IBN0QX9zIQ1BACEGIAMhAgNAIARBkAZqIgcgA0ECdGoiCCAGIAgoAgAiCyATdmoiCDYCACACQQFqQf8PcSACIAhFIAIgA0ZxIggbIQIgCUEJayAJIAgbIQkgCyANcSAQbCEGIANBAWpB/w9xIgMgAUcNAAsgBkUNASACIApHBEAgAUECdCAHaiAGNgIAIAohAQwDCyAFIAUoAgBBAXI2AgAMAQsLCyAEQZAFakQAAAAAAADwP0HhASAHaxC2BRCyASAEQbAFaiAEKQOQBSAEKQOYBSAXIBYQ1QkgBCkDuAUhGiAEKQOwBSEZIARBgAVqRAAAAAAAAPA/QfEAIAdrELYFELIBIARBoAVqIBcgFiAEKQOABSAEKQOIBRDTCSAEQfAEaiAXIBYgBCkDoAUiFSAEKQOoBSIYELEFIARB4ARqIBkgGiAEKQPwBCAEKQP4BBByIAQpA+gEIRYgBCkD4AQhFwsCQCADQQRqQf8PcSICIAFGDQACQCAEQZAGaiACQQJ0aigCACICQf/Jte4BTQRAIAJFIANBBWpB/w9xIAFGcQ0BIARB8ANqIAy3RAAAAAAAANA/ohCyASAEQeADaiAVIBggBCkD8AMgBCkD+AMQciAEKQPoAyEYIAQpA+ADIRUMAQsgAkGAyrXuAUcEQCAEQdAEaiAMt0QAAAAAAADoP6IQsgEgBEHABGogFSAYIAQpA9AEIAQpA9gEEHIgBCkDyAQhGCAEKQPABCEVDAELIAy3IRwgASADQQVqQf8PcUYEQCAEQZAEaiAcRAAAAAAAAOA/ohCyASAEQYAEaiAVIBggBCkDkAQgBCkDmAQQciAEKQOIBCEYIAQpA4AEIRUMAQsgBEGwBGogHEQAAAAAAADoP6IQsgEgBEGgBGogFSAYIAQpA7AEIAQpA7gEEHIgBCkDqAQhGCAEKQOgBCEVCyAHQe8ASg0AIARB0ANqIBUgGEIAQoCAgICAgMD/PxDTCSAEKQPQAyAEKQPYA0IAQgAQlAINACAEQcADaiAVIBhCAEKAgICAgIDA/z8QciAEKQPIAyEYIAQpA8ADIRULIARBsANqIBcgFiAVIBgQciAEQaADaiAEKQOwAyAEKQO4AyAZIBoQsQUgBCkDqAMhFiAEKQOgAyEXAkAgFEECayAIQf////8HcU4NACAEIBZC////////////AIM3A5gDIAQgFzcDkAMgBEGAA2ogFyAWQgBCgICAgICAgP8/ECwgBCkDkAMgBCkDmANCgICAgICAgLjAABDECSECIAQpA4gDIBYgAkEATiIBGyEWIAQpA4ADIBcgARshFyAKIAcgC0cgAkEASHJxIBUgGEIAQgAQlAJBAEdxRSAUIAEgD2oiD0HuAGpOcQ0AQdymAkHEADYCAAsgBEHwAmogFyAWIA8Q1AkgBCkD+AIhFSAEKQPwAgshFiAOIBU3AyggDiAWNwMgIARBkMYAaiQAIA4pAyghFSAOKQMgIRYMBAsgASkDcEIAWQRAIAEgASgCBEEBazYCBAsMAQsCQAJ/IAEoAgQiAiABKAJoRwRAIAEgAkEBajYCBCACLQAADAELIAEQJAtBKEYEQEEBIQYMAQtCgICAgICA4P//ACEVIAEpA3BCAFMNAyABIAEoAgRBAWs2AgQMAwsDQAJ/IAEoAgQiAiABKAJoRwRAIAEgAkEBajYCBCACLQAADAELIAEQJAsiAkEwa0EKSSACQcEAa0EaSXIgAkHfAEZyRSACQeEAa0EaT3FFBEAgBkEBaiEGDAELC0KAgICAgIDg//8AIRUgAkEpRg0CIAEpA3AiGEIAWQRAIAEgASgCBEEBazYCBAsCQCADBEAgBg0BDAQLDAELA0AgGEIAWQRAIAEgASgCBEEBazYCBAsgBkEBayIGDQALDAILQdymAkEcNgIAIAFCABCdAQtCACEVCyAAIBY3AwAgACAVNwMIIA5BMGokAAvKBgIFfwR+IwBBgAFrIgUkAAJAAkACQCADIARCAEIAEJQCRQ0AAn8gBEL///////8/gyELAn8gBEIwiKdB//8BcSIGQf//AUcEQEEEIAYNARpBAkEDIAMgC4RQGwwCCyADIAuEUAsLIQkgAkIwiKciCEH//wFxIgdB//8BRg0AIAkNAQsgBUEQaiABIAIgAyAEECwgBSAFKQMQIgIgBSkDGCIBIAIgARDCCSAFKQMIIQIgBSkDACEEDAELIAEgAkL///////////8AgyILIAMgBEL///////////8AgyIKEJQCQQBMBEAgASALIAMgChCUAgRAIAEhBAwCCyAFQfAAaiABIAJCAEIAECwgBSkDeCECIAUpA3AhBAwBCyAEQjCIp0H//wFxIQYgBwR+IAEFIAVB4ABqIAEgC0IAQoCAgICAgMC7wAAQLCAFKQNoIgtCMIinQfgAayEHIAUpA2ALIQQgBkUEQCAFQdAAaiADIApCAEKAgICAgIDAu8AAECwgBSkDWCIKQjCIp0H4AGshBiAFKQNQIQMLIApC////////P4NCgICAgICAwACEIQwgC0L///////8/g0KAgICAgIDAAIQhCyAGIAdIBEADQAJ+IAsgDH0gAyAEVq19IgpCAFkEQCAKIAQgA30iBIRQBEAgBUEgaiABIAJCAEIAECwgBSkDKCECIAUpAyAhBAwFCyAKQgGGIARCP4iEDAELIAtCAYYgBEI/iIQLIQsgBEIBhiEEIAdBAWsiByAGSg0ACyAGIQcLAkAgCyAMfSADIARWrX0iCkIAUwRAIAshCgwBCyAKIAQgA30iBIRCAFINACAFQTBqIAEgAkIAQgAQLCAFKQM4IQIgBSkDMCEEDAELIApC////////P1gEQANAIARCP4ghDSAHQQFrIQcgBEIBhiEEIA0gCkIBhoQiCkKAgICAgIDAAFQNAAsLIAhBgIACcSEGIAdBAEwEQCAFQUBrIAQgCkL///////8/gyAHQfgAaiAGcq1CMIaEQgBCgICAgICAwMM/ECwgBSkDSCECIAUpA0AhBAwBCyAKQv///////z+DIAYgB3KtQjCGhCECCyAAIAQ3AwAgACACNwMIIAVBgAFqJAALvwIBAX8jAEHQAGsiBCQAAkAgA0GAgAFOBEAgBEEgaiABIAJCAEKAgICAgICA//8AECwgBCkDKCECIAQpAyAhASADQf//AUkEQCADQf//AGshAwwCCyAEQRBqIAEgAkIAQoCAgICAgID//wAQLEH9/wIgAyADQf3/Ak4bQf7/AWshAyAEKQMYIQIgBCkDECEBDAELIANBgYB/Sg0AIARBQGsgASACQgBCgICAgICAgDkQLCAEKQNIIQIgBCkDQCEBIANB9IB+SwRAIANBjf8AaiEDDAELIARBMGogASACQgBCgICAgICAgDkQLEHogX0gAyADQeiBfUwbQZr+AWohAyAEKQM4IQIgBCkDMCEBCyAEIAEgAkIAIANB//8Aaq1CMIYQLCAAIAQpAwg3AwggACAEKQMANwMAIARB0ABqJAALNQAgACABNwMAIAAgAkL///////8/gyAEQjCIp0GAgAJxIAJCMIinQf//AXFyrUIwhoQ3AwgLfAECfyAAIAAoAkgiAUEBayABcjYCSCAAKAIUIAAoAhxHBEAgAEEAQQAgACgCJBEFABoLIABBADYCHCAAQgA3AxAgACgCACIBQQRxBEAgACABQSByNgIAQX8PCyAAIAAoAiwgACgCMGoiAjYCCCAAIAI2AgQgAUEbdEEfdQsOACAAKAIAIAEgAhCzCQsOACAAKAIAIAEgAhC6CQuEBQELfyABKAIAIgQoAhwhCwNAAkAgBCgCGCAKTQRAQQEPCwJAAkACQAJAIAsgCkEwbGoiAygCCEEBaw4DAQABAgsgACADKAIQIgZqIgQoAgAiCEUNASABIAMoAhQiBWohByAAIAVqIQUCQCABIAZqIgYoAgAEQCADKAIMEJYCIQMgAigCCCADIAYoAgAgBCgCAGpsIAIoAgARAwAiCEUNBCAIIAUoAgAgBCgCACADbBApIgggBCgCACADbGogBygCACAGKAIAIANsECkaIAcoAgAiAwRAIAIoAgggAyACKAIEEQAACyAFKAIAIgMEQCACKAIIIAMgAigCBBEAAAsgByAINgIAIAYgBigCACAEKAIAajYCAAwBCyAGIAg2AgAgByAFKAIANgIACyAEQQA2AgAgBUEANgIADAELIAEgAygCECIGaiEIIAAgBmohBiADLQAgQQRxBEAgCCgCAA0BIAQoAiQgBCgC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AxALGiAEIBc3A3ggABALGiACEAsaIAcoAiwhACAHLQAzIgMhAgsCQCAAIAMgAsBBAEgbDQAgB0E0aiIAIAQgFyAEKQNwfSAENQJAQsCEPX5VEIwEIAdBKGogABAiIAAQCxpBsQIhDSAHKAIsIAcsADMiAEH/AXEgAEEASBtFDQAgBCAXNwNwCyALIA02AgAgCyAHKAIwNgIMIAsgBykDKDcCBCAHQQA2AjAgB0IANwMoIAdBKGoQCxoLIAdBwAFqJAAgASALQQRqIgAQIiALKAIAIRUgABALGiALQRBqJAAgFQsWACAAKAIEIAAtAAsiACAAwEEASButCxIAIAAoAgAgACAALAALQQBIGwsQACAABEAgABALGgsgABANCwwAIAAgAUEARzoAPAsJACAAIAE2AkQLCQAgACABNgJACwoAIAAgAT4CkAMLCwAgACABQSAQkwgLCwAgACABQRQQkwgLqwIBBH8gAARAIABBlANqEFcgAEGEA2ogACgCiAMQgAQgAEHwAmoiAygCCCEBA0AgAQRAIAEoAgAhBCABQQhqEJ0GIAEQDSAEIQEMAQsLIAMQwgEgAEHgAmoQCxogAEHIAmoQExogAEGwAmoQExogAEGYAmoQExogAEGAAmoQExogAEHoAWoQExogAEHQAWoQExogAEG4AWoQExogAEGgAWoQExogAEGIAWoQExogAEHYAGoQ5QUgAEHMAGoQ5gUgACgCMCIBBEAgASABKAIEIgJBAWs2AgQgAkUEQCABIAEoAgAoAggRAgACQCABQQhqIgIoAgAEQCACEI8FQX9HDQELIAEgASgCACgCEBECAAsLCyAAQSBqEAsaIABBFGoQCxogABALGgsgABANC84GAQl/IwBBEGsiBiQAQaADEBAhAiAGQQRqIAEQDyEHIwBBgAFrIgMkACMAQRBrIggkACACQgA3AwAgAkIANwAFIAJBEGpBAEEmEC8aIAJB3ABqIgRCADcCACACQQA2AlQgAiACQcwAaiIBNgJQIAIgATYCTCACQQo2AkggAkK4l4CAgPcCNwNAIAJBAToAPCACIAA2AjggAkEANgLIASACQQA2ArABIAJBADYCmAEgAkEAOgBkIAIgBDYCWCACQgA3A2ggAkIANwNwIAJCADcDeCACQgA3A4ABIAJBADYC2AIgAkEANgLAAiACQQA2AqgCIAIgAkGAAmo2ApACIAJBiPEANgKAAiACIAJB6AFqNgL4ASACQeTwADYC6AEgAiACQdABajYC4AEgAkHA8AA2AtABIAJCADcD4AIgAkEANgLoAiAIQQRqIAcQFCEEIwBBkAFrIgUkACACIAQQlwECQCAEKAIEIAQtAAsiACAAwEEASCIBGyIARQRAQQIQG0UNASAFQQhqEBchCSAFQQI2AgQgCUHA3AAQERogBUEEahAcDAELIAAgBCgCACAEIAEbakEBay0AAEEvRg0AIAVBBGoiACACQazcABD/BSACIAAQIiAAEAsaC0EBEBsEQCAFQQhqEBchCiAFQQE2AgQgCkGE4gAQESACEC4aIAVBBGoQHAsgBUGQAWokACAEEAsaIAhBEGokACACQgA3A/ACIAJCrAI3A5ADIAJCADcD+AIgAkGIA2oiAEIANwMAIAJBgICA/AM2AoADIAJCADcDmAMgAiAANgKEAyADIAI2AmwgA0Gs8QA2AmggAyADQegAaiIANgJ4IAJBsAJqIAAQwwEgABATGiADIAI2AlQgA0HQ8QA2AlAgAyADQdAAaiIANgJgIAJB6AFqIAAQwwEgABATGiADIAI2AjwgA0H08QA2AjggAyADQThqIgA2AkggAkHIAmogABDDASAAEBMaIAMgAjYCJCADQZjyADYCICADIANBIGoiADYCMCACQYgBaiAAEMMBIAAQExogAyACNgIMIANBvPIANgIIIAMgA0EIaiIANgIYIAJBmAJqIAAQwwEgABATGiADQYABaiQAIAcQCxogBkEQaiQAIAILowIBAn8jAEHQAGsiBSQAIAUgASgCCDYCSCAFIAEpAgA3A0AgAUIANwIAIAFBADYCCCAFIAIoAgA2AjQgBSACKAIENgI4IAUgAigCCDYCPCACQQA2AgggAkIANwIAIAMoAgAhBiAFQRBqIgFB/wE6ABggAUEAOgAAIwBBEGsiAiQAIAEQUCAEQQhqIgMtABgiBEH/AUcEQCACQbDwACkDADcDCCACQQdqIAEgAyACQQhqIARBAnRqKAIAEQQAIAEgAy0AGDoAGAsgAkEQaiQAIAUoAkAgBUFAayICIAUtAEsiA8BBAEgiBBsgBSgCRCADIAQbrSAFQTRqIgMgBiAFQQhqIAAoAgggACgCBBFHACABEFAgAxBcIAIQCxogBUHQAGokAAsVACAB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AhDOAiADLQBYRQ0AIAAoAgQhBSADQUBrIgQgAykDUDcDACADIAMpA0g3AzggA0EgaiACKAIEQRhrEPgBIQAgAyAEKQMANwMIIAMgAykDODcDACAFIAMgABC3BiAAEDxBAAwBC0G1AgshBiADQeAAaiQAIAYLlAkCC38CfiMAQfAAayIEJABBtQIhBwJAIAIoAgQiBSACKAIARg0AIAVBCGstAABBAUYNACAAKAIAIQUgBCABQdDvACABGyIBKQMINwMYIAQgASkDADcDECAEQdgAaiAFIARBEGogAhDOAiAELQBoRQRADAELIAAoAgQhACAEIAQpA2A3A1AgBCAEKQNYNwNIIAIoAgRBGGsQygEpAwAhDyAEQShqIANBCGoQgwQhDiAEIAQpA1A3AwggBCAEKQNINwMAQQAhByAEQSBqIQIjAEHwAWsiASQAIAEgDzcD6AEgACgCACEMIAFBADoAGCABIA83AwggDCAEIAFBCGoiAxDcAiENIAMQPCANRQRAIAFBADoA4AECQAJAIAJFDQAgAi0AIA0AIAFByAFqIAMgAkEIahB0IgIQugYgAhAzDAELIAEgAhCgAigCADYCCCABQcgBaiABQQhqELkGCyABQfgAaiICQQA6ADAgAiAPNwMAIAJCADcDCCACQUBrQQA6AAAgAkEAOgAoIAJCADcDECACQQA6ABggD1AEQAJAIAItACgEQCACQfDpACkDADcDGCACQfjpACkDADcDIAwBCyACQfDpACkDADcDGCACQfjpACkDADcDICACQQE6ACgLCyAAKAIAQcwAaiAEEKkBIgMEQAJAIANBGGoQjgEiAy0ASEUNACACIANBCGoiAxC2BkEBRw0AIAMgAhC1BhoLCyACLQAoBH8gACgCMCEDIAApAxghDyAAKAIsIQUgASAAKQMINwMQIAEgDyADIAVrQZgBba18NwMIIAFBIGogAUHIAWoQahogASACKQMgNwNIIAIpAxghDyABQQE6AFAgASAPNwNAIAFBAToAWCABIAIpAzg3A2ggASACQUBrLQAAOgBwIAEgAikDMDcDYCACKQMQIQ8gACgCACICIAQgAUEIaiIFEL4DIAJBzABqIAQQ+gEQjgEhAyMAQUBqIgIkACADIAUQywEgBS0AMEEBRgRAIAIgA0HoAGogBRB+CyADQQhqIQYCQAJAIAMtAEgEQCADKAIcIgogAygCGCILa0HwAG1BH0kNASACIAMoAgg2AgAgAiADQQxqIggoAgA2AgQgAiADKAIQNgIIIAIgAygCFDYCDCADQQA2AhQgCEIANwIAIAIgCjYCFCACIAs2AhAgAiADKAIgNgIYIANBADYCICADQgA3AxggAkEcaiADQSRqEKYGIAIgAykDODcDMCACIANBQGspAwA3AzggCCACEO0EIAZCABD+AyADIAMpAzhCAXw3AzggBiAFEO4CAn8gDyAIKAIAIgMpAzAiEFYEQCADQUBrIBBCf4UgD3wgBRDaAgwBCyADIA8gBRDaAgsaIAIQxgEaDAILIAIgAzYCACACQQRyQQBBKBAvGiACQYCAgPwDNgIsIAJCADcDOCACQgA3AzAgBiACEPMGIAIQxgEaCyAGIA8gBRDaAhoLIAJBQGskACAAQSxqIAQgAUHoAWogBRC4BiAFEHUaQQAFQQcLGiABQcgBahA+CyABQfABaiQAIA4QUAsgBEHwAGokACAHC94BAQR/IwBBkAFrIgQkAAJ/AkAgAigCACACKAIERg0AIAAoAgAhBSAEIAFB0O8AIAEbIgEpAwg3AyAgBCABKQMANwMYIARB+ABqIAUgBEEYaiACEM4CIAQtAIgBRQ0AIAAoAgQhBiAEIAQpA4ABNwNwIAQgBCkDeDcDaCAEQdAAaiACKAIEQRhrEPgBIQAgBEEwaiADQQhqEIMEIQMgBCAEKQNwNwMQIAQgBCkDaDcDCCAGIARBCGogACAEQShqELsGIAMQUCAAEDxBAAwBC0G1AgshByAEQZABaiQAIAcLPAEDfyMAQTBrIgIkACAAKAIEIgEEfyACQQ9qIAEQoQQgAEEEakEAEIEEQQAFQbQCCyEDIAJBMGokACADC5oBAQN/IwBBQGoiAyQAQbMCIQEgACgCBEUEQCADIAAoAgAQpAQhAUE4EBAiAiABKQMANwMAIAIgASkDGDcDGCACIAEpAxA3AxAgAiABKQMINwMIIAJBIGogAUEgahA1GiACQSxqIAFBLGoQNRogA0EANgI8IABBBGogAhCBBCADQTxqQQAQgQQgARCtA0EAIQELIANBQGskACABC6EGAQR/IwBBkAJrIgQkACABQdDvACABGyEBAkAgAigCACACKAIERgRAIAAoAgAhACAEIAEpAwg3AxAgBCABKQMANwMIIARB8ABqIgEgACAEQQhqELQDIAQtAJgBBH8gAyABELEDEJYEQQAFQbUCCyECIARB+ABqELADDAELIAAoAgAhBSAEIAEpAwg3A1AgBCABKQMANwNIIARB+AFqIAUgBEHIAGogAhDOAiAELQCIAkUEQEG1AiECDAELIAAoAgAhBiACKAIEIQUgBEFAayAEKQOAAjcDACAEIAQpA/gBNwM4IwBBgAFrIgEkACABIAQpA0A3AzggASAEKQM4NwMwIAFBGGogBUEYaxD4ASEFIAEgASkDODcDECABIAEpAzA3AwggAUFAayIHIAYgAUEIaiAFELgEIAUQPAJAAkAgAS0AeEUNACAHELAEIgUtAChFDQBBASEGIAUtACBBAUcNACAEIAUpAxg3A+gBIAQgBSkDEDcD4AEMAQtBACEGIARBADoA4AELIAQgBjoA8AEgAUHIAGoQrAMgAUGAAWokACAELQDwAQRAIAAoAgAhACAEIAQpA+gBNwMwIAQgBCkD4AE3AyggBEHwAGoiASAAIARBKGoQtAMgAyABELEDEJYEIARB+ABqELADQQAhAgwBCyAAKAIAIQAgBCAEKQOAAjcDuAEgBCAEKQP4ATcDsAEgBEHYAGogAigCBEEYaxD4ASEBIAQgBCkDuAE3AyAgBCAEKQOwATcDGCAEQfAAaiICIAAgBEEYaiABELgEIAIQsAQhAiAEQbABaiIAQQA6ACggAEEAOgAAIAItACgEQCAAQQhqIAJBCGoQ9gEgAEEBOgAoCyAEQfgAahCsAyABEDwgAC0AKAR/IAAtACAEQBAWAAsgAEEIaiECIwBBEGsiASQAAkAgAy0AGEUEQCADIAIQsgYMAQsgASACNgIMIAEgAzYCCCMAQSBrIgIkACABKAIIIAJBCGogASgCDBC3AyIDEO0FIAMQMyACQSBqJAALIAFBEGokAEEABUG1AgshAiAAEM8GCyAEQZACaiQAIAILeQEBfyAAKAIAIgQgACgCBEYEQEGxAg8LAkACQCAERQ0AIAQtABBBAUcNACABIAQoAgAgBCAELAALQQBIGzYCACACIAQoAgQgBC0ACyIBIAHAQQBIG603AwAMAQsgAyAEEMoBKQMANwMACyAAIAAoAgBBGGo2AgBBAAsUAQF/QQgQECIBIAApAgA3AgAgAQsyAQF/IwBBIGsiAiQAIAJBADoAGCACIAE3AwggACACQQhqIgAQzAEgABA8IAJBIGokAAtgAQJ/IwBBMGsiAyQAIANBCGoiBCABIAKnEF8gAyADKAIQNgIgIANBADYCECADQQE6ACggAyADKQMINwMYIANCADcDCCAAIANBGGoiABDMASAAEDwgBBALGiADQTBqJAALDwAgAARAIAAQXAsgABANCwsAQQwQECAAEPwGCxgBAX9BDBAQIgBBADYCCCAAQgA3AgAgAAtJAQF/IAAtAAhFBEBBsgIPCyAALQAIQQFHBEAQFgALIAAoAgAiAiAAKAIERgRAQbECDwsgASACNgIAIAAgACgCAEEgajYCAEEAC4EBAQF/IAAtAAhBAUcEfyAALQAIBEAQFgALIAAoAgAiBCAAKAIERgRAQbECDwsgASAEKAIIIARBCGogBCwAE0EASBs2AgAgAiAAKAIAIgEoAgwgAS0AEyICIALAQQBIG603AwAgAyABQRhqNgIAIAAgACgCACgCADYCAEEABUGyAgsLYgEBfwJAIABFDQACfwJAAkAgAC0AGEEBaw4CAAEDC0EMEBAhASAAKAIAKAIIIQAgAUEANgIEIAEgADYCAEEADAELQQwQECIBIAAoAgApAgA3AgBBAQshACABIAA6AAgLIAELFQAgAEUEQEEADwtBACAAIAAtABgbCwoAIAAtABhBAkYLCgAgAC0AGEEBRgsIACAALQAYRQtYAQV/IwBBoAFrIgEkAEEBEBsEQCABQRhqEBchBCABQQE2AhQgBEGn5QAQESEFIAFBCGoiAyAAQQAQoAMgBSADEC4aIAMQCxogAUEUahAcCyABQaABaiQACw8AIAAEQCAAEE8LIAAQDQsfAQF/QSAQECIAQQA6ABggAEEAOgAQIABCADcDACAACycBAX9BsgIhAiAALQAQQQVGBH8gASAAEM0BKQMINwMAQQAFQbICCwtNAQF/QbICIQMgAC0AEEEERgR/IAEgABDpBSIAKAIAIAAgACwAC0EASBs2AgAgAiAAKAIEIAAtAAsiACAAwEEASButNwMAQQAFQbICCwsnAQF/QbICIQIgAC0AEEEDRgR/IAEgABDrBS0AADoAAEEABUGyAgsLJwEBf0GyAiECIAAtABBBAkYEfyABIAAQ7AUrAwA5AwBBAAVBsgILCycBAX9BsgIhAiAALQAQQQFGBH8gASAAEPABKQMANwMAQQAFQbICCwskAQF/QbICIQIgAC0AEAR/QbICBSABIAAQygEpAwA3AwBBAAsLCgAgAC0AEEEFRgsKACAALQAQQQZGCwoAIAAtABBBBEYLCgAgAC0AEEEDRgsKACAALQAQQQJGCwoAIAAtABBBAUYLCAAgAC0AEEULKQEBfyMAQRBrIgIkACACIAE3AwggAiABNwMAIAAgAhC/BiACQRBqJAALBwAgABCIBgsuAQJ/IwBBEGsiAyQAIANBBGoiBCABIAKnEF8gACAEEKUEIAQQCxogA0EQaiQACyUBAX8jAEEQayICJAAgAiABOgAPIAAgAkEPahCmBCACQRBqJAALJQEBfyMAQRBrIgIkACACIAE5AwggACACQQhqEKcEIAJBEGokAAslAQF/IwBBEGsiAiQAIAIgATcDCCAAIAJBCGoQwAYgAkEQaiQACyUBAX8jAEEQayICJAAgAiABNwMIIAAgAkEIahCoBCACQRBqJAALCQAgAEEBEJIIC2EBAn8jAEEQayICJAACQCAALQAYQQFGBEAgACABKAIANgIADAELIAIgATYCDCACIAA2AgggAigCDCEDIAIoAggiABBQIAMoAgAhASAAQQE6ABggACABNgIACyACQRBqJAALCQAgAEEAEJIIC5MBAQd/IwBBIGsiAiQAIAJBADoAGCACQgA3AwggAkEIaiEDIwBBEGsiASQAAkAgAEEIaiIELQAYRQRAIAQgAxD/AwwBCyABIAM2AgwgASAENgIIIAEoAgwhBiABKAIIIgcQUCAHIAYQdEEAOgAYCyABQRBqJAAgAxAzIAAEQEEAIAQgAC0AIBshBQsgAkEgaiQAIAULGAAgAEUEQEEADwtBACAAQQhqIAAtACAbCx0BAX8gAC0AIEEBRgR/IAAQoAIoAgBBAUYFQQALCxsBAX8gAC0AIEEBRgR/IAAQoAIoAgAFQQELRQsIACAALQAgRQsSACAABEAgAEEIahBQCyAAEA0LGAEBf0EoEBAiAUEIaiAAQQhqEIMEGiABCx8BAX9BKBAQIgBCADcDCCAAQQA6ACAgAEEAOgAYIAALCQBBwKYCEBMaCw8AIAAoAgQgAiABEIgBGgvuAQEFfyMAQaABayIDJAAgACgCBCEAAkAgAS8BACIBBEBBAhAbBEAgA0EYahAXIQUgA0ECNgIUIAVBo+IAEBEgARBwGiADQRRqEBwLIAAQmQIMAQsgACgCsAEEQCAAQaABaiACEMgHC0EBEBsEQCADQRhqEBchBiADQQE2AhQgBkHk4wAQESEHIANBCGoiASACKAIEKAI0EA8aIAcgARAuGiABEAsaIANBFGoQHAsgAEIANwN4IABBATsBNCAAKALAAkUNACADQRRqIgEgAEGwAmogAhCHBCAAQeACaiABECIgARALGgsgA0GgAWokAAsVACABQbTvADYCACABIAAoAgQ2AgQLHQEBf0EIEBAiAUG07wA2AgAgASAAKAIENgIEIAELDwAgAEEIaiABLwEAENYECw0AIAAgAUGM7wAQ2wELCwAgAEGM7wAQ3AELCQAgABDgBRANCwkAIAAQhgQQDQsJACAAEIgEEA0LCQAgABCJBBANCw4AIAAoAgAgASACEIcGCw4AIAAoAgAgASACEIUGC0sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AGEUEQCABIAIQ/wMMAQsgACACNgIMIAAgAzYCCCAAKAIIIAAoAgwQ7QULIABBEGokAAsRACAAIAEgAiADQf//AxCWCAsQACAAIAEgAiADQf8BEJYICwsAIAAgAUECEJQICy0AIAAsAAtBAEgEQCAAKAIAQQA6AAAgAEEANgIEDwsgAEEAOgALIABBADoAAAvwAQEIfyAAIQggACgCCEEEaygCACgCCCEDIwBBEGsiAiQAIAIgATYCBCMAQRBrIgAkACACIAMgAEEMaiABEOICIgUoAgAiAQR/QQAFQTAQECEEIAAgA0EEajYCBCAAIAQ2AgAgAigCBCEGIwBBEGsiASQAIAEgBjYCDCAEQRBqIAEoAgwQFEEQahCgARogAUEQaiQAIABBAToACCADIAAoAgwgBSAAKAIAEKICIAAoAgAhASAAQQA2AgAgABD9BUEBCzoADCACIAE2AgggAEEQaiQAIAghCSACKAIIIQcgAkEQaiQAIAkgB0EgajYCEEEBC20BAX9B/////wAhAQJAAkACQCAALQAAQQFrDgIAAgELQdWq1SoPCwJ/AkACQAJAAkAgAC0AACIBDgMDAQACCyAAKAIIIgAoAgQgACgCAGtBBHUMAwsgACgCCCgCCAwCC0EBIQELIAELIQELIAEL5wIBBX8jAEEgayIEJAACQAJ/IAAoAggiAiAAKAIERgRAIARBEGogAS0AABCcAiEBIAAoAgAgARBgIAEQPRogACgCAAwBCwJAAkACQCACQQRrKAIAIgItAABBAWsOAgIBAAtBrd0AQeMqQesuQbY2EAAACwJAIAIoAggiAigCBCACKAIISQRAIAIgAigCBCABLQAAEJwCQRBqNgIEDAELIwBBIGsiBSQAIAVBDGogAiACKAIEIAIoAgBrQQR1QQFqEIEBIAIoAgQgAigCAGtBBHUgAkEIahBsIgMoAgggAS0AABCcAhogAyADKAIIQRBqNgIIIAIgAxCfASADEJ4BIAVBIGokAAsgAigCBBogACgCCEEEaygCACgCCCgCBEEQawwBCyAAKAIQRQ0BIAQgAS0AABCcAiEBIAAoAhAgARBgIAEQPRogACgCEAshBiAEQSBqJAAgBg8LQeEWQeMqQfQuQbY2EAAAC+0CAQV/IwBBEGsiBCQAIARBADYCDCMAQSBrIgMkAAJAAkACfyAAKAIIIgEgACgCBEYEQCADQRBqEKABIQEgACgCACABEGAgARA9GiAAKAIADAELAkACQAJAIAFBBGsoAgAiAS0AAEEBaw4CAgEAC0Gt3QBB4ypB6y5BtjYQAAALAkAgASgCCCIBKAIEIAEoAghJBEAgASABKAIEEKABQRBqNgIEDAELIwBBIGsiBSQAIAVBDGogASABKAIEIAEoAgBrQQR1QQFqEIEBIAEoAgQgASgCAGtBBHUgAUEIahBsIgIoAggQoAEaIAIgAigCCEEQajYCCCABIAIQnwEgAhCeASAFQSBqJAALIAEoAgQaIAAoAghBBGsoAgAoAggoAgRBEGsMAQsgACgCEEUNASADEKABIQEgACgCECABEGAgARA9GiAAKAIQCxogA0EgaiQADAELQeEWQeMqQfQuQbY2EAAACyAEQRBqJABBAQvYAgEEfyMAQSBrIgQkAAJAAn8gACgCCCICIAAoAgRGBEAgBEEQaiABEJYDIQEgACgCACABEGAgARA9GiAAKAIADAELAkACQAJAIAJBBGsoAgAiAi0AAEEBaw4CAgEAC0Gt3QBB4ypB6y5BtjYQAAALAkAgAigCCCICKAIEIAIoAghJBEAgAiACKAIEIAEQlgNBEGo2AgQMAQsjAEEgayIFJAAgBUEMaiACIAIoAgQgAigCAGtBBHVBAWoQgQEgAigCBCACKAIAa0EEdSACQQhqEGwiAygCCCABEJYDGiADIAMoAghBEGo2AgggAiADEJ8BIAMQngEgBUEgaiQACyACKAIEGiAAKAIIQQRrKAIAKAIIKAIEQRBrDAELIAAoAhBFDQEgBCABEJYDIQEgACgCECABEGAgARA9GiAAKAIQCxogBEEgaiQADwtB4RZB4ypB9C5BtjYQAAAL2AIBBH8jAEEgayIEJAACQAJ/IAAoAggiAiAAKAIERgRAIARBEGogARCVAyEBIAAoAgAgARBgIAEQPRogACgCAAwBCwJAAkACQCACQQRrKAIAIgItAABBAWsOAgIBAAtBrd0AQeMqQesuQbY2EAAACwJAIAIoAggiAigCBCACKAIISQRAIAIgAigCBCABEJUDQRBqNgIEDAELIwBBIGsiBSQAIAVBDGogAiACKAIEIAIoAgBrQQR1QQFqEIEBIAIoAgQgAigCAGtBBHUgAkEIahBsIgMoAgggARCVAxogAyADKAIIQRBqNgIIIAIgAxCfASADEJ4BIAVBIGokAAsgAigCBBogACgCCEEEaygCACgCCCgCBEEQawwBCyAAKAIQRQ0BIAQgARCVAyEBIAAoAhAgARBgIAEQPRogACgCEAsaIARBIGokAA8LQeEWQeMqQfQuQbY2EAAACwsAIAAgAUEBEJQICzcBAX8gACgCACIBBEAgASEAA0AgACIBKAIEIgANAAsgAQ8LA0AgACAAKAIIIgAoAgBGDQALIAAL3BADF38CfQF+IwBB4AFrIgMkACAAQQhqIRQCQCABLwEAIgAEQCADQQA2AhAgA0IANwIIIBQgACADQQhqIgBCAEEAEJUGIAAQoQMMAQsgA0EANgLcASADQgA3AtQBIANBDGohFQNAIAIoAgQiASgCECATTQRAIAMgAygC1AE2AgggAykC2AEhHCADQQA2AtwBIAMgHDcCDCADQgA3AtQBIBRBACADQQhqIgAgASkDICABKAIYQQBHEJUGIAAQoQMgA0HUAWoQoQMMAgsgASgCFCATQQJ0aigCACERELcEIQAgA0EBOgDIASADIAA2ArABQQAhACADQQA2AgggA0EIahCyAwNAIBEoAhQgAE0EQEEBEBsEQCAVEBchFiADQQE2AgggFkGu5QAQESEXIANBoAFqIgEgA0GwAWpBABCgAyAXIAEQLhogARALGiADQQhqEBwLIANBCGogESgCEBAPIQ4g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AQsLACAAQYTtABDcAQsJACAAEJYGEA0LDQAgACABQeDsABDbAQsLACAAQeDsABDcAQsJACAAEJcGEA0LDQAgACABQbzsABDbAQsLACAAQbzsABDcAQsJACAAEJgGEA0LDQAgACABQZjsABDbAQsLACAAQZjsABDcAQsJACAAEJkGEA0LDQAgACABQfTrABDbAQsLACAAQfTrABDcAQsJACAAEJoGEA0LDQAgACABQdDrABDbAQsLACAAQdDrABDcAQsJACAAEJsGEA0LDQAgACABQazrABDbAQsLACAAQazrABDcAQsJACAAEJwGEA0LCQAgABCZBBANCwkAIAAQmgQQDQsJACAAEJsEEA0LCQAgABCcBBANCw4AIAAoAgAgASACEO4HC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AEEEERgRAIAEgAhCXAQwBCyAAIAI2AgwgACADNgIIIwBBEGsiASQAIAAoAgggAUEEaiAAKAIMEBQiAhCoCSACEAsaIAFBEGokAAsgAEEQaiQAC2sBAX8gACgCACEDIwBBEGsiACQAAkAgAy0AGEECRgRAIAEgAhCyBgwBCyAAIAI2AgwgACADNgIIIwBBIGsiASQAIAAoAgggAUEIaiAAKAIMELcDIgIQ4wkgAhAzIAFBIGokAAsgAEEQaiQACwcAIAEQzwYLBwAgARC1BAsHACABELIDCwYAIAEQTwsgACABIAIpAwA3AwAgASACKQMQNwMQIAEgAikDCDcDCAuXAQEBfyAAKAIAIQMjAEEQayIAJAACQCADLQAQQQFGBEAgASACEJcBDAELIAAgAjYCDCAAIAM2AggjAEEQayIDJAAgACgCCCEBIANBBGogACgCDBAUIQIgARA8IAEgAigCCDYCCCABIAIpAgA3AgAgAkIANwIAIAJBADYCCCABQQE6ABAgAhALGiADQRBqJAALIABBEGokAAtoAgJ/AX4gACgCACEDIwBBEGsiACQAAkAgAy0AEEUEQCABIAIpAwA3AwAMAQsgACACNgIMIAAgAzYCCCAAKAIMIQQgACgCCCIBEDwgBCkDACEFIAFBADoAECABIAU3AwALIABBEGokAAtZAQF/AkAgAC0AECICIAEtABBGBEAgAkUNASAAIAEpAwA3AwAgACABKQMINwMIDwsgAgRAIABBADoAEA8LIAAgASkD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DWohDCALQQRqIQsgEkEBayISDQALCyAJBEAgBCALNgIACyARQRBqJAAgFBCaASAPQRBqJAACQAJAAkACQAJAIAxBAWoOAgAGAQsgByAFNgIAA0ACQCACIAQoAgBGDQAgBSACKAIAIAAoAggQjgUiAUF/Rg0AIAcgBygCACABaiIFNgIAIAJBBGohAgwBCwsgBCACNgIADAELIAcgBygCACAMaiIFNgIAIAUgBkYNAiADIAhGBEAgBCgCACECIAMhCAwHCyAOQQRqQQAgACgCCBCOBSIIQX9HDQELQQIhEAwDCyAOQQRqIQIgBiAHKAIAayAISQ0CA0AgCARAIAItAAAhBSAHIAcoAgAiCUEBajYCACAJIAU6AAAgCEEBayEIIAJBAWohAgwBCwsgBCAEKAIAQQRqIgI2AgAgAiEIA0AgAyAIRgRAIAMhCAwFCyAIKAIARQ0EIAhBBGohCAwACwALIAQoAgALIANHIRALIA5BEGokACAQDwsgBygCACEFDAALAAsMACAAEMwIGiAAEA0LOQEBfyMAQRBrIgAkACAAIAQ2AgwgACADIAJrNgIIIABBDGogAEEIahCYCSgCACEFIABBEGokACAFCzQAA0AgASACRkUEQCAEIAMgASwAACIAIABBAEgbOgAAIARBAWohBCABQQFqIQEMAQsLIAILDAAgAiABIAFBAEgbCyoAA0AgASACRkUEQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohAQwBCwsgAgsPACAAIAEgAkHg3QEQjAgLIgAgAUEATgR/QeDdASgCACABQf8BcUECdGooAgAFIAELwAsPACAAIAEgAkHY0QEQjAgLIgAgAUEATgR/QdjRASgCACABQf8BcUECdGooAgAFIAELwAsMACAAEMIIGiAAEA0LNQADQCABIAJGRQRAIAQgASgCACIAIAMgAEGAAUkbOgAAIARBAWohBCABQQRqIQEMAQsLIAILDgAgASACIAFBgAFJG8ALKgADQCABIAJGRQRAIAMgASwAADYCACADQQRqIQMgAUEBaiEBDAELCyACCw8AIAAgASACQeDdARCLCAseACABQf8ATQR/QeDdASgCACABQQJ0aigCAAUgAQsLDwAgACABIAJB2NEBEIsICx4AIAFB/wBNBH9B2NEBKAIAIAFBAnRqKAIABSABCwtBAAJAA0AgAiAD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ACAIC9EDAgF+AX8jAEGAA2siACQAIAAgAjYC+AIgACABNgL8AiAAQdwBaiADIABB8AFqIABB7AFqIABB6AFqEJkFIABB0AFqECEiASABECAQGCAAIAFBABAZIgI2AswBIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABB/AJqIABB+AJqECcNACAAKALMASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCzAELIABB/AJqIgMQPyAAQRdqIABBFmogAiAAQcwBaiAAKALsASAAKALoASAAQdwBaiAAQSBqIABBHGogAEEYaiAAQfABahCYBQ0AIAMQSBoMAQsLAkAgAEHcAWoQDEUNACAALQAXRQ0AIAAoAhwiAyAAQSBqa0GfAUoNACAAIANBBGo2AhwgAyAAKAIYNgIACyAAIAIgACgCzAEgBBD0CCAAKQMAIQYgBSAAKQMINwMIIAUgBjcDACAAQdwBaiAAQSBqIAAoAhwgBBBYIABB/AJqIABB+AJqECcEQCAEIAQoAgBBAnI2AgALIAAoAvwCIQcgARALGiAAQdwBahALGiAAQYADaiQAIAcLugMBAX8jAEHwAmsiACQAIAAgAjYC6AIgACABNgLsAiAAQcwBaiADIABB4AFqIABB3AFqIABB2AFqEJkFIABBwAFqECEiASABECAQGCAAIAFBABAZIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB7AJqIABB6AJqECcNACAAKAK8ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCvAELIABB7AJqIgMQPyAAQQdqIABBBmogAiAAQbwBaiAAKALcASAAKALYASAAQcwBaiAAQRBqIABBDGogAEEIaiAAQeABahCYBQ0AIAMQSBoMAQsLAkAgAEHMAWoQDEUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCvAEgBBD1CDkDACAAQcwBaiAAQRBqIAAoAgwgBBBYIABB7AJqIABB6AJqECcEQCAEIAQoAgBBAnI2AgALIAAoAuwCIQYgARALGiAAQcwBahALGiAAQfACaiQAIAYLugMBAX8jAEHwAmsiACQAIAAgAjYC6AIgACABNgLsAiAAQcwBaiADIABB4AFqIABB3AFqIABB2AFqEJkFIABBwAFqECEiASABECAQGCAAIAFBABAZIgI2ArwBIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB7AJqIABB6AJqECcNACAAKAK8ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCvAELIABB7AJqIgMQPyAAQQdqIABBBmogAiAAQbwBaiAAKALcASAAKALYASAAQcwBaiAAQRBqIABBDGogAEEIaiAAQeABahCYBQ0AIAMQSBoMAQsLAkAgAEHMAWoQDEUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCvAEgBBD2CDgCACAAQcwBaiAAQRBqIAAoAgwgBBBYIABB7AJqIABB6AJqECcEQCAEIAQoAgBBAnI2AgALIAAoAuwCIQYgARALGiAAQcwBahALGiAAQfACaiQAIAYLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADELABIQYgAyAAQdABahCCAyEHIABBxAFqIAMgAEHEAmoQgQMgAEG4AWoQISIBIAEQIBAYIAAgAUEAEBkiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQJw0AIAAoArQBIAEQDCACakYEQCABEAwhAyABIAEQDEEBdBAYIAEgARAgEBggACADIAFBABAZIgJqNgK0AQsgAEHMAmoiAxA/IAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEMECDQAgAxBIGgwBCwsCQCAAQcQBahAMRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEPcINwMAIABBxAFqIABBEGogACgCDCAEEFggAEHMAmogAEHIAmoQJwRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAsaIABBxAFqEAsaIABB0AJqJAAgCAubAwEDfyMAQdACayIAJAAgACACNgLIAiAAIAE2AswCIAMQsAEhBiADIABB0AFqEIIDIQcgAEHEAWogAyAAQcQCahCBAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQcwCaiAAQcgCahAnDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EBggASABECAQGCAAIAMgAUEAEBkiAmo2ArQBCyAAQcwCaiIDED8gBiACIABBtAFqIABBCGogACgCxAIgAEHEAWogAEEQaiAAQQxqIAcQwQINACADEEgaDAELCwJAIABBxAFqEAxFDQAgACgCDCIDIABBEGprQZ8BSg0AIAAgA0EEajYCDCADIAAoAgg2AgALIAUgAiAAKAK0ASAEIAYQ+wg7AQAgAEHEAWogAEEQaiAAKAIMIAQQWCAAQcwCaiAAQcgCahAnBEAgBCAEKAIAQQJyNgIACyAAKALMAiEIIAEQCxogAEHEAWoQCxogAEHQAmokACAIC5sDAQN/IwBB0AJrIgAkACAAIAI2AsgCIAAgATYCzAIgAxCwASEGIAMgAEHQAWoQggMhByAAQcQBaiADIABBxAJqEIEDIABBuAFqECEiASABECAQGCAAIAFBABAZIgI2ArQBIAAgAEEQajYCDCAAQQA2AggDQAJAIABBzAJqIABByAJqECcNACAAKAK0ASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCtAELIABBzAJqIgMQPyAGIAIgAEG0AWogAEEIaiAAKALEAiAAQcQBaiAAQRBqIABBDGogBxDBAg0AIAMQSBoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhD8CDcDACAAQcQBaiAAQRBqIAAoAgwgBBBYIABBzAJqIABByAJqECcEQCAEIAQoAgBBAnI2AgALIAAoAswCIQggARALGiAAQcQBahALGiAAQdACaiQAIAgLmwMBA38jAEHQAmsiACQAIAAgAjYCyAIgACABNgLMAiADELABIQYgAyAAQdABahCCAyEHIABBxAFqIAMgAEHEAmoQgQMgAEG4AWoQISIBIAEQIBAYIAAgAUEAEBkiAjYCtAEgACAAQRBqNgIMIABBADYCCANAAkAgAEHMAmogAEHIAmoQJw0AIAAoArQBIAEQDCACakYEQCABEAwhAyABIAEQDEEBdBAYIAEgARAgEBggACADIAFBABAZIgJqNgK0AQsgAEHMAmoiAxA/IAYgAiAAQbQBaiAAQQhqIAAoAsQCIABBxAFqIABBEGogAEEMaiAHEMECDQAgAxBIGgwBCwsCQCAAQcQBahAMRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCtAEgBCAGEP0INgIAIABBxAFqIABBEGogACgCDCAEEFggAEHMAmogAEHIAmoQJwRAIAQgBCgCAEECcjYCAAsgACgCzAIhCCABEAsaIABBxAFqEAsaIABB0AJqJAAgCAvsAQEBfyMAQSBrIgYkACAGIAE2AhwCQCADKAIEQQFxRQRAIAZBfzYCACAAIAEgAiADIAQgBiAAKAIAKAIQEQgAIQECQAJAAkAgBigCAA4CAAECCyAFQQA6AAAMAwsgBUEBOgAADAILIAVBAToAACAEQQQ2AgAMAQsgBiADEB8gBhBnIQEgBhAeIAYgAxAfIAYQwgIhACAGEB4gBiAAEI0BIAZBDHIgABCMASAFIAZBHGogAiAGIAZBGGoiAyABIARBARDpAyAGRjoAACAGKAIcIQEDQCADQQxrEDciAyAGRw0ACwsgBkEgaiQAIAEL8AIBBH8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcQBahAhIQYgAEEQaiICIAMQHyACEGJB8OkBQYrqASAAQdABahDnASACEB4gAEG4AWoQISIDIAMQIBAYIAAgA0EAEBkiATYCtAEgACACNgIMIABBADYCCANAAkAgAEH8AWogAEH4AWoQKA0AIAAoArQBIAMQDCABakYEQCADEAwhAiADIAMQDEEBdBAYIAMgAxAgEBggACACIANBABAZIgFqNgK0AQsgAEH8AWoiAhBAQRAgASAAQbQBaiAAQQhqQQAgBiAAQRBqIABBDGogAEHQAWoQxAINACACEEkaDAELCyADIAAoArQBIAFrEBggAxAaIQkQKiEHIAAgBTYCACAJIAcgABDzCEEBRwRAIARBBDYCAAsgAEH8AWogAEH4AWoQKARAIAQgBCgCAEECcjYCAAsgACgC/AEhCCADEAsaIAYQCxogAEGAAmokACAIC9EDAgF+AX8jAEGQAmsiACQAIAAgAjYCiAIgACABNgKMAiAAQdABaiADIABB4AFqIABB3wFqIABB3gFqEJ0FIABBxAFqECEiASABECAQGCAAIAFBABAZIgI2AsABIAAgAEEgajYCHCAAQQA2AhggAEEBOgAXIABBxQA6ABYDQAJAIABBjAJqIABBiAJqECgNACAAKALAASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCwAELIABBjAJqIgMQQCAAQRdqIABBFmogAiAAQcABaiAALADfASAALADeASAAQdABaiAAQSBqIABBHGogAEEYaiAAQeABahCcBQ0AIAMQSRoMAQsLAkAgAEHQAWoQDEUNACAALQAXRQ0AIAAoAhwiAyAAQSBqa0GfAUoNACAAIANBBGo2AhwgAyAAKAIYNgIACyAAIAIgACgCwAEgBBD0CCAAKQMAIQYgBSAAKQMINwMIIAUgBjcDACAAQdABaiAAQSBqIAAoAhwgBBBYIABBjAJqIABBiAJqECgEQCAEIAQoAgBBAnI2AgALIAAoAowCIQcgARALGiAAQdABahALGiAAQZACaiQAIAcLugMBAX8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcABaiADIABB0AFqIABBzwFqIABBzgFqEJ0FIABBtAFqECEiASABECAQGCAAIAFBABAZIgI2ArABIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB/AFqIABB+AFqECgNACAAKAKwASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCsAELIABB/AFqIgMQQCAAQQdqIABBBmogAiAAQbABaiAALADPASAALADOASAAQcABaiAAQRBqIABBDGogAEEIaiAAQdABahCcBQ0AIAMQSRoMAQsLAkAgAEHAAWoQDEUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCsAEgBBD1CDkDACAAQcABaiAAQRBqIAAoAgwgBBBYIABB/AFqIABB+AFqECgEQCAEIAQoAgBBAnI2AgALIAAoAvwBIQYgARALGiAAQcABahALGiAAQYACaiQAIAYLugMBAX8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASAAQcABaiADIABB0AFqIABBzwFqIABBzgFqEJ0FIABBtAFqECEiASABECAQGCAAIAFBABAZIgI2ArABIAAgAEEQajYCDCAAQQA2AgggAEEBOgAHIABBxQA6AAYDQAJAIABB/AFqIABB+AFqECgNACAAKAKwASABEAwgAmpGBEAgARAMIQMgASABEAxBAXQQGCABIAEQIBAYIAAgAyABQQAQGSICajYCsAELIABB/AFqIgMQQCAAQQdqIABBBmogAiAAQbABaiAALADPASAALADOASAAQcABaiAAQRBqIABBDGogAEEIaiAAQdABahCcBQ0AIAMQSRoMAQsLAkAgAEHAAWoQDEUNACAALQAHRQ0AIAAoAgwiAyAAQRBqa0GfAUoNACAAIANBBGo2AgwgAyAAKAIINgIACyAFIAIgACgCsAEgBBD2CDgCACAAQcABaiAAQRBqIAAoAgwgBBBYIABB/AFqIABB+AFqECgEQCAEIAQoAgBBAnI2AgALIAAoAvwBIQYgARALGiAAQcABahALGiAAQYACaiQAIAYLkAMBAn8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASADELABIQYgAEHEAWogAyAAQfcBahCDAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQfwBaiAAQfgBahAoDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EBggASABECAQGCAAIAMgAUEAEBkiAmo2ArQBCyAAQfwBaiIDEEAgBiACIABBtAFqIABBCGogACwA9wEgAEHEAWogAEEQaiAAQQxqQfDpARDEAg0AIAMQSRoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhD3CDcDACAAQcQBaiAAQRBqIAAoAgwgBBBYIABB/AFqIABB+AFqECgEQCAEIAQoAgBBAnI2AgALIAAoAvwBIQcgARALGiAAQcQBahALGiAAQYACaiQAIAcLkAMBAn8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASADELABIQYgAEHEAWogAyAAQfcBahCDAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQfwBaiAAQfgBahAoDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EBggASABECAQGCAAIAMgAUEAEBkiAmo2ArQBCyAAQfwBaiIDEEAgBiACIABBtAFqIABBCGogACwA9wEgAEHEAWogAEEQaiAAQQxqQfDpARDEAg0AIAMQSRoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhD7CDsBACAAQcQBaiAAQRBqIAAoAgwgBBBYIABB/AFqIABB+AFqECgEQCAEIAQoAgBBAnI2AgALIAAoAvwBIQcgARALGiAAQcQBahALGiAAQYACaiQAIAcLkAMBAn8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASADELABIQYgAEHEAWogAyAAQfcBahCDAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQfwBaiAAQfgBahAoDQAgACgCtAEgARAMIAJqRgRAIAEQDCEDIAEgARAMQQF0EBggASABECAQGCAAIAMgAUEAEBkiAmo2ArQBCyAAQfwBaiIDEEAgBiACIABBtAFqIABBCGogACwA9wEgAEHEAWogAEEQaiAAQQxqQfDpARDEAg0AIAMQSRoMAQsLAkAgAEHEAWoQDEUNACAAKAIMIgMgAEEQamtBnwFKDQAgACADQQRqNgIMIAMgACgCCDYCAAsgBSACIAAoArQBIAQgBhD8CDcDACAAQcQBaiAAQRBqIAAoAgwgBBBYIABB/AFqIABB+AFqECgEQCAEIAQoAgBBAnI2AgALIAAoAvwBIQcgARALGiAAQcQBahALGiAAQYACaiQAIAcLkAMBAn8jAEGAAmsiACQAIAAgAjYC+AEgACABNgL8ASADELABIQYgAEHEAWogAyAAQfcBahCDAyAAQbgBahAhIgEgARAgEBggACABQQAQGSICNgK0ASAAIABBEGo2AgwgAEEANgIIA0ACQCAAQfwBaiAAQfgBahAo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AAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACQAAAAlAAAAAAAAACYAAAAnAAAAKAAAACkAAAB9AEdhbGFjdHVzX19Qcm9wZXJ0eQBnYWxhY3R1cy5Qcm9wZXJ0eQBpbmZpbml0eQBGZWJydWFyeQBKYW51YXJ5AGJpbmFyeQBKdWx5AGNvdW50X29ubHkAa2V5c19vbmx5AERpZ2VzdE9ubHkAa2V5AEhhc2hLZXkAcm91dGluZ0tleQBSb3V0aW5nS2V5AFVuaXF1ZUtleQBTeW5jS2V5AHNpemVvZl9lbHRfaW5fcmVwZWF0ZWRfYXJyYXkAVGh1cnNkYXkAVHVlc2RheQBXZWRuZXNkYXkAU2F0dXJkYXkAU3VuZGF5AE1vbmRheQBGcmlkYXkATWF5ACVtLyVkLyV5AGluZGV4AE5hbWVzcGFjZUluZGV4AC0rICAgMFgweAAtMFgrMFggMFgtMHgrMHggMHgAVW5zdXBwb3J0ZWQgQlNPTiByZWNvcmQgdHlwZSAweABleHBlY3RlZCBlbmQgb2YgaW5wdXQ7IGxhc3QgYnl0ZTogMHgAZXhwZWN0ZWQgJyMnIGFmdGVyIHR5cGUgaW5mb3JtYXRpb247IGxhc3QgYnl0ZTogMHgAYnl0ZSBhZnRlciAnQycgbXVzdCBiZSBpbiByYW5nZSAweDAwLi4weDdGOyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkIGxlbmd0aCB0eXBlIHNwZWNpZmljYXRpb24gKFUsIGksIEksIGwsIEwpOyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkIGxlbmd0aCBzcGVjaWZpY2F0aW9uICgweDYwLTB4N0IpIG9yIGluZGVmaW5pdGUgc3RyaW5nIHR5cGUgKDB4N0YpOyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkIGxlbmd0aCBzcGVjaWZpY2F0aW9uICgweDQwLTB4NUIpIG9yIGluZGVmaW5pdGUgYmluYXJ5IGFycmF5IHR5cGUgKDB4NUYpOyBsYXN0IGJ5dGU6IDB4AGV4cGVjdGVkIGxlbmd0aCBzcGVjaWZpY2F0aW9uICgweEEwLTB4QkYsIDB4RDktMHhEQik7IGxhc3QgYnl0ZTogMHgAZXhwZWN0ZWQgbGVuZ3RoIHR5cGUgc3BlY2lmaWNhdGlvbiAoVSwgaSwgSSwgbCwgTCkgYWZ0ZXIgJyMnOyBsYXN0IGJ5dGU6IDB4AGludmFsaWQgYnl0ZTogMHgAX19uZXh0X3ByaW1lIG92ZXJmbG93AE5vdgBUaHUAdW5leHBlY3RlZCBlbmQgb2YgaW5wdXQAVGltZW91dABHQUxBQ1RVU19fT1BfVFlQRV9fQmF0Y2hQdXQAR0FMQUNUVVNfX09QX1RZUEVfX1B1dABBdWd1c3QAZWxlbWVudCBsaXN0AEdhbGFjdHVzX19SZW5ld0tleVJlcXVlc3QAZ2FsYWN0dXMuUmVuZXdLZXlSZXF1ZXN0AEdhbGFjdHVzX19HZXRSZXF1ZXN0AGdhbGFjdHVzLkdldFJlcXVlc3QAR2FsYWN0dXNfX0RvY09wUmVxdWVzdABnYWxhY3R1cy5Eb2NPcFJlcXVlc3QAR2FsYWN0dXNfX0VzdGFibGlzaFJlcXVlc3QAZ2FsYWN0dXMuRXN0YWJsaXNoUmVxdWVzdABHYWxhY3R1c19fQmF0Y2hLZWVwYWxpdmVSZXF1ZXN0AGdhbGFjdHVzLkJhdGNoS2VlcGFsaXZlUmVxdWVzdABHYWxhY3R1c19fU2hha2VIYW5kUmVxdWVzdABnYWxhY3R1cy5TaGFrZUhhbmRSZXF1ZXN0AEdhbGFjdHVzX19QdXREb2NSZXF1ZXN0AGdhbGFjdHVzLlB1dERvY1JlcXVlc3QAR2FsYWN0dXNfX0RlbGV0ZURvY1JlcXVlc3QAZ2FsYWN0dXMuRGVsZXRlRG9jUmVxdWVzdABCZXN0AEdBTEFDVFVTX19PUF9UWVBFX19JbnNlcnQAc2VuZGluZyBzbmFwc2hvdABjb3VudABDb25uZWN0aW9uQ291bnQAU3RyZWFtQ291bnQAZ2V0X2NvZGVwb2ludABFbmRwb2ludABnZXRfZGVjaW1hbF9wb2ludABDb250ZW50AGludmFsaWQgbnVtYmVyOyBleHBlY3RlZCAnKycsICctJywgb3IgZGlnaXQgYWZ0ZXIgZXhwb25lbnQAU2hvdWxkIGhhdmUgb25seSB1c2VkIGhhc2hlcyB0aGF0IGFyZSBpbiB0aGUgZG9jdW1lbnQAR2FsYWN0dXNfX0RvY3VtZW50AGdhbGFjdHVzLkRvY3VtZW50AG9iamVjdF9lbGVtZW50AGFzc2VydF9pbnZhcmlhbnQAbGltaXQAdW5nZXQAT2N0AFNhdABpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDA5IChIVCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwOSBvciBcdABnYWxhY3R1cwBDbGllbnRzAGludmFsaWQgc3RyaW5nOiAnXHUnIG11c3QgYmUgZm9sbG93ZWQgYnkgNCBoZXggZGlnaXRzAHN1Y2Nlc3MAQ2x1c3RlcnMAaXRlbXMAZGlmZnMAdmFsdWVzAHByb3BlcnRpZXMATG9hZHMAcmVzZW5kaW5nIG91ciBoZWFkcwBkb2NzAFRzACVzAG1fdHlwZSAhPSB2YWx1ZV90OjpiaW5hcnkgfHwgbV92YWx1ZS5iaW5hcnkgIT0gbnVsbHB0cgBtX3R5cGUgIT0gdmFsdWVfdDo6YXJyYXkgfHwgbV92YWx1ZS5hcnJheSAhPSBudWxscHRyAGFuY2hvci5tX29iamVjdCAhPSBudWxscHRyAG1fdHlwZSAhPSB2YWx1ZV90OjpvYmplY3QgfHwgbV92YWx1ZS5vYmplY3QgIT0gbnVsbHB0cgBtX3R5cGUgIT0gdmFsdWVfdDo6c3RyaW5nIHx8IG1fdmFsdWUuc3RyaW5nICE9IG51bGxwdHIAbG9jICE9IG51bGxwdHIAQXByAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX3JlbmV3X2tleV9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2dldF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2RvY19vcF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2VzdGFibGlzaF9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2JhdGNoX2tlZXBhbGl2ZV9yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVxdWVzdF9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19wdXRfZG9jX3JlcXVlc3RfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZGVsZXRlX2RvY19yZXF1ZXN0X19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2V4dF9oZWFkZXJfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fcmVuZXdfa2V5X3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX2dldF9yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19kb2Nfb3BfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fZXN0YWJsaXNoX3Jlc3BvbnNlX19kZXNjcmlwdG9yAG1lc3NhZ2UtPmJhc2UuZGVzY3JpcHRvciA9PSAmZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVzcG9uc2VfX2Rlc2NyaXB0b3IAbWVzc2FnZS0+YmFzZS5kZXNjcmlwdG9yID09ICZnYWxhY3R1c19fcHV0X2RvY19yZXNwb25zZV9fZGVzY3JpcHRvcgBtZXNzYWdlLT5iYXNlLmRlc2NyaXB0b3IgPT0gJmdhbGFjdHVzX19kZWxldGVfZG9jX3Jlc3BvbnNlX19kZXNjcmlwdG9yAHZlY3RvcgBwYXJzZV9lcnJvcgBwYXJzZSBlcnJvcgBjbHVzdGVyAENsdXN0ZXIAR0FMQUNUVVNfX09QX1RZUEVfX0NvdW50ZXIAcHJvdG9idWZfY19tZXNzYWdlX3BhY2tfdG9fYnVmZmVyAHJlcGVhdGVkX2ZpZWxkX3BhY2tfdG9fYnVmZmVyAHJlcXVpcmVkX2ZpZWxkX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19yZW5ld19rZXlfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX2dldF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZG9jX29wX3JlcXVlc3RfX3BhY2tfdG9fYnVmZmVyAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVxdWVzdF9fcGFja190b19idWZmZXIAZ2FsYWN0dXNfX2JhdGNoX2tlZXBhbGl2ZV9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fc2hha2VfaGFuZF9yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fcHV0X2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZGVsZXRlX2RvY19yZXF1ZXN0X19wYWNrX3RvX2J1ZmZlcgBnYWxhY3R1c19fZXh0X2hlYWRlcl9fcGFja190b19idWZmZXIAY29sdW1ucyBvdXQgb2Ygb3JkZXIAaGVhZGVyAExlYWRlcgBHYWxhY3R1c19fRXh0SGVhZGVyAGdhbGFjdHVzLkV4dEhlYWRlcgBHYWxhY3R1c19fUmVzcG9uc2VIZWFkZXIAZ2FsYWN0dXMuUmVzcG9uc2VIZWFkZXIAT2N0b2JlcgBzY2FuX251bWJlcgBoaWdoLXByZWNpc2lvbiBudW1iZXIATm92ZW1iZXIAU2VwdGVtYmVyAHBhcnNlX21lbWJlcgBwYXJzZV9wYWNrZWRfcmVwZWF0ZWRfbWVtYmVyAERlY2VtYmVyAExvY2FsQWRkcgBSZW1vdGVBZGRyAGNoYXIAaW9zX2Jhc2U6OmNsZWFyAE1hcgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDBEIChDUikgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwRCBvciBccgBEaWZmU2VxAC4vbWVkaWFfc2VydmVyX2xpYnJhcnkvZG9jdW1lbnQvanNvbi5ocHAAbGFzdF90aW1lc3RhbXAAU2VwAE9wACVJOiVNOiVTICVwAEdhbGFjdHVzX19QZWVySW5mbwBnYWxhY3R1cy5QZWVySW5mbwBTdW4ASnVuAHN0ZDo6ZXhjZXB0aW9uAEJpRGlyZWN0aW9uAFRyeSB0byBlc3RhYmxpc2ggY29ubmVjdGlvbgBWZXJzaW9uAE1vbgBzZXRfYmVnaW4AaW52YWxpZCBudW1iZXI7IGV4cGVjdGVkIGRpZ2l0IGFmdGVyIGV4cG9uZW50IHNpZ24AaW52YWxpZCBCT007IG11c3QgYmUgMHhFRiAweEJCIDB4QkYgaWYgZ2l2ZW4AdG1wID09IHBheWxvYWRfbGVuAG5hbgBKYW4AaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwQSAoTEYpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMEEgb3IgXG4AUXVvcnVtAEdhbGFjdHVzX19LZWVwYWxpdmVJdGVtAGdhbGFjdHVzLktlZXBhbGl2ZUl0ZW0ASnVsAHR0bABUdGwAaXRlcl9pbXBsAEdhbGFjdHVzX19QZWVyUHJvdG9jb2wAZ2FsYWN0dXMuUGVlclByb3RvY29sAG51bGwAY29sbABDb2xsAEFwcmlsAEdBTEFDVFVTX19PUF9UWVBFX19EZWwAc2Nhbl9saXRlcmFsAGludmFsaWQgbGl0ZXJhbABwYXJzZV9jYm9yX2ludGVybmFsAHByb3RvYnVmX2NfbWVzc2FnZV91bnBhY2sATWVzc2FnZVBhY2sARnJpAGdldF9wYWNrZWRfcGF5bG9hZF9sZW5ndGgAaW52YWxpZCBzdHJpbmc6IGZvcmJpZGRlbiBjaGFyYWN0ZXIgYWZ0ZXIgYmFja3NsYXNoAG9wIGZpZWxkIGNvdW50IGRvZXMgbm90IG1hdGNoAG1hZ2ljIG51bWJlciBkb2VzIG5vdCBtYXRjaABjaGVja3N1bSBkb2VzIG5vdCBtYXRjaABNYXJjaABBdWcAY3N0cmluZwBzY2FuX3N0cmluZwBiYXNpY19zdHJpbmcARmxhZwBpbmYAR2FsYWN0dXNfX0ludGVyZXN0RGlmZgBnYWxhY3R1cy5JbnRlcmVzdERpZmYAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwQyAoRkYpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMEMgb3IgXGYAJS4wTGYAJUxmAHByb3RvYnVmX2NfbWVzc2FnZV9nZXRfcGFja2VkX3NpemUAcmVxdWlyZWRfZmllbGRfZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19yZW5ld19rZXlfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19nZXRfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19kb2Nfb3BfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19iYXRjaF9rZWVwYWxpdmVfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19zaGFrZV9oYW5kX3JlcXVlc3RfX2dldF9wYWNrZWRfc2l6ZQBnYWxhY3R1c19fcHV0X2RvY19yZXF1ZXN0X19nZXRfcGFja2VkX3NpemUAZ2FsYWN0dXNfX2RlbGV0ZV9kb2NfcmVxdWVzdF9fZ2V0X3BhY2tlZF9zaXplAGdhbGFjdHVzX19leHRfaGVhZGVyX19nZXRfcGFja2VkX3NpemUAR0FMQUNUVVNfX09QX1RZUEVfX1JlbW92ZQB0cnVlAGhhbmRsZV92YWx1ZQBUdWUAaW52YWxpZCBzdHJpbmc6IGlsbC1mb3JtZWQgVVRGLTggYnl0ZQBpbnZhbGlkIHN0cmluZzogbWlzc2luZyBjbG9zaW5nIHF1b3RlAGNyZWF0ZQBzYXhfcGFyc2UAR2FsYWN0dXNfX1JlbmV3S2V5UmVzcG9uc2UAZ2FsYWN0dXMuUmVuZXdLZXlSZXNwb25zZQBHYWxhY3R1c19fR2V0UmVzcG9uc2UAZ2FsYWN0dXMuR2V0UmVzcG9uc2UAR2FsYWN0dXNfX0RvY09wUmVzcG9uc2UAZ2FsYWN0dXMuRG9jT3BSZXNwb25zZQBHYWxhY3R1c19fRXN0YWJsaXNoUmVzcG9uc2UAZ2FsYWN0dXMuRXN0YWJsaXNoUmVzcG9uc2UAR2FsYWN0dXNfX1NoYWtlSGFuZFJlc3BvbnNlAGdhbGFjdHVzLlNoYWtlSGFuZFJlc3BvbnNlAEdhbGFjdHVzX19QdXREb2NSZXNwb25zZQBnYWxhY3R1cy5QdXREb2NSZXNwb25zZQBHYWxhY3R1c19fRGVsZXRlRG9jUmVzcG9uc2UAZ2FsYWN0dXMuRGVsZXRlRG9jUmVzcG9uc2UAZmFsc2UAbW9yZQBTY29yZQBHQUxBQ1RVU19fT1BfVFlQRV9fRXhwaXJlAHR5cGUAR2FsYWN0dXNfX1Byb3BlcnR5X19Qcm9wZXJ0eVR5cGUAZ2FsYWN0dXMuUHJvcGVydHkuUHJvcGVydHlUeXBlAEdhbGFjdHVzX19PcFR5cGUAZ2FsYWN0dXMuT3BUeXBlAEp1bmUAbmFtZQBBdmFpbGFibGUAbmV4dF9ieXRlX2luX3JhbmdlAGV4Y2VwdGlvbl9tZXNzYWdlAEdhbGFjdHVzX19QZWVyTW9kZQBnYWxhY3R1cy5QZWVyTW9kZQBBc3luY01vZGUAQWRhcHRvciBzdWdnZXN0IGRpc2Nvbm5lY3QgZm9yIG5hbWVzcGFjZQBOYW1lc3BhY2UAVXB0aW1lSW5TZWNvbmQAc2V0X2VuZAByYW5nZV9lbmQAcmVtb3ZlZABSZW1vdmVkAGNvbm5lY3Rpb24gdGltZW91dGVkAGlnbm9yZV9leHBpcmVkAGRlY29kZSBvcHMgZmFpbGVkAHBhcnNlIGZvbGRlciBtc2cgZmFpbGVkAGNsb2NrX2dldHRpbWUoQ0xPQ0tfUkVBTFRJTUUpIGZhaWxlZABjbG9ja19nZXR0aW1lKENMT0NLX01PTk9UT05JQykgZmFpbGVkAHByb3RvYnVmX2NfbWVzc2FnZV9mcmVlX3VucGFja2VkAGdhbGFjdHVzX19yZW5ld19rZXlfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX2dldF9yZXNwb25zZV9fZnJlZV91bnBhY2tlZABnYWxhY3R1c19fZG9jX29wX3Jlc3BvbnNlX19mcmVlX3VucGFja2VkAGdhbGFjdHVzX19lc3RhYmxpc2hfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3NoYWtlX2hhbmRfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX3B1dF9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAZ2FsYWN0dXNfX2RlbGV0ZV9kb2NfcmVzcG9uc2VfX2ZyZWVfdW5wYWNrZWQAV2VkAHBhY2tfYnVmZmVyX3BhY2tlZF9wYXlsb2FkAEdhbGFjdHVzX19RdW9ydW1Mb2FkAGdhbGFjdHVzLlF1b3J1bUxvYWQAVG90YWxMb2FkAExlYXNlSWQARGVjAG1lZGlhX3NlcnZlcl9saWJyYXJ5L3RoaXJkX3BhcnR5L2V0Y2QtYy9wcm90b2J1Zi1jLmMAbWVkaWFfc2VydmVyX2xpYnJhcnkvdGhpcmRfcGFydHkvZXRjZC1jL3Byb3h5LnBiLWMuYwBtZWRpYV9zZXJ2ZXJfbGlicmFyeS90aGlyZF9wYXJ0eS9ldGNkLWMvc3luYy5wYi1jLmMARmViAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDggKEJTKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDA4IG9yIFxiAGRlbHRhAHN0ZDo6Y2hhcl90cmFpdHM8Y2hhcl90eXBlPjo6dG9fY2hhcl90eXBlKGN1cnJlbnQpID09IGxpdGVyYWxfdGV4dFswXQBbAEFaAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9QUk9YWQAlYSAlYiAlZCAlSDolTTolUyAlWQAlLjJoaFgAUE9TSVgAR0FMQUNUVVNfX1BST1BFUlRZX19QUk9QRVJUWV9UWVBFX19MSVNUAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9DTFVTVEVSX0NMSUVOVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfQ0xJRU5UAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9TSURFQ0FSX0RJUkVDVABHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfRU1TACVIOiVNOiVTAEdBTEFDVFVTX19QRUVSX01PREVfX1BFRVJfTU9ERV9NSUdSQVRPUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfQ09PUkRJTkFUT1IAQ0JPUgBHQUxBQ1RVU19fUEVFUl9NT0RFX19QRUVSX01PREVfU1lOQ19DRU5URVIAR0FMQUNUVVNfX1BFRVJfTU9ERV9fUEVFUl9NT0RFX1NJREVDQVIAR0FMQUNUVVNfX1BFRVJfUFJPVE9DT0xfX1BST1RPQ09MX1RDUABHQUxBQ1RVU19fUFJPUEVSVFlfX1BST1BFUlRZX1RZUEVfX01BUABVQkpTT04AQlNPTgBOQU4AUE0AQU0AcnYtPmRlc2NyaXB0b3IgIT0gTlVMTABMQ19BTEwAR0FMQUNUVVNfX1BST1BFUlRZX19QUk9QRVJUWV9UWVBFX19TVFJJTkcATEFORwBJTkYAMHgwMDAwIDw9IGNvZGVwb2ludCAmJiBjb2RlcG9pbnQgPD0gMHhGRkZGADB4MDAgPD0gY29kZXBvaW50ICYmIGNvZGVwb2ludCA8PSAweDEwRkZGRgBpbnZhbGlkIHN0cmluZzogc3Vycm9nYXRlIFUrRDgwMC4uVStEQkZGIG11c3QgYmUgZm9sbG93ZWQgYnkgVStEQzAwLi5VK0RGRkYAaW52YWxpZCBzdHJpbmc6IHN1cnJvZ2F0ZSBVK0RDMDAuLlUrREZGRiBtdXN0IGZvbGxvdyBVK0Q4MDAuLlUrREJGRgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFGIChVUykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxRgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDBGIChTSSkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwRgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFFIChSUykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxRQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDBFIChTTykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwRQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFEIChHUykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxRABHQUxBQ1RVU19fUEVFUl9QUk9UT0NPTF9fUFJPVE9DT0xfR1JQQwAoKG1lc3NhZ2UpLT5kZXNjcmlwdG9yKS0+bWFnaWMgPT0gUFJPVE9CVUZfQ19fTUVTU0FHRV9ERVNDUklQVE9SX01BR0lDAChkZXNjKS0+bWFnaWMgPT0gUFJPVE9CVUZfQ19fTUVTU0FHRV9ERVNDUklQVE9SX01BR0lDAElEQwBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFDIChGUykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxQwBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDFCIChFU0MpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMUIAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwQiAoVlQpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMEIAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxQSAoU1VCKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDFBADxlbmQgb2YgZmlsZT4APFUrJS40WD4Ab3BlcmF0b3I9PQAsIGVycjoAcmVjdiB1cmk6ACwgc2VxaWQ6ADAxMjM0NTY3ODkAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxOSAoRU0pIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTkAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxOCAoQ0FOKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDE4AEMuVVRGLTgAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxNyAoRVRCKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDE3AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDcgKEJFTCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwNwBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDE2IChTWU4pIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTYAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwNiAoQUNLKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDA2AHJhbmdlcy5zaXplKCkgPT0gMiB8fCByYW5nZXMuc2l6ZSgpID09IDQgfHwgcmFuZ2VzLnNpemUoKSA9PSA2AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMTUgKE5BSykgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxNQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDA1IChFTlEpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDUAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxNCAoREM0KSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDE0AGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDQgKEVPVCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwNABpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDEzIChEQzMpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTMAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwMyAoRVRYKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDAzAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMTIgKERDMikgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAxMgBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDAyIChTVFgpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMDIAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAxMSAoREMxKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDExAGludmFsaWQgc3RyaW5nOiBjb250cm9sIGNoYXJhY3RlciBVKzAwMDEgKFNPSCkgbXVzdCBiZSBlc2NhcGVkIHRvIFx1MDAwMQBpbnZhbGlkIHN0cmluZzogY29udHJvbCBjaGFyYWN0ZXIgVSswMDEwIChETEUpIG11c3QgYmUgZXNjYXBlZCB0byBcdTAwMTAAaW52YWxpZCBzdHJpbmc6IGNvbnRyb2wgY2hhcmFjdGVyIFUrMDAwMCAoTlVMKSBtdXN0IGJlIGVzY2FwZWQgdG8gXHUwMDAwAC8AIGFscmVhZHkgdGltZW91dC4ARW1wdHkgbmFtZXNwYWNlIGlzIGRhbmdlcm91cy4AW2pzb24uZXhjZXB0aW9uLgAsIGlnbm9yZS4ALABvcGVyYXRvcisrAG9wZXJhdG9yKgAobnVsbCkAIXRva2VuX3N0cmluZy5lbXB0eSgpAHJlZl9zdGFjay5iYWNrKCktPmlzX2FycmF5KCkgfHwgcmVmX3N0YWNrLmJhY2soKS0+aXNfb2JqZWN0KCkAZW5kcHRyID09IHRva2VuX2J1ZmZlci5kYXRhKCkgKyB0b2tlbl9idWZmZXIuc2l6ZSgpAG1faXQuYXJyYXlfaXRlcmF0b3IgIT0gbV9vYmplY3QtPm1fdmFsdWUuYXJyYXktPmVuZCgpAG1faXQub2JqZWN0X2l0ZXJhdG9yICE9IG1fb2JqZWN0LT5tX3ZhbHVlLm9iamVjdC0+ZW5kKCkAY3VycmVudCA9PSAndScAaW52YWxpZCBjb21tZW50OyBtaXNzaW5nIGNsb3NpbmcgJyovJwBpbnZhbGlkIGNvbW1lbnQ7IGV4cGVjdGluZyAnLycgb3IgJyonIGFmdGVyICcvJwBpbnZhbGlkIG51bWJlcjsgZXhwZWN0ZWQgZGlnaXQgYWZ0ZXIgJy4nAGludmFsaWQgbnVtYmVyOyBleHBlY3RlZCBkaWdpdCBhZnRlciAnLScAY3VycmVudCA9PSAnXCInACAgICAiAGNvbGwgbXNnIHR5cGUgZG9lcyBub3QgbWF0Y2ghAHN5bmMgbXNnIHR5cGUgZG9lcyBub3QgbWF0Y2ghAFB1cmUgdmlydHVhbCBmdW5jdGlvbiBjYWxsZWQhAGJ5dGUgYXJyYXkgbGVuZ3RoIGNhbm5vdCBiZSBuZWdhdGl2ZSwgaXMgAHN0cmluZyBsZW5ndGggbXVzdCBiZSBhdCBsZWFzdCAxLCBpcyAAU2V0IG5hbWVzcGFjZSBhcyAAIHdpdGggZXJybm8gAEZhaWxlZCB0byBlc3RhYmxpc2ggY29ubiAAUmVjZWl2ZSB3cm9uZyB0ZXJtIABVbmtub3duIHVyaSAAIG9uIHVyaSAAc3ludGF4IGVycm9yIHdoaWxlIHBhcnNpbmcgACBhdCBieXRlIABjb21tYW5kIABSZWNlaXZlIHVua293biBzZXFpZCAAXSAAaW52YWxpZCBudW1iZXIgdGV4dDogAGluaXRpYWwg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aW5nYnVmSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAACYkQAADGUAALxkAAA4AAAAAAAAAARmAACIAQAAiQEAAMj////I////BGYAAIoBAACLAQAAaGUAAKBlAAC0ZQAAfGUAADgAAAAAAAAA9GQAAH0BAAB+AQAAyP///8j////0ZAAAfwEAAIABAABOU3QzX18yMTliYXNpY19vc3RyaW5nc3RyZWFtSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAACYkQAAvGUAAPRkAAAAAAAANGYAAIwBAACNAQAATlN0M19fMjhpb3NfYmFzZUUAAABwkQAAIGYAAAAAAAD/////////////////////////////////////////////////////////////////AAECAwQFBgcICf////////8KCwwNDg8QERITFBUWFxgZGhscHR4fICEiI////////woLDA0ODxAREhMUFRYXGBkaGxwdHh8gISIj/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wABAgQHAwYFAAAAAAAAAAIAAMADAADABAAAwAUAAMAGAADABwAAwAgAAMAJAADACgAAwAsAAMAMAADADQAAwA4AAMAPAADAEAAAwBEAAMASAADAEwAAwBQAAMAVAADAFgAAwBcAAMAYAADAGQAAwBoAAMAbAADAHAAAwB0AAMAeAADAHwAAwAAAALMBAADDAgAAwwMAAMMEAADDBQAAwwYAAMMHAADDCAAAwwkAAMMKAADDCwAAwwwAAMMNAADTDgAAww8AAMMAAAy7AQAMwwIADMMDAAzDBAAM2wAAAADeEgSVAAAAAP///////////////yBoAAAUAAAAQy5VVEYtOABB8NABCwI0aABBkNEBC0pMQ19DVFlQRQAAAABMQ19OVU1FUklDAABMQ19USU1FAAAAAABMQ19DT0xMQVRFAABMQ19NT05FVEFSWQBMQ19NRVNTQUdFUwDgagBB5NUB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dEl3TGIwRUVFAPSRAAAEiAAAAAAAAAIAAADUewAAAgAAADCHAAACAAAAAAAAAJSIAADFAQAAdAIAAKMBAAB1AgAAdgIAAHcCAAB4AgAAeQIAAHoCAAB7AgAAfAIAAH0CAABOU3QzX18yMTBtb25leXB1bmN0SXdMYjFFRUUA9JEAAHiIAAAAAAAAAgAAANR7AAACAAAAMIcAAAIAAAAAAAAAOIkAAMUBAAB+AgAAowEAAH8CAACAAgAATlN0M19fMjltb25leV9nZXRJY05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SWNFRQAAcJEAABaJAAD0kQAA0IgAAAAAAAACAAAA1HsAAAIAAAAwiQBB3JICC5oB3IkAAMUBAACBAgAAowEAAIICAACDAgAATlN0M19fMjltb25leV9nZXRJd05TXzE5aXN0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfZ2V0SXdFRQAAcJEAALqJAAD0kQAAdIkAAAAAAAACAAAA1HsAAAIAAADUiQBBgJQCC5oBgIoAAMUBAACEAgAAowEAAIUCAACGAgAATlN0M19fMjltb25leV9wdXRJY05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckljTlNfMTFjaGFyX3RyYWl0c0ljRUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SWNFRQAAcJEAAF6KAAD0kQAAGIoAAAAAAAACAAAA1HsAAAIAAAB4igBBpJUCC5oBJIsAAMUBAACHAgAAowEAAIgCAACJAgAATlN0M19fMjltb25leV9wdXRJd05TXzE5b3N0cmVhbWJ1Zl9pdGVyYXRvckl3TlNfMTFjaGFyX3RyYWl0c0l3RUVFRUVFAE5TdDNfXzIxMV9fbW9uZXlfcHV0SXdFRQAAcJEAAAKLAAD0kQAAvIoAAAAAAAACAAAA1HsAAAIAAAAciwBByJYCC7kInIsAAMUBAACKAgAAowEAAIsCAACMAgAAjQIAAE5TdDNfXzI4bWVzc2FnZXNJY0VFAE5TdDNfXzIxM21lc3NhZ2VzX2Jhc2VFAAAAAHCRAAB5iwAA9JEAAGSL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";Uc.startsWith("data:application/octet-stream;base64,")||(Uc=locateFile(Uc));var _E,Bh=function(da){for(;0<da.length;)da.shift()(Q)},_I=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,zf=function(da,Wa){if(da){var _l=_r,vd=da+Wa;for(Wa=da;_l[Wa]&&!(Wa>=vd);)++Wa;if(16<Wa-da&&_l.buffer&&_I)_l=_I.decode(_l.subarray(da,Wa));else{for(vd="";da<Wa;){var CQ=_l[da++];if(128&CQ){var tQ=63&_l[da++];if((224&CQ)==192)vd+=String.fromCharCode((31&CQ)<<6|tQ);else{var BQ=63&_l[da++];65536>(CQ=(240&CQ)==224?(15&CQ)<<12|tQ<<6|BQ:(7&CQ)<<18|tQ<<12|BQ<<6|63&_l[da++])?vd+=String.fromCharCode(CQ):(CQ-=65536,vd+=String.fromCharCode(55296|CQ>>10,56320|1023&CQ))}}else vd+=String.fromCharCode(CQ)}_l=vd}}else _l="";return _l},oQ={},gQ=function da(){if(!da.strings){var Wa,_l={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:((typeof navigator>"u"?"undefined":Ia(navigator))=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:_||"./this.program"};for(Wa in oQ)oQ[Wa]===void 0?delete _l[Wa]:_l[Wa]=oQ[Wa];var vd=[];for(Wa in _l)vd.push("".concat(Wa,"=").concat(_l[Wa]));da.strings=vd}return da.strings},yQ=function(da){return da%4==0&&(da%100!=0||da%400==0)},NQ=[31,29,31,30,31,30,31,31,30,31,30,31],uQ=[31,28,31,30,31,30,31,31,30,31,30,31],_B=function(da){for(var Wa=0,_l=0;_l<da.length;++_l){var vd=da.charCodeAt(_l);127>=vd?Wa++:2047>=vd?Wa+=2:55296<=vd&&57343>=vd?(Wa+=4,++_l):Wa+=3}return Wa},IQ=function(da,Wa,_l,vd){if(!(0<vd))return 0;var CQ=_l;vd=_l+vd-1;for(var tQ=0;tQ<da.length;++tQ){var BQ=da.charCodeAt(tQ);if(55296<=BQ&&57343>=BQ&&(BQ=65536+((1023&BQ)<<10)|1023&da.charCodeAt(++tQ)),127>=BQ){if(_l>=vd)break;Wa[_l++]=BQ}else{if(2047>=BQ){if(_l+1>=vd)break;Wa[_l++]=192|BQ>>6}else{if(65535>=BQ){if(_l+2>=vd)break;Wa[_l++]=224|BQ>>12}else{if(_l+3>=vd)break;Wa[_l++]=240|BQ>>18,Wa[_l++]=128|BQ>>12&63}Wa[_l++]=128|BQ>>6&63}Wa[_l++]=128|63&BQ}}return Wa[_l]=0,_l-CQ},SQ=function(da,Wa,_l,vd){function CQ(_p,TQ,YQ){for(_p=typeof _p=="number"?_p.toString():_p||"";_p.length<TQ;)_p=YQ[0]+_p;return _p}function tQ(_p,TQ){return CQ(_p,TQ,"0")}function BQ(_p,TQ){function YQ(F0){return 0>F0?-1:0<F0?1:0}var hQ;return(hQ=YQ(_p.getFullYear()-TQ.getFullYear()))===0&&(hQ=YQ(_p.getMonth()-TQ.getMonth()))===0&&(hQ=YQ(_p.getDate()-TQ.getDate())),hQ}function _m(_p){switch(_p.getDay()){case 0:return new Date(_p.getFullYear()-1,11,29);case 1:return _p;case 2:return new Date(_p.getFullYear(),0,3);case 3:return new Date(_p.getFullYear(),0,2);case 4:return new Date(_p.getFullYear(),0,1);case 5:return new Date(_p.getFullYear()-1,11,31);case 6:return new Date(_p.getFullYear()-1,11,30)}}function DQ(_p){e:{var TQ=_p.tm_yday;for(_p=new Date(new Date(_p.tm_year+1900,0,1).getTime());0<TQ;){var YQ=yQ(_p.getFullYear()),hQ=_p.getMonth();if(!(TQ>(YQ=(YQ?NQ:uQ)[hQ])-_p.getDate())){_p.setDate(_p.getDate()+TQ),TQ=_p;break e}TQ-=YQ-_p.getDate()+1,_p.setDate(1),11>hQ?_p.setMonth(hQ+1):(_p.setMonth(0),_p.setFullYear(_p.getFullYear()+1))}TQ=_p}return hQ=new Date(TQ.getFullYear(),0,4),_p=new Date(TQ.getFullYear()+1,0,4),hQ=_m(hQ),_p=_m(_p),0>=BQ(hQ,TQ)?0>=BQ(_p,TQ)?TQ.getFullYear()+1:TQ.getFullYear():TQ.getFullYear()-1}var UQ=na[vd+40>>2];for(var XQ in vd={tm_sec:_A[vd>>2],tm_min:_A[vd+4>>2],tm_hour:_A[vd+8>>2],tm_mday:_A[vd+12>>2],tm_mon:_A[vd+16>>2],tm_year:_A[vd+20>>2],tm_wday:_A[vd+24>>2],tm_yday:_A[vd+28>>2],tm_isdst:_A[vd+32>>2],tm_gmtoff:_A[vd+36>>2],tm_zone:UQ?zf(UQ):""},_l=zf(_l),UQ={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})_l=_l.replace(new RegExp(XQ,"g"),UQ[XQ]);var b0="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),D0="January February March April May June July August September October November December".split(" ");for(XQ in UQ={"%a":function(_p){return b0[_p.tm_wday].substring(0,3)},"%A":function(_p){return b0[_p.tm_wday]},"%b":function(_p){return D0[_p.tm_mon].substring(0,3)},"%B":function(_p){return D0[_p.tm_mon]},"%C":function(_p){return tQ((_p.tm_year+1900)/100|0,2)},"%d":function(_p){return tQ(_p.tm_mday,2)},"%e":function(_p){return CQ(_p.tm_mday,2," ")},"%g":function(_p){return DQ(_p).toString().substring(2)},"%G":function(_p){return DQ(_p)},"%H":function(_p){return tQ(_p.tm_hour,2)},"%I":function(_p){return(_p=_p.tm_hour)==0?_p=12:12<_p&&(_p-=12),tQ(_p,2)},"%j":function(_p){for(var TQ=_p.tm_mday,YQ=yQ(_p.tm_year+1900)?NQ:uQ,hQ=0,F0=0;F0<=_p.tm_mon-1;hQ+=YQ[F0++]);return tQ(TQ+hQ,3)},"%m":function(_p){return tQ(_p.tm_mon+1,2)},"%M":function(_p){return tQ(_p.tm_min,2)},"%n":function(){return`
`},"%p":function(_p){return 0<=_p.tm_hour&&12>_p.tm_hour?"AM":"PM"},"%S":function(_p){return tQ(_p.tm_sec,2)},"%t":function(){return"	"},"%u":function(_p){return _p.tm_wday||7},"%U":function(_p){return tQ(Math.floor((_p.tm_yday+7-_p.tm_wday)/7),2)},"%V":function(_p){var TQ=Math.floor((_p.tm_yday+7-(_p.tm_wday+6)%7)/7);if(2>=(_p.tm_wday+371-_p.tm_yday-2)%7&&TQ++,TQ)TQ==53&&((YQ=(_p.tm_wday+371-_p.tm_yday)%7)==4||YQ==3&&yQ(_p.tm_year)||(TQ=1));else{TQ=52;var YQ=(_p.tm_wday+7-_p.tm_yday-1)%7;(YQ==4||YQ==5&&yQ(_p.tm_year%400-1))&&TQ++}return tQ(TQ,2)},"%w":function(_p){return _p.tm_wday},"%W":function(_p){return tQ(Math.floor((_p.tm_yday+7-(_p.tm_wday+6)%7)/7),2)},"%y":function(_p){return(_p.tm_year+1900).toString().substring(2)},"%Y":function(_p){return _p.tm_year+1900},"%z":function(_p){var TQ=0<=(_p=_p.tm_gmtoff);return _p=Math.abs(_p)/60,(TQ?"+":"-")+("0000"+(_p/60*100+_p%60)).slice(-4)},"%Z":function(_p){return _p.tm_zone},"%%":function(){return"%"}},_l=_l.replace(/%%/g,"\0\0"),UQ)_l.includes(XQ)&&(_l=_l.replace(new RegExp(XQ,"g"),UQ[XQ](vd)));return(XQ=g(_l=_l.replace(/\0\0/g,"%"))).length>Wa?0:(ae.set(XQ,da),XQ.length-1)},dQ=void 0,pQ=[],aQ={a:function(da,Wa,_l,vd){e("Assertion failed: ".concat(zf(da),", at: ")+[Wa?zf(Wa):"unknown filename",_l,vd?zf(vd):"unknown function"])},e:function(){return!0},b:function(){e("")},f:function(){return Date.now()},h:function(){return performance.now()},g:function(da){var Wa=_r.length;if(2147483648<(da>>>=0))return!1;for(var _l=1;4>=_l;_l*=2){var vd=Wa*(1+.2/_l);vd=Math.min(vd,da+100663296);var CQ=Math;vd=Math.max(da,vd);e:{CQ=(CQ.min.call(CQ,2147483648,vd+(65536-vd%65536)%65536)-W.buffer.byteLength+65535)/65536;try{W.grow(CQ),t();var tQ=1;break e}catch{}tQ=void 0}if(tQ)return!0}return!1},c:function(da,Wa){var _l=0;return gQ().forEach(function(vd,CQ){var tQ=Wa+_l;for(CQ=na[da+4*CQ>>2]=tQ,tQ=0;tQ<vd.length;++tQ)ae[CQ++>>0]=vd.charCodeAt(tQ);ae[CQ>>0]=0,_l+=vd.length+1}),0},d:function(da,Wa){var _l=gQ();na[da>>2]=_l.length;var vd=0;return _l.forEach(function(CQ){return vd+=CQ.length+1}),na[Wa>>2]=vd,0},k:function(da,Wa){F||(Q.onExit&&Q.onExit(da),ga=!0),S(da,new s(da))},i:function(da,Wa){Q.rtejsLog(da,zf(Wa))},j:function(da,Wa,_l,vd,CQ){return SQ(da,Wa,_l,vd)}},Ah=function(){function da(_l,vd){return Ah=_l=_l.exports,W=Ah.l,t(),Da=Ah.n,Ra.unshift(Ah.m),Ka--,Q.monitorRunDependencies&&Q.monitorRunDependencies(Ka),Ka==0&&_u&&(vd=_u,_u=null,vd()),_l}var Wa={a:aQ};if(Ka++,Q.monitorRunDependencies&&Q.monitorRunDependencies(Ka),Q.instantiateWasm)try{return Q.instantiateWasm(Wa,da)}catch(_l){U("Module.instantiateWasm callback failed with error: ".concat(_l)),p(_l)}return i(Uc,Wa,function(_l){da(_l.instance)}).catch(p),{}}();if(Q._free=function(da){return(Q._free=Ah.o)(da)},Q._malloc=function(da){return(Q._malloc=Ah.p)(da)},Q._rte_crdt_value_create=function(){return(Q._rte_crdt_value_create=Ah.q)()},Q._rte_crdt_value_clone=function(da){return(Q._rte_crdt_value_clone=Ah.r)(da)},Q._rte_crdt_value_destroy=function(da){return(Q._rte_crdt_value_destroy=Ah.s)(da)},Q._rte_crdt_value_is_scalar=function(da){return(Q._rte_crdt_value_is_scalar=Ah.t)(da)},Q._rte_crdt_value_is_map=function(da){return(Q._rte_crdt_value_is_map=Ah.u)(da)},Q._rte_crdt_value_is_list=function(da){return(Q._rte_crdt_value_is_list=Ah.v)(da)},Q._rte_crdt_value_get_scalar=function(da){return(Q._rte_crdt_value_get_scalar=Ah.w)(da)},Q._rte_crdt_value_set_scalar=function(da){return(Q._rte_crdt_value_set_scalar=Ah.x)(da)},Q._rte_crdt_value_set_map=function(da){return(Q._rte_crdt_value_set_map=Ah.y)(da)},Q._rte_crdt_value_set_list=function(da){return(Q._rte_crdt_value_set_list=Ah.z)(da)},Q._rte_crdt_scalar_value_set_i64=function(da,Wa){return(Q._rte_crdt_scalar_value_set_i64=Ah.A)(da,Wa)},Q._rte_crdt_scalar_value_set_u64=function(da,Wa){return(Q._rte_crdt_scalar_value_set_u64=Ah.B)(da,Wa)},Q._rte_crdt_scalar_value_set_double=function(da,Wa){return(Q._rte_crdt_scalar_value_set_double=Ah.C)(da,Wa)},Q._rte_crdt_scalar_value_set_bool=function(da,Wa){return(Q._rte_crdt_scalar_value_set_bool=Ah.D)(da,Wa)},Q._rte_crdt_scalar_value_set_bytes=function(da,Wa,_l){return(Q._rte_crdt_scalar_value_set_bytes=Ah.E)(da,Wa,_l)},Q._rte_crdt_scalar_value_set_null=function(da){return(Q._rte_crdt_scalar_value_set_null=Ah.F)(da)},Q._rte_crdt_scalar_value_set_counter=function(da,Wa){return(Q._rte_crdt_scalar_value_set_counter=Ah.G)(da,Wa)},Q._rte_crdt_scalar_value_is_i64=function(da){return(Q._rte_crdt_scalar_value_is_i64=Ah.H)(da)},Q._rte_crdt_scalar_value_is_u64=function(da){return(Q._rte_crdt_scalar_value_is_u64=Ah.I)(da)},Q._rte_crdt_scalar_value_is_double=function(da){return(Q._rte_crdt_scalar_value_is_double=Ah.J)(da)},Q._rte_crdt_scalar_value_is_bool=function(da){return(Q._rte_crdt_scalar_value_is_bool=Ah.K)(da)},Q._rte_crdt_scalar_value_is_bytes=function(da){return(Q._rte_crdt_scalar_value_is_bytes=Ah.L)(da)},Q._rte_crdt_scalar_value_is_null=function(da){return(Q._rte_crdt_scalar_value_is_null=Ah.M)(da)},Q._rte_crdt_scalar_value_is_counter=function(da){return(Q._rte_crdt_scalar_value_is_counter=Ah.N)(da)},Q._rte_crdt_scalar_value_get_i64=function(da,Wa){return(Q._rte_crdt_scalar_value_get_i64=Ah.O)(da,Wa)},Q._rte_crdt_scalar_value_get_u64=function(da,Wa){return(Q._rte_crdt_scalar_value_get_u64=Ah.P)(da,Wa)},Q._rte_crdt_scalar_value_get_double=function(da,Wa){return(Q._rte_crdt_scalar_value_get_double=Ah.Q)(da,Wa)},Q._rte_crdt_scalar_value_get_bool=function(da,Wa){return(Q._rte_crdt_scalar_value_get_bool=Ah.R)(da,Wa)},Q._rte_crdt_scalar_value_get_bytes=function(da,Wa,_l){return(Q._rte_crdt_scalar_value_get_bytes=Ah.S)(da,Wa,_l)},Q._rte_crdt_scalar_value_get_counter=function(da,Wa){return(Q._rte_crdt_scalar_value_get_counter=Ah.T)(da,Wa)},Q._rte_crdt_nested_value_create=function(){return(Q._rte_crdt_nested_value_create=Ah.U)()},Q._rte_crdt_nested_value_destroy=function(da){return(Q._rte_crdt_nested_value_destroy=Ah.V)(da)},Q._rte_crdt_nested_value_print=function(da){return(Q._rte_crdt_nested_value_print=Ah.W)(da)},Q._rte_crdt_nested_value_is_scalar=function(da){return(Q._rte_crdt_nested_value_is_scalar=Ah.X)(da)},Q._rte_crdt_nested_value_is_map=function(da){return(Q._rte_crdt_nested_value_is_map=Ah.Y)(da)},Q._rte_crdt_nested_value_is_list=function(da){return(Q._rte_crdt_nested_value_is_list=Ah.Z)(da)},Q._rte_crdt_nested_value_get_scalar=function(da){return(Q._rte_crdt_nested_value_get_scalar=Ah._)(da)},Q._rte_crdt_nested_value_iterator_create=function(da){return(Q._rte_crdt_nested_value_iterator_create=Ah.$)(da)},Q._rte_crdt_nested_value_iterator_destroy=function(da){return(Q._rte_crdt_nested_value_iterator_destroy=Ah.aa)(da)},Q._rte_crdt_nested_value_iterator_next_key_value=function(da,Wa,_l,vd){return(Q._rte_crdt_nested_value_iterator_next_key_value=Ah.ba)(da,Wa,_l,vd)},Q._rte_crdt_nested_value_iterator_next_value=function(da,Wa){return(Q._rte_crdt_nested_value_iterator_next_value=Ah.ca)(da,Wa)},Q._rte_crdt_path_create=function(){return(Q._rte_crdt_path_create=Ah.da)()},Q._rte_crdt_path_clone=function(da){return(Q._rte_crdt_path_clone=Ah.ea)(da)},Q._rte_crdt_path_destroy=function(da){return(Q._rte_crdt_path_destroy=Ah.fa)(da)},Q._rte_crdt_path_add_property=function(da,Wa,_l){return(Q._rte_crdt_path_add_property=Ah.ga)(da,Wa,_l)},Q._rte_crdt_path_add_index=function(da,Wa){return(Q._rte_crdt_path_add_index=Ah.ha)(da,Wa)},Q._rte_crdt_path_iterator_create=function(da){return(Q._rte_crdt_path_iterator_create=Ah.ia)(da)},Q._rte_crdt_path_iterator_destroy=function(da){return(Q._rte_crdt_path_iterator_destroy=Ah.ja)(da)},Q._rte_crdt_path_iterator_next=function(da,Wa,_l,vd){return(Q._rte_crdt_path_iterator_next=Ah.ka)(da,Wa,_l,vd)},Q._rte_crdt_document_get=function(da,Wa,_l,vd){return(Q._rte_crdt_document_get=Ah.la)(da,Wa,_l,vd)},Q._rte_crdt_document_batch_write_begin=function(da){return(Q._rte_crdt_document_batch_write_begin=Ah.ma)(da)},Q._rte_crdt_document_batch_write_end=function(da){return(Q._rte_crdt_document_batch_write_end=Ah.na)(da)},Q._rte_crdt_document_put=function(da,Wa,_l,vd){return(Q._rte_crdt_document_put=Ah.oa)(da,Wa,_l,vd)},Q._rte_crdt_document_insert=function(da,Wa,_l,vd){return(Q._rte_crdt_document_insert=Ah.pa)(da,Wa,_l,vd)},Q._rte_crdt_document_delete=function(da,Wa,_l){return(Q._rte_crdt_document_delete=Ah.qa)(da,Wa,_l)},Q._rte_crdt_document_increment=function(da,Wa,_l,vd){return(Q._rte_crdt_document_increment=Ah.ra)(da,Wa,_l,vd)},Q._rte_crdt_collection_put_doc=function(da,Wa,_l){return(Q._rte_crdt_collection_put_doc=Ah.sa)(da,Wa,_l)},Q._rte_crdt_collection_delete_doc=function(da,Wa,_l){return(Q._rte_crdt_collection_delete_doc=Ah.ta)(da,Wa,_l)},Q._rte_crdt_collection_ref_doc=function(da,Wa,_l){return(Q._rte_crdt_collection_ref_doc=Ah.ua)(da,Wa,_l)},Q._rte_crdt_collection_iterator_create=function(da,Wa,_l){return(Q._rte_crdt_collection_iterator_create=Ah.va)(da,Wa,_l)},Q._rte_crdt_collection_iterator_destroy=function(da){return(Q._rte_crdt_collection_iterator_destroy=Ah.wa)(da)},Q._rte_crdt_collection_iterator_next=function(da,Wa,_l){return(Q._rte_crdt_collection_iterator_next=Ah.xa)(da,Wa,_l)},Q._rte_crdt_collection_init=function(da,Wa,_l){return(Q._rte_crdt_collection_init=Ah.ya)(da,Wa,_l)},Q._rte_crdt_collection_subscribe=function(da,Wa,_l){return(Q._rte_crdt_collection_subscribe=Ah.za)(da,Wa,_l)},Q._rte_crdt_client_create=function(da,Wa){return(Q._rte_crdt_client_create=Ah.Aa)(da,Wa)},Q._rte_crdt_client_destroy=function(da){return(Q._rte_crdt_client_destroy=Ah.Ba)(da)},Q._rte_crdt_client_set_key=function(da,Wa){return(Q._rte_crdt_client_set_key=Ah.Ca)(da,Wa)},Q._rte_crdt_client_set_routingkey=function(da,Wa){return(Q._rte_crdt_client_set_routingkey=Ah.Da)(da,Wa)},Q._rte_crdt_client_set_ttl=function(da,Wa){return(Q._rte_crdt_client_set_ttl=Ah.Ea)(da,Wa)},Q._rte_crdt_client_set_shakehand_interval=function(da,Wa){return(Q._rte_crdt_client_set_shakehand_interval=Ah.Fa)(da,Wa)},Q._rte_crdt_client_set_keepalive_interval=function(da,Wa){return(Q._rte_crdt_client_set_keepalive_interval=Ah.Ga)(da,Wa)},Q._rte_crdt_client_enable_bidirection=function(da,Wa){return(Q._rte_crdt_client_enable_bidirection=Ah.Ha)(da,Wa)},Q._rte_crdt_bytes_create=function(){return(Q._rte_crdt_bytes_create=Ah.Ia)()},Q._rte_crdt_bytes_destroy=function(da){return(Q._rte_crdt_bytes_destroy=Ah.Ja)(da)},Q._rte_crdt_bytes_data=function(da){return(Q._rte_crdt_bytes_data=Ah.Ka)(da)},Q._rte_crdt_bytes_length=function(da){return(Q._rte_crdt_bytes_length=Ah.La)(da)},Q._rte_crdt_client_tick=function(da,Wa){return(Q._rte_crdt_client_tick=Ah.Ma)(da,Wa)},Q._rte_crdt_client_recv_proxy_msg=function(da,Wa,_l,vd){return(Q._rte_crdt_client_recv_proxy_msg=Ah.Na)(da,Wa,_l,vd)},Q._rte_crdt_client_reset_connection=function(da){return(Q._rte_crdt_client_reset_connection=Ah.Oa)(da)},Q._rte_crdt_client_create_coll=function(da,Wa,_l,vd){return(Q._rte_crdt_client_create_coll=Ah.Pa)(da,Wa,_l,vd)},Q._rte_crdt_client_get_coll=function(da,Wa){return(Q._rte_crdt_client_get_coll=Ah.Qa)(da,Wa)},Q._rte_crdt_client_delete_coll=function(da,Wa){return(Q._rte_crdt_client_delete_coll=Ah.Ra)(da,Wa)},Q._rte_crdt_client_iterator_create=function(da){return(Q._rte_crdt_client_iterator_create=Ah.Sa)(da)},Q._rte_crdt_client_iterator_destroy=function(da){return(Q._rte_crdt_client_iterator_destroy=Ah.Ta)(da)},Q._rte_crdt_client_iterator_next=function(da,Wa){return(Q._rte_crdt_client_iterator_next=Ah.Ua)(da,Wa)},Q._rte_crdt_client_renew_key_remote=function(da,Wa,_l,vd){return(Q._rte_crdt_client_renew_key_remote=Ah.Va)(da,Wa,_l,vd)},Q._rte_crdt_client_put_doc_remote=function(da,Wa,_l,vd,CQ){return(Q._rte_crdt_client_put_doc_remote=Ah.Wa)(da,Wa,_l,vd,CQ)},Q._rte_crdt_client_delete_doc_remote=function(da,Wa,_l,vd,CQ){return(Q._rte_crdt_client_delete_doc_remote=Ah.Xa)(da,Wa,_l,vd,CQ)},Q._rte_crdt_client_put_remote=function(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ){return(Q._rte_crdt_client_put_remote=Ah.Ya)(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ)},Q._rte_crdt_client_delete_remote=function(da,Wa,_l,vd,CQ,tQ){return(Q._rte_crdt_client_delete_remote=Ah.Za)(da,Wa,_l,vd,CQ,tQ)},Q._rte_crdt_client_insert_remote=function(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ,UQ){return(Q._rte_crdt_client_insert_remote=Ah._a)(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ,UQ)},Q._rte_crdt_client_remove_values_remote=function(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ){return(Q._rte_crdt_client_remove_values_remote=Ah.$a)(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ)},Q._rte_crdt_client_get_remote=function(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ){return(Q._rte_crdt_client_get_remote=Ah.ab)(da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ)},Q._rte_crdt_client_start_keepalive=function(da,Wa,_l){return(Q._rte_crdt_client_start_keepalive=Ah.bb)(da,Wa,_l)},Q._rte_crdt_client_stop_keepalive=function(da,Wa,_l){return(Q._rte_crdt_client_stop_keepalive=Ah.cb)(da,Wa,_l)},Q._rte_crdt_client_enable_logging=function(){return(Q._rte_crdt_client_enable_logging=Ah.db)()},Q._rte_crdt_client_set_log_level=function(da){return(Q._rte_crdt_client_set_log_level=Ah.eb)(da)},Q.___start_em_js=37592,Q.___stop_em_js=37686,Q.addFunction=function(da,Wa){if(!dQ){dQ=new WeakMap;var _l=Da.length;if(dQ)for(var vd=0;vd<0+_l;vd++){var CQ=Da.get(vd);CQ&&dQ.set(CQ,vd)}}if(_l=dQ.get(da)||0)return _l;if(pQ.length)_l=pQ.pop();else{try{Da.grow(1)}catch(_m){throw _m instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":_m}_l=Da.length-1}try{Da.set(_l,da)}catch(_m){if(!(_m instanceof TypeError))throw _m;if(typeof WebAssembly.Function=="function"){vd=WebAssembly.Function,CQ={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var tQ={parameters:[],results:Wa[0]=="v"?[]:[CQ[Wa[0]]]},BQ=1;BQ<Wa.length;++BQ)tQ.parameters.push(CQ[Wa[BQ]]);Wa=new vd(tQ,da)}else{for(vd=[1],CQ=Wa.slice(0,1),Wa=Wa.slice(1),tQ={i:127,p:127,j:126,f:125,d:124},vd.push(96),128>(BQ=Wa.length)?vd.push(BQ):vd.push(BQ%128|128,BQ>>7),BQ=0;BQ<Wa.length;++BQ)vd.push(tQ[Wa[BQ]]);CQ=="v"?vd.push(0):vd.push(1,tQ[CQ]),Wa=[0,97,115,109,1,0,0,0,1],128>(CQ=vd.length)?Wa.push(CQ):Wa.push(CQ%128|128,CQ>>7),Wa.push.apply(Wa,vd),Wa.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),Wa=new WebAssembly.Module(new Uint8Array(Wa)),Wa=new WebAssembly.Instance(Wa,{e:{f:da}}).exports.f}Da.set(_l,Wa)}return dQ.set(da,_l),_l},Q.removeFunction=function(da){dQ.delete(Da.get(da)),pQ.push(da)},Q.setValue=function(da,Wa){var _l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"i8";switch(_l.endsWith("*")&&(_l="*"),_l){case"i1":case"i8":ae[da>>0]=Wa;break;case"i16":_t[da>>1]=Wa;break;case"i32":_A[da>>2]=Wa;break;case"i64":ha[da>>3]=BigInt(Wa);break;case"float":oa[da>>2]=Wa;break;case"double":fa[da>>3]=Wa;break;case"*":na[da>>2]=Wa;break;default:e("invalid type for setValue: ".concat(_l))}},Q.getValue=function(da){var Wa=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"i8";switch(Wa.endsWith("*")&&(Wa="*"),Wa){case"i1":case"i8":return ae[da>>0];case"i16":return _t[da>>1];case"i32":return _A[da>>2];case"i64":return ha[da>>3];case"float":return oa[da>>2];case"double":return fa[da>>3];case"*":return na[da>>2];default:e("invalid type for getValue: ".concat(Wa))}},Q.UTF8ToString=zf,Q.stringToUTF8=function(da,Wa,_l){return IQ(da,_r,Wa,_l)},Q.lengthBytesUTF8=_B,_u=function da(){_E||l(),_E||(_u=da)},Q.preInit)for(typeof Q.preInit=="function"&&(Q.preInit=[Q.preInit]);0<Q.preInit.length;)Q.preInit.pop()();return l(),B.ready},yy=new wf(1),X;$M({rtejsLog:function(t){console.log("[UTC_Time: ".concat($o(),"]"),t," ---------- rtejsLog")}}).then(function(t){X=t,yy.next(X),console.log({Module:X},"wasm-module")});var zy,Fp,Gp=0,Hp=0;sh.v1=function(t,e,n){n=e&&n||0;var i=e||[],s=(t=t||{}).node||zy,g=t.clockseq!==void 0?t.clockseq:Fp;if(s==null||g==null){var l=xw();s==null&&(s=zy=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),g==null&&(g=Fp=16383&(l[6]<<8|l[7]))}l=t.msecs!==void 0?t.msecs:new Date().getTime();var C=t.nsecs!==void 0?t.nsecs:Hp+1,p=l-Gp+(C-Hp)/1e4;if(0>p&&t.clockseq===void 0&&(g=g+1&16383),(0>p||l>Gp)&&t.nsecs===void 0&&(C=0),1e4<=C)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Gp=l,Hp=C,Fp=g,t=(1e4*(268435455&(l+=122192928e5))+C)%4294967296,i[n++]=t>>>24&255,i[n++]=t>>>16&255,i[n++]=t>>>8&255,i[n++]=255&t,t=l/4294967296*1e4&268435455,i[n++]=t>>>8&255,i[n++]=255&t,i[n++]=t>>>24&15|16,i[n++]=t>>>16&255,i[n++]=g>>>8|128,i[n++]=255&g,g=0;6>g;++g)i[n+g]=s[g];return e||yw(i)},sh.v4=sh;var Ay=function(){return{joined:new Set,left:new Set,timeout:new Set,stateChanged:new Set}},aN=function(t){function e(s,g,l,C,p,B){Xa(this,e);var Q,y=i.call(this,C,"SessionSync");return E(J(y),"operation",ra.login),E(J(y),"startTime",Date.now()),E(J(y),"seq",T.fromNumber(1,!0)),E(J(y),"userJoinOptions",new hl(!1)),E(J(y),"seqSentStatuses",[!1]),E(J(y),"loggedOut",!1),E(J(y),"curLoginSockets",[void 0]),E(J(y),"loginSocketSubs",[{channels:new Map,receivers:[]}]),E(J(y),"lastLoginSockets",[new wf(1)]),E(J(y),"context",void 0),E(J(y),"vid",void 0),E(J(y),"connection",void 0),E(J(y),"instanceId",void 0),E(J(y),"clientPtr",void 0),E(J(y),"tickAndMsgPtr",void 0),E(J(y),"withoutPresenceChannels",new Map),E(J(y),"withPresenceChannels",new Map),E(J(y),"withPresenceCbContextPtrs",new Map),E(J(y),"localStateCache",new Map),E(J(y),"isInitBusy",!1),E(J(y),"channelsUsersStates",new Map),E(J(y),"cbPtrMap4InitCollByCrdt",new Map),E(J(y),"cbPtr4InitCollByCrdt",X.addFunction(function(_,S,w,O,P,K){if(O===1||O===2){S=(K=y.cbPtrMap4InitCollByCrdt.get(K)).prefixChannelName;var M=K.controlInterval;_=X.UTF8ToString(_);var U=$c(S),F={eventType:"SNAPSHOT",channelType:K=U.channelType,channelName:U=U.channelName,publisher:_,stateChanged:{},interval:null,snapshot:[]};if(y.isScalarValueWithCrdt(P)){P=y.getScalarValuePtrWithCrdt(P);var W=X._rte_crdt_scalar_value_is_null(P);if(W&&O===1){var ae;if((ae=y.channelsUsersStates.get(S))===null||ae===void 0||ae.set(_,{}),F.eventType="REMOTE_JOIN",_===y.context.uid)y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is ').concat(F.eventType,"."));else if(y.intervalMode.get(S)){var _r,_t,_A,na;(_r=y.intervalInfos)!==null&&_r!==void 0&&(_t=_r.get(S))!==null&&_t!==void 0&&_t.left.has(_)?(_A=y.intervalInfos.get(S))===null||_A===void 0||_A.left.delete(_):(na=y.intervalInfos.get(S))===null||na===void 0||na.joined.add(_)}else y.emit("presence",F),M("open")}else{for(ae=X._rte_crdt_path_iterator_create(w),_r=X._malloc(4),_t=X._malloc(4),w=[],_A=0;;_A++){if((na=X._rte_crdt_path_iterator_next(ae,_r,_t,null))!==Sa.ErrOK){na!==Sa.ErrNoMoreElems&&y.warn("path iterator error in presence subscribe callback. ".concat("Sync Api Error",": rte_crdt_path_iterator_next, ret is ").concat(na,"."));break}na=X.getValue(_t,"i64");var oa=X.getValue(_r,"i32");na=X.UTF8ToString(oa,Number(na).valueOf()),w.push(na)}var ha,fa,Da;if(y.log("received keys: %o in presence subscribe callback.",w),X._free(_r),X._free(_t),X._rte_crdt_path_iterator_destroy(ae),W&&w.length===0&&O===2)if((ha=y.channelsUsersStates.get(S))===null||ha===void 0||ha.delete(_),F.eventType="REMOTE_LEAVE",_===y.context.uid)y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is ').concat(F.eventType,". need execute logout.")),y.emit("internal-logout");else if((fa=y.timeoutUsersWithoutInterval.get(S))!==null&&fa!==void 0&&fa.has(_))(Da=y.timeoutUsersWithoutInterval.get(S))===null||Da===void 0||Da.delete(_),y.log("timeout user(".concat(Ca(_),") left, ignore"));else if(y.intervalMode.get(S)){var ga,ma,Ra;(ga=y.intervalInfos.get(S))!==null&&ga!==void 0&&ga.joined.has(_)?(ma=y.intervalInfos.get(S))===null||ma===void 0||ma.joined.delete(_):(Ra=y.intervalInfos.get(S))===null||Ra===void 0||Ra.left.add(_),M("close")}else y.emit("presence",F);else if(w.length===0)y.log("no return keys but type is ".concat(O," and value is exist in presence subscribe callback"));else if(w[0]==="_expired"&&O===2){var $a;F.eventType="REMOTE_JOIN";var Ka=y.requestCRDTGetState(S,_);if(($a=y.channelsUsersStates.get(S))===null||$a===void 0||$a.set(_,Ka),_===y.context.uid)y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is REJOIN.'));else{var _u,Uc,_E,Bh;y.log("remote user(".concat(Ca(_),') rejoin channel("').concat(K,'"-"').concat(Ca(U),'") in presence subscribe callback')),y.intervalMode.get(S)?(Uc=y.intervalInfos.get(S))!==null&&Uc!==void 0&&Uc.timeout.has(_)?(_E=y.intervalInfos.get(S))===null||_E===void 0||_E.timeout.delete(_):(Bh=y.intervalInfos.get(S))===null||Bh===void 0||Bh.joined.add(_):(y.emit("presence",F),M("open")),(_u=y.timeoutUsersWithoutInterval.get(S))===null||_u===void 0||_u.delete(_)}}else if(w[0]==="_expired"&&O===1){var _I;if((_I=y.channelsUsersStates.get(S))===null||_I===void 0||_I.delete(_),F.eventType="REMOTE_TIMEOUT",_===y.context.uid)y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is TIMEOUT.')),y.emit("internal-logout");else if(y.log("remote user(".concat(Ca(_),') timeout at channel("').concat(K,'"-"').concat(Ca(U),'") in presence subscribe callback')),y.intervalMode.get(S)){var zf,oQ,gQ;(zf=y.intervalInfos.get(S))!==null&&zf!==void 0&&zf.joined.has(_)?(oQ=y.intervalInfos.get(S))===null||oQ===void 0||oQ.joined.delete(_):(gQ=y.intervalInfos.get(S))===null||gQ===void 0||gQ.timeout.add(_),M("close")}else{var yQ;(yQ=y.timeoutUsersWithoutInterval.get(S))===null||yQ===void 0||yQ.add(_),y.emit("presence",F)}}else if(Qh(w[0][0]))if(w[0][0]&&W){var NQ,uQ;if(F.eventType="REMOTE_STATE_CHANGED",delete(Ka=(NQ=(uQ=y.channelsUsersStates.get(S))===null||uQ===void 0?void 0:uQ.get(_))!==null&&NQ!==void 0?NQ:{})[w[0]],F.stateChanged=Ka,_===y.context.uid)y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is ').concat(F.eventType,", state is ").concat(F.stateChanged));else if(y.intervalMode.get(S)){var _B;(_B=y.intervalInfos.get(S))===null||_B===void 0||_B.stateChanged.add(_)}else y.emit("presence",F)}else if(y.scalarValueIsBytes(P))if($a=X._malloc(4),_u=X._malloc(4),(Uc=X._rte_crdt_scalar_value_get_bytes(P,$a,_u))!==Sa.ErrOK)y.warn("getBytes with scalar ptr failure in presence subscribe callback. ".concat("Sync Api Error",": rte_crdt_scalar_value_get_bytes, ret is ").concat(Uc));else{var IQ,SQ;Uc=(IQ=(SQ=y.channelsUsersStates.get(S))===null||SQ===void 0?void 0:SQ.get(_))!==null&&IQ!==void 0?IQ:{},IQ=Hj($a),F.eventType="REMOTE_STATE_CHANGED",Uc[w[0]]=IQ,F.stateChanged=Uc,_===y.context.uid?y.log('"'.concat(Ca(_),'" receive self presence event in channel("').concat(K,'"-"').concat(Ca(U),'"), type is ').concat(F.eventType,", state is ").concat(F.stateChanged)):y.intervalMode.get(S)?(Ka=y.intervalInfos.get(S))===null||Ka===void 0||Ka.stateChanged.add(_):y.emit("presence",F),X._free($a),X._free(_u)}else y.warn("scalar value is not a bytes in presence subscribe callback.");else y.log("key is invalid in presence subscribe callback, key(".concat(w[0],")"))}}else X._rte_crdt_value_is_map(P)?y.warn("value is a map in presence subscribe callback."):X._rte_crdt_value_is_list?y.warn("value is a list in presence subscribe callback."):y.warn("value is not scalar, map or list in presence subscribe callback.")}},"vijiiii")),E(J(y),"getConsoleConfig",void 0),E(J(y),"presenceShakeHandInterval",void 0),E(J(y),"timeoutInSnapshot",new Map),E(J(y),"timeoutUsersWithoutInterval",new Map),E(J(y),"intervalMode",new Map),E(J(y),"intervalTimerId",new Map),E(J(y),"intervalSnapshot",new Map),E(J(y),"intervalInfos",new Map),E(J(y),"presenceTimeout",0),E(J(y),"subscribedPresenceChannels",new Set),E(J(y),"registerSocketsFailureListener",function(){y.connection.once("socketsOfSyncFailure",function(){y.log("sync-proxy: socketsFailure, creating a new connection"),vf(function(){return y.connection.removeAllListeners(),y.connection=new vy(y.context,y.logger,!0),y.loginHandler(15e3,!0)}).pipe(Pe(function(_){return _.pipe(Ne(Ma("RECONNECTING_AP_INTERVAL")))}),Mc(oc(y.connection.apClient.apFinish$,jd(1e3*(120+y.presenceTimeout-20)).pipe(Ga(function(){y.connection.apClient.apFinish$.next(void 0),y.log("reconnecting server of presence timeout, need execute logout"),y.emit("internal-logout")}))))).subscribe(function(){y.log("new connection connected")})})}),E(J(y),"cbPtrMap4SetStateByRpc",new Map),E(J(y),"cbPtr4SetStateByRpc",X.addFunction(function(_,S){var w=y.cbPtrMap4SetStateByRpc.get(S);S=w.rejectPromise;var O=w.resolvePromise,P=w.operation,K=w.prefixChannelName;w=w.state,_!==Sa.ErrOK?(y.warn("".concat("Sync Callback Error",": rte_crdt_client_put_remote, resp is ").concat(_)),_=Jc(_),S(new ja(P,[_.reason],_.code))):(y.log("".concat("Sync Callback emitted ",": ").concat(P," by rpc succeed. ")),O({timeToken:0}),y.updatePresenceStateCache(K,P,w))},"vii")),E(J(y),"cbPtrMap4GetStateByRpc",new Map),E(J(y),"cbPtr4GetStateByRpc",X.addFunction(function(_,S,w,O,P,K,M,U){w=(M=y.cbPtrMap4GetStateByRpc.get(U)).operation,U=M.rejectPromise,O=M.resolvePromise,M=M.userId,_!==Sa.ErrOK?(y.log("".concat(w," failure! code is ").concat(_)),y.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(_)),U(new ja(w,"Channel presence doc query failure. service code is ".concat(_),_))):y.log("".concat("Sync Callback emitted ",": ").concat(w," by rpc succeed. ")),_=Number(K).valueOf(),K={statesCount:0,states:{},userId:M,timeToken:0},U=[];for(var F=0;F<_;F++){var W=X.getValue(S+4*F,"i32");Qh(W=Qd(W))&&W===M?(W=X.getValue(P+4*F,"i32"),X._rte_crdt_nested_value_print(W),X._rte_crdt_nested_value_is_map(W)?(W=y.getStatesWithMapNested(W),K.states=W,K.statesCount=Object.keys(W).length):y.warn("nested value is not a map in ".concat(w," callback."))):U.push(W)}0<U.length&&y.log("invalid users: ".concat(U," when performing ").concat(w)),K.statesCount=Object.keys(K.states).length,O(K)},"viiiiijii")),E(J(y),"cbPtrMap4RemoveStateByRpc",new Map),E(J(y),"cbPtr4RemoveStateByRpc",X.addFunction(function(_,S){var w=y.cbPtrMap4RemoveStateByRpc.get(S);S=w.failedKeys;var O=w.operation,P=w.key,K=w.prefixChannelName;w=w.state,_!==Sa.ErrOK?(y.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_remote, resp is ").concat(_)),S.push(P)):(y.updatePresenceStateCache(K,O,w),y.log("".concat("Sync Callback emitted ",": ").concat(O," by rpc succeed. ")))},"vii")),E(J(y),"cbPtrMap4WhoNowByRpc",new Map),E(J(y),"cbPtr4WhoNowByRpc",X.addFunction(function(_,S,w,O,P,K,M,U){var F=y.cbPtrMap4WhoNowByRpc.get(U);w=F.operation;var W=F.rejectPromise;if(O=F.resolvePromise,U=F.countOnly,F=F.keysOnly,_!==Sa.ErrOK?(y.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(_)),W(new ja(w,"Channel presence doc query failure. service code is ".concat(_),_))):y.log("".concat("Sync Callback emitted ",": ").concat(w," by rpc succeed. ")),K={totalOccupancy:_=Number(K).valueOf(),occupants:[],nextPage:"",timeToken:0},U)y.log("".concat("Sync Callback emitted ",": ").concat(w," by rpc succeed."));else{W=[];for(var ae=0;ae<_;ae++){var _r=X.getValue(S+4*ae,"i32"),_t=Qd(_r);if(Qh(_t)){_r={states:{},userId:_t,statesCount:0};var _A=X.getValue(P+4*ae,"i32"),na=X._rte_crdt_nested_value_is_map(_A);na||y.warn("nested value is not a map when performing ".concat(w)),ae===_-1&&M&&(_t=btoa(_t),K.nextPage=_t),!na||U||F||(_A=y.getStatesWithMapNested(_A),_r.states=_A,_r.statesCount=Object.keys(_A).length),K.occupants.push(_r)}else W.push(_t)}0<W.length&&y.log("invalid users: ".concat(W," when performing ").concat(w))}O(K)},"viiiiijii")),E(J(y),"cbPtrMap4WhereNowByRpc",new Map),E(J(y),"cbPtr4WhereNowByRpc",X.addFunction(function(_,S,w,O,P,K,M,U){w=(M=y.cbPtrMap4WhereNowByRpc.get(U)).operation,U=M.rejectPromise,O=M.resolvePromise,M=M.key,_!==Sa.ErrOK?(y.warn("".concat("Sync Callback Error",": rte_crdt_client_get_remote, resp is ").concat(_)),U(new ja(w,"Channel presence doc query failure. service code is ".concat(_),_))):y.log("".concat("Sync Callback emitted ",": ").concat(w," by rpc succeed. ")),K={channels:[],totalChannel:_=Number(K).valueOf(),timeToken:0},U=[];for(var F=0;F<_;F++){var W=X.getValue(S+4*F,"i32"),ae=X.getValue(P+4*F,"i32");W=Qd(W),U.push(W),W===M&&(X._rte_crdt_nested_value_is_map(ae)?(ae=y.getChannelsWithMapNested(ae),K.channels=ae):y.warn("nested value is not a map in whereNow callback."))}K.totalChannel=K.channels.length,y.log("received channels: ".concat(U," of ").concat(w)),O(K)},"viiiiijii")),E(J(y),"cbPtrMap4SubscribeChannel",new Map),E(J(y),"cbPtr4SubscribeChannel",X.addFunction(function(_,S){var w=y.cbPtrMap4SubscribeChannel.get(S),O=w.prefixChannelName,P=w.crdtCollectionPtr,K=w.rejectPromise;if(w=w.resolvePromise,_===Sa.ErrOK){y.log("".concat("Sync Callback emitted ",": channel(").concat(Ca(O),") crdt collection init succeed.")),_=Za("/Vendors/"+y.vid+"/ChannelPresence/"+O+"/Users");var M=Za(y.context.uid);X._rte_crdt_client_start_keepalive(y.clientPtr,_,M),y.getLoginSockets().map(function(U){y.sendPing(U)}),ib(_),ib(M),_=y.withPresenceChannels.get(O).collNamePtr,y.withPresenceChannels.set(O,{writeable:!0,crdtCollectionPtr:P,collNamePtr:_,channelType:$c(O).channelType}),y.emit("initCollSucceed",O,P,{resolvePromise:w,rejectPromise:K})}else P="".concat("Sync Callback Error",": rte_crdt_collection_init, resp is ").concat(_,"."),y.warn(P),y.emit("initDocFailure",O),O=Jc(_),K(new ja(ra.subscribe,[O.reason+P],O.code));y.cbPtrMap4SubscribeChannel.delete(S),ib(S)},"vii")),E(J(y),"cbPtrMap4AttendChannel",new Map),E(J(y),"cbPtr4AttendChannel",X.addFunction((Q=wa(Z.mark(function _(S,w){var O,P,K,M,U,F,W,ae,_r,_t;return Z.wrap(function(_A){for(;;)switch(_A.prev=_A.next){case 0:O=y.cbPtrMap4AttendChannel.get(w),P=O.prefixChannelName,K=O.remoteChannelCollPtr,M=O.docPtr,U=O.rejectPromise,F=O.resolvePromise,S!==Sa.ErrOK?(W="".concat("Sync Callback Error",": rte_crdt_client_put_doc_remote, resp is ").concat(S),y.warn(W),y.emit("initDocFailure",P),ae=Jc(S),_r=ae.code,_t=ae.reason,U(new ja(ra.subscribe,[_t+W],_r))):(y.log("".concat("Sync Callback emitted ",": Put channel(").concat(Ca(P),") document succeed by rpc.")),y.subscribedPresenceChannels.add(P),X._rte_crdt_client_start_keepalive(y.clientPtr,K,M),y.getLoginSockets().map(function(na){y.sendPing(na)}),y.withoutPresenceChannels.set(P,{writeable:!0,docPtr:M,remoteChannelCollPtr:K}),y.emit("putCache2Remote",P)),y.cbPtrMap4AttendChannel.delete(w),ib(w),F(!0);case 5:case"end":return _A.stop()}},_)})),function(_,S){return Q.apply(this,arguments)}),"vii")),E(J(y),"cbPtrMap4DelChannelByRpc",new Map),E(J(y),"cbPtr4DelChannelByRpc",X.addFunction(function(_,S){var w=y.cbPtrMap4DelChannelByRpc.get(S),O=w.prefixChannelName;w=w.resolvePromise,_!==Sa.ErrOK?y.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_doc_remote, resp is ").concat(_)):y.log("".concat("Sync Callback emitted ",": Delete channel(").concat(Ca(O),") document succeed by rpc.")),w(!0),y.cbPtrMap4DelChannelByRpc.delete(S),ib(S)},"vii")),y.context=s,y.context.startTime=y.startTime,y.connection=g,y.getConsoleConfig=B,s=Ma("PRESENCE_RPC_TIMEOUT"),y.presenceShakeHandInterval=Math.max(s/3-1,1),y.presenceTimeout=p(),y.instanceId=l,y.setMaxListeners(512),y.log("The instanceId is %s",y.instanceId.toString()),l=Za("/rtm-state/"),s=X._rte_crdt_client_create(s,l),ib(l),y.clientPtr=s,X._rte_crdt_client_enable_logging(),l=X._rte_crdt_bytes_create(),y.tickAndMsgPtr=l,y.connection.once("ticketUpdated",function(_){var S=_.ticket;_=_.vid,y.vid=_,y.updateClientKey(S),S=X._rte_crdt_client_set_routingkey,_=Za(_),S(y.clientPtr,_),ib(_),X._rte_crdt_client_set_ttl(y.clientPtr,BigInt(p())),S=Math.max(1,p()/5-1),X._rte_crdt_client_set_keepalive_interval(y.clientPtr,1e3*S),X._rte_crdt_client_set_shakehand_interval(y.clientPtr,1e3*y.presenceShakeHandInterval)}),y.on("presence-interval",function(_,S){var w,O,P,K,M,U,F,W,ae=$c(_),_r={eventType:"INTERVAL",channelType:ae.channelType,channelName:ae.channelName,publisher:"",stateChanged:{},interval:{join:{users:[],userCount:0},leave:{users:[],userCount:0},timeout:{users:[],userCount:0},userStateList:[]},snapshot:[]},_t=(ae=y.intervalSnapshot.get(_)).alreadyJoinedUsers;ae=ae.alreadyTimeoutUsers,(w=y.intervalInfos.get(_))===null||w===void 0||w.timeout.forEach(function(na){var oa;_t.includes(na)&&((oa=_r.interval)===null||oa===void 0||oa.timeout.users.push(na),_r.interval.timeout.userCount++)}),(O=y.intervalInfos.get(_))===null||O===void 0||O.left.forEach(function(na){var oa;_t.includes(na)&&((oa=_r.interval)===null||oa===void 0||oa.leave.users.push(na),_r.interval.leave.userCount++)}),(P=y.intervalInfos.get(_))===null||P===void 0||P.joined.forEach(function(na){_r.interval.join.users.push(na),_r.interval.join.userCount++});var _A=_t.filter(function(na){var oa,ha;return!((oa=y.intervalInfos.get(_))!==null&&oa!==void 0&&oa.left.has(na)||(ha=y.intervalInfos.get(_))!==null&&ha!==void 0&&ha.timeout.has(na))}).concat(ta((K=(M=y.intervalInfos.get(_))===null||M===void 0?void 0:M.joined)!==null&&K!==void 0?K:new Set));w=ae.filter(function(na){var oa,ha;return!((oa=y.intervalInfos.get(_))!==null&&oa!==void 0&&oa.joined.has(na)||(ha=y.intervalInfos.get(_))!==null&&ha!==void 0&&ha.left.has(na))}).concat(ta((U=(F=y.intervalInfos.get(_))===null||F===void 0?void 0:F.timeout)!==null&&U!==void 0?U:new Set)),(W=y.intervalInfos.get(_))===null||W===void 0||W.stateChanged.forEach(function(na){var oa,ha,fa;_A.includes(na)&&((oa=y.intervalInfos.get(_))===null||oa===void 0||oa.stateChanged.delete(na),oa=(ha=(fa=y.channelsUsersStates.get(_))===null||fa===void 0?void 0:fa.get(na))!==null&&ha!==void 0?ha:{},_r.interval.userStateList.push({userId:na,states:oa,statesCount:Object.keys(oa).length}))}),_r.interval&&(F=(U=_r.interval).leave,W=U.timeout,O=U.userStateList,(0<U.join.userCount||0<F.userCount||0<W.userCount||0<O.length)&&y.emit("presence",_r)),y.intervalSnapshot.set(_,{alreadyJoinedUsers:_A,alreadyTimeoutUsers:w}),y.intervalInfos.set(_,Ay()),S&&y.timeoutUsersWithoutInterval.set(_,new Set(w))}),y.on("initCollSucceed",function(){var _=wa(Z.mark(function S(w,O,P){var K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da;return Z.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:if(U=P.resolvePromise,F=P.rejectPromise,W=function(ma){var Ra,$a,Ka,_u=(Ra=($a=y.channelsUsersStates.get(w))===null||$a===void 0?void 0:$a.size)!==null&&Ra!==void 0?Ra:0;switch(Ra=Number(Ma("PRESENCE_INTERVAL_OCCUPANCY"))||Number((Ka=B())===null||Ka===void 0?void 0:Ka["presence.occupancy"]),ma){case"open":var Uc;_u>=Ra&&!y.intervalMode.get(w)&&(y.log("open interval mode in channel: ".concat(Ca(w))),y.intervalMode.set(w,!0),y.intervalSnapshot.set(w,y.getIntervalSnapshot(w)),y.intervalTimerId.set(w,setInterval(function(){y.emit("presence-interval",w)},1e3*Number((Uc=B())===null||Uc===void 0?void 0:Uc["presence.interval"]))),y.intervalInfos.set(w,Ay()),X._rte_crdt_client_enable_bidirection(y.clientPtr,0));break;case"close":_u<Ra&&y.intervalMode.get(w)&&(y.log("close interval mode in channel: ".concat(Ca(w))),y.intervalMode.delete(w),y.emit("presence-interval",w,!0),y.clearIntervalById(y.intervalTimerId.get(w)),y.intervalTimerId.delete(w),X._rte_crdt_client_enable_bidirection(y.clientPtr,1))}},ae=Za(w),y.cbPtrMap4InitCollByCrdt.set(ae,{prefixChannelName:w,controlInterval:W}),y.withPresenceCbContextPtrs.set(w,ae),_r=X._rte_crdt_collection_subscribe(O,y.cbPtr4InitCollByCrdt,ae),y.getLoginSockets().map(function(ma){y.sendPing(ma)}),_r!==Sa.ErrOK?(_t="".concat("Sync Api Error",": rte_crdt_collection_subscribe, ret is ").concat(_r),y.warn(_t),_A=Jc(_r),na=_A.code,oa=_A.reason,F(new ja(ra.subscribe,[oa+_t],na))):(y.log("subscribe channel(".concat(Ca(w),") presence succeed.")),y.log("Put channel(".concat(Ca(w),") document succeed by crdt.")),ha=y.context.uid,fa=Za(ha),X._rte_crdt_collection_put_doc(O,fa,je(ha)),ib(fa),y.getLoginSockets().map(function(ma){y.sendPing(ma)})),Da={},((K=y.localStateCache.get(w))!==null&&K!==void 0?K:new Map).forEach(function(ma,Ra){Da[Ra]=ma}),!(0<Object.keys(Da).length)){ga.next=19;break}return ga.prev=11,ga.next=14,y.requestCRDTSetState(w,Da);case 14:ga.next=19;break;case 16:ga.prev=16,ga.t0=ga.catch(11),y.warn("update user local cache doc by crdt failure. error is ".concat(ga.t0));case 19:y.subscribedPresenceChannels.add(w),y.emitPresenceSnapshot(w,O),U(!0),y.timeoutUsersWithoutInterval.set(w,(M=y.timeoutInSnapshot.get(w))!==null&&M!==void 0?M:new Set),W("open");case 24:case"end":return ga.stop()}},S,null,[[11,16]])}));return function(S,w,O){return _.apply(this,arguments)}}()),y.on("putCache2Remote",function(){var _=wa(Z.mark(function S(w){var O,P;return Z.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(P={},((O=y.localStateCache.get(w))!==null&&O!==void 0?O:new Map).forEach(function(M,U){P[U]=M}),!(0<Object.keys(P).length)){K.next=11;break}return K.prev=3,K.next=6,y.requestRPCSetState(w,P);case 6:K.next=11;break;case 8:K.prev=8,K.t0=K.catch(3),y.warn("update user local cache doc by rpc failure. error is ".concat(K.t0));case 11:case"end":return K.stop()}},S,null,[[3,8]])}));return function(S){return _.apply(this,arguments)}}()),y.on("endOfCallback",function(_){X.removeFunction(_)}),y}rb(e,t);var n,i=sb(e);return Db(e,[{key:"putGlobalDoc",value:(n=wa(Z.mark(function s(){var g,l,C,p,B,Q,y,_,S,w,O,P,K,M=this;return Z.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return p=new Promise(function(F,W){l=F,C=W}),B=V(G.RTM_ERROR_LOGIN_REJECTED),Q=B.code,y=B.reason,(_=(g=this.connection.apClient.vid)!==null&&g!==void 0?g:"")?(S=Za("/Vendors/"+_+"/Presence"),w=Za(this.context.uid),O=X.addFunction(function(F,W){F!==Sa.ErrOK?(F="".concat("Sync Callback Error",": rte_crdt_client_put_doc_remote, ret is ").concat(F),M.warn(F),C(new ja(ra.login,[y+F],Q))):(X._rte_crdt_client_start_keepalive(M.clientPtr,S,w),ib(S),ib(w),M.getLoginSockets().map(function(ae){M.sendPing(ae)}),M.log("".concat("Sync Callback emitted ",": Put global document succeed!")),l(!0)),M.emit("endOfCallback",O)},"vii"),P=X._rte_crdt_client_put_doc_remote(this.clientPtr,S,w,O,0),this.getLoginSockets().map(function(F){M.sendPing(F)}),P!==Sa.ErrOK?(K="".concat("Sync Api Error",": rte_crdt_client_put_doc_remote, ret is ").concat(P),this.warn(K),C(new ja(ra.login,[y+K],Q))):this.log("".concat("Sync Request Start",": put global document when performing ").concat(ra.login))):(this.warn("vid is empty."),C(new ja(ra.login,[y+"vid is empty."],Q))),U.abrupt("return",p);case 5:case"end":return U.stop()}},s,this)})),function(){return n.apply(this,arguments)})},{key:"loginHandler",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:12e3,l=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.loggedOut&&l)throw g=V(G.RTM_ERROR_LOGIN_ABORTED),new cb(this.operation,[g.reason],g.code);l&&this.registerSocketsFailureListener(),this.connection.initConnection();var C=this.getSocketLoginObservables(this.connection.lastOpenSocketsOfSync);return C.forEach(function(p,B){var Q=s.loginSocketSubs[B].login;Q!==void 0&&Q.unsubscribe(),s.loginSocketSubs[B].login=p.pipe(Ga(function(y){s.curLoginSockets[B]=y,s.emit("userJoined"),l&&s.connection.apClient.apFinish$.next(void 0)})).subscribe(s.lastLoginSockets[B])}),this.initKeepAliveSender(),this.initLoginReceiver(),oc.apply(void 0,ta(C).concat([he(this.connection,"connectionSyncInitFailure").pipe(Ga(function(p){throw tb(p)||Ib(p)?p:(p=V(G.RTM_ERROR_LOGIN_ABORTED),new ja(s.operation,[p.reason],p.code))}))])).pipe(qb(1),Nc(g),kb(function(p){return p instanceof tc&&s.warn("Sync client ".concat(l?"re-":"","login timeout")),p&&p.code===G.RTM_ERROR_TOKEN_EXPIRED&&s.connection.apClient.apFinish$.next(void 0),s.clearSockets(0,l),Na(p)}),Ga(function(){l||s.registerSocketsFailureListener()}),ac(wa(Z.mark(function p(){return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.prev=0,B.next=3,s.putGlobalDoc();case 3:B.next=9;break;case 5:throw B.prev=5,B.t0=B.catch(0),s.clearSockets(0,!1),Na(B.t0);case 9:case"end":return B.stop()}},p,null,[[0,5]])}))),xf(function(){l||s.connection.apClient.apFinish$.next(void 0)}))}},{key:"getIntervalSnapshot",value:function(s){var g,l,C=ta((g=this.timeoutUsersWithoutInterval.get(s))!==null&&g!==void 0?g:new Set),p=[];return(l=this.channelsUsersStates.get(s))===null||l===void 0||l.forEach(function(B,Q){C.includes(Q)||p.push(Q)}),{alreadyJoinedUsers:p,alreadyTimeoutUsers:C}}},{key:"clearIntervalById",value:function(s){clearInterval(s)}},{key:"clearIntervalCacheOfChannel",value:function(s){this.timeoutInSnapshot.delete(s),this.intervalMode.delete(s),this.intervalTimerId.delete(s),this.intervalInfos.delete(s),this.timeoutUsersWithoutInterval.delete(s),this.intervalSnapshot.delete(s)}},{key:"logoutHandler",value:function(){var s=wa(Z.mark(function g(){var l,C,p=this;return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),l=this.getLoginSockets(),C=l.map(function(Q){return p.connection.waitClosing(Q)}),this.clearSockets(0),this.connection.closeSocket(0,0,function(){X._rte_crdt_client_destroy(p.clientPtr),X._rte_crdt_bytes_destroy(p.tickAndMsgPtr)}),this.delCbPtr4DelChannel(),B.next=9,oc.apply(void 0,ta(C)).toPromise();case 9:case"end":return B.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(s,g){Object.entries(this.loginSocketSubs[s]).forEach(function(l){var C=(l=vc(l,2))[1];l[0]==="channels"&&g||(Array.isArray(C)||C instanceof Map?C.forEach(function(p){return p.unsubscribe()}):C&&C.unsubscribe())}),this.loginSocketSubs[s]={channels:g?this.loginSocketSubs[s].channels:new Map,receivers:[]}}},{key:"initKeepAliveSender",value:function(){var s=this;this.lastLoginSockets.map(function(g){return g.pipe(ic(function(l){return jd(0,1e3*s.presenceShakeHandInterval,Of()?void 0:new np(qy)).pipe(Ga(function(){s.isInitBusy||l.isReset||s.sendPing(l,!0)}))}),Ga(function(){s.isInitBusy=!1}))}).forEach(function(g,l){var C=s.loginSocketSubs[l].keepAlive;C!==void 0&&C.unsubscribe(),s.loginSocketSubs[l].keepAlive=g.subscribe({error:function(){s.warn("sendPing is error!")}})})}},{key:"initLoginReceiver",value:function(){var s=this;gc.apply(void 0,ta(this.lastLoginSockets.map(function(g){return g.pipe(ic(function(l){return l.fromReceived()}))}))).subscribe(),this.lastLoginSockets.map(function(g){return g.pipe(ic(function(l){return oc(he(l,"reconnectSync").pipe(Ga(s.onSocketReconnect(l))),l.fromReceived()).pipe(Oe(void 0))}))}).forEach(function(g,l){s.loginSocketSubs[l].receivers.push(g.subscribe({error:function(){}}))})}},{key:"requestSocketLogin",value:function(s,g){var l=this,C=vf(function(){l.userJoinOptions=new hl(g),X._rte_crdt_client_reset_connection(l.clientPtr),l.log("establish sync connection start, packet seq is ".concat(s.packetCount)),l.sendPing(s)}),p=s.fromReceived().pipe(Ga(function(B){s.attemptsSinceLastError=0,s.loggedIn===!1&&(l.log("User logged in Sync"),s.loggedIn=!0,l.emit("userJoined"));try{var Q=B.length*B.BYTES_PER_ELEMENT,y=X._malloc(Q);X.HEAPU8.set(B,y);var _=X._rte_crdt_client_recv_proxy_msg(l.clientPtr,y,BigInt(Q),l.tickAndMsgPtr);if(X._free(y),_!==Sa.ErrOK)l.warn("".concat("Sync Api Error",": rte_crdt_client_recv_proxy_msg, ret is ").concat(_)),X._rte_crdt_client_reset_connection(l.clientPtr),s.forceReconnect();else{var S=new Uint8Array(X.HEAPU8.buffer,X._rte_crdt_bytes_data(l.tickAndMsgPtr),Number(X._rte_crdt_bytes_length(l.tickAndMsgPtr)).valueOf()).slice();S.byteLength&&s.sendPacket(S)}}catch(w){l.warn("recv_msg error: ".concat(lb(lb({},w),{},{e:w})))}}),Oe(s));return ox(C,p).pipe(cc(function(B){var Q=1>=B.packetCount;return B!==void 0&&Q}),kb(function(B){return B instanceof tc&&(l.warn("Login sync response timeout, rejoin: %s",g),B.name="loginRespTimeout"),l.clearSockets(),l.emit("banSyncIP",s.ip),Na(B)}))}},{key:"getSocketLoginObservables",value:function(s){var g=this;return s.map(function(l){return l.pipe(ic(function(C,p){return g.incSeqIfNeeded(0),g.requestSocketLogin(C,p!==Sa.ErrOK)}),Kd())})}},{key:"incSeqIfNeeded",value:function(s){if(![0,1].includes(s))throw new Yj({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[s]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1]),this.seqSentStatuses[s]=!0}},{key:"getLoginSockets",value:function(){return jv(this.curLoginSockets)}},{key:"onSocketReconnect",value:function(s){var g=this;return function(){g.warn("socket(".concat(s.name,") internal emit connectionOfSyncLost")),g.emit("connectionOfSyncLost")}}},{key:"clearSockets",value:function(){var s=this,g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,l=1<arguments.length&&arguments[1]!==void 0&&arguments[1];[0].forEach(function(C){s.cleanLoginSubs(C,l),s.connection.closeSocket(C,g)})}},{key:"sendPing",value:function(s){var g=1<arguments.length&&arguments[1]!==void 0&&arguments[1],l=Ma("PRINT_TICK_LOG");if(l&&this.log("======sendPing======= %o",{socketName:s.name,lastPacketCount:s.packetCount}),s.isActiveClose)navigator.onLine&&this.warn("socket is closed, not send ping");else{for(var C=0;;C++)try{var p=this.tickAndMsgPtr,B=X._rte_crdt_client_tick(this.clientPtr,p),Q=X._rte_crdt_bytes_data(p),y=Number(X._rte_crdt_bytes_length(p)).valueOf(),_=new Uint8Array(X.HEAP8.buffer,Q,y).slice(),S=B,w=_,O=S;if(O===Sa.ErrNetwork){this.warn("".concat("Sync Api Error",": rte_crdt_client_tick, ret is ").concat(O)),X._rte_crdt_client_reset_connection(this.clientPtr),s.forceReconnect();break}0<w.byteLength&&s.sendPacket(w);var P=Number(w.slice(2,3).toString());if(l&&this.log("-----tick info----- %o",{BufferLen:w.byteLength,idx:C,code:O,packetCount:s.packetCount,uri:P}),0<w.byteLength&&l&&console.log(w,"Sync_log: tick-buffer"),O===Sa.ErrNoMoreElems)break;O!==Sa.ErrOK&&this.warn("".concat("Sync Api Error",": rte_crdt_client_tick, ret is ").concat(O))}catch(K){if(this.warn("getBytesWithTick error: ".concat(K)),g)throw K}this.incSeqIfNeeded(0)}}},{key:"requestCRDTSetState",value:function(s,g){var l=this,C=ra.presenceSetState;this.log("".concat(C," by crdt."));var p=this.withPresenceChannels.get(s),B=p.crdtCollectionPtr;if(p.writeable){p=Za(this.context.uid);var Q=je(this.context.uid);if(B=X._rte_crdt_collection_ref_doc(B,p,Q),ib(p),!B)throw g=(s=V(G.RTM_ERROR_PRESENCE_OPERATION_FAILED)).code,new ja(C,[s.reason+"".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(B)],g);if((p=X._rte_crdt_document_batch_write_begin(B))!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_begin, ret is ").concat(p)),s=Jc(p),new ja(C,[s.reason],s.code);for(var y in g){p=X._rte_crdt_path_create(),Q=Za(y);var _=je(y);X._rte_crdt_path_add_property(p,Q,_),ib(Q),Q=X._rte_crdt_value_create(),_=X._rte_crdt_value_set_scalar(Q);var S=Za(g[y]),w=je(g[y]);X._rte_crdt_scalar_value_set_bytes(_,S,w),ib(S),_=X._rte_crdt_document_put(B,null,p,Q),X._rte_crdt_path_destroy(p),X._rte_crdt_value_destroy(Q),_!==Sa.ErrOK&&this.warn("".concat("Sync Api Error",": rte_crdt_document_put, ret is ").concat(_))}y=X._rte_crdt_document_batch_write_end(B),this.getLoginSockets().map(function(O){l.sendPing(O)}),y!==Sa.ErrOK?this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_end, ret is ").concat(y)):(this.updatePresenceStateCache(s,C,g),this.log("".concat(Ca(s)," presence SetState succeed!")))}else this.updatePresenceStateCache(s,C,g),this.log("doc not writeable, ".concat(C," by local cache."))}},{key:"requestRPCSetState",value:function(s,g){var l,C,p=this,B=new Promise(function(_A,na){l=_A,C=na}),Q=ra.presenceSetState;this.log("".concat(Q," by rpc."));var y=this.withoutPresenceChannels.get(s),_=y.remoteChannelCollPtr,S=y.docPtr;if(!y.writeable)return this.updatePresenceStateCache(s,Q,g),this.log("doc not writeable, ".concat(Q," by local cache.")),l({timeToken:0}),B;var w=Object.keys(g).length;y=X._malloc(4*w);var O=X._malloc(4*w),P=X._malloc(8*w),K=y,M=O,U=P,F=[];for(_t in g){var W=Za(_t),ae=je(g[_t]),_r=Za(g[_t]);F.push(W),F.push(_r),X.setValue(K,W,"i32*"),X.setValue(M,_r,"i32*"),X.setValue(U,Number(ae).valueOf(),"i64"),K+=4,M+=4,U+=8}var _t=Za(s);if(this.cbPtrMap4SetStateByRpc.set(_t,{resolvePromise:l,rejectPromise:C,prefixChannelName:s,operation:Q,state:g}),s=X._rte_crdt_client_put_remote(this.clientPtr,_,S,y,O,P,BigInt(w),this.cbPtr4SetStateByRpc,_t),this.getLoginSockets().map(function(_A){p.sendPing(_A)}),X._free(y),X._free(O),X._free(P),F.forEach(function(_A){ib(_A)}),s!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_put_remote, ret is ").concat(s)),B=Jc(s),new ja(Q,[B.reason],B.code);return this.log("".concat("Sync Request Start",": ").concat(Q)),B}},{key:"requestCRDTGetState",value:function(s,g){var l=ra.presenceGetState;this.log("".concat(l," by crdt."));var C=Za(g);return g=je(g),s=this.getStatesWithDocId(s,C,g,{operation:l}).states,ib(C),s}},{key:"requestRPCGetState",value:function(s,g){var l,C,p,B=this,Q=new Promise(function(O,P){C=O,p=P}),y=ra.presenceGetState;this.log("".concat(y," by rpc."));var _="/Vendors/"+this.vid+"/ChannelPresence/"+s+"/Users",S=(l=this.withoutPresenceChannels.get(s))===null||l===void 0?void 0:l.remoteChannelCollPtr;l=S||Za(_),_=Za(s),this.cbPtrMap4GetStateByRpc.set(_,{resolvePromise:C,rejectPromise:p,prefixChannelName:s,operation:y,userId:g}),s=Za(g),g=Za("");var w=BigInt(-1);if(_=X._rte_crdt_client_get_remote(this.clientPtr,l,s,g,w,!1,!1,this.cbPtr4GetStateByRpc,_),this.getLoginSockets().map(function(O){B.sendPing(O)}),this.log("parameter :".concat({coll:Qd(l),key:Qd(s),rangeEnd:Qd(g),limit:w}," of getState")),ib(s),ib(g),!S&&ib(l),_!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get_remote, ret is ").concat(_)),Q=Jc(_),new ja(y,[Q.reason],Q.code);return this.log("".concat("Sync Request Start",": ").concat(y)),Q}},{key:"requestCRDTRemoveState",value:function(s,g){var l=this,C=ra.presenceRemoveState;this.log("".concat(C," by crdt."));var p=this.withPresenceChannels.get(s),B=p.crdtCollectionPtr;if(p.writeable){p=Za(this.context.uid);var Q=je(this.context.uid);if(B=X._rte_crdt_collection_ref_doc(B,p,Q),ib(p),!B)throw g=(s=V(G.RTM_ERROR_PRESENCE_OPERATION_FAILED)).code,new ja(C,[s.reason+"".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(B)],g);if((p=X._rte_crdt_document_batch_write_begin(B))!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_begin, ret is ").concat(p)),s=Jc(p),new ja(C,[s.reason],s.code);for(var y in p=[],g){Q=X._rte_crdt_path_create();var _=Za(y),S=je(y);X._rte_crdt_path_add_property(Q,_,S),ib(_),(_=X._rte_crdt_document_delete(B,null,Q))!==Sa.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_document_delete, ret is ").concat(_)),p.push(y)):this.log("remove state key: ".concat(y," succeed")),X._rte_crdt_path_destroy(Q)}if(y=X._rte_crdt_document_batch_write_end(B),this.getLoginSockets().map(function(w){l.sendPing(w)}),y!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_document_batch_write_end, ret is ").concat(y)),s=Jc(y),new ja(C,[s.reason],s.code);this.updatePresenceStateCache(s,C,g),this.log("".concat(Ca(s)," presence RemoveState succeed!").concat(0<p.length?" failedKeys: ".concat(p):""," "))}else this.updatePresenceStateCache(s,C,g),this.log("doc not writeable, ".concat(C," by local cache."))}},{key:"requestRPCRemoveState",value:function(s,g){var l,C=this,p=new Promise(function(P,K){l=P}),B=ra.presenceRemoveState;this.log("".concat(B," by rpc."));var Q=this.withoutPresenceChannels.get(s),y=Q.remoteChannelCollPtr,_=Q.docPtr;if(!Q.writeable)return this.updatePresenceStateCache(s,B,g),this.log("doc not writeable, ".concat(B," by local cache.")),l({timeToken:0}),p;for(var S in Q=[],g){var w=Za(s+"removeState(".concat(S,")"));this.cbPtrMap4RemoveStateByRpc.set(w,{failedKeys:Q,operation:B,key:S,prefixChannelName:s,state:g});var O=Za(S);w=X._rte_crdt_client_delete_remote(this.clientPtr,y,_,O,this.cbPtr4RemoveStateByRpc,w),this.getLoginSockets().map(function(P){C.sendPing(P)}),ib(O),w!==Sa.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_remote, ret is ").concat(w)),Q.push(S)):this.log("".concat("Sync Request Start",": ").concat(B,", key(").concat(S,")"))}return 0<Q.length&&this.warn("".concat(B," failedKeys: ").concat(Q)),l({timeToken:0}),p}},{key:"requestCRDTWhoNow",value:function(s,g,l){var C=this,p=ra.whoNow;this.log("".concat(p," by crdt."));var B=this.getUsersByChannel(s).filter(function(y){var _;return y=y.userId,!((_=C.timeoutUsersWithoutInterval.get(s))!==null&&_!==void 0&&_.has(y))}),Q={totalOccupancy:B.length,occupants:[],timeToken:0,nextPage:""};return(l||g)&&B.forEach(function(y){var _=y.userIdPtr,S=y.userIdLen;y=y.userId,g&&!l?Q.occupants.push({userId:y,states:{},statesCount:0}):g&&l&&(_=C.getStatesWithDocId(s,_,S,{operation:p}).states,Q.occupants.push({userId:y,states:_,statesCount:Object.keys(_).length}))}),Q}},{key:"requestRPCWhoNow",value:function(s,g,l,C){var p,B,Q,y=this,_=new Promise(function(U,F){B=U,Q=F}),S=ra.whoNow;this.log("".concat(S," by rpc."));var w="/Vendors/"+this.vid+"/ChannelPresence/"+s+"/Users",O=Za(w);g=g?as(atob(g)):Za("");var P=Za(""),K=(p=this.getConsoleConfig())===null||p===void 0?void 0:p["presence.occupancy"];p=BigInt(Number(K??Ma("PRESENCE_THRESHOLD")));var M=K=!1;if(l||C?(K=!(!l||C),M=!1):(M=K=!0,p=BigInt(-1)),s=Za(s),this.cbPtrMap4WhoNowByRpc.set(s,{resolvePromise:B,rejectPromise:Q,operation:S,countOnly:M,keysOnly:K}),s=X._rte_crdt_client_get_remote(this.clientPtr,O,g,P,p,K,M,this.cbPtr4WhoNowByRpc,s),this.getLoginSockets().map(function(U){y.sendPing(U)}),this.log("parameter: ".concat({coll:w,key:Qd(g),rangeEnd:Qd(P),limit:p,keysOnly:K,countOnly:M}," of whoNow")),ib(O),ib(P),ib(g),s!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get-remote, ret is ").concat(s)),_=Jc(s),new ja(S,[_.reason],_.code);return this.log("".concat("Sync Request Start",": ").concat(S)),_}},{key:"requestRPCWhereNow",value:function(s){var g,l,C=this,p=new Promise(function(O,P){g=O,l=P}),B=ra.whereNow,Q=Za("_keepalive_"),y="/Vendors/"+this.vid+"/Presence/"+s,_=Za(y),S="".concat(y);S=as(S);var w=BigInt(1);if(s=Za(s),this.cbPtrMap4WhereNowByRpc.set(s,{resolvePromise:g,rejectPromise:l,operation:B,key:y}),s=X._rte_crdt_client_get_remote(this.clientPtr,Q,_,S,w,!1,!1,this.cbPtr4WhereNowByRpc,s),this.getLoginSockets().map(function(O){C.sendPing(O)}),this.log("parameter: ".concat({coll:"_keepalive_",key:y,rangeEnd:Qd(S),limit:w}," of whereNow")),ib(Q),ib(_),ib(S),s!==Sa.ErrOK)throw this.warn("".concat("Sync Api Error",": rte_crdt_client_get_remote, ret is ").concat(s)),p=Jc(s),new ja(B,[p.reason],p.code);return this.log("".concat("Sync Request Start",": ").concat(B)),p}},{key:"getUsersByChannel",value:function(s){var g;s=(g=this.withPresenceChannels.get(s))===null||g===void 0?void 0:g.crdtCollectionPtr,g=X._rte_crdt_collection_iterator_create(s,null,BigInt(0)),s=[];for(var l=X._malloc(4),C=X._malloc(4),p=0;;p++){var B=X._rte_crdt_collection_iterator_next(g,l,C);if(B!==Sa.ErrOK){X._rte_crdt_collection_iterator_destroy(g),B!==Sa.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_collection_iterator_next, ret is ").concat(B));break}B=X.getValue(C,"i64");var Q=X.getValue(l,"i32"),y=Qd(Q);s.push({userIdPtr:Q,userIdLen:B,userId:y})}return X._free(l),X._free(C),s}},{key:"updatePresenceStateCache",value:function(s,g,l){var C,p=(C=this.localStateCache.get(s))!==null&&C!==void 0?C:new Map;if(g===ra.presenceSetState)for(var B in l)p.set(B,l[B]);else if(g===ra.presenceRemoveState)if(Object.keys(l).length===0)p.clear();else for(var Q in l)p.delete(Q);this.localStateCache.set(s,p)}},{key:"subscribe",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K=this;return Z.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return B=new Promise(function(U,F){C=U,p=F}),this.isInitBusy=!0,Q=this.getCrdtCollectionPtr(l),y=Za(l),this.cbPtrMap4SubscribeChannel.set(y,{prefixChannelName:l,crdtCollectionPtr:Q,rejectPromise:p,resolvePromise:C}),_=X._rte_crdt_collection_init(Q,this.cbPtr4SubscribeChannel,y),this.getLoginSockets().map(function(U){K.sendPing(U)}),_!==Sa.ErrOK?(S="".concat("Sync Api Error",": rte_crdt_collection_init, ret is ").concat(_),this.warn(S),this.emit("initDocFailure",l),w=Jc(_),O=w.code,P=w.reason,p(new ja(ra.subscribe,[P+S],O))):this.log("".concat("Sync Request Start",": subscribe channel")),this.isInitBusy=!1,M.abrupt("return",B);case 10:case"end":return M.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"attend",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U=this;return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(B=new Promise(function(W,ae){C=W,p=ae}),!this.withoutPresenceChannels.has(l)){F.next=5;break}return this.warn("attend channel(".concat(Ca(l),") already.")),C(!0),F.abrupt("return",B);case 5:return Q="/Vendors/"+this.vid+"/ChannelPresence/"+l+"/Users",y=Za(Q),_=Za(this.context.uid),S=Za(l),this.cbPtrMap4AttendChannel.set(S,{prefixChannelName:l,remoteChannelCollPtr:y,docPtr:_,rejectPromise:p,resolvePromise:C}),this.withoutPresenceChannels.set(l,{writeable:!1,docPtr:_,remoteChannelCollPtr:y}),(w=X._rte_crdt_client_put_doc_remote(this.clientPtr,y,_,this.cbPtr4AttendChannel,S))!==Sa.ErrOK?(O="".concat("Sync Api Error",": rte_crdt_client_put_doc_remote, ret is ").concat(w),this.warn(O),this.emit("initDocFailure",l),P=Jc(w),K=P.code,M=P.reason,p(new ja(ra.subscribe,[M+O],K))):(this.log("".concat("Sync Request Start",": attend channel.")),this.getLoginSockets().map(function(W){U.sendPing(W)})),F.abrupt("return",B);case 14:case"end":return F.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"clearChannelCacheAPointers",value:function(s,g){if(g)g=this.withPresenceChannels.get(s).collNamePtr,X._rte_crdt_client_delete_coll(this.clientPtr,g),ib(g),this.withPresenceChannels.delete(s),(g=this.withPresenceCbContextPtrs.get(s))&&(this.cbPtrMap4InitCollByCrdt.delete(g),ib(g)),this.withPresenceCbContextPtrs.delete(s),this.log("Delete channel(".concat(Ca(s),") document succeed by crdt.")),this.clearIntervalById(this.intervalTimerId.get(s)),this.clearIntervalCacheOfChannel(s);else{var l=this.withoutPresenceChannels.get(s);g=l.remoteChannelCollPtr,l=l.docPtr,this.withoutPresenceChannels.delete(s),ib(g),ib(l)}this.localStateCache.delete(s)}},{key:"delCbPtr4DelChannel",value:function(){X.removeFunction(this.cbPtr4SetStateByRpc),X.removeFunction(this.cbPtr4GetStateByRpc),X.removeFunction(this.cbPtr4WhoNowByRpc),X.removeFunction(this.cbPtr4WhereNowByRpc),X.removeFunction(this.cbPtr4AttendChannel),X.removeFunction(this.cbPtr4DelChannelByRpc),X.removeFunction(this.cbPtr4SubscribeChannel),X.removeFunction(this.cbPtr4InitCollByCrdt),X.removeFunction(this.cbPtr4RemoveStateByRpc)}},{key:"absent",value:function(s,g){var l,C=this,p=new Promise(function(_,S){l=_});if(g){var B=Za(this.context.uid),Q=this.withPresenceChannels.get(s).crdtCollectionPtr;X._rte_crdt_collection_delete_doc(Q,B,je(this.context.uid)),Q=Za("/Vendors/"+this.vid+"/ChannelPresence/"+s+"/Users"),X._rte_crdt_client_stop_keepalive(this.clientPtr,Q,B),ib(Q),ib(B),this.getLoginSockets().map(function(_){C.sendPing(_)}),this.clearChannelCacheAPointers(s,g),l(!0)}else{var y=this.withoutPresenceChannels.get(s);if(B=y.remoteChannelCollPtr,Q=y.docPtr,!(y=y.writeable))return this.warn("channel(".concat(Ca(s),") is not writeable, can not delete, writeable value is ").concat(y,".")),l(!1),p;X._rte_crdt_client_stop_keepalive(this.clientPtr,B,Q),y=Za(s),this.cbPtrMap4DelChannelByRpc.set(y,{resolvePromise:l,prefixChannelName:s}),(B=X._rte_crdt_client_delete_doc_remote(this.clientPtr,B,Q,this.cbPtr4DelChannelByRpc,y))!==Sa.ErrOK?(this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(B)),l(!1)):this.log("".concat("Sync Request Start",": start delete channel(").concat(Ca(s),") by rpc.")),this.clearChannelCacheAPointers(s,g),this.getLoginSockets().map(function(_){C.sendPing(_)})}return this.subscribedPresenceChannels.delete(s),p}},{key:"getCrdtCollectionPtr",value:function(s){var g=Za("/Vendors/"+this.vid+"/ChannelPresence/"+s+"/Users"),l=sh(),C=Za(l);return X._rte_crdt_client_create_coll(this.clientPtr,g,C,je(l)),ib(C),l=X._rte_crdt_client_get_coll(this.clientPtr,g),this.withPresenceChannels.set(s,{writeable:!1,crdtCollectionPtr:l,collNamePtr:g,channelType:$c(s).channelType}),l}},{key:"emitPresenceSnapshot",value:function(s,g){var l=this,C=X._rte_crdt_collection_iterator_create(g,null,BigInt(0));g=[];for(var p=X._malloc(4),B=X._malloc(4),Q=0;;Q++){var y=X._rte_crdt_collection_iterator_next(C,p,B);if(y!==Sa.ErrOK){y!==Sa.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_collection_iterator_next, ret is ").concat(y)),X._rte_crdt_collection_iterator_destroy(C);break}y=X.getValue(B,"i64");var _=X.getValue(p,"i32"),S=X.UTF8ToString(_);g.push({userIdPtr:_,userIdLen:y,userId:S})}X._free(p),X._free(B),this.log("users(".concat(g.map(function(P){return Ca(P.userId)}),") in channel(").concat(Ca(s),"), totalCount: ").concat(g.length)),C=$c(s);var w=[];C={eventType:"SNAPSHOT",channelType:C.channelType,channelName:C.channelName,publisher:"",stateChanged:{},snapshot:w,interval:null};var O=new Map;this.timeoutInSnapshot.set(s,new Set),g.forEach(function(P){var K=P.userId;P=l.getStatesWithDocId(s,P.userIdPtr,P.userIdLen,{userId:K}).states,l.timeoutInSnapshot.get(s).has(K)?l.log("snapshot: user(".concat(Ca(K),") timeout, ignore.")):(w.push({userId:K,states:P,statesCount:Object.keys(P).length}),O.set(K,P))}),this.channelsUsersStates.set(s,O),C.snapshot=w,this.emit("presence",C)}},{key:"getStatesWithDocId",value:function(s,g,l,C){var p;this.log("query crdt document by uid(".concat(Ca(X.UTF8ToString(g)),")."));var B={},Q=(p=this.withPresenceChannels.get(s))===null||p===void 0?void 0:p.crdtCollectionPtr;if(!(p=X._rte_crdt_collection_ref_doc(Q,g,l)))return this.warn("".concat("Sync Api Error",": rte_crdt_collection_ref_doc, docInstancePtr is ").concat(p)),{states:B};if(g=X._rte_crdt_path_create(),l=X._rte_crdt_nested_value_create(),(p=X._rte_crdt_document_get(p,null,g,l))!==Sa.ErrOK&&(this.warn("".concat("Sync Api Error",": rte_crdt_document_get, ret is ").concat(p)),C.operation))throw s=Jc(p),new ja(C.operation,[s.reason],s.code);return X._rte_crdt_path_destroy(g),Ma("PRINT_TICK_LOG")&&X._rte_crdt_nested_value_print(l),X._rte_crdt_nested_value_is_map(l)?B=this.getStatesWithMapNested(l,C!=null&&C.userId?{userId:C.userId,prefixChannelName:s,querySnapshot:!0}:void 0):this.warn("nested value is not a map in func getStatesWithDocId."),X._rte_crdt_nested_value_destroy(l),{states:B}}},{key:"isScalarValueWithCrdt",value:function(s){return!!X._rte_crdt_value_is_scalar(s)}},{key:"isScalarValueWithNested",value:function(s){return!!X._rte_crdt_nested_value_is_scalar(s)}},{key:"getScalarValuePtrWithCrdt",value:function(s){return X._rte_crdt_value_get_scalar(s)}},{key:"getScalarValuePtrWithNested",value:function(s){return X._rte_crdt_nested_value_get_scalar(s)}},{key:"scalarValueIsBytes",value:function(s){return!!X._rte_crdt_scalar_value_is_bytes(s)}},{key:"getStatesWithMapNested",value:function(s,g){X._rte_crdt_nested_value_print(s);var l={};s=X._rte_crdt_nested_value_iterator_create(s);for(var C=X._malloc(4),p=X._malloc(4),B=X._malloc(4),Q=[],y=0;;y++){var _=X._rte_crdt_nested_value_iterator_next_key_value(s,C,p,B);if(_!==Sa.ErrOK){_!==Sa.ErrNoMoreElems&&this.log("".concat("Sync Api Error",": rte_crdt_nested_value_iterator_next_key_value, ret is ").concat(_)),X._rte_crdt_nested_value_iterator_destroy(s);break}if(X.getValue(p,"i64"),(_=Hj(C))==="_expired")this.warn("get key(".concat("_expired",") in func getStatesWithMapNested.")),g!=null&&g.querySnapshot&&this.timeoutInSnapshot.get(g==null?void 0:g.prefixChannelName).add(g==null?void 0:g.userId);else if(Qh(_[0])){var S=X.getValue(B,"i32");if(this.isScalarValueWithNested(S)){var w=this.getScalarValuePtrWithNested(S);if(this.scalarValueIsBytes(w)){S=X._malloc(4);var O=X._malloc(4);(w=X._rte_crdt_scalar_value_get_bytes(w,S,O))!==Sa.ErrOK?this.warn("getBytes failure in func getStatesWithMapNested. ".concat("Sync Api Error",": rte_crdt_scalar_value_get_bytes, ret is ").concat(w)):(X.getValue(O,"i64"),w=Hj(S),l[_]=w),X._free(S),X._free(O)}else this.warn("scalar value is not a bytes in func getStatesWithMapNested.")}else X._rte_crdt_nested_value_is_map(S)?this.warn("value is a map in func getStatesWithMapNested."):X._rte_crdt_nested_value_is_list(S)?this.warn("value is a list in func getStatesWithMapNested."):this.warn("value is not scalar, map or list in func getStatesWithMapNested.")}else Q.push(_)}return 0<Q.length&&this.log("".concat("Sync Invalid Data",": ").concat(Q," in func getStatesWithMapNested.")),X._free(C),X._free(p),X._free(B),l}},{key:"getChannelsWithMapNested",value:function(s){X._rte_crdt_nested_value_print(s);var g=[];s=X._rte_crdt_nested_value_iterator_create(s);for(var l=X._malloc(4),C=X._malloc(4),p=X._malloc(4),B=[],Q=0;;Q++){var y=X._rte_crdt_nested_value_iterator_next_key_value(s,l,C,p);if(y!==Sa.ErrOK){y!==Sa.ErrNoMoreElems&&this.warn("".concat("Sync Api Error",": rte_crdt_nested_value_iterator_next_key_value, ret is ").concat(y)),X._rte_crdt_nested_value_iterator_destroy(s);break}X.getValue(C,"i64"),Qh((y=Hj(l))[0])?(y=$c(y),g.push({channelName:y.channelName,channelType:y.channelType})):B.push(y)}return 0<B.length&&this.log("".concat("Sync Invalid Data",": ").concat(B," when performing whereNow")),X._free(l),X._free(C),X._free(p),g}},{key:"updateClientKey",value:function(s){var g=X._rte_crdt_client_set_key;s=Za(s),g(this.clientPtr,s),ib(s)}},{key:"renewKey",value:function(s){var g,l,C=this,p=new Promise(function(S,w){g=S,l=w}),B=ra.renewToken,Q=X.addFunction(function(S,w){S!==Sa.ErrOK?(C.warn("".concat("Sync Callback Error",": rte_crdt_client_renew_key_remote, ret is ").concat(S)),l(!1)):(g(!0),C.log("".concat("Sync Callback emitted ",": ").concat(B," by rpc succeed. "))),C.emit("endOfCallback",Q)},"vii"),y=Za(s),_=X._rte_crdt_client_renew_key_remote(this.clientPtr,y,Q,0);if(ib(y),_!==Sa.ErrOK)throw s=(p=Jc(_)).code,p=p.reason,this.warn("".concat("Sync Api Error",": rte_crdt_client_renew_key_remote, ret is ").concat(_)),new ja(B,[p],s);return this.log("".concat("Sync Request Start",": ").concat(B)),this.updateClientKey(s),p}}]),e}(Kc),Sb,Ch=jp.SubscribeTopicErrorCode,bN=(Sb=function(t){function e(s,g,l,C,p){Xa(this,e);var B=i.call(this,s,"StreamChannel",!0);E(J(B),"channelName",void 0),E(J(B),"userId",void 0),E(J(B),"appId",void 0),E(J(B),"rtm",void 0),E(J(B),"getSession",void 0),E(J(B),"getSyncSession",void 0),E(J(B),"isJoinedChannel",!1),E(J(B),"rtcClient",void 0),E(J(B),"localDataChannelMap",new Map),E(J(B),"subscribeInfoMap",new Map),E(J(B),"preSubscribeInfoMap",new Map),E(J(B),"remoteUserMap",new Map),E(J(B),"remoteDatachannelMap",new Map),E(J(B),"rtcClients",new Map),E(J(B),"isReuseRtcClient",!1),E(J(B),"internalEmitter",new yb),E(J(B),"funcMap4CloseTopic",new Map),E(J(B),"addDcListener",function(Q,y,_,S,w){var O=J(B);y==null||y.on("open",function(){B.log("".concat(B.channelName,"(").concat(_,") remote dc opened."))});var P,K=(P=wa(Z.mark(function M(U){return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(B.warn("".concat(B.channelName,"(").concat(_,") remote dc closed. error is ").concat(U,", state is ").concat(O.rtcClient.connectionState)),O.rtcClient.connectionState==="CONNECTED"){F.next=3;break}return F.abrupt("return");case 3:return F.next=5,B.handleDcError(Q,_,y,S,w);case 5:case"end":return F.stop()}},M)})),function(M){return P.apply(this,arguments)});B.funcMap4CloseTopic.set("".concat(_,":").concat(Q),K),y==null||y.on("close",K),y==null||y.on("error",function(){var M=wa(Z.mark(function U(F){return Z.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(B.warn("error occurs in ".concat(B.channelName,"(").concat(_,") remote dc. error is ").concat(F,", state is ").concat(O.rtcClient.connectionState)),O.rtcClient.connectionState==="CONNECTED"){W.next=3;break}return W.abrupt("return");case 3:return W.next=5,B.handleDcError(Q,_,y,S,w);case 5:case"end":return W.stop()}},U)}));return function(U){return M.apply(this,arguments)}}()),Q==="sub"&&w&&(y.on("message",w),B.log("".concat(B.channelName,"(").concat(_,") msg event added")))}),B.channelName=g.channelName,B.appId=g.appId,B.userId=g.userId,B.rtm=l,B.getSession=Gj(C),B.getSyncSession=$r(p),B.setMaxListeners(512),B.internalEmitter.setMaxListeners(512),Pc.default.setParameter("ENABLE_DATASTREAM_2",!0),Pc.default.setParameter("AP_RTM",!0),Pc.default.setParameter("DATASTREAM_MAX_RETRANSMITS",0),B.isReuseRtcClient=B.rtcClients.has(B.channelName),B.log("Create streamChannel, isReuseRtcClient: ".concat(B.isReuseRtcClient));try{B.rtcClient=B.isReuseRtcClient?B.rtcClients.get(B.channelName):Pc.default.createClient({codec:"vp8",mode:"rtc"}),B.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:3})}catch(Q){throw s=Q.code,l=(g=Og(yc[s])).code,new ja(ra.createStreamChannel,[g.reason+"create streamChannel failure, server code is ".concat(s)],l)}return B.addAllRtcListeners(),B}rb(e,t);var n,i=sb(e);return Db(e,[{key:"handleConnectionStateChange",value:(n=wa(Z.mark(function s(g,l,C){var p,B,Q,y,_,S;return Z.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(g!=="DISCONNECTED"){w.next=11;break}return this.clearLocalCache(),this.isJoinedChannel=!1,this.internalEmitter.emit("stream-channel-leaved",this.channelName),this.removeAllRtcListeners(),Q=mc(this.channelName,"STREAM"),y=this.getSyncSession().withPresenceChannels.has(Q)||this.getSyncSession().withoutPresenceChannels.has(Q),_=(p=(B=this.getSession().subscribedChannels.get(Q))===null||B===void 0?void 0:B.withPresence)!==null&&p!==void 0&&p,this.getSession().subscribedChannels.delete(Q),w.next=11,this.unsubPresence(Q,y,_);case 11:g==="CONNECTED"&&(this.isJoinedChannel=!0),S={channelName:this.channelName,state:g,reason:C??g==="CONNECTED"?"OK":""},this.rtm.emit("status",S);case 15:case"end":return w.stop()}},s,this)})),function(s,g,l){return n.apply(this,arguments)})},{key:"unsubPresence",value:function(){var s=wa(Z.mark(function g(l,C,p){return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(B.t0=C,!B.t0){B.next=4;break}return B.next=4,this.getSyncSession().absent(l,p);case 4:case"end":return B.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"unsubLockAMeta",value:function(){var s=wa(Z.mark(function g(){var l,C,p,B,Q,y,_;return Z.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:Q=mc(this.channelName,"STREAM"),y=(l=(C=this.getSession().subscribedChannels.get(Q))===null||C===void 0?void 0:C.withMetadata)!==null&&l!==void 0&&l,_=(p=(B=this.getSession().subscribedChannels.get(Q))===null||B===void 0?void 0:B.withLock)!==null&&p!==void 0&&p,y&&this.getSession().requestUnsubscribeChannelMetadata(Q),_&&this.getSession().requestUnsubscribeLock(Q),this.getSession().emit("unSubChannelLock",Q),this.getSession().emit("unSubChannelMetadata",Q);case 7:case"end":return S.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"handleUserPublishedList",value:function(s){var g=[];s.forEach(function(l){var C;(C=l.dataChannels)===null||C===void 0||C.forEach(function(p){p.getConfig()&&g.push({user:l,config:p.getConfig()})})}),g.length===0?this.rtm.emit("topic",{eventType:"SNAPSHOT",channelName:this.channelName,publisher:"",topicInfos:[],totalTopics:0}):this.handleReceivedDcs(g,"","SNAPSHOT")}},{key:"handleUserPublished",value:function(s,g,l){g==="datachannel"&&l!==void 0&&this.handleReceivedDcs([{user:s,config:l}],s.uid.toString(),"REMOTE_JOIN")}},{key:"handleUserUnPublished",value:function(s,g,l){var C,p;if(g==="datachannel"&&(g=l==null?void 0:l.metadata)!==void 0){g=(l=this.decodeMetadata(g)).topic,l=l.metadata;var B=s.uid.toString();((C=s.dataChannels)===null||C===void 0?void 0:C.length)===0&&this.remoteUserMap.delete(B),(s=this.getInitTopicEventData("REMOTE_LEAVE",this.channelName,B,1)).topicInfos.push({publishers:[{publisherUserId:B,publisherMeta:l}],topicName:g,totalPublisher:1}),this.rtm.emit("topic",s),this.deleteRemoteDc(g,B),(p=this.subscribeInfoMap.get(g))!==null&&p!==void 0&&p.has(B)&&(this.log("sub topic -> preSub topic, ".concat(g,", ").concat(B)),this.addPreSub(g,B),this.deleteSub(g,B))}}},{key:"handleTokenPrivilegeWillExpire",value:function(){this.rtm.emit("tokenPrivilegeWillExpire",this.channelName)}},{key:"removeAllRtcListeners",value:function(){this.rtcClient.off("connection-state-change",this.handleConnectionStateChange),this.rtcClient.off("published-user-list",this.handleUserPublishedList),this.rtcClient.off("user-published",this.handleUserPublished),this.rtcClient.off("user-unpublished",this.handleUserUnPublished),this.rtcClient.off("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire)}},{key:"addAllRtcListeners",value:function(){this.rtcClient.on("connection-state-change",this.handleConnectionStateChange.bind(this)),this.rtcClient.on("published-user-list",this.handleUserPublishedList.bind(this)),this.rtcClient.on("user-published",this.handleUserPublished.bind(this)),this.rtcClient.on("user-unpublished",this.handleUserUnPublished.bind(this)),this.rtcClient.on("token-privilege-will-expire",this.handleTokenPrivilegeWillExpire.bind(this))}},{key:"handleReceivedDcs",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r;return Z.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:B=new Map,Q=0;case 2:if(!(Q<l.length)){_t.next=23;break}if(S=l[Q],w=S.user,O=S.config,(P=O==null?void 0:O.metadata)!==void 0){_t.next=8;break}return this.log("meta of datachannel is invalid. user(".concat(w,"), channel(").concat(this.channelName,"), dc(").concat(O,")")),_t.abrupt("continue",20);case 8:if(K=w.uid.toString(),this.remoteUserMap.set(K,w),M=this.decodeMetadata(P),U=M.topic,F=M.metadata,W=O==null?void 0:O.id,B.has(U)||B.set(U,[]),(y=B.get(U))===null||y===void 0||y.push({publisherUserId:K,publisherMeta:F}),this.addRemoteDc(U,K,F,W),(_=this.preSubscribeInfoMap.get(U))===null||_===void 0||!_.has(K)){_t.next=20;break}return _t.next=20,this.handlePreSubscribeTopic(U,K,(ae=this.remoteDatachannelMap.get(U))===null||ae===void 0||(_r=ae.get(K))===null||_r===void 0?void 0:_r.id);case 20:Q++,_t.next=2;break;case 23:this.emitTopic(C,p,B);case 24:case"end":return _t.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"emitTopic",value:function(s,g,l){var C=this.getInitTopicEventData(g,this.channelName,s,l.size);l.forEach(function(p,B){C.topicInfos.push({publishers:p,topicName:B,totalPublisher:p.length})}),C.topicInfos.length===0&&this.log("length of topicInfos is 0 in emitTopic."),this.rtm.emit("topic",C)}},{key:"getInitTopicEventData",value:function(s,g,l,C){return{eventType:s,channelName:g,publisher:l,topicInfos:[],totalTopics:C}}},{key:"userIdToRTCRemoteUser",value:function(s){if(typeof this.userId=="number"){var g=void 0;g==null?g=0:g&&(g=+g),s=CF((s==null?"":vl(s)).replace(BF,""),g||0)}return{uid:s,hasAudio:!1,hasVideo:!1,dataChannels:[]}}},{key:"addRemoteDc",value:function(s,g,l,C){this.remoteDatachannelMap.has(s)||this.remoteDatachannelMap.set(s,new Map),(s=this.remoteDatachannelMap.get(s)).has(g)||s.set(g,{meta:l,id:C})}},{key:"deleteRemoteDc",value:function(s,g){var l,C;(l=this.remoteDatachannelMap.get(s))===null||l===void 0||l.delete(g),(C=this.remoteDatachannelMap.get(s))!==null&&C!==void 0&&C.size||this.remoteDatachannelMap.delete(s)}},{key:"addPreSub",value:function(s,g){var l;this.preSubscribeInfoMap.has(s)||this.preSubscribeInfoMap.set(s,new Set),(l=this.preSubscribeInfoMap.get(s))===null||l===void 0||l.add(g)}},{key:"deletePreSub",value:function(s,g){var l,C;(l=this.preSubscribeInfoMap.get(s))===null||l===void 0||l.delete(g),(C=this.preSubscribeInfoMap.get(s))!==null&&C!==void 0&&C.size||this.preSubscribeInfoMap.delete(s)}},{key:"addSub",value:function(s,g){var l;this.subscribeInfoMap.has(s)||this.subscribeInfoMap.set(s,new Set),(l=this.subscribeInfoMap.get(s))===null||l===void 0||l.add(g)}},{key:"deleteSub",value:function(s,g){var l,C;(l=this.subscribeInfoMap.get(s))===null||l===void 0||l.delete(g),(C=this.subscribeInfoMap.get(s))!==null&&C!==void 0&&C.size||this.subscribeInfoMap.delete(s)}},{key:"decodeMetadata",value:function(s){return Vw.decode(new TextEncoder().encode(s))}},{key:"decodeMessage",value:function(s){return Ww.decode(s)}},{key:"encodeMessage",value:function(s,g,l,C,p){return Ww.encode(lb({messageType:C,payload:s,encrypted:l,payloadLength:g},p?{customType:p}:{})).finish()}},{key:"onDcMessage",value:function(s,g,l){var C=this,p=function(B){var Q=C.decodeMessage(new Uint8Array(B)),y=Q.encrypted,_=Q.payloadLength;B=Q.messageType;var S=Q.payload;Q=Q.customType,y&&!C.rtm.key?C.warn("Received a message with encryption but the key is not ready yet."):!y&&C.rtm.key?C.warn("Received a message without encryption but the key is ready."):(y=B===1?new TextDecoder().decode(y?pj(S,C.rtm.key,C.rtm.iv,C.rtm.keyLength).slice(0,_):S):y?pj(S,C.rtm.key,C.rtm.iv,C.rtm.keyLength).slice(0,_):S,C.rtm.emit("message",{channelName:C.channelName,channelType:"STREAM",topicName:g,message:y,publisher:l,messageType:B===1?"STRING":"BINARY",customType:Q}))};this.addDcListener("sub",s,g,l,p),this.internalEmitter.on("unsubscribeTopicMessage",function(B,Q){B===g&&Q===l&&s.off("message",p)})}},{key:"handlePreSubscribeTopic",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_;return Z.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Qk(this.rtcClient.subscribe(this.remoteUserMap.get(C)||this.userIdToRTCRemoteUser(C),"datachannel",p),function(w){return w});case 2:(B=S.sent).isErr()&&(y=B==null||(Q=B.error)===null||Q===void 0?void 0:Q.code,this.log("subscribe predictive user(".concat(Ca(C),") in topic(").concat(l,") failed, code is ").concat(y))),B.isOk()&&(_=B.value,this.log("pre-subtopic ".concat(this.channelName,"(").concat(l,") succeed.")),this.onDcMessage(_,l,C),this.addSub(l,C),this.deletePreSub(l,C));case 5:case"end":return S.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"patchSubscribeTopic",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w=this;return Z.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return Q={succeedUsers:[],failedUsers:[],failedDetails:[],timeToken:0,topicName:l},y=64-(((p=this.preSubscribeInfoMap.get(l))===null||p===void 0?void 0:p.size)||0)-(((B=this.subscribeInfoMap.get(l))===null||B===void 0?void 0:B.size)||0),_=gd(C).filter(function(P,K){return K+1>y&&(Q.failedDetails.push({user:P,errorCode:Ch.SUB_USER_EXCEED_LIMITATION,timeToken:0,topicName:l}),Q.failedUsers.push(P)),K+1<=y}),O.next=5,Promise.all(_.map(function(P){var K,M;return Qk(w.rtcClient.subscribe(w.remoteUserMap.get(P)||w.userIdToRTCRemoteUser(P),"datachannel",(K=w.remoteDatachannelMap.get(l))===null||K===void 0||(M=K.get(P))===null||M===void 0?void 0:M.id),function(U){return U})}));case 5:return S=O.sent,S.map(function(P,K){return{userId:_[K],result:P}}).forEach(function(P){if(P.result.isErr()){var K,M,U,F=(K=P.result.error)===null||K===void 0?void 0:K.code;Q.failedDetails.push({user:P.userId,errorCode:Ch.UNKNOWN_ERROR,reason:"Subscribe topic failure, web_rtc code is ".concat(F,", the reason of web_rtc is that ").concat(P==null||(M=P.result)===null||M===void 0||(U=M.error)===null||U===void 0?void 0:U.toString()),timeToken:0,topicName:l}),Q.failedUsers.push(P.userId),w.warn(P.result,"WEB_RTCerror"),w.log("subscribe user(".concat(P.userId,") in topic(").concat(l,") failed, code is ").concat(F))}else Q.succeedUsers.push(P.userId),K=P.result.value,w.log("subtopic ".concat(w.channelName,"(").concat(l,") succeed.")),w.onDcMessage(K,l,P.userId)}),O.abrupt("return",Q);case 9:case"end":return O.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"clearLocalCache",value:function(){this.localDataChannelMap=new Map,this.remoteDatachannelMap=new Map,this.preSubscribeInfoMap=new Map,this.subscribeInfoMap=new Map,this.remoteUserMap=new Map}},{key:"checkIsJoinedChannel",value:function(s){if(!this.isJoinedChannel){this.log("".concat(this.channelName," have not joined stream channel when ").concat(s));var g=V(G.RTM_ERROR_CHANNEL_NOT_JOINED);throw new ja(s,[g.reason],g.code)}}},{key:"join",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka,_u,Uc,_E,Bh,_I,zf,oQ,gQ,yQ,NQ,uQ,_B,IQ,SQ,dQ,pQ=this;return Z.wrap(function(aQ){for(;;)switch(aQ.prev=aQ.next){case 0:if(K=ra.join,this.validateRtmConnection(K),(C=l)!==null&&C!==void 0&&C.token&&Zl(l.token,this.appId,K,function(Ah){pQ.warn(Ah)}),((p=l)===null||p===void 0?void 0:p.token)!==""){aQ.next=6;break}throw M=V(G.RTM_ERROR_INVALID_TOKEN),U=M.code,F=M.reason,new Ja(K,[F],U);case 6:if(!(100<=this.rtm.streamChannelList.length)){aQ.next=10;break}throw this.log("exceed join channel limit ".concat(100)),W=V(G.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION),ae=W.code,_r=W.reason,new ja(K,[_r],ae);case 10:if(l=lb(lb({},l),{},{withLock:(B=(Q=l)===null||Q===void 0?void 0:Q.withLock)!==null&&B!==void 0&&B,withMetadata:(y=(_=l)===null||_===void 0?void 0:_.withMetadata)!==null&&y!==void 0&&y,withPresence:(S=(w=l)===null||w===void 0?void 0:w.withPresence)===null||S===void 0||S}),this.validateSessionExist(K),_t={timeToken:0},!this.isJoinedChannel){aQ.next=16;break}return this.log("".concat(this.channelName," has already joined channel")),aQ.abrupt("return",_t);case 16:_A=!1,na=Pc.default.__CLIENT_LIST__.map(function(Ah){return"channel(".concat(Ah.channelName,"), state: ").concat(Ah.connectionState,"}")}),this.log("FusionSDK: ".concat(!1,". clientList of rtc: ").concat(na)),aQ.next=28;break;case 21:if(!(oa<Pc.default.__CLIENT_LIST__.length)){aQ.next=28;break}if(Pc.default.__CLIENT_LIST__[oa].channelName!==this.channelName){aQ.next=25;break}return _A=!0,aQ.abrupt("break",28);case 25:oa++,aQ.next=21;break;case 28:aQ.prev=28,this.log("Join streamChannel, isReuseRtcClient: ".concat(_A)),this.internalEmitter.emit("stream-channel-joined",this.channelName),fa=(ha=this.rtcClients.get(this.channelName))===null||ha===void 0?void 0:ha.connectionState,aQ.next=36;break;case 35:this.handleUserPublishedList(this.rtcClient.remoteUsers);case 36:if(fa==="CONNECTED"||fa==="CONNECTING"){aQ.next=44;break}return ga=(Da=l)===null||Da===void 0?void 0:Da.token,aQ.next=40,this.rtcClient.join(this.appId,this.channelName,ga||null,this.userId);case 40:if(aQ.t0=!0,!aQ.t0){aQ.next=44;break}return aQ.next=44,this.rtcClient.setRTMConfig({apRTM:!0,rtmFlag:1});case 44:this.isJoinedChannel=!0,aQ.next=56;break;case 47:if(aQ.prev=47,aQ.t1=aQ.catch(28),this.internalEmitter.emit("stream-channel-leaved",this.channelName),(ma=aQ.t1.code)!=="CAN_NOT_GET_GATEWAY_SERVER"){aQ.next=54;break}throw Ra=V(G.RTM_ERROR_INVALID_TOKEN),$a=Ra.code,Ka=Ra.reason,new ja(K,[Ka],$a);case 54:throw _u=Og(yc[ma]),Uc=_u.code,_E=_u.reason,new ja(ra.createStreamChannel,[_E+"Join channel failure, server code is ".concat(ma)],Uc);case 56:if(Bh=mc(this.channelName,"STREAM"),(O=l)===null||O===void 0||!O.withMetadata||this.rtm.consoleConfig["storage.channel_subscribe_enabled"]!=="true"){aQ.next=61;break}return this.rtm.firstSubscribeChannel.add(Bh),aQ.next=61,(_I=this.getSession())===null||_I===void 0?void 0:_I.requestSubscribeChannelMetadata(Bh,"JOIN");case 61:if((P=l)===null||P===void 0||!P.withLock){aQ.next=64;break}return aQ.next=64,(zf=this.getSession())===null||zf===void 0?void 0:zf.requestSubscribeLock(Bh);case 64:if(l&&this.getSession().subscribedChannels.set(Bh,l),this.rtm.syncConnectionState==="CONNECTED"){aQ.next=68;break}throw oQ=V(G.RTM_ERROR_PRESENCE_NOT_CONNECTED),gQ=oQ.code,yQ=oQ.reason,new cb(K,[yQ],gQ);case 68:if(NQ=V(G.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),uQ=NQ.code,_B=NQ.reason,aQ.prev=69,(IQ=l)===null||IQ===void 0||!IQ.withPresence){aQ.next=75;break}return aQ.next=73,(SQ=this.getSyncSession())===null||SQ===void 0?void 0:SQ.subscribe(Bh);case 73:aQ.next=77;break;case 75:return aQ.next=77,(dQ=this.getSyncSession())===null||dQ===void 0?void 0:dQ.attend(Bh);case 77:aQ.next=82;break;case 79:throw aQ.prev=79,aQ.t2=aQ.catch(69),new si(K,[_B+aQ.t2],uQ);case 82:return aQ.abrupt("return",_t);case 83:case"end":return aQ.stop()}},g,this,[[28,47],[69,79]])}));return function(g){return s.apply(this,arguments)}}()},{key:"renewStreamChannelToken",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q;return Z.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.prev=1,y.next=4,this.rtcClient.renewToken(l);case 4:y.next=11;break;case 6:throw y.prev=6,y.t0=y.catch(1),C=y.t0.code,p=Og(yc[C]),B=p.code,Q=p.reason,new ja(ra.createStreamChannel,[Q+"RenewToken of streamChannel failure, server code is ".concat(C)],B);case 11:case"end":return y.stop()}},g,this,[[1,6]])}));return function(g){return s.apply(this,arguments)}}()},{key:"leave",value:function(){var s=wa(Z.mark(function g(){var l,C,p,B,Q,y,_,S;return Z.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return l=ra.leave,this.validateRtmConnection(l),this.validateSessionExist(l),this.checkIsJoinedChannel(l),C={timeToken:0},B=new Promise(function(O,P){p=O}),this.log("Leave streamChannel, isReuseRtcClient: ".concat(this.isReuseRtcClient)),w.prev=7,w.next=10,Promise.all([this.unsubLockAMeta(),this.rtcClient.leave()]);case 10:p(C),w.next=18;break;case 13:throw w.prev=13,w.t0=w.catch(7),Q=w.t0.code,y=Og(yc[Q]),_=y.code,S=y.reason,new ja(ra.createStreamChannel,[S+"Leave channel failure, server code is  ".concat(Q)],_);case 18:return w.abrupt("return",B);case 19:case"end":return w.stop()}},g,this,[[7,13]])}));return function(){return s.apply(this,arguments)}}()},{key:"joinTopic",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r=this;return Z.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(B=ra.joinTopic,this.validateRtmConnection(B),this.validateSessionExist(B),Eg(l,B),this.checkIsJoinedChannel(B),Q={timeToken:0,topicName:l},!this.localDataChannelMap.has(l)){_t.next=9;break}return this.log("topic(%s) already exists",l),_t.abrupt("return",Q);case 9:if(!(8<=this.localDataChannelMap.size)){_t.next=14;break}throw this.log("exceed create topic limit"),y=V(G.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION),_=y.code,S=y.reason,new ja(B,[S],_);case 14:return C={qos:!1,meta:null},w=Vw.encode({metadata:(p=C)===null||p===void 0?void 0:p.meta,topic:l}).finish(),O=function(){for(var _A=Array.from(_r.localDataChannelMap.values()).filter(function(fa){return fa!==void 0}).map(function(fa){return fa.getConfig().id}),na=function(fa){if(_A.findIndex(function(Da){return Da===fa})===-1)return{v:fa}},oa=0;8>oa;oa++){var ha=na(oa);if(Ia(ha)==="object")return ha.v}return-1},_t.prev=17,M=O(),this.localDataChannelMap.set(l,void 0),_t.next=22,Qk(this.rtcClient.publish({id:M,ordered:(P=(K=C)===null||K===void 0?void 0:K.qos)!==null&&P!==void 0&&P,metadata:String.fromCharCode.apply(String,ta(w))}),function(_A){return _A});case 22:if(!(U=_t.sent).isErr()){_t.next=29;break}throw this.localDataChannelMap.delete(l),W=U==null||(F=U.error)===null||F===void 0?void 0:F.code,new ja(B,["JoinTopic failure, code of rtcClient.publish api is ".concat(W)],G.RTM_ERROR_CHANNEL_JOIN_TOPIC_FAILED);case 29:ae=U.value,this.localDataChannelMap.set(l,ae),this.addDcListener("pub",ae,l);case 32:_t.next=37;break;case 34:throw _t.prev=34,_t.t0=_t.catch(17),_t.t0;case 37:return _t.abrupt("return",Q);case 38:case"end":return _t.stop()}},g,this,[[17,34]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"handleDcError",value:function(){var s=wa(Z.mark(function g(l,C,p,B,Q){var y,_,S;return Z.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(y=p.getConfig(),l!=="pub"){w.next=11;break}return w.next=4,this.rtcClient.unpublish(p);case 4:return w.next=6,this.rtcClient.publish(y);case 6:_=w.sent,this.localDataChannelMap.set(C,_),this.addDcListener("pub",_,C),w.next=18;break;case 11:if(!B||!Q){w.next=18;break}return w.next=14,this.rtcClient.unsubscribe(this.remoteUserMap.get(B)||this.userIdToRTCRemoteUser(B),"datachannel",y.id);case 14:return w.next=16,this.rtcClient.subscribe(this.remoteUserMap.get(B)||this.userIdToRTCRemoteUser(B),"datachannel",y.id);case 16:S=w.sent,this.addDcListener("sub",S,C,B,Q);case 18:case"end":return w.stop()}},g,this)}));return function(g,l,C,p,B){return s.apply(this,arguments)}}()},{key:"publishTopicMessage",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka;return Z.wrap(function(_u){for(;;)switch(_u.prev=_u.next){case 0:if(Q=ra.publishTopicMessage,this.validateRtmConnection(Q),y={timeToken:0,topicName:l},this.validateSessionExist(Q),Eg(l,Q),this.checkIsJoinedChannel(Q),p!=null&&p.customType&&dr(p==null?void 0:p.customType,Q),typeof C!="string"||C){_u.next=10;break}throw _=V(G.RTM_ERROR_CHANNEL_INVALID_MESSAGE),S=_.code,w=_.reason,new Ja(Q,[w],S);case 10:if(!(1024<(typeof C=="string"?new TextEncoder().encode(C).buffer:C.buffer).byteLength+new Blob([(B=p==null?void 0:p.customType)!==null&&B!==void 0?B:""]).size)){_u.next=14;break}throw O=V(G.RTM_ERROR_CHANNEL_MESSAGE_LENGTH_EXCEED_LIMITATION),P=O.code,K=O.reason,new Ja(Q,[K],P);case 14:if(M=this.localDataChannelMap.get(l)){_u.next=18;break}throw U=V(G.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED),F=U.code,W=U.reason,new ja(Q,[W],F);case 18:if(this.rtcClient.connectionState==="CONNECTED"){_u.next=21;break}throw ae=V(G.RTM_ERROR_CHANNEL_NOT_JOINED),_r=ae.code,_t=ae.reason,new ja(Q,[_t],_r);case 21:if(M.readyState==="open"){_u.next=25;break}throw this.log("send topic(%s) message failed. readyState of datachannel is ".concat(M.readyState),l),_A=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),na=_A.code,oa=_A.reason,new ja(Q,[oa],na);case 25:ha=this.rtm.initEncryption,fa=typeof C=="string"?new TextEncoder().encode(C):C,Da=fa.byteLength,_u.prev=28,ga=ha?Vl(fa,this.rtm.key,this.rtm.iv,this.rtm.keyLength):fa,ma=typeof C=="string"?1:0,M.send(this.encodeMessage(ga,Da,ha,ma,p==null?void 0:p.customType)),_u.next=38;break;case 34:throw _u.prev=34,_u.t0=_u.catch(28),Ra=V(G.RTM_ERROR_CHANNEL_ENCRYPT_MESSAGE_FAILED),$a=Ra.code,Ka=Ra.reason,new ja(Q,[Ka],$a);case 38:return _u.abrupt("return",y);case 39:case"end":return _u.stop()}},g,this,[[28,34]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"leaveTopic",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P;return Z.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(C=ra.leaveTopic,this.validateRtmConnection(C),this.validateSessionExist(C),p={timeToken:0,topicName:l},Eg(l,C),this.checkIsJoinedChannel(C),this.localDataChannelMap.has(l)){K.next=9;break}throw B=V(G.RTM_ERROR_CHANNEL_TOPIC_NOT_JOINED),Q=B.code,y=B.reason,new ja(C,[y],Q);case 9:return _=this.localDataChannelMap.get(l),K.prev=10,(S=this.funcMap4CloseTopic.get("".concat(l,":pub")))&&(_==null||_.off("close",S)),K.next=15,this.rtcClient.unpublish(_);case 15:this.localDataChannelMap.delete(l),K.next=23;break;case 18:throw K.prev=18,K.t0=K.catch(10),w=K.t0.code,O=Og(yc[w]),P=O.reason,new ja(ra.createStreamChannel,[P+"LeaveTopic failure, server code is  ".concat(w)]);case 23:return K.abrupt("return",p);case 24:case"end":return K.stop()}},g,this,[[10,18]])}));return function(g){return s.apply(this,arguments)}}()},{key:"subscribeTopic",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka=this;return Z.wrap(function(_u){for(;;)switch(_u.prev=_u.next){case 0:if(this.log("start subscribe ".concat(this.channelName,"(").concat(l,"), users: ").concat(C==null?void 0:C.users)),w=ra.subscribeTopic,this.validateRtmConnection(w),this.validateSessionExist(w),Eg(l,w),this.checkIsJoinedChannel(w),O=(p=C==null||(B=C.users)===null||B===void 0?void 0:B.filter(function(Uc){return!Fb(Uc)}))!==null&&p!==void 0?p:[],C!=null&&C.users&&(C.users=C==null||(Q=C.users)===null||Q===void 0?void 0:Q.filter(function(Uc){return Fb(Uc)})),C!=null&&C.users&&(C.users=ta(new Set(C.users))),P=new Set,this.preSubscribeInfoMap.forEach(function(Uc,_E){P.add(_E)}),this.subscribeInfoMap.forEach(function(Uc,_E){P.add(_E)}),!(50<=P.size)){_u.next=16;break}throw this.log("subscribed topic(%s) failed, exceed subscribe topic limit ".concat(50),l),K=V(G.RTM_ERROR_CHANNEL_EXCEED_TOPIC_LIMITATION),M=K.code,U=K.reason,new ja(w,[U],M);case 16:if((y=this.remoteDatachannelMap.get(l))!==null&&y!==void 0&&y.size||C!=null&&C.users&&C.users.length!==0){_u.next=19;break}throw F=V(G.RTM_ERROR_CHANNEL_TOPIC_NOT_EXIST),W=F.code,ae=F.reason,new ja(w,[ae],W);case 19:if(!(64<=[].concat(ta(this.preSubscribeInfoMap.get(l)||[]),ta(this.subscribeInfoMap.get(l)||[])).length)){_u.next=23;break}throw this.log("subscribe topic(".concat(l,") exceed user limit: ").concat(64)),_r=V(G.RTM_ERROR_CHANNEL_EXCEED_TOPIC_USER_LIMITATION),_t=_r.code,_A=_r.reason,new ja(w,[_A],_t);case 23:if(na={failedUsers:O,failedDetails:O.map(function(Uc){return{user:Uc,errorCode:Ch.INVALID_PARAMS,timeToken:0,topicName:l}}),succeedUsers:[],timeToken:0,topicName:l},oa=new Set,(_=this.remoteDatachannelMap.get(l))!==null&&_!==void 0&&_.size||!(0<((C==null||(S=C.users)===null||S===void 0?void 0:S.length)||0))){_u.next=33;break}return Da=64-(((ha=this.preSubscribeInfoMap.get(l))===null||ha===void 0?void 0:ha.size)||0)-(((fa=this.subscribeInfoMap.get(l))===null||fa===void 0?void 0:fa.size)||0),gd((C==null?void 0:C.users)||[]).filter(function(Uc,_E){return _E+1>Da&&(na.failedDetails.push({user:Uc,errorCode:Ch.SUB_USER_EXCEED_LIMITATION,timeToken:0,topicName:l}),na.failedUsers.push(Uc)),_E+1<=Da}).forEach(function(Uc){oa.add(Uc),Ka.addPreSub(l,Uc)}),this.log("".concat(l," not existent in channel").concat(this.channelName,".")),na.succeedUsers=ta(oa),this.log("subscribed ".concat(this.channelName,"(").concat(l,"), resp is %o"),na),_u.abrupt("return",na);case 33:return ga=[],C!=null&&C.users&&C.users.length!==0?ga=(C==null||(Ra=C.users)===null||Ra===void 0?void 0:Ra.filter(function(Uc){var _E,Bh,_I,zf=(_E=Ka.preSubscribeInfoMap.get(l))===null||_E===void 0?void 0:_E.has(Uc);return _E=(Bh=Ka.subscribeInfoMap.get(l))===null||Bh===void 0?void 0:Bh.has(Uc),Bh=!((_I=Ka.remoteDatachannelMap.get(l))!==null&&_I!==void 0&&_I.has(Uc)),zf||_E?(oa.add(Uc),Ka.log("subscribe ".concat(Ca(Uc)," in topic(").concat(l,") already."))):Bh&&oa.add(Uc),Ka.log("can't sub the user ".concat(Uc,", isPreSubscribed: ").concat(zf,", isSubscribed: ").concat(_E,", isUserNotPublishTopic: ").concat(Bh)),!zf&&!_E&&!Bh}))||[]:(ma=this.remoteDatachannelMap.get(l))===null||ma===void 0||ma.forEach(function(Uc,_E){var Bh,_I;(Bh=Ka.preSubscribeInfoMap.get(l))!==null&&Bh!==void 0&&Bh.has(_E)||(_I=Ka.subscribeInfoMap.get(l))!==null&&_I!==void 0&&_I.has(_E)||ga.push(_E)}),_u.next=37,this.patchSubscribeTopic(l,ga);case 37:return $a=_u.sent,oa.forEach(function(Uc){Ka.addPreSub(l,Uc)}),$a.succeedUsers.forEach(function(Uc){Ka.addSub(l,Uc)}),this.log("".concat(w," result: preSubUsers(").concat(ta(oa),"), subUsers(").concat($a.succeedUsers,")")),na.succeedUsers=[].concat(ta(oa),ta($a.succeedUsers)),na.failedUsers=[].concat(ta(na.failedUsers),ta($a.failedUsers)),na.failedDetails=[].concat(ta(na.failedDetails),ta($a.failedDetails)),_u.abrupt("return",na);case 46:case"end":return _u.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"unsubscribeTopic",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae=this;return Z.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:if(_=ra.unsubscribeTopic,this.validateRtmConnection(_),this.validateSessionExist(_),Eg(l,_),this.checkIsJoinedChannel(_),(p=this.preSubscribeInfoMap.get(l))!==null&&p!==void 0&&p.size||(B=this.subscribeInfoMap.get(l))!==null&&B!==void 0&&B.size){_r.next=8;break}throw S=V(G.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED),w=S.code,O=S.reason,new ja(_,[O],w);case 8:return P=(Q=C==null||(y=C.users)===null||y===void 0?void 0:y.filter(function(_t){return!Fb(_t)}))!==null&&Q!==void 0?Q:[],K={failedUsers:P,failedDetails:P.map(function(_t){return{user:_t,errorCode:Ch.INVALID_PARAMS,timeToken:0,topicName:l}}),timeToken:0,succeedUsers:[],topicName:l},M=[],C!=null&&C.users&&C.users.length!==0?M=C.users.filter(function(_t){return Fb(_t)}).filter(function(_t){var _A,na,oa=(_A=ae.preSubscribeInfoMap.get(l))===null||_A===void 0?void 0:_A.has(_t);return _A=(na=ae.subscribeInfoMap.get(l))===null||na===void 0?void 0:na.has(_t),oa?(ae.deletePreSub(l,_t),K.succeedUsers.push(_t)):_A||(K.failedDetails.push({user:_t,errorCode:Ch.NOT_SUBSCRIBED_USER,timeToken:0,topicName:l}),K.failedUsers.push(_t)),_A}):((this.preSubscribeInfoMap.get(l)||new Set).forEach(function(_t){ae.deletePreSub(l,_t),K.succeedUsers.push(_t)}),(U=this.subscribeInfoMap.get(l))===null||U===void 0||U.forEach(function(_t){M.push(_t)})),_r.prev=12,_r.next=15,Promise.all(M.map(function(_t){var _A,na;return Qk(ae.rtcClient.unsubscribe(ae.remoteUserMap.get(_t)||ae.userIdToRTCRemoteUser(_t),"datachannel",(_A=ae.remoteDatachannelMap.get(l))===null||_A===void 0||(na=_A.get(_t))===null||na===void 0?void 0:na.id),function(oa){return oa})}));case 15:F=_r.sent,F.map(function(_t,_A){return{userId:M[_A],result:_t}}).forEach(function(_t){var _A,na,oa=_t.userId,ha=_t.result;if(ha.isErr())throw _t=ha==null||(_A=ha.error)===null||_A===void 0?void 0:_A.code,K.failedDetails.push({user:oa,reason:"Unsubscribe topic failure, web_rtc code is ".concat(_t,", the reason of web_rtc is that ").concat(ha==null||(na=ha.error)===null||na===void 0?void 0:na.toString()),timeToken:0,topicName:l}),K.failedUsers.push(oa),_A=(oa=Og(yc[errorCode])).code,new ja(ra.createStreamChannel,[oa.reason+"unsubscribeTopic failure, server code is ".concat(_t)],_A);K.succeedUsers.push(oa),ae.deleteSub(l,oa)}),_r.next=23;break;case 20:throw _r.prev=20,_r.t0=_r.catch(12),_r.t0;case 23:return this.log("".concat(_," success. sdk resp is %o"),K),W={timeToken:0},K.succeedUsers.forEach(function(_t){ae.internalEmitter.emit("unsubscribeTopicMessage",l,_t)}),_r.abrupt("return",W);case 28:case"end":return _r.stop()}},g,this,[[12,20]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"getSubscribedUserList",value:function(s){var g=ra.getSubscribedUserList;if(this.validateRtmConnection(g),this.validateSessionExist(g),Eg(s,g),this.checkIsJoinedChannel(g),!this.preSubscribeInfoMap.has(s)&&!this.subscribeInfoMap.has(s))throw s=V(G.RTM_ERROR_CHANNEL_TOPIC_NOT_SUBSCRIBED),new ja(g,[s.reason],s.code);g={subscribed:[],timeToken:0,topicName:s};var l=ta(this.preSubscribeInfoMap.get(s)||[]);return s=ta(this.subscribeInfoMap.get(s)||[]),g.subscribed=[].concat(ta(l),ta(s)),g}},{key:"validateRtmConnection",value:function(s){if(this.rtm.connectionState!=="CONNECTED"&&this.rtm.connectionState!=="RECONNECTING"){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}},{key:"validateSessionExist",value:function(s){if(this.getSession()===void 0){var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}}]),e}(Kc),ab(Sb.prototype,"join",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"join"),Sb.prototype),ab(Sb.prototype,"leave",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"leave"),Sb.prototype),ab(Sb.prototype,"joinTopic",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"joinTopic"),Sb.prototype),ab(Sb.prototype,"publishTopicMessage",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"publishTopicMessage"),Sb.prototype),ab(Sb.prototype,"leaveTopic",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"leaveTopic"),Sb.prototype),ab(Sb.prototype,"subscribeTopic",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"subscribeTopic"),Sb.prototype),ab(Sb.prototype,"unsubscribeTopic",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"unsubscribeTopic"),Sb.prototype),ab(Sb.prototype,"getSubscribedUserList",[db],Object.getOwnPropertyDescriptor(Sb.prototype,"getSubscribedUserList"),Sb.prototype),Sb),cN=function(t){function e(i,s,g){return Xa(this,e),E(J(g=n.call(this,g,"Context")),"_token",void 0),E(J(g),"config",void 0),E(J(g),"_uid",void 0),E(J(g),"_sid",void 0),E(J(g),"_vid",void 0),E(J(g),"_startTime",void 0),E(J(g),"_area","CN"),E(J(g),"_socketUseProxy",!1),E(J(g),"appId",void 0),E(J(g),"cloudProxy",!1),E(J(g),"cloudProxyServers",[]),g.appId=i,g.config=s,g}rb(e,t);var n=sb(e);return Db(e,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Ma("ENABLE_EDGE_AUTO_FALLBACK")},set:function(i){this.log("socketUseProxy is set to %s",i),this._socketUseProxy=i}},{key:"token",set:function(i){this._token=typeof i=="string"&&i?i:void 0}},{key:"uid",get:function(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new Qc("Cannot get illegal uid")},set:function(i){if(this.log("The user ID is set to %s",Ca(i)),!Fb(i))throw new Qc;this._uid=i}},{key:"vid",get:function(){return typeof this._vid=="string"?this._vid:(this.warn("Cannot get illegal vid"),"")},set:function(i){if(typeof i!="string")throw new Qc;this._vid=i}},{key:"key",get:function(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new Qc("Cannot get illegal key")}},{key:"sid",get:function(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new Qc("Cannot get illegal sid")},set:function(i){if(this.log("sid is set to %s",i),typeof i!="string"||!i)throw new Qc;this._sid=i}},{key:"startTime",get:function(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new Qc("Cannot get illegal startTime")},set:function(i){if(this.log("startTime is set to %s",i),typeof i!="number"||!i)throw new Qc;this._startTime=i}},{key:"rtmArea",get:function(){if(typeof this._area=="string"&&this._area)return this._area;throw new Qc("Cannot get illegal area")},set:function(i){this.log("area is set to %s",i),typeof i=="string"&&i?this._area=i:this.warn("set area failed")}}]),e}(Kc),dc,dN=(dc=function(t){function e(s,g,l,C){return Xa(this,e),E(J(s=i.call(this,s,"Presence",!0)),"rtm",void 0),E(J(s),"getSyncSession",void 0),E(J(s),"getSession",void 0),s.rtm=g,s.getSyncSession=$r(l),s.getSession=Gj(C),s}rb(e,t);var n,i=sb(e);return Db(e,[{key:"whoNow",value:(n=wa(Z.mark(function s(g,l,C){var p,B,Q,y,_,S,w,O,P,K,M;return Z.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(ad(y=ra.whoNow,l),_=(C==null?void 0:C.includedUserId)!==!1,S=(C==null?void 0:C.includedState)===!0,w=(p=C==null?void 0:C.page)!==null&&p!==void 0?p:"",this.validateRtmConnection(y),this.validateName(g,"channelName",y),(C==null?void 0:C.includedUserId)!==!1||(C==null?void 0:C.includedState)!==!0){U.next=10;break}throw O=V(G.RTM_ERROR_PRESENCE_INVALID_ARGUMENT),P=O.code,K=O.reason,new Ja(y,[K+"include uid is false but include state is true"],P);case 10:if(this.validateSyncConnection(y),M=mc(g,l),(B=(Q=this.getSession().subscribedChannels.get(M))===null||Q===void 0?void 0:Q.withPresence)===null||B===void 0||!B){U.next=17;break}return U.abrupt("return",this.getSyncSession().requestCRDTWhoNow(M,_,S));case 17:return U.abrupt("return",this.getSyncSession().requestRPCWhoNow(M,w,_,S));case 18:case"end":return U.stop()}},s,this)})),function(s,g,l){return n.apply(this,arguments)})},{key:"getOnlineUsers",value:function(){var s=wa(Z.mark(function g(l,C,p){return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",this.whoNow(l,C,p));case 1:case"end":return B.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"whereNow",value:function(){var s=wa(Z.mark(function g(l){var C,p,B;return Z.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(C=ra.whereNow,this.validateRtmConnection(C),this.validateName(l,"userId",C),this.validateSyncConnection(C),p={channels:[],totalChannel:0,timeToken:0},l!==this.rtm.userId){Q.next=12;break}return B=new Set,this.getSyncSession().withPresenceChannels.forEach(function(y,_){B.add(_)}),this.getSyncSession().withoutPresenceChannels.forEach(function(y,_){B.add(_)}),B.forEach(function(y){y=$c(y),p.channels.push({channelName:y.channelName,channelType:y.channelType})}),p.totalChannel=B.size,Q.abrupt("return",p);case 12:return Q.abrupt("return",this.getSyncSession().requestRPCWhereNow(l));case 13:case"end":return Q.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"getUserChannels",value:function(){var s=wa(Z.mark(function g(l){return Z.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",this.whereNow(l));case 1:case"end":return C.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"setState",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A;return Z.wrap(function(na){for(;;)switch(na.prev=na.next){case 0:for(O in ad(y=ra.presenceSetState,C),this.validateRtmConnection(y),this.validateName(l,"channelName",y),_=mc(l,C),S=Object.keys(p).length,w=new Map,(B=this.getSyncSession().localStateCache.get(_))===null||B===void 0||B.forEach(function(oa,ha){w.set(ha,"")}),p)w.set(O,"");if(S!==0){na.next=12;break}throw P=V(G.RTM_ERROR_PRESENCE_INVALID_ARGUMENT),K=P.code,M=P.reason,new Ja(y,[M+"state of parameter is empty"],K);case 12:if(!(32<S||32<w.size)){na.next=15;break}throw U=V(G.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW),F=U.code,W=U.reason,new Zc(y,[W],F);case 15:if(!(100<this.getSyncSession().localStateCache.size)){na.next=18;break}throw ae=V(G.RTM_ERROR_PRESENCE_CACHED_TOO_MANY_STATES),_r=ae.code,_t=ae.reason,new Zc(y,[_t],_r);case 18:if(yz(p,y),_A={timeToken:0},this.getSyncSession().subscribedPresenceChannels.has(_)){na.next=24;break}return this.getSyncSession().updatePresenceStateCache(_,y,p),this.log("".concat(y," by local cache.")),na.abrupt("return",_A);case 24:if(!(!((Q=this.getSession().subscribedChannels.get(_))===null||Q===void 0)&&Q.withPresence)){na.next=30;break}return this.getSyncSession().requestCRDTSetState(_,p),na.abrupt("return",_A);case 30:return na.abrupt("return",this.getSyncSession().requestRPCSetState(_,p));case 31:case"end":return na.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"getState",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U;return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(ad(y=ra.presenceGetState,p),this.validateRtmConnection(y),this.validateName(C,"channelName",y),this.validateName(l,"userId",y),this.validateSyncConnection(y),_=mc(C,p),S={statesCount:0,states:{},userId:l,timeToken:0},l!==this.rtm.userId){F.next=15;break}if(this.getSyncSession().withoutPresenceChannels.get(_)||this.getSyncSession().withPresenceChannels.get(_)){F.next=15;break}return(w=this.getSyncSession().localStateCache.get(_))==null||w.forEach(function(W,ae){S.states[ae]=W}),S.statesCount=Object.keys(S.states).length,this.log("".concat(y," by local cache.")),F.abrupt("return",S);case 15:if(!((B=(Q=this.getSession().subscribedChannels.get(_))===null||Q===void 0?void 0:Q.withPresence)!==null&&B!==void 0&&B)){F.next=26;break}if((O=this.getSyncSession().channelsUsersStates.get(_))!==null&&O!==void 0&&O.has(l)){F.next=20;break}throw P=V(G.RTM_ERROR_PRESENCE_USER_NOT_EXIST),K=P.code,M=P.reason,new ja(y,[M],K);case 20:return U=this.getSyncSession().requestCRDTGetState(_,l),S.statesCount=Object.keys(U).length,S.states=U,F.abrupt("return",S);case 26:return F.abrupt("return",this.getSyncSession().requestRPCGetState(_,l));case 27:case"end":return F.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"removeState",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na;return Z.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:if(ad(K=ra.presenceRemoveState,C),this.validateRtmConnection(K),this.validateName(l,"channelName",K),!(p!=null&&(B=p.states)!==null&&B!==void 0&&B.length)||p==null||(Q=p.states)===null||Q===void 0||!Q.length||new Set(p.states).size===((y=p.states)===null||y===void 0?void 0:y.length)){oa.next=8;break}throw M=V(G.RTM_ERROR_PRESENCE_STATE_DUPLICATE_KEY),U=M.code,F=M.reason,new Ja(K,[F],U);case 8:if(!(32<((_=p==null||(S=p.states)===null||S===void 0?void 0:S.length)!==null&&_!==void 0?_:0))){oa.next=11;break}throw W=V(G.RTM_ERROR_PRESENCE_STATE_COUNT_OVERFLOW),ae=W.code,_r=W.reason,new Zc(K,[_r],ae);case 11:if(p==null||(w=p.states)===null||w===void 0||w.forEach(function(ha){cr(ha,K)}),this.validateSyncConnection(K),_t=mc(l,C),_A={timeToken:0},na={},p==null||(O=p.states)===null||O===void 0||O.forEach(function(ha){na[ha]=""}),this.getSyncSession().subscribedPresenceChannels.has(_t)){oa.next=21;break}return this.getSyncSession().updatePresenceStateCache(_t,K,na),this.log("".concat(K," by local cache.")),oa.abrupt("return",_A);case 21:if(!(!((P=this.getSession().subscribedChannels.get(_t))===null||P===void 0)&&P.withPresence)){oa.next=27;break}return this.getSyncSession().requestCRDTRemoveState(_t,na),oa.abrupt("return",_A);case 27:return oa.abrupt("return",this.getSyncSession().requestRPCRemoveState(_t,na));case 28:case"end":return oa.stop()}},g,this)}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"validateName",value:function(s,g,l){if(!Fb(s))throw s=V(g==="channelName"?G.RTM_ERROR_INVALID_CHANNEL_NAME:G.RTM_ERROR_INVALID_USER_ID),new Ja(l,[s.reason],s.code)}},{key:"validateSyncConnection",value:function(s){if(this.rtm.syncConnectionState!=="CONNECTED"){this.log("The syncClient state is ".concat(this.rtm.syncConnectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_PRESENCE_NOT_CONNECTED);throw new cb(s,[g.reason],g.code)}}},{key:"validateRtmConnection",value:function(s){if(this.rtm.connectionState!=="CONNECTED"&&this.rtm.connectionState!=="RECONNECTING"){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}}]),e}(Kc),ab(dc.prototype,"whoNow",[db],Object.getOwnPropertyDescriptor(dc.prototype,"whoNow"),dc.prototype),ab(dc.prototype,"getOnlineUsers",[db],Object.getOwnPropertyDescriptor(dc.prototype,"getOnlineUsers"),dc.prototype),ab(dc.prototype,"whereNow",[db],Object.getOwnPropertyDescriptor(dc.prototype,"whereNow"),dc.prototype),ab(dc.prototype,"getUserChannels",[db],Object.getOwnPropertyDescriptor(dc.prototype,"getUserChannels"),dc.prototype),ab(dc.prototype,"setState",[db],Object.getOwnPropertyDescriptor(dc.prototype,"setState"),dc.prototype),ab(dc.prototype,"getState",[db],Object.getOwnPropertyDescriptor(dc.prototype,"getState"),dc.prototype),ab(dc.prototype,"removeState",[db],Object.getOwnPropertyDescriptor(dc.prototype,"removeState"),dc.prototype),dc),pc,eN=(pc=function(t){function e(s,g,l,C){Xa(this,e);var p=i.call(this,s,"Lock",!0);return E(J(p),"rtm",void 0),E(J(p),"getSession",void 0),E(J(p),"localAcquiredLocks",void 0),E(J(p),"setOperationNoRes",new Set),E(J(p),"removeOperationNoRes",new Set),E(J(p),"acquireOperationNoRes",new Set),E(J(p),"releaseOperationNoRes",new Set),E(J(p),"revokeOperationNoRes",new Set),E(J(p),"watchingLocks",new Set),E(J(p),"onLockWatching",function(B){var Q=B.lockName;p.watchingLocks.add("".concat(B.prefixChannelName).concat(Lf(Q)))}),p.rtm=g,p.getSession=Gj(l),p.localAcquiredLocks=C,p}rb(e,t);var n,i=sb(e);return Db(e,[{key:"setLock",value:(n=wa(Z.mark(function s(g,l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F;return Z.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return ad(B=ra.setLock,l),this.validateRtmConnection(B),this.validateEnableLock(B),Q={timeToken:0,channelName:g,channelType:l,lockName:C},this.validateChannelAndLock(g,C,B),(p==null?void 0:p.ttl)!==void 0&&(300<p.ttl?p.ttl=300:10>p.ttl&&(p.ttl=10)),y=mc(g,l),_=Lf(C),this.setOperationNoRes.has("".concat(y).concat(_))&&this.throwInvalidOperationError(B),this.setOperationNoRes.add("".concat(y).concat(_)),W.prev=11,w=this.getSession().requestSetLock(y,C,{ttl:(S=p==null?void 0:p.ttl)!==null&&S!==void 0?S:10}),W.next=15,w.toPromise();case 15:W.next=39;break;case 17:if(W.prev=17,W.t0=W.catch(11),!tb(W.t0)){W.next=38;break}if(this.logError(W.t0),!Rc(W.t0)){W.next=25;break}throw W.t0;case 25:if(!Ib(W.t0)){W.next=30;break}throw O=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),P=O.code,K=O.reason,new ja(B,[K],P);case 30:if(W.t0.code==null){W.next=35;break}throw M=V(W.t0.code),U=M.code,F=M.reason,new ja(B,[F],U);case 35:this.warn("error code is undefined, ".concat(W.t0));case 36:W.next=39;break;case 38:this.warn("not rtm error, ".concat(W.t0));case 39:return W.prev=39,this.setOperationNoRes.delete("".concat(y).concat(_)),W.finish(39);case 42:return W.abrupt("return",Q);case 43:case"end":return W.stop()}},s,this,[[11,17,39,42]])})),function(s,g,l,C){return n.apply(this,arguments)})},{key:"removeLock",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U;return Z.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return ad(B=ra.removeLock,C),this.validateRtmConnection(B),this.validateEnableLock(B),Q={timeToken:0,channelName:l,channelType:C,lockName:p},this.validateChannelAndLock(l,p,B),y=mc(l,C),_=Lf(p),this.removeOperationNoRes.has("".concat(y).concat(_))&&this.throwInvalidOperationError(B),this.removeOperationNoRes.add("".concat(y).concat(_)),F.prev=10,S=this.getSession().requestRemoveLock(y,p),F.next=14,S.toPromise();case 14:F.next=38;break;case 16:if(F.prev=16,F.t0=F.catch(10),!tb(F.t0)){F.next=37;break}if(this.logError(F.t0),!Rc(F.t0)){F.next=24;break}throw F.t0;case 24:if(!Ib(F.t0)){F.next=29;break}throw w=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),O=w.code,P=w.reason,new ja(B,[P],O);case 29:if(F.t0.code==null){F.next=34;break}throw K=V(F.t0.code),M=K.code,U=K.reason,new ja(B,[U],M);case 34:this.warn("error code is undefined, ".concat(F.t0));case 35:F.next=38;break;case 37:this.warn("not rtm error, ".concat(F.t0));case 38:return F.prev=38,this.removeOperationNoRes.delete("".concat(y).concat(_)),F.finish(38);case 41:return F.abrupt("return",Q);case 42:case"end":return F.stop()}},g,this,[[10,16,38,41]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"acquireLock",value:function(){var s=wa(Z.mark(function g(l,C,p,B){var Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na;return Z.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:if(ad(y=ra.acquireLock,C),this.validateRtmConnection(y),this.validateEnableLock(y),this.validateChannelAndLock(l,p,y),_=mc(l,C),S=Lf(p),!(!((Q=this.localAcquiredLocks.get(_))===null||Q===void 0)&&Q.get(p))){oa.next=11;break}throw w=V(G.RTM_ERROR_LOCK_OPERATION_PERFORMING),O=w.code,P=w.reason,new ja(y,[P],O);case 11:return this.acquireOperationNoRes.has("".concat(_).concat(S))&&this.throwInvalidOperationError(y),this.acquireOperationNoRes.add("".concat(_).concat(S)),U=new Promise(function(ha,fa){K=fa,M=ha}),oa.prev=14,F=this.getSession().requestAcquireLock(_,p,{retry:B==null?void 0:B.retry,reject:K,resolve:M}),oa.next=18,F.toPromise();case 18:oa.next=42;break;case 20:if(oa.prev=20,oa.t0=oa.catch(14),!tb(oa.t0)){oa.next=41;break}if(this.logError(oa.t0),!Rc(oa.t0)){oa.next=28;break}throw oa.t0;case 28:if(!Ib(oa.t0)){oa.next=33;break}throw W=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),ae=W.code,_r=W.reason,new ja(y,[_r],ae);case 33:if(oa.t0.code==null){oa.next=38;break}throw _t=V(oa.t0.code),_A=_t.code,na=_t.reason,new ja(y,[na],_A);case 38:this.warn("error code is undefined, ".concat(oa.t0));case 39:oa.next=42;break;case 41:this.warn("not rtm error, ".concat(oa.t0));case 42:return oa.prev=42,this.clearLockCacheForAcquire(_,S,B==null?void 0:B.retry),oa.finish(42);case 45:return oa.abrupt("return",U);case 46:case"end":return oa.stop()}},g,this,[[14,20,42,45]])}));return function(g,l,C,p){return s.apply(this,arguments)}}()},{key:"clearLockCacheForAcquire",value:function(s,g,l){this.acquireOperationNoRes.delete("".concat(s).concat(g)),l&&this.watchingLocks.delete("".concat(s).concat(g))}},{key:"releaseLock",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r;return Z.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(ad(Q=ra.releaseLock,C),this.validateRtmConnection(Q),this.validateEnableLock(Q),y={timeToken:0,channelName:l,channelType:C,lockName:p},this.validateChannelAndLock(l,p,Q),_=mc(l,C),S=Lf(p),this.watchingLocks.has("".concat(_).concat(S))||(B=this.localAcquiredLocks.get(_))!==null&&B!==void 0&&B.get(p)){_t.next=11;break}throw w=V(G.RTM_ERROR_LOCK_NOT_ACQUIRED),O=w.code,P=w.reason,new ja(Q,[P],O);case 11:return this.releaseOperationNoRes.has("".concat(_).concat(S))&&this.throwInvalidOperationError(Q),this.releaseOperationNoRes.add("".concat(_).concat(S)),_t.prev=13,K=this.getSession().requestReleaseLock(_,p),_t.next=17,K.toPromise();case 17:_t.next=41;break;case 19:if(_t.prev=19,_t.t0=_t.catch(13),!tb(_t.t0)){_t.next=40;break}if(this.logError(_t.t0),!Rc(_t.t0)){_t.next=27;break}throw _t.t0;case 27:if(!Ib(_t.t0)){_t.next=32;break}throw M=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),U=M.code,F=M.reason,new ja(Q,[F],U);case 32:if(_t.t0.code==null){_t.next=37;break}throw W=V(_t.t0.code),ae=W.code,_r=W.reason,new ja(Q,[_r],ae);case 37:this.warn("error code is undefined, ".concat(_t.t0));case 38:_t.next=41;break;case 40:this.warn("not rtm error, ".concat(_t.t0));case 41:return _t.prev=41,this.releaseOperationNoRes.delete("".concat(_).concat(S)),_t.finish(41);case 44:return _t.abrupt("return",y);case 45:case"end":return _t.stop()}},g,this,[[13,19,41,44]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"revokeLock",value:function(){var s=wa(Z.mark(function g(l,C,p,B){var Q,y,_,S,w,O,P,K,M,U,F;return Z.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return ad(Q=ra.removeLock,C),this.validateRtmConnection(Q),this.validateEnableLock(Q),y={timeToken:0,channelName:l,channelType:C,lockName:p},this.validateChannelAndLock(l,p,Q),this.validateName(B,"owner",Q),_=mc(l,C),S=Lf(p),this.revokeOperationNoRes.has("".concat(_).concat(S))&&this.throwInvalidOperationError(Q),this.revokeOperationNoRes.add("".concat(_).concat(S)),W.prev=11,w=this.getSession().requestDisableLock(_,p,B),W.next=15,w.toPromise();case 15:W.next=39;break;case 17:if(W.prev=17,W.t0=W.catch(11),!tb(W.t0)){W.next=38;break}if(this.logError(W.t0),!Rc(W.t0)){W.next=25;break}throw W.t0;case 25:if(!Ib(W.t0)){W.next=30;break}throw O=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),P=O.code,K=O.reason,new ja(Q,[K],P);case 30:if(W.t0.code==null){W.next=35;break}throw M=V(W.t0.code),U=M.code,F=M.reason,new ja(Q,[F],U);case 35:this.warn("error code is undefined, ".concat(W.t0));case 36:W.next=39;break;case 38:this.warn("not rtm error, ".concat(W.t0));case 39:return W.prev=39,this.revokeOperationNoRes.delete("".concat(_).concat(S)),W.finish(39);case 42:return W.abrupt("return",y);case 43:case"end":return W.stop()}},g,this,[[11,17,39,42]])}));return function(g,l,C,p){return s.apply(this,arguments)}}()},{key:"getLock",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M;return Z.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return ad(p=ra.getLock,C),this.validateRtmConnection(p),this.validateEnableLock(p),B={timeToken:0,totalLocks:0,lockDetails:[],channelName:l,channelType:C},this.validateName(l,"channelName",p),Q=mc(l,C),U.prev=7,y=this.getSession().requestGetLock(Q),U.next=11,y.toPromise();case 11:_=U.sent,B.totalLocks=_.length,B.lockDetails=_.map(function(F){var W,ae,_r=JSON.parse(F.lockState||"");return{lockName:(W=F.lockName)!==null&&W!==void 0?W:"",ttl:_r.create_ttl,owner:(ae=_r.user)!==null&&ae!==void 0?ae:""}}),U.next=38;break;case 16:if(U.prev=16,U.t0=U.catch(7),!tb(U.t0)){U.next=37;break}if(this.logError(U.t0),!Rc(U.t0)){U.next=24;break}throw U.t0;case 24:if(!Ib(U.t0)){U.next=29;break}throw S=V(G.RTM_ERROR_LOCK_OPERATION_TIMEOUT),w=S.code,O=S.reason,new ja(p,[O],w);case 29:if(U.t0.code==null){U.next=34;break}throw P=V(U.t0.code),K=P.code,M=P.reason,new ja(p,[M],K);case 34:this.warn("error code is undefined, ".concat(U.t0));case 35:U.next=38;break;case 37:this.warn("not rtm error, ".concat(U.t0));case 38:return U.abrupt("return",B);case 39:case"end":return U.stop()}},g,this,[[7,16]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"validateName",value:function(s,g,l){if(!Fb(s))throw s=V(g==="lockName"?G.RTM_ERROR_LOCK_INVALID_NAME:g==="channelName"?G.RTM_ERROR_INVALID_CHANNEL_NAME:G.RTM_ERROR_INVALID_USER_ID),new Ja(l,[s.reason],s.code)}},{key:"validateChannelAndLock",value:function(s,g,l){if(this.validateName(s,"channelName",l),this.validateName(g,"lockName",l),32<(g==null?void 0:g.length))throw s=V(G.RTM_ERROR_LOCK_INVALID_NAME),new Ja(l,[s.reason],s.code)}},{key:"throwInvalidOperationError",value:function(s){var g=V(G.RTM_ERROR_LOCK_OPERATION_PERFORMING);throw new ja(s,[g.reason],g.code)}},{key:"validateRtmConnection",value:function(s){if(this.rtm.connectionState!=="CONNECTED"&&this.rtm.connectionState!=="RECONNECTING"){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}},{key:"validateEnableLock",value:function(s){if(this.rtm.consoleConfig["lock.enabled"]!=="true"){var g=V(G.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new ja(s,[g.reason],g.code)}}}]),e}(Kc),ab(pc.prototype,"setLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"setLock"),pc.prototype),ab(pc.prototype,"removeLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"removeLock"),pc.prototype),ab(pc.prototype,"acquireLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"acquireLock"),pc.prototype),ab(pc.prototype,"releaseLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"releaseLock"),pc.prototype),ab(pc.prototype,"revokeLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"revokeLock"),pc.prototype),ab(pc.prototype,"getLock",[db],Object.getOwnPropertyDescriptor(pc.prototype,"getLock"),pc.prototype),pc),zb,fN=(zb=function(t){function e(s,g,l,C){return Xa(this,e),E(J(s=i.call(this,s,"Storage",!0)),"rtm",void 0),E(J(s),"getSession",void 0),E(J(s),"localAcquiredLocks",void 0),E(J(s),"subscribedUserMetaCache",{}),s.rtm=g,s.getSession=Gj(l),s.localAcquiredLocks=C,s}rb(e,t);var n,i=sb(e);return Db(e,[{key:"setChannelMetadata",value:(n=wa(Z.mark(function s(g,l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na;return Z.wrap(function(oa){for(;;)switch(oa.prev=oa.next){case 0:return ad(Q=ra.setChannelMetadata,l),this.validateRtmConnection(Q),this.validateEnableStorage(Q),y={totalCount:0,timeToken:0,channelName:g,channelType:l},this.validateSessionExist(Q),_=mc(g,l),Fb(g)||this.throwInvalidArgumentError("channelName",Q),p!=null&&p.lockName&&((!Fb(p.lockName)||32<(p==null||(w=p.lockName)===null||w===void 0?void 0:w.length))&&this.throwInvalidArgumentError("lockName",Q),(P=(O=this.localAcquiredLocks.get(_))===null||O===void 0?void 0:O.get(p.lockName))!=null&&P.revision||this.throwNotAcquiredError(p==null?void 0:p.lockName,g,Q),S=P==null?void 0:P.revision),K=new Map,C.forEach(function(ha){var fa,Da=new Rf;Da.setKey(ha.key),Da.setRevision((fa=ha.revision)!==null&&fa!==void 0?fa:-1),Da.setValue(ha.value),K.set(ha.key,Da)}),M=[],K.forEach(function(ha){M.push(ha)}),U=(B=p==null?void 0:p.majorRevision)!==null&&B!==void 0?B:-1,Fg(Q,{items:M,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:U,type:"Set"}),oa.prev=15,F=this.getSession().requestSetChannelMetadata(M,{majorRevision:U,enableRecordTs:p==null?void 0:p.addTimeStamp,enableRecordUserId:p==null?void 0:p.addUserId},_,p==null?void 0:p.lockName,S).toPromise(),oa.next=19,F;case 19:oa.next=43;break;case 21:if(oa.prev=21,oa.t0=oa.catch(15),!tb(oa.t0)){oa.next=42;break}if(this.logError(oa.t0),!Rc(oa.t0)){oa.next=29;break}throw oa.t0;case 29:if(!Ib(oa.t0)){oa.next=34;break}throw W=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),ae=W.code,_r=W.reason,new ja(Q,[_r],ae);case 34:if(oa.t0.code==null){oa.next=39;break}throw _t=V(oa.t0.code),_A=_t.code,na=_t.reason,new ja(Q,[na],_A);case 39:this.warn("error code is undefined, ".concat(oa.t0));case 40:oa.next=43;break;case 42:this.warn("not rtm error, ".concat(oa.t0));case 43:return oa.abrupt("return",y);case 44:case"end":return oa.stop()}},s,this,[[15,21]])})),function(s,g,l,C){return n.apply(this,arguments)})},{key:"getChannelMetadata",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K;return Z.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return ad(p=ra.getChannelMetadata,C),this.validateRtmConnection(p),this.validateEnableStorage(p),B={totalCount:0,majorRevision:0,metadata:{},timeToken:0,channelName:l,channelType:C},this.validateSessionExist(p),Fb(l)||this.throwInvalidArgumentError("channelName",p),M.prev=7,Q=this.getSession().requestGetChannelMetaData(mc(l,C)),M.next=11,Q.pipe(Rb(function(U){return Gm(U)})).toPromise();case 11:y=M.sent,B.majorRevision=y.majorRevision,B.totalCount=y.items.length,y.items.forEach(function(U){var F;B.metadata[U.getKey()]={value:(F=U.getValue())!==null&&F!==void 0?F:"",revision:U.getRevision(),updated:U.getUpdateTs(),authorUid:U.getAuthorUserId()}}),M.next=39;break;case 17:if(M.prev=17,M.t0=M.catch(7),!tb(M.t0)){M.next=38;break}if(this.logError(M.t0),!Rc(M.t0)){M.next=25;break}throw M.t0;case 25:if(!Ib(M.t0)){M.next=30;break}throw _=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),S=_.code,w=_.reason,new ja(p,[w],S);case 30:if(M.t0.code==null){M.next=35;break}throw O=V(M.t0.code),P=O.code,K=O.reason,new ja(p,[K],P);case 35:this.warn("error code is undefined, ".concat(M.t0));case 36:M.next=39;break;case 38:this.warn("not rtm error, ".concat(M.t0));case 39:return M.abrupt("return",B);case 40:case"end":return M.stop()}},g,this,[[7,17]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"removeChannelMetadata",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da;return Z.wrap(function(ga){for(;;)switch(ga.prev=ga.next){case 0:return ad(B=ra.removeChannelMetadata,C),this.validateRtmConnection(B),this.validateEnableStorage(B),Q={totalCount:0,timeToken:0,channelName:l,channelType:C},y=mc(l,C),this.validateSessionExist(B),Fb(l)||this.throwInvalidArgumentError("channelName",B),_=p==null?void 0:p.data,S=!_||_.length===0,w=new Map,_==null||_.forEach(function(ma){var Ra,$a;if(16384<new Blob([(Ra=ma.value)!==null&&Ra!==void 0?Ra:""]).size)throw ma=V(G.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new Zc(B,[ma.reason],ma.code);(Ra=new Rf).setKey(ma.key),Ra.setRevision(($a=ma.revision)!==null&&$a!==void 0?$a:-1),w.set(ma.key,Ra)}),O=[],w.forEach(function(ma){O.push(ma)}),S?p!=null&&p.majorRevision&&br(B,p.majorRevision):Fg(B,{items:O,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:(P=p==null?void 0:p.majorRevision)!==null&&P!==void 0?P:-1,type:"Delete"}),p!=null&&p.lockName&&((!Fb(p.lockName)||32<(p==null||(M=p.lockName)===null||M===void 0?void 0:M.length))&&this.throwInvalidArgumentError("lockName",B),(W=(U=this.localAcquiredLocks.get(y))===null||U===void 0?void 0:U.get(p.lockName))!=null&&W.revision||this.throwNotAcquiredError(p==null?void 0:p.lockName,l,B),K=(F=W==null?void 0:W.revision)!==null&&F!==void 0?F:void 0),ga.prev=16,_t=S?this.getSession().requestClearChannelMetadata({majorRevision:(ae=p==null?void 0:p.majorRevision)!==null&&ae!==void 0?ae:-1,enableRecordTs:p==null?void 0:p.addTimeStamp,enableRecordUserId:p==null?void 0:p.addUserId},y,p==null?void 0:p.lockName,K).toPromise():this.getSession().requestDeleteChannelMetadata(O,{majorRevision:(_r=p==null?void 0:p.majorRevision)!==null&&_r!==void 0?_r:-1,enableRecordTs:p==null?void 0:p.addTimeStamp,enableRecordUserId:p==null?void 0:p.addUserId},y,p==null?void 0:p.lockName,K).toPromise(),ga.next=20,_t;case 20:ga.next=44;break;case 22:if(ga.prev=22,ga.t0=ga.catch(16),!tb(ga.t0)){ga.next=43;break}if(this.logError(ga.t0),!Rc(ga.t0)){ga.next=30;break}throw ga.t0;case 30:if(!Ib(ga.t0)){ga.next=35;break}throw _A=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),na=_A.code,oa=_A.reason,new ja(B,[oa],na);case 35:if(ga.t0.code==null){ga.next=40;break}throw ha=V(ga.t0.code),fa=ha.code,Da=ha.reason,new ja(B,[Da],fa);case 40:this.warn("error code is undefined, ".concat(ga.t0));case 41:ga.next=44;break;case 43:this.warn("not rtm error, ".concat(ga.t0));case 44:return ga.abrupt("return",Q);case 45:case"end":return ga.stop()}},g,this,[[16,22]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var s=wa(Z.mark(function g(l,C,p,B){var Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha;return Z.wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:return ad(y=ra.updateChannelMetadata,C),this.validateRtmConnection(y),this.validateEnableStorage(y),_={timeToken:0,totalCount:0,channelName:l,channelType:C},S=mc(l,C),this.validateSessionExist(y),w=new Map,p.forEach(function(Da){var ga,ma=new Rf;ma.setKey(Da.key),ma.setRevision((ga=Da.revision)!==null&&ga!==void 0?ga:-1),ma.setValue(Da.value),w.set(Da.key,ma)}),O=[],w.forEach(function(Da){O.push(Da)}),Fg(y,{items:O,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:(Q=B==null?void 0:B.majorRevision)!==null&&Q!==void 0?Q:-1,type:"Update"}),B!=null&&B.lockName&&((!Fb(B.lockName)||32<(B==null||(K=B.lockName)===null||K===void 0?void 0:K.length))&&this.throwInvalidArgumentError("lockName",y),(F=(M=this.localAcquiredLocks.get(S))===null||M===void 0?void 0:M.get(B.lockName))!=null&&F.revision||this.throwNotAcquiredError(B==null?void 0:B.lockName,l,y),P=(U=F==null?void 0:F.revision)!==null&&U!==void 0?U:void 0),fa.prev=13,ae=this.getSession().requestUpdateChannelMetadata(O,{majorRevision:(W=B==null?void 0:B.majorRevision)!==null&&W!==void 0?W:-1,enableRecordTs:B==null?void 0:B.addTimeStamp,enableRecordUserId:B==null?void 0:B.addUserId},S,B==null?void 0:B.lockName,P).toPromise(),fa.next=17,ae;case 17:fa.next=41;break;case 19:if(fa.prev=19,fa.t0=fa.catch(13),!tb(fa.t0)){fa.next=40;break}if(this.logError(fa.t0),!Rc(fa.t0)){fa.next=27;break}throw fa.t0;case 27:if(!Ib(fa.t0)){fa.next=32;break}throw _r=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),_t=_r.code,_A=_r.reason,new ja(y,[_A],_t);case 32:if(fa.t0.code==null){fa.next=37;break}throw na=V(fa.t0.code),oa=na.code,ha=na.reason,new ja(y,[ha],oa);case 37:this.warn("error code is undefined, ".concat(fa.t0));case 38:fa.next=41;break;case 40:this.warn("not rtm error, ".concat(fa.t0));case 41:return fa.abrupt("return",_);case 42:case"end":return fa.stop()}},g,this,[[13,19]])}));return function(g,l,C,p){return s.apply(this,arguments)}}()},{key:"setUserMetadata",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F;return Z.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return B=ra.setUserMetadata,this.validateRtmConnection(B),this.validateEnableStorage(B),Q=C==null?void 0:C.userId,y={timeToken:0,totalCount:0,userId:Q||this.rtm.userId},this.validateSessionExist(B),Q&&!Fb(Q)&&this.throwInvalidArgumentError("userId",B),_=new Map,l.forEach(function(ae){var _r,_t=new Rf;_t.setKey(ae.key),_t.setRevision((_r=ae.revision)!==null&&_r!==void 0?_r:-1),_t.setValue(ae.value),_.set(ae.key,_t)}),S=[],_.forEach(function(ae){S.push(ae)}),w=(p=C==null?void 0:C.majorRevision)!==null&&p!==void 0?p:-1,Fg(B,{items:S,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:w,type:"Set"}),W.prev=13,W.next=16,this.getSession().requestSetLocalMetadata(S,{majorRevision:w,enableRecordTs:C==null?void 0:C.addTimeStamp,enableRecordUserId:C==null?void 0:C.addUserId},Q).toPromise();case 16:W.next=40;break;case 18:if(W.prev=18,W.t0=W.catch(13),!tb(W.t0)){W.next=39;break}if(this.logError(W.t0),!Rc(W.t0)){W.next=26;break}throw W.t0;case 26:if(!Ib(W.t0)){W.next=31;break}throw O=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),P=O.code,K=O.reason,new ja(B,[K],P);case 31:if(W.t0.code==null){W.next=36;break}throw M=V(W.t0.code),U=M.code,F=M.reason,new ja(B,[F],U);case 36:this.warn("error code is undefined, ".concat(W.t0));case 37:W.next=40;break;case 39:this.warn("not rtm error, ".concat(W.t0));case 40:return W.abrupt("return",y);case 41:case"end":return W.stop()}},g,this,[[13,18]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K;return Z.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return C=ra.getUserMetadata,this.validateRtmConnection(C),this.validateEnableStorage(C),p=l==null?void 0:l.userId,B={timeToken:0,totalCount:0,majorRevision:0,metadata:{},userId:p||this.rtm.userId},this.validateSessionExist(C),p&&!Fb(p)&&this.throwInvalidArgumentError("userId",C),M.prev=7,M.next=10,this.getSession().requestGetLocalMetaData(p||this.rtm.userId).toPromise();case 10:Q=M.sent,y=Gm(Q),B.totalCount=y.items.length,B.majorRevision=y.majorRevision,y.items.forEach(function(U){var F;B.metadata[U.getKey()]={value:(F=U.getValue())!==null&&F!==void 0?F:"",revision:U.getRevision(),updated:U.getUpdateTs(),authorUid:U.getAuthorUserId()}}),M.next=39;break;case 17:if(M.prev=17,M.t0=M.catch(7),!tb(M.t0)){M.next=38;break}if(this.logError(M.t0),!Rc(M.t0)){M.next=25;break}throw M.t0;case 25:if(!Ib(M.t0)){M.next=30;break}throw _=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),S=_.code,w=_.reason,new ja(C,[w],S);case 30:if(M.t0.code==null){M.next=35;break}throw O=V(M.t0.code),P=O.code,K=O.reason,new ja(C,[K],P);case 35:this.warn("error code is undefined, ".concat(M.t0));case 36:M.next=39;break;case 38:this.warn("not rtm error, ".concat(M.t0));case 39:return M.abrupt("return",B);case 40:case"end":return M.stop()}},g,this,[[7,17]])}));return function(g){return s.apply(this,arguments)}}()},{key:"removeUserMetadata",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r;return Z.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return C=ra.removeUserMetadata,this.validateRtmConnection(C),this.validateEnableStorage(C),p=l==null?void 0:l.userId,B={timeToken:0,totalCount:0,userId:p||this.rtm.userId},this.validateSessionExist(C),p&&!Fb(p)&&this.throwInvalidArgumentError("userId",C),Q=l==null?void 0:l.data,y=!Q||Q.length===0,_=new Map,Q==null||Q.forEach(function(_A){var na,oa;if(16384<new Blob([(na=_A.value)!==null&&na!==void 0?na:""]).size)throw _A=V(G.RTM_ERROR_STORAGE_VALUE_LENGTH_OVERFLOW),new Zc(C,[_A.reason],_A.code);(na=new Rf).setKey(_A.key),na.setRevision((oa=_A.revision)!==null&&oa!==void 0?oa:-1),_.set(_A.key,na)}),S=[],_.forEach(function(_A){S.push(_A)}),y?l!=null&&l.majorRevision&&br(C,l.majorRevision):Fg(C,{items:S,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:(w=l==null?void 0:l.majorRevision)!==null&&w!==void 0?w:-1,type:"Delete"}),_t.prev=14,K=y?this.getSession().requestClearLocalMetadata({majorRevision:(O=l==null?void 0:l.majorRevision)!==null&&O!==void 0?O:-1,enableRecordTs:l==null?void 0:l.addTimeStamp,enableRecordUserId:l==null?void 0:l.addUserId},p).toPromise():this.getSession().requestDeleteLocalMetadata(S,{majorRevision:(P=l==null?void 0:l.majorRevision)!==null&&P!==void 0?P:-1,enableRecordTs:l==null?void 0:l.addTimeStamp,enableRecordUserId:l==null?void 0:l.addUserId},p).toPromise(),_t.next=18,K;case 18:_t.next=42;break;case 20:if(_t.prev=20,_t.t0=_t.catch(14),!tb(_t.t0)){_t.next=41;break}if(this.logError(_t.t0),!Rc(_t.t0)){_t.next=28;break}throw _t.t0;case 28:if(!Ib(_t.t0)){_t.next=33;break}throw M=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),U=M.code,F=M.reason,new ja(C,[F],U);case 33:if(_t.t0.code==null){_t.next=38;break}throw W=V(_t.t0.code),ae=W.code,_r=W.reason,new ja(C,[_r],ae);case 38:this.warn("error code is undefined, ".concat(_t.t0));case 39:_t.next=42;break;case 41:this.warn("not rtm error, ".concat(_t.t0));case 42:return _t.abrupt("return",B);case 43:case"end":return _t.stop()}},g,this,[[14,20]])}));return function(g){return s.apply(this,arguments)}}()},{key:"updateUserMetadata",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F;return Z.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return B=ra.updateUserMetadata,this.validateRtmConnection(B),this.validateEnableStorage(B),Q=C==null?void 0:C.userId,y={timeToken:0,totalCount:0,userId:Q||this.rtm.userId},this.validateSessionExist(B),Q&&!Fb(Q)&&this.throwInvalidArgumentError("userId",B),_=new Map,l==null||l.forEach(function(ae){var _r,_t=new Rf;_t.setKey(ae.key),_t.setRevision((_r=ae.revision)!==null&&_r!==void 0?_r:-1),_t.setValue(ae.value),_.set(ae.key,_t)}),S=[],_.forEach(function(ae){S.push(ae)}),Fg(B,{items:S,maxMetaDataCount:32,maxMetaValueSize:16384,majorRevision:(p=C==null?void 0:C.majorRevision)!==null&&p!==void 0?p:-1,type:"Update"}),W.prev=12,W.next=15,this.getSession().requestUpdateLocalMetadata(S,{majorRevision:(w=C==null?void 0:C.majorRevision)!==null&&w!==void 0?w:-1,enableRecordTs:C==null?void 0:C.addTimeStamp,enableRecordUserId:C==null?void 0:C.addUserId},Q).toPromise();case 15:W.next=39;break;case 17:if(W.prev=17,W.t0=W.catch(12),!tb(W.t0)){W.next=38;break}if(this.logError(W.t0),!Rc(W.t0)){W.next=25;break}throw W.t0;case 25:if(!Ib(W.t0)){W.next=30;break}throw O=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),P=O.code,K=O.reason,new ja(B,[K],P);case 30:if(W.t0.code==null){W.next=35;break}throw M=V(W.t0.code),U=M.code,F=M.reason,new ja(B,[F],U);case 35:this.warn("error code is undefined, ".concat(W.t0));case 36:W.next=39;break;case 38:this.warn("not rtm error, ".concat(W.t0));case 39:return W.abrupt("return",y);case 40:case"end":return W.stop()}},g,this,[[12,17]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r;return Z.wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(C=ra.subscribeUserMetadata,this.validateRtmConnection(C),this.validateEnableStorage(C),this.validateEnableStorageSub(C),p={timeToken:0,userId:l||this.rtm.userId},this.validateSessionExist(C),Fb(l)){_t.next=9;break}throw B=V(G.RTM_ERROR_INVALID_USER_ID),Q=B.code,y=B.reason,new Ja(C,[y],Q);case 9:if(!l.split("").includes(".")){_t.next=12;break}throw _=V(G.RTM_ERROR_INVALID_USER_ID),S=_.code,w=_.reason,new Ja(C,[w],S);case 12:if(this.subscribedUserMetaCache[l]!==ff.SUBSCRIBED){_t.next=14;break}return _t.abrupt("return",p);case 14:if(!(50<=Object.values(this.subscribedUserMetaCache).filter(function(_A){return _A===ff.SUBSCRIBED}).length)){_t.next=17;break}throw O=V(G.RTM_ERROR_STORAGE_SUBSCRIBE_USER_EXCEED_LIMITATION),P=O.code,K=O.reason,new Zc(C,[K],P);case 17:return _t.prev=17,this.rtm.firstSubscribeUser.add(l),_t.next=21,this.getSession().requestSubscribeUserMetadata(l,"NORMAL");case 21:this.subscribedUserMetaCache[l]=ff.SUBSCRIBED,_t.next=46;break;case 24:if(_t.prev=24,_t.t0=_t.catch(17),!tb(_t.t0)){_t.next=45;break}if(this.logError(_t.t0),!Rc(_t.t0)){_t.next=32;break}throw _t.t0;case 32:if(!Ib(_t.t0)){_t.next=37;break}throw M=V(G.RTM_ERROR_STORAGE_OPERATION_TIMEOUT),U=M.code,F=M.reason,new ja(C,[F],U);case 37:if(!_t.t0.code){_t.next=42;break}throw W=V(_t.t0.code),ae=W.code,_r=W.reason,new ja(C,[_r],ae);case 42:this.warn("error code is undefined, ".concat(_t.t0));case 43:_t.next=46;break;case 45:this.warn("not rtm error, ".concat(_t.t0));case 46:return _t.abrupt("return",p);case 47:case"end":return _t.stop()}},g,this,[[17,24]])}));return function(g){return s.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K;return Z.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(C=ra.unsubscribeUserMetadata,this.validateRtmConnection(C),this.validateEnableStorage(C),p={timeToken:0,userId:l||this.rtm.userId},this.validateSessionExist(C),Fb(l)){M.next=8;break}throw B=V(G.RTM_ERROR_INVALID_USER_ID),Q=B.code,y=B.reason,new Ja(C,[y],Q);case 8:if(!l.split("").includes(".")){M.next=11;break}throw _=V(G.RTM_ERROR_INVALID_USER_ID),S=_.code,w=_.reason,new Ja(C,[w],S);case 11:if(this.subscribedUserMetaCache[l]&&this.subscribedUserMetaCache[l]!==ff.UNSUBSCRIBED){M.next=14;break}throw O=V(G.RTM_ERROR_STORAGE_NOT_SUBSCRIBE),P=O.code,K=O.reason,new cb(C,[K],P);case 14:return M.prev=14,M.next=17,this.getSession().requestUnsubscribeUserMetadata(l);case 17:this.subscribedUserMetaCache[l]=ff.UNSUBSCRIBED,M.next=24;break;case 20:if(M.prev=20,M.t0=M.catch(14),!tb(M.t0)){M.next=24;break}throw M.t0;case 24:return M.abrupt("return",p);case 25:case"end":return M.stop()}},g,this,[[14,20]])}));return function(g){return s.apply(this,arguments)}}()},{key:"throwNotAcquiredError",value:function(s,g,l){throw s=V(G.RTM_ERROR_STORAGE_LOCK_NOT_ACQUIRED),new ja(l,[s.reason],s.code)}},{key:"throwInvalidArgumentError",value:function(s,g){throw s=V(s==="userId"?G.RTM_ERROR_INVALID_USER_ID:s==="channelName"?G.RTM_ERROR_INVALID_CHANNEL_NAME:G.RTM_ERROR_STORAGE_INVALID_LOCK_NAME),new Ja(g,[s.reason],s.code)}},{key:"validateRtmConnection",value:function(s){if(this.rtm.connectionState!=="CONNECTED"&&this.rtm.connectionState!=="RECONNECTING"){this.log("The client state is ".concat(this.rtm.connectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}},{key:"validateSessionExist",value:function(s){if(this.getSession()===void 0){var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}},{key:"validateEnableStorage",value:function(s){if(this.rtm.consoleConfig["storage.enabled"]!=="true"){var g=V(G.RTM_ERROR_STORAGE_NOT_AVAILABLE);throw new ja(s,[g.reason],g.code)}}},{key:"validateEnableStorageSub",value:function(s){if(this.rtm.consoleConfig["storage.user_subscribe_enabled"]!=="true"){var g=V(G.RTM_ERROR_LOCK_NOT_AVAILABLE);throw new ja(s,[g.reason],g.code)}}}]),e}(Kc),ab(zb.prototype,"setChannelMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"setChannelMetadata"),zb.prototype),ab(zb.prototype,"getChannelMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"getChannelMetadata"),zb.prototype),ab(zb.prototype,"removeChannelMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"removeChannelMetadata"),zb.prototype),ab(zb.prototype,"updateChannelMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"updateChannelMetadata"),zb.prototype),ab(zb.prototype,"setUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"setUserMetadata"),zb.prototype),ab(zb.prototype,"getUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"getUserMetadata"),zb.prototype),ab(zb.prototype,"removeUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"removeUserMetadata"),zb.prototype),ab(zb.prototype,"updateUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"updateUserMetadata"),zb.prototype),ab(zb.prototype,"subscribeUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"subscribeUserMetadata"),zb.prototype),ab(zb.prototype,"unsubscribeUserMetadata",[db],Object.getOwnPropertyDescriptor(zb.prototype,"unsubscribeUserMetadata"),zb.prototype),zb),Ip,Jp,Kp,Lp,Ab,By=(Ip=/Chrome\/([0-9.]+)/.exec((Kp=window)===null||Kp===void 0||(Lp=Kp.navigator)===null||Lp===void 0?void 0:Lp.userAgent))===null||Ip===void 0||(Jp=Ip[1])===null||Jp===void 0?void 0:Jp.split(".")[0];if(By&&88<=parseInt(By,10)&&!Of()){var Mp,jg=document.createElement("video"),kg=document.createElement("canvas");jg.setAttribute("style","display:none"),jg.setAttribute("muted",""),jg.muted=!0,jg.setAttribute("autoplay",""),jg.autoplay=!0,jg.setAttribute("playsinline",""),kg.setAttribute("style","display:none"),kg.setAttribute("width","1"),kg.setAttribute("height","1"),(Mp=kg.getContext("2d"))===null||Mp===void 0||Mp.fillRect(0,0,1,1),jg.srcObject=kg==null?void 0:kg.captureStream()}var ml={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,FAILED:5},Cy={CONNECTING:0,LOGIN_SUCCESS:10001,REJECTED_BY_SERVER:10,LOST:16,INTERRUPTED:2,LOGOUT:10002,SAME_UID_LOGIN:8,TOKEN_EXPIRED:9,PRESENCE_NOT_READY:10},Dh;(function(t){t[t.JOINED=0]="JOINED",t[t.LEFT=1]="LEFT"})(Dh||(Dh={}));var gN={error:!1,warn:!1,info:!1,track:!1,debug:!1},Dy={error:!0,warn:!1,info:!1,track:!1,debug:!1},hN={error:!0,warn:!0,info:!1,track:!1,debug:!1},iN={error:!0,warn:!0,info:!0,track:!1,debug:!1},jN={error:!0,warn:!0,info:!0,track:!0,debug:!0},lg={logUpload:!1,logFilter:Dy,cloudProxy:!1},Ey=function(t,e){switch(t){case"debug":e.logFilter=jN,Pc.default.setLogLevel(0);break;case"info":e.logFilter=iN,Pc.default.setLogLevel(1);break;case"warn":e.logFilter=hN,Pc.default.setLogLevel(2);break;case"none":e.logFilter=gN,Pc.default.setLogLevel(4);break;default:e.logFilter=Dy,Pc.default.setLogLevel(3)}},kN=(Ab=function(t){function e(s,g,l){var C,p,B;Xa(this,e);var Q=ra.initRTM;if(!/^[\dA-Za-z]{32}$/.test(s))throw g=V(G.RTM_ERROR_INVALID_APP_ID),new ja(Q,[g.reason],g.code);if(!Fb(g))throw g=V(G.RTM_ERROR_INVALID_USER_ID),new ja(Q,[g.reason],g.code);var y={logUpload:(C=l==null?void 0:l.logUpload)!==null&&C!==void 0?C:lg.logUpload,logFilter:lg.logFilter,cloudProxy:(p=l==null?void 0:l.cloudProxy)!==null&&p!==void 0?p:lg.cloudProxy};C=lb(lb(lb({},lg),y),{},{logFilter:lb(lb({},lg==null?void 0:lg.logFilter),y==null?void 0:y.logFilter)}),Pc.default.setParameter("SHOW_GLOBAL_CLIENT_LIST",!0),l!=null&&l.logLevel&&Ey(l.logLevel,C),y=xz(p=sh());var _=eH(C,p,g),S=fH(C,p,g),w=gH(C,p,g),O=hH(y,C,p,g),P=Lw(y,C,p,g),K=P("RTM:DEBUG","<Entry> ");_("The Agora RTM Web SDK version is %s","2.1.9"),_("The new process ID is %s",p),C.logUpload&&K("The uploaded logs address is:".concat(" https://logservice-h3t-gz.agora.io/log.html?processId=process-").concat(p)),_('The Git commit ID is "'.concat("v2.1.9-0-g612079de",'"')),_("The build is %s","v2.1.9-0-g612079de"),_("NODE_ENV is %s","production"),_("Creating an RTM instance"),_("The App ID is %s",Lq(s,4,10,"*".repeat(6))),y={genLogger:P,genTracker:O,info:_,warn:S,logError:w,loggerId:y};var M=i.call(this,y,"RTM",!0);if(E(J(M),"userId",void 0),E(J(M),"appId",void 0),E(J(M),"processId",void 0),E(J(M),"streamChannelList",[]),E(J(M),"stChannelInstances",[]),E(J(M),"token",void 0),E(J(M),"cipherKey",void 0),E(J(M),"cloudProxy",void 0),E(J(M),"presenceTimeout",Ma("PRESENCE_TIMEOUT")),E(J(M),"presence",void 0),E(J(M),"storage",void 0),E(J(M),"lock",void 0),E(J(M),"encryptionMode",void 0),E(J(M),"salt",void 0),E(J(M),"key",""),E(J(M),"iv",""),E(J(M),"keyLength",0),E(J(M),"initEncryption",!1),E(J(M),"useStringUserId",void 0),E(J(M),"context",void 0),E(J(M),"session",void 0),E(J(M),"sessionOfSync",void 0),E(J(M),"loginPromise",void 0),E(J(M),"loginSyncPromise",void 0),E(J(M),"lastLoginTime",void 0),E(J(M),"connectionState","DISCONNECTED"),E(J(M),"syncConnectionState","DISCONNECTED"),E(J(M),"blacklistedIP",{}),E(J(M),"blacklistedSyncIP",{}),E(J(M),"reconnId",0),E(J(M),"reconnSyncId",0),E(J(M),"channelAttributesCacheLru",new hg(void 0,{maxlen:1e4})),E(J(M),"attributeDrafts",new Set),E(J(M),"internalEmitter",new yb),E(J(M),"onMemberCountUpdated",gE(function(_t,_A){var na;_t!==((na=M.subChannelCountCache.get(_A))!==null&&na!==void 0?na:0)&&M.subChannelCountCache.set(_A,_t)},1e3)),E(J(M),"subChannelStateCache",new Map),E(J(M),"subChannelPromiseCache",new Map),E(J(M),"subChannelCountCache",new Map),E(J(M),"channelMemberJoinedLru",new Map),E(J(M),"channelMemberLeftLru",new Map),E(J(M),"channelMemberJoinStateLru",new Map),E(J(M),"localAcquiredLocks",new Map),E(J(M),"channelCollPtrs",new Map),E(J(M),"connectionCount",0),E(J(M),"consoleConfig",void 0),E(J(M),"firstSubscribeUser",new Set),E(J(M),"firstSubscribeChannel",new Set),E(J(M),"logLevel",void 0),E(J(M),"needReSubPresenceChannels",new Map),E(J(M),"TokenPrivilegeWillExpireHandler",function(){M.emit("tokenPrivilegeWillExpire","")}),E(J(M),"userDropHandler",function(_t){if(M.connectionState!=="FAILED")switch(M.log("remote same uid logged. sdk logout sync..."),M.logoutSync(),M.logoutVosWeb(),_t){case 2:M.logError("Server banned because of token is expired"),M.onConnectionStateChanged("FAILED","TOKEN_EXPIRED");break;case 11:M.logError("Kicked off by remote session"),M.onConnectionStateChanged("FAILED","SAME_UID_LOGIN");break;case 10019:M.logError("Kicked off by authorization"),M.onConnectionStateChanged("FAILED","TOKEN_EXPIRED");break;default:M.logError("User kicked off for unknown code: ".concat(_t)),M.onConnectionStateChanged("FAILED","INTERRUPTED")}}),E(J(M),"userMetaDataUpdatedHandler",function(_t){var _A,na,oa=_t.uid;if(_t=_t.data,((_A=(na=M.session)===null||na===void 0?void 0:na.userMetaEventInfos.get(oa))!==null&&_A!==void 0?_A:0)!==_t.majorRevision||M.firstSubscribeUser.has(oa)){if(M.storage.subscribedUserMetaCache[oa]){var ha,fa={};_t.items.map(function(Da){var ga;fa[Da==null?void 0:Da.getKey()]={value:(ga=Da.getValue())!==null&&ga!==void 0?ga:"",revision:Da.getRevision(),updated:Da.getUpdateTs(),authorUid:Da.getAuthorUserId()}}),_A={totalCount:_t==null||(ha=_t.items)===null||ha===void 0?void 0:ha.length,majorRevision:_t==null?void 0:_t.majorRevision,metadata:fa},ha="UPDATE",M.firstSubscribeUser.has(oa)&&(ha="SNAPSHOT",M.firstSubscribeUser.delete(oa)),M.emit("storage",{channelType:"USER",channelName:"",publisher:oa,storageType:"USER",data:_A,eventType:ha})}}else M.log("user(".concat(Ca(oa),") meta not changed, ignore."))}),E(J(M),"onChannelTextMessage",function(_t){var _A=_t.memberId,na=_t.text,oa=_t.channelId;_t.properties,M.emit("message",{channelName:oa,channelType:_t.channelType,topicName:"",message:na,publisher:_A,messageType:"STRING",customType:_t.customType})}),E(J(M),"onChannelRawMessage",function(_t){_t.desc;var _A=_t.raw,na=_t.memberId,oa=_t.channelId;_t.properties,M.emit("message",{channelName:oa,channelType:_t.channelType,topicName:"",message:_A,publisher:na,messageType:"BINARY",customType:_t.customType})}),E(J(M),"onMemberNotice",function(_t){var _A=_t.channelId,na=_t.memberId,oa=_t.type,ha=_t.size,fa=_t.instance.toString();_t=_t.seq.toString();var Da={MemberLeft:M.channelMemberJoinedLru.get(_A),MemberJoined:M.channelMemberLeftLru.get(_A),MemberCountUpdated:void 0}[oa];if(Da){var ga;if(Da.has(fa+_t))return void M.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",oa,_t,Ca(_A),Ca(na||""));if(Da.set(fa+_t,void 0),typeof na!="string")return;if(na!==M.userId&&((fa=M.channelMemberJoinStateLru.get(_A).get(na))===Dh.JOINED&&oa==="MemberJoined"||fa===Dh.LEFT&&oa==="MemberLeft"))return void M.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",oa,_t,Ca(_A),Ca(na||""));(ga=M.channelMemberJoinStateLru.get(_A))===null||ga===void 0||ga.set(na,oa==="MemberJoined"?Dh.JOINED:Dh.LEFT)}M.info("Channel %s - %s, memberId: %s",oa,Ca(_A),oa==="MemberCountUpdated"?"[unknown]":Ca(na||"")),M.userId,(oa==="MemberLeft"&&Fb(na)||oa==="MemberJoined"&&Fb(na)||oa==="MemberCountUpdated"&&typeof ha=="number")&&M.onMemberCountUpdated(ha,_A)}),E(J(M),"onChannelMetaDataUpdated",function(_t){var _A,na,oa,ha=_t.channelId;if(_t=_t.data,((_A=(na=M.session)===null||na===void 0?void 0:na.channelMetaEventInfos.get(ha))!==null&&_A!==void 0?_A:0)!==_t.majorRevision||M.firstSubscribeChannel.has(ha)){_A=(na=$c(ha)).channelName,na=na.channelType;var fa={};_t.items.map(function(Da){var ga;fa[Da==null?void 0:Da.getKey()]={value:(ga=Da.getValue())!==null&&ga!==void 0?ga:"",revision:Da.getRevision(),updated:Da.getUpdateTs(),authorUid:Da.getAuthorUserId()}}),_t={totalCount:_t==null||(oa=_t.items)===null||oa===void 0?void 0:oa.length,majorRevision:_t==null?void 0:_t.majorRevision,metadata:fa},oa="UPDATE",M.firstSubscribeChannel.has(ha)&&(oa="SNAPSHOT",M.firstSubscribeChannel.delete(ha)),M.emit("storage",{channelType:na,channelName:_A,publisher:"",storageType:"CHANNEL",data:_t,eventType:oa})}else M.log("channel(".concat(ha,") meta not changed, ignore."))}),E(J(M),"onChannelLockEvent",function(_t){var _A,na,oa,ha=mc(_t.channelName,_t.channelType);(_A=(na=M.session)===null||na===void 0||(oa=na.subscribedChannels.get(ha))===null||oa===void 0?void 0:oa.withLock)!==null&&_A!==void 0&&_A&&M.emit("lock",_t)}),E(J(M),"emitLockExpired",function(_t){var _A,na=mc(_t.channelName,_t.channelType);(_A=M.localAcquiredLocks.get(na))!==null&&_A!==void 0&&_A.get(_t.lockName)&&(M.emit("lock",lb(lb({},_t),{},{ttl:0})),M.updateLocalAcquiredLocksCache(na,_t==null?void 0:_t.lockName,"delete"))}),E(J(M),"onChannelMemberCountUpdated",function(_t,_A){M.onMemberCountUpdated(_A,_t)}),E(J(M),"onLogout",function(){var _t,_A,na,oa;M.validateSessionExist(ra.logout);try{M.clearChannel(M.session,M.session.usedChannelIds),M.streamChannelList.forEach(function(ha){var fa;ha=mc(ha,"STREAM"),(fa=M.session)===null||fa===void 0||fa.subscribedChannels.delete(ha)}),M.streamChannelList=[]}catch{}(_t=M.session)===null||_t===void 0||_t.removeListener("channelTextMessage",M.onChannelTextMessage),(_A=M.session)===null||_A===void 0||_A.removeListener("channelRawMessage",M.onChannelRawMessage),(na=M.session)===null||na===void 0||na.removeListener("memberNotice",M.onMemberNotice),(oa=M.session)===null||oa===void 0||oa.removeListener("channelMetaDataUpdated",M.onChannelMetaDataUpdated),M.internalEmitter.removeListener("channelMemberCountUpdated",M.onChannelMemberCountUpdated)}),M.logLevel=(B=l==null?void 0:l.logLevel)!==null&&B!==void 0?B:"error",M.appId=s,M.userId=g,M.processId=p,M.setMaxListeners(512),M.internalEmitter.setMaxListeners(512),M.lock=new eN(y,J(M),function(){return M.session},M.localAcquiredLocks),M.presence=new dN(y,J(M),function(){return M.sessionOfSync},function(){return M.session}),M.storage=new fN(y,J(M),function(){return M.session},M.localAcquiredLocks),typeof(l==null?void 0:l.presenceTimeout)=="number"&&(B=l.presenceTimeout,300<l.presenceTimeout?B=300:10>l.presenceTimeout&&(B=10),M.presenceTimeout=B),M.token=l==null?void 0:l.token,M.context=new cN(s,C,y),(l==null?void 0:l.encryptionMode)==="AES_128_GCM"||(l==null?void 0:l.encryptionMode)==="AES_256_GCM"){var U,F;if(s="detail: ",(l==null?void 0:l.cipherKey)===void 0)s+="not provide cipherKey but set encryptionMode.";else if(l.salt&&0<(l==null||(U=l.salt)===null||U===void 0?void 0:U.byteLength)&&32<(l==null||(F=l.salt)===null||F===void 0?void 0:F.byteLength))s+="salt should be ".concat(32," bytes");else if(s==="detail: "){var W;M.keyLength=l.encryptionMode==="AES_128_GCM"?16:32,(U=new Uint8Array(32)).set((W=l.salt)!==null&&W!==void 0?W:new Uint8Array([])),M.salt=U,M.cipherKey=l==null?void 0:l.cipherKey,M.encryptionMode=l.encryptionMode;try{var ae=Nd.util.createBuffer(M.salt),_r=Nd.pkcs5.pbkdf2(M.cipherKey,ae.getBytes(ae.length()),1e3,12+M.keyLength,"sha256");M.key=_r,M.iv=_r.slice(-12),_r?(M.initEncryption=!0,M.log("initialize crypto key success.")):M.warn("generate crypto key failure using pbkdf2.")}catch(_t){throw g=V(G.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),new ja(Q,[g.reason+_t],g.code)}}if(8<s.length)throw g=V(G.RTM_ERROR_INVALID_ENCRYPTION_PARAMETER),new ja(Q,[g.reason+s],g.code)}if((l==null?void 0:l.useStringUserId)===!1){if(!Yl(g))throw g=V(G.RTM_ERROR_INVALID_USER_ID),new Ja(Q,[g.reason],g.code);M.useStringUserId=!1}else M.useStringUserId=!0;return window.addEventListener("offline",function(){M.warn("network-state-change: ONLINE -> OFFLINE")}),window.addEventListener("online",function(){M.log("network-state-change: OFFLINE -> ONLINE")}),M}rb(e,t);var n,i=sb(e);return Db(e,[{key:"renewToken",value:(n=wa(Z.mark(function s(g,l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka,_u,Uc,_E,Bh,_I=this;return Z.wrap(function(zf){for(;;)switch(zf.prev=zf.next){case 0:if(C=ra.renewToken,Zl(g,this.appId,C,function(oQ){_I.warn(oQ)}),p={timeToken:0},l==null||!l.channelName){zf.next=23;break}if(Fb(l.channelName)){zf.next=7;break}throw B=V(G.RTM_ERROR_INVALID_CHANNEL_NAME),Q=B.code,y=B.reason,new Ja(C,[y],Q);case 7:if((_=this.streamChannelList.findIndex(function(oQ){return oQ===l.channelName}))!==-1){zf.next=12;break}throw this.warn("renewToken: channel(".concat(l.channelName,") not join.")),S=V(G.RTM_ERROR_INVALID_CHANNEL_NAME),w=S.code,O=S.reason,new Ja(C,[O],w);case 12:return zf.prev=12,zf.next=15,this.stChannelInstances[_].renewStreamChannelToken(g);case 15:return zf.abrupt("return",p);case 18:throw zf.prev=18,zf.t0=zf.catch(12),zf.t0;case 21:zf.next=67;break;case 23:if(typeof g=="string"&&g.length!==0){zf.next=26;break}throw K=V(G.RTM_ERROR_INVALID_TOKEN),M=K.code,U=K.reason,new Ja(C,[U],M);case 26:if(this.connectionState==="CONNECTED"||this.connectionState==="RECONNECTING"){zf.next=29;break}throw F=V(G.RTM_ERROR_NOT_LOGIN),W=F.code,ae=F.reason,new cb(C,[ae],W);case 29:if(this.validateSessionExist(C),g!==this.context.token){zf.next=33;break}return _r={timeToken:0},zf.abrupt("return",_r);case 33:return zf.prev=33,_t=this.context.token,this.context.token=g,zf.next=38,Promise.all([this.session.connection.apClient.getApEdgeInfo$(!1).pipe($d(function(){return Error("No available edge address to connect")}),Pe(function(oQ){return oQ.pipe(Ga(function(gQ){if(tb(gQ))throw gQ}),Ne(2500),qb(4))}),qb(1),Nc(2e4),kb(function(oQ){return Ib(oQ)&&_I.warn("renewToken timed out"),Na(oQ)})).toPromise(),this.sessionOfSync.connection.apClient.getApEdgeInfo$(!1).pipe($d(function(){return Error("No available edge address for sync to connect")}),Pe(function(oQ){return oQ.pipe(Ga(function(gQ){if(tb(gQ))throw gQ}),Ne(2500),qb(4))}),qb(1),Nc(2e4),kb(function(oQ){return Ib(oQ)&&_I.warn("renewToken for sync timed out"),Na(oQ)})).toPromise()]);case 38:_A=zf.sent,na=vc(_A,2),oa=na[0].ticket,ha=na[1].ticket,zf.next=54;break;case 44:if(zf.prev=44,zf.t1=zf.catch(33),this.context.token=_t,!Ib(zf.t1)){zf.next=52;break}throw fa=V(G.RTM_ERROR_LOGIN_TIMEOUT),Da=fa.code,ga=fa.reason,new we(C,[ga],Da);case 52:throw ma=V(zf.t1.code),Ra=ma.code,$a=ma.reason,new Dj(C,[$a],Ra);case 54:return Ka=this.session,zf.next=57,this.session.requestUpdateEdgeTicket(oa).toPromise();case 57:if((_u=zf.sent).code===0){zf.next=63;break}throw Uc=V(_u.code),_E=Uc.code,Bh=Uc.reason,new ja(C,[Bh],_E);case 63:Ka.curLoginSockets.filter(function(oQ){return oQ!==void 0}).forEach(function(oQ){return oQ.ticket=oa});case 64:return zf.next=66,(P=this.sessionOfSync)===null||P===void 0?void 0:P.renewKey(ha);case 66:return zf.abrupt("return",p);case 67:case"end":return zf.stop()}},s,this,[[12,18],[33,44]])})),function(s,g){return n.apply(this,arguments)})},{key:"updateConfig",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y;return Z.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:C={timeToken:0},p=0,B=qj(l);case 3:if(!(p<B.length)){_.next=13;break}if((Q=B[p])!=="logLevel"){_.next=8;break}if(l.logLevel){switch(l.logLevel){case"debug":X._rte_crdt_client_set_log_level(0);case"info":X._rte_crdt_client_set_log_level(1);case"warn":X._rte_crdt_client_set_log_level(2);default:X._rte_crdt_client_set_log_level(3)}Ey(l.logLevel,this.context.config)}return _.abrupt("continue",10);case 8:(y=l[Q])!=null&&(l.cloudProxy&&this.info("RTM cloud proxy enabled"),l.logUpload&&this.info("Log upload enabled"),this.context.config[Q]=y);case 10:p++,_.next=3;break;case 13:return _.abrupt("return",C);case 14:case"end":return _.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"login",value:function(){var s=wa(Z.mark(function g(){var l,C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae=this;return Z.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return this.connectionCount=0,_r.next=3,yy.pipe(qb(1),Ga(function(){switch(ae.logLevel){case"debug":X._rte_crdt_client_set_log_level(0);case"info":X._rte_crdt_client_set_log_level(1);case"warn":X._rte_crdt_client_set_log_level(2);default:X._rte_crdt_client_set_log_level(3)}ae.log("wasm loaded. logLevel is ".concat(ae.logLevel))})).toPromise();case 3:try{X.rtejsLog=function(_t,_A){switch(_t){case 0:ae.log(_A," ---------- rtejsLog ");break;case 1:ae.info(_A," ---------- rtejsLog ");break;case 2:ae.warn(_A," ---------- rtejsLog ");break;default:ae.logError(_A," ---------- rtejsLog ")}}}catch(_t){this.warn("reload function rtejsLog failure. ".concat(_t))}if(C=ra.login,this.token&&Zl(this.token,this.appId,C,function(_t){ae.warn(_t)}),this.connectionState==="DISCONNECTED"||this.connectionState==="FAILED"){_r.next=9;break}return p={timeToken:0},_r.abrupt("return",p);case 9:if(Fb(this.userId)){_r.next=12;break}throw B=V(G.RTM_ERROR_INVALID_USER_ID),Q=B.code,y=B.reason,new Ja(C,[y],Q);case 12:if(_=this.token,this.token===this.context.appId&&(_=void 0),typeof _!="string"||!_){_r.next=18;break}this.context.token=_,_r.next=21;break;case 18:if(typeof _=="string"||_==null){_r.next=21;break}throw S=V(G.RTM_ERROR_INVALID_TOKEN),w=S.code,O=S.reason,new Ja(C,[O],w);case 21:return M=new Promise(function(_t,_A){P=_t,K=_A}),Qq(!0),this.info("RTM Client logging in as ".concat(Ca(this.userId))),U=nj(),this.context.sid=qc(U),Ng("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Ub(this.session&&this.session.startTime),index:{index1:this.userId,index2:this.context.appId,index3:"logUpload=".concat(this.context.config.logUpload)},installId:this.processId,lts:T.fromNumber(Date.now()),os:7,sid:qc(U),token:_||"",userId:this.userId,ver:"2.1.9",buildno:1211,subVersion:411,version:8},(l=this.context.config.cloudProxy)!==null&&l!==void 0&&l,!0),F={timeToken:0},W=Date.now(),this.loginPromise=this.loginImpl({uid:this.userId,instanceId:U}),this.loginPromise.then(function(){ae.connectionCount++,2<=ae.connectionCount&&(ae.checkVid(),ae.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),P(F))}).catch(function(_t){var _A;0<ae.connectionCount&&(ae.logoutSync(),ae.warn("close sync-proxy socket")),tb(_t)&&Hb("Link",{ackedServerIp:"",destServerIp:"",ec:_t.code||1,sc:_t.serverCode,elapse:Ub(ae.session&&ae.session.startTime),lts:T.fromNumber(Date.now()),responseTime:Date.now()-W,sid:qc(U),userId:ae.userId},(_A=ae.context.config.cloudProxy)!==null&&_A!==void 0&&_A,ae.context.vid),ae.context.token=void 0,ae.context.socketUseProxy=!1,K(_t)}).finally(function(){ae.loginPromise=void 0,Qq(!1),ae.context.socketUseProxy&&ae.log("port fallback to 443")}),this.loginSync().then(function(){ae.connectionCount++,2<=ae.connectionCount&&(ae.checkVid(),ae.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS"),P(F))}).catch(function(_t){0<ae.connectionCount&&(ae.logoutRegistrar(),ae.warn("close registrar socket")),ae.logError(_t),K(_t)}),_r.abrupt("return",M);case 33:case"end":return _r.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"loginSync",value:function(){var s=wa(Z.mark(function g(){var l,C,p=this;return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return l=nj(),this.loginSyncPromise=this.loginSyncImpl({uid:this.userId,instanceOfSyncId:l}),this.info("RTM Sync Client logging in as ".concat(Ca(this.userId))),C=Date.now(),B.abrupt("return",this.loginSyncPromise.catch(function(Q){var y;throw tb(Q)&&p.info({ackedServerIp:"",destServerIp:"",ec:Q.code||1,sc:Q.serverCode,elapse:Ub(p.session&&p.session.startTime),lts:T.fromNumber(Date.now()),responseTime:Date.now()-C,sid:qc(l),userId:p.userId,cloudProxy:(y=p.context.config.cloudProxy)!==null&&y!==void 0&&y,error:lb({},Q||{}),loginSync:"isRtmError"},"Link"),Q}).finally(function(){p.loginSyncPromise=void 0}));case 5:case"end":return B.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"exceptionLogout",value:function(){var s=wa(Z.mark(function g(l,C){var p=this;return Z.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,this.logoutVosWeb();case 2:this.getJoinedPresenceChannels().forEach(function(Q){var y,_=Q.prefixChannelName;Q=Q.withPresence,(y=p.sessionOfSync)===null||y===void 0||y.clearChannelCacheAPointers(_,Q)}),this.logoutRegistrar(),this.internalLogout(),this.onSyncConnectionStateChanged(l,C),this.onConnectionStateChanged(l,C);case 8:case"end":return B.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"internalLogout",value:function(){this.streamChannelList=[],this.stChannelInstances=[],this.firstSubscribeChannel.clear(),this.firstSubscribeUser.clear(),this.internalEmitter.emit("LOGOUT")}},{key:"logoutVosWeb",value:function(){var s=wa(Z.mark(function g(){var l=this;return Z.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.all(this.stChannelInstances.filter(function(p){return l.log("channel(".concat(p.channelName,"), isJoinedChannel: ").concat(p.isJoinedChannel)),p.isJoinedChannel}).map(function(p){return p.removeAllListeners(),p.leave()}));case 2:case"end":return C.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"getJoinedPresenceChannels",value:function(){var s,g,l,C=[];return(s=this.sessionOfSync)===null||s===void 0||s.withPresenceChannels.forEach((l=wa(Z.mark(function p(B,Q){return Z.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:C.push({prefixChannelName:Q,withPresence:!0});case 1:case"end":return y.stop()}},p)})),function(p,B){return l.apply(this,arguments)})),(g=this.sessionOfSync)===null||g===void 0||g.withoutPresenceChannels.forEach(function(){var p=wa(Z.mark(function B(Q,y){return Z.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:C.push({prefixChannelName:y,withPresence:!1});case 1:case"end":return _.stop()}},B)}));return function(B,Q){return p.apply(this,arguments)}}()),C}},{key:"reportEvents",value:function(){var s;ym(this.context.vid,this.context.cloudProxy,!0);var g=(s=this.session)===null||s===void 0?void 0:s.connection.apClient.reportIntervalId;g&&clearInterval(g)}},{key:"loginSyncImpl",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O=this;return Z.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(C=l.uid,p=l.instanceOfSyncId,B=l.forceLoginTime,Q=B===void 0?0:B,y=p,this.syncConnectionState==="DISCONNECTED"||Q!==0){P.next=5;break}return P.abrupt("return");case 5:return Q===0&&this.onSyncConnectionStateChanged("CONNECTING","CONNECTING"),(_=new vy(this.context,this.logger,!1)).blacklistedSyncIP=this.blacklistedSyncIP,this.sessionOfSync=S=new aN(this.context,_,y,this.logger,function(){return O.presenceTimeout},function(){return O.consoleConfig}),w=function(){O.syncConnectionState==="CONNECTED"&&(O.onSyncConnectionStateChanged("RECONNECTING","INTERRUPTED"),O.sessionOfSync)&&O.sessionOfSync.once("userJoined",function(){O.onSyncConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")})},S.on("connectionOfSyncLost",w),S.on("banSyncIP",function(K){O.banSyncIP(K)}),S.on("presence",function(K){O.emit("presence",K)}),S.on("initDocFailure",function(K){var M;(M=O.session)===null||M===void 0||M.updateChannelOptionsCache2False(K,"withPresence"),K=$c(K),O.emit("presence",{eventType:"ERROR_OUT_OF_SERVICE",channelType:K.channelType,channelName:K.channelName,publisher:O.context.uid,stateChanged:{},interval:null,snapshot:[]})}),S.once("internal-logout",wa(Z.mark(function K(){var M;return Z.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return(M=O.session)===null||M===void 0||M.connection.apClient.apFinish$.next(void 0),U.next=3,O.logoutImpl(!0);case 3:case"end":return U.stop()}},K)}))),P.abrupt("return",S.loginHandler().toPromise().then(function(){O.onSyncConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")}).catch(function(K){if(K.name==="loginRespTimeout"&&2>Q)return S.removeAllListeners(),O.loginSyncImpl({uid:C,instanceOfSyncId:p,forceLoginTime:Q+1});throw Ib(K)&&O.onSyncConnectionStateChanged("DISCONNECTED","LOST"),O.onSyncConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),O.handleConnectionFailed("syncProxy",K)}));case 17:case"end":return P.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"logout",value:function(){var s=wa(Z.mark(function g(){return Z.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.logoutImpl();case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"logoutImpl",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y=this;return Z.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(p={timeToken:0},!this.loginPromise){_.next=4;break}return _.next=4,this.loginPromise;case 4:if(!this.loginSyncPromise){_.next=7;break}return _.next=7,this.loginSyncPromise;case 7:if(this.connectionState!=="DISCONNECTED"){_.next=10;break}return this.warn("Already in logout state: ".concat(this.connectionState)),_.abrupt("return",p);case 10:if(Hb("Logout",{elapse:Ub(this.session.startTime),lts:T.fromNumber(Date.now()),sid:qc(this.session.instanceId),userId:this.context.uid},(C=this.context.config.cloudProxy)!==null&&C!==void 0&&C,this.context.vid),this.connectionState!=="FAILED"){_.next=16;break}return this.info('Reset connection state from "FAILED" to "DISCONNECTED"'),_.next=15,this.exceptionLogout("DISCONNECTED","LOGOUT");case 15:return _.abrupt("return",p);case 16:if(this.connectionState!=="RECONNECTING"||l){_.next=21;break}return this.info('Reset connection state from "RECONNECTING" to "DISCONNECTED"'),_.next=20,this.exceptionLogout("DISCONNECTED","LOST");case 20:return _.abrupt("return",p);case 21:return Q=new Promise(function(S,w){B=S}),_.next=24,this.logoutVosWeb();case 24:return _.next=26,this.logoutSync();case 26:return this.internalLogout(),this.logoutRegistrar().then(function(){y.log("Log out success")}).finally(function(){y.reportEvents(),l?y.onConnectionStateChanged("FAILED","PRESENCE_NOT_READY"):y.onConnectionStateChanged("DISCONNECTED","LOGOUT"),B(p)}),_.abrupt("return",Q);case 29:case"end":return _.stop()}},g,this)}));return function(g){return s.apply(this,arguments)}}()},{key:"logoutRegistrar",value:function(){var s=wa(Z.mark(function g(){return Z.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",this.session.logoutHandler(this.hasLock()));case 1:case"end":return l.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var s=wa(Z.mark(function g(){var l,C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae=this;return Z.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:return _=ra.logout,S=this.getJoinedPresenceChannels(),_r.next=4,Promise.all(S.map(function(_t){var _A,na=_t.prefixChannelName;return _t=_t.withPresence,(_A=ae.sessionOfSync)===null||_A===void 0?void 0:_A.absent(na,_t)}));case 4:return w="/Vendors/"+((l=(C=this.sessionOfSync)===null||C===void 0?void 0:C.connection.apClient.vid)!==null&&l!==void 0?l:"")+"/Presence",O=Za(w),P=Za(this.userId),X._rte_crdt_client_stop_keepalive((p=this.sessionOfSync)===null||p===void 0?void 0:p.clientPtr,O,P),(B=this.sessionOfSync)===null||B===void 0||B.getLoginSockets().map(function(_t){var _A;ae==null||(_A=ae.sessionOfSync)===null||_A===void 0||_A.sendPing(_t)}),U=new Promise(function(_t,_A){K=_t,M=_A}),F=X.addFunction(function(){var _t=wa(Z.mark(function _A(na,oa){var ha,fa,Da,ga,ma;return Z.wrap(function(Ra){for(;;)switch(Ra.prev=Ra.next){case 0:return na!==Sa.ErrOK&&(Da=Jc(na),ga=Da.code,ma=Da.reason,M(new ja(_,[ma],ga)),ae.warn("".concat("Sync Callback Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(na))),ae.log("".concat("Sync Callback emitted ",": Delete global document succeed!")),Ra.next=4,(ha=ae.sessionOfSync)===null||ha===void 0?void 0:ha.logoutHandler();case 4:ae.onSyncConnectionStateChanged("DISCONNECTED","LOGOUT"),K(!0),(fa=ae.sessionOfSync)===null||fa===void 0||fa.emit("endOfCallback",F);case 7:case"end":return Ra.stop()}},_A)}));return function(_A,na){return _t.apply(this,arguments)}}(),"vii"),W=X._rte_crdt_client_delete_doc_remote((Q=this.sessionOfSync)===null||Q===void 0?void 0:Q.clientPtr,O,P,F,0),ib(O),ib(P),(y=this.sessionOfSync)===null||y===void 0||y.getLoginSockets().map(function(_t){var _A;ae==null||(_A=ae.sessionOfSync)===null||_A===void 0||_A.sendPing(_t)}),W!==Sa.ErrOK?this.warn("".concat("Sync Api Error",": rte_crdt_client_delete_doc_remote, ret is ").concat(W)):this.log("".concat("Sync Request Start",": delete global document when performing ").concat(_,".")),_r.abrupt("return",U);case 17:case"end":return _r.stop()}},g,this)}));return function(){return s.apply(this,arguments)}}()},{key:"publish",value:function(){var s=wa(Z.mark(function g(l,C,p){var B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga=this;return Z.wrap(function(ma){for(;;)switch(ma.prev=ma.next){case 0:if(B=ra.publish,p==null||!p.channelType||(p==null?void 0:p.channelType)==="USER"||(p==null?void 0:p.channelType)==="MESSAGE"){ma.next=4;break}throw Q=V(G.RTM_ERROR_INVALID_CHANNEL_TYPE),y=Q.code,_=Q.reason,new Ja(B,[_],y);case 4:if(this.validateRtmConnection(B),Fb(l)){ma.next=8;break}throw S=V(G.RTM_ERROR_INVALID_CHANNEL_NAME),w=S.code,O=S.reason,new Ja(B,[O],w);case 8:if(zz(C,B),p!=null&&p.customType&&dr(p==null?void 0:p.customType,B),P={timeToken:0,channelName:l},K=C instanceof Uint8Array?{rawMessage:C,messageType:"RAW"}:{text:C,messageType:"TEXT"},U=(M=(p==null?void 0:p.channelType)==="USER")?K.messageType==="TEXT"?Cb.P2pSMsgNoOfflineFlag:Cb.P2pRMsgNoOfflineFlag:K.messageType==="TEXT"?Cb.ChannelSMsg:Cb.ChannelRMsg,hz(K,G.RTM_ERROR_CHANNEL_INVALID_MESSAGE),this.connectionState!=="RECONNECTING"){ma.next=20;break}return F=Date.now(),ma.next=19,new Promise(function(Ra,$a){var Ka,_u=(Ka=wa(Z.mark(function _E(){var Bh,_I,zf,oQ,gQ,yQ,NQ,uQ;return Z.wrap(function(_B){for(;;)switch(_B.prev=_B.next){case 0:return Bh=Date.now()-F,_B.prev=1,_B.next=4,Kq({message:K,peerId:l,session:ga.session,errorCodes:{NOT_LOGGED_IN:G.RTM_ERROR_NOT_LOGIN,TOO_OFTEN:G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION},diff:Bh,customType:p==null?void 0:p.customType,toPeer:M});case 4:Ra(),_B.next=15;break;case 7:_B.prev=7,_B.t0=_B.catch(1),oQ=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),gQ=oQ.code,yQ=oQ.reason,Ib(_B.t0)&&((NQ=ga.session)===null||NQ===void 0||NQ.emit("messageCount",{messageCategory:U,type:"common",key:"sentcount"}),(uQ=ga.session)===null||uQ===void 0||uQ.emit("messageCount",{messageCategory:U,type:"common",key:"timeoutcount"}),$a(new we(B,[yQ],gQ))),tb(_B.t0)&&$a(_B.t0),(_I=ga.session)===null||_I===void 0||_I.emit("messageCount",{messageCategory:U,type:"common",key:"sentcount"}),(zf=ga.session)===null||zf===void 0||zf.emit("messageCount",{messageCategory:U,type:"common",key:"unknowerrorcount"}),$a(new ja(B,[yQ],gQ));case 15:return _B.prev=15,clearTimeout(Uc),_B.finish(15);case 18:case"end":return _B.stop()}},_E,null,[[1,7,15,18]])})),function(){return Ka.apply(this,arguments)});ga.internalEmitter.once("RECONNECTED",_u);var Uc=setTimeout(function(){ga.internalEmitter.off("RECONNECTED",_u);var _E=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED);$a(new we(B,[_E.reason],_E.code))},9e3)});case 19:return ma.abrupt("return",P);case 20:return ma.prev=20,ma.next=23,Kq({message:K,peerId:l,session:this.session,errorCodes:{NOT_LOGGED_IN:G.RTM_ERROR_NOT_LOGIN,TOO_OFTEN:G.RTM_ERROR_OPERATION_RATE_EXCEED_LIMITATION},diff:0,customType:p==null?void 0:p.customType,toPeer:M});case 23:ma.next=39;break;case 25:if(ma.prev=25,ma.t0=ma.catch(20),!Ib(ma.t0)){ma.next=32;break}throw(_r=this.session)===null||_r===void 0||_r.emit("messageCount",{messageCategory:U,type:"common",key:"sentcount"}),(_t=this.session)===null||_t===void 0||_t.emit("messageCount",{messageCategory:U,type:"common",key:"timeoutcount"}),_A=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_TIMEOUT),na=_A.code,oa=_A.reason,new we(B,[oa],na);case 32:if(!tb(ma.t0)){ma.next=35;break}throw this.logError(ma.t0),ma.t0;case 35:throw(W=this.session)===null||W===void 0||W.emit("messageCount",{messageCategory:U,type:"common",key:"sentcount"}),(ae=this.session)===null||ae===void 0||ae.emit("messageCount",{messageCategory:U,type:"common",key:"unknowerrorcount"}),ha=V(G.RTM_ERROR_CHANNEL_PUBLISH_MESSAGE_FAILED),fa=ha.code,Da=ha.reason,new si(B,[Da],fa);case 39:return ma.abrupt("return",P);case 40:case"end":return ma.stop()}},g,this,[[20,25]])}));return function(g,l,C){return s.apply(this,arguments)}}()},{key:"subscribe",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha,fa,Da,ga,ma,Ra,$a,Ka,_u,Uc,_E,Bh,_I,zf,oQ,gQ,yQ,NQ,uQ,_B,IQ,SQ,dQ,pQ,aQ,Ah,da,Wa,_l,vd,CQ,tQ,BQ,_m,DQ,UQ,XQ,b0,D0,_p,TQ,YQ=this;return Z.wrap(function(hQ){for(;;)switch(hQ.prev=hQ.next){case 0:if(_r=ra.subscribe,this.validateRtmConnection(_r),C={withLock:(p=(B=C)===null||B===void 0?void 0:B.withLock)!==null&&p!==void 0&&p,withMessage:(Q=(y=C)===null||y===void 0?void 0:y.withMessage)===null||Q===void 0||Q,withMetadata:(_=(S=C)===null||S===void 0?void 0:S.withMetadata)!==null&&_!==void 0&&_,withPresence:(w=(O=C)===null||O===void 0?void 0:O.withPresence)===null||w===void 0||w},_t={timeToken:0,channelName:l},this.validateSessionExist(_r),Fb(l)){hQ.next=8;break}throw _A=V(G.RTM_ERROR_INVALID_CHANNEL_NAME),na=_A.code,oa=_A.reason,new Ja(_r,[oa],na);case 8:if(this.session.subscribedChannels.get(l)||!(50<=this.session.usedChannelIds.length||50<=ta(this.session.subscribedChannels.keys()).length)){hQ.next=12;break}throw fa=V(G.RTM_ERROR_CHANNEL_INSTANCE_EXCEED_LIMITATION),Da=fa.code,ga=fa.reason,Hb("ChnJoin",{cname:l,lts:T.fromNumber(Date.now()),userId:this.userId,elapse:Ub(this.session.startTime),errCode:Da,sid:qc(this.session.instanceId)},(ha=this.context.config.cloudProxy)!==null&&ha!==void 0&&ha,this.context.vid),new Zc(_r,[ga],Da);case 12:if(this.channelMemberJoinedLru.set(l,new hg(void 0,{maxlen:1e4})),this.channelMemberJoinStateLru.set(l,new hg(void 0,{maxlen:1e4})),ma=(P=this.session.subscribedChannels.get(l))===null||P===void 0?void 0:P.withLock,Ra=(K=this.session.subscribedChannels.get(l))===null||K===void 0?void 0:K.withMetadata,$a=(M=this.session.subscribedChannels.get(l))===null||M===void 0?void 0:M.withMessage,Ka=(U=this.session.subscribedChannels.get(l))===null||U===void 0?void 0:U.withPresence,this.session.subscribedChannels.get(l)?(_I=this.session.subscribedChannels.get(l),this.session.subscribedChannels.set(l,{withLock:(_I==null?void 0:_I.withLock)||((_u=C)===null||_u===void 0?void 0:_u.withLock),withMetadata:(_I==null?void 0:_I.withMetadata)||((Uc=C)===null||Uc===void 0?void 0:Uc.withMetadata),withPresence:(_I==null?void 0:_I.withPresence)||((_E=C)===null||_E===void 0?void 0:_E.withPresence),withMessage:(_I==null?void 0:_I.withMessage)||((Bh=C)===null||Bh===void 0?void 0:Bh.withMessage)})):this.session.subscribedChannels.set(l,C),(F=C)===null||F===void 0||!F.withMetadata||Ra||this.consoleConfig["storage.channel_subscribe_enabled"]!=="true"){hQ.next=30;break}return hQ.prev=20,hQ.next=23,(zf=this.session)===null||zf===void 0?void 0:zf.requestSubscribeChannelMetadata(l,"JOIN");case 23:this.firstSubscribeChannel.add(l),hQ.next=30;break;case 26:hQ.prev=26,hQ.t0=hQ.catch(20),(oQ=this.session)===null||oQ===void 0||oQ.updateChannelOptionsCache2False(l,"withMetadata"),this.warn("sub channel metadata failure when sub channel(".concat(Ca(l),"), error is ").concat(hQ.t0,"."));case 30:if((W=C)===null||W===void 0||!W.withLock||ma){hQ.next=40;break}return hQ.prev=31,hQ.next=34,(gQ=this.session)===null||gQ===void 0?void 0:gQ.requestSubscribeLock(l);case 34:hQ.next=40;break;case 36:hQ.prev=36,hQ.t1=hQ.catch(31),(yQ=this.session)===null||yQ===void 0||yQ.updateChannelOptionsCache2False(l,"withLock"),this.warn("sub lock info failure when sub channel(".concat(Ca(l),"), error is ").concat(hQ.t1,"."));case 40:if((ae=C)===null||ae===void 0||!ae.withMessage||$a){hQ.next=72;break}if(hQ.prev=41,IQ=this.subChannelStateCache.get(l),(NQ=C)===null||NQ===void 0||!NQ.withMessage||!IQ||IQ==="LEFT"){hQ.next=47;break}return Hb("ChnJoin",{cname:l,lts:T.fromNumber(Date.now()),userId:this.userId,elapse:Ub(this.session.startTime),errCode:G.RTM_ERROR_OK,sid:qc(this.session.instanceId)},(SQ=this.context.config.cloudProxy)!==null&&SQ!==void 0&&SQ,this.context.vid),dQ={channelName:l,timeToken:0},hQ.abrupt("return",dQ);case 47:Hb("ChnJoin",{cname:l,lts:T.fromNumber(Date.now()),userId:this.userId,elapse:Ub(this.session.startTime),errCode:0,sid:qc(this.session.instanceId)},(uQ=this.context.config.cloudProxy)!==null&&uQ!==void 0&&uQ,this.context.vid),this.log("Joining the channel %s",Ca(l)),this.subChannelStateCache.set(l,"JOINING"),this.session.usedChannelIds.push(l),this.subChannelPromiseCache.set(l,this.session.requestChannelJoin(l).then(function(){YQ.subChannelStateCache.set(l,"JOINED")})),Hb("ChnJoinRes",{cname:l,lts:T.fromNumber(Date.now()),elapse:Ub(this.session.startTime),errCode:0,sid:qc(this.session.instanceId),serverErrCode:0,userId:this.userId},(_B=this.context.config.cloudProxy)!==null&&_B!==void 0&&_B,this.context.vid),this.info("The channel %s joined successfully",Ca(l)),this.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.internalEmitter.once("LOGOUT",this.onLogout),hQ.next=70;break;case 58:if(hQ.prev=58,hQ.t2=hQ.catch(41),this.subChannelStateCache.get(l)==="JOINING"&&this.subChannelStateCache.set(l,"LEFT"),this.logError(hQ.t2),!tb(hQ.t2)){hQ.next=64;break}throw hQ.t2;case 64:if(!Ib(hQ.t2)){hQ.next=68;break}throw aQ=V(G.RTM_ERROR_CHANNEL_SUBSCRIBE_TIMEOUT),Ah=aQ.code,da=aQ.reason,Hb("ChnJoinRes",{cname:l,lts:T.fromNumber(Date.now()),elapse:Ub(this.session.startTime),errCode:Ah,sid:qc(this.session.instanceId),serverErrCode:0,userId:this.userId},(pQ=this.context.config.cloudProxy)!==null&&pQ!==void 0&&pQ,this.context.vid),new we(_r,[da],Ah);case 68:throw Wa=V(G.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),_l=Wa.code,vd=Wa.reason,new si(_r,[vd],_l);case 70:hQ.next=73;break;case 72:this.subChannelStateCache.set(l,"JOINED");case 73:if(this.syncConnectionState==="CONNECTED"){hQ.next=81;break}this.warn("The uer is not logged in PresenceService. Cannot subscribe presence"),(CQ=this.session)===null||CQ===void 0||CQ.updateChannelOptionsCache2False(l,"withPresence"),_m={eventType:"ERROR_OUT_OF_SERVICE",channelType:"MESSAGE",channelName:l,publisher:this.context.uid,stateChanged:{},interval:null,snapshot:[]},this.needReSubPresenceChannels.set(l,(tQ=(BQ=C)===null||BQ===void 0?void 0:BQ.withPresence)!==null&&tQ!==void 0&&tQ),this.emit("presence",_m),hQ.next=96;break;case 81:if(DQ=V(G.RTM_ERROR_CHANNEL_SUBSCRIBE_FAILED),UQ=DQ.code,XQ=DQ.reason,hQ.prev=82,(b0=C)===null||b0===void 0||!b0.withPresence||Ka){hQ.next=88;break}return hQ.next=86,(_p=this.sessionOfSync)===null||_p===void 0?void 0:_p.subscribe(l);case 86:hQ.next=91;break;case 88:if((D0=C)!==null&&D0!==void 0&&D0.withPresence||Ka!==void 0){hQ.next=91;break}return hQ.next=91,(TQ=this.sessionOfSync)===null||TQ===void 0?void 0:TQ.attend(l);case 91:hQ.next=96;break;case 93:throw hQ.prev=93,hQ.t3=hQ.catch(82),new si(_r,[XQ+hQ.t3],UQ);case 96:return hQ.abrupt("return",_t);case 97:case"end":return hQ.stop()}},g,this,[[20,26],[31,36],[41,58],[82,93]])}));return function(g,l){return s.apply(this,arguments)}}()},{key:"unsubscribe",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae,_r,_t,_A,na,oa,ha;return Z.wrap(function(fa){for(;;)switch(fa.prev=fa.next){case 0:if(O=ra.unsubscribe,this.validateRtmConnection(O),P={timeToken:0,channelName:l},this.channelMemberLeftLru.set(l,new hg(void 0,{maxlen:1e4})),this.validateSessionExist(O),this.subChannelStateCache.get(l)!=="LEFT"&&this.subChannelStateCache.get(l)){fa.next=8;break}throw K=V(G.RTM_ERROR_CHANNEL_NOT_SUBSCRIBED),M=K.code,U=K.reason,new cb(O,[U],M);case 8:if(F=(C=(p=this.session.subscribedChannels.get(l))===null||p===void 0?void 0:p.withPresence)!==null&&C!==void 0&&C,W=(B=(Q=this.session.subscribedChannels.get(l))===null||Q===void 0?void 0:Q.withMetadata)!==null&&B!==void 0&&B,ae=(y=(_=this.session.subscribedChannels.get(l))===null||_===void 0?void 0:_.withLock)!==null&&y!==void 0&&y,(S=this.session)===null||S===void 0||S.subscribedChannels.delete(l),this.needReSubPresenceChannels.delete(l),fa.prev=13,this.session.requestChannelLeave(l),!W){fa.next=18;break}return fa.next=18,this.session.requestUnsubscribeChannelMetadata(l);case 18:if(!ae){fa.next=21;break}return fa.next=21,this.session.requestUnsubscribeLock(l);case 21:return fa.next=23,this.clearChannel(this.session,[l]);case 23:(_r=this.sessionOfSync)===null||_r===void 0||_r.absent(l,F),fa.next=36;break;case 26:if(fa.prev=26,fa.t0=fa.catch(13),this.logError(fa.t0),!tb(fa.t0)){fa.next=33;break}throw fa.t0.code===void 0&&(fa.t0.code=G.RTM_ERROR_CHANNEL_LEAVE_FAILED),Hb("ChnLeave",{cname:l,lts:T.fromNumber(Date.now()),elapse:Ub(this.session.startTime),errCode:G.RTM_ERROR_CHANNEL_LEAVE_FAILED,sid:qc(this.session.instanceId),userId:this.userId},(_A=this.context.config.cloudProxy)!==null&&_A!==void 0&&_A,this.context.vid),fa.t0;case 33:throw Hb("ChnLeave",{cname:l,lts:T.fromNumber(Date.now()),elapse:Ub(this.session.startTime),errCode:G.RTM_ERROR_CHANNEL_LEAVE_FAILED,sid:qc(this.session.instanceId),userId:this.userId},(_t=this.context.config.cloudProxy)!==null&&_t!==void 0&&_t,this.context.vid),na=V(G.RTM_ERROR_CHANNEL_LEAVE_FAILED),oa=na.code,ha=na.reason,new si(O,[ha],oa);case 36:return Hb("ChnLeave",{cname:l,lts:T.fromNumber(Date.now()),elapse:Ub(this.session.startTime),errCode:0,sid:qc(this.session.instanceId),userId:this.userId},(w=this.context.config.cloudProxy)!==null&&w!==void 0&&w,this.context.vid),fa.abrupt("return",P);case 38:case"end":return fa.stop()}},g,this,[[13,26]])}));return function(g){return s.apply(this,arguments)}}()},{key:"createStreamChannel",value:function(s){var g=this,l=ra.createStreamChannel;if(this.validateRtmConnection(l),this.validateSessionExist(l),!Fb(s)){var C=V(G.RTM_ERROR_INVALID_CHANNEL_NAME);throw new Ja(l,[C.reason],C.code)}return(l=this.streamChannelList.findIndex(function(p){return p===s}))!=-1?(this.log("channel already exists ".concat(Ca(s))),this.stChannelInstances[l]):(l=new bN(this.logger,{channelName:s,appId:this.appId,userId:this.useStringUserId===!1?parseInt(this.userId):this.userId},this,function(){return g.session},function(){return g.sessionOfSync}),this.stChannelInstances.push(l),l.internalEmitter.on("stream-channel-joined",function(p){g.streamChannelList.push(p)}),l.internalEmitter.on("stream-channel-leaved",function(p){g.streamChannelList=g.streamChannelList.filter(function(B){return B!==p})}),l)}},{key:"addEventListener",value:function(s,g){this.on(s,g)}},{key:"removeEventListener",value:function(s,g){this.off(s,g)}},{key:"loginImpl",value:function(){var s=wa(Z.mark(function g(l){var C,p,B,Q,y,_,S,w,O,P,K,M,U,F,W,ae=this;return Z.wrap(function(_r){for(;;)switch(_r.prev=_r.next){case 0:if(C=l.uid,p=l.instanceId,B=l.forceLoginTime,Q=B===void 0?0:B,y=ra.login,_=p,!(this.lastLoginTime!==void 0&&500>Date.now()-this.lastLoginTime&&0<Q)){_r.next=6;break}throw S=V(G.RTM_ERROR_LOGIN_ABORTED),w=S.code,O=S.reason,new md(y,[O],w);case 6:_r.prev=6,this.context.uid=C,_r.next=14;break;case 10:throw _r.prev=10,_r.t0=_r.catch(6),P=V(G.RTM_ERROR_INVALID_USER_ID),K=P.code,M=P.reason,new Ja(y,[M],K);case 14:return Q===0&&this.onConnectionStateChanged("CONNECTING","CONNECTING"),(U=new ny(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=F=new ty(this.context,U,_,this.logger,{initEncryption:this.initEncryption,key:this.key,iv:this.iv,keyLength:this.keyLength}),W=function(){ae.connectionState==="CONNECTED"&&(ae.onConnectionStateChanged("RECONNECTING","INTERRUPTED"),ae.session)&&ae.session.once("userJoined",function(){ae.onConnectionStateChanged("CONNECTED","LOGIN_SUCCESS")})},F.on("connectionLost",W),F.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),F.once("userDrop",this.userDropHandler),F.on("instanceChanged",function(_t){return _=_t}),F.on("banEdgeIP",function(_t){ae.banIP(_t)}),F.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),this.session.on("channelTextMessage",this.onChannelTextMessage),this.session.on("channelRawMessage",this.onChannelRawMessage),this.session.on("memberNotice",this.onMemberNotice),this.session.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.session.on("channelLockEvent",this.onChannelLockEvent),this.session.on("lockWatching",this.lock.onLockWatching),this.session.on("lockExpired",this.emitLockExpired),this.session.on("acquireSuccess",function(_t){ae.updateLocalAcquiredLocksCache(_t.prefixChannelName,_t.lockName,"add",_t.revision)}),this.session.on("releaseSuccess",function(_t){ae.updateLocalAcquiredLocksCache(_t.channelName,_t.lockName,"delete")}),this.session.on("appConfig",function(_t){ae.consoleConfig=_t}),this.lastLoginTime=Date.now(),_r.abrupt("return",F.loginHandler().toPromise().catch(function(_t){if(_t.name==="loginRespTimeout"&&2>Q)return ae.log("loginRespTimeout: internal re-login..."),F.removeAllListeners(),ae.loginImpl({uid:C,instanceId:p,forceLoginTime:Q+1});throw ae.handleConnectionFailed("registrar",_t)}));case 38:case"end":return _r.stop()}},g,this,[[6,10]])}));return function(g){return s.apply(this,arguments)}}()},{key:"handleConnectionFailed",value:function(s,g){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:ra.login;if(this.log("Login failed when connecting ".concat(s)),this.connectionState==="CONNECTING"){if(Ib(g)){this.onConnectionStateChanged("DISCONNECTED","LOST");var C=V(G.RTM_ERROR_LOGIN_TIMEOUT);throw new we(l,[C.reason],C.code)}throw(g==null?void 0:g.code)===G.RTM_ERROR_TOKEN_EXPIRED?(this.onConnectionStateChanged("DISCONNECTED","TOKEN_EXPIRED"),g):(this.onConnectionStateChanged("DISCONNECTED","REJECTED_BY_SERVER"),tb(g)?g:(C=V(G.RTM_ERROR_LOGIN_ABORTED),new ja(l,[C.reason],C.code)))}}},{key:"onConnectionStateChanged",value:function(s,g){var l,C,p=this;s==="RECONNECTING"&&(this.reconnId+=1),Ng("ConnectionStateChange",{elapse:Ub(this.session&&this.session.startTime),lts:T.fromNumber(Date.now()),newState:ml[s],oldState:ml[this.connectionState],reason:Cy[g],sid:qc(this.session&&this.session.instanceId||T.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},(l=this.context.config.cloudProxy)!==null&&l!==void 0&&l),this.connectionState==="RECONNECTING"&&s==="CONNECTED"&&(l=(C=this.session)===null||C===void 0?void 0:C.subscribedChannels.keys(),(C=ta(l??[]))&&0<C.length&&C.forEach(function(B){var Q,y=((Q=p.session)===null||Q===void 0?void 0:Q.subscribedChannels.get(B))||{};y.withMetadata,y.withLock,Q=p.localAcquiredLocks.get(B)||new Map,p.lock.acquireOperationNoRes.forEach(function(_){var S,w=_.slice(B.length).slice(3);p.log("Try reacquireLock(".concat(w," from notResp lock queue when reconnected.")),(S=p.session)===null||S===void 0||S.requestAcquireLock(B,w).toPromise().then(function(O){p.log("reacquireLock(".concat(w,") succeed that want to acquire with retry true before connection lost, code is ").concat(O,"."))}).catch(function(O){p.warn("reacquireLock(".concat(w,") failed, ret is ").concat(O==null?void 0:O.errorCode))}).finally(function(){p.lock.acquireOperationNoRes.delete(_)})}),Q&&Q.forEach(function(_,S){var w;p.log("Try reacquireLock(".concat(S,") when reconnected."));var O=function(){var P,K=$c(B);p.emitLockExpired({channelType:K.channelType,channelName:K.channelName,eventType:"EXPIRED",lockName:S,ttl:0,publisher:"",snapshot:[]}),(P=p.session)===null||P===void 0||P.requestReleaseLock(B,S).toPromise()};(w=p.session)===null||w===void 0||w.requestAcquireLock(B,S).toPromise().then(function(P){P.lockRev.toNumber()!==_.revision&&(p.log("newRev: ".concat(P.lockRev,", rev: ").concat(_.revision,", code: ").concat(P," for reacquire.")),O())}).catch(function(){O()})})}),this.internalEmitter.emit("RECONNECTED")),this.connectionState=s,s!=="FAILED"&&s!=="DISCONNECTED"||(this.reconnId=0,this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.storage.subscribedUserMetaCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("status",{state:s,reason:g})}},{key:"onSyncConnectionStateChanged",value:function(s,g){var l,C=this;s==="RECONNECTING"&&(this.reconnSyncId+=1),this.log("Sync-ConnectionStateChange: %o",{elapse:Ub(this.session&&this.session.startTime),lts:T.fromNumber(Date.now()),newState:ml[s],oldState:ml[this.connectionState],reason:Cy[g],sid:qc(this.session&&this.session.instanceId||T.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId,cloudProxy:(l=this.context.config.cloudProxy)!==null&&l!==void 0&&l,reconnSyncId:this.reconnSyncId}),this.syncConnectionState==="RECONNECTING"&&s==="CONNECTED"&&this.needReSubPresenceChannels.forEach(function(p,B){var Q,y,_,S,w;!p||(Q=C.sessionOfSync)!==null&&Q!==void 0&&Q.subscribedPresenceChannels.has(B)||((_=C.session)===null||_===void 0||_.updateChannelOptionsCache2True(B,"withPresence"),(S=C.sessionOfSync)===null||S===void 0||S.subscribe(B)),p!==!1||(y=C.sessionOfSync)!==null&&y!==void 0&&y.subscribedPresenceChannels.has(B)||(w=C.sessionOfSync)===null||w===void 0||w.attend(B),C.needReSubPresenceChannels.delete(B)}),this.syncConnectionState=s,s!=="FAILED"&&s!=="DISCONNECTED"||(this.reconnSyncId=0,this.sessionOfSync&&this.sessionOfSync.removeAllListeners()),this.info("sync-status-change: %o",{newState:s,reason:g})}},{key:"banIP",value:function(s){var g;this.log("ip banned",s);var l=(g=this.blacklistedIP[s])!==null&&g!==void 0?g:0;this.blacklistedIP[s]=l+1}},{key:"banSyncIP",value:function(s){var g,l=(g=this.blacklistedSyncIP[s])!==null&&g!==void 0?g:0;this.blacklistedSyncIP[s]=l+1}},{key:"updateLocalAcquiredLocksCache",value:function(s,g,l,C){var p,B=(p=this.localAcquiredLocks.get(s))!==null&&p!==void 0?p:new Map;l==="delete"?B==null||B.delete(g):(B.set(g,{revision:C}),this.localAcquiredLocks.set(s,B))}},{key:"clearChannel",value:function(){var s=wa(Z.mark(function g(l,C){var p,B,Q=this;return Z.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:p=Z.mark(function _(S){var w,O,P,K;return Z.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(K=C[S],l.emit("channelLeft",K),l.emit("unSubChannelLock",K),l.emit("unSubChannelMetadata",K),Q.subChannelStateCache.get(K)!=="JOINING"){M.next=7;break}return M.next=7,Q.subChannelPromiseCache.get(K);case 7:Q.subChannelStateCache.set(K,"LEFT"),(w=Q.channelMemberLeftLru.get(K))===null||w===void 0||w.empty(),(O=Q.channelMemberJoinedLru.get(K))===null||O===void 0||O.empty(),(P=Q.channelMemberJoinStateLru.get(K))===null||P===void 0||P.empty(),Q.subChannelCountCache.set(K,0),l.usedChannelIds=l.usedChannelIds.filter(function(U){var F;return(F=Q.session)===null||F===void 0||F.subscribedChannels.delete(K),U!==K});case 13:case"end":return M.stop()}},_)}),B=0;case 2:if(!(B<C.length)){y.next=7;break}return y.delegateYield(p(B),"t0",4);case 4:B++,y.next=2;break;case 7:this.internalEmitter.removeListener("LOGOUT",this.onLogout);case 8:case"end":return y.stop()}},g,this)}));return function(g,l){return s.apply(this,arguments)}}()},{key:"hasLock",value:function(){var s=!1;return 0<this.localAcquiredLocks.size&&this.localAcquiredLocks.forEach(function(g){0<g.size&&(s=!0)}),s}},{key:"validateRtmConnection",value:function(s){if(this.connectionState!=="CONNECTED"&&this.connectionState!=="RECONNECTING"){this.log("The client state is ".concat(this.connectionState,", cannot do the operation(").concat(s,")"));var g=V(G.RTM_ERROR_NOT_LOGIN);throw new cb(s,[g.reason],g.code)}}},{key:"validateSessionExist",value:function(s){if(this.session===void 0){var g=V(G.RTM_ERROR_NOT_LOGIN);throw new ja(s,[g.reason],g.code)}}},{key:"checkVid",value:function(){var s,g=this.context.vid,l=(s=this.sessionOfSync)===null||s===void 0?void 0:s.connection.apClient.vid;g!==l&&this.warn("The vid of uniLbs(".concat(g,") is not the same as the vid of syncProxy(").concat(l,")"))}}]),e}(Kc),ab(Ab.prototype,"renewToken",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"renewToken"),Ab.prototype),ab(Ab.prototype,"updateConfig",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"updateConfig"),Ab.prototype),ab(Ab.prototype,"login",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"login"),Ab.prototype),ab(Ab.prototype,"logout",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"logout"),Ab.prototype),ab(Ab.prototype,"publish",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"publish"),Ab.prototype),ab(Ab.prototype,"subscribe",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"subscribe"),Ab.prototype),ab(Ab.prototype,"unsubscribe",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"unsubscribe"),Ab.prototype),ab(Ab.prototype,"createStreamChannel",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"createStreamChannel"),Ab.prototype),ab(Ab.prototype,"addEventListener",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"addEventListener"),Ab.prototype),ab(Ab.prototype,"removeEventListener",[db],Object.getOwnPropertyDescriptor(Ab.prototype,"removeEventListener"),Ab.prototype),Ab);return{BUILD:"v2.1.9-0-g612079de",VERSION:"2.1.9",processId:UG,RTM:kN,getParameter:Ma,setArea:function(t){var e=t.areaCodes;if(t=t.excludedArea,Pc.default.setArea({areaCode:e,excludedArea:t}),!Array.isArray(e)||e.length===0||!e.every(function(n){return n in oi}))throw new Ja("setArea","Invalid area config");if(t!==void 0&&t===oi.GLOBAL)throw new Ja("setArea","Excluded area cannot be global");if(console.log(JSON.stringify({areaCodes:e,excludedArea:t}),"RTM setArea"),t===void 0)ua=Nh(e.map(function(n){return pa[n]}));else{if(e.includes(t))throw new Ja("setArea","Excluded area cannot be in areaCodes");if(!(t in pa))throw new Ja("setArea","Invalid excludedArea:",t);ua=pz({areas:e.map(function(n){return pa[n]}),excludedArea:pa[t]})}},setParameter:TG,setRTCParameter:function(t,e){Pc.default.setParameter(t,e)},constantsType:TB}})})(agoraRtm,agoraRtm.exports);var agoraRtmExports=agoraRtm.exports;const AgoraRTM=getDefaultExportFromCjs(agoraRtmExports);var RtmMessageType=(t=>(t.UserInfo="UserInfo",t.BeHost="BeHost",t.Transcription="Transcription",t))(RtmMessageType||{});const DEFAULT_RTM_CONFIG={logLevel:"debug",logUpload:!0,presenceTimeout:15},{RTM,constantsType,setParameter}=AgoraRTM,appId="245209a8c18e4091b9579ec6f323bdbc",CHANNEL_TYPE="MESSAGE",LOCK_STT="lock_stt";class RtmManager extends AGEventEmitter{constructor(){super();vS(this,"client");vS(this,"rtmConfig",DEFAULT_RTM_CONFIG);vS(this,"channel","");vS(this,"userId","");vS(this,"userName","");vS(this,"userMap",new Map);vS(this,"joined",!1)}async join({channel:n,userId:i,userName:s}){if(!this.joined){if(this.userId=i,this.userName=s,this.channel=n,!this.client){const g=await apiGetAgoraToken({channel:this.channel,uid:this.userId});g&&(this.rtmConfig.token=g),this.client=new RTM(appId,i,this.rtmConfig)}this._listenRtmEvents(),await this.client.login(),this.joined=!0,await this.client.subscribe(n,{withPresence:!0,withMetadata:!0}),await this._checkHost(),await this._updateUserInfo(),this._setLock()}}async updateSttData(n){return await this._setChannelMetadata(n)}async updateLanguages(n){const i={transcribe1:"",translate1List:[],transcribe2:"",translate2List:[]},s=n[0];s.source&&(i.transcribe1=s.source),s.target&&i.translate1List.push(...s.target);const g=n[1];return g&&(g.source&&(i.transcribe2=g.source),g.target&&i.translate2List.push(...g.target)),await this._setChannelMetadata(i)}async destroy(){var n;await((n=this.client)==null?void 0:n.logout()),this._resetData()}async acquireLock(){var n;return await((n=this.client)==null?void 0:n.lock.acquireLock(this.channel,CHANNEL_TYPE,LOCK_STT))}async releaseLock(){var n;return await((n=this.client)==null?void 0:n.lock.releaseLock(this.channel,CHANNEL_TYPE,LOCK_STT))}async _updateUserInfo(){await this._setPresenceState({type:RtmMessageType.UserInfo,userId:this.userId,userName:this.userName})}async _removeChannelMetadata(n){var g;const i=[],s={};for(const l in n)i.push({key:l,value:JSON.stringify(n[l])});i.length&&(s.data=i),await((g=this==null?void 0:this.client)==null?void 0:g.storage.removeChannelMetadata(this.channel,CHANNEL_TYPE,s))}async _setChannelMetadata(n){var s;const i=[];for(const g in n)i.push({key:g,value:JSON.stringify(n[g])});await((s=this==null?void 0:this.client)==null?void 0:s.storage.setChannelMetadata(this.channel,CHANNEL_TYPE,i))}async _setPresenceState(n){var s;if(!this.joined)throw new Error("You must join the channel first");const i={};for(const g in n){const l=n[g];i[g]=isString(l)?l:JSON.stringify(l)}return await((s=this==null?void 0:this.client)==null?void 0:s.presence.setState(this.channel,CHANNEL_TYPE,i))}_listenRtmEvents(){var n,i,s;(n=this.client)==null||n.addEventListener("status",g=>{this.emit("status",g)}),(i=this.client)==null||i.addEventListener("presence",g=>{console.log("[test] presence",g);const{channelName:l,channelType:C,eventType:p,snapshot:B=[],stateChanged:Q,publisher:y}=g;if(l==this.channel)switch(p){case"SNAPSHOT":this._dealPresenceSnapshot(B);break;case"REMOTE_STATE_CHANGED":this._dealPresenceRemoteState(Q);break;case"REMOTE_JOIN":break;case"REMOTE_LEAVE":this.userMap.has(y)&&(this.userMap.delete(y),this._emitUserListChanged());break;case"REMOTE_TIMEOUT":this.userMap.has(y)&&(this.userMap.delete(y),this._emitUserListChanged());break}}),(s=this.client)==null||s.addEventListener("storage",g=>{console.log("[test] storage",g);const{eventType:l,data:C,channelName:p}=g,{metadata:B}=C;if(p==this.channel)switch(l){case"SNAPSHOT":this._dealStorageDataChanged(B);break;case"UPDATE":this._dealStorageDataChanged(B);break}})}_dealPresenceRemoteState(n){switch(n.type){case RtmMessageType.UserInfo:const i={userName:n.userName,userId:n.userId};i.userId&&(this.userMap.set(i.userId,i),this._emitUserListChanged());break}}_dealPresenceSnapshot(n){if(!(n!=null&&n.length))return;let i=!1;for(const s of n){const{states:g}=s;switch(g.type){case RtmMessageType.UserInfo:const l={userName:g.userName,userId:g.userId};l.userId&&l.userId!=this.userId&&(this.userMap.set(l.userId,l),i=!0);break}}i&&this._emitUserListChanged()}_dealStorageDataChanged(n){const{transcribe1:i,translate1List:s,transcribe2:g,translate2List:l,status:C,taskId:p,token:B,startTime:Q,duration:y}=n;if(i!=null&&i.value){const _=JSON.parse(i.value),S=JSON.parse(s.value),w=JSON.parse(g.value),O=JSON.parse(l.value);this.emit("languagesChanged",{transcribe1:_,translate1List:S,transcribe2:w,translate2List:O})}else this.emit("languagesChanged",getDefaultLanguageSelect());C!=null&&C.value?this.emit("sttDataChanged",{status:JSON.parse(C==null?void 0:C.value),taskId:JSON.parse(p==null?void 0:p.value),token:JSON.parse(B==null?void 0:B.value),startTime:JSON.parse(Q==null?void 0:Q.value),duration:JSON.parse(y==null?void 0:y.value)}):this.emit("sttDataChanged",{status:"end"})}_emitUserListChanged(){this.emit("userListChanged",mapToArray(this.userMap))}_resetData(){this.client=void 0,this.channel="",this.rtmConfig={},this.userId="",this.userName="",this.userMap.clear(),this.joined=!1}async _checkHost(){var i;const n=await((i=this.client)==null?void 0:i.presence.whoNow(this.channel,CHANNEL_TYPE));console.log("[test] whoNow",n),(n==null?void 0:n.totalOccupancy)==1}async _setLock(){var i,s;const{lockDetails:n=[]}=await((i=this.client)==null?void 0:i.lock.getLock(this.channel,CHANNEL_TYPE))||{};n.find(g=>g.lockName===LOCK_STT)||await((s=this.client)==null?void 0:s.lock.setLock(this.channel,CHANNEL_TYPE,LOCK_STT))}}const SvgTranscription=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.17367 11.8813C3.42871 13.7615 5.56972 15 8 15C8 11.134 11.134 8 15 8C15 4.13401 11.866 1 8 1C4.13401 1 1 4.13401 1 8C1 8.00325 1 8.00651 1.00001 8.00976C1.00196 9.44213 1.43395 10.7732 2.17367 11.8813ZM6.5 5C6.5 4.44772 6.94772 4 7.5 4C8.05228 4 8.5 4.44772 8.5 5V10C8.5 10.5523 8.05228 11 7.5 11C6.94772 11 6.5 10.5523 6.5 10V5ZM4.5 6C5.05228 6 5.5 6.44772 5.5 7V8C5.5 8.55228 5.05228 9 4.5 9C3.94772 9 3.5 8.55228 3.5 8V7C3.5 6.44772 3.94772 6 4.5 6ZM11.5 7C11.5 6.44772 11.0523 6 10.5 6C9.94772 6 9.5 6.44772 9.5 7V8C9.5 8.55228 9.94772 9 10.5 9C11.0523 9 11.5 8.55228 11.5 8V7Z",fill:"currentColor"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 9C19.866 9 23 12.134 23 16C23 19.866 19.866 23 16 23C12.134 23 9 19.866 9 16C9 12.134 12.134 9 16 9ZM13.8273 21H18.16C18.3557 21 18.655 20.8025 18.655 20.4794C18.655 20.1079 18.4226 19.9656 18.3064 19.9606C18.265 19.9586 18.1993 19.9562 18.1194 19.9532C17.7879 19.9408 17.2123 19.9193 17.1174 19.8869C16.963 19.835 16.8579 19.7212 16.8054 19.5471C16.7529 19.3731 16.7258 19.1069 16.7258 18.7487V13.4964H17.3036C17.727 13.4964 18.3175 13.5432 18.5213 13.6386C18.725 13.7341 18.8747 13.9031 18.9686 14.1458C19.0497 14.3534 19.1261 14.6295 19.1994 14.9743C19.2216 15.0781 19.3108 15.1518 19.4127 15.1518H19.7819C19.9029 15.1518 20 15.048 20 14.9224V12.2293C20 12.1021 19.9013 12 19.7819 12H12.2181C12.0971 12 12 12.1038 12 12.2293V14.9224C12 15.0497 12.0987 15.1518 12.2181 15.1518H12.5873C12.6892 15.1518 12.7784 15.0781 12.8006 14.9743C12.8723 14.6295 12.9471 14.3534 13.0251 14.1458C13.1158 13.9031 13.2638 13.7341 13.4723 13.6386C13.6793 13.5432 14.2682 13.4964 14.6836 13.4964H15.2726V18.7487C15.2726 19.1053 15.2487 19.3731 15.1994 19.5471C15.15 19.7229 15.0466 19.835 14.8874 19.8869C14.7796 19.9223 14.099 19.9459 13.7861 19.9568L13.6809 19.9606C13.5647 19.9656 13.3323 20.1045 13.3323 20.4794C13.3323 20.851 13.6315 21 13.8273 21Z",fill:"currentColor"}),reactExports.createElement("path",{d:"M1 16C1 15.4477 1.44772 15 2 15C2.55228 15 3 15.4477 3 16C3 17.5048 4.10798 18.7509 5.55266 18.9669L5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929C5.68342 16.9024 6.31658 16.9024 6.70711 17.2929L8.70711 19.2929C9.09763 19.6834 9.09763 20.3166 8.70711 20.7071L6.70711 22.7071C6.31658 23.0976 5.68342 23.0976 5.29289 22.7071C4.90237 22.3166 4.90237 21.6834 5.29289 21.2929L5.60144 20.9843C3.02635 20.7813 1 18.6273 1 16Z",fill:"currentColor"})),TranscriptionIcon=t=>{const{active:e,...n}=t;return SvgTranscription({color:e?"#3D53F5":"#667085",...n})},SvgTime=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12ZM12 6.54545C12.5021 6.54545 12.9091 6.95247 12.9091 7.45455V12.3472L16.0429 13.9142C16.492 14.1387 16.674 14.6848 16.4495 15.1338C16.2249 15.5829 15.6789 15.7649 15.2298 15.5404L11.5934 13.7222C11.2855 13.5682 11.0909 13.2534 11.0909 12.9091V7.45455C11.0909 6.95247 11.4979 6.54545 12 6.54545Z",fill:"#667085"})),TimeIcon=t=>SvgTime(t),SvgMicMute=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.3 7.92635L3.33683 4.96317C2.88772 4.51407 2.88772 3.78593 3.33683 3.33683C3.78593 2.88772 4.51407 2.88772 4.96317 3.33683L21.9632 20.3368C22.4123 20.7859 22.4123 21.5141 21.9632 21.9632C21.5141 22.4123 20.7859 22.4123 20.3368 21.9632L18.8367 20.463C13.6456 24.5199 5.41626 23.2537 2.12166 16.6645C1.83762 16.0965 2.06788 15.4057 2.63596 15.1217C3.20403 14.8376 3.89481 15.0679 4.17884 15.636C6.74084 20.7599 13.0699 21.8205 17.1912 18.8176L15.7744 17.4008C14.7706 18.2621 13.4656 18.7826 12.0391 18.7826C8.8695 18.7826 6.3 16.2131 6.3 13.0435V7.92635ZM14.1401 15.7664C13.559 16.2154 12.8303 16.4826 12.0391 16.4826C10.1398 16.4826 8.6 14.9428 8.6 13.0435V10.2263L14.1401 15.7664ZM17.6882 14.0618L15.4783 11.8519V6.78259C15.4783 4.88321 13.9385 3.34346 12.0391 3.34346C10.6683 3.34346 9.48479 4.1455 8.93227 5.30592L7.2481 3.62175C8.27509 2.06823 10.0374 1.04346 12.0391 1.04346C15.2088 1.04346 17.7783 3.61295 17.7783 6.78259V13.0435C17.7783 13.391 17.7474 13.7313 17.6882 14.0618ZM19.6535 16.0272L21.3305 17.7041C21.5404 17.3737 21.7366 17.0272 21.918 16.6645C22.202 16.0965 21.9718 15.4057 21.4037 15.1217C20.8356 14.8376 20.1448 15.0679 19.8608 15.636C19.7942 15.7691 19.7251 15.8995 19.6535 16.0272Z",fill:"currentColor"})),SvgMicUnmute=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0391 1.04346C8.86948 1.04346 6.29999 3.61295 6.29999 6.78259V13.0435C6.29999 16.2131 8.86948 18.7826 12.0391 18.7826C15.2088 18.7826 17.7782 16.2131 17.7782 13.0435V6.78259C17.7782 3.61295 15.2088 1.04346 12.0391 1.04346ZM4.17884 15.6596C3.89481 15.0916 3.20403 14.8613 2.63596 15.1453C2.06788 15.4294 1.83762 16.1202 2.12166 16.6882C6.19993 24.8448 17.8397 24.8448 21.918 16.6882C22.202 16.1202 21.9718 15.4294 21.4037 15.1453C20.8356 14.8613 20.1448 15.0916 19.8608 15.6596C16.6301 22.121 7.4095 22.121 4.17884 15.6596Z",fill:"currentColor"})),MicIcon=t=>{const{active:e,color:n,...i}=t;return e?SvgMicUnmute({color:n||"#3D53F5",...i}):SvgMicMute({color:n||"#667085",...i})},SvgCamMute=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.96317 1.33683C4.51407 0.887724 3.78593 0.887724 3.33683 1.33683C2.88772 1.78593 2.88772 2.51407 3.33683 2.96317L4.80982 4.43617C3.76782 5.81737 3.14999 7.53655 3.14999 9.40002C3.14999 13.4792 6.11045 16.8668 10 17.5317V20.85H6.14999C5.51486 20.85 4.99999 21.3648 4.99999 22C4.99999 22.6351 5.51486 23.15 6.14999 23.15H16.15C16.7851 23.15 17.3 22.6351 17.3 22C17.3 21.3648 16.7851 20.85 16.15 20.85H12.3V17.6015C13.8156 17.4371 15.2081 16.8621 16.3639 15.9902L18.3368 17.9632C18.7859 18.4123 19.5141 18.4123 19.9632 17.9632C20.4123 17.5141 20.4123 16.7859 19.9632 16.3368L4.96317 1.33683ZM14.7152 14.3416L12.9999 12.6263C12.5601 12.8339 12.0686 12.95 11.55 12.95C9.67223 12.95 8.14999 11.4278 8.14999 9.55002C8.14999 9.03141 8.26611 8.53991 8.47376 8.10011L6.45844 6.08478C5.8216 7.03215 5.44999 8.17269 5.44999 9.40002C5.44999 12.6861 8.1139 15.35 11.4 15.35C12.6273 15.35 13.7679 14.9784 14.7152 14.3416ZM11.7843 6.15797L14.942 9.3157C14.8269 7.62466 13.4754 6.27308 11.7843 6.15797ZM17.35 9.40002C17.35 10.0959 17.2305 10.7639 17.011 11.3846L18.7592 13.1328C19.3289 12.012 19.65 10.7435 19.65 9.40002C19.65 4.84368 15.9563 1.15002 11.4 1.15002C10.0565 1.15002 8.78807 1.47115 7.66718 2.04083L9.41539 3.78904C10.0361 3.56949 10.7041 3.45002 11.4 3.45002C14.6861 3.45002 17.35 6.11393 17.35 9.40002Z",fill:"#667085"})),SvgCamUnmute=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3499 9.40002C17.3499 12.6861 14.686 15.35 11.3999 15.35C8.11381 15.35 5.4499 12.6861 5.4499 9.40002C5.4499 6.11393 8.11381 3.45002 11.3999 3.45002C14.686 3.45002 17.3499 6.11393 17.3499 9.40002ZM19.6499 9.40002C19.6499 13.6522 16.4329 17.1531 12.2999 17.6015V20.85H16.1499C16.785 20.85 17.2999 21.3648 17.2999 22C17.2999 22.6351 16.785 23.15 16.1499 23.15H6.1499C5.51477 23.15 4.9999 22.6351 4.9999 22C4.9999 21.3648 5.51477 20.85 6.1499 20.85H9.99991V17.5317C6.11036 16.8668 3.1499 13.4792 3.1499 9.40002C3.1499 4.84368 6.84355 1.15002 11.3999 1.15002C15.9563 1.15002 19.6499 4.84368 19.6499 9.40002ZM11.5499 12.95C13.4277 12.95 14.9499 11.4278 14.9499 9.55002C14.9499 7.67226 13.4277 6.15002 11.5499 6.15002C9.67213 6.15002 8.1499 7.67226 8.1499 9.55002C8.1499 11.4278 9.67213 12.95 11.5499 12.95Z",fill:"#3D53F5"})),CamIcon=t=>{const{active:e,...n}=t;return e?SvgCamUnmute(n):SvgCamMute(n)},SvgMember=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.50004 2C6.46248 2 4.00004 4.46243 4.00004 7.5C4.00004 10.5376 6.46248 13 9.50004 13C12.5376 13 15 10.5376 15 7.5C15 4.46243 12.5376 2 9.50004 2ZM16.4451 2.57225C15.9505 2.32646 15.3503 2.52815 15.1045 3.02273C14.8587 3.51731 15.0604 4.11749 15.555 4.36327C16.7099 4.9372 17.5 6.12724 17.5 7.5C17.5 8.87276 16.7099 10.0628 15.555 10.6367C15.0604 10.8825 14.8587 11.4827 15.1045 11.9773C15.3503 12.4719 15.9505 12.6735 16.4451 12.4278C18.2536 11.529 19.5 9.66096 19.5 7.5C19.5 5.33904 18.2536 3.47103 16.4451 2.57225ZM18.4123 15.8553C17.9091 15.6276 17.3167 15.851 17.089 16.3541C16.8613 16.8573 17.0846 17.4498 17.5878 17.6775C18.9328 18.2861 20.171 19.2907 21.2137 20.6178C21.5549 21.0521 22.1836 21.1275 22.6179 20.7863C23.0521 20.4451 23.1276 19.8165 22.7864 19.3822C21.5741 17.8393 20.0902 16.6146 18.4123 15.8553ZM1.21372 19.3822C0.872508 19.8165 0.947955 20.4451 1.38223 20.7863H17.6179C18.0521 20.4451 18.1276 19.8165 17.7864 19.3822C15.6946 16.7198 12.7829 15 9.50004 15C6.21717 15 3.3055 16.7198 1.21372 19.3822Z",fill:"currentColor"})),MemberIcon=t=>{const{active:e,...n}=t;return SvgMember({color:e?"#3D53F5":"#667085",...n})},SvgCaption=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0888 2.00003H8.21119H8.21118H8.21116C7.35155 2.00002 6.65067 2.00002 6.08146 2.03722C5.49611 2.07548 4.9621 2.15687 4.45633 2.36304C3.66766 2.68452 2.9783 3.21671 2.52745 3.92457C2.22087 4.40593 2.10253 4.91802 2.04938 5.43836C1.99994 5.92248 1.99997 6.5081 2 7.17606V7.17612V7.17619L2.00001 7.23003L2 16.1239V16.1239V16.124C1.99997 16.792 1.99994 17.3776 2.04938 17.8617C2.10253 18.382 2.22087 18.8941 2.52745 19.3755C2.9783 20.0834 3.66766 20.6155 4.45633 20.937C4.9621 21.1432 5.49611 21.2246 6.08146 21.2628C6.65065 21.3 7.3515 21.3 8.21108 21.3H8.21117H15.0888H15.0889C15.9485 21.3 16.6494 21.3 17.2186 21.2628C17.8039 21.2246 18.3379 21.1432 18.8437 20.937C19.6324 20.6155 20.3217 20.0834 20.7726 19.3755C21.0791 18.8941 21.1975 18.382 21.2506 17.8617C21.3001 17.3776 21.3 16.7919 21.3 16.124V16.1239V16.1239V16.1239V7.17618V7.17615V7.17613V7.1761C21.3 6.50813 21.3001 5.92249 21.2506 5.43836C21.1975 4.91802 21.0791 4.40593 20.7726 3.92457C20.3217 3.21671 19.6324 2.68452 18.8437 2.36304C18.3379 2.15687 17.8039 2.07548 17.2186 2.03722C16.6493 2.00002 15.9485 2.00002 15.0889 2.00003H15.0888H15.0888ZM6.15 12.1501C6.15 11.5978 6.59771 11.1501 7.15 11.1501H15.15C15.7023 11.1501 16.15 11.5978 16.15 12.1501C16.15 12.7023 15.7023 13.1501 15.15 13.1501H7.15C6.59771 13.1501 6.15 12.7023 6.15 12.1501ZM6.15 16.1501C6.15 15.5978 6.59771 15.1501 7.15 15.1501H13.15C13.7023 15.1501 14.15 15.5978 14.15 16.1501C14.15 16.7023 13.7023 17.1501 13.15 17.1501H7.15C6.59771 17.1501 6.15 16.7023 6.15 16.1501ZM7.15 6.55008C6.59771 6.55008 6.15 6.99779 6.15 7.55008C6.15 8.10236 6.59771 8.55008 7.15 8.55008H8.15C8.70228 8.55008 9.15 8.10236 9.15 7.55008C9.15 6.99779 8.70228 6.55008 8.15 6.55008H7.15ZM11.4 6.55008C10.8477 6.55008 10.4 6.99779 10.4 7.55008C10.4 8.10236 10.8477 8.55008 11.4 8.55008H12.15C12.7023 8.55008 13.15 8.10236 13.15 7.55008C13.15 6.99779 12.7023 6.55008 12.15 6.55008H11.4ZM15.9 6.55008C15.3477 6.55008 14.9 6.99779 14.9 7.55008C14.9 8.10236 15.3477 8.55008 15.9 8.55008H16.65C17.2023 8.55008 17.65 8.10236 17.65 7.55008C17.65 6.99779 17.2023 6.55008 16.65 6.55008H15.9Z",fill:"currentColor"})),CaptionIcon=t=>{const{active:e,disabled:n,...i}=t;let s="#667085";return e&&(s="#3D53F5"),n&&(s="#98A2B3"),SvgCaption({color:s,...i})},SvgSetting=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.13636 3.40909C9.13636 2.35473 9.99109 1.5 11.0455 1.5H12.9545C14.0089 1.5 14.8636 2.35473 14.8636 3.40909V5.08654L16.0497 3.90049C16.7952 3.15494 18.004 3.15494 18.7495 3.90049L20.0995 5.25042C20.845 5.99597 20.845 7.20474 20.0995 7.95028L18.9134 9.13636H20.5909C21.6453 9.13636 22.5 9.99109 22.5 11.0455V12.9545C22.5 14.0089 21.6453 14.8636 20.5909 14.8636H18.9134L20.0997 16.0499C20.8452 16.7955 20.8452 18.0042 20.0997 18.7498L18.7497 20.0997C18.0042 20.8452 16.7954 20.8452 16.0499 20.0997L14.8636 18.9135V20.5909C14.8636 21.6453 14.0089 22.5 12.9545 22.5H11.0455C9.99109 22.5 9.13636 21.6453 9.13636 20.5909V18.9134L7.9501 20.0997C7.20455 20.8452 5.99578 20.8452 5.25023 20.0997L3.9003 18.7497C3.15476 18.0042 3.15476 16.7954 3.9003 16.0499L5.08654 14.8636H3.40909C2.35473 14.8636 1.5 14.0089 1.5 12.9545V11.0455C1.5 9.99109 2.35473 9.13636 3.40909 9.13636H5.08654L3.90049 7.95032C3.15494 7.20477 3.15494 5.996 3.90049 5.25045L5.25042 3.90052C5.99597 3.15498 7.20474 3.15498 7.95028 3.90052L9.13636 5.0866V3.40909ZM14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12ZM16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z",fill:"currentColor"})),SettingIcon=t=>{const{disabled:e,...n}=t;return SvgSetting({color:e?"#98A2B3":"#667085",...n})},SvgAi=t=>reactExports.createElement("svg",{width:26,height:24,viewBox:"0 0 26 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5001 3.5C15.5001 4.52516 14.8831 5.4062 14.0001 5.79198V7H16.2414H16.2414H16.2415C17.0464 6.99999 17.7108 6.99998 18.252 7.0442C18.814 7.09012 19.3308 7.18868 19.8161 7.43598C20.5687 7.81947 21.1807 8.43139 21.5641 9.18404C21.8114 9.66938 21.91 10.1861 21.9559 10.7482C22.0001 11.2894 22.0001 11.9537 22.0001 12.7587V17.2413C22.0001 18.0463 22.0001 18.7106 21.9559 19.2518C21.91 19.8139 21.8114 20.3306 21.5641 20.816C21.1807 21.5686 20.5687 22.1805 19.8161 22.564C19.3308 22.8113 18.814 22.9099 18.252 22.9558C17.7108 23 17.0464 23 16.2415 23H16.2415H16.2414H16.2414H16.2414H9.75885H9.75883H9.7588H9.75878H9.75876C8.95382 23 8.28948 23 7.7483 22.9558C7.1862 22.9099 6.6695 22.8113 6.18416 22.564C5.43151 22.1805 4.81959 21.5686 4.4361 20.816C4.18881 20.3306 4.09024 19.8139 4.04432 19.2518C4.0001 18.7106 4.00011 18.0463 4.00012 17.2414V17.2413V17.2413V12.7587V12.7587V12.7587C4.00011 11.9537 4.0001 11.2894 4.04432 10.7482C4.09024 10.1861 4.18881 9.66938 4.4361 9.18404C4.81959 8.43139 5.43151 7.81947 6.18416 7.43598C6.6695 7.18868 7.1862 7.09012 7.7483 7.0442C8.28948 6.99998 8.95382 6.99999 9.75877 7H9.75881H9.75883H12.0001V5.79198C11.1172 5.4062 10.5001 4.52516 10.5001 3.5C10.5001 2.11929 11.6194 1 13.0001 1C14.3808 1 15.5001 2.11929 15.5001 3.5ZM24.0001 11.85C24.6352 11.85 25.1501 12.3648 25.1501 13V16C25.1501 16.6351 24.6352 17.15 24.0001 17.15C23.365 17.15 22.8501 16.6351 22.8501 16V13C22.8501 12.3648 23.365 11.85 24.0001 11.85ZM3.1501 13C3.1501 12.3648 2.63523 11.85 2.0001 11.85C1.36497 11.85 0.850098 12.3648 0.850098 13V16C0.850098 16.6351 1.36497 17.15 2.0001 17.15C2.63523 17.15 3.1501 16.6351 3.1501 16L3.1501 13ZM16.0001 17C17.1047 17 18.0001 16.1046 18.0001 15C18.0001 13.8954 17.1047 13 16.0001 13C14.8956 13 14.0001 13.8954 14.0001 15C14.0001 16.1046 14.8956 17 16.0001 17ZM8.29302 12.2929C8.68354 11.9024 9.31671 11.9024 9.70723 12.2929L11.7072 14.2929C12.0978 14.6834 12.0978 15.3166 11.7072 15.7071L9.70723 17.7071C9.31671 18.0976 8.68354 18.0976 8.29302 17.7071C7.90249 17.3166 7.90249 16.6834 8.29302 16.2929L9.58591 15L8.29302 13.7071C7.90249 13.3166 7.90249 12.6834 8.29302 12.2929Z",fill:"currentColor"})),AiIcon=t=>{const{active:e,...n}=t;return SvgAi({color:e?"#3D53F5":"#667085",...n})},SvgArrowUp=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 8.29289C11.6834 7.90237 12.3166 7.90237 12.7071 8.29289L18.7071 14.2929C19.0976 14.6834 19.0976 15.3166 18.7071 15.7071C18.3166 16.0976 17.6834 16.0976 17.2929 15.7071L12 10.4142L6.70711 15.7071C6.31658 16.0976 5.68342 16.0976 5.29289 15.7071C4.90237 15.3166 4.90237 14.6834 5.29289 14.2929L11.2929 8.29289Z",fill:"#667085",stroke:"#667085",strokeWidth:.5,strokeLinecap:"round",strokeLinejoin:"round"})),ArrowUpIcon=t=>SvgArrowUp(t),SvgHost=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0001 4C12.4305 4 12.8126 4.27543 12.9487 4.68377L14.9137 10.5786C15.2265 11.5169 16.3458 11.901 17.1688 11.3523L20.4454 9.16795C20.8065 8.9272 21.2817 8.94688 21.6217 9.21666C21.9616 9.48645 22.0888 9.94474 21.9364 10.3511L19.0369 18.0831C18.8106 18.6865 18.1889 19.0453 17.5533 18.9393C13.8765 18.3265 10.1236 18.3265 6.44679 18.9393C5.81117 19.0453 5.18949 18.6865 4.96323 18.0831L2.06373 10.3511C1.91134 9.94474 2.03848 9.48645 2.37846 9.21666C2.71844 8.94688 3.19364 8.9272 3.55476 9.16795L6.83136 11.3523C7.6543 11.901 8.77366 11.5169 9.08643 10.5786L11.0514 4.68377C11.1875 4.27543 11.5696 4 12.0001 4Z",fill:"currentColor"})),HostIcon=t=>SvgHost(t),SvgAverage=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.49875 10.8689C10.1539 10.8689 10.685 11.3753 10.685 12V19.8689C10.685 20.4936 10.1539 21 9.49875 21C8.8436 21 8.3125 20.4936 8.3125 19.8689V12C8.3125 11.3753 8.8436 10.8689 9.49875 10.8689Z",fill:"#FFAB08"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.18625 14.8033C4.84139 14.8033 5.37249 15.3097 5.37249 15.9344V19.8689C5.37249 20.4936 4.84139 21 4.18625 21C3.5311 21 3 20.4936 3 19.8689V15.9344C3 15.3097 3.5311 14.8033 4.18625 14.8033Z",fill:"#FFAB08"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.656 7.91803C15.3111 7.91803 15.8422 8.42446 15.8422 9.04918V19.8688C15.8422 20.4936 15.3111 21 14.656 21C14.0008 21 13.4697 20.4936 13.4697 19.8688V9.04918C13.4697 8.42446 14.0008 7.91803 14.656 7.91803Z",fill:"#D0D5DD"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8137 3C20.4688 3 20.9999 3.50643 20.9999 4.13115V19.8689C20.9999 20.4936 20.4688 21 19.8137 21C19.1585 21 18.6274 20.4936 18.6274 19.8689V4.13115C18.6274 3.50643 19.1585 3 19.8137 3Z",fill:"#D0D5DD"})),SvgGood=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.49875 10.8689C10.1539 10.8689 10.685 11.3753 10.685 12V19.8689C10.685 20.4936 10.1539 21 9.49875 21C8.8436 21 8.3125 20.4936 8.3125 19.8689V12C8.3125 11.3753 8.8436 10.8689 9.49875 10.8689Z",fill:"#18A957"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.18625 14.8033C4.84139 14.8033 5.37249 15.3097 5.37249 15.9344V19.8689C5.37249 20.4936 4.84139 21 4.18625 21C3.5311 21 3 20.4936 3 19.8689V15.9344C3 15.3097 3.5311 14.8033 4.18625 14.8033Z",fill:"#18A957"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.656 7.91803C15.3111 7.91803 15.8422 8.42446 15.8422 9.04918V19.8688C15.8422 20.4936 15.3111 21 14.656 21C14.0008 21 13.4697 20.4936 13.4697 19.8688V9.04918C13.4697 8.42446 14.0008 7.91803 14.656 7.91803Z",fill:"#18A957"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8137 3C20.4688 3 20.9999 3.50643 20.9999 4.13115V19.8689C20.9999 20.4936 20.4688 21 19.8137 21C19.1585 21 18.6274 20.4936 18.6274 19.8689V4.13115C18.6274 3.50643 19.1585 3 19.8137 3Z",fill:"#D0D5DD"})),SvgPoor=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.49875 10.8689C10.1539 10.8689 10.685 11.3753 10.685 12V19.8689C10.685 20.4936 10.1539 21 9.49875 21C8.8436 21 8.3125 20.4936 8.3125 19.8689V12C8.3125 11.3753 8.8436 10.8689 9.49875 10.8689Z",fill:"#D0D5DD"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.18625 14.8033C4.84139 14.8033 5.37249 15.3097 5.37249 15.9344V19.8689C5.37249 20.4936 4.84139 21 4.18625 21C3.5311 21 3 20.4936 3 19.8689V15.9344C3 15.3097 3.5311 14.8033 4.18625 14.8033Z",fill:"#DF1642"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.656 7.91803C15.3111 7.91803 15.8422 8.42446 15.8422 9.04918V19.8688C15.8422 20.4936 15.3111 21 14.656 21C14.0008 21 13.4697 20.4936 13.4697 19.8688V9.04918C13.4697 8.42446 14.0008 7.91803 14.656 7.91803Z",fill:"#D0D5DD"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.8137 3C20.4688 3 20.9999 3.50643 20.9999 4.13115V19.8689C20.9999 20.4936 20.4688 21 19.8137 21C19.1585 21 18.6274 20.4936 18.6274 19.8689V4.13115C18.6274 3.50643 19.1585 3 19.8137 3Z",fill:"#D0D5DD"})),SvgDisconnected=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4.13115C21 3.50643 20.4689 3 19.8138 3C19.1586 3 18.6275 3.50643 18.6275 4.13115V19.8689C18.6275 20.4936 19.1586 21 19.8138 21C20.4689 21 21 20.4936 21 19.8689V4.13115ZM14.6562 7.91803C15.3113 7.91803 15.8424 8.42447 15.8424 9.04918V19.8689C15.8424 20.4936 15.3113 21 14.6562 21C14.001 21 13.4699 20.4936 13.4699 19.8689V9.04918C13.4699 8.42447 14.001 7.91803 14.6562 7.91803ZM10.6848 12C10.6848 11.3753 10.1537 10.8689 9.49856 10.8689C8.84342 10.8689 8.31232 11.3753 8.31232 12V19.8689C8.31232 20.4936 8.84342 21 9.49856 21C10.1537 21 10.6848 20.4936 10.6848 19.8689V12ZM5.37249 15.9344C5.37249 15.3097 4.84139 14.8033 4.18625 14.8033C3.5311 14.8033 3 15.3097 3 15.9344V19.8689C3 20.4936 3.5311 21 4.18625 21C4.84139 21 5.37249 20.4936 5.37249 19.8689V15.9344Z",fill:"#D0D5DD"}),reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2441 12.2441C13.5695 11.9186 14.0972 11.9186 14.4226 12.2441L18 15.8215L21.5774 12.2441C21.9028 11.9186 22.4305 11.9186 22.7559 12.2441C23.0814 12.5695 23.0814 13.0972 22.7559 13.4226L19.1785 17L22.7559 20.5774C23.0814 20.9028 23.0814 21.4305 22.7559 21.7559C22.4305 22.0814 21.9028 22.0814 21.5774 21.7559L18 18.1785L14.4226 21.7559C14.0972 22.0814 13.5695 22.0814 13.2441 21.7559C12.9186 21.4305 12.9186 20.9028 13.2441 20.5774L16.8215 17L13.2441 13.4226C12.9186 13.0972 12.9186 12.5695 13.2441 12.2441Z",fill:"#DF1642"})),SvgExcellent=t=>reactExports.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4.13115C21 3.50643 20.4689 3 19.8138 3C19.1586 3 18.6275 3.50643 18.6275 4.13115V19.8689C18.6275 20.4936 19.1586 21 19.8138 21C20.4689 21 21 20.4936 21 19.8689V4.13115ZM14.6562 7.91803C15.3113 7.91803 15.8424 8.42447 15.8424 9.04918V19.8689C15.8424 20.4936 15.3113 21 14.6562 21C14.001 21 13.4699 20.4936 13.4699 19.8689V9.04918C13.4699 8.42447 14.001 7.91803 14.6562 7.91803ZM10.6848 12C10.6848 11.3753 10.1537 10.8689 9.49856 10.8689C8.84342 10.8689 8.31232 11.3753 8.31232 12V19.8689C8.31232 20.4936 8.84342 21 9.49856 21C10.1537 21 10.6848 20.4936 10.6848 19.8689V12ZM5.37249 15.9344C5.37249 15.3097 4.84139 14.8033 4.18625 14.8033C3.5311 14.8033 3 15.3097 3 15.9344V19.8689C3 20.4936 3.5311 21 4.18625 21C4.84139 21 5.37249 20.4936 5.37249 19.8689V15.9344Z",fill:"#18A957"})),NetworkIcon=t=>{const{level:e,...n}=t;switch(e){case 0:return SvgDisconnected(n);case 1:return SvgExcellent(n);case 2:return SvgGood(n);case 3:return SvgAverage(n);case 4:return SvgAverage(n);case 5:return SvgPoor(n);case 6:return SvgDisconnected(n);default:return SvgDisconnected(n)}},SvgUpload=t=>reactExports.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},reactExports.createElement("g",{id:"Icon"},reactExports.createElement("path",{id:"Icon (Stroke)",fillRule:"evenodd",clipRule:"evenodd",d:"M7.52858 1.52876C7.78892 1.26841 8.21103 1.26841 8.47138 1.52876L11.8047 4.86209C12.0651 5.12244 12.0651 5.54455 11.8047 5.8049C11.5444 6.06525 11.1223 6.06525 10.8619 5.8049L8.66665 3.60964V10.0002C8.66665 10.3684 8.36817 10.6668 7.99998 10.6668C7.63179 10.6668 7.33331 10.3684 7.33331 10.0002V3.60964L5.13805 5.8049C4.8777 6.06525 4.45559 6.06525 4.19524 5.8049C3.93489 5.54455 3.93489 5.12244 4.19524 4.86209L7.52858 1.52876ZM1.99998 9.3335C2.36817 9.3335 2.66665 9.63197 2.66665 10.0002V10.8002C2.66665 11.3712 2.66717 11.7594 2.69168 12.0595C2.71556 12.3517 2.75884 12.5012 2.81197 12.6055C2.9398 12.8564 3.14378 13.0603 3.39466 13.1882C3.49893 13.2413 3.6484 13.2846 3.94067 13.3085C4.24073 13.333 4.62893 13.3335 5.19998 13.3335H10.8C11.371 13.3335 11.7592 13.333 12.0593 13.3085C12.3516 13.2846 12.501 13.2413 12.6053 13.1882C12.8562 13.0603 13.0602 12.8564 13.188 12.6055C13.2411 12.5012 13.2844 12.3517 13.3083 12.0595C13.3328 11.7594 13.3333 11.3712 13.3333 10.8002V10.0002C13.3333 9.63197 13.6318 9.3335 14 9.3335C14.3682 9.3335 14.6666 9.63197 14.6666 10.0002V10.8277C14.6667 11.3644 14.6667 11.8073 14.6372 12.168C14.6066 12.5428 14.5409 12.8872 14.376 13.2108C14.1203 13.7126 13.7124 14.1205 13.2106 14.3762C12.8871 14.541 12.5426 14.6068 12.1679 14.6374C11.8071 14.6668 11.3642 14.6668 10.8275 14.6668H5.17243C4.63579 14.6668 4.19289 14.6668 3.8321 14.6374C3.45736 14.6068 3.1129 14.541 2.78934 14.3762C2.28757 14.1205 1.87963 13.7126 1.62396 13.2108C1.4591 12.8872 1.39339 12.5428 1.36278 12.168C1.3333 11.8073 1.3333 11.3643 1.33331 10.8277L1.33331 10.0002C1.33331 9.63197 1.63179 9.3335 1.99998 9.3335Z",fill:"#667085"}))),UploadIcon=t=>{const{...e}=t;return SvgUpload({...e})},time$3="_time_1e3sc_1",text$d="_text_1e3sc_7",styles$l={time:time$3,text:text$d},Time=()=>{const[t,e]=reactExports.useState(0);reactExports.useEffect(()=>{const i=setInterval(()=>{n()},1e3);return()=>{i&&clearInterval(i)}},[]);const n=()=>{const i=window.rtcManager.client.getRTCStats(),s=(i==null?void 0:i.Duration)??0;e(s)};return jsxRuntimeExports.jsxs("span",{className:styles$l.time,children:[jsxRuntimeExports.jsx(TimeIcon,{}),jsxRuntimeExports.jsx("span",{className:styles$l.text,children:formatTime(t)})]})},NetWork=()=>{const[t,e]=reactExports.useState();reactExports.useEffect(()=>(window.rtcManager.on("networkQuality",n),()=>{window.rtcManager.off("networkQuality",n)}),[]);const n=i=>{e(i)};return jsxRuntimeExports.jsx("span",{children:jsxRuntimeExports.jsx(NetworkIcon,{level:t==null?void 0:t.uplinkNetworkQuality})})},header$1="_header_h3gnh_1",channelName="_channelName_h3gnh_14",transcription="_transcription_h3gnh_20",text$c="_text_h3gnh_27",styles$k={header:header$1,channelName,transcription,text:text$c},Header=t=>{const{style:e}=t,n=useSelector(C=>C.global.sttData),i=useSelector(C=>C.global.options),{channel:s}=i,{t:g}=useTranslation(),l=async()=>{};return jsxRuntimeExports.jsxs("header",{className:styles$k.header,style:e,children:[jsxRuntimeExports.jsx(NetWork,{}),jsxRuntimeExports.jsx("span",{className:styles$k.channelName,onClick:l,children:s}),jsxRuntimeExports.jsx("span",{className:styles$k.transcription,children:n.status=="start"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(TranscriptionIcon,{}),jsxRuntimeExports.jsx("span",{className:styles$k.text,children:g("transcribing")})]}):null}),jsxRuntimeExports.jsx(Time,{})]})};var IconContext=reactExports.createContext({}),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(t){var e=t.r,n=t.g,i=t.b,s=rgbToHsv(e,n,i);return{h:s.h*360,s:s.s,v:s.v}}function toHex(t){var e=t.r,n=t.g,i=t.b;return"#".concat(rgbToHex(e,n,i,!1))}function mix(t,e,n){var i=n/100,s={r:(e.r-t.r)*i+t.r,g:(e.g-t.g)*i+t.g,b:(e.b-t.b)*i+t.b};return s}function getHue(t,e,n){var i;return Math.round(t.h)>=60&&Math.round(t.h)<=240?i=n?Math.round(t.h)-hueStep*e:Math.round(t.h)+hueStep*e:i=n?Math.round(t.h)+hueStep*e:Math.round(t.h)-hueStep*e,i<0?i+=360:i>=360&&(i-=360),i}function getSaturation(t,e,n){if(t.h===0&&t.s===0)return t.s;var i;return n?i=t.s-saturationStep*e:e===darkColorCount?i=t.s+saturationStep:i=t.s+saturationStep2*e,i>1&&(i=1),n&&e===lightColorCount&&i>.1&&(i=.1),i<.06&&(i=.06),Number(i.toFixed(2))}function getValue(t,e,n){var i;return n?i=t.v+brightnessStep1*e:i=t.v-brightnessStep2*e,i>1&&(i=1),Number(i.toFixed(2))}function generate$1(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],i=inputToRGB(t),s=lightColorCount;s>0;s-=1){var g=toHsv(i),l=toHex(inputToRGB({h:getHue(g,s,!0),s:getSaturation(g,s,!0),v:getValue(g,s,!0)}));n.push(l)}n.push(toHex(i));for(var C=1;C<=darkColorCount;C+=1){var p=toHsv(i),B=toHex(inputToRGB({h:getHue(p,C),s:getSaturation(p,C),v:getValue(p,C)}));n.push(B)}return e.theme==="dark"?darkColorMap.map(function(Q){var y=Q.index,_=Q.opacity,S=toHex(mix(inputToRGB(e.backgroundColor||"#141414"),inputToRGB(n[y]),_*100));return S}):n}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(t){presetPalettes[t]=generate$1(presetPrimaryColors[t]),presetPalettes[t].primary=presetPalettes[t][5],presetDarkPalettes[t]=generate$1(presetPrimaryColors[t],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[t].primary=presetDarkPalettes[t][5]});var freeGlobal$1=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$1=freeGlobal||freeSelf||Function("return this")(),_root=root$1,root=_root,Symbol$4=root.Symbol,_Symbol=Symbol$4;function arrayMap$1(t,e){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=e(t[n],n,t);return s}var _arrayMap=arrayMap$1,isArray$1=Array.isArray,isArray_1=isArray$1,Symbol$3=_Symbol,objectProto$1=Object.prototype,hasOwnProperty=objectProto$1.hasOwnProperty,nativeObjectToString$1=objectProto$1.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(t){var e=hasOwnProperty.call(t,symToStringTag$1),n=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var i=!0}catch{}var s=nativeObjectToString$1.call(t);return i&&(e?t[symToStringTag$1]=n:delete t[symToStringTag$1]),s}var _getRawTag=getRawTag$1,objectProto=Object.prototype,nativeObjectToString=objectProto.toString;function objectToString$1(t){return nativeObjectToString.call(t)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$1(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}var _baseGetTag=baseGetTag$1;function isObjectLike$1(t){return t!=null&&typeof t=="object"}var isObjectLike_1=isObjectLike$1,baseGetTag=_baseGetTag,isObjectLike=isObjectLike_1,symbolTag="[object Symbol]";function isSymbol$1(t){return typeof t=="symbol"||isObjectLike(t)&&baseGetTag(t)==symbolTag}var isSymbol_1=isSymbol$1,Symbol$1=_Symbol,arrayMap=_arrayMap,isArray=isArray_1,isSymbol=isSymbol_1,INFINITY=1/0,symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;function baseToString$1(t){if(typeof t=="string")return t;if(isArray(t))return arrayMap(t,baseToString$1)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var e=t+"";return e=="0"&&1/t==-INFINITY?"-0":e}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$4(t){return t==null?"":baseToString(t)}var toString_1=toString$4;function baseSlice$1(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var g=Array(s);++i<s;)g[i]=t[i+e];return g}var _baseSlice=baseSlice$1,baseSlice=_baseSlice;function castSlice$1(t,e,n){var i=t.length;return n=n===void 0?i:n,!e&&n>=i?t:baseSlice(t,e,n)}var _castSlice=castSlice$1,rsAstralRange$2="\\ud800-\\udfff",rsComboMarksRange$3="\\u0300-\\u036f",reComboHalfMarksRange$3="\\ufe20-\\ufe2f",rsComboSymbolsRange$3="\\u20d0-\\u20ff",rsComboRange$3=rsComboMarksRange$3+reComboHalfMarksRange$3+rsComboSymbolsRange$3,rsVarRange$2="\\ufe0e\\ufe0f",rsZWJ$2="\\u200d",reHasUnicode=RegExp("["+rsZWJ$2+rsAstralRange$2+rsComboRange$3+rsVarRange$2+"]");function hasUnicode$2(t){return reHasUnicode.test(t)}var _hasUnicode=hasUnicode$2;function asciiToArray$1(t){return t.split("")}var _asciiToArray=asciiToArray$1,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$2="\\u0300-\\u036f",reComboHalfMarksRange$2="\\ufe20-\\ufe2f",rsComboSymbolsRange$2="\\u20d0-\\u20ff",rsComboRange$2=rsComboMarksRange$2+reComboHalfMarksRange$2+rsComboSymbolsRange$2,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo$2="["+rsComboRange$2+"]",rsFitz$1="\\ud83c[\\udffb-\\udfff]",rsModifier$1="(?:"+rsCombo$2+"|"+rsFitz$1+")",rsNonAstral$1="[^"+rsAstralRange$1+"]",rsRegional$1="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair$1="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod$1=rsModifier$1+"?",rsOptVar$1="["+rsVarRange$1+"]?",rsOptJoin$1="(?:"+rsZWJ$1+"(?:"+[rsNonAstral$1,rsRegional$1,rsSurrPair$1].join("|")+")"+rsOptVar$1+reOptMod$1+")*",rsSeq$1=rsOptVar$1+reOptMod$1+rsOptJoin$1,rsSymbol="(?:"+[rsNonAstral$1+rsCombo$2+"?",rsCombo$2,rsRegional$1,rsSurrPair$1,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz$1+"(?="+rsFitz$1+")|"+rsSymbol+rsSeq$1,"g");function unicodeToArray$1(t){return t.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray$1,asciiToArray=_asciiToArray,hasUnicode$1=_hasUnicode,unicodeToArray=_unicodeToArray;function stringToArray$1(t){return hasUnicode$1(t)?unicodeToArray(t):asciiToArray(t)}var _stringToArray=stringToArray$1,castSlice=_castSlice,hasUnicode=_hasUnicode,stringToArray=_stringToArray,toString$3=toString_1;function createCaseFirst$1(t){return function(e){e=toString$3(e);var n=hasUnicode(e)?stringToArray(e):void 0,i=n?n[0]:e.charAt(0),s=n?castSlice(n,1).join(""):e.slice(1);return i[t]()+s}}var _createCaseFirst=createCaseFirst$1,createCaseFirst=_createCaseFirst,upperFirst$1=createCaseFirst("toUpperCase"),upperFirst_1=upperFirst$1,toString$2=toString_1,upperFirst=upperFirst_1;function capitalize$1(t){return upperFirst(toString$2(t).toLowerCase())}var capitalize_1=capitalize$1;function arrayReduce$1(t,e,n,i){var s=-1,g=t==null?0:t.length;for(i&&g&&(n=t[++s]);++s<g;)n=e(n,t[s],s,t);return n}var _arrayReduce=arrayReduce$1;function basePropertyOf$1(t){return function(e){return t==null?void 0:t[e]}}var _basePropertyOf=basePropertyOf$1,basePropertyOf=_basePropertyOf,deburredLetters={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},deburrLetter$1=basePropertyOf(deburredLetters),_deburrLetter=deburrLetter$1,deburrLetter=_deburrLetter,toString$1=toString_1,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsCombo$1="["+rsComboRange$1+"]",reComboMark=RegExp(rsCombo$1,"g");function deburr$1(t){return t=toString$1(t),t&&t.replace(reLatin,deburrLetter).replace(reComboMark,"")}var deburr_1=deburr$1,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function asciiWords$1(t){return t.match(reAsciiWord)||[]}var _asciiWords=asciiWords$1,reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function hasUnicodeWord$1(t){return reHasUnicodeWord.test(t)}var _hasUnicodeWord=hasUnicodeWord$1,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsDingbatRange="\\u2700-\\u27bf",rsLowerRange="a-z\\xdf-\\xf6\\xf8-\\xff",rsMathOpRange="\\xac\\xb1\\xd7\\xf7",rsNonCharRange="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",rsPunctuationRange="\\u2000-\\u206f",rsSpaceRange=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsUpperRange="A-Z\\xc0-\\xd6\\xd8-\\xde",rsVarRange="\\ufe0e\\ufe0f",rsBreakRange=rsMathOpRange+rsNonCharRange+rsPunctuationRange+rsSpaceRange,rsApos$1="[']",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="["+rsDingbatRange+"]",rsLower="["+rsLowerRange+"]",rsMisc="[^"+rsAstralRange+rsBreakRange+rsDigits+rsDingbatRange+rsLowerRange+rsUpperRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="["+rsUpperRange+"]",rsZWJ="\\u200d",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",rsOptContrLower="(?:"+rsApos$1+"(?:d|ll|m|re|s|t|ve))?",rsOptContrUpper="(?:"+rsApos$1+"(?:D|LL|M|RE|S|T|VE))?",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsOrdLower="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsOrdUpper="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+"+rsOptContrLower+"(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+"+rsOptContrUpper+"(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+"+rsOptContrLower,rsUpper+"+"+rsOptContrUpper,rsOrdUpper,rsOrdLower,rsDigits,rsEmoji].join("|"),"g");function unicodeWords$1(t){return t.match(reUnicodeWord)||[]}var _unicodeWords=unicodeWords$1,asciiWords=_asciiWords,hasUnicodeWord=_hasUnicodeWord,toString=toString_1,unicodeWords=_unicodeWords;function words$1(t,e,n){return t=toString(t),e=n?void 0:e,e===void 0?hasUnicodeWord(t)?unicodeWords(t):asciiWords(t):t.match(e)||[]}var words_1=words$1,arrayReduce=_arrayReduce,deburr=deburr_1,words=words_1,rsApos="[']",reApos=RegExp(rsApos,"g");function createCompounder$1(t){return function(e){return arrayReduce(words(deburr(e).replace(reApos,"")),t,"")}}var _createCompounder=createCompounder$1,capitalize=capitalize_1,createCompounder=_createCompounder,camelCase=createCompounder(function(t,e,n){return e=e.toLowerCase(),t+(n?capitalize(e):e)}),camelCase_1=camelCase;const camelCase$1=getDefaultExportFromCjs(camelCase_1);function warning(t,e){warningOnce(t,"[@ant-design/icons] ".concat(e))}function isIconDefinition(t){return _typeof(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(_typeof(t.icon)==="object"||typeof t.icon=="function")}function normalizeAttrs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(e,n){var i=t[n];switch(n){case"class":e.className=i,delete e.class;break;default:delete e[n],e[camelCase$1(n)]=i}return e},{})}function generate(t,e,n){return n?React.createElement(t.tag,_objectSpread2(_objectSpread2({key:e},normalizeAttrs(t.attrs)),n),(t.children||[]).map(function(i,s){return generate(i,"".concat(e,"-").concat(t.tag,"-").concat(s))})):React.createElement(t.tag,_objectSpread2({key:e},normalizeAttrs(t.attrs)),(t.children||[]).map(function(i,s){return generate(i,"".concat(e,"-").concat(t.tag,"-").concat(s))}))}function getSecondaryColor(t){return generate$1(t)[0]}function normalizeTwoToneColors(t){return t?Array.isArray(t)?t:[t]:[]}var iconStyles=`
.anticon {
  display: inline-flex;
  alignItems: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,useInsertStyles=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iconStyles,n=reactExports.useContext(IconContext),i=n.csp;reactExports.useEffect(function(){updateCSS(e,"@ant-design-icons",{prepend:!0,csp:i})},[])},_excluded$1=["icon","className","onClick","style","primaryColor","secondaryColor"],twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors(t){var e=t.primaryColor,n=t.secondaryColor;twoToneColorPalette.primaryColor=e,twoToneColorPalette.secondaryColor=n||getSecondaryColor(e),twoToneColorPalette.calculated=!!n}function getTwoToneColors(){return _objectSpread2({},twoToneColorPalette)}var IconBase=function t(e){var n=e.icon,i=e.className,s=e.onClick,g=e.style,l=e.primaryColor,C=e.secondaryColor,p=_objectWithoutProperties(e,_excluded$1),B=twoToneColorPalette;if(l&&(B={primaryColor:l,secondaryColor:C||getSecondaryColor(l)}),useInsertStyles(),warning(isIconDefinition(n),"icon should be icon definiton, but got ".concat(n)),!isIconDefinition(n))return null;var Q=n;return Q&&typeof Q.icon=="function"&&(Q=_objectSpread2(_objectSpread2({},Q),{},{icon:Q.icon(B.primaryColor,B.secondaryColor)})),generate(Q.icon,"svg-".concat(Q.name),_objectSpread2({className:i,onClick:s,style:g,"data-icon":Q.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},p))};IconBase.displayName="IconReact";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;function setTwoToneColor(t){var e=normalizeTwoToneColors(t),n=_slicedToArray(e,2),i=n[0],s=n[1];return IconBase.setTwoToneColors({primaryColor:i,secondaryColor:s})}function getTwoToneColor(){var t=IconBase.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var _excluded=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];setTwoToneColor("#1890ff");var Icon=reactExports.forwardRef(function(t,e){var n=t.className,i=t.icon,s=t.spin,g=t.rotate,l=t.tabIndex,C=t.onClick,p=t.twoToneColor,B=_objectWithoutProperties(t,_excluded),Q=reactExports.useContext(IconContext),y=Q.prefixCls,_=y===void 0?"anticon":y,S=Q.rootClassName,w=classNames(S,_,_defineProperty(_defineProperty({},"".concat(_,"-").concat(i.name),!!i.name),"".concat(_,"-spin"),!!s||i.name==="loading"),n),O=l;O===void 0&&C&&(O=-1);var P=g?{msTransform:"rotate(".concat(g,"deg)"),transform:"rotate(".concat(g,"deg)")}:void 0,K=normalizeTwoToneColors(p),M=_slicedToArray(K,2),U=M[0],F=M[1];return reactExports.createElement("span",_objectSpread2(_objectSpread2({role:"img","aria-label":i.name},B),{},{ref:e,tabIndex:O,onClick:C,className:w}),reactExports.createElement(IconBase,{icon:i,primaryColor:U,secondaryColor:F,style:P}))});Icon.displayName="AntdIcon";Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;var CheckOutlined=function t(e,n){return reactExports.createElement(Icon,_objectSpread2(_objectSpread2({},e),{},{ref:n,icon:CheckOutlined$2}))},RefIcon$2=reactExports.forwardRef(CheckOutlined),CloseOutlined=function t(e,n){return reactExports.createElement(Icon,_objectSpread2(_objectSpread2({},e),{},{ref:n,icon:CloseOutlined$1}))},RefIcon$1=reactExports.forwardRef(CloseOutlined),LoadingOutlined=function t(e,n){return reactExports.createElement(Icon,_objectSpread2(_objectSpread2({},e),{},{ref:n,icon:LoadingOutlined$1}))},RefIcon=reactExports.forwardRef(LoadingOutlined);const content$8="_content_byxi0_1",textTop$2="_textTop_byxi0_6",textBottom$2="_textBottom_byxi0_13",section$2="_section_byxi0_19",text$b="_text_byxi0_6",selectWrapper$2="_selectWrapper_byxi0_28",btnWrapper$4="_btnWrapper_byxi0_32",btn$5="_btn_byxi0_32",styles$j={content:content$8,textTop:textTop$2,textBottom:textBottom$2,section:section$2,text:text$b,selectWrapper:selectWrapper$2,btnWrapper:btnWrapper$4,btn:btn$5},SELECT_LIVE_LANGUAGE_PLACEHOLDER="Select on-site language",SELECT_TRANS_LANGUAGE_PLACEHOLDER$1="Please select a language to translate into",MAX_COUNT$1=5;let clickCount=0;const MAX_CLICK_COUNT=5;let time$2=0;const LanguageSettingDialog=t=>{const{open:e,onOk:n,onCancel:i}=t,s=useDispatch(),{t:g}=useTranslation(),l=useSelector(ga=>ga.global.sttData),C=useSelector(ga=>ga.global.languageSelect),{transcribe1:p,translate1List:B=[],transcribe2:Q,translate2List:y=[]}=C,[_,S]=reactExports.useState(p),[w,O]=reactExports.useState(B),[P,K]=reactExports.useState(Q),[M,U]=reactExports.useState(y),[F,W]=reactExports.useState(!1),ae=reactExports.useRef(null);reactExports.useEffect(()=>{p&&S(p),O(B),Q&&K(Q),U(y)},[C]);const _r=reactExports.useMemo(()=>l.status=="start",[l]),_t=reactExports.useMemo(()=>{const ga=[];return _&&ga.push({source:_,target:w}),P&&ga.push({source:P,target:M}),ga},[_,w,P,M]),_A=reactExports.useMemo(()=>g(_r?"setting.sttStop":"setting.sttStart"),[_r]),na=()=>_&&P&&_==P,oa=async()=>{if(!F){if(na())return s(addMessage({content:g("setting.sameLanguage"),type:"success"}));W(!0);try{_r?await window.sttManager.stopTranscription():await window.sttManager.startTranscription({languages:_t})}catch(ga){console.error(ga),s(addMessage({content:ga.message,type:"error"}))}W(!1),n==null||n()}},ha=(ga=[],ma=[])=>[...new Set([...ga,...ma])].length>5?(s(addMessage({content:g("setting.translationLanguageMax"),type:"error"})),!1):!0,fa=()=>{time$2||(time$2=new Date().getTime());const ga=new Date().getTime();ga-time$2<1e3?(time$2=ga,clickCount+1>=MAX_CLICK_COUNT?(Da(),clickCount=0,time$2=0):clickCount++):(time$2=ga,clickCount=1)},Da=()=>{window.sttManager.extendDuration({duration:72e5}),s(addMessage({content:g("message.extendExperience"),type:"success"}))};return jsxRuntimeExports.jsxs(Modal,{width:600,title:jsxRuntimeExports.jsx("div",{ref:ae,className:"title",onClick:fa,children:g("footer.langaugesSetting")}),open:e,footer:null,onOk:n,onCancel:i,children:[jsxRuntimeExports.jsxs("div",{className:styles$j.content,children:[jsxRuntimeExports.jsx(Alert,{message:g("setting.limitDuration"),showIcon:!0,type:"warning"}),jsxRuntimeExports.jsx("div",{className:styles$j.textTop,children:g("setting.languagesSelect")}),jsxRuntimeExports.jsx("div",{className:styles$j.textBottom,children:g("setting.tip")}),jsxRuntimeExports.jsxs("div",{className:styles$j.section,children:[jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsxs("div",{className:styles$j.text,style:{width:160},children:[g("setting.liveLanguage")," 1"]}),jsxRuntimeExports.jsxs("div",{className:styles$j.text,children:[g("setting.liveLanguage")," 1 - ",g("translationLanguage")]})]}),jsxRuntimeExports.jsx("div",{className:styles$j.selectWrapper,children:jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsx(Select,{value:_,onChange:ga=>{S(ga),ga||O([])},disabled:_r,allowClear:!0,placeholder:SELECT_LIVE_LANGUAGE_PLACEHOLDER,style:{width:160},options:LANGUAGE_OPTIONS}),jsxRuntimeExports.jsx(Select,{value:w,onChange:ga=>{ha(ga,M)&&O(ga)},allowClear:!0,disabled:_r||!_,showSearch:!1,mode:"multiple",placeholder:SELECT_TRANS_LANGUAGE_PLACEHOLDER$1,maxCount:MAX_COUNT$1,style:{width:380},maxTagTextLength:10,options:LANGUAGE_OPTIONS})]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$j.section,children:[jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsxs("div",{className:styles$j.text,style:{width:160},children:[g("setting.liveLanguage")," 2"]}),jsxRuntimeExports.jsxs("div",{className:styles$j.text,children:[g("setting.liveLanguage")," 2 - ",g("translationLanguage")]})]}),jsxRuntimeExports.jsx("div",{className:styles$j.selectWrapper,children:jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsx(Select,{value:P,onChange:ga=>{K(ga),ga||U([])},disabled:_r,allowClear:!0,placeholder:SELECT_LIVE_LANGUAGE_PLACEHOLDER,style:{width:160},options:LANGUAGE_OPTIONS}),jsxRuntimeExports.jsx(Select,{value:M,onChange:ga=>{ha(w,ga)&&U(ga)},disabled:_r||!P,allowClear:!0,showSearch:!1,mode:"multiple",placeholder:SELECT_TRANS_LANGUAGE_PLACEHOLDER$1,maxCount:MAX_COUNT$1,style:{width:380},maxTagTextLength:10,options:LANGUAGE_OPTIONS})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$j.btnWrapper,children:jsxRuntimeExports.jsxs("span",{className:styles$j.btn,onClick:oa,children:[_A,F?jsxRuntimeExports.jsx(RefIcon,{}):null]})})]})},content$7="_content_1ussp_1",item$3="_item_1ussp_5",text$a="_text_1ussp_16",styles$i={content:content$7,item:item$3,text:text$a},CaptionPopover=t=>{const{children:e}=t,n=useDispatch(),{t:i}=useTranslation(),s=useSelector(p=>p.global.captionLanguages),g=useSelector(p=>p.global.languageSelect),l=reactExports.useMemo(()=>{const p=[];p.push({text:i("liveLanguage"),stt:"live",type:"live",active:s.includes("live")});const{translate1List:B=[],translate2List:Q=[]}=g,y=[...new Set([...B,...Q])];for(let _=0;_<y.length;_++){const S=LANGUAGE_LIST.find(w=>w.code==y[_]);S&&p.push({text:(S==null?void 0:S.label)||"",stt:y[_],type:"translate",active:s.includes(y[_])})}return p},[s,g]),C=p=>{const B=[...s],Q=B.indexOf(p.stt);if(Q>-1?B.splice(Q,1):B.push(p.stt),B.filter(_=>_!=="live").length>=2){const _=B.findIndex(S=>S!=="live");B.splice(_,1)}n(setCaptionLanguages(B))};return jsxRuntimeExports.jsx(Popover,{overlayInnerStyle:{padding:0},content:jsxRuntimeExports.jsx("div",{className:styles$i.content,children:l.map((p,B)=>jsxRuntimeExports.jsxs("div",{className:`${styles$i.item} ${p.active?"active":""}`,onClick:()=>C(p),children:[jsxRuntimeExports.jsx("span",{className:styles$i.text,children:p.text}),p.active?jsxRuntimeExports.jsx(RefIcon$2,{style:{color:"#3D53F5"}}):null]},B))}),trigger:"click",children:e})},footer="_footer_hetm1_1",content$6="_content_hetm1_14",item$2="_item_hetm1_19",left$2="_left_hetm1_28",text$9="_text_hetm1_35",arrowWrapper="_arrowWrapper_hetm1_52",end="_end_hetm1_66",styles$h={footer,content:content$6,item:item$2,left:left$2,text:text$9,arrowWrapper,end},Footer=t=>{const{style:e}=t,n=useNavigate(),i=useDispatch(),{t:s}=useTranslation(),g=useSelector(_A=>_A.global.localAudioMute),l=useSelector(_A=>_A.global.localVideoMute),C=useSelector(_A=>_A.global.memberListShow),p=useSelector(_A=>_A.global.dialogRecordShow),B=useSelector(_A=>_A.global.captionShow),Q=useSelector(_A=>_A.global.tipSTTEnable);useSelector(_A=>_A.global.aiShow);const y=useSelector(_A=>_A.global.sttData),[_,S]=reactExports.useState(!1);reactExports.useEffect(()=>{Q&&setTimeout(()=>{i(setTipSTTEnable(!1))},4e3)},[Q]);const w=reactExports.useMemo(()=>y.status==="start",[y]),O=reactExports.useMemo(()=>s(g?"footer.unMuteAudio":"footer.muteAudio"),[g]),P=reactExports.useMemo(()=>s(l?"footer.unMuteVideo":"footer.muteVideo"),[l]),K=reactExports.useMemo(()=>s(B?"footer.stopCC":"footer.startCC"),[B]),M=()=>{i(setLocalAudioMute(!g))},U=()=>{i(setLocalVideoMute(!l))},F=()=>{i(setMemberListShow(!C))},W=()=>{i(setDialogRecordShow(!p)),i(p?removeMenuItem("DialogRecord"):addMenuItem("DialogRecord"))},ae=()=>{if(y.status!=="start")return i(setTipSTTEnable(!0));i(setCaptionShow(!B))},_r=()=>{S(!_)},_t=()=>{n("/"),i(addMessage({content:"end meeting success!",type:"success"}))};return jsxRuntimeExports.jsxs("footer",{className:styles$h.footer,style:e,children:[jsxRuntimeExports.jsxs("section",{className:styles$h.content,children:[jsxRuntimeExports.jsxs("span",{className:styles$h.item,onClick:M,children:[jsxRuntimeExports.jsx(MicIcon,{active:!g}),jsxRuntimeExports.jsx("span",{className:styles$h.text,children:O})]}),jsxRuntimeExports.jsxs("span",{className:styles$h.item,onClick:U,children:[jsxRuntimeExports.jsx(CamIcon,{active:!l}),jsxRuntimeExports.jsx("span",{className:styles$h.text,children:P})]}),jsxRuntimeExports.jsxs("span",{className:styles$h.item,onClick:F,children:[jsxRuntimeExports.jsx(MemberIcon,{active:C}),jsxRuntimeExports.jsx("span",{className:styles$h.text,children:s("footer.participantsList")})]}),jsxRuntimeExports.jsxs("span",{className:`${styles$h.item} ${w?"":"disabled"}`,onClick:ae,children:[jsxRuntimeExports.jsx(CaptionIcon,{disabled:!w,active:B}),jsxRuntimeExports.jsx("span",{className:styles$h.text,children:K})]}),jsxRuntimeExports.jsx(CaptionPopover,{children:jsxRuntimeExports.jsx("span",{className:styles$h.arrowWrapper,children:jsxRuntimeExports.jsx(ArrowUpIcon,{width:16,height:16})})}),jsxRuntimeExports.jsxs("span",{className:`${styles$h.item}`,onClick:W,children:[jsxRuntimeExports.jsx(TranscriptionIcon,{active:p}),jsxRuntimeExports.jsx("span",{className:styles$h.text,children:s("footer.conversationHistory")})]}),jsxRuntimeExports.jsx(Popover,{placement:"top",content:s("footer.tipEnableSTTFirst"),open:Q,children:jsxRuntimeExports.jsxs("span",{className:`${styles$h.item}`,onClick:_r,children:[jsxRuntimeExports.jsx(SettingIcon,{}),jsxRuntimeExports.jsx("span",{className:`${styles$h.text}`,children:s("footer.langaugesSetting")})]})}),null]}),jsxRuntimeExports.jsx("span",{className:styles$h.end,onClick:_t,children:s("closeConversation")}),jsxRuntimeExports.jsx(LanguageSettingDialog,{open:_,onOk:()=>S(!1),onCancel:()=>S(!1)})]})},avatar="_avatar_1nnif_1",text$8="_text_1nnif_12",host="_host_1nnif_19",styles$g={avatar,text:text$8,host},Avatar=t=>{const{size:e="default",userName:n="",isHost:i=!1}=t,s=reactExports.useMemo(()=>n.length<2?n:n[0].toUpperCase()+n[1],[n]);return jsxRuntimeExports.jsxs("span",{className:`${styles$g.avatar} ${e}`,children:[jsxRuntimeExports.jsx("span",{className:styles$g.text,children:s}),i&&jsxRuntimeExports.jsx("span",{className:styles$g.host,children:jsxRuntimeExports.jsx(HostIcon,{color:"#fff"})})]})},streamPlayer="_streamPlayer_du8z6_1",styles$f={streamPlayer},LocalStreamPlayer=reactExports.forwardRef((t,e)=>{const{videoTrack:n,audioTrack:i,style:s={},fit:g="cover",onClick:l=()=>{}}=t,C=useSelector(B=>B.global.localVideoMute),p=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const B={fit:g};return C?n==null||n.stop():n!=null&&n.isPlaying||n==null||n.play(p.current,B),()=>{n==null||n.stop()}},[n,g,C]),jsxRuntimeExports.jsx("div",{className:styles$f.streamPlayer,style:s,ref:p,onClick:l})}),RemoteStreamPlayer=reactExports.forwardRef((t,e)=>{const{videoTrack:n,audioTrack:i,style:s={},fit:g="cover",onClick:l=()=>{}}=t,C=reactExports.useRef(null);return reactExports.useLayoutEffect(()=>{const p={fit:g};return n!=null&&n.isPlaying||n==null||n.play(C.current,p),()=>{n==null||n.stop()}},[n,g]),reactExports.useLayoutEffect(()=>{i!=null&&i.isPlaying||i==null||i.play()},[i]),jsxRuntimeExports.jsx("div",{className:styles$f.streamPlayer,style:s,ref:C,onClick:l})}),centerArea="_centerArea_14bsi_1",videoMute="_videoMute_14bsi_6",textWrapper="_textWrapper_14bsi_16",text$7="_text_14bsi_16",iconWrapper="_iconWrapper_14bsi_31",streamPlayerWrapper="_streamPlayerWrapper_14bsi_42",videoUnMute="_videoUnMute_14bsi_47",userInfo$1="_userInfo_14bsi_54",styles$e={centerArea,videoMute,textWrapper,text:text$7,iconWrapper,streamPlayerWrapper,videoUnMute,userInfo:userInfo$1},RATIO=1.777778,CenterArea=t=>{const{data:e}=t,n=useSelector(S=>S.global.userInfo),i=useSelector(S=>S.global.localAudioMute),s=useSelector(S=>S.global.localVideoMute),g=reactExports.useRef(null),[l,C]=reactExports.useState({width:0,height:0}),p=reactExports.useMemo(()=>e.isLocal?s:!e.videoTrack,[s,e]),B=reactExports.useMemo(()=>e.isLocal?i:!e.audioTrack,[i,e]),Q=reactExports.useMemo(()=>e.isLocal?n.userName+" (Me)":e.userName,[e]),y=new ResizeObserver(S=>{const w=S[0].contentRect.width,O=S[0].contentRect.height;C({width:w,height:O})});reactExports.useEffect(()=>{var S,w;return y.observe(g.current),C({width:((S=g.current)==null?void 0:S.offsetWidth)||0,height:((w=g.current)==null?void 0:w.offsetHeight)||0}),()=>{y.disconnect()}},[g]);const _=reactExports.useMemo(()=>{const S=l.height||0;let O=l.width||0,P=O/RATIO;return P>S&&(P=S,O=S*RATIO),{width:Math.floor(O),height:Math.floor(P)}},[l,g]);return jsxRuntimeExports.jsx("div",{className:styles$e.centerArea,ref:g,children:p?jsxRuntimeExports.jsxs("div",{className:styles$e.videoMute,children:[jsxRuntimeExports.jsx(Avatar,{size:"large",userName:e.userName,isHost:e.isHost}),jsxRuntimeExports.jsxs("div",{className:styles$e.textWrapper,children:[jsxRuntimeExports.jsx("span",{className:styles$e.text,children:Q}),jsxRuntimeExports.jsx("span",{className:styles$e.iconWrapper,children:jsxRuntimeExports.jsx(MicIcon,{width:12,height:12,color:"#fff",active:!B})})]}),jsxRuntimeExports.jsx("div",{className:styles$e.streamPlayerWrapper,children:e.isLocal?jsxRuntimeExports.jsx(LocalStreamPlayer,{videoTrack:e.videoTrack}):jsxRuntimeExports.jsx(RemoteStreamPlayer,{audioTrack:e.audioTrack,videoTrack:e.videoTrack})})]}):jsxRuntimeExports.jsxs("div",{className:styles$e.videoUnMute,style:{width:_.width+"px",height:_.height+"px"},children:[e.isLocal?jsxRuntimeExports.jsx(LocalStreamPlayer,{videoTrack:e.videoTrack}):jsxRuntimeExports.jsx(RemoteStreamPlayer,{audioTrack:e.audioTrack,videoTrack:e.videoTrack}),jsxRuntimeExports.jsxs("div",{className:styles$e.userInfo,children:[jsxRuntimeExports.jsx(MicIcon,{width:16,height:16,color:"#fff",active:!B}),jsxRuntimeExports.jsx("span",{className:styles$e.text,children:Q}),e.isHost?jsxRuntimeExports.jsx(HostIcon,{color:"#FFAA08",width:16,height:16}):null]})]})})},itemCamMute="_itemCamMute_wzbhd_1",text$6="_text_wzbhd_14",itemCamUnMute="_itemCamUnMute_wzbhd_25",micIconWrapper="_micIconWrapper_wzbhd_34",userInfo="_userInfo_wzbhd_49",styles$d={itemCamMute,text:text$6,itemCamUnMute,micIconWrapper,userInfo},UserItem=t=>{const{data:e,onClick:n=y=>{}}=t,{isLocal:i}=e,{userName:s,isHost:g}=e,l=useSelector(y=>y.global.localVideoMute),C=useSelector(y=>y.global.localAudioMute),p=reactExports.useMemo(()=>i?l:!e.videoTrack,[l,e]),B=reactExports.useMemo(()=>i?C:!e.audioTrack,[C,e]),Q=reactExports.useMemo(()=>i?s+" (Me)":s,[e]);return p?jsxRuntimeExports.jsxs("div",{className:styles$d.itemCamMute,onClick:()=>n(e),children:[jsxRuntimeExports.jsx(MicIcon,{width:16,height:16,active:!B,color:"#667085"}),jsxRuntimeExports.jsx("span",{className:styles$d.text,children:Q}),g?jsxRuntimeExports.jsx(HostIcon,{width:16,height:16,color:"#FFAA08"}):null]}):jsxRuntimeExports.jsxs("div",{className:styles$d.itemCamUnMute,onClick:()=>n(e),children:[e.isLocal?jsxRuntimeExports.jsx(LocalStreamPlayer,{videoTrack:e.videoTrack}):jsxRuntimeExports.jsx(RemoteStreamPlayer,{audioTrack:e.audioTrack,videoTrack:e.videoTrack}),jsxRuntimeExports.jsx("div",{className:styles$d.micIconWrapper,children:jsxRuntimeExports.jsx(MicIcon,{width:16,height:16,active:!B,color:"#fff"})}),jsxRuntimeExports.jsxs("div",{className:styles$d.userInfo,children:[jsxRuntimeExports.jsx("span",{className:styles$d.text,children:Q}),g?jsxRuntimeExports.jsx(HostIcon,{width:16,height:16,color:"#FFAA08"}):null]})]})},userList="_userList_14lht_1",title$1="_title_14lht_12",text$5="_text_14lht_21",content$5="_content_14lht_28",list="_list_14lht_34",styles$c={userList,title:title$1,text:text$5,content:content$5,list},UserList=t=>{const{data:e=[],onClickItem:n=()=>{}}=t,i=useDispatch(),{t:s}=useTranslation(),g=()=>{i(setMemberListShow(!1))};return jsxRuntimeExports.jsxs("div",{className:styles$c.userList,children:[jsxRuntimeExports.jsxs("div",{className:styles$c.title,children:[jsxRuntimeExports.jsxs("span",{className:styles$c.text,children:[s("footer.participantsList")," (",e.length+1,")"]}),jsxRuntimeExports.jsx(RefIcon$1,{onClick:g})]}),jsxRuntimeExports.jsx("div",{className:styles$c.content,children:jsxRuntimeExports.jsx("div",{className:styles$c.list,children:e.map(l=>jsxRuntimeExports.jsx(UserItem,{data:l,onClick:n},l.userId))})})]})},captionItem="_captionItem_xvz7t_1",userName$1="_userName_xvz7t_6",content$4="_content_xvz7t_14",translate$1="_translate_xvz7t_20",arabic$1="_arabic_xvz7t_26",styles$b={captionItem,userName:userName$1,content:content$4,translate:translate$1,arabic:arabic$1},CaptionItem=t=>{const{data:e}=t,{userName:n,content:i,translations:s}=e;return jsxRuntimeExports.jsxs("div",{className:styles$b.captionItem,children:[i||s!=null&&s.length?jsxRuntimeExports.jsxs("div",{className:styles$b.userName,children:[n,":"]}):null,i?jsxRuntimeExports.jsx("div",{className:styles$b.content,children:i}):null,s==null?void 0:s.map((g,l)=>jsxRuntimeExports.jsx("div",{className:`${styles$b.translate} ${isArabic(g==null?void 0:g.lang)?styles$b.arabic:""}`,children:g==null?void 0:g.text},l))]})},caption="_caption_26r1l_1",styles$a={caption},Caption=t=>{const{visible:e}=t,n=useSelector(C=>C.global.captionLanguages),i=reactExports.useRef(null),s=useSelector(C=>C.global.sttSubtitles),g=reactExports.useMemo(()=>{const C=[];return s.forEach(p=>{var Q;const B={userName:p.username,translations:[],content:""};n.includes("live")&&(B.content=p.text),(Q=p.translations)==null||Q.forEach(y=>{var S;const _={lang:y.lang,text:y.text};n.includes(y.lang)&&((S=B.translations)==null||S.push(_))}),C.push(B)}),C},[n,s]),l=()=>{if(!i.current)return;const C=getElementScrollY(i.current);if(C>0){const p=i.current.scrollTop??0,B=getCaptionScrollPX(C);i.current.scrollTop=p+B}};return reactExports.useEffect(()=>{const C=setInterval(()=>{l()},35);return()=>{clearInterval(C)}},[g]),jsxRuntimeExports.jsx("div",{className:`${styles$a.caption} ${e?"":"hidden"}`,ref:i,children:g.map((C,p)=>jsxRuntimeExports.jsx(CaptionItem,{data:C},p))})},title="_title_lpf76_1",titleOne="_titleOne_lpf76_9",text$4="_text_lpf76_19",titleTwo="_titleTwo_lpf76_29",item$1="_item_lpf76_37",styles$9={title,titleOne,text:text$4,titleTwo,item:item$1},MenuTitle=()=>{const t=useDispatch(),{t:e}=useTranslation(),n=useSelector(C=>C.global.menuList),i=n[0],s=reactExports.useMemo(()=>i=="AI"?e("footer.aIAssistant"):e("footer.conversationHistory"),[i]),g=C=>{C.stopPropagation(),i==="AI"?(t(setAIShow(!1)),t(removeMenuItem("AI"))):(t(setDialogRecordShow(!1)),t(removeMenuItem("DialogRecord")))},l=C=>{t(addMenuItem(C))};return jsxRuntimeExports.jsx("div",{className:styles$9.title,children:n.length==1?jsxRuntimeExports.jsxs("div",{className:styles$9.titleOne,children:[jsxRuntimeExports.jsx(TranscriptionIcon,{width:16,height:16}),jsxRuntimeExports.jsx("span",{className:styles$9.text,children:s}),jsxRuntimeExports.jsx(RefIcon$1,{style:{fontSize:"12px"},onClick:g})]}):jsxRuntimeExports.jsxs("div",{className:styles$9.titleTwo,children:[jsxRuntimeExports.jsxs("span",{className:`${styles$9.item} ${i=="DialogRecord"?"active":""}`,onClick:()=>l("DialogRecord"),children:[jsxRuntimeExports.jsx(TranscriptionIcon,{width:16,height:16}),jsxRuntimeExports.jsx("span",{className:styles$9.text,children:e("footer.conversationHistory")}),i=="DialogRecord"?jsxRuntimeExports.jsx(RefIcon$1,{style:{fontSize:"12px"},onClick:g}):null]}),jsxRuntimeExports.jsxs("span",{className:`${styles$9.item} ${i=="AI"?"active":""}`,onClick:()=>l("AI"),children:[jsxRuntimeExports.jsx(AiIcon,{width:16,height:16}),jsxRuntimeExports.jsx("span",{className:styles$9.text,children:e("footer.aIAssistant")}),i=="AI"?jsxRuntimeExports.jsx(RefIcon$1,{style:{fontSize:"12px"},onClick:g}):null]})]})})},aiAssistant="_aiAssistant_10p4k_1",prompt="_prompt_10p4k_11",text$3="_text_10p4k_11",select="_select_10p4k_17",conversation$1="_conversation_10p4k_22",btn$4="_btn_10p4k_37",result="_result_10p4k_67",textAreaWrapper="_textAreaWrapper_10p4k_78",cusTextarea="_cusTextarea_10p4k_81",btnWrapper$3="_btnWrapper_10p4k_101",btnAnalyze="_btnAnalyze_10p4k_107",btnClearAll="_btnClearAll_10p4k_126",styles$8={aiAssistant,prompt,text:text$3,select,conversation:conversation$1,btn:btn$4,result,textAreaWrapper,cusTextarea,btnWrapper:btnWrapper$3,btnAnalyze,btnClearAll},{TextArea}=Input$1,AiAssistant=reactExports.forwardRef((t,e)=>{const{t:n}=useTranslation(),[i,s]=reactExports.useState(""),[g,l]=reactExports.useState(""),[C,p]=reactExports.useState(""),[B,Q]=reactExports.useState(""),[y,_]=reactExports.useState(""),[S,w]=reactExports.useState(!1),O=reactExports.useRef(null);reactExports.useImperativeHandle(e,()=>({setConversation(_A){p(_A)}}));const P=reactExports.useMemo(()=>AI_USER_CONTENT_OPTIONS.filter(_A=>_A.type===g).map(_A=>({label:_A.label,value:_A.label})),[g]),K=_A=>{l(_A),_("");const na=AI_PROMPT_OPTIONS.find(oa=>oa.label===_A);na&&s(na.value)},M=_A=>{_(_A);const na=AI_USER_CONTENT_OPTIONS.find(oa=>oa.label===_A);na&&p(na.value)},U=_A=>{s(_A.target.value)},F=_A=>{p(_A.target.value)},W=()=>{s(""),p(""),Q("")},ae=async()=>{if(S)return;w(!0);const _A=await apiAiAnalysis();Q(_A.result),w(!1)},_r=_A=>{var oa;const na=(oa=_A.target.files)==null?void 0:oa[0];if(na){const ha=new FileReader;ha.onload=fa=>{var ga;const Da=(ga=fa.target)==null?void 0:ga.result;p(Da)},ha.readAsText(na)}},_t=()=>{var _A;(_A=O.current)==null||_A.click()};return jsxRuntimeExports.jsxs("div",{className:styles$8.aiAssistant,children:[jsxRuntimeExports.jsxs("div",{className:styles$8.prompt,children:[jsxRuntimeExports.jsx("div",{className:styles$8.text,children:n("prompt")}),jsxRuntimeExports.jsx(Select,{placeholder:n("ai.selectPromptSample"),className:styles$8.select,options:AI_PROMPT_OPTIONS.map(_A=>({label:_A.label,value:_A.label})),onChange:K}),jsxRuntimeExports.jsx(TextArea,{rows:10,placeholder:AI_PROMPT_PLACEHOLDER,value:i,onChange:U})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.conversation,children:[jsxRuntimeExports.jsx("div",{className:styles$8.text,children:n("conversationText")}),jsxRuntimeExports.jsxs("div",{className:styles$8.select,children:[jsxRuntimeExports.jsx(Select,{style:{width:210},placeholder:n("ai.selectConversation"),options:P,onChange:M,value:y}),jsxRuntimeExports.jsxs("span",{className:styles$8.btn,onClick:_t,children:[jsxRuntimeExports.jsx("input",{accept:".txt",type:"file",onChange:_r,ref:O}),jsxRuntimeExports.jsx("span",{className:styles$8.text,children:n("loadText")}),jsxRuntimeExports.jsx(UploadIcon,{})]})]}),jsxRuntimeExports.jsx(TextArea,{rows:10,placeholder:"-",value:C,onChange:F})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.result,children:[jsxRuntimeExports.jsx("div",{className:styles$8.text,children:n("analysisResult")}),jsxRuntimeExports.jsx("div",{className:styles$8.textAreaWrapper,children:jsxRuntimeExports.jsx(TextArea,{rows:10,placeholder:AI_RESULT_PLACEHOLDER,classNames:{textarea:styles$8.cusTextarea},value:B})})]}),jsxRuntimeExports.jsxs("div",{className:styles$8.btnWrapper,children:[jsxRuntimeExports.jsxs("span",{className:styles$8.btnAnalyze,onClick:ae,children:[n("analyze"),S?jsxRuntimeExports.jsx(RefIcon,{}):null]}),jsxRuntimeExports.jsx("span",{className:styles$8.btnClearAll,onClick:W,children:n("clearAll")})]})]})}),record="_record_sw45p_1",item="_item_sw45p_10",left$1="_left_sw45p_20",right$1="_right_sw45p_23",up="_up_sw45p_30",userName="_userName_sw45p_35",time$1="_time_sw45p_41",bottom="_bottom_sw45p_48",content$3="_content_sw45p_53",translate="_translate_sw45p_60",bold="_bold_sw45p_69",arabic="_arabic_sw45p_72",styles$7={record,item,left:left$1,right:right$1,up,userName,time:time$1,bottom,content:content$3,translate,bold,arabic};let lastScrollTop=0;const RecordContent=()=>{const t=useSelector(_=>_.global.recordLanguageSelect),e=useSelector(_=>_.global.languageSelect),n=useSelector(_=>_.global.sttSubtitles),{translate1List:i=[],translate2List:s=[]}=t,{transcribe1:g,transcribe2:l}=e,C=reactExports.useRef(null),[p,B]=reactExports.useState(!1),Q=reactExports.useMemo(()=>{const _=[];return n.forEach(S=>{var w,O;if(S.lang==g){const P={userName:S.username,content:S.text,translations:[],startTextTs:S.startTextTs,textTs:S.textTs,time:S.startTextTs};(w=S.translations)==null||w.forEach(K=>{var M;if(i.includes(K.lang)){const U={lang:K.lang,text:K.text};(M=P.translations)==null||M.push(U)}}),_.push(P)}else if(S.lang==l){const P={userName:S.username,content:S.text,translations:[],startTextTs:S.startTextTs,textTs:S.textTs,time:S.startTextTs};(O=S.translations)==null||O.forEach(K=>{var M;if(s.includes(K.lang)){const U={lang:K.lang,text:K.text};(M=P.translations)==null||M.push(U)}}),_.push(P)}}),_.sort((S,w)=>Number(S.time)-Number(w.time))},[i,s,g,l,n]),y=_=>{var w;const S=((w=C.current)==null?void 0:w.scrollTop)??0;S<lastScrollTop&&B(!0),lastScrollTop=S};return reactExports.useEffect(()=>{var _;return(_=C.current)==null||_.addEventListener("scroll",y),()=>{var S;(S=C.current)==null||S.removeEventListener("scroll",y),lastScrollTop=0}},[C]),reactExports.useEffect(()=>{p||C.current&&(C.current.scrollTop=C.current.scrollHeight)},[Q,p]),jsxRuntimeExports.jsx("section",{className:styles$7.record,ref:C,children:Q.map((_,S)=>{var w;return jsxRuntimeExports.jsxs("div",{className:styles$7.item,children:[jsxRuntimeExports.jsx("div",{className:styles$7.left,children:jsxRuntimeExports.jsx(Avatar,{userName:_.userName})}),jsxRuntimeExports.jsxs("div",{className:styles$7.right,children:[jsxRuntimeExports.jsxs("div",{className:styles$7.up,children:[jsxRuntimeExports.jsx("div",{className:styles$7.userName,children:_.userName}),jsxRuntimeExports.jsx("div",{className:styles$7.time,children:formatTime2(_.time)})]}),jsxRuntimeExports.jsxs("div",{className:styles$7.bottom,children:[jsxRuntimeExports.jsx("div",{className:styles$7.content,children:_.content}),(w=_.translations)==null?void 0:w.map((O,P)=>jsxRuntimeExports.jsxs("div",{className:styles$7.translate,children:[jsxRuntimeExports.jsx("span",{className:styles$7.bold,children:`[${O==null?void 0:O.lang}]: `}),jsxRuntimeExports.jsx("span",{className:`${isArabic(O==null?void 0:O.lang)?styles$7.arabic:""}`,children:O==null?void 0:O.text})]},P))]})]})]},S)})})},content$2="_content_1izug_1",textTop$1="_textTop_1izug_4",textBottom$1="_textBottom_1izug_11",section$1="_section_1izug_17",text$2="_text_1izug_4",selectWrapper$1="_selectWrapper_1izug_26",btnWrapper$2="_btnWrapper_1izug_30",btn$3="_btn_1izug_30",styles$6={content:content$2,textTop:textTop$1,textBottom:textBottom$1,section:section$1,text:text$2,selectWrapper:selectWrapper$1,btnWrapper:btnWrapper$2,btn:btn$3},SELECT_TRANS_LANGUAGE_PLACEHOLDER="Please select a language to translate into",MAX_COUNT=2,LanguageShowDialog=t=>{const{open:e,onOk:n,onCancel:i}=t,s=useDispatch(),{t:g}=useTranslation(),l=useSelector(W=>W.global.languageSelect),C=useSelector(W=>W.global.recordLanguageSelect),{transcribe1:p,translate1List:B=[],transcribe2:Q,translate2List:y=[]}=l,{translate1List:_=[],translate2List:S=[]}=C,[w,O]=reactExports.useState(_),[P,K]=reactExports.useState(S);reactExports.useEffect(()=>{O(_),K(S)},[C]);const M=reactExports.useMemo(()=>{const W=[];return B.forEach(ae=>{const _r=LANGUAGE_OPTIONS.find(_t=>_t.value===ae);_r&&W.push({value:_r==null?void 0:_r.value,label:_r==null?void 0:_r.label})}),W},[B]),U=reactExports.useMemo(()=>{const W=[];return y.forEach(ae=>{const _r=LANGUAGE_OPTIONS.find(_t=>_t.value===ae);_r&&W.push({value:_r.value,label:_r.label})}),W},[y]),F=async()=>{s(setRecordLanguageSelect({translate1List:w,translate2List:P})),s(addMessage({content:g("setting.saveSuccess"),type:"success"})),n==null||n()};return jsxRuntimeExports.jsxs(Modal,{width:600,title:g("dialog.languageShow"),open:e,footer:null,onOk:n,onCancel:i,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.content,children:[jsxRuntimeExports.jsxs("div",{className:styles$6.section,children:[jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.text,style:{width:160},children:[g("setting.liveLanguage")," 1"]}),jsxRuntimeExports.jsxs("div",{className:styles$6.text,children:[g("setting.liveLanguage")," 1 - ",g("translationLanguage")]})]}),jsxRuntimeExports.jsx("div",{className:styles$6.selectWrapper,children:jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsx(Select,{value:p,disabled:!0,style:{width:160},options:LANGUAGE_OPTIONS}),jsxRuntimeExports.jsx(Select,{value:w,onChange:W=>{O(W)},allowClear:!0,disabled:!p,showSearch:!1,mode:"multiple",placeholder:SELECT_TRANS_LANGUAGE_PLACEHOLDER,maxCount:MAX_COUNT,style:{width:380},maxTagTextLength:10,options:M})]})})]}),jsxRuntimeExports.jsxs("div",{className:styles$6.section,children:[jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsxs("div",{className:styles$6.text,style:{width:160},children:[g("setting.liveLanguage")," 2"]}),jsxRuntimeExports.jsxs("div",{className:styles$6.text,children:[g("setting.liveLanguage")," 2 - ",g("translationLanguage")]})]}),jsxRuntimeExports.jsx("div",{className:styles$6.selectWrapper,children:jsxRuntimeExports.jsxs(Space,{children:[jsxRuntimeExports.jsx(Select,{value:Q,disabled:!0,allowClear:!0,style:{width:160},options:LANGUAGE_OPTIONS}),jsxRuntimeExports.jsx(Select,{value:P,onChange:W=>{K(W)},disabled:!Q,allowClear:!0,showSearch:!1,mode:"multiple",placeholder:SELECT_TRANS_LANGUAGE_PLACEHOLDER,maxCount:MAX_COUNT,style:{width:380},maxTagTextLength:10,options:U})]})})]})]}),jsxRuntimeExports.jsx("div",{className:styles$6.btnWrapper,children:jsxRuntimeExports.jsx("span",{className:styles$6.btn,onClick:F,children:g("confirm")})})]})},content$1="_content_1izug_1",textTop="_textTop_1izug_4",textBottom="_textBottom_1izug_11",section="_section_1izug_17",text$1="_text_1izug_4",selectWrapper="_selectWrapper_1izug_26",btnWrapper$1="_btnWrapper_1izug_30",btn$2="_btn_1izug_30",styles$5={content:content$1,textTop,textBottom,section,text:text$1,selectWrapper,btnWrapper:btnWrapper$1,btn:btn$2},genTranslateContentText=(t,e,n)=>{let i="";return e=="transcribe"?n.forEach(s=>{s.lang===t&&(i+=`${s.username}: ${s.text}
`)}):n.forEach(s=>{var g;(g=s.translations)==null||g.forEach(l=>{l.lang===t&&(i+=`${s.username}: ${l.text}
`)})}),i},LanguageStorageDialog=t=>{const e=useDispatch(),{open:n,onOk:i,onCancel:s}=t,{t:g}=useTranslation(),l=useSelector(W=>W.global.options),C=useSelector(W=>W.global.languageSelect),p=useSelector(W=>W.global.sttSubtitles),B=useSelector(W=>W.global.recordLanguageSelect),{transcribe1:Q,transcribe2:y}=C,{translate1List:_=[],translate2List:S=[]}=B,{channel:w}=l,[O,P]=reactExports.useState(),K=reactExports.useMemo(()=>{const W=[];if(Q){const ae=LANGUAGE_OPTIONS.find(_r=>_r.value===Q);W.push({value:ae==null?void 0:ae.value,label:"live: "+(ae==null?void 0:ae.label)})}if(y){const ae=LANGUAGE_OPTIONS.find(_r=>_r.value===y);W.push({value:ae==null?void 0:ae.value,label:"live: "+(ae==null?void 0:ae.label)})}return _.forEach(ae=>{const _r=LANGUAGE_OPTIONS.find(_t=>_t.value===ae);W.push({value:ae,label:"translate: "+(_r==null?void 0:_r.label)})}),S.forEach(ae=>{const _r=LANGUAGE_OPTIONS.find(_t=>_t.value===ae);W.find(_t=>_t.value===ae)||W.push({value:ae,label:"translate: "+(_r==null?void 0:_r.label)})}),W},[Q,y,_,S]),M=reactExports.useMemo(()=>O==Q||O==y?"transcribe":"translate",[Q,y,O]),U=async()=>{if(i==null||i(),O){const W=`${w}_${O}`,ae=genTranslateContentText(O,M,p);downloadText(`${W}.txt`,ae),e(addMessage({type:"success",content:g("storage.success")}))}},F=W=>{P(W)};return jsxRuntimeExports.jsxs(Modal,{width:600,title:g("dialog.languageExport"),open:n,footer:null,onOk:i,onCancel:s,children:[jsxRuntimeExports.jsxs("section",{className:styles$5.content,children:[jsxRuntimeExports.jsx("div",{className:styles$5.textTop,children:g("dialog.languageExportTip")}),jsxRuntimeExports.jsx("div",{className:styles$5.section,children:jsxRuntimeExports.jsx(Select,{value:O,onChange:F,style:{width:300},options:K})})]}),jsxRuntimeExports.jsx("div",{className:styles$5.btnWrapper,children:jsxRuntimeExports.jsx("span",{className:styles$5.btn,onClick:U,children:g("confirm")})})]})},header="_header_1r8d1_1",start="_start_1r8d1_7",text="_text_1r8d1_25",time="_time_1r8d1_31",btn$1="_btn_1r8d1_35",conversation="_conversation_1r8d1_51",styles$4={header,start,try:"_try_1r8d1_12",text,time,btn:btn$1,conversation},RecordHeader=t=>{useDispatch();const{t:e}=useTranslation(),n=useSelector(Q=>Q.global.sttData),[i,s]=reactExports.useState(0),g=reactExports.useRef(null),l=reactExports.useRef(null),C=useResizeObserver(g);reactExports.useEffect(()=>{l!=null&&l.current&&(C.width>=600?l.current.style.width="500px":C.width>=500&&(l.current.style.width="420px"))},[C]),reactExports.useEffect(()=>{let Q;return n.status=="start"&&(Q=setInterval(async()=>{if(n.startTime&&n.duration){const y=new Date().getTime(),_=Math.floor((n.startTime+n.duration-y)/1e3);s(_)}},1e3)),()=>{Q&&clearInterval(Q)}},[n]);const p=()=>{window.sttManager.extendDuration({startTime:new Date().getTime()})},B=()=>{var Q;(Q=t==null?void 0:t.onClickSetting)==null||Q.call(t)};return jsxRuntimeExports.jsx("section",{ref:g,className:styles$4.header,children:n.status=="start"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:styles$4.start,children:[jsxRuntimeExports.jsxs("div",{className:styles$4.try,ref:l,children:[jsxRuntimeExports.jsxs("span",{className:styles$4.text,children:[e("conversation.onTrial")," ",jsxRuntimeExports.jsx("span",{className:styles$4.time,children:formatTime(i)})," ",jsxRuntimeExports.jsx("span",{children:e("conversation.extendExperienceText")})]}),jsxRuntimeExports.jsx("span",{className:styles$4.btn,onClick:p,children:e("conversation.extendExperience")})]}),jsxRuntimeExports.jsx("div",{className:styles$4.setting,onClick:B,children:jsxRuntimeExports.jsx(SettingIcon,{})})]}),jsxRuntimeExports.jsx("div",{className:styles$4.conversation,children:e("conversation.sttStarted")})]}):jsxRuntimeExports.jsx("div",{className:styles$4.conversation,children:e("conversation.sttStopped")})})},dialogRecord="_dialogRecord_1lwuz_1",btnWrapper="_btnWrapper_1lwuz_12",btn="_btn_1lwuz_12",styles$3={dialogRecord,btnWrapper,btn},DialogueRecord=t=>{useDispatch();const{t:e}=useTranslation(),n=useSelector(p=>p.global.sttSubtitles),[i,s]=reactExports.useState(!1),[g,l]=reactExports.useState(!1),C=()=>{l(!0)};return jsxRuntimeExports.jsxs("div",{className:styles$3.dialogRecord,children:[jsxRuntimeExports.jsx(RecordHeader,{onClickSetting:()=>{s(!i)}}),jsxRuntimeExports.jsx(RecordContent,{}),n.length?jsxRuntimeExports.jsxs("div",{className:styles$3.btnWrapper,children:[null,jsxRuntimeExports.jsx("div",{className:styles$3.btn,onClick:C,children:e("storage.text")})]}):null,jsxRuntimeExports.jsx(LanguageShowDialog,{open:i,onCancel:()=>{s(!1)},onOk:()=>{s(!1)}}),jsxRuntimeExports.jsx(LanguageStorageDialog,{open:g,onCancel:()=>{l(!1)},onOk:()=>{l(!1)}})]})},menuContent="_menuContent_guql6_1",styles$2={menuContent},MenuContent=()=>{const t=useDispatch(),n=useSelector(g=>g.global.menuList)[0],i=reactExports.useRef(null),s=g=>{t(addMenuItem("AI")),setTimeout(()=>{var l;(l=i.current)==null||l.setConversation(g)},0)};return jsxRuntimeExports.jsx("div",{className:styles$2.menuContent,children:n==="AI"?jsxRuntimeExports.jsx(AiAssistant,{ref:i}):jsxRuntimeExports.jsx(DialogueRecord,{onExport:s})})},menu="_menu_1hyez_1",borderLeft="_borderLeft_1hyez_11",styles$1={menu,borderLeft};let menuWidth=0,startX=0,isDragging=!1;const Menu=()=>{const t=useSelector(p=>p.global.memberListShow),e=reactExports.useRef(null),n=reactExports.useRef(null),i=reactExports.useMemo(()=>{var p;return((p=n.current)==null?void 0:p.offsetWidth)??0},[n.current]),s=reactExports.useMemo(()=>window.innerWidth-(t?200:0)-200,[t]);reactExports.useEffect(()=>{if(e.current)return e.current.addEventListener("mousedown",g),document.addEventListener("mousemove",l),document.addEventListener("mouseup",C),()=>{var p;(p=e.current)==null||p.removeEventListener("mousedown",g),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",C)}},[s]);const g=p=>{startX=p.clientX,menuWidth=n.current.offsetWidth,isDragging=!0},l=p=>{if(isDragging){const B=i,Q=startX-p.clientX;let y=menuWidth+Q;y>s?y=s:y<B&&(y=B),n.current.style.width=`${y}px`}},C=()=>{isDragging=!1};return jsxRuntimeExports.jsxs("div",{className:styles$1.menu,ref:n,children:[jsxRuntimeExports.jsx("div",{className:styles$1.borderLeft,ref:e}),jsxRuntimeExports.jsx(MenuTitle,{}),jsxRuntimeExports.jsx(MenuContent,{})]})},homePage="_homePage_zbv3i_1",content="_content_zbv3i_9",left="_left_zbv3i_14",center="_center_zbv3i_17",right="_right_zbv3i_20",styles={homePage,content,left,center,right},rtcManager=new RtcManager,rtmManager=new RtmManager,sttManager=new SttManager({rtmManager});window.rtcManager=rtcManager;window.rtmManager=rtmManager;window.sttManager=sttManager;const HomePage=()=>{const t=useDispatch(),e=useNavigate(),{t:n}=useTranslation(),i=useMount(),{contextHolder:s}=useMessage(),g=useSelector(Uc=>Uc.global.localAudioMute),l=useSelector(Uc=>Uc.global.localVideoMute),C=useSelector(Uc=>Uc.global.userInfo),p=useSelector(Uc=>Uc.global.options),B=useSelector(Uc=>Uc.global.memberListShow),Q=useSelector(Uc=>Uc.global.dialogRecordShow),y=useSelector(Uc=>Uc.global.captionShow),_=useSelector(Uc=>Uc.global.aiShow),S=useSelector(Uc=>Uc.global.sttData),{userId:w,userName:O}=C,{channel:P}=p,[K,M]=reactExports.useState(),[U,F]=reactExports.useState([]),[W,ae]=reactExports.useState(new Map),[_r,_t]=reactExports.useState(C.userId);reactExports.useEffect(()=>(C.userId||(t(addMessage({content:"Please login first",type:"error"})),e("/")),ha(),()=>{fa()}),[]),reactExports.useEffect(()=>{let Uc;return S.status=="start"&&(Uc=setInterval(async()=>{const _E=new Date().getTime();if(S!=null&&S.startTime&&(S!=null&&S.duration)&&_E-(S==null?void 0:S.startTime)>(S==null?void 0:S.duration))return await window.sttManager.stopTranscription(),clearInterval(Uc)},5e3)),()=>{Uc&&clearInterval(Uc)}},[S]),reactExports.useEffect(()=>{i&&(S.status=="start"?(t(setRecordLanguageSelect({translate1List:[],translate2List:[]})),sttManager.setOption({taskId:S.taskId??"",token:S.token??""}),t(setSubtitles([])),t(addMessage({content:n("setting.sttStart"),type:"success"}))):S.status=="end"&&(sttManager.removeOption(),t(setCaptionShow(!1)),t(addMessage({content:n("setting.sttStop"),type:"success"}))))},[S.status]);const _A=reactExports.useMemo(()=>{const Uc=new Map;for(let _E=0;_E<U.length;_E++){const Bh=U[_E],_I=Number(Bh.userId);Uc.set(_I,{userId:_I,userName:Bh.userName})}return Uc.set(C.userId,{userId:C.userId,userName:C.userName}),Uc},[U,C]);reactExports.useEffect(()=>(window.rtmManager.on("userListChanged",ga),window.rtmManager.on("languagesChanged",Ka),window.rtmManager.on("sttDataChanged",Ra),window.rtcManager.on("localUserChanged",Da),window.rtcManager.on("remoteUserChanged",ma),window.rtcManager.on("textstreamReceived",$a),()=>{window.rtmManager.off("userListChanged",ga),window.rtmManager.off("languagesChanged",Ka),window.rtmManager.off("sttDataChanged",Ra),window.rtcManager.off("localUserChanged",Da),window.rtcManager.off("remoteUserChanged",ma),window.rtcManager.off("textstreamReceived",$a)}),[_A]),reactExports.useEffect(()=>{var Uc;(Uc=K==null?void 0:K.videoTrack)==null||Uc.setMuted(l)},[K==null?void 0:K.videoTrack,l]),reactExports.useEffect(()=>{var Uc;(Uc=K==null?void 0:K.audioTrack)==null||Uc.setMuted(g)},[K==null?void 0:K.audioTrack,g]);const na=reactExports.useMemo(()=>{const Uc=[];for(const _E of _A.values()){const Bh=_E.userId,_I=W.get(Bh),zf=Bh===_r,oQ=Bh===C.userId;Uc.push({userId:Bh,isLocal:oQ,order:zf?1e3:1,userName:_E.userName,videoTrack:oQ?K==null?void 0:K.videoTrack:_I==null?void 0:_I.videoTrack,audioTrack:oQ?K==null?void 0:K.audioTrack:_I==null?void 0:_I.audioTrack})}return Uc.sort((_E,Bh)=>Bh.order-_E.order)},[_A,C,K,_r,W]),oa=reactExports.useMemo(()=>na[0],[na]),ha=async()=>{await Promise.all([rtcManager.createTracks(),rtcManager.join({userId:w,channel:P}),sttManager.init({userId:w+"",userName:O,channel:P})]),await rtcManager.publish()},fa=async()=>{await Promise.all([rtcManager.destroy(),sttManager.destroy()]),t(reset())},Da=Uc=>{M(Uc),Uc.videoTrack&&t(setLocalVideoMute(!1)),Uc.audioTrack&&t(setLocalAudioMute(!1))},ga=Uc=>{console.log("[test] onRtmUserListChanged",Uc),F(Uc)},ma=Uc=>{ae(_E=>{const Bh=new Map(_E);return Bh.set(Number(Uc.userId),Uc),Bh})},Ra=Uc=>{console.log("[test] onSttDataChanged",Uc),t(setSttData(Uc))},$a=Uc=>{const _E=_A.get(Number(Uc.uid));t(updateSubtitles({textstream:Uc,username:(_E==null?void 0:_E.userName)||""}))},Ka=Uc=>{console.log("[test] onLanguagesChanged",Uc),t(setLanguageSelect(Uc))},_u=Uc=>{_t(Uc.userId)};return jsxRuntimeExports.jsxs("div",{className:styles.homePage,children:[s,jsxRuntimeExports.jsx(Header,{style:{flex:"0 0 48px"}}),jsxRuntimeExports.jsxs("section",{className:styles.content,children:[B?jsxRuntimeExports.jsx("div",{className:styles.left,children:jsxRuntimeExports.jsx(UserList,{data:na.slice(1),onClickItem:_u})}):null,jsxRuntimeExports.jsx("section",{className:styles.center,children:jsxRuntimeExports.jsx(CenterArea,{data:oa})}),Q||_?jsxRuntimeExports.jsx("section",{className:styles.right,children:jsxRuntimeExports.jsx(Menu,{})}):null]}),jsxRuntimeExports.jsx(Footer,{style:{flex:"0 0 80px"}}),jsxRuntimeExports.jsx(Caption,{visible:y})]})};export{HomePage as default};
